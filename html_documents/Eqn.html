<html lang="en">
<head>
<meta charset="utf-8"/>
<title offset="1942">Eqn</title>
<script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_SVG.js" type="text/javascript">
</script>
</head>
<body>
<h1>Eqn</h1>
<style>
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
  margin: 0; padding: 0; vertical-align: baseline; border: none; }
<style>
table.sourceCode { width: 100%; line-height: 100%; }
td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; color: #aaaaaa; border-right: 1px solid #aaaaaa; }
td.sourceCode { padding-left: 5px; }
code > span.kw { color: #007020; font-weight: bold; } /* Keyword */
code > span.dt { color: #902000; } /* DataType */
code > span.dv { color: #40a070; } /* DecVal */
code > span.bn { color: #40a070; } /* BaseN */
code > span.fl { color: #40a070; } /* Float */
code > span.ch { color: #4070a0; } /* Char */
code > span.st { color: #4070a0; } /* String */
code > span.co { color: #60a0b0; font-style: italic; } /* Comment */
code > span.ot { color: #007020; } /* Other */
code > span.al { color: #ff0000; font-weight: bold; } /* Alert */
code > span.fu { color: #06287e; } /* Function */
code > span.er { color: #ff0000; font-weight: bold; } /* Error */
code > span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
code > span.cn { color: #880000; } /* Constant */
code > span.sc { color: #4070a0; } /* SpecialChar */
code > span.vs { color: #4070a0; } /* VerbatimString */
code > span.ss { color: #bb6688; } /* SpecialString */
code > span.im { } /* Import */
code > span.va { color: #19177c; } /* Variable */
code > span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code > span.op { color: #666666; } /* Operator */
code > span.bu { } /* BuiltIn */
code > span.ex { } /* Extension */
code > span.pp { color: #bc7a00; } /* Preprocessor */
code > span.at { color: #7d9029; } /* Attribute */
code > span.do { color: #ba2121; font-style: italic; } /* Documentation */
code > span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code > span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code > span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
  </style>
</body></html>
<body>
<hr/>

<p>Part of the <a class="uri" href="troff" title="wikilink">troff</a> suite of <a class="uri" href="Unix" title="wikilink">Unix</a> document layout tools, <strong>eqn</strong> is a <a class="uri" href="preprocessor" title="wikilink">preprocessor</a> that formats equations for printing. A similar program, <strong>neqn</strong>, accepted the same input as eqn, but produced output tuned to look better in <a class="uri" href="nroff" title="wikilink">nroff</a>. The eqn program was created in 1974 by <a href="Brian_Kernighan" title="wikilink">Brian Kernighan</a> and <a href="Lorinda_Cherry" title="wikilink">Lorinda Cherry</a>.</p>

<p>The input language used by eqn allows the user to write mathematical expressions in much the same way as they would be spoken aloud. The language is defined by a <a href="context-free_grammar" title="wikilink">context-free grammar</a>, together with <a href="operator_precedence" title="wikilink">operator precedence</a> and <a href="operator_associativity" title="wikilink">operator associativity</a> rules. The eqn language is similar to the mathematical component of <a class="uri" href="TeX" title="wikilink">TeX</a>, which appeared several years later, but is simpler and less complete.</p>

<p>An independent compatible implementation of the eqn preprocessor has been developed by <a class="uri" href="GNU" title="wikilink">GNU</a> as part of <a href="groff_(software)" title="wikilink">groff</a>, the GNU version of troff. The GNU implementation extends the original language by adding a number of new <a href="keyword_(computer_programming)" title="wikilink">keywords</a> such as <em>smallover</em> and <em>accent</em>. <a class="uri" href="mandoc" title="wikilink">mandoc</a>, a specialised compiler for UNIX <a href="man_pages" title="wikilink">man pages</a>, also contains a standalone eqn parser/formatter.</p>
<h2 id="syntax-examples">Syntax examples</h2>

<p>Here is how some examples<a class="footnoteRef" href="#fn1" id="fnref1"><sup>1</sup></a> would be written in eqn (with equivalents in TeX for comparison):</p>
<table>
<thead>
<tr class="header">
<th style="text-align: left;">
<p>TeX</p></th>
<th style="text-align: left;">
<p>eqn</p></th>
<th style="text-align: left;">
<p>formula</p></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;"></td>
<td style="text-align: left;">
<p><code>a sup 2</code></p></td>
<td style="text-align: left;">
<p>

<math display="inline" id="Eqn:0">
 <semantics>
  <msup>
   <mi>a</mi>
   <mn>2</mn>
  </msup>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <csymbol cd="ambiguous">superscript</csymbol>
    <ci>a</ci>
    <cn type="integer">2</cn>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   a^{2}
  </annotation>
 </semantics>
</math>

</p></td>
</tr>
<tr class="even">
<td style="text-align: left;"></td>
<td style="text-align: left;">
<p><code>sum from { k = 1 } to N { k sup 2 }</code></p></td>
<td style="text-align: left;">
<p>

<math display="inline" id="Eqn:1">
 <semantics>
  <mrow>
   <msubsup>
    <mo largeop="true" symmetric="true">∑</mo>
    <mrow>
     <mi>k</mi>
     <mo>=</mo>
     <mn>1</mn>
    </mrow>
    <mi>N</mi>
   </msubsup>
   <msup>
    <mi>k</mi>
    <mn>2</mn>
   </msup>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <apply>
     <csymbol cd="ambiguous">superscript</csymbol>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <sum></sum>
      <apply>
       <eq></eq>
       <ci>k</ci>
       <cn type="integer">1</cn>
      </apply>
     </apply>
     <ci>N</ci>
    </apply>
    <apply>
     <csymbol cd="ambiguous">superscript</csymbol>
     <ci>k</ci>
     <cn type="integer">2</cn>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \sum_{k=1}^{N}k^{2}
  </annotation>
 </semantics>
</math>

</p></td>
</tr>
<tr class="odd">
<td style="text-align: left;"><div class="sourceCode"><pre class="sourceCode latex"><code class="sourceCode latex">$ x = {-b \pm \sqrt{b^2 - 4ac} \over 2a} $</code></pre></div></td>
<td style="text-align: left;">
<p><code>x={-b +- sqrt{b sup 2 – 4ac}} over 2a</code></p></td>
<td style="text-align: left;">
<p>

<math display="inline" id="Eqn:2">
 <semantics>
  <mrow>
   <mi>x</mi>
   <mo>=</mo>
   <mfrac>
    <mrow>
     <mrow>
      <mo>-</mo>
      <mi>b</mi>
     </mrow>
     <mo>±</mo>
     <msqrt>
      <mrow>
       <msup>
        <mi>b</mi>
        <mn>2</mn>
       </msup>
       <mo>-</mo>
       <mrow>
        <mn>4</mn>
        <mi>a</mi>
        <mi>c</mi>
       </mrow>
      </mrow>
     </msqrt>
    </mrow>
    <mrow>
     <mn>2</mn>
     <mi>a</mi>
    </mrow>
   </mfrac>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <ci>x</ci>
    <apply>
     <divide></divide>
     <apply>
      <csymbol cd="latexml">plus-or-minus</csymbol>
      <apply>
       <minus></minus>
       <ci>b</ci>
      </apply>
      <apply>
       <root></root>
       <apply>
        <minus></minus>
        <apply>
         <csymbol cd="ambiguous">superscript</csymbol>
         <ci>b</ci>
         <cn type="integer">2</cn>
        </apply>
        <apply>
         <times></times>
         <cn type="integer">4</cn>
         <ci>a</ci>
         <ci>c</ci>
        </apply>
       </apply>
      </apply>
     </apply>
     <apply>
      <times></times>
      <cn type="integer">2</cn>
      <ci>a</ci>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   x={-b\pm\sqrt{b^{2}-4ac}\over 2a}
  </annotation>
 </semantics>
</math>

</p></td>
</tr>
</tbody>
</table>

<p>Spaces are important in eqn; <a href="lexical_analysis#Token" title="wikilink">tokens</a> are delimited by <a href="whitespace_character" title="wikilink">whitespace characters</a>, tildes ~, braces {} and double-quotes "" only. Thus <code>f(pi r sup 2)</code> results in 

<math display="inline" id="Eqn:3">
 <semantics>
  <mrow>
   <mi>f</mi>
   <mrow>
    <mo stretchy="false">(</mo>
    <mi>p</mi>
    <mi>i</mi>
    <msup>
     <mi>r</mi>
     <mrow>
      <mn>2</mn>
      <mo stretchy="false">)</mo>
     </mrow>
    </msup>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <cerror>
    <csymbol cd="ambiguous">fragments</csymbol>
    <csymbol cd="unknown">f</csymbol>
    <cerror>
     <csymbol cd="ambiguous">fragments</csymbol>
     <ci>normal-(</ci>
     <csymbol cd="unknown">p</csymbol>
     <csymbol cd="unknown">i</csymbol>
     <apply>
      <csymbol cd="ambiguous">superscript</csymbol>
      <ci>r</ci>
      <cerror>
       <csymbol cd="ambiguous">fragments</csymbol>
       <cn type="integer">2</cn>
       <ci>normal-)</ci>
      </cerror>
     </apply>
    </cerror>
   </cerror>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \scriptstyle{f(pir^{2)}}
  </annotation>
 </semantics>
</math>

 whereas <code>f( pi r sup 2 )</code> is needed to give the intended 

<math display="inline" id="Eqn:4">
 <semantics>
  <mrow>
   <mi>f</mi>
   <mrow>
    <mo stretchy="false">(</mo>
    <mrow>
     <mi>π</mi>
     <msup>
      <mi>r</mi>
      <mn>2</mn>
     </msup>
    </mrow>
    <mo stretchy="false">)</mo>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <times></times>
    <ci>f</ci>
    <apply>
     <times></times>
     <ci>π</ci>
     <apply>
      <csymbol cd="ambiguous">superscript</csymbol>
      <ci>r</ci>
      <cn type="integer">2</cn>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \scriptstyle{f(\pi r^{2})}
  </annotation>
 </semantics>
</math>

.</p>
<h2 id="see-also">See also</h2>
<ul>
<li><a class="uri" href="troff" title="wikilink">troff</a></li>
</ul>
<h2 id="notes">Notes</h2>
<references>
</references>
<h2 id="references">References</h2>
<ul>
<li></li>
</ul>
<h2 id="external-links">External links</h2>
<ul>
<li><a href="http://www.kohala.com/start/troff/v7man/eqn/eqn2e.ps">Typesetting Mathematics, User's Guide (Second Edition)</a></li>
<li>[<a class="uri" href="http://www.uwm.edu/cgi-bin/IMT/wwwman?topic=neqn(1)&amp;msection">http://www.uwm.edu/cgi-bin/IMT/wwwman?topic=neqn(1)&amp;msection;</a>;= UNIX man page for neqn(1)]</li>
</ul>

<p>"</p>

<p><a href="Category:Troff" title="wikilink">eqn</a></p>
<section class="footnotes">
<hr/>
<ol>
<li id="fn1"><a class="uri" href="http://meta.wikimedia.org/wiki/Help:Formula">http://meta.wikimedia.org/wiki/Help:Formula</a><a href="#fnref1">↩</a></li>
</ol>
</section>
</body>

