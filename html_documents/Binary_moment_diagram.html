<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title offset="1054">Binary moment diagram</title>
   <script type="text/javascript"
      src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_SVG.js">
    </script>
</head>
<body>
<h1>Binary moment diagram</h1>
<hr/>
<p>A <strong>binary moment diagram (BMD)</strong> is a generalization of the <a href="binary_decision_diagram" title="wikilink">binary decision diagram</a> (BDD) to linear functions over domains such as booleans (like BDDs), but also to integers or to real numbers.</p>
<p>They can deal with boolean functions with complexity comparable to BDDs, but also some functions that are dealt with very inefficiently in a BDD are handled easily by BMD, most notably <a class="uri" href="multiplication" title="wikilink">multiplication</a>.</p>
<p>The most important properties of BMD is that, like with BDDs, each function has exactly one canonical representation, and many operations can be efficiently performed on these representations.</p>
<p>The main features that differentiate BMDs from BDDs are using linear instead of pointwise diagrams, and having weighted edges.</p>
<p>The rules that ensure the canonicity of the representation are:</p>
<ul>
<li>Decision over variables higher in the ordering may only point to decisions over variables lower in the ordering.</li>
<li>No two nodes may be identical (in normalization such nodes all references to one of these nodes should be replaced be references to another)</li>
<li>No node may have all decision parts equivalent to 0 (links to such nodes should be replaced by links to their always part)</li>
<li>No edge may have weight zero (all such edges should be replaced by direct links to 0)</li>
<li>Weights of the edges should be <a class="uri" href="coprime" title="wikilink">coprime</a>. Without this rule or some equivalent of it, it would be possible for a function to have many representations, for example 2<em>x</em> + 2 could be represented as 2 · (1 + <em>x</em>) or 1 · (2 + 2<em>x</em>).</li>
</ul>
<h2 id="pointwise-and-linear-decomposition">Pointwise and linear decomposition</h2>
<p>In pointwise decomposition, like in BDDs, on each branch point we store result of all branches separately. An example of such decomposition for an integer function (2<em>x</em> + <em>y</em>) is:</p>
<p><span class="LaTeX">$$\begin{cases} \text{if } x
\begin{cases}
 \text{if } y , 3
\\
 \text{if } \neg y , 2
\end{cases}
\\ 
 \text{if } \neg x
\begin{cases}
 \text{if } y \text{ , } 1
\\
 \text{if } \neg y \text{ , } 0
\end{cases}
\end{cases}$$</span></p>
<p>In linear decomposition we provide instead a default value and a difference:</p>
<p><span class="LaTeX">$$\begin{cases}
\text{always} 
\begin{cases}
\text{always } 0 \\
\text{if } y , +1
\end{cases}
\\
\text{if } x , +2
\end{cases}$$</span></p>
<p>It can easily be seen that the latter (linear) representation is much more efficient in case of additive functions, as when we add many elements the latter representation will have only O(<em>n</em>) elements, while the former (pointwise), even with sharing, exponentially many.</p>
<h2 id="edge-weights">Edge weights</h2>
<p>Another extension is using weights for edges. A value of function at given node is a sum of the true nodes below it (the node under always, and possibly the decided node) times the edges' weights.</p>
<p>For example <span class="LaTeX">$(4x_2 + 2x_1 + x_0) (4y_2 + 2y_1 + y_0)$</span> can be represented as:</p>
<ol>
<li>Result node, always 1× value of node 2, if <span class="LaTeX">$x_2$</span> add 4× value of node 4</li>
<li>Always 1× value of node 3, if <span class="LaTeX">$x_1$</span> add 2× value of node 4</li>
<li>Always 0, if <span class="LaTeX">$x_0$</span> add 1× value of node 4</li>
<li>Always 1× value of node 5, if <span class="LaTeX">$y_2$</span> add +4</li>
<li>Always 1× value of node 6, if <span class="LaTeX">$y_1$</span> add +2</li>
<li>Always 0, if <span class="LaTeX">$y_0$</span> add +1</li>
</ol>
<p>Without weighted nodes a much more complex representation would be required:</p>
<ol>
<li>Result node, always value of node 2, if <span class="LaTeX">$x_2$</span> value of node 4</li>
<li>Always value of node 3, if <span class="LaTeX">$x_1$</span> value of node 7</li>
<li>Always 0, if <span class="LaTeX">$x_0$</span> value of node 10</li>
<li>Always value of node 5, if <span class="LaTeX">$y_2$</span> add +16</li>
<li>Always value of node 6, if <span class="LaTeX">$y_1$</span> add +8</li>
<li>Always 0, if <span class="LaTeX">$y_0$</span> add +4</li>
<li>Always value of node 8, if <span class="LaTeX">$y_2$</span> add +8</li>
<li>Always value of node 9, if <span class="LaTeX">$y_1$</span> add +4</li>
<li>Always 0, if <span class="LaTeX">$y_0$</span> add +2</li>
<li>Always value of node 11, if <span class="LaTeX">$y_2$</span> add +4</li>
<li>Always value of node 12, if <span class="LaTeX">$y_1$</span> add +2</li>
<li>Always 0, if <span class="LaTeX">$y_0$</span> add +1</li>
</ol>
<h2 id="references">References</h2>
<ul>
<li></li>
</ul>
<p>"</p>
<p><a href="Category:Graph_data_structures" title="wikilink">Category:Graph data structures</a> <a href="Category:Formal_methods" title="wikilink">Category:Formal methods</a></p>
</body>
</html>
