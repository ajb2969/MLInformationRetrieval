<html lang="en">
<head>
<meta charset="utf-8"/>
<title offset="1979">Barrel shifter</title>
<script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_SVG.js" type="text/javascript">
</script>
</head>
<body>
<h1>Barrel shifter</h1>
<hr/>
<figure><b>(Figure)</b>
<figcaption>Schematic of a 4-bit crossbar barrel shifter. <em>x</em> denotes input bits and <em>y</em> denotes output bits.</figcaption>
</figure>

<p>A <strong>barrel shifter</strong> is a <a href="digital_circuit" title="wikilink">digital circuit</a> that can <a href="Bit_shift" title="wikilink">shift</a> a <a href="Word_(data_type)" title="wikilink">data word</a> by a specified number of <a href="bit" title="wikilink">bits</a> in one <a href="clock_cycle" title="wikilink">clock cycle</a>. It can be implemented as a sequence of <a href="multiplexer" title="wikilink">multiplexers</a> (mux.), and in such an implementation the output of one mux is connected to the input of the next mux in a way that depends on the shift distance.</p>

<p>For example, take a four-bit barrel shifter, with inputs A, B, C and D. The shifter can cycle the order of the bits <em>ABCD</em> as <em>DABC</em>, <em>CDAB</em>, or <em>BCDA</em>; in this case, no bits are lost. That is, it can shift all of the outputs up to three positions to the right (and thus make any cyclic combination of A, B, C and D). The barrel shifter has a variety of applications, including being a useful component in <a href="microprocessor" title="wikilink">microprocessors</a> (alongside the <a href="Arithmetic_logic_unit" title="wikilink">ALU</a>).</p>
<h2 id="implementation">Implementation</h2>

<p>A barrel shifter is often implemented as a cascade of parallel 2×1 multiplexers. For a 8-bit barrel shifter, two intermediate signals are used which shifts by four and two bits, or passes the same data, based on the value of S[2] and S[1]. This signal is then shifted by another multiplexer, which is controlled by S[0]:</p>

<p><code> int1  = IN       , if S[2] == 0</code><br/>
<code>       = IN   </code><code>\scriptstyle n\log_2n</code><code>.</code><a class="footnoteRef" href="#fn1" id="fnref1"><sup>1</sup></a><code>  Five common </code><a href="word_size" title="wikilink"><code>word</code> <code>sizes</code></a><code> and the number of multiplexers needed are listed below:</code></p>
<ul>
<li>128-bit — 

<math display="inline" id="Barrel_shifter:0">
 <semantics>
  <mrow>
   <mrow>
    <mn>128</mn>
    <mo>×</mo>
    <mrow>
     <msub>
      <mi>log</mi>
      <mn>2</mn>
     </msub>
     <mrow>
      <mo stretchy="false">(</mo>
      <mn>128</mn>
      <mo stretchy="false">)</mo>
     </mrow>
    </mrow>
   </mrow>
   <mo>=</mo>
   <mrow>
    <mn>128</mn>
    <mo>×</mo>
    <mn>7</mn>
   </mrow>
   <mo>=</mo>
   <mn>896</mn>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <and></and>
    <apply>
     <eq></eq>
     <apply>
      <times></times>
      <cn type="integer">128</cn>
      <apply>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <log></log>
        <cn type="integer">2</cn>
       </apply>
       <cn type="integer">128</cn>
      </apply>
     </apply>
     <apply>
      <times></times>
      <cn type="integer">128</cn>
      <cn type="integer">7</cn>
     </apply>
    </apply>
    <apply>
     <eq></eq>
     <share href="#.cmml">
     </share>
     <cn type="integer">896</cn>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \scriptstyle 128\times\log_{2}(128)=128\times 7=896
  </annotation>
 </semantics>
</math>

</li>
<li>64-bit — 

<math display="inline" id="Barrel_shifter:1">
 <semantics>
  <mrow>
   <mrow>
    <mn>64</mn>
    <mo>×</mo>
    <mrow>
     <msub>
      <mi>log</mi>
      <mn>2</mn>
     </msub>
     <mrow>
      <mo stretchy="false">(</mo>
      <mn>64</mn>
      <mo stretchy="false">)</mo>
     </mrow>
    </mrow>
   </mrow>
   <mo>=</mo>
   <mrow>
    <mn>64</mn>
    <mo>×</mo>
    <mn>6</mn>
   </mrow>
   <mo>=</mo>
   <mn>384</mn>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <and></and>
    <apply>
     <eq></eq>
     <apply>
      <times></times>
      <cn type="integer">64</cn>
      <apply>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <log></log>
        <cn type="integer">2</cn>
       </apply>
       <cn type="integer">64</cn>
      </apply>
     </apply>
     <apply>
      <times></times>
      <cn type="integer">64</cn>
      <cn type="integer">6</cn>
     </apply>
    </apply>
    <apply>
     <eq></eq>
     <share href="#.cmml">
     </share>
     <cn type="integer">384</cn>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \scriptstyle 64\times\log_{2}(64)=64\times 6=384
  </annotation>
 </semantics>
</math>

</li>
<li>32-bit — 

<math display="inline" id="Barrel_shifter:2">
 <semantics>
  <mrow>
   <mrow>
    <mn>32</mn>
    <mo>×</mo>
    <mrow>
     <msub>
      <mi>log</mi>
      <mn>2</mn>
     </msub>
     <mrow>
      <mo stretchy="false">(</mo>
      <mn>32</mn>
      <mo stretchy="false">)</mo>
     </mrow>
    </mrow>
   </mrow>
   <mo>=</mo>
   <mrow>
    <mn>32</mn>
    <mo>×</mo>
    <mn>5</mn>
   </mrow>
   <mo>=</mo>
   <mn>160</mn>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <and></and>
    <apply>
     <eq></eq>
     <apply>
      <times></times>
      <cn type="integer">32</cn>
      <apply>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <log></log>
        <cn type="integer">2</cn>
       </apply>
       <cn type="integer">32</cn>
      </apply>
     </apply>
     <apply>
      <times></times>
      <cn type="integer">32</cn>
      <cn type="integer">5</cn>
     </apply>
    </apply>
    <apply>
     <eq></eq>
     <share href="#.cmml">
     </share>
     <cn type="integer">160</cn>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \scriptstyle 32\times\log_{2}(32)=32\times 5=160
  </annotation>
 </semantics>
</math>

</li>
<li>16-bit — 

<math display="inline" id="Barrel_shifter:3">
 <semantics>
  <mrow>
   <mrow>
    <mn>16</mn>
    <mo>×</mo>
    <mrow>
     <msub>
      <mi>log</mi>
      <mn>2</mn>
     </msub>
     <mrow>
      <mo stretchy="false">(</mo>
      <mn>16</mn>
      <mo stretchy="false">)</mo>
     </mrow>
    </mrow>
   </mrow>
   <mo>=</mo>
   <mrow>
    <mn>16</mn>
    <mo>×</mo>
    <mn>4</mn>
   </mrow>
   <mo>=</mo>
   <mn>64</mn>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <and></and>
    <apply>
     <eq></eq>
     <apply>
      <times></times>
      <cn type="integer">16</cn>
      <apply>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <log></log>
        <cn type="integer">2</cn>
       </apply>
       <cn type="integer">16</cn>
      </apply>
     </apply>
     <apply>
      <times></times>
      <cn type="integer">16</cn>
      <cn type="integer">4</cn>
     </apply>
    </apply>
    <apply>
     <eq></eq>
     <share href="#.cmml">
     </share>
     <cn type="integer">64</cn>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \scriptstyle 16\times\log_{2}(16)=16\times 4=64
  </annotation>
 </semantics>
</math>

</li>
<li>8-bit — 

<math display="inline" id="Barrel_shifter:4">
 <semantics>
  <mrow>
   <mrow>
    <mn>8</mn>
    <mo>×</mo>
    <mrow>
     <msub>
      <mi>log</mi>
      <mn>2</mn>
     </msub>
     <mrow>
      <mo stretchy="false">(</mo>
      <mn>8</mn>
      <mo stretchy="false">)</mo>
     </mrow>
    </mrow>
   </mrow>
   <mo>=</mo>
   <mrow>
    <mn>8</mn>
    <mo>×</mo>
    <mn>3</mn>
   </mrow>
   <mo>=</mo>
   <mn>24</mn>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <and></and>
    <apply>
     <eq></eq>
     <apply>
      <times></times>
      <cn type="integer">8</cn>
      <apply>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <log></log>
        <cn type="integer">2</cn>
       </apply>
       <cn type="integer">8</cn>
      </apply>
     </apply>
     <apply>
      <times></times>
      <cn type="integer">8</cn>
      <cn type="integer">3</cn>
     </apply>
    </apply>
    <apply>
     <eq></eq>
     <share href="#.cmml">
     </share>
     <cn type="integer">24</cn>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \scriptstyle 8\times\log_{2}(8)=8\times 3=24
  </annotation>
 </semantics>
</math>

</li>
</ul>

<p>Cost of critical path in <a class="uri" href="FO4" title="wikilink">FO4</a> (estimated, without wire delay):</p>
<ul>
<li>32-bit: from 18 FO4 to 14 FO4<a class="footnoteRef" href="#fn2" id="fnref2"><sup>2</sup></a></li>
</ul>
<h2 id="uses">Uses</h2>

<p>A common usage of a barrel shifter is in the hardware implementation of <a class="uri" href="floating-point" title="wikilink">floating-point</a> arithmetic. For a floating-point add or subtract operation, the <a href="significand" title="wikilink">significands</a> of the two numbers must be aligned, which requires shifting the smaller number to the right, increasing its <a class="uri" href="exponent" title="wikilink">exponent</a>, until it matches the exponent of the larger number. This is done by subtracting the exponents, and using the barrel shifter to shift the smaller number to the right by the difference, in one cycle. If a simple shifter were used, shifting by <em>n</em> bit positions would require <em>n</em> clock cycles.</p>
<h2 id="see-also">See also</h2>
<ul>
<li><a href="Circular_shift" title="wikilink">Circular shift</a></li>
</ul>
<h2 id="references">References</h2>
<h2 id="external-links">External links</h2>
<ul>
<li><a href="http://tams-www.informatik.uni-hamburg.de/applets/hades/webdemos/10-gates/60-barrel/shifter8.html">University of Hamburg</a> for a useful Java Barrel shifter.</li>
<li><a href="http://www.xilinx.com/support/documentation/application_notes/xapp195.pdf">Xilinx Application Note</a> Implementation of Barrel shifter using Xilinx FPGAs.</li>
</ul>
<h2 id="further-reading">Further reading</h2>
<ul>
<li></li>
</ul>

<p>"</p>

<p><a href="Category:Digital_circuits" title="wikilink">Category:Digital circuits</a> <a href="Category:Binary_arithmetic" title="wikilink">Category:Binary arithmetic</a> <a href="Category:Computer_arithmetic" title="wikilink">Category:Computer arithmetic</a></p>
<section class="footnotes">
<hr/>
<ol>
<li id="fn1"><a href="#fnref1">↩</a></li>
<li id="fn2"><a class="uri" href="http://www.realworldtech.com/page.cfm?ArticleID=RWT081502231107&amp;p">http://www.realworldtech.com/page.cfm?ArticleID=RWT081502231107&amp;p;</a>;=4<a href="#fnref2">↩</a></li>
</ol>
</section>
</body>
</html>
