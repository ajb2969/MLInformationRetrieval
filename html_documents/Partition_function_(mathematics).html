<html lang="en">
<head>
<meta charset="utf-8"/>
<title offset="322">Partition function (mathematics)</title>
<script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_SVG.js" type="text/javascript">
</script>
</head>
<body>
<h1>Partition function (mathematics)</h1>
<hr/>

<p>The <strong>partition function</strong> or <strong>configuration integral</strong>, as used in <a href="probability_theory" title="wikilink">probability theory</a>, <a href="information_theory" title="wikilink">information theory</a> and <a href="dynamical_systems" title="wikilink">dynamical systems</a>, is a generalization of the definition of a <a href="partition_function_in_statistical_mechanics" title="wikilink">partition function in statistical mechanics</a>. It is a special case of a <a href="normalizing_constant" title="wikilink">normalizing constant</a> in probability theory, for the <a href="Boltzmann_distribution" title="wikilink">Boltzmann distribution</a>. The partition function occurs in many problems of probability theory because, in situations where there is a natural symmetry, its associated <a href="probability_measure" title="wikilink">probability measure</a>, the <a href="Gibbs_measure" title="wikilink">Gibbs measure</a>, has the <a href="Markov_property" title="wikilink">Markov property</a>. This means that the partition function occurs not only in physical systems with translation symmetry, but also in such varied settings as neural networks (the <a href="Hopfield_network" title="wikilink">Hopfield network</a>), and applications such as <a class="uri" href="genomics" title="wikilink">genomics</a>, <a href="corpus_linguistics" title="wikilink">corpus linguistics</a> and <a href="artificial_intelligence" title="wikilink">artificial intelligence</a>, which employ <a href="Markov_network" title="wikilink">Markov networks</a>, and <a href="Markov_logic_network" title="wikilink">Markov logic networks</a>. The Gibbs measure is also the unique measure that has the property of maximizing the <a href="entropy_(general_concept)" title="wikilink">entropy</a> for a fixed expectation value of the energy; this underlies the appearance of the partition function in <a href="maximum_entropy_method" title="wikilink">maximum entropy methods</a> and the algorithms derived therefrom.</p>

<p>The partition function ties together many different concepts, and thus offers a general framework in which many different kinds of quantities may be calculated. In particular, it shows how to calculate <a href="expectation_value" title="wikilink">expectation values</a> and <a href="Green's_function" title="wikilink">Green's functions</a>, forming a bridge to <a href="Fredholm_theory" title="wikilink">Fredholm theory</a>. It also provides a natural setting for the <a href="information_geometry" title="wikilink">information geometry</a> approach to information theory, where the <a href="Fisher_information_metric" title="wikilink">Fisher information metric</a> can be understood to be a <a href="correlation_function" title="wikilink">correlation function</a> derived from the partition function; it happens to define a <a href="Riemannian_manifold" title="wikilink">Riemannian manifold</a>.</p>

<p>When the setting for random variables is on <a href="complex_projective_space" title="wikilink">complex projective space</a> or <a href="projective_Hilbert_space" title="wikilink">projective Hilbert space</a>, geometrized with the <a href="Fubini–Study_metric" title="wikilink">Fubini–Study metric</a>, the theory of <a href="quantum_mechanics" title="wikilink">quantum mechanics</a> and more generally <a href="quantum_field_theory" title="wikilink">quantum field theory</a> results. In these theories, the partition function is heavily exploited in the <a href="path_integral_formulation" title="wikilink">path integral formulation</a>, with great success, leading to many formulas nearly identical to those reviewed here. However, because the underlying measure space is complex-valued, as opposed to the real-valued <a class="uri" href="simplex" title="wikilink">simplex</a> of probability theory, an extra factor of <em>i</em> appears in many formulas. Tracking this factor is troublesome, and is not done here. This article focuses primarily on classical probability theory, where the sum of probabilities total to one.</p>
<h2 id="definition">Definition</h2>

<p>Given a set of <a href="random_variables" title="wikilink">random variables</a> 

<math display="inline" id="Partition_function_(mathematics):0">
 <semantics>
  <msub>
   <mi>X</mi>
   <mi>i</mi>
  </msub>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <csymbol cd="ambiguous">subscript</csymbol>
    <ci>X</ci>
    <ci>i</ci>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   X_{i}
  </annotation>
 </semantics>
</math>

 taking on values 

<math display="inline" id="Partition_function_(mathematics):1">
 <semantics>
  <msub>
   <mi>x</mi>
   <mi>i</mi>
  </msub>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <csymbol cd="ambiguous">subscript</csymbol>
    <ci>x</ci>
    <ci>i</ci>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   x_{i}
  </annotation>
 </semantics>
</math>

, and some sort of <a href="potential_function" title="wikilink">potential function</a> or <a href="Hamiltonian_function" title="wikilink">Hamiltonian</a> 

<math display="inline" id="Partition_function_(mathematics):2">
 <semantics>
  <mrow>
   <mi>H</mi>
   <mrow>
    <mo stretchy="false">(</mo>
    <msub>
     <mi>x</mi>
     <mn>1</mn>
    </msub>
    <mo>,</mo>
    <msub>
     <mi>x</mi>
     <mn>2</mn>
    </msub>
    <mo>,</mo>
    <mi mathvariant="normal">…</mi>
    <mo stretchy="false">)</mo>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <times></times>
    <ci>H</ci>
    <vector>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <ci>x</ci>
      <cn type="integer">1</cn>
     </apply>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <ci>x</ci>
      <cn type="integer">2</cn>
     </apply>
     <ci>normal-…</ci>
    </vector>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   H(x_{1},x_{2},\dots)
  </annotation>
 </semantics>
</math>

, the partition function is defined as</p>

<p>

<math display="block" id="Partition_function_(mathematics):3">
 <semantics>
  <mrow>
   <mrow>
    <mi>Z</mi>
    <mrow>
     <mo stretchy="false">(</mo>
     <mi>β</mi>
     <mo stretchy="false">)</mo>
    </mrow>
   </mrow>
   <mo>=</mo>
   <mrow>
    <munder>
     <mo largeop="true" movablelimits="false" symmetric="true">∑</mo>
     <msub>
      <mi>x</mi>
      <mi>i</mi>
     </msub>
    </munder>
    <mrow>
     <mi>exp</mi>
     <mrow>
      <mo>(</mo>
      <mrow>
       <mo>-</mo>
       <mrow>
        <mi>β</mi>
        <mi>H</mi>
        <mrow>
         <mo stretchy="false">(</mo>
         <msub>
          <mi>x</mi>
          <mn>1</mn>
         </msub>
         <mo>,</mo>
         <msub>
          <mi>x</mi>
          <mn>2</mn>
         </msub>
         <mo>,</mo>
         <mi mathvariant="normal">…</mi>
         <mo stretchy="false">)</mo>
        </mrow>
       </mrow>
      </mrow>
      <mo>)</mo>
     </mrow>
    </mrow>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <times></times>
     <ci>Z</ci>
     <ci>β</ci>
    </apply>
    <apply>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <sum></sum>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>x</ci>
       <ci>i</ci>
      </apply>
     </apply>
     <apply>
      <exp></exp>
      <apply>
       <minus></minus>
       <apply>
        <times></times>
        <ci>β</ci>
        <ci>H</ci>
        <vector>
         <apply>
          <csymbol cd="ambiguous">subscript</csymbol>
          <ci>x</ci>
          <cn type="integer">1</cn>
         </apply>
         <apply>
          <csymbol cd="ambiguous">subscript</csymbol>
          <ci>x</ci>
          <cn type="integer">2</cn>
         </apply>
         <ci>normal-…</ci>
        </vector>
       </apply>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   Z(\beta)=\sum_{x_{i}}\exp\left(-\beta H(x_{1},x_{2},\dots)\right)
  </annotation>
 </semantics>
</math>

</p>

<p>The function <em>H</em> is understood to be a real-valued function on the space of states 

<math display="inline" id="Partition_function_(mathematics):4">
 <semantics>
  <mrow>
   <mo stretchy="false">{</mo>
   <msub>
    <mi>X</mi>
    <mn>1</mn>
   </msub>
   <mo>,</mo>
   <msub>
    <mi>X</mi>
    <mn>2</mn>
   </msub>
   <mo>,</mo>
   <mi mathvariant="normal">⋯</mi>
   <mo stretchy="false">}</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <set>
    <apply>
     <csymbol cd="ambiguous">subscript</csymbol>
     <ci>X</ci>
     <cn type="integer">1</cn>
    </apply>
    <apply>
     <csymbol cd="ambiguous">subscript</csymbol>
     <ci>X</ci>
     <cn type="integer">2</cn>
    </apply>
    <ci>normal-⋯</ci>
   </set>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \{X_{1},X_{2},\cdots\}
  </annotation>
 </semantics>
</math>

, while 

<math display="inline" id="Partition_function_(mathematics):5">
 <semantics>
  <mi>β</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>β</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \beta
  </annotation>
 </semantics>
</math>

 is a real-valued free parameter (conventionally, the <a href="inverse_temperature" title="wikilink">inverse temperature</a>). The sum over the 

<math display="inline" id="Partition_function_(mathematics):6">
 <semantics>
  <msub>
   <mi>x</mi>
   <mi>i</mi>
  </msub>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <csymbol cd="ambiguous">subscript</csymbol>
    <ci>x</ci>
    <ci>i</ci>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   x_{i}
  </annotation>
 </semantics>
</math>

 is understood to be a sum over all possible values that each of the random variables 

<math display="inline" id="Partition_function_(mathematics):7">
 <semantics>
  <msub>
   <mi>X</mi>
   <mi>i</mi>
  </msub>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <csymbol cd="ambiguous">subscript</csymbol>
    <ci>X</ci>
    <ci>i</ci>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   X_{i}
  </annotation>
 </semantics>
</math>

 may take. Thus, the sum is to be replaced by an <a class="uri" href="integral" title="wikilink">integral</a> when the 

<math display="inline" id="Partition_function_(mathematics):8">
 <semantics>
  <msub>
   <mi>X</mi>
   <mi>i</mi>
  </msub>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <csymbol cd="ambiguous">subscript</csymbol>
    <ci>X</ci>
    <ci>i</ci>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   X_{i}
  </annotation>
 </semantics>
</math>

 are continuous, rather than discrete. Thus, one writes</p>

<p>

<math display="block" id="Partition_function_(mathematics):9">
 <semantics>
  <mrow>
   <mrow>
    <mi>Z</mi>
    <mrow>
     <mo stretchy="false">(</mo>
     <mi>β</mi>
     <mo stretchy="false">)</mo>
    </mrow>
   </mrow>
   <mo>=</mo>
   <mrow>
    <mo largeop="true" symmetric="true">∫</mo>
    <mrow>
     <mrow>
      <mi>exp</mi>
      <mrow>
       <mo>(</mo>
       <mrow>
        <mo>-</mo>
        <mrow>
         <mi>β</mi>
         <mi>H</mi>
         <mrow>
          <mo stretchy="false">(</mo>
          <msub>
           <mi>x</mi>
           <mn>1</mn>
          </msub>
          <mo>,</mo>
          <msub>
           <mi>x</mi>
           <mn>2</mn>
          </msub>
          <mo>,</mo>
          <mi mathvariant="normal">…</mi>
          <mo stretchy="false">)</mo>
         </mrow>
        </mrow>
       </mrow>
       <mo>)</mo>
      </mrow>
     </mrow>
     <mi>d</mi>
     <msub>
      <mi>x</mi>
      <mn>1</mn>
     </msub>
     <mi>d</mi>
     <msub>
      <mi>x</mi>
      <mn>2</mn>
     </msub>
     <mi mathvariant="normal">⋯</mi>
    </mrow>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <times></times>
     <ci>Z</ci>
     <ci>β</ci>
    </apply>
    <apply>
     <int></int>
     <apply>
      <times></times>
      <apply>
       <exp></exp>
       <apply>
        <minus></minus>
        <apply>
         <times></times>
         <ci>β</ci>
         <ci>H</ci>
         <vector>
          <apply>
           <csymbol cd="ambiguous">subscript</csymbol>
           <ci>x</ci>
           <cn type="integer">1</cn>
          </apply>
          <apply>
           <csymbol cd="ambiguous">subscript</csymbol>
           <ci>x</ci>
           <cn type="integer">2</cn>
          </apply>
          <ci>normal-…</ci>
         </vector>
        </apply>
       </apply>
      </apply>
      <ci>d</ci>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>x</ci>
       <cn type="integer">1</cn>
      </apply>
      <ci>d</ci>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>x</ci>
       <cn type="integer">2</cn>
      </apply>
      <ci>normal-⋯</ci>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   Z(\beta)=\int\exp\left(-\beta H(x_{1},x_{2},\dots)\right)dx_{1}dx_{2}\cdots
  </annotation>
 </semantics>
</math>

</p>

<p>for the case of continuously-varying 

<math display="inline" id="Partition_function_(mathematics):10">
 <semantics>
  <msub>
   <mi>X</mi>
   <mi>i</mi>
  </msub>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <csymbol cd="ambiguous">subscript</csymbol>
    <ci>X</ci>
    <ci>i</ci>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   X_{i}
  </annotation>
 </semantics>
</math>

.</p>

<p>When <em>H</em> is an <a class="uri" href="observable" title="wikilink">observable</a>, such as a finite-dimensional <a href="matrix_(mathematics)" title="wikilink">matrix</a> or an infinite-dimensional <a href="Hilbert_space" title="wikilink">Hilbert space</a> <a href="operator_(mathematics)" title="wikilink">operator</a> or element of a <a href="C-star_algebra" title="wikilink">C-star algebra</a>, it is common to express the summation as a <a href="trace_(linear_algebra)" title="wikilink">trace</a>, so that</p>

<p>

<math display="block" id="Partition_function_(mathematics):11">
 <semantics>
  <mrow>
   <mrow>
    <mi>Z</mi>
    <mrow>
     <mo stretchy="false">(</mo>
     <mi>β</mi>
     <mo stretchy="false">)</mo>
    </mrow>
   </mrow>
   <mo>=</mo>
   <mrow>
    <mtext>tr</mtext>
    <mrow>
     <mo>(</mo>
     <mrow>
      <mi>exp</mi>
      <mrow>
       <mo>(</mo>
       <mrow>
        <mo>-</mo>
        <mrow>
         <mi>β</mi>
         <mi>H</mi>
        </mrow>
       </mrow>
       <mo>)</mo>
      </mrow>
     </mrow>
     <mo>)</mo>
    </mrow>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <times></times>
     <ci>Z</ci>
     <ci>β</ci>
    </apply>
    <apply>
     <times></times>
     <mtext>tr</mtext>
     <apply>
      <exp></exp>
      <apply>
       <minus></minus>
       <apply>
        <times></times>
        <ci>β</ci>
        <ci>H</ci>
       </apply>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   Z(\beta)=\mbox{tr}\left(\exp\left(-\beta H\right)\right)
  </annotation>
 </semantics>
</math>

</p>

<p>When <em>H</em> is infinite-dimensional, then, for the above notation to be valid, the argument must be <a href="trace_class" title="wikilink">trace class</a>, that is, of a form such that the summation exists and is bounded.</p>

<p>The number of variables 

<math display="inline" id="Partition_function_(mathematics):12">
 <semantics>
  <msub>
   <mi>X</mi>
   <mi>i</mi>
  </msub>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <csymbol cd="ambiguous">subscript</csymbol>
    <ci>X</ci>
    <ci>i</ci>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   X_{i}
  </annotation>
 </semantics>
</math>

 need not be <a class="uri" href="countable" title="wikilink">countable</a>, in which case the sums are to be replaced by <a href="functional_integral" title="wikilink">functional integrals</a>. Although there are many notations for functional integrals, a common one would be</p>

<p>

<math display="block" id="Partition_function_(mathematics):13">
 <semantics>
  <mrow>
   <mi>Z</mi>
   <mo>=</mo>
   <mrow>
    <mo largeop="true" symmetric="true">∫</mo>
    <mrow>
     <mi class="ltx_font_mathcaligraphic">𝒟</mi>
     <mi>ϕ</mi>
     <mrow>
      <mi>exp</mi>
      <mrow>
       <mo>(</mo>
       <mrow>
        <mo>-</mo>
        <mrow>
         <mi>β</mi>
         <mi>H</mi>
         <mrow>
          <mo stretchy="false">[</mo>
          <mi>ϕ</mi>
          <mo stretchy="false">]</mo>
         </mrow>
        </mrow>
       </mrow>
       <mo>)</mo>
      </mrow>
     </mrow>
    </mrow>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <ci>Z</ci>
    <apply>
     <int></int>
     <apply>
      <times></times>
      <ci>𝒟</ci>
      <ci>ϕ</ci>
      <apply>
       <exp></exp>
       <apply>
        <minus></minus>
        <apply>
         <times></times>
         <ci>β</ci>
         <ci>H</ci>
         <apply>
          <csymbol cd="latexml">delimited-[]</csymbol>
          <ci>ϕ</ci>
         </apply>
        </apply>
       </apply>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   Z=\int\mathcal{D}\phi\exp\left(-\beta H[\phi]\right)
  </annotation>
 </semantics>
</math>

</p>

<p>Such is the case for the <a href="partition_function_in_quantum_field_theory" title="wikilink">partition function in quantum field theory</a>.</p>

<p>A common, useful modification to the partition function is to introduce auxiliary functions. This allows, for example, the partition function to be used as a <a href="generating_function" title="wikilink">generating function</a> for <a href="correlation_function" title="wikilink">correlation functions</a>. This is discussed in greater detail below.</p>
<h2 id="the-parameter-β">The parameter β</h2>

<p>The role or meaning of the parameter 

<math display="inline" id="Partition_function_(mathematics):14">
 <semantics>
  <mi>β</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>β</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \beta
  </annotation>
 </semantics>
</math>

 can be understood in a variety of different ways. In classical thermodynamics, it is an <a href="inverse_temperature" title="wikilink">inverse temperature</a>. More generally, one would say that it is the variable that is <a href="Conjugate_variables_(thermodynamics)" title="wikilink">conjugate</a> to some (arbitrary) function 

<math display="inline" id="Partition_function_(mathematics):15">
 <semantics>
  <mi>H</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>H</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   H
  </annotation>
 </semantics>
</math>

 of the random variables 

<math display="inline" id="Partition_function_(mathematics):16">
 <semantics>
  <mi>X</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>X</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   X
  </annotation>
 </semantics>
</math>

. The word <em>conjugate</em> here is used in the sense of conjugate <a href="generalized_coordinates" title="wikilink">generalized coordinates</a> in <a href="Lagrangian_mechanics" title="wikilink">Lagrangian mechanics</a>, thus, properly 

<math display="inline" id="Partition_function_(mathematics):17">
 <semantics>
  <mi>β</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>β</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \beta
  </annotation>
 </semantics>
</math>

 is a <a href="Lagrange_multiplier" title="wikilink">Lagrange multiplier</a>. It is not uncommonly called the <a href="generalized_force" title="wikilink">generalized force</a>. All of these concepts have in common the idea that one value is meant to be kept fixed, as others, interconnected in some complicated way, are allowed to vary. In the current case, the value to be kept fixed is the <a href="expectation_value" title="wikilink">expectation value</a> of 

<math display="inline" id="Partition_function_(mathematics):18">
 <semantics>
  <mi>H</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>H</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   H
  </annotation>
 </semantics>
</math>

, even as many different <a href="probability_distribution" title="wikilink">probability distributions</a> can give rise to exactly this same (fixed) value.</p>

<p>For the general case, one considers a set of functions 

<math display="inline" id="Partition_function_(mathematics):19">
 <semantics>
  <mrow>
   <mo stretchy="false">{</mo>
   <mrow>
    <msub>
     <mi>H</mi>
     <mi>k</mi>
    </msub>
    <mrow>
     <mo stretchy="false">(</mo>
     <msub>
      <mi>x</mi>
      <mn>1</mn>
     </msub>
     <mo>,</mo>
     <mi mathvariant="normal">⋯</mi>
     <mo stretchy="false">)</mo>
    </mrow>
   </mrow>
   <mo stretchy="false">}</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <set>
    <apply>
     <times></times>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <ci>H</ci>
      <ci>k</ci>
     </apply>
     <interval closure="open">
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>x</ci>
       <cn type="integer">1</cn>
      </apply>
      <ci>normal-⋯</ci>
     </interval>
    </apply>
   </set>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \{H_{k}(x_{1},\cdots)\}
  </annotation>
 </semantics>
</math>

 that each depend on the random variables 

<math display="inline" id="Partition_function_(mathematics):20">
 <semantics>
  <msub>
   <mi>X</mi>
   <mi>i</mi>
  </msub>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <csymbol cd="ambiguous">subscript</csymbol>
    <ci>X</ci>
    <ci>i</ci>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   X_{i}
  </annotation>
 </semantics>
</math>

. These functions are chosen because one wants to hold their expectation values constant, for one reason or another. To constrain the expectation values in this way, one applies the method of <a href="Lagrange_multiplier" title="wikilink">Lagrange multipliers</a>. In the general case, <a href="maximum_entropy_method" title="wikilink">maximum entropy methods</a> illustrate the manner in which this is done.</p>

<p>Some specific examples are in order. In basic thermodynamics problems, when using the <a href="canonical_ensemble" title="wikilink">canonical ensemble</a>, the use of just one parameter 

<math display="inline" id="Partition_function_(mathematics):21">
 <semantics>
  <mi>β</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>β</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \beta
  </annotation>
 </semantics>
</math>

 reflects the fact that there is only one expectation value that must be held constant: the <a href="Thermodynamic_free_energy" title="wikilink">free energy</a> (due to <a href="conservation_of_energy" title="wikilink">conservation of energy</a>). For chemistry problems involving chemical reactions, the <a href="grand_canonical_ensemble" title="wikilink">grand canonical ensemble</a> provides the appropriate foundation, and there are two Lagrange multipliers. One is to hold the energy constant, and another, the <a class="uri" href="fugacity" title="wikilink">fugacity</a>, is to hold the particle count constant (as chemical reactions involve the recombination of a fixed number of atoms).</p>

<p>For the general case, one has</p>

<p>

<math display="block" id="Partition_function_(mathematics):22">
 <semantics>
  <mrow>
   <mrow>
    <mi>Z</mi>
    <mrow>
     <mo stretchy="false">(</mo>
     <mi>β</mi>
     <mo stretchy="false">)</mo>
    </mrow>
   </mrow>
   <mo>=</mo>
   <mrow>
    <munder>
     <mo largeop="true" movablelimits="false" symmetric="true">∑</mo>
     <msub>
      <mi>x</mi>
      <mi>i</mi>
     </msub>
    </munder>
    <mrow>
     <mi>exp</mi>
     <mrow>
      <mo>(</mo>
      <mrow>
       <mo>-</mo>
       <mrow>
        <munder>
         <mo largeop="true" movablelimits="false" symmetric="true">∑</mo>
         <mi>k</mi>
        </munder>
        <mrow>
         <msub>
          <mi>β</mi>
          <mi>k</mi>
         </msub>
         <msub>
          <mi>H</mi>
          <mi>k</mi>
         </msub>
         <mrow>
          <mo stretchy="false">(</mo>
          <msub>
           <mi>x</mi>
           <mi>i</mi>
          </msub>
          <mo stretchy="false">)</mo>
         </mrow>
        </mrow>
       </mrow>
      </mrow>
      <mo>)</mo>
     </mrow>
    </mrow>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <times></times>
     <ci>Z</ci>
     <ci>β</ci>
    </apply>
    <apply>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <sum></sum>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>x</ci>
       <ci>i</ci>
      </apply>
     </apply>
     <apply>
      <exp></exp>
      <apply>
       <minus></minus>
       <apply>
        <apply>
         <csymbol cd="ambiguous">subscript</csymbol>
         <sum></sum>
         <ci>k</ci>
        </apply>
        <apply>
         <times></times>
         <apply>
          <csymbol cd="ambiguous">subscript</csymbol>
          <ci>β</ci>
          <ci>k</ci>
         </apply>
         <apply>
          <csymbol cd="ambiguous">subscript</csymbol>
          <ci>H</ci>
          <ci>k</ci>
         </apply>
         <apply>
          <csymbol cd="ambiguous">subscript</csymbol>
          <ci>x</ci>
          <ci>i</ci>
         </apply>
        </apply>
       </apply>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   Z(\beta)=\sum_{x_{i}}\exp\left(-\sum_{k}\beta_{k}H_{k}(x_{i})\right)
  </annotation>
 </semantics>
</math>

</p>

<p>with 

<math display="inline" id="Partition_function_(mathematics):23">
 <semantics>
  <mrow>
   <mi>β</mi>
   <mo>=</mo>
   <mrow>
    <mo stretchy="false">(</mo>
    <msub>
     <mi>β</mi>
     <mn>1</mn>
    </msub>
    <mo>,</mo>
    <msub>
     <mi>β</mi>
     <mn>2</mn>
    </msub>
    <mo>,</mo>
    <mi mathvariant="normal">⋯</mi>
    <mo stretchy="false">)</mo>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <ci>β</ci>
    <vector>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <ci>β</ci>
      <cn type="integer">1</cn>
     </apply>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <ci>β</ci>
      <cn type="integer">2</cn>
     </apply>
     <ci>normal-⋯</ci>
    </vector>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \beta=(\beta_{1},\beta_{2},\cdots)
  </annotation>
 </semantics>
</math>

 a point in a space.</p>

<p>For a collection of observables 

<math display="inline" id="Partition_function_(mathematics):24">
 <semantics>
  <msub>
   <mi>H</mi>
   <mi>k</mi>
  </msub>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <csymbol cd="ambiguous">subscript</csymbol>
    <ci>H</ci>
    <ci>k</ci>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   H_{k}
  </annotation>
 </semantics>
</math>

, one would write</p>

<p>

<math display="block" id="Partition_function_(mathematics):25">
 <semantics>
  <mrow>
   <mrow>
    <mi>Z</mi>
    <mrow>
     <mo stretchy="false">(</mo>
     <mi>β</mi>
     <mo stretchy="false">)</mo>
    </mrow>
   </mrow>
   <mo>=</mo>
   <mrow>
    <mtext>tr</mtext>
    <mrow>
     <mo rspace="4.2pt">[</mo>
     <mrow>
      <mi>exp</mi>
      <mrow>
       <mo>(</mo>
       <mrow>
        <mo>-</mo>
        <mrow>
         <munder>
          <mo largeop="true" movablelimits="false" symmetric="true">∑</mo>
          <mi>k</mi>
         </munder>
         <mrow>
          <msub>
           <mi>β</mi>
           <mi>k</mi>
          </msub>
          <msub>
           <mi>H</mi>
           <mi>k</mi>
          </msub>
         </mrow>
        </mrow>
       </mrow>
       <mo>)</mo>
      </mrow>
     </mrow>
     <mo>]</mo>
    </mrow>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <times></times>
     <ci>Z</ci>
     <ci>β</ci>
    </apply>
    <apply>
     <times></times>
     <mtext>tr</mtext>
     <apply>
      <csymbol cd="latexml">delimited-[]</csymbol>
      <apply>
       <exp></exp>
       <apply>
        <minus></minus>
        <apply>
         <apply>
          <csymbol cd="ambiguous">subscript</csymbol>
          <sum></sum>
          <ci>k</ci>
         </apply>
         <apply>
          <times></times>
          <apply>
           <csymbol cd="ambiguous">subscript</csymbol>
           <ci>β</ci>
           <ci>k</ci>
          </apply>
          <apply>
           <csymbol cd="ambiguous">subscript</csymbol>
           <ci>H</ci>
           <ci>k</ci>
          </apply>
         </apply>
        </apply>
       </apply>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   Z(\beta)=\mbox{tr}\left[\,\exp\left(-\sum_{k}\beta_{k}H_{k}\right)\right]
  </annotation>
 </semantics>
</math>

</p>

<p>As before, it is presumed that the argument of tr is <a href="trace_class" title="wikilink">trace class</a>.</p>

<p>The corresponding <a href="Gibbs_measure" title="wikilink">Gibbs measure</a> then provides a probability distribution such that the expectation value of each 

<math display="inline" id="Partition_function_(mathematics):26">
 <semantics>
  <msub>
   <mi>H</mi>
   <mi>k</mi>
  </msub>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <csymbol cd="ambiguous">subscript</csymbol>
    <ci>H</ci>
    <ci>k</ci>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   H_{k}
  </annotation>
 </semantics>
</math>

 is a fixed value. More precisely, one has</p>

<p>

<math display="block" id="Partition_function_(mathematics):27">
 <semantics>
  <mrow>
   <mrow>
    <mfrac>
     <mo>∂</mo>
     <mrow>
      <mo>∂</mo>
      <msub>
       <mi>β</mi>
       <mi>k</mi>
      </msub>
     </mrow>
    </mfrac>
    <mrow>
     <mo>(</mo>
     <mrow>
      <mo>-</mo>
      <mrow>
       <mi>log</mi>
       <mi>Z</mi>
      </mrow>
     </mrow>
     <mo>)</mo>
    </mrow>
   </mrow>
   <mo>=</mo>
   <mrow>
    <mo stretchy="false">⟨</mo>
    <msub>
     <mi>H</mi>
     <mi>k</mi>
    </msub>
    <mo stretchy="false">⟩</mo>
   </mrow>
   <mo>=</mo>
   <mrow>
    <mi mathvariant="normal">E</mi>
    <mrow>
     <mo>[</mo>
     <msub>
      <mi>H</mi>
      <mi>k</mi>
     </msub>
     <mo>]</mo>
    </mrow>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <and></and>
    <apply>
     <eq></eq>
     <apply>
      <times></times>
      <apply>
       <divide></divide>
       <partialdiff></partialdiff>
       <apply>
        <partialdiff></partialdiff>
        <apply>
         <csymbol cd="ambiguous">subscript</csymbol>
         <ci>β</ci>
         <ci>k</ci>
        </apply>
       </apply>
      </apply>
      <apply>
       <minus></minus>
       <apply>
        <log></log>
        <ci>Z</ci>
       </apply>
      </apply>
     </apply>
     <apply>
      <csymbol cd="latexml">delimited-⟨⟩</csymbol>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>H</ci>
       <ci>k</ci>
      </apply>
     </apply>
    </apply>
    <apply>
     <eq></eq>
     <share href="#.cmml">
     </share>
     <apply>
      <times></times>
      <ci>normal-E</ci>
      <apply>
       <csymbol cd="latexml">delimited-[]</csymbol>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>H</ci>
        <ci>k</ci>
       </apply>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \frac{\partial}{\partial\beta_{k}}\left(-\log Z\right)=\langle H_{k}\rangle=%
\mathrm{E}\left[H_{k}\right]
  </annotation>
 </semantics>
</math>

</p>

<p>with the angle brackets 

<math display="inline" id="Partition_function_(mathematics):28">
 <semantics>
  <mrow>
   <mo stretchy="false">⟨</mo>
   <msub>
    <mi>H</mi>
    <mi>k</mi>
   </msub>
   <mo stretchy="false">⟩</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <csymbol cd="latexml">delimited-⟨⟩</csymbol>
    <apply>
     <csymbol cd="ambiguous">subscript</csymbol>
     <ci>H</ci>
     <ci>k</ci>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \langle H_{k}\rangle
  </annotation>
 </semantics>
</math>

 denoting the expected value of 

<math display="inline" id="Partition_function_(mathematics):29">
 <semantics>
  <msub>
   <mi>H</mi>
   <mi>k</mi>
  </msub>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <csymbol cd="ambiguous">subscript</csymbol>
    <ci>H</ci>
    <ci>k</ci>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   H_{k}
  </annotation>
 </semantics>
</math>

, and 

<math display="inline" id="Partition_function_(mathematics):30">
 <semantics>
  <mrow>
   <mi mathvariant="normal">E</mi>
   <mrow>
    <mo rspace="5.3pt" stretchy="false">[</mo>
    <mo stretchy="false">]</mo>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <times></times>
    <ci>normal-E</ci>
    <list></list>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \mathrm{E}[\;]
  </annotation>
 </semantics>
</math>

 being a common alternative notation. A precise definition of this expectation value is given below.</p>

<p>Although the value of 

<math display="inline" id="Partition_function_(mathematics):31">
 <semantics>
  <mi>β</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>β</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \beta
  </annotation>
 </semantics>
</math>

 is commonly taken to be real, it need not be, in general; this is discussed in the section <a href="#Normalization" title="wikilink">Normalization</a> below. The values of 

<math display="inline" id="Partition_function_(mathematics):32">
 <semantics>
  <mi>β</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>β</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \beta
  </annotation>
 </semantics>
</math>

 can be understood to be the coordinates of points in a space; this space is in fact a <a class="uri" href="manifold" title="wikilink">manifold</a>, as sketched below. The study of these spaces as manifolds constitutes the field of <a href="information_geometry" title="wikilink">information geometry</a>.</p>
<h2 id="symmetry">Symmetry</h2>

<p>The potential function itself commonly takes the form of a sum:</p>

<p>

<math display="block" id="Partition_function_(mathematics):33">
 <semantics>
  <mrow>
   <mrow>
    <mi>H</mi>
    <mrow>
     <mo stretchy="false">(</mo>
     <msub>
      <mi>x</mi>
      <mn>1</mn>
     </msub>
     <mo>,</mo>
     <msub>
      <mi>x</mi>
      <mn>2</mn>
     </msub>
     <mo>,</mo>
     <mi mathvariant="normal">…</mi>
     <mo stretchy="false">)</mo>
    </mrow>
   </mrow>
   <mo>=</mo>
   <mrow>
    <munder>
     <mo largeop="true" movablelimits="false" symmetric="true">∑</mo>
     <mi>s</mi>
    </munder>
    <mrow>
     <mi>V</mi>
     <mrow>
      <mo stretchy="false">(</mo>
      <mi>s</mi>
      <mo rspace="4.2pt" stretchy="false">)</mo>
     </mrow>
    </mrow>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <times></times>
     <ci>H</ci>
     <vector>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>x</ci>
       <cn type="integer">1</cn>
      </apply>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>x</ci>
       <cn type="integer">2</cn>
      </apply>
      <ci>normal-…</ci>
     </vector>
    </apply>
    <apply>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <sum></sum>
      <ci>s</ci>
     </apply>
     <apply>
      <times></times>
      <ci>V</ci>
      <ci>s</ci>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   H(x_{1},x_{2},\dots)=\sum_{s}V(s)\,
  </annotation>
 </semantics>
</math>

</p>

<p>where the sum over <em>s</em> is a sum over some subset of the <a href="power_set" title="wikilink">power set</a> <em>P</em>(<em>X</em>) of the set 

<math display="inline" id="Partition_function_(mathematics):34">
 <semantics>
  <mrow>
   <mi>X</mi>
   <mo>=</mo>
   <mrow>
    <mo stretchy="false">{</mo>
    <msub>
     <mi>x</mi>
     <mn>1</mn>
    </msub>
    <mo>,</mo>
    <msub>
     <mi>x</mi>
     <mn>2</mn>
    </msub>
    <mo>,</mo>
    <mi mathvariant="normal">…</mi>
    <mo stretchy="false">}</mo>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <ci>X</ci>
    <set>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <ci>x</ci>
      <cn type="integer">1</cn>
     </apply>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <ci>x</ci>
      <cn type="integer">2</cn>
     </apply>
     <ci>normal-…</ci>
    </set>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   X=\{x_{1},x_{2},\dots\}
  </annotation>
 </semantics>
</math>

. For example, in <a href="statistical_mechanics" title="wikilink">statistical mechanics</a>, such as the <a href="Ising_model" title="wikilink">Ising model</a>, the sum is over pairs of nearest neighbors. In probability theory, such as <a href="Markov_networks" title="wikilink">Markov networks</a>, the sum might be over the <a href="clique_(graph_theory)" title="wikilink">cliques</a> of a graph; so, for the Ising model and other <a href="lattice_model_(physics)" title="wikilink">lattice models</a>, the maximal cliques are edges.</p>

<p>The fact that the potential function can be written as a sum usually reflects the fact that it is invariant under the <a href="group_action" title="wikilink">action</a> of a <a href="group_(mathematics)" title="wikilink">group symmetry</a>, such as <a href="translational_invariance" title="wikilink">translational invariance</a>. Such symmetries can be discrete or continuous; they materialize in the <a href="correlation_function" title="wikilink">correlation functions</a> for the random variables (discussed below). Thus a symmetry in the Hamiltonian becomes a symmetry of the correlation function (and vice versa).</p>

<p>This symmetry has a critically important interpretation in probability theory: it implies that the <a href="Gibbs_measure" title="wikilink">Gibbs measure</a> has the <a href="Markov_property" title="wikilink">Markov property</a>; that is, it is independent of the random variables in a certain way, or, equivalently, the measure is identical on the <a href="equivalence_class" title="wikilink">equivalence classes</a> of the symmetry. This leads to the widespread appearance of the partition function in problems with the Markov property, such as <a href="Hopfield_network" title="wikilink">Hopfield networks</a>.</p>
<h2 id="as-a-measure">As a measure</h2>

<p>The value of the expression</p>

<p>

<math display="block" id="Partition_function_(mathematics):35">
 <semantics>
  <mrow>
   <mi>exp</mi>
   <mrow>
    <mo>(</mo>
    <mrow>
     <mo>-</mo>
     <mrow>
      <mi>β</mi>
      <mi>H</mi>
      <mrow>
       <mo stretchy="false">(</mo>
       <msub>
        <mi>x</mi>
        <mn>1</mn>
       </msub>
       <mo>,</mo>
       <msub>
        <mi>x</mi>
        <mn>2</mn>
       </msub>
       <mo>,</mo>
       <mi mathvariant="normal">…</mi>
       <mo stretchy="false">)</mo>
      </mrow>
     </mrow>
    </mrow>
    <mo>)</mo>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <exp></exp>
    <apply>
     <minus></minus>
     <apply>
      <times></times>
      <ci>β</ci>
      <ci>H</ci>
      <vector>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>x</ci>
        <cn type="integer">1</cn>
       </apply>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>x</ci>
        <cn type="integer">2</cn>
       </apply>
       <ci>normal-…</ci>
      </vector>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \exp\left(-\beta H(x_{1},x_{2},\dots)\right)
  </annotation>
 </semantics>
</math>

</p>

<p>can be interpreted as a likelihood that a specific <a href="configuration_space" title="wikilink">configuration</a> of values 

<math display="inline" id="Partition_function_(mathematics):36">
 <semantics>
  <mrow>
   <mo stretchy="false">(</mo>
   <msub>
    <mi>x</mi>
    <mn>1</mn>
   </msub>
   <mo>,</mo>
   <msub>
    <mi>x</mi>
    <mn>2</mn>
   </msub>
   <mo>,</mo>
   <mi mathvariant="normal">…</mi>
   <mo stretchy="false">)</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <vector>
    <apply>
     <csymbol cd="ambiguous">subscript</csymbol>
     <ci>x</ci>
     <cn type="integer">1</cn>
    </apply>
    <apply>
     <csymbol cd="ambiguous">subscript</csymbol>
     <ci>x</ci>
     <cn type="integer">2</cn>
    </apply>
    <ci>normal-…</ci>
   </vector>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   (x_{1},x_{2},\dots)
  </annotation>
 </semantics>
</math>

 occurs in the system. Thus, given a specific configuration 

<math display="inline" id="Partition_function_(mathematics):37">
 <semantics>
  <mrow>
   <mo stretchy="false">(</mo>
   <msub>
    <mi>x</mi>
    <mn>1</mn>
   </msub>
   <mo>,</mo>
   <msub>
    <mi>x</mi>
    <mn>2</mn>
   </msub>
   <mo>,</mo>
   <mi mathvariant="normal">…</mi>
   <mo stretchy="false">)</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <vector>
    <apply>
     <csymbol cd="ambiguous">subscript</csymbol>
     <ci>x</ci>
     <cn type="integer">1</cn>
    </apply>
    <apply>
     <csymbol cd="ambiguous">subscript</csymbol>
     <ci>x</ci>
     <cn type="integer">2</cn>
    </apply>
    <ci>normal-…</ci>
   </vector>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   (x_{1},x_{2},\dots)
  </annotation>
 </semantics>
</math>

,</p>

<p>

<math display="block" id="Partition_function_(mathematics):38">
 <semantics>
  <mrow>
   <mrow>
    <mi>P</mi>
    <mrow>
     <mo stretchy="false">(</mo>
     <msub>
      <mi>x</mi>
      <mn>1</mn>
     </msub>
     <mo>,</mo>
     <msub>
      <mi>x</mi>
      <mn>2</mn>
     </msub>
     <mo>,</mo>
     <mi mathvariant="normal">…</mi>
     <mo stretchy="false">)</mo>
    </mrow>
   </mrow>
   <mo>=</mo>
   <mrow>
    <mfrac>
     <mn>1</mn>
     <mrow>
      <mi>Z</mi>
      <mrow>
       <mo stretchy="false">(</mo>
       <mi>β</mi>
       <mo stretchy="false">)</mo>
      </mrow>
     </mrow>
    </mfrac>
    <mrow>
     <mi>exp</mi>
     <mrow>
      <mo>(</mo>
      <mrow>
       <mo>-</mo>
       <mrow>
        <mi>β</mi>
        <mi>H</mi>
        <mrow>
         <mo stretchy="false">(</mo>
         <msub>
          <mi>x</mi>
          <mn>1</mn>
         </msub>
         <mo>,</mo>
         <msub>
          <mi>x</mi>
          <mn>2</mn>
         </msub>
         <mo>,</mo>
         <mi mathvariant="normal">…</mi>
         <mo stretchy="false">)</mo>
        </mrow>
       </mrow>
      </mrow>
      <mo>)</mo>
     </mrow>
    </mrow>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <times></times>
     <ci>P</ci>
     <vector>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>x</ci>
       <cn type="integer">1</cn>
      </apply>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>x</ci>
       <cn type="integer">2</cn>
      </apply>
      <ci>normal-…</ci>
     </vector>
    </apply>
    <apply>
     <times></times>
     <apply>
      <divide></divide>
      <cn type="integer">1</cn>
      <apply>
       <times></times>
       <ci>Z</ci>
       <ci>β</ci>
      </apply>
     </apply>
     <apply>
      <exp></exp>
      <apply>
       <minus></minus>
       <apply>
        <times></times>
        <ci>β</ci>
        <ci>H</ci>
        <vector>
         <apply>
          <csymbol cd="ambiguous">subscript</csymbol>
          <ci>x</ci>
          <cn type="integer">1</cn>
         </apply>
         <apply>
          <csymbol cd="ambiguous">subscript</csymbol>
          <ci>x</ci>
          <cn type="integer">2</cn>
         </apply>
         <ci>normal-…</ci>
        </vector>
       </apply>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   P(x_{1},x_{2},\dots)=\frac{1}{Z(\beta)}\exp\left(-\beta H(x_{1},x_{2},\dots)\right)
  </annotation>
 </semantics>
</math>

</p>

<p>is the <a href="probability_density_function" title="wikilink">probability</a> of the configuration 

<math display="inline" id="Partition_function_(mathematics):39">
 <semantics>
  <mrow>
   <mo stretchy="false">(</mo>
   <msub>
    <mi>x</mi>
    <mn>1</mn>
   </msub>
   <mo>,</mo>
   <msub>
    <mi>x</mi>
    <mn>2</mn>
   </msub>
   <mo>,</mo>
   <mi mathvariant="normal">…</mi>
   <mo stretchy="false">)</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <vector>
    <apply>
     <csymbol cd="ambiguous">subscript</csymbol>
     <ci>x</ci>
     <cn type="integer">1</cn>
    </apply>
    <apply>
     <csymbol cd="ambiguous">subscript</csymbol>
     <ci>x</ci>
     <cn type="integer">2</cn>
    </apply>
    <ci>normal-…</ci>
   </vector>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   (x_{1},x_{2},\dots)
  </annotation>
 </semantics>
</math>

 occurring in the system, which is now properly normalized so that 

<math display="inline" id="Partition_function_(mathematics):40">
 <semantics>
  <mrow>
   <mn>0</mn>
   <mo>≤</mo>
   <mrow>
    <mi>P</mi>
    <mrow>
     <mo stretchy="false">(</mo>
     <msub>
      <mi>x</mi>
      <mn>1</mn>
     </msub>
     <mo>,</mo>
     <msub>
      <mi>x</mi>
      <mn>2</mn>
     </msub>
     <mo>,</mo>
     <mi mathvariant="normal">…</mi>
     <mo stretchy="false">)</mo>
    </mrow>
   </mrow>
   <mo>≤</mo>
   <mn>1</mn>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <and></and>
    <apply>
     <leq></leq>
     <cn type="integer">0</cn>
     <apply>
      <times></times>
      <ci>P</ci>
      <vector>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>x</ci>
        <cn type="integer">1</cn>
       </apply>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>x</ci>
        <cn type="integer">2</cn>
       </apply>
       <ci>normal-…</ci>
      </vector>
     </apply>
    </apply>
    <apply>
     <leq></leq>
     <share href="#.cmml">
     </share>
     <cn type="integer">1</cn>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   0\leq P(x_{1},x_{2},\dots)\leq 1
  </annotation>
 </semantics>
</math>

, and such that the sum over all configurations totals to one. As such, the partition function can be understood to provide a <a href="measure_(mathematics)" title="wikilink">measure</a> (a <a href="probability_measure" title="wikilink">probability measure</a>) on the <a href="probability_space" title="wikilink">probability space</a>; formally, it is called the <a href="Gibbs_measure" title="wikilink">Gibbs measure</a>. It generalizes the narrower concepts of the <a href="grand_canonical_ensemble" title="wikilink">grand canonical ensemble</a> and <a href="canonical_ensemble" title="wikilink">canonical ensemble</a> in statistical mechanics.</p>

<p>There exists at least one configuration 

<math display="inline" id="Partition_function_(mathematics):41">
 <semantics>
  <mrow>
   <mo stretchy="false">(</mo>
   <msub>
    <mi>x</mi>
    <mn>1</mn>
   </msub>
   <mo>,</mo>
   <msub>
    <mi>x</mi>
    <mn>2</mn>
   </msub>
   <mo>,</mo>
   <mi mathvariant="normal">…</mi>
   <mo stretchy="false">)</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <vector>
    <apply>
     <csymbol cd="ambiguous">subscript</csymbol>
     <ci>x</ci>
     <cn type="integer">1</cn>
    </apply>
    <apply>
     <csymbol cd="ambiguous">subscript</csymbol>
     <ci>x</ci>
     <cn type="integer">2</cn>
    </apply>
    <ci>normal-…</ci>
   </vector>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   (x_{1},x_{2},\dots)
  </annotation>
 </semantics>
</math>

 for which the probability is maximized; this configuration is conventionally called the <a href="ground_state" title="wikilink">ground state</a>. If the configuration is unique, the ground state is said to be <strong>non-degenerate</strong>, and the system is said to be <a class="uri" href="ergodic" title="wikilink">ergodic</a>; otherwise the ground state is <strong>degenerate</strong>. The ground state may or may not commute with the generators of the symmetry; if commutes, it is said to be an <a href="invariant_measure" title="wikilink">invariant measure</a>. When it does not commute, the symmetry is said to be <a href="spontaneously_broken" title="wikilink">spontaneously broken</a>.</p>

<p>Conditions under which a ground state exists and is unique are given by the <a href="Karush–Kuhn–Tucker_conditions" title="wikilink">Karush–Kuhn–Tucker conditions</a>; these conditions are commonly used to justify the use of the Gibbs measure in maximum-entropy problems.</p>
<h2 id="normalization">Normalization</h2>

<p>The values taken by 

<math display="inline" id="Partition_function_(mathematics):42">
 <semantics>
  <mi>β</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>β</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \beta
  </annotation>
 </semantics>
</math>

 depend on the <a href="mathematical_space" title="wikilink">mathematical space</a> over which the random field varies. Thus, real-valued random fields take values on a <a class="uri" href="simplex" title="wikilink">simplex</a>: this is the geometrical way of saying that the sum of probabilities must total to one. For quantum mechanics, the random variables range over <a href="complex_projective_space" title="wikilink">complex projective space</a> (or complex-valued <a href="projective_Hilbert_space" title="wikilink">projective Hilbert space</a>), where the random variables are interpreted as <a href="probability_amplitude" title="wikilink">probability amplitudes</a>. The emphasis here is on the word <em>projective</em>, as the amplitudes are still normalized to one. The normalization for the potential function is the <a href="Jacobian_matrix_and_determinant" title="wikilink">Jacobian</a> for the appropriate mathematical space: it is 1 for ordinary probabilities, and <em>i</em> for Hilbert space; thus, in <a href="quantum_field_theory" title="wikilink">quantum field theory</a>, one sees 

<math display="inline" id="Partition_function_(mathematics):43">
 <semantics>
  <mrow>
   <mi>i</mi>
   <mi>t</mi>
   <mi>H</mi>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <times></times>
    <ci>i</ci>
    <ci>t</ci>
    <ci>H</ci>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   itH
  </annotation>
 </semantics>
</math>

 in the exponential, rather than 

<math display="inline" id="Partition_function_(mathematics):44">
 <semantics>
  <mrow>
   <mi>β</mi>
   <mi>H</mi>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <times></times>
    <ci>β</ci>
    <ci>H</ci>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \beta H
  </annotation>
 </semantics>
</math>

. The partition function is very heavily exploited in the <a href="path_integral_formulation" title="wikilink">path integral formulation</a> of quantum field theory, to great effect. The theory there is very nearly identical to that presented here, aside from this difference, and the fact that it is usually formulated on four-dimensional space-time, rather than in a general way.</p>
<h2 id="expectation-values">Expectation values</h2>

<p>The partition function is commonly used as a <a href="generating_function" title="wikilink">generating function</a> for <a href="expectation_value" title="wikilink">expectation values</a> of various functions of the random variables. So, for example, taking 

<math display="inline" id="Partition_function_(mathematics):45">
 <semantics>
  <mi>β</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>β</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \beta
  </annotation>
 </semantics>
</math>

 as an adjustable parameter, then the derivative of 

<math display="inline" id="Partition_function_(mathematics):46">
 <semantics>
  <mrow>
   <mi>log</mi>
   <mrow>
    <mo stretchy="false">(</mo>
    <mrow>
     <mi>Z</mi>
     <mrow>
      <mo stretchy="false">(</mo>
      <mi>β</mi>
      <mo stretchy="false">)</mo>
     </mrow>
    </mrow>
    <mo stretchy="false">)</mo>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <log></log>
    <apply>
     <times></times>
     <ci>Z</ci>
     <ci>β</ci>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \log(Z(\beta))
  </annotation>
 </semantics>
</math>

 with respect to 

<math display="inline" id="Partition_function_(mathematics):47">
 <semantics>
  <mi>β</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>β</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \beta
  </annotation>
 </semantics>
</math>

</p>

<p>

<math display="block" id="Partition_function_(mathematics):48">
 <semantics>
  <mrow>
   <mrow>
    <mi>𝔼</mi>
    <mrow>
     <mo stretchy="false">[</mo>
     <mi>H</mi>
     <mo stretchy="false">]</mo>
    </mrow>
   </mrow>
   <mo>=</mo>
   <mrow>
    <mo stretchy="false">⟨</mo>
    <mi>H</mi>
    <mo stretchy="false">⟩</mo>
   </mrow>
   <mo>=</mo>
   <mrow>
    <mo>-</mo>
    <mfrac>
     <mrow>
      <mrow>
       <mo>∂</mo>
       <mi>log</mi>
      </mrow>
      <mrow>
       <mo stretchy="false">(</mo>
       <mrow>
        <mi>Z</mi>
        <mrow>
         <mo stretchy="false">(</mo>
         <mi>β</mi>
         <mo stretchy="false">)</mo>
        </mrow>
       </mrow>
       <mo stretchy="false">)</mo>
      </mrow>
     </mrow>
     <mrow>
      <mo>∂</mo>
      <mi>β</mi>
     </mrow>
    </mfrac>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <and></and>
    <apply>
     <eq></eq>
     <apply>
      <times></times>
      <ci>𝔼</ci>
      <apply>
       <csymbol cd="latexml">delimited-[]</csymbol>
       <ci>H</ci>
      </apply>
     </apply>
     <apply>
      <csymbol cd="latexml">delimited-⟨⟩</csymbol>
      <ci>H</ci>
     </apply>
    </apply>
    <apply>
     <eq></eq>
     <share href="#.cmml">
     </share>
     <apply>
      <minus></minus>
      <apply>
       <divide></divide>
       <apply>
        <apply>
         <partialdiff></partialdiff>
         <log></log>
        </apply>
        <apply>
         <times></times>
         <ci>Z</ci>
         <ci>β</ci>
        </apply>
       </apply>
       <apply>
        <partialdiff></partialdiff>
        <ci>β</ci>
       </apply>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \mathbb{E}[H]=\langle H\rangle=-\frac{\partial\log(Z(\beta))}{\partial\beta}
  </annotation>
 </semantics>
</math>

</p>

<p>gives the average (expectation value) of <em>H</em>. In physics, this would be called the average <a class="uri" href="energy" title="wikilink">energy</a> of the system.</p>

<p>Given the definition of the probability measure above, the expectation value of any function <em>f</em> of the random variables <em>X</em> may now be written as expected: so, for discrete-valued <em>X</em>, one writes</p>

<p>

<math display="inline" id="Partition_function_(mathematics):49">
 <semantics>
  <mrow>
   <mo stretchy="false">⟨</mo>
   <mi>f</mi>
   <mo stretchy="false">⟩</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <csymbol cd="latexml">delimited-⟨⟩</csymbol>
    <ci>f</ci>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \displaystyle\langle f\rangle
  </annotation>
 </semantics>
</math>


</p>

<p>The above notation is strictly correct for a finite number of discrete random variables, but should be seen to be somewhat 'informal' for continuous variables; properly, the summations above should be replaced with the notations of the underlying <a href="sigma_algebra" title="wikilink">sigma algebra</a> used to define a <a href="probability_space" title="wikilink">probability space</a>. That said, the identities continue to hold, when properly formulated on a <a href="measure_space" title="wikilink">measure space</a>.</p>

<p>Thus, for example, the <a href="entropy_(general_concept)" title="wikilink">entropy</a> is given by</p>

<p>

<math display="inline" id="Partition_function_(mathematics):50">
 <semantics>
  <mi>S</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>S</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \displaystyle S
  </annotation>
 </semantics>
</math>


</p>

<p>The Gibbs measure is the unique statistical distribution that maximizes the entropy for a fixed expectation value of the energy; this underlies its use in <a href="maximum_entropy_method" title="wikilink">maximum entropy methods</a>.</p>
<h2 id="information-geometry">Information geometry</h2>

<p>The points 

<math display="inline" id="Partition_function_(mathematics):51">
 <semantics>
  <mi>β</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>β</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \beta
  </annotation>
 </semantics>
</math>

 can be understood to form a space, and specifically, a <a class="uri" href="manifold" title="wikilink">manifold</a>. Thus, it is reasonable to ask about the structure of this manifold; this is the task of <a href="information_geometry" title="wikilink">information geometry</a>.</p>

<p>Multiple derivatives with regard to the Lagrange multipliers gives rise to a positive semi-definite <a href="covariance_matrix" title="wikilink">covariance matrix</a></p>

<p>

<math display="block" id="Partition_function_(mathematics):52">
 <semantics>
  <mrow>
   <mrow>
    <msub>
     <mi>g</mi>
     <mrow>
      <mi>i</mi>
      <mi>j</mi>
     </mrow>
    </msub>
    <mrow>
     <mo stretchy="false">(</mo>
     <mi>β</mi>
     <mo stretchy="false">)</mo>
    </mrow>
   </mrow>
   <mo>=</mo>
   <mrow>
    <mfrac>
     <msup>
      <mo>∂</mo>
      <mn>2</mn>
     </msup>
     <mrow>
      <mrow>
       <mo>∂</mo>
       <msup>
        <mi>β</mi>
        <mi>i</mi>
       </msup>
      </mrow>
      <mrow>
       <mo>∂</mo>
       <msup>
        <mi>β</mi>
        <mi>j</mi>
       </msup>
      </mrow>
     </mrow>
    </mfrac>
    <mrow>
     <mo>(</mo>
     <mrow>
      <mo>-</mo>
      <mrow>
       <mrow>
        <mi>log</mi>
        <mi>Z</mi>
       </mrow>
       <mrow>
        <mo stretchy="false">(</mo>
        <mi>β</mi>
        <mo stretchy="false">)</mo>
       </mrow>
      </mrow>
     </mrow>
     <mo>)</mo>
    </mrow>
   </mrow>
   <mo>=</mo>
   <mrow>
    <mo stretchy="false">⟨</mo>
    <mrow>
     <mrow>
      <mo>(</mo>
      <mrow>
       <msub>
        <mi>H</mi>
        <mi>i</mi>
       </msub>
       <mo>-</mo>
       <mrow>
        <mo stretchy="false">⟨</mo>
        <msub>
         <mi>H</mi>
         <mi>i</mi>
        </msub>
        <mo stretchy="false">⟩</mo>
       </mrow>
      </mrow>
      <mo>)</mo>
     </mrow>
     <mrow>
      <mo>(</mo>
      <mrow>
       <msub>
        <mi>H</mi>
        <mi>j</mi>
       </msub>
       <mo>-</mo>
       <mrow>
        <mo stretchy="false">⟨</mo>
        <msub>
         <mi>H</mi>
         <mi>j</mi>
        </msub>
        <mo stretchy="false">⟩</mo>
       </mrow>
      </mrow>
      <mo>)</mo>
     </mrow>
    </mrow>
    <mo stretchy="false">⟩</mo>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <and></and>
    <apply>
     <eq></eq>
     <apply>
      <times></times>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>g</ci>
       <apply>
        <times></times>
        <ci>i</ci>
        <ci>j</ci>
       </apply>
      </apply>
      <ci>β</ci>
     </apply>
     <apply>
      <times></times>
      <apply>
       <divide></divide>
       <apply>
        <csymbol cd="ambiguous">superscript</csymbol>
        <partialdiff></partialdiff>
        <cn type="integer">2</cn>
       </apply>
       <apply>
        <times></times>
        <apply>
         <partialdiff></partialdiff>
         <apply>
          <csymbol cd="ambiguous">superscript</csymbol>
          <ci>β</ci>
          <ci>i</ci>
         </apply>
        </apply>
        <apply>
         <partialdiff></partialdiff>
         <apply>
          <csymbol cd="ambiguous">superscript</csymbol>
          <ci>β</ci>
          <ci>j</ci>
         </apply>
        </apply>
       </apply>
      </apply>
      <apply>
       <minus></minus>
       <apply>
        <times></times>
        <apply>
         <log></log>
         <ci>Z</ci>
        </apply>
        <ci>β</ci>
       </apply>
      </apply>
     </apply>
    </apply>
    <apply>
     <eq></eq>
     <share href="#.cmml">
     </share>
     <apply>
      <csymbol cd="latexml">delimited-⟨⟩</csymbol>
      <apply>
       <times></times>
       <apply>
        <minus></minus>
        <apply>
         <csymbol cd="ambiguous">subscript</csymbol>
         <ci>H</ci>
         <ci>i</ci>
        </apply>
        <apply>
         <csymbol cd="latexml">delimited-⟨⟩</csymbol>
         <apply>
          <csymbol cd="ambiguous">subscript</csymbol>
          <ci>H</ci>
          <ci>i</ci>
         </apply>
        </apply>
       </apply>
       <apply>
        <minus></minus>
        <apply>
         <csymbol cd="ambiguous">subscript</csymbol>
         <ci>H</ci>
         <ci>j</ci>
        </apply>
        <apply>
         <csymbol cd="latexml">delimited-⟨⟩</csymbol>
         <apply>
          <csymbol cd="ambiguous">subscript</csymbol>
          <ci>H</ci>
          <ci>j</ci>
         </apply>
        </apply>
       </apply>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   g_{ij}(\beta)=\frac{\partial^{2}}{\partial\beta^{i}\partial\beta^{j}}\left(-%
\log Z(\beta)\right)=\langle\left(H_{i}-\langle H_{i}\rangle\right)\left(H_{j}%
-\langle H_{j}\rangle\right)\rangle
  </annotation>
 </semantics>
</math>

 This matrix is positive semi-definite, and may be interpreted as a <a href="metric_tensor" title="wikilink">metric tensor</a>, specifically, a <a href="Riemannian_metric" title="wikilink">Riemannian metric</a>. Equipping the space of lagrange multipliers with a metric in this way turns it into a <a href="Riemannian_manifold" title="wikilink">Riemannian manifold</a>.<a class="footnoteRef" href="#fn1" id="fnref1"><sup>1</sup></a> The study of such manifolds is referred to as <a href="information_geometry" title="wikilink">information geometry</a>; the metric above is the <a href="Fisher_information_metric" title="wikilink">Fisher information metric</a>. Here, 

<math display="inline" id="Partition_function_(mathematics):53">
 <semantics>
  <mi>β</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>β</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \beta
  </annotation>
 </semantics>
</math>

 serves as a coordinate on the manifold. It is interesting to compare the above definition to the simpler <a href="Fisher_information" title="wikilink">Fisher information</a>, from which it is inspired.</p>

<p>That the above defines the Fisher information metric can be readily seen by explicitly substituting for the expectation value:</p>

<p>

<math display="inline" id="Partition_function_(mathematics):54">
 <semantics>
  <mrow>
   <msub>
    <mi>g</mi>
    <mrow>
     <mi>i</mi>
     <mi>j</mi>
    </mrow>
   </msub>
   <mrow>
    <mo stretchy="false">(</mo>
    <mi>β</mi>
    <mo stretchy="false">)</mo>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <times></times>
    <apply>
     <csymbol cd="ambiguous">subscript</csymbol>
     <ci>g</ci>
     <apply>
      <times></times>
      <ci>i</ci>
      <ci>j</ci>
     </apply>
    </apply>
    <ci>β</ci>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \displaystyle g_{ij}(\beta)
  </annotation>
 </semantics>
</math>


</p>

<p>where we've written 

<math display="inline" id="Partition_function_(mathematics):55">
 <semantics>
  <mrow>
   <mi>P</mi>
   <mrow>
    <mo stretchy="false">(</mo>
    <mi>x</mi>
    <mo stretchy="false">)</mo>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <times></times>
    <ci>P</ci>
    <ci>x</ci>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   P(x)
  </annotation>
 </semantics>
</math>

 for 

<math display="inline" id="Partition_function_(mathematics):56">
 <semantics>
  <mrow>
   <mi>P</mi>
   <mrow>
    <mo stretchy="false">(</mo>
    <msub>
     <mi>x</mi>
     <mn>1</mn>
    </msub>
    <mo>,</mo>
    <msub>
     <mi>x</mi>
     <mn>2</mn>
    </msub>
    <mo>,</mo>
    <mi mathvariant="normal">…</mi>
    <mo stretchy="false">)</mo>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <times></times>
    <ci>P</ci>
    <vector>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <ci>x</ci>
      <cn type="integer">1</cn>
     </apply>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <ci>x</ci>
      <cn type="integer">2</cn>
     </apply>
     <ci>normal-…</ci>
    </vector>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   P(x_{1},x_{2},\dots)
  </annotation>
 </semantics>
</math>

 and the summation is understood to be over all values of all random variables 

<math display="inline" id="Partition_function_(mathematics):57">
 <semantics>
  <msub>
   <mi>X</mi>
   <mi>k</mi>
  </msub>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <csymbol cd="ambiguous">subscript</csymbol>
    <ci>X</ci>
    <ci>k</ci>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   X_{k}
  </annotation>
 </semantics>
</math>

. For continuous-valued random variables, the summations are replaced by integrals, of course.</p>

<p>Curiously, the <a href="Fisher_information_metric" title="wikilink">Fisher information metric</a> can also be understood as the flat-space <a href="Euclidean_metric" title="wikilink">Euclidean metric</a>, after appropriate change of variables, as described in the main article on it. When the 

<math display="inline" id="Partition_function_(mathematics):58">
 <semantics>
  <mi>β</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>β</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \beta
  </annotation>
 </semantics>
</math>

 are complex-valued, the resulting metric is the <a href="Fubini–Study_metric" title="wikilink">Fubini–Study metric</a>. When written in terms of <a href="mixed_state_(physics)" title="wikilink">mixed states</a>, instead of <a href="pure_state" title="wikilink">pure states</a>, it is known as the <a href="Bures_metric" title="wikilink">Bures metric</a>.</p>
<h2 id="correlation-functions">Correlation functions</h2>

<p>By introducing artificial auxiliary functions 

<math display="inline" id="Partition_function_(mathematics):59">
 <semantics>
  <msub>
   <mi>J</mi>
   <mi>k</mi>
  </msub>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <csymbol cd="ambiguous">subscript</csymbol>
    <ci>J</ci>
    <ci>k</ci>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   J_{k}
  </annotation>
 </semantics>
</math>

 into the partition function, it can then be used to obtain the expectation value of the random variables. Thus, for example, by writing</p>

<p>

<math display="inline" id="Partition_function_(mathematics):60">
 <semantics>
  <mrow>
   <mi>Z</mi>
   <mrow>
    <mo stretchy="false">(</mo>
    <mi>β</mi>
    <mo>,</mo>
    <mi>J</mi>
    <mo stretchy="false">)</mo>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <times></times>
    <ci>Z</ci>
    <interval closure="open">
     <ci>β</ci>
     <ci>J</ci>
    </interval>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \displaystyle Z(\beta,J)
  </annotation>
 </semantics>
</math>


</p>

<p>one then has</p>

<p>

<math display="block" id="Partition_function_(mathematics):61">
 <semantics>
  <mrow>
   <mrow>
    <mi>𝔼</mi>
    <mrow>
     <mo stretchy="false">[</mo>
     <msub>
      <mi>x</mi>
      <mi>k</mi>
     </msub>
     <mo stretchy="false">]</mo>
    </mrow>
   </mrow>
   <mo>=</mo>
   <mrow>
    <mo stretchy="false">⟨</mo>
    <msub>
     <mi>x</mi>
     <mi>k</mi>
    </msub>
    <mo stretchy="false">⟩</mo>
   </mrow>
   <mo>=</mo>
   <msub>
    <mrow>
     <mrow>
      <mfrac>
       <mo>∂</mo>
       <mrow>
        <mo>∂</mo>
        <msub>
         <mi>J</mi>
         <mi>k</mi>
        </msub>
       </mrow>
      </mfrac>
      <mrow>
       <mi>log</mi>
       <mi>Z</mi>
      </mrow>
      <mrow>
       <mo stretchy="false">(</mo>
       <mi>β</mi>
       <mo>,</mo>
       <mi>J</mi>
       <mo stretchy="false">)</mo>
      </mrow>
     </mrow>
     <mo fence="true">|</mo>
    </mrow>
    <mrow>
     <mi>J</mi>
     <mo>=</mo>
     <mn>0</mn>
    </mrow>
   </msub>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <and></and>
    <apply>
     <eq></eq>
     <apply>
      <times></times>
      <ci>𝔼</ci>
      <apply>
       <csymbol cd="latexml">delimited-[]</csymbol>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>x</ci>
        <ci>k</ci>
       </apply>
      </apply>
     </apply>
     <apply>
      <csymbol cd="latexml">delimited-⟨⟩</csymbol>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>x</ci>
       <ci>k</ci>
      </apply>
     </apply>
    </apply>
    <apply>
     <eq></eq>
     <share href="#.cmml">
     </share>
     <apply>
      <csymbol cd="latexml">evaluated-at</csymbol>
      <apply>
       <times></times>
       <apply>
        <divide></divide>
        <partialdiff></partialdiff>
        <apply>
         <partialdiff></partialdiff>
         <apply>
          <csymbol cd="ambiguous">subscript</csymbol>
          <ci>J</ci>
          <ci>k</ci>
         </apply>
        </apply>
       </apply>
       <apply>
        <log></log>
        <ci>Z</ci>
       </apply>
       <interval closure="open">
        <ci>β</ci>
        <ci>J</ci>
       </interval>
      </apply>
      <apply>
       <eq></eq>
       <ci>J</ci>
       <cn type="integer">0</cn>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \mathbb{E}[x_{k}]=\langle x_{k}\rangle=\left.\frac{\partial}{\partial J_{k}}%
\log Z(\beta,J)\right|_{J=0}
  </annotation>
 </semantics>
</math>

</p>

<p>as the expectation value of 

<math display="inline" id="Partition_function_(mathematics):62">
 <semantics>
  <msub>
   <mi>x</mi>
   <mi>k</mi>
  </msub>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <csymbol cd="ambiguous">subscript</csymbol>
    <ci>x</ci>
    <ci>k</ci>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   x_{k}
  </annotation>
 </semantics>
</math>

. In the <a href="path_integral_formulation" title="wikilink">path integral formulation</a> of <a href="quantum_field_theory" title="wikilink">quantum field theory</a>, these auxiliary functions are commonly referred to as <a href="source_field" title="wikilink">source fields</a>.</p>

<p>Multiple differentiations lead to the <a href="Ursell_function" title="wikilink">connected correlation functions</a> of the random variables. Thus the correlation function 

<math display="inline" id="Partition_function_(mathematics):63">
 <semantics>
  <mrow>
   <mi>C</mi>
   <mrow>
    <mo stretchy="false">(</mo>
    <msub>
     <mi>x</mi>
     <mi>j</mi>
    </msub>
    <mo>,</mo>
    <msub>
     <mi>x</mi>
     <mi>k</mi>
    </msub>
    <mo stretchy="false">)</mo>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <times></times>
    <ci>C</ci>
    <interval closure="open">
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <ci>x</ci>
      <ci>j</ci>
     </apply>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <ci>x</ci>
      <ci>k</ci>
     </apply>
    </interval>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   C(x_{j},x_{k})
  </annotation>
 </semantics>
</math>

 between variables 

<math display="inline" id="Partition_function_(mathematics):64">
 <semantics>
  <msub>
   <mi>x</mi>
   <mi>j</mi>
  </msub>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <csymbol cd="ambiguous">subscript</csymbol>
    <ci>x</ci>
    <ci>j</ci>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   x_{j}
  </annotation>
 </semantics>
</math>

 and 

<math display="inline" id="Partition_function_(mathematics):65">
 <semantics>
  <msub>
   <mi>x</mi>
   <mi>k</mi>
  </msub>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <csymbol cd="ambiguous">subscript</csymbol>
    <ci>x</ci>
    <ci>k</ci>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   x_{k}
  </annotation>
 </semantics>
</math>

 is given by:</p>

<p>

<math display="block" id="Partition_function_(mathematics):66">
 <semantics>
  <mrow>
   <mrow>
    <mi>C</mi>
    <mrow>
     <mo stretchy="false">(</mo>
     <msub>
      <mi>x</mi>
      <mi>j</mi>
     </msub>
     <mo>,</mo>
     <msub>
      <mi>x</mi>
      <mi>k</mi>
     </msub>
     <mo stretchy="false">)</mo>
    </mrow>
   </mrow>
   <mo>=</mo>
   <msub>
    <mrow>
     <mrow>
      <mfrac>
       <mo>∂</mo>
       <mrow>
        <mo>∂</mo>
        <msub>
         <mi>J</mi>
         <mi>j</mi>
        </msub>
       </mrow>
      </mfrac>
      <mfrac>
       <mo>∂</mo>
       <mrow>
        <mo>∂</mo>
        <msub>
         <mi>J</mi>
         <mi>k</mi>
        </msub>
       </mrow>
      </mfrac>
      <mrow>
       <mi>log</mi>
       <mi>Z</mi>
      </mrow>
      <mrow>
       <mo stretchy="false">(</mo>
       <mi>β</mi>
       <mo>,</mo>
       <mi>J</mi>
       <mo stretchy="false">)</mo>
      </mrow>
     </mrow>
     <mo fence="true">|</mo>
    </mrow>
    <mrow>
     <mi>J</mi>
     <mo>=</mo>
     <mn>0</mn>
    </mrow>
   </msub>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <times></times>
     <ci>C</ci>
     <interval closure="open">
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>x</ci>
       <ci>j</ci>
      </apply>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>x</ci>
       <ci>k</ci>
      </apply>
     </interval>
    </apply>
    <apply>
     <csymbol cd="latexml">evaluated-at</csymbol>
     <apply>
      <times></times>
      <apply>
       <divide></divide>
       <partialdiff></partialdiff>
       <apply>
        <partialdiff></partialdiff>
        <apply>
         <csymbol cd="ambiguous">subscript</csymbol>
         <ci>J</ci>
         <ci>j</ci>
        </apply>
       </apply>
      </apply>
      <apply>
       <divide></divide>
       <partialdiff></partialdiff>
       <apply>
        <partialdiff></partialdiff>
        <apply>
         <csymbol cd="ambiguous">subscript</csymbol>
         <ci>J</ci>
         <ci>k</ci>
        </apply>
       </apply>
      </apply>
      <apply>
       <log></log>
       <ci>Z</ci>
      </apply>
      <interval closure="open">
       <ci>β</ci>
       <ci>J</ci>
      </interval>
     </apply>
     <apply>
      <eq></eq>
      <ci>J</ci>
      <cn type="integer">0</cn>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   C(x_{j},x_{k})=\left.\frac{\partial}{\partial J_{j}}\frac{\partial}{\partial J%
_{k}}\log Z(\beta,J)\right|_{J=0}
  </annotation>
 </semantics>
</math>

</p>

<p>For the case where <em>H</em> can be written as a <a href="quadratic_form" title="wikilink">quadratic form</a> involving a <a href="differential_operator" title="wikilink">differential operator</a>, that is, as</p>

<p>

<math display="block" id="Partition_function_(mathematics):67">
 <semantics>
  <mrow>
   <mi>H</mi>
   <mo>=</mo>
   <mrow>
    <mfrac>
     <mn>1</mn>
     <mn>2</mn>
    </mfrac>
    <mrow>
     <munder>
      <mo largeop="true" movablelimits="false" symmetric="true">∑</mo>
      <mi>n</mi>
     </munder>
     <mrow>
      <msub>
       <mi>x</mi>
       <mi>n</mi>
      </msub>
      <mi>D</mi>
      <msub>
       <mi>x</mi>
       <mi>n</mi>
      </msub>
     </mrow>
    </mrow>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <ci>H</ci>
    <apply>
     <times></times>
     <apply>
      <divide></divide>
      <cn type="integer">1</cn>
      <cn type="integer">2</cn>
     </apply>
     <apply>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <sum></sum>
       <ci>n</ci>
      </apply>
      <apply>
       <times></times>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>x</ci>
        <ci>n</ci>
       </apply>
       <ci>D</ci>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>x</ci>
        <ci>n</ci>
       </apply>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   H=\frac{1}{2}\sum_{n}x_{n}Dx_{n}
  </annotation>
 </semantics>
</math>

</p>

<p>then the correlation function 

<math display="inline" id="Partition_function_(mathematics):68">
 <semantics>
  <mrow>
   <mi>C</mi>
   <mrow>
    <mo stretchy="false">(</mo>
    <msub>
     <mi>x</mi>
     <mi>j</mi>
    </msub>
    <mo>,</mo>
    <msub>
     <mi>x</mi>
     <mi>k</mi>
    </msub>
    <mo stretchy="false">)</mo>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <times></times>
    <ci>C</ci>
    <interval closure="open">
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <ci>x</ci>
      <ci>j</ci>
     </apply>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <ci>x</ci>
      <ci>k</ci>
     </apply>
    </interval>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   C(x_{j},x_{k})
  </annotation>
 </semantics>
</math>

 can be understood to be the <a href="Green's_function" title="wikilink">Green's function</a> for the differential operator (and generally giving rise to <a href="Fredholm_theory" title="wikilink">Fredholm theory</a>). In the quantum field theory setting, such functions are referred to as <a href="propagator" title="wikilink">propagators</a>; higher order correlators are called n-point functions; working with them defines the <a href="effective_action" title="wikilink">effective action</a> of a theory.</p>
<h2 id="general-properties">General properties</h2>

<p>Partition functions are used to discuss <a href="critical_scaling" title="wikilink">critical scaling</a>, <a href="universality_(dynamical_systems)" title="wikilink">universality</a> and are subject to the <a href="renormalization_group" title="wikilink">renormalization group</a>.</p>
<h2 id="see-also">See also</h2>
<ul>
<li><a href="Exponential_family" title="wikilink">Exponential family</a></li>
<li><a href="Partition_function_(statistical_mechanics)" title="wikilink">Partition function (statistical mechanics)</a></li>
</ul>
<h2 id="references">References</h2>

<p>"</p>

<p><a href="Category:Partition_functions" title="wikilink"> </a> <a href="Category:Entropy_and_information" title="wikilink">Category:Entropy and information</a></p>
<section class="footnotes">
<hr/>
<ol>
<li id="fn1">Gavin E. Crooks, "Measuring thermodynamic length" (2007), <a href="http://arxiv.org/abs/0706.0559">ArXiv 0706.0559</a><a href="#fnref1">↩</a></li>
</ol>
</section>
</body>
</html>
