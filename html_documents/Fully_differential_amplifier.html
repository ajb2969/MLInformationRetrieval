<html lang="en">
<head>
<meta charset="utf-8"/>
<title offset="148">Fully differential amplifier</title>
<script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_SVG.js" type="text/javascript">
</script>
</head>
<body>
<h1>Fully differential amplifier</h1>
<hr/>

<p>A <strong>fully differential amplifier</strong>, usually referred to as an <strong>'FDA</strong>' for brevity, is a <a href="direct_current" title="wikilink">DC</a>-<a href="Direct_coupling" title="wikilink">coupled</a> high-gain electronic voltage <a href="electronic_amplifier" title="wikilink">amplifier</a> with <a href="Differential_signaling" title="wikilink">differential</a> inputs and differential outputs. In its ordinary usage, the output of the FDA is controlled by two feedback paths which, because of the amplifier's high gain, almost completely determine the output voltage for any given input.</p>

<p>In a fully differential amplifier, common-mode noise such as power supply disturbances is rejected; this makes FDAs especially useful as part of a <a href="mixed-signal_integrated_circuit" title="wikilink">mixed-signal integrated circuit</a>.<a class="footnoteRef" href="#fn1" id="fnref1"><sup>1</sup></a></p>

<p>An FDA is often used to convert an <a href="analog_signal" title="wikilink">analog signal</a> into a form more suitable for driving into an <a href="analog-to-digital_converter" title="wikilink">analog-to-digital converter</a>; many modern high-precision ADCs have differential inputs.<a class="footnoteRef" href="#fn2" id="fnref2"><sup>2</sup></a><a class="footnoteRef" href="#fn3" id="fnref3"><sup>3</sup></a><a class="footnoteRef" href="#fn4" id="fnref4"><sup>4</sup></a></p>
<h2 id="the-ideal-fda">The Ideal FDA</h2>

<p>For any input voltages the <em>ideal</em> FDA has infinite <a href="open-loop_gain" title="wikilink">open-loop gain</a>, infinite <a href="Bandwidth_(signal_processing)" title="wikilink">bandwidth</a>, infinite <a href="input_impedance" title="wikilink">input impedances</a> resulting in zero input currents, infinite <a href="slew_rate" title="wikilink">slew rate</a>, zero <a href="output_impedance" title="wikilink">output impedance</a> and zero <a href="Electronic_noise" title="wikilink">noise</a>.</p>

<p>In the ideal FDA, the difference of the output voltages is equal the difference between the input voltages multiplied by the gain. The common mode voltage of the output voltages is not dependent of the input voltage. In many cases, the common mode voltage can be directly set by a third voltage input.</p>
<ul>
<li>Input voltage

<math display="block" id="Fully_differential_amplifier:0">
 <semantics>
  <mrow>
   <msub>
    <mi>V</mi>
    <mrow>
     <mi>i</mi>
     <mi>d</mi>
    </mrow>
   </msub>
   <mo>=</mo>
   <mrow>
    <msub>
     <mi>V</mi>
     <mrow>
      <mrow>
       <mi>i</mi>
       <mi>n</mi>
      </mrow>
      <mo>+</mo>
     </mrow>
    </msub>
    <mo>-</mo>
    <msub>
     <mi>V</mi>
     <mrow>
      <mrow>
       <mi>i</mi>
       <mi>n</mi>
      </mrow>
      <mo>-</mo>
     </mrow>
    </msub>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <csymbol cd="ambiguous">subscript</csymbol>
     <ci>V</ci>
     <apply>
      <times></times>
      <ci>i</ci>
      <ci>d</ci>
     </apply>
    </apply>
    <apply>
     <minus></minus>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <ci>V</ci>
      <apply>
       <csymbol cd="latexml">limit-from</csymbol>
       <apply>
        <times></times>
        <ci>i</ci>
        <ci>n</ci>
       </apply>
       <plus></plus>
      </apply>
     </apply>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <ci>V</ci>
      <apply>
       <csymbol cd="latexml">limit-from</csymbol>
       <apply>
        <times></times>
        <ci>i</ci>
        <ci>n</ci>
       </apply>
       <minus></minus>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   V_{id}=V_{in+}-V_{in-}
  </annotation>
 </semantics>
</math>

<a class="footnoteRef" href="#fn5" id="fnref5"><sup>5</sup></a></li>
<li>Output voltage

<math display="block" id="Fully_differential_amplifier:1">
 <semantics>
  <mrow>
   <msub>
    <mi>V</mi>
    <mrow>
     <mi>o</mi>
     <mi>d</mi>
    </mrow>
   </msub>
   <mo>=</mo>
   <mrow>
    <msub>
     <mi>V</mi>
     <mrow>
      <mrow>
       <mi>o</mi>
       <mi>u</mi>
       <mi>t</mi>
      </mrow>
      <mo>+</mo>
     </mrow>
    </msub>
    <mo>-</mo>
    <msub>
     <mi>V</mi>
     <mrow>
      <mrow>
       <mi>o</mi>
       <mi>u</mi>
       <mi>t</mi>
      </mrow>
      <mo>-</mo>
     </mrow>
    </msub>
   </mrow>
   <mo>=</mo>
   <mrow>
    <mrow>
     <msub>
      <mi>V</mi>
      <mrow>
       <mi>i</mi>
       <mi>d</mi>
      </mrow>
     </msub>
     <mo>×</mo>
     <mi>G</mi>
    </mrow>
    <mi>a</mi>
    <mi>i</mi>
    <mi>n</mi>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <and></and>
    <apply>
     <eq></eq>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <ci>V</ci>
      <apply>
       <times></times>
       <ci>o</ci>
       <ci>d</ci>
      </apply>
     </apply>
     <apply>
      <minus></minus>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>V</ci>
       <apply>
        <csymbol cd="latexml">limit-from</csymbol>
        <apply>
         <times></times>
         <ci>o</ci>
         <ci>u</ci>
         <ci>t</ci>
        </apply>
        <plus></plus>
       </apply>
      </apply>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>V</ci>
       <apply>
        <csymbol cd="latexml">limit-from</csymbol>
        <apply>
         <times></times>
         <ci>o</ci>
         <ci>u</ci>
         <ci>t</ci>
        </apply>
        <minus></minus>
       </apply>
      </apply>
     </apply>
    </apply>
    <apply>
     <eq></eq>
     <share href="#.cmml">
     </share>
     <apply>
      <times></times>
      <apply>
       <times></times>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>V</ci>
        <apply>
         <times></times>
         <ci>i</ci>
         <ci>d</ci>
        </apply>
       </apply>
       <ci>G</ci>
      </apply>
      <ci>a</ci>
      <ci>i</ci>
      <ci>n</ci>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   V_{od}=V_{out+}-V_{out-}=V_{id}\times Gain
  </annotation>
 </semantics>
</math>

<a class="footnoteRef" href="#fn6" id="fnref6"><sup>6</sup></a></li>
<li>Output common-mode voltage

<math display="block" id="Fully_differential_amplifier:2">
 <semantics>
  <mrow>
   <msub>
    <mi>V</mi>
    <mrow>
     <mi>o</mi>
     <mi>c</mi>
    </mrow>
   </msub>
   <mo>=</mo>
   <mfrac>
    <mrow>
     <mrow>
      <mo stretchy="false">(</mo>
      <msub>
       <mi>V</mi>
       <mrow>
        <mrow>
         <mi>o</mi>
         <mi>u</mi>
         <mi>t</mi>
        </mrow>
        <mo>+</mo>
       </mrow>
      </msub>
      <mo stretchy="false">)</mo>
     </mrow>
     <mo>+</mo>
     <mrow>
      <mo stretchy="false">(</mo>
      <msub>
       <mi>V</mi>
       <mrow>
        <mrow>
         <mi>o</mi>
         <mi>u</mi>
         <mi>t</mi>
        </mrow>
        <mo>-</mo>
       </mrow>
      </msub>
      <mo stretchy="false">)</mo>
     </mrow>
    </mrow>
    <mn>2</mn>
   </mfrac>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <csymbol cd="ambiguous">subscript</csymbol>
     <ci>V</ci>
     <apply>
      <times></times>
      <ci>o</ci>
      <ci>c</ci>
     </apply>
    </apply>
    <apply>
     <divide></divide>
     <apply>
      <plus></plus>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>V</ci>
       <apply>
        <csymbol cd="latexml">limit-from</csymbol>
        <apply>
         <times></times>
         <ci>o</ci>
         <ci>u</ci>
         <ci>t</ci>
        </apply>
        <plus></plus>
       </apply>
      </apply>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>V</ci>
       <apply>
        <csymbol cd="latexml">limit-from</csymbol>
        <apply>
         <times></times>
         <ci>o</ci>
         <ci>u</ci>
         <ci>t</ci>
        </apply>
        <minus></minus>
       </apply>
      </apply>
     </apply>
     <cn type="integer">2</cn>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   V_{oc}=\frac{(V_{out+})+(V_{out-})}{2}
  </annotation>
 </semantics>
</math>

<a class="footnoteRef" href="#fn7" id="fnref7"><sup>7</sup></a></li>
</ul>

<p>A real FDA can only approximate this ideal, and the actual parameters are subject to drift over time and with changes in temperature, input conditions, etc. Modern integrated <a href="Field-effect_transistor" title="wikilink">FET</a> or <a class="uri" href="MOSFET" title="wikilink">MOSFET</a> FDAs approximate more closely to these ideals than bipolar ICs where large signals must be handled at room temperature over a limited bandwidth; input impedance, in particular, is much higher, although the bipolar FDA usually exhibit superior (i.e., lower) input offset drift and noise characteristics.</p>

<p>Where the limitations of real devices can be ignored, an FDA can be viewed as a <a href="Black_box_(systems)" title="wikilink">Black Box</a> with gain; circuit function and parameters are determined by <a class="uri" href="feedback" title="wikilink">feedback</a>, usually negative. An FDA as implemented in practice is moderately complex <a href="integrated_circuit" title="wikilink">integrated circuit</a>.</p>
<h2 id="limitations-of-real-fdas">Limitations of real FDAs</h2>
<h3 id="dc-imperfections">DC imperfections</h3>
<ul>
<li>Finite <a class="uri" href="gain" title="wikilink">gain</a> — the effect is most pronounced when the overall design attempts to achieve gain close to the inherent gain of the FDA.</li>
<li>Finite <a href="input_resistance" title="wikilink">input resistance</a> — this puts an upper bound on the resistances in the feedback circuit.</li>
<li>Nonzero output resistance — important for low resistance loads. Except for very small voltage output, power considerations usually come into play first. (Output impedance is inversely proportional to the idle current in the output stage — very low idle current results in very high output impedance.)</li>
<li>Input bias <a href="current_(electricity)" title="wikilink">current</a> — a small amount of current (typically ~10 nA for <a href="Bipolar_junction_transistor" title="wikilink">bipolar</a> FDAs, or picoamperes for <a class="uri" href="CMOS" title="wikilink">CMOS</a> designs) flows into the inputs. This current is mismatched slightly between the inverting and non-inverting inputs (there is an input offset current). This effect is usually important only for very low power circuits.</li>
<li>Input offset <a class="uri" href="voltage" title="wikilink">voltage</a> — the FDA will produce an output even when the input pins are at exactly the same voltage. For circuits which require precise DC operation, this effect must be compensated for.</li>
<li>Common mode gain — A perfect operational amplifier amplifies only the voltage difference between its two inputs, completely rejecting all voltages that are common to both. However, the differential input stage of an FDA is never perfect, leading to the amplification of these identical voltages to some degree. The standard measure of this defect is called the <a href="common-mode_rejection_ratio" title="wikilink">common-mode rejection ratio</a> (denoted, CMRR). Minimization of common mode gain is usually important in non-inverting amplifiers (described below) that operate at high amplification.</li>
<li>Temperature effects — all parameters change with temperature. Temperature drift of the input offset voltage is especially important.</li>
</ul>
<h3 id="ac-imperfections">AC imperfections</h3>
<ul>
<li>Finite <a href="Bandwidth_(signal_processing)" title="wikilink">bandwidth</a> — all amplifiers have a finite bandwidth. This is because FDAs use internal <a href="frequency_compensation" title="wikilink">frequency compensation</a> to increase the <a href="phase_margin" title="wikilink">phase margin</a>.</li>
<li>Input <a class="uri" href="capacitance" title="wikilink">capacitance</a> — most important for high frequency operation because it further reduces the open loop bandwidth of the amplifier.</li>
<li>Common mode gain — See DC imperfections, above.</li>
<li>Noise - all real electronic components (except superconductor) generate noise. You can find devices with 0.8 to several hundreds <a href="nanovolt" title="wikilink">nV</a>/<a class="uri" href="sqrt(Hz)" title="wikilink">sqrt(Hz)</a> noise performance.</li>
</ul>
<h3 id="nonlinear-imperfections">Nonlinear imperfections</h3>
<ul>
<li><a href="Clipping_(signal_processing)" title="wikilink">Saturation</a> — output voltage is limited to a peak value, usually slightly less than the <a href="power_supply" title="wikilink">power supply</a> voltage. Saturation occurs when the differential input voltage is too high for the op-amp's gain, driving the output level to that peak value.</li>
<li>Slewing — the amplifier's output voltage reaches its maximum rate of change. Measured as the <a href="slew_rate" title="wikilink">slew rate</a>, it is usually specified in volts per microsecond. When slewing occurs, further increases in the input signal have no effect on the rate of change of the output. Slewing is usually caused by internal capacitances in the amplifier, especially those used to implement its <a href="frequency_compensation" title="wikilink">frequency compensation</a>, particularly using <a href="pole_splitting" title="wikilink">pole splitting</a>.</li>
<li>Non-<a class="uri" href="linear" title="wikilink">linear</a> <a href="transfer_function" title="wikilink">transfer function</a> — The output voltage may not be accurately proportional to the difference between the input voltages. It is commonly called distortion when the input signal is a waveform. This effect will be very small in a practical circuit if substantial negative feedback is used.</li>
</ul>
<h3 id="power-considerations">Power considerations</h3>
<ul>
<li>Limited output <a href="Electric_power" title="wikilink">power</a> — if high power output is desired, an op-amp specifically designed for that purpose must be used. Most op-amps are designed for low power operation and are typically only able to drive output resistances down to 2 kΩ.</li>
<li>Limited <a href="current_limiting" title="wikilink">output current</a> — the output current must obviously be finite. In practice, most op-amps are designed to limit the output current so as not to exceed a specified level thus protecting the FDA and associated circuitry from damage.</li>
</ul>
<h2 id="dc-behavior">DC behavior</h2>

<p>Open-loop gain is defined as the <a href="Amplifier" title="wikilink">amplification</a> from input to output without any <a class="uri" href="feedback" title="wikilink">feedback</a> applied. For most practical calculations, the open-loop gain is assumed to be infinite; in reality it is obviously not. Typical devices exhibit open-loop DC gain ranging from 100,000 to over 1 million; this is sufficiently large for circuit gain to be determined almost entirely by the amount of negative feedback used. Op-amps have performance limits that the designer must keep in mind and sometimes work around. In particular, instability is possible in a DC amplifier if AC aspects are neglected.</p>
<h2 id="ac-behavior">AC behavior</h2>

<p>The FDA gain calculated at DC does not apply at higher frequencies. To a first approximation, the gain of a typical FDA is inversely proportional to frequency. This means that an FDA is characterized by its <a href="gain-bandwidth_product" title="wikilink">gain-bandwidth product</a>. For example, an FDA with a gain bandwidth product of 1 MHz would have a gain of 5 at 200 kHz, and a gain of 1 at 1 MHz. This <a class="uri" href="low-pass" title="wikilink">low-pass</a> characteristic is introduced deliberately, because it tends to stabilize the circuit by introducing a dominant pole. This is known as <a href="frequency_compensation" title="wikilink">frequency compensation</a>.</p>

<p>Typical low cost, a general purpose FDA exhibits a <a href="gain-bandwidth_product" title="wikilink">gain bandwidth product</a> of a few megahertz. Specialty and high speed FDAs can achieve <a href="gain-bandwidth_product" title="wikilink">gain bandwidth products</a> of hundreds of megahertz. Some FDAs are even capable of <a href="gain-bandwidth_product" title="wikilink">gain bandwidth products</a> greater than a gigahertz.</p>
<h2 id="references">References</h2>
<h2 id="see-also">See also</h2>
<ul>
<li><a href="Operational_amplifier_applications" title="wikilink">Operational amplifier applications</a></li>
<li><a href="Instrumentation_amplifier" title="wikilink">Instrumentation amplifier</a></li>
<li><a href="Active_filter" title="wikilink">Active filter</a></li>
<li><a href="Analog_computer" title="wikilink">Analog computer</a></li>
<li><a href="Current-feedback_operational_amplifier" title="wikilink">Current-feedback operational amplifier</a></li>
<li><a href="Operational_transconductance_amplifier" title="wikilink">Operational transconductance amplifier</a></li>
</ul>
<h2 id="external-links">External links</h2>
<ul>
<li><a href="http://focus.ti.com/lit/an/sloa054d/sloa054d.pdf">Differential Amplifiers</a> (TI Application Report)</li>
<li><a href="http://www.ti.com/sc/docs/apps/msp/journal/aug2000/aug_08.pdf">Fully Differential Amplifiers</a> (TI Analog Applications Journal)</li>
</ul>

<p>"</p>

<p><a href="Category:Electronic_amplifiers" title="wikilink">Category:Electronic amplifiers</a> <a href="Category:Integrated_circuits" title="wikilink">Category:Integrated circuits</a></p>
<section class="footnotes">
<hr/>
<ol>
<li id="fn1">Nancy Y. Sun. <a href="http://dspace.mit.edu/bitstream/handle/1721.1/37103/84908625.pdf">"A DC Stabilized Fully Differential Amplifier"</a>. 2005. p. 22.<a href="#fnref1">↩</a></li>
<li id="fn2">Jim Karki. <a href="http://www.ti.com/sc/docs/apps/msp/journal/aug2000/aug_08.pdf">"Fully differential amplifiers"</a>. 2000.<a href="#fnref2">↩</a></li>
<li id="fn3">Michael Steffes. <a href="http://www.edn.com/design/analog/4415982/Wideband-fully-differential-amplifier-noise-improved-using-active-match">"Wideband fully differential amplifier noise improved using active match"</a>. 2013-06-09.<a href="#fnref3">↩</a></li>
<li id="fn4">Rick. <a href="http://www.ecircuitcenter.com/Circuits/adcin_fully_diff/adcin_fully_diff1.htm">"ADC Input Driver FULLY DIFFERENTIAL AMPLIFIER"</a><a href="#fnref4">↩</a></li>
<li id="fn5"><a href="#fnref5">↩</a></li>
<li id="fn6"></li>
<li id="fn7"></li>
</ol>
</section>
</body>
</html>
