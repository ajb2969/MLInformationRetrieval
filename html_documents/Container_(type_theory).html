<html lang="en">
<head>
<meta charset="utf-8"/>
<title offset="1479">Container (type theory)</title>
<script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_SVG.js" type="text/javascript">
</script>
</head>
<body>
<h1>Container (type theory)</h1>
<hr/>

<p>In <a href="type_theory" title="wikilink">type theory</a>, <strong>containers</strong> are abstractions which permit various "collection types", such as <a href="list_(computing)" title="wikilink">lists</a> and <a href="tree_(data_structure)" title="wikilink">trees</a>, to be represented in a uniform way. A (<a href="unary_operation" title="wikilink">unary</a>) container is defined by a type of <em>shapes</em> S and a type family of <em>positions</em> P, indexed by S. The <em>extension</em> of a container is a family of dependent pairs consisting of a shape (of type S) and a function from positions of that shape to the element type. Containers can be seen as <a href="canonical_form" title="wikilink">canonical forms</a> for collection types.<a class="footnoteRef" href="#fn1" id="fnref1"><sup>1</sup></a></p>

<p>For lists, the shape type is the <a href="natural_number" title="wikilink">natural numbers</a> (including zero). The corresponding position types are the types of natural numbers less than the shape, for each shape.</p>

<p>For trees, the shape type is the type of trees of units (that is, trees with no information in them, just structure). The corresponding position types are isomorphic to the types of valid paths from the root to particular nodes on the shape, for each shape.</p>

<p>Note that the natural numbers are isomorphic to lists of units. In general the shape type will always be isomorphic to the original non-generic container type family (list, tree etc.) applied to unit.</p>

<p>One of the main motivations for introducing the notion of containers is to support <a href="generic_programming" title="wikilink">generic programming</a> in a <a href="dependent_type" title="wikilink">dependently typed</a> setting.<a class="footnoteRef" href="#fn2" id="fnref2"><sup>2</sup></a></p>
<h2 id="categorical-aspects">Categorical aspects</h2>

<p>The extension of a container is an <a class="uri" href="endofunctor" title="wikilink">endofunctor</a>. It takes a function <code>g</code> to</p>

<p>

<math display="inline" id="Container_(type_theory):0">
 <semantics>
  <mrow>
   <mrow>
    <mi>λ</mi>
    <mrow>
     <mo>(</mo>
     <mi>s</mi>
     <mo>,</mo>
     <mi>f</mi>
     <mo>)</mo>
    </mrow>
   </mrow>
   <mo>.</mo>
   <mrow>
    <mo>(</mo>
    <mi>s</mi>
    <mo>,</mo>
    <mrow>
     <mi>g</mi>
     <mo>∘</mo>
     <mi>f</mi>
    </mrow>
    <mo>)</mo>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <csymbol cd="ambiguous">formulae-sequence</csymbol>
    <apply>
     <times></times>
     <ci>λ</ci>
     <interval closure="open">
      <ci>s</ci>
      <ci>f</ci>
     </interval>
    </apply>
    <interval closure="open">
     <ci>s</ci>
     <apply>
      <compose></compose>
      <ci>g</ci>
      <ci>f</ci>
     </apply>
    </interval>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \lambda\left(s,f\right).\left(s,g\circ f\right)
  </annotation>
 </semantics>
</math>

</p>

<p>This is equivalent to the familiar <code>map g</code> in the case of lists, and does something similar for other containers.</p>
<h2 id="indexed-containers">Indexed containers</h2>

<p><strong>Indexed containers</strong> (also known as <strong>dependent polynomial functors</strong>) are a generalisation of containers, which can represent a wider class of types, such as vectors (sized lists).<a class="footnoteRef" href="#fn3" id="fnref3"><sup>3</sup></a></p>

<p>The element type (called the <em>input type</em>) is indexed by shape and position, so it can vary by shape and position, and the extension (called the <em>output type</em>) is also indexed by shape.</p>
<h2 id="see-also">See also</h2>
<ul>
<li><a href="Container_(abstract_data_type)" title="wikilink">Container (abstract data type)</a></li>
<li><a href="Functor_(type_theory)" title="wikilink">Functor (type theory)</a></li>
</ul>
<h2 id="references">References</h2>

<p>"</p>

<p><a href="Category:Type_theory" title="wikilink">Category:Type theory</a></p>
<section class="footnotes">
<hr/>
<ol>
<li id="fn1"><a href="#fnref1">↩</a></li>
<li id="fn2"></li>
<li id="fn3"><a href="#fnref3">↩</a></li>
</ol>
</section>
</body>
</html>
