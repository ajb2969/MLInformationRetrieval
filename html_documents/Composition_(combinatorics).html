<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title offset="1604">Composition (combinatorics)</title>
   <script type="text/javascript"
      src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_SVG.js">
    </script>
</head>
<body>
<h1>Composition (combinatorics)</h1>
<hr/>
<p>In <a class="uri" href="mathematics" title="wikilink">mathematics</a>, a <strong>composition</strong> of an <a class="uri" href="integer" title="wikilink">integer</a> <em>n</em> is a way of writing <em>n</em> as the <a href="summation" title="wikilink">sum</a> of a sequence of (strictly) <a href="positive_integer" title="wikilink">positive integers</a>. Two sequences that differ in the order of their terms define different compositions of their sum, while they are considered to define the same <a href="partition_(number_theory)" title="wikilink">partition</a> of that number. Every integer has finitely many distinct compositions. Negative numbers do not have any compositions, but 0 has one composition, the empty sequence. Each positive integer <em>n</em> has <span style="white-space:nowrap">2<sup><em>n</em>−1</sup></span> distinct compositions.  A <strong>weak composition</strong> of an integer <em>n</em> is similar to a composition of <em>n</em>, but allowing terms of the sequence to be zero: it is a way of writing <em>n</em> as the sum of a sequence of <a href="non-negative_integer" title="wikilink">non-negative integers</a>. As a consequence every positive integer admits infinitely many weak compositions (if their length is not bounded). Adding a number of terms 0 to the <em>end</em> of a weak composition is usually not considered to define a different weak composition; in other words, weak compositions are assumed to be implicitly extended indefinitely by terms 0.</p>
<p>To further generalize, an ''' <em>A</em>-restricted composition''' of an integer <em>n</em>, for a subset <em>A</em> of the (nonnegative or positive) integers, is an ordered collection of one or more elements in <em>A</em> whose sum is <em>n</em>.<a class="footnoteRef" href="#fn1" id="fnref1"><sup>1</sup></a></p>
<h2 id="examples">Examples</h2>
<p> </p>
<p>The sixteen compositions of 5 are:</p>
<ul>
<li>5</li>
<li>4 + 1</li>
<li>3 + 2</li>
<li>3 + 1 + 1</li>
<li>2 + 3</li>
<li>2 + 2 + 1</li>
<li>2 + 1 + 2</li>
<li>2 + 1 + 1 + 1</li>
<li>1 + 4</li>
<li>1 + 3 + 1</li>
<li>1 + 2 + 2</li>
<li>1 + 2 + 1 + 1</li>
<li>1 + 1 + 3</li>
<li>1 + 1 + 2 + 1</li>
<li>1 + 1 + 1 + 2</li>
<li>1 + 1 + 1 + 1 + 1.</li>
</ul>
<p>Compare this with the seven partitions of 5:</p>
<ul>
<li>5</li>
<li>4 + 1</li>
<li>3 + 2</li>
<li>3 + 1 + 1</li>
<li>2 + 2 + 1</li>
<li>2 + 1 + 1 + 1</li>
<li>1 + 1 + 1 + 1 + 1.</li>
</ul>
<p>It is possible to put constraints on the parts of the compositions. For example the five compositions of 5 into distinct terms are:</p>
<ul>
<li>5</li>
<li>4 + 1</li>
<li>3 + 2</li>
<li>2 + 3</li>
<li>1 + 4.</li>
</ul>
<p>Compare this with the three partitions of 5 into distinct terms:</p>
<ul>
<li>5</li>
<li>4 + 1</li>
<li>3 + 2.</li>
</ul>
<h2 id="number-of-compositions">Number of compositions</h2>
<p>Conventionally the empty composition is counted as the sole composition of 0, and there are no compositions of negative integers. There are 2<sup><em>n</em>−1</sup> compositions of <em>n</em> ≥ 1; here is a proof:</p>
<p>Placing either a plus sign or a comma in each of the <em>n</em> − 1 boxes of the array</p>
<p><span class="LaTeX">$$\big(\,
      \overbrace{1\, \square\, 1\, \square\, \ldots\, \square\, 1\,
      \square\, 1}^n\,
    \big)$$</span></p>
<p>produces a unique composition of <em>n</em>. Conversely, every composition of <em>n</em> determines an assignment of pluses and commas. Since there are <em>n</em> − 1 binary choices, the result follows. The same argument shows that the number of compositions of <em>n</em> into exactly <em>k</em> parts is given by the <a href="binomial_coefficient" title="wikilink">binomial coefficient</a> <span class="LaTeX">${n-1\choose k-1}$</span>. Note that by summing over all possible number of parts we recover 2<sup><em>n</em>−1</sup> as the total number of compositions of <em>n</em>:</p>
<p><span class="LaTeX">$$\sum_{k=1}^n {n-1 \choose k-1} = 2^{n-1}.$$</span></p>
<p>For weak compositions, the number is <span class="LaTeX">${n+k-1\choose k-1}$</span>, since each <em>k</em>-composition of <em>n</em> + <em>k</em> corresponds to a weak one of <em>n</em> by the rule [<em>a</em> + <em>b</em> + ... + <em>c</em> = <em>n</em> + <em>k</em>] → [(<em>a</em> − 1) + (<em>b</em> − 1) + ... + (<em>c</em> − 1) = <em>n</em>].</p>
<p>For <em>A</em>-restricted compositions, the number of compositions of <em>n</em> into exactly <em>k</em> parts is given by the extended binomial (or polynomial) coefficient <span class="LaTeX">$\binom{k}{n}_{(1)_{a\in A}}=[x^n](\sum_{a\in A} x^a)^k$</span>.<a class="footnoteRef" href="#fn2" id="fnref2"><sup>2</sup></a></p>
<h2 id="see-also">See also</h2>
<p><a href="Stars_and_bars_(combinatorics)" title="wikilink">Stars and bars (combinatorics)</a></p>
<h2 id="references">References</h2>
<ul>
<li></li>
</ul>
<h2 id="external-links">External links</h2>
<ul>
<li><a href="http://www.se16.info/js/partitions.htm">Partition and composition calculator</a></li>
</ul>
<p>"</p>
<p><a href="Category:Number_theory" title="wikilink">Category:Number theory</a> <a class="uri" href="Category:Combinatorics" title="wikilink">Category:Combinatorics</a></p>
<section class="footnotes">
<hr/>
<ol>
<li id="fn1"><a href="#fnref1">↩</a></li>
<li id="fn2"><a href="#fnref2">↩</a></li>
</ol>
</section>
</body>
</html>
