<html lang="en">
<head>
<meta charset="utf-8"/>
<title offset="1915">CaRMetal</title>
<script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_SVG.js" type="text/javascript">
</script>
</head>
<body>
<h1>CaRMetal</h1>
<style>
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
  margin: 0; padding: 0; vertical-align: baseline; border: none; }
<style>
table.sourceCode { width: 100%; line-height: 100%; }
td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; color: #aaaaaa; border-right: 1px solid #aaaaaa; }
td.sourceCode { padding-left: 5px; }
code > span.kw { color: #007020; font-weight: bold; } /* Keyword */
code > span.dt { color: #902000; } /* DataType */
code > span.dv { color: #40a070; } /* DecVal */
code > span.bn { color: #40a070; } /* BaseN */
code > span.fl { color: #40a070; } /* Float */
code > span.ch { color: #4070a0; } /* Char */
code > span.st { color: #4070a0; } /* String */
code > span.co { color: #60a0b0; font-style: italic; } /* Comment */
code > span.ot { color: #007020; } /* Other */
code > span.al { color: #ff0000; font-weight: bold; } /* Alert */
code > span.fu { color: #06287e; } /* Function */
code > span.er { color: #ff0000; font-weight: bold; } /* Error */
code > span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
code > span.cn { color: #880000; } /* Constant */
code > span.sc { color: #4070a0; } /* SpecialChar */
code > span.vs { color: #4070a0; } /* VerbatimString */
code > span.ss { color: #bb6688; } /* SpecialString */
code > span.im { } /* Import */
code > span.va { color: #19177c; } /* Variable */
code > span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code > span.op { color: #666666; } /* Operator */
code > span.bu { } /* BuiltIn */
code > span.ex { } /* Extension */
code > span.pp { color: #bc7a00; } /* Preprocessor */
code > span.at { color: #7d9029; } /* Attribute */
code > span.do { color: #ba2121; font-style: italic; } /* Documentation */
code > span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code > span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code > span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
  </style>
</body></html>
<body>
<hr/>

<p><strong>CaRMetal</strong> is an <a href="List_of_interactive_geometry_software" title="wikilink">interactive geometry</a> program which inherited the <a class="uri" href="C.a.R." title="wikilink">C.a.R.</a> engine. The software has been created by Eric Hakenholz, in <a href="Java_(programming_language)" title="wikilink">Java</a>. CaRMetal is free, under <a href="GNU_GPL" title="wikilink">GNU GPL</a> license. It keeps an amount of functionality of C.a.R. but uses a different graphical interface which purportedly eliminates some intermediate dialogs and provides direct access to numerous effects. Constructions are done using a main palette, which contains some useful construction shortcuts in addition to the standard compass and ruler tools. These include perpendicular bisector, circle through three points, circumcircular arc through three points, and conic section through five points. Also interesting are the loci, functions, parametric curves, and implicit plots. Element thickness, color, label, and other attributes (including the so-called <a class="uri" href="magnetic" title="wikilink">magnetic</a> property) can be set using a separate panel.</p>

<p>CaRMetal also supports a configurable restricted construction palette and has assignment capabilities, which use an apparently unique feature called <em>Monkey</em>. CaRMetal has a scripting language (<a class="uri" href="JavaScript" title="wikilink">JavaScript</a>) which allows the user to build rather complex figures like <a href="fractal" title="wikilink">fractals</a>. CaRMetal has several locales including French, English, Spanish, German, Italian, Dutch, Portuguese and Arabic.</p>
<h2 id="didactic-interest">Didactic interest</h2>
<h3 id="anticipation">Anticipation</h3>
<figure><b>(Figure)</b>
<figcaption>When one is constructing a <a href="parallel_(geometry)" title="wikilink">parallel</a> line, it follows the mouse, which makes it easy to emit <a href="conjecture" title="wikilink">conjectures</a> even while the figure is still under construction.</figcaption>
</figure>

<p>When one chooses a tool like the parallel to a line through a point, or a circle, the intended object appears in yellow color and follows the mouse movements. This allows the user to make conjectures even before the construction is finished. This constant interaction between the pupil and the object of experimentation is in phase with modern theories about <a class="uri" href="didactics" title="wikilink">didactics</a> and, in this view, CaRMetal is intended to be used by <a href="student" title="wikilink">students</a>.</p>
<h3 id="amodality">Amodality</h3>

<p>The windows which show the history, the tools palette, the properties of the selected object are around the figure and never above it. These windows are not <a href="modal_window" title="wikilink">modal windows</a> in the sense that they never hide the construction. For example, whenever the user wants to change the color of a polygon, he sees the new color immediately.</p>
<h3 id="transformations">Transformations</h3>

<p>When a transformation (for example a <a href="macro_(computer_science)" title="wikilink">macro</a>) has been defined, such that it transforms points into points, this transformation can also be applied to curves. Once again, this allows the learning subject to see the properties of the transformation at a glance, even before the transformation has actually been applied.</p>
<h3 id="assignments">Assignments</h3>

<p> The workbooks (see below) can be exported as <a class="uri" href="html" title="wikilink">html</a> files, with a restricted tools palette (for example, leaving only the intersection and circle tools lets the pupil make compass-only construction). To create an assignment, the teacher chooses the initial objects, the objects to be created by the pupil, and writes a text explaining what is to be done. Since 2010, when the pupil has finished the construction and wants to test it, random variations are tested (with a tool called <em>Monkey</em>) and a quality note is attributed to the pupil (actually, a percentage of the good constructions amongst the variations).</p>
<h3 id="macros">Macros</h3>

<p>The macros can be organized in a hierarchy of folders, which make it easy to transform CaRMetal into a tool allowing to explore non-euclidean geometries.</p>
<h2 id="special-features">Special features</h2>
<h3 id="workbooks">Workbooks</h3>

<p>Since 2010, CaRMetal uses a folder system allowing one to put several figures in one folder, called "workbook". It is easy to navigate between the sheets of a workbook, to duplicate a sheet (or figure), to merge several workbooks into one. CaRMetal allows one to include picture files and JavaScript files into a figure. The file extension of a figure is <em>zir</em> like in <a class="uri" href="C.a.R." title="wikilink">C.a.R.</a> (by the way, there is much compatibility between both software) and the file structure is a meta-description of the figure in the <a class="uri" href="XML" title="wikilink">XML</a> language. But a workbook is saved as a zipped folder containing all the <em>zir</em> figures, plus the included pictures (<a class="uri" href="GIF" title="wikilink">GIF</a>, <a class="uri" href="JPEG" title="wikilink">JPEG</a> or <a href="Portable_Network_Graphics" title="wikilink">PNG</a>) and a <em>preferences</em> file.</p>
<h3 id="numeric-display">Numeric display</h3>

<p> It is possible to convert any numerical measure of the figure into text, for display purposes. For example, if a segment called 's1' is 4.5 unit long, writing</p>

<p><code>"The length of the segment is %s1%"</code></p>

<p>creates a character string which displays as <em>The length of the segment is 4.5</em>. This character string can be included into the figure but also set as the <em>alias</em> of an object (for example <em>s1</em>) or the name of an expression. Of course when one of the extremities of the segment is moved with the mouse, the text is edited in real time. This is called a dynamic text.</p>

<p>CaRMetal uses <em>HotEqn</em> and <em>JLatexMath</em> which are <a class="uri" href="LaTeX" title="wikilink">LaTeX</a> parsers, and it is possible to write LaTeX formulae inside text objects. For example, if <em>poly1</em> is a square, and one wishes to find a circle which area is the same as the square's one, one can build a text expression like this:</p>

<p><code>"The radius of the circle would be $\sqrt{\frac{%poly1%}{\pi}}\simeq %sqrt(poly1/pi)%$"</code></p>

<p>This can give a text such as this

<math display="block" id="CaRMetal:0">
 <semantics>
  <mrow>
   <mrow>
    <mtext>The radius of the circle would be</mtext>
    <msqrt>
     <mfrac>
      <mn>4</mn>
      <mi>π</mi>
     </mfrac>
    </msqrt>
   </mrow>
   <mo>≃</mo>
   <mn>1.13</mn>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <csymbol cd="latexml">similar-to-or-equals</csymbol>
    <apply>
     <times></times>
     <mtext>The radius of the circle would be</mtext>
     <apply>
      <root></root>
      <apply>
       <divide></divide>
       <cn type="integer">4</cn>
       <ci>π</ci>
      </apply>
     </apply>
    </apply>
    <cn type="float">1.13</cn>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \mbox{The radius of the circle would be }\sqrt{\frac{4}{\pi}}\simeq 1.13
  </annotation>
 </semantics>
</math>

</p>

<p>The strength of this feature comes from the fact that it is possible to mix up dynamic texts with LaTeX formulae, getting <em>dynamic LaTeX</em>(when the size of the square changes, the display changes too)!</p>
<h3 id="d">2.5D</h3>

<p> CaRMetal allows the user to set some properties of the objects, like their color or the fact that they are visible or not, as <a href="conditional_(programming)" title="wikilink">conditional</a>. Also each object can have a layer number. An important application of these features is the <em>3D</em> mode of CaRMetal, which comes up with a <a href="regular_tetrahedron" title="wikilink">regular tetrahedron</a>, a <a class="uri" href="cube" title="wikilink">cube</a>, a <a class="uri" href="diamond" title="wikilink">diamond</a> and a <a href="regular_dodecahedron" title="wikilink">regular dodecahedron</a>. It is also possible to bind a point to the inside of a circle or polygon. This feature, inherited from <a class="uri" href="C.a.R." title="wikilink">C.a.R.</a>, is based on <a href="barycentric_coordinates_(mathematics)" title="wikilink">barycentric coordinates</a>. One can speak about <em>2.5D</em> because CaRMetal is not quite a 3D software, but more than just a 2D software either.</p>
<h3 id="magnetism">Magnetism</h3>

<p>A point can be made <a class="uri" href="magnetic" title="wikilink">magnetic</a> with a distance and a list of objects it is attracted to whenever the point is sufficiently near one or several of these objects (sufficiently near means that the distance between them is less than the minimal distance which is a property of the point, and is measured in <a class="uri" href="pixel" title="wikilink">pixel</a> units). For example, when a point is attracted to a finite set of points, which themselves are fixed, it can explore a <a href="finite_geometry" title="wikilink">finite geometry</a>.</p>
<h3 id="network">Network</h3>

<p>Since 2013 there is the possibility to run one CaRMetal figure as server (typically, the teacher's one) and several as clients. Therefore, it is possible</p>
<ul>
<li>to send one's figure to the server</li>
<li>for the server, to send a correct figure to a student who lost his, or cannot create it in the requested times</li>
<li>to collect data, geometrical or not, within one single figure (the server's one)</li>
<li>to manipulate the same figure at the same time, for several people who <em>share</em> their work</li>
<li>to send and receive JavaScript programs (see below)</li>
<li>to chat within a shared figure...</li>
</ul>
<h2 id="javascript-inside-carmetal">JavaScript inside CaRMetal</h2>

<p>The script tool mixes up <a href="algorithmic" title="wikilink">algorithmics</a> and <a class="uri" href="geometry" title="wikilink">geometry</a>. Such scripting tools exist also in <a class="uri" href="DrGeo" title="wikilink">DrGeo</a>, <a href="Kig_(software)" title="wikilink">Kig</a> and <a href="Cinderella_(software)" title="wikilink">Cinderella (software)</a>. To run a script, one clicks over the icon representing a <a href="traffic_light" title="wikilink">traffic light</a>. A script can be attached to one or several points, so that any movement of one of these points runs the script. This allows some kind of <a href="inverse_kinematics" title="wikilink">inverse kinematics</a> much like with <a class="uri" href="GeoLicia" title="wikilink">GeoLicia</a>.</p>
<h3 id="variables">Variables</h3>

<p>To create a geometric object in <a class="uri" href="JavaScript" title="wikilink">JavaScript</a> it suffices to click on an icon representing the object. The JavaScript instruction appears in the editor, with predefined parameters. The user has then only to edit these, and does not have to use <a class="uri" href="mnemotechnics" title="wikilink">mnemotechnics</a>. But when a geometric object is created, the variable which called the routine is really a <a href="character_string" title="wikilink">character string</a>, containing the name of the object.</p>

<p>For example,</p>
<div class="sourceCode"><pre class="sourceCode javascript"><code class="sourceCode javascript">a<span class="op">=</span><span class="at">Point</span>(<span class="dv">2</span><span class="op">,</span><span class="dv">3</span>)<span class="op">;</span></code></pre></div>

<p>creates a point, usually called <em>P1</em> and the variable <em>a</em> contains the string "P1". This allows to refer to the point by its name. The coordinates of the point are initialized but the point can still move with the use of the mouse. It is also possible to create a point in <a href="procedural_programming" title="wikilink">procedural programming</a> with</p>
<div class="sourceCode"><pre class="sourceCode javascript"><code class="sourceCode javascript"><span class="at">Point</span>(<span class="st">"A"</span><span class="op">,</span><span class="dv">2</span><span class="op">,</span><span class="dv">3</span>)<span class="op">;</span></code></pre></div>

<p>In this case, the name of the point is "A" (unless there be already an object called "A"), and no variable is set to the name "A".</p>
<h3 id="input-output">Input-Output</h3>

<p>To output a variable, there are four ways:</p>
<ol>
<li>Create an expression inside the figure (or display with a graphic mean such as an histogram);</li>
<li><em>Print</em> which opens a new window and prints the content of the variable in it;</li>
<li><em>Println</em> which also goes to the line;</li>
<li><em>Alert</em> which opens an alert window, which closes as soon as the user clicked on <em>OK</em>.</li>
</ol>

<p>To input a variable, there is</p>
<ol>
<li><em>Input</em> (you bet!) which opens an input window (with a text) and waits for the click on <em>OK</em></li>
<li><em>InteractiveInput</em> which lets the user choose an object in the figure</li>
</ol>

<p>This <a class="uri" href="paradigm" title="wikilink">paradigm</a> considers the variables of the program not necessarily as numeric or string variables but can act on graphic objects too. This is a common feature with <a href="Kig_(software)" title="wikilink">Kig</a> (but in this case, the language is <a href="Python_(language)" title="wikilink">Python (language)</a>) and <a class="uri" href="DrGeo" title="wikilink">DrGeo</a> (in this case, with <a href="Scheme_(language)" title="wikilink">Scheme (language)</a>).</p>
<h3 id="strings">Strings</h3>

<p>It is also possible to set the coordinates of a point as <a href="character_string" title="wikilink">character strings</a> written in the language of CaRMetal. For example, to have a point <em>B</em> which follows <em>A</em> except that B's coordinates are integer (to model a <a href="gaussian_integer" title="wikilink">gaussian integer</a>) one can write</p>
<div class="sourceCode"><pre class="sourceCode javascript"><code class="sourceCode javascript">a<span class="op">=</span><span class="at">Point</span>(<span class="st">"2.72"</span><span class="op">,</span><span class="st">"3.14"</span>)<span class="op">;</span>
b<span class="op">=</span><span class="at">Point</span>(<span class="st">"round(x_a)"</span><span class="op">,</span><span class="st">"round(y_a)"</span>)<span class="op">;</span></code></pre></div>
<h3 id="loops">Loops</h3>

<p>As an example, the <a href="Sierpinski_triangle" title="wikilink">Sierpinski triangle</a> can be built up as an <a href="iterated_function_system" title="wikilink">iterated function system</a> with this recursive script, which is rather short because of the already available graphic instructions such as <em>MidPoint</em>:</p>
<div class="sourceCode"><pre class="sourceCode javascript"><code class="sourceCode javascript">a<span class="op">=</span><span class="at">Point</span>(<span class="op">-</span><span class="dv">4</span><span class="op">,-</span><span class="dv">2</span>)<span class="op">;</span>
b<span class="op">=</span><span class="at">Point</span>(<span class="dv">4</span><span class="op">,-</span><span class="dv">2</span>)<span class="op">;</span>
c<span class="op">=</span><span class="at">Point</span>(<span class="dv">0</span><span class="op">,</span><span class="dv">4</span>)<span class="op">;</span>
m<span class="op">=</span><span class="at">Point</span>(<span class="va">Math</span>.<span class="at">random</span>()<span class="op">,</span><span class="va">Math</span>.<span class="at">random</span>())<span class="op">;</span>
<span class="at">SetHide</span>(m<span class="op">,</span><span class="kw">true</span>)<span class="op">;</span>
<span class="cf">for</span>(n<span class="op">=</span><span class="dv">0</span><span class="op">;</span>n<span class="op">&lt;</span><span class="dv">2000</span><span class="op">;</span>n<span class="op">++</span>)<span class="op">{</span>
    dice<span class="op">=</span><span class="va">Math</span>.<span class="at">ceil</span>(<span class="va">Math</span>.<span class="at">random</span>()<span class="op">*</span><span class="dv">3</span>)<span class="op">;</span>          <span class="co">//A 3-faces dice!</span>
    <span class="cf">switch</span>(dice)<span class="op">{</span>
        <span class="cf">case</span> <span class="dv">1</span><span class="op">:</span> <span class="op">{</span>p<span class="op">=</span><span class="at">MidPoint</span>(a<span class="op">,</span>m)<span class="op">;</span> <span class="cf">break</span><span class="op">;</span>
        <span class="op">}</span>
        <span class="cf">case</span> <span class="dv">2</span><span class="op">:</span> <span class="op">{</span>p<span class="op">=</span><span class="at">MidPoint</span>(b<span class="op">,</span>m)<span class="op">;</span> <span class="cf">break</span><span class="op">;</span>
        <span class="op">}</span>
        <span class="cf">case</span> <span class="dv">3</span><span class="op">:</span> <span class="op">{</span>p<span class="op">=</span><span class="at">MidPoint</span>(c<span class="op">,</span>m)<span class="op">;</span> <span class="cf">break</span><span class="op">;</span>
        <span class="op">}</span>
    <span class="op">}</span>
    <span class="at">SetPointType</span>(p<span class="op">,</span><span class="st">"point"</span>)<span class="op">;</span>
    m<span class="op">=</span>p<span class="op">;</span>
<span class="op">}</span></code></pre></div>

<p>After the cloud of points has been built up (and even while the script is still running!) one can make <em>A</em>, <em>B</em> and <em>C</em> move with the mouse (or automatically with the <em>Monkey</em>): The triangle is <em>dynamic</em>!</p>
<h3 id="javascript-objects">JavaScript objects</h3>

<p>CaRMetal can also use the JavaScript objects like</p>
<ol>
<li>arrays, useful to make <a class="uri" href="statistics" title="wikilink">statistics</a> on geometric figures;</li>
<li>date object, useful to measure time;</li>
<li>String and <a class="uri" href="RegExp" title="wikilink">RegExp</a> objects, which make it easy to implement <a href="L-system" title="wikilink">L-systems</a>;</li>
<li>General JavaScript objects can be used to create new geometric objects like <a href="complex_numbers" title="wikilink">complex numbers</a>, <a href="matrix_(mathematics)" title="wikilink">matrices</a> etc. This <a href="object-oriented_programming" title="wikilink">object-oriented programming</a> works much like <a href="Kig_(software)" title="wikilink">Kig</a>'s <a href="Python_(programming_language)" title="wikilink">Python</a> scripts, but as of today no one seems to have publish anything using that.</li>
</ol>
<h2 id="see-also">See also</h2>
<ul>
<li><a class="uri" href="C.a.R." title="wikilink">C.a.R.</a></li>
<li><a href="Compass_and_straightedge_construction" title="wikilink">Compass and straightedge construction</a></li>
<li><a href="Interactive_geometry_software" title="wikilink">Interactive geometry software</a></li>
</ul>
<h2 id="references">References</h2>
<ul>
<li>Vers des spécifications formelles : Fondements Mathématiques et Informatiques pour la Géométrie Dynamique, Bernard Genevès (PhD) <a href="http://tel.archives-ouvertes.fr/docs/00/35/40/48/PDF/these_BG.pdf"><em>PDF</em></a></li>
<li>Busser Alain. TP sous JavaScript avec CaRMetal. Bulletin de l’APMEP, 487 (2010), p. 191-199.</li>
<li>Busser Alain. Un an d’algorithmique avec CaRMetal en Seconde. MathémaTICE, 21 (2010) (online article: <a href="http://revue.sesamath.net/spip.php?article292">1</a>)</li>
<li>Martin Yves. Algorithmique et intégration des outils. Repères IREM, 79 (2010), p. 5-22.</li>
<li>Martin Yves. Géométrie repérée dynamique : une autre voie vers l’algébrisation ? MathémaTICE, 20 (2010) (available online: <a href="http://revue.sesamath.net/spip.php?article287">2</a>)</li>
<li>Martin Yves. Quand la géométrie dynamique rencontre la programmation. In Actes du colloque « Les mathématiciens et l’enseignement de leur discipline en France » (CIRM, Marseille/Luminy, 15-19 mars 2010) (video online: <a href="http://www.univ-irem.fr/spip2/spip.php?article7">3</a>)</li>
<li>Martin Yves. CaRMetal, une géométrie dynamique enrichie. Expressions, 35 (2010), p. 165-272 <a href="http://www.reunion.iufm.fr/Recherche/Expressions/35/Martin.pdf"><em>PDF</em></a></li>
</ul>
<h2 id="external-links">External links</h2>
<ul>
<li><a href="http://db-maths.nuxit.net/CaRMetal/index_en.html">CaRMetal website</a></li>
<li><a href="http://www.youtube.com/watch?v=JsKJKOYwpa0">videos showing a truncated icosahedron's net, unfolded and dynamically constructed with JavaScript under CaRMetal</a></li>
</ul>

<p>"</p>

<p><a href="Category:Free_interactive_geometry_software" title="wikilink">Category:Free interactive geometry software</a> <a href="Category:Free_educational_software" title="wikilink">Category:Free educational software</a> <a href="Category:Java_platform_software" title="wikilink">Category:Java platform software</a></p>
</body>

