<html lang="en">
<head>
<meta charset="utf-8"/>
<title offset="1142">Penney's game</title>
<script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_SVG.js" type="text/javascript">
</script>
</head>
<body>
<h1>Penney's game</h1>
<hr/>

<p><strong>Penney's game</strong>, named after its inventor Walter Penney, is a <a href="Binary_numeral_system" title="wikilink">binary</a> (head/tail) <a class="uri" href="sequence" title="wikilink">sequence</a> generating game between two players. At the start of the game, the two players agree on the length of the sequences to be generated. This length is usually taken to be three, but can be any larger number. Player A then selects a sequence of heads and tails of the required length, and shows this sequence to player B. Player B then selects another sequence of heads and tails of the same length. Subsequently, a fair <a class="uri" href="coin" title="wikilink">coin</a> is tossed until either player A's or player B's sequence appears as a consecutive subsequence of the coin toss outcomes. The player whose sequence appears first wins.</p>

<p>Provided sequences of at least length three are used, the second player (B) has an edge over the starting player (A). This is because the game is <a href="Nontransitive_game" title="wikilink">nontransitive</a> such that for any given sequence of length three or longer one can find another sequence that has higher <a class="uri" href="probability" title="wikilink">probability</a> of occurring first.</p>
<h2 id="analysis-of-the-three-bit-game">Analysis of the three-bit game</h2>

<p>For the three-<a class="uri" href="bit" title="wikilink">bit</a> sequence game, the second player can optimise his <a class="uri" href="odds" title="wikilink">odds</a> by choosing sequences according to:</p>
<table>
<thead>
<tr class="header">
<th style="text-align: left;">
<p>1st player's choice</p></th>
<th style="text-align: left;">
<p>2nd player's choice</p></th>
<th style="text-align: left;">
<p>Odds in favour of 2nd player</p></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">
<p><u>H<strong>H</strong></u>H</p></td>
<td style="text-align: left;">
<p><strong>T</strong><u>HH</u></p></td>
<td style="text-align: left;">
<p>7 to 1</p></td>
</tr>
<tr class="even">
<td style="text-align: left;">
<p><u>H<strong>H</strong></u>T</p></td>
<td style="text-align: left;">
<p><strong>T</strong><u>HH</u></p></td>
<td style="text-align: left;">
<p>3 to 1</p></td>
</tr>
<tr class="odd">
<td style="text-align: left;">
<p><u>H<strong>T</strong></u>H</p></td>
<td style="text-align: left;">
<p><strong>H</strong><u>HT</u></p></td>
<td style="text-align: left;">
<p>2 to 1</p></td>
</tr>
<tr class="even">
<td style="text-align: left;">
<p><u>H<strong>T</strong></u>T</p></td>
<td style="text-align: left;">
<p><strong>H</strong><u>HT</u></p></td>
<td style="text-align: left;">
<p>2 to 1</p></td>
</tr>
<tr class="odd">
<td style="text-align: left;">
<p><u>T<strong>H</strong></u>H</p></td>
<td style="text-align: left;">
<p><strong>T</strong><u>TH</u></p></td>
<td style="text-align: left;">
<p>2 to 1</p></td>
</tr>
<tr class="even">
<td style="text-align: left;">
<p><u>T<strong>H</strong></u>T</p></td>
<td style="text-align: left;">
<p><strong>T</strong><u>TH</u></p></td>
<td style="text-align: left;">
<p>2 to 1</p></td>
</tr>
<tr class="odd">
<td style="text-align: left;">
<p><u>T<strong>T</strong></u>H</p></td>
<td style="text-align: left;">
<p><strong>H</strong><u>TT</u></p></td>
<td style="text-align: left;">
<p>3 to 1</p></td>
</tr>
<tr class="even">
<td style="text-align: left;">
<p><u>T<strong>T</strong></u>T</p></td>
<td style="text-align: left;">
<p><strong>H</strong><u>TT</u></p></td>
<td style="text-align: left;">
<p>7 to 1</p></td>
</tr>
</tbody>
</table>

<p>An easy way to remember the sequence for using as a bar trick is for the second player to start with the opposite of the middle choice of the first player, then follow it with the first player's first two choices.</p>
<dl>
<dd>So for the first player's choice of <big><strong>1-2-3</strong></big>
</dd>
<dd>the second player must choose <big><strong>(not-2)-1-2</strong></big>
</dd>
</dl>

<p>where (not-2) is the opposite of the second choice of the first player.<a class="footnoteRef" href="#fn1" id="fnref1"><sup>1</sup></a></p>

<p>An intuitive explanation for this result, is that in any case that the sequence is not immediately the first player's choice, the chances for the first player getting their sequence-beginning, the opening two choices, are usually the chance that the second player will be getting their full sequence. So the second player will most likely "finish before" the first player.<a class="footnoteRef" href="#fn2" id="fnref2"><sup>2</sup></a></p>
<h2 id="strategy-for-more-than-three-bits">Strategy for more than three bits</h2>

<p>The optimal strategy for the first player (for any length of the sequence no less than 4) was found by J.A. Csirik (See References). It is to choose HTTTT.....TTTHH (

<math display="inline" id="Penney's_game:0">
 <semantics>
  <mrow>
   <mi>k</mi>
   <mo>-</mo>
   <mn>3</mn>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <minus></minus>
    <ci>k</ci>
    <cn type="integer">3</cn>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   k-3
  </annotation>
 </semantics>
</math>

 T's) in which case the second player's maximal odds of winning is 

<math display="inline" id="Penney's_game:1">
 <semantics>
  <mrow>
   <mrow>
    <mo stretchy="false">(</mo>
    <mrow>
     <msup>
      <mn>2</mn>
      <mrow>
       <mi>k</mi>
       <mo>-</mo>
       <mn>1</mn>
      </mrow>
     </msup>
     <mo>+</mo>
     <mn>1</mn>
    </mrow>
    <mo stretchy="false">)</mo>
   </mrow>
   <mo>:</mo>
   <mrow>
    <mo stretchy="false">(</mo>
    <mrow>
     <msup>
      <mn>2</mn>
      <mrow>
       <mi>k</mi>
       <mo>-</mo>
       <mn>2</mn>
      </mrow>
     </msup>
     <mo>+</mo>
     <mn>1</mn>
    </mrow>
    <mo stretchy="false">)</mo>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <ci>normal-:</ci>
    <apply>
     <plus></plus>
     <apply>
      <csymbol cd="ambiguous">superscript</csymbol>
      <cn type="integer">2</cn>
      <apply>
       <minus></minus>
       <ci>k</ci>
       <cn type="integer">1</cn>
      </apply>
     </apply>
     <cn type="integer">1</cn>
    </apply>
    <apply>
     <plus></plus>
     <apply>
      <csymbol cd="ambiguous">superscript</csymbol>
      <cn type="integer">2</cn>
      <apply>
       <minus></minus>
       <ci>k</ci>
       <cn type="integer">2</cn>
      </apply>
     </apply>
     <cn type="integer">1</cn>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   (2^{k-1}+1):(2^{k-2}+1)
  </annotation>
 </semantics>
</math>

.</p>
<h2 id="variation-with-playing-cards">Variation with playing cards</h2>

<p>One suggested variation on Penney’s Game uses a pack of ordinary playing cards. The Humble-Nishiyama Randomness Game follows the same format using Red and Black cards, instead of Heads and Tails.<a class="footnoteRef" href="#fn3" id="fnref3"><sup>3</sup></a><a class="footnoteRef" href="#fn4" id="fnref4"><sup>4</sup></a> The game is played as follows. At the start of a game each player decides on their three colour sequence for the whole game. The cards are then turned over one at a time and placed in a line, until one of the chosen triples appears. The winning player takes the upturned cards, having won that "trick". The game continues with the rest of the unused cards, with players collecting tricks as their triples come up, until all the cards in the pack have been used. The winner of the game is the player that has won the most tricks. An average game will consist of around 7 "tricks". As this card-based version is quite similar to multiple repetitions of the original coin game, the second player's advantage is greatly amplified. The probabilities are slightly different because the odds for each flip of a coin are <a href="Independence_(probability_theory)" title="wikilink">independent</a> while the odds of drawing a red or black card each time is dependent on previous draws. Note that HHT is a 2:1 favorite over HTH and HTT but the odds are different for BBR over BRB and BRR.</p>

<p>Below are approximate probabilities of the outcomes for each strategy based on computer simulations<a class="footnoteRef" href="#fn5" id="fnref5"><sup>5</sup></a>:</p>
<table>
<thead>
<tr class="header">
<th style="text-align: left;">
<p>1st player's choice</p></th>
<th style="text-align: left;">
<p>2nd player's choice</p></th>
<th style="text-align: left;">
<p>Probability 1st player wins</p></th>
<th style="text-align: left;">
<p>Probability 2nd player wins</p></th>
<th style="text-align: left;">
<p>Probability of a draw</p></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">
<p><u>B<strong>B</strong></u>B</p></td>
<td style="text-align: left;">
<p><strong>R</strong><u>BB</u></p></td>
<td style="text-align: left;">
<p>0.11%</p></td>
<td style="text-align: left;">
<p>99.49%</p></td>
<td style="text-align: left;">
<p>0.40%</p></td>
</tr>
<tr class="even">
<td style="text-align: left;">
<p><u>B<strong>B</strong></u>R</p></td>
<td style="text-align: left;">
<p><strong>R</strong><u>BB</u></p></td>
<td style="text-align: left;">
<p>2.62%</p></td>
<td style="text-align: left;">
<p>93.54%</p></td>
<td style="text-align: left;">
<p>3.84%</p></td>
</tr>
<tr class="odd">
<td style="text-align: left;">
<p><u>B<strong>R</strong></u>B</p></td>
<td style="text-align: left;">
<p><strong>B</strong><u>BR</u></p></td>
<td style="text-align: left;">
<p>11.61%</p></td>
<td style="text-align: left;">
<p>80.11%</p></td>
<td style="text-align: left;">
<p>8.28%</p></td>
</tr>
<tr class="even">
<td style="text-align: left;">
<p><u>B<strong>R</strong></u>R</p></td>
<td style="text-align: left;">
<p><strong>B</strong><u>BR</u></p></td>
<td style="text-align: left;">
<p>5.18%</p></td>
<td style="text-align: left;">
<p>88.29%</p></td>
<td style="text-align: left;">
<p>6.53%</p></td>
</tr>
<tr class="odd">
<td style="text-align: left;">
<p><u>R<strong>B</strong></u>B</p></td>
<td style="text-align: left;">
<p><strong>R</strong><u>RB</u></p></td>
<td style="text-align: left;">
<p>5.18%</p></td>
<td style="text-align: left;">
<p>88.29%</p></td>
<td style="text-align: left;">
<p>6.53%</p></td>
</tr>
<tr class="even">
<td style="text-align: left;">
<p><u>R<strong>B</strong></u>R</p></td>
<td style="text-align: left;">
<p><strong>R</strong><u>RB</u></p></td>
<td style="text-align: left;">
<p>11.61%</p></td>
<td style="text-align: left;">
<p>80.11%</p></td>
<td style="text-align: left;">
<p>8.28%</p></td>
</tr>
<tr class="odd">
<td style="text-align: left;">
<p><u>R<strong>R</strong></u>B</p></td>
<td style="text-align: left;">
<p><strong>B</strong><u>RR</u></p></td>
<td style="text-align: left;">
<p>2.62%</p></td>
<td style="text-align: left;">
<p>93.54%</p></td>
<td style="text-align: left;">
<p>3.84%</p></td>
</tr>
<tr class="even">
<td style="text-align: left;">
<p><u>R<strong>R</strong></u>R</p></td>
<td style="text-align: left;">
<p><strong>B</strong><u>RR</u></p></td>
<td style="text-align: left;">
<p>0.11%</p></td>
<td style="text-align: left;">
<p>99.49%</p></td>
<td style="text-align: left;">
<p>0.40%</p></td>
</tr>
</tbody>
</table>

<p>If the game is ended after the first trick, there is a negligible chance of a draw. The odds of the second player winning in such a game appear in the table below.</p>
<table>
<thead>
<tr class="header">
<th style="text-align: left;">
<p>1st player's choice</p></th>
<th style="text-align: left;">
<p>2nd player's choice</p></th>
<th style="text-align: left;">
<p>Odds in favour of 2nd player</p></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">
<p><u>B<strong>B</strong></u>B</p></td>
<td style="text-align: left;">
<p><strong>R</strong><u>BB</u></p></td>
<td style="text-align: left;">
<p>7.50 to 1</p></td>
</tr>
<tr class="even">
<td style="text-align: left;">
<p><u>B<strong>B</strong></u>R</p></td>
<td style="text-align: left;">
<p><strong>R</strong><u>BB</u></p></td>
<td style="text-align: left;">
<p>3.08 to 1</p></td>
</tr>
<tr class="odd">
<td style="text-align: left;">
<p><u>B<strong>R</strong></u>B</p></td>
<td style="text-align: left;">
<p><strong>B</strong><u>BR</u></p></td>
<td style="text-align: left;">
<p>1.99 to 1</p></td>
</tr>
<tr class="even">
<td style="text-align: left;">
<p><u>B<strong>R</strong></u>R</p></td>
<td style="text-align: left;">
<p><strong>B</strong><u>BR</u></p></td>
<td style="text-align: left;">
<p>2.04 to 1</p></td>
</tr>
<tr class="odd">
<td style="text-align: left;">
<p><u>R<strong>B</strong></u>B</p></td>
<td style="text-align: left;">
<p><strong>R</strong><u>RB</u></p></td>
<td style="text-align: left;">
<p>2.04 to 1</p></td>
</tr>
<tr class="even">
<td style="text-align: left;">
<p><u>R<strong>B</strong></u>R</p></td>
<td style="text-align: left;">
<p><strong>R</strong><u>RB</u></p></td>
<td style="text-align: left;">
<p>1.99 to 1</p></td>
</tr>
<tr class="odd">
<td style="text-align: left;">
<p><u>R<strong>R</strong></u>B</p></td>
<td style="text-align: left;">
<p><strong>B</strong><u>RR</u></p></td>
<td style="text-align: left;">
<p>3.08 to 1</p></td>
</tr>
<tr class="even">
<td style="text-align: left;">
<p><u>R<strong>R</strong></u>R</p></td>
<td style="text-align: left;">
<p><strong>B</strong><u>RR</u></p></td>
<td style="text-align: left;">
<p>7.50 to 1</p></td>
</tr>
</tbody>
</table>
<h2 id="see-also">See also</h2>
<ul>
<li><a href="Nontransitive_game" title="wikilink">Nontransitive game</a></li>
</ul>
<h2 id="references">References</h2>
<ul>
<li>Walter Penney, Journal of Recreational Mathematics, October 1969, p. 241.</li>
<li><a href="Martin_Gardner" title="wikilink">Martin Gardner</a>, "Time Travel and Other Mathematical Bewilderments", W. H. Freeman, 1988.</li>
<li><a href="L.J._Guibas" title="wikilink">L.J. Guibas</a> and <a href="A.M._Odlyzko" title="wikilink">A.M. Odlyzko</a>, "String Overlaps, Pattern Matching, and Nontransitive Games", Journal of Combinatorial Theory Series A. Volume 30, Issue 2, (1981), pp183–208.</li>
<li><a href="Elwyn_R._Berlekamp" title="wikilink">Elwyn R. Berlekamp</a>, <a href="John_H._Conway" title="wikilink">John H. Conway</a> and <a href="Richard_K._Guy" title="wikilink">Richard K. Guy</a>, "Winning Ways for your Mathematical Plays", 2nd Edition, Volume 4, AK Peters (2004), p. 885.</li>
<li>S. Humble &amp; Y. Nishiyama, "Humble-Nishiyama Randomness Game - A New Variation on Penney's Coin Game",IMA Mathematics Today. Vol 46, No. 4, August 2010, pp194–195.</li>
<li>Steve Humble &amp; <a href="Yutaka_Nishiyama" title="wikilink">Yutaka Nishiyama</a>, <a href="http://plus.maths.org/issue55/features/nishiyama/index.html">"Winning Odds"</a>, Plus Magazine, Issue 55, June 2010.</li>
<li><a href="Yutaka_Nishiyama" title="wikilink">Yutaka Nishiyama</a>, <a href="http://www.ijpam.eu/contents/2010-59-3/10/10.pdf">Pattern Matching Probabilities and Paradoxes as a New Variation on Penney’s Coin Game</a>, International Journal of Pure and Applied Mathematics, Vol.59, No.3, 2010, 357-366.</li>
<li><a href="Ed_Pegg,_Jr." title="wikilink">Ed Pegg, Jr.</a>, <a href="http://blog.wolfram.com/2010/11/30/how-to-win-at-coin-flipping/">"How to Win at Coin Flipping"</a>, <a href="http://blog.wolfram.com/">Wolfram Blog</a>, 30 November 2010.</li>
</ul>
<ul>
<li><a href="J.A._Csirik" title="wikilink">J.A. Csirik</a>, "Optimal strategy for the first player in the Penney ante game", Combinatorics, Probability and Computing, Volume 1, Issue 4 (1992), pp 311-321.</li>
</ul>
<h2 id="external-links">External links</h2>
<ul>
<li>Play Penney's game <a href="http://www.haverford.edu/math/cgreene/390b-00/software/CoinFlip.html">against the computer</a></li>
</ul>

<p>"</p>

<p><a href="Category:Mathematical_games" title="wikilink">Category:Mathematical games</a></p>
<section class="footnotes">
<hr/>
<ol>
<li id="fn1"><a href="https://www.youtube.com/watch?v=IMsa-qBlPIE">Predicting a coin toss</a> by <a href="Scam_School" title="wikilink">Scam School</a> (on <a class="uri" href="YouTube" title="wikilink">YouTube</a>)<a href="#fnref1">↩</a></li>
<li id="fn2"></li>
<li id="fn3"><a href="http://plus.maths.org/content/os/issue55/features/nishiyama/index">Winning Odds</a> by Yutaka Nishiyama and Steve Humble<a href="#fnref3">↩</a></li>
<li id="fn4"><a href="http://citeseerx.ist.psu.edu/viewdoc/summary?doi=10.1.1.177.1176">Humble-Nishiyama Randomness Game - A New Variation on Penney’s Coin Game</a> on CiteSeer<a href="#fnref4">↩</a></li>
<li id="fn5">Results are broadly in line with those in Steve Humble and Yutaka Nishiyama, Humble-Nishiyama Randomness Game <em>Mathematics Today</em> August 2010 p143 - A new variation on Penney’s Coin Game<a href="http://www.ima.org.uk/_db/_documents/Humble%20Nishiyama%20Randomness%20Game%20copy.pdf">1</a><a href="#fnref5">↩</a></li>
</ol>
</section>
</body>
</html>
