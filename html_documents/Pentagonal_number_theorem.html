<html lang="en">
<head>
<meta charset="utf-8"/>
<title offset="174">Pentagonal number theorem</title>
<script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_SVG.js" type="text/javascript">
</script>
</head>
<body>
<h1>Pentagonal number theorem</h1>
<hr/>

<p>In <a class="uri" href="mathematics" title="wikilink">mathematics</a>, the <strong>pentagonal number theorem</strong>, originally due to <a href="Leonhard_Euler" title="wikilink">Euler</a>, relates the product and series representations of the <a href="Euler_function" title="wikilink">Euler function</a>. It states that</p>

<p>

<math display="block" id="Pentagonal_number_theorem:0">
 <semantics>
  <mrow>
   <mrow>
    <mrow>
     <munderover>
      <mo largeop="true" movablelimits="false" symmetric="true">∏</mo>
      <mrow>
       <mi>n</mi>
       <mo>=</mo>
       <mn>1</mn>
      </mrow>
      <mi mathvariant="normal">∞</mi>
     </munderover>
     <mrow>
      <mo>(</mo>
      <mrow>
       <mn>1</mn>
       <mo>-</mo>
       <msup>
        <mi>x</mi>
        <mi>n</mi>
       </msup>
      </mrow>
      <mo>)</mo>
     </mrow>
    </mrow>
    <mo>=</mo>
    <mrow>
     <munderover>
      <mo largeop="true" movablelimits="false" symmetric="true">∑</mo>
      <mrow>
       <mi>k</mi>
       <mo>=</mo>
       <mrow>
        <mo>-</mo>
        <mi mathvariant="normal">∞</mi>
       </mrow>
      </mrow>
      <mi mathvariant="normal">∞</mi>
     </munderover>
     <mrow>
      <msup>
       <mrow>
        <mo>(</mo>
        <mrow>
         <mo>-</mo>
         <mn>1</mn>
        </mrow>
        <mo>)</mo>
       </mrow>
       <mi>k</mi>
      </msup>
      <msup>
       <mi>x</mi>
       <mrow>
        <mfrac>
         <mi>k</mi>
         <mn>2</mn>
        </mfrac>
        <mrow>
         <mo>(</mo>
         <mrow>
          <mrow>
           <mn>3</mn>
           <mi>k</mi>
          </mrow>
          <mo>-</mo>
          <mn>1</mn>
         </mrow>
         <mo>)</mo>
        </mrow>
       </mrow>
      </msup>
     </mrow>
    </mrow>
    <mo>=</mo>
    <mrow>
     <mn>1</mn>
     <mo>+</mo>
     <mrow>
      <munderover>
       <mo largeop="true" movablelimits="false" symmetric="true">∑</mo>
       <mrow>
        <mi>k</mi>
        <mo>=</mo>
        <mn>1</mn>
       </mrow>
       <mi mathvariant="normal">∞</mi>
      </munderover>
      <mrow>
       <msup>
        <mrow>
         <mo stretchy="false">(</mo>
         <mrow>
          <mo>-</mo>
          <mn>1</mn>
         </mrow>
         <mo stretchy="false">)</mo>
        </mrow>
        <mi>k</mi>
       </msup>
       <mrow>
        <mo>(</mo>
        <mrow>
         <msup>
          <mi>x</mi>
          <mrow>
           <mrow>
            <mi>k</mi>
            <mrow>
             <mo stretchy="false">(</mo>
             <mrow>
              <mrow>
               <mn>3</mn>
               <mi>k</mi>
              </mrow>
              <mo>+</mo>
              <mn>1</mn>
             </mrow>
             <mo stretchy="false">)</mo>
            </mrow>
           </mrow>
           <mo>/</mo>
           <mn>2</mn>
          </mrow>
         </msup>
         <mo>+</mo>
         <msup>
          <mi>x</mi>
          <mrow>
           <mrow>
            <mi>k</mi>
            <mrow>
             <mo stretchy="false">(</mo>
             <mrow>
              <mrow>
               <mn>3</mn>
               <mi>k</mi>
              </mrow>
              <mo>-</mo>
              <mn>1</mn>
             </mrow>
             <mo stretchy="false">)</mo>
            </mrow>
           </mrow>
           <mo>/</mo>
           <mn>2</mn>
          </mrow>
         </msup>
        </mrow>
        <mo>)</mo>
       </mrow>
      </mrow>
     </mrow>
    </mrow>
   </mrow>
   <mo>.</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <and></and>
    <apply>
     <eq></eq>
     <apply>
      <apply>
       <csymbol cd="ambiguous">superscript</csymbol>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <csymbol cd="latexml">product</csymbol>
        <apply>
         <eq></eq>
         <ci>n</ci>
         <cn type="integer">1</cn>
        </apply>
       </apply>
       <infinity></infinity>
      </apply>
      <apply>
       <minus></minus>
       <cn type="integer">1</cn>
       <apply>
        <csymbol cd="ambiguous">superscript</csymbol>
        <ci>x</ci>
        <ci>n</ci>
       </apply>
      </apply>
     </apply>
     <apply>
      <apply>
       <csymbol cd="ambiguous">superscript</csymbol>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <sum></sum>
        <apply>
         <eq></eq>
         <ci>k</ci>
         <apply>
          <minus></minus>
          <infinity></infinity>
         </apply>
        </apply>
       </apply>
       <infinity></infinity>
      </apply>
      <apply>
       <times></times>
       <apply>
        <csymbol cd="ambiguous">superscript</csymbol>
        <apply>
         <minus></minus>
         <cn type="integer">1</cn>
        </apply>
        <ci>k</ci>
       </apply>
       <apply>
        <csymbol cd="ambiguous">superscript</csymbol>
        <ci>x</ci>
        <apply>
         <times></times>
         <apply>
          <divide></divide>
          <ci>k</ci>
          <cn type="integer">2</cn>
         </apply>
         <apply>
          <minus></minus>
          <apply>
           <times></times>
           <cn type="integer">3</cn>
           <ci>k</ci>
          </apply>
          <cn type="integer">1</cn>
         </apply>
        </apply>
       </apply>
      </apply>
     </apply>
    </apply>
    <apply>
     <eq></eq>
     <share href="#.cmml">
     </share>
     <apply>
      <plus></plus>
      <cn type="integer">1</cn>
      <apply>
       <apply>
        <csymbol cd="ambiguous">superscript</csymbol>
        <apply>
         <csymbol cd="ambiguous">subscript</csymbol>
         <sum></sum>
         <apply>
          <eq></eq>
          <ci>k</ci>
          <cn type="integer">1</cn>
         </apply>
        </apply>
        <infinity></infinity>
       </apply>
       <apply>
        <times></times>
        <apply>
         <csymbol cd="ambiguous">superscript</csymbol>
         <apply>
          <minus></minus>
          <cn type="integer">1</cn>
         </apply>
         <ci>k</ci>
        </apply>
        <apply>
         <plus></plus>
         <apply>
          <csymbol cd="ambiguous">superscript</csymbol>
          <ci>x</ci>
          <apply>
           <divide></divide>
           <apply>
            <times></times>
            <ci>k</ci>
            <apply>
             <plus></plus>
             <apply>
              <times></times>
              <cn type="integer">3</cn>
              <ci>k</ci>
             </apply>
             <cn type="integer">1</cn>
            </apply>
           </apply>
           <cn type="integer">2</cn>
          </apply>
         </apply>
         <apply>
          <csymbol cd="ambiguous">superscript</csymbol>
          <ci>x</ci>
          <apply>
           <divide></divide>
           <apply>
            <times></times>
            <ci>k</ci>
            <apply>
             <minus></minus>
             <apply>
              <times></times>
              <cn type="integer">3</cn>
              <ci>k</ci>
             </apply>
             <cn type="integer">1</cn>
            </apply>
           </apply>
           <cn type="integer">2</cn>
          </apply>
         </apply>
        </apply>
       </apply>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \prod_{n=1}^{\infty}\left(1-x^{n}\right)=\sum_{k=-\infty}^{\infty}\left(-1%
\right)^{k}x^{\frac{k}{2}\left(3k-1\right)}=1+\sum_{k=1}^{\infty}(-1)^{k}\left%
(x^{k(3k+1)/2}+x^{k(3k-1)/2}\right).
  </annotation>
 </semantics>
</math>

</p>

<p>In other words,</p>

<p>

<math display="block" id="Pentagonal_number_theorem:1">
 <semantics>
  <mrow>
   <mrow>
    <mrow>
     <mrow>
      <mo stretchy="false">(</mo>
      <mrow>
       <mn>1</mn>
       <mo>-</mo>
       <mi>x</mi>
      </mrow>
      <mo stretchy="false">)</mo>
     </mrow>
     <mrow>
      <mo stretchy="false">(</mo>
      <mrow>
       <mn>1</mn>
       <mo>-</mo>
       <msup>
        <mi>x</mi>
        <mn>2</mn>
       </msup>
      </mrow>
      <mo stretchy="false">)</mo>
     </mrow>
     <mrow>
      <mo stretchy="false">(</mo>
      <mrow>
       <mn>1</mn>
       <mo>-</mo>
       <msup>
        <mi>x</mi>
        <mn>3</mn>
       </msup>
      </mrow>
      <mo stretchy="false">)</mo>
     </mrow>
     <mi mathvariant="normal">⋯</mi>
    </mrow>
    <mo>=</mo>
    <mrow>
     <mrow>
      <mrow>
       <mrow>
        <mrow>
         <mn>1</mn>
         <mo>-</mo>
         <mi>x</mi>
         <mo>-</mo>
         <msup>
          <mi>x</mi>
          <mn>2</mn>
         </msup>
        </mrow>
        <mo>+</mo>
        <msup>
         <mi>x</mi>
         <mn>5</mn>
        </msup>
        <mo>+</mo>
        <msup>
         <mi>x</mi>
         <mn>7</mn>
        </msup>
       </mrow>
       <mo>-</mo>
       <msup>
        <mi>x</mi>
        <mn>12</mn>
       </msup>
       <mo>-</mo>
       <msup>
        <mi>x</mi>
        <mn>15</mn>
       </msup>
      </mrow>
      <mo>+</mo>
      <msup>
       <mi>x</mi>
       <mn>22</mn>
      </msup>
      <mo>+</mo>
      <msup>
       <mi>x</mi>
       <mn>26</mn>
      </msup>
     </mrow>
     <mo>-</mo>
     <mi mathvariant="normal">⋯</mi>
    </mrow>
   </mrow>
   <mo>.</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <times></times>
     <apply>
      <minus></minus>
      <cn type="integer">1</cn>
      <ci>x</ci>
     </apply>
     <apply>
      <minus></minus>
      <cn type="integer">1</cn>
      <apply>
       <csymbol cd="ambiguous">superscript</csymbol>
       <ci>x</ci>
       <cn type="integer">2</cn>
      </apply>
     </apply>
     <apply>
      <minus></minus>
      <cn type="integer">1</cn>
      <apply>
       <csymbol cd="ambiguous">superscript</csymbol>
       <ci>x</ci>
       <cn type="integer">3</cn>
      </apply>
     </apply>
     <ci>normal-⋯</ci>
    </apply>
    <apply>
     <minus></minus>
     <apply>
      <plus></plus>
      <apply>
       <minus></minus>
       <apply>
        <plus></plus>
        <apply>
         <minus></minus>
         <cn type="integer">1</cn>
         <ci>x</ci>
         <apply>
          <csymbol cd="ambiguous">superscript</csymbol>
          <ci>x</ci>
          <cn type="integer">2</cn>
         </apply>
        </apply>
        <apply>
         <csymbol cd="ambiguous">superscript</csymbol>
         <ci>x</ci>
         <cn type="integer">5</cn>
        </apply>
        <apply>
         <csymbol cd="ambiguous">superscript</csymbol>
         <ci>x</ci>
         <cn type="integer">7</cn>
        </apply>
       </apply>
       <apply>
        <csymbol cd="ambiguous">superscript</csymbol>
        <ci>x</ci>
        <cn type="integer">12</cn>
       </apply>
       <apply>
        <csymbol cd="ambiguous">superscript</csymbol>
        <ci>x</ci>
        <cn type="integer">15</cn>
       </apply>
      </apply>
      <apply>
       <csymbol cd="ambiguous">superscript</csymbol>
       <ci>x</ci>
       <cn type="integer">22</cn>
      </apply>
      <apply>
       <csymbol cd="ambiguous">superscript</csymbol>
       <ci>x</ci>
       <cn type="integer">26</cn>
      </apply>
     </apply>
     <ci>normal-⋯</ci>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   (1-x)(1-x^{2})(1-x^{3})\cdots=1-x-x^{2}+x^{5}+x^{7}-x^{12}-x^{15}+x^{22}+x^{26%
}-\cdots.
  </annotation>
 </semantics>
</math>

</p>

<p>The exponents 1, 2, 5, 7, 12, ... on the right hand side are given by the formula <mtpl> <em>k</em>(3<em>k</em>-1)/2}}</mtpl> for <em>k</em> = 1, −1, 2, −2, 3, ... and are called (generalized) <a href="pentagonal_numbers" title="wikilink">pentagonal numbers</a>. This holds as an identity of convergent <a href="power_series" title="wikilink">power series</a> for 

<math display="inline" id="Pentagonal_number_theorem:2">
 <semantics>
  <mrow>
   <mrow>
    <mo stretchy="false">|</mo>
    <mi>x</mi>
    <mo stretchy="false">|</mo>
   </mrow>
   <mo><</mo>
   <mn>1</mn>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <lt></lt>
    <apply>
     <abs></abs>
     <ci>x</ci>
    </apply>
    <cn type="integer">1</cn>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   |x|<1
  </annotation>
 </semantics>
</math>

, and also as an identity of <a href="formal_power_series" title="wikilink">formal power series</a>.</p>

<p>A striking feature of this formula is the amount of cancellation in the expansion of the product.</p>
<h2 id="relation-with-partitions">Relation with partitions</h2>

<p>The identity implies a marvelous recurrence for calculating 

<math display="inline" id="Pentagonal_number_theorem:3">
 <semantics>
  <mrow>
   <mi>p</mi>
   <mrow>
    <mo stretchy="false">(</mo>
    <mi>n</mi>
    <mo stretchy="false">)</mo>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <times></times>
    <ci>p</ci>
    <ci>n</ci>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   p(n)
  </annotation>
 </semantics>
</math>

, the number of <a href="partition_(number_theory)" title="wikilink">partitions</a> of <em>n</em>:</p>

<p>

<math display="block" id="Pentagonal_number_theorem:4">
 <semantics>
  <mrow>
   <mrow>
    <mi>p</mi>
    <mrow>
     <mo stretchy="false">(</mo>
     <mi>n</mi>
     <mo stretchy="false">)</mo>
    </mrow>
   </mrow>
   <mo>=</mo>
   <mrow>
    <mrow>
     <mrow>
      <mrow>
       <mi>p</mi>
       <mrow>
        <mo stretchy="false">(</mo>
        <mrow>
         <mi>n</mi>
         <mo>-</mo>
         <mn>1</mn>
        </mrow>
        <mo stretchy="false">)</mo>
       </mrow>
      </mrow>
      <mo>+</mo>
      <mrow>
       <mi>p</mi>
       <mrow>
        <mo stretchy="false">(</mo>
        <mrow>
         <mi>n</mi>
         <mo>-</mo>
         <mn>2</mn>
        </mrow>
        <mo stretchy="false">)</mo>
       </mrow>
      </mrow>
     </mrow>
     <mo>-</mo>
     <mrow>
      <mi>p</mi>
      <mrow>
       <mo stretchy="false">(</mo>
       <mrow>
        <mi>n</mi>
        <mo>-</mo>
        <mn>5</mn>
       </mrow>
       <mo stretchy="false">)</mo>
      </mrow>
     </mrow>
     <mo>-</mo>
     <mrow>
      <mi>p</mi>
      <mrow>
       <mo stretchy="false">(</mo>
       <mrow>
        <mi>n</mi>
        <mo>-</mo>
        <mn>7</mn>
       </mrow>
       <mo stretchy="false">)</mo>
      </mrow>
     </mrow>
    </mrow>
    <mo>+</mo>
    <mi mathvariant="normal">⋯</mi>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <times></times>
     <ci>p</ci>
     <ci>n</ci>
    </apply>
    <apply>
     <plus></plus>
     <apply>
      <minus></minus>
      <apply>
       <plus></plus>
       <apply>
        <times></times>
        <ci>p</ci>
        <apply>
         <minus></minus>
         <ci>n</ci>
         <cn type="integer">1</cn>
        </apply>
       </apply>
       <apply>
        <times></times>
        <ci>p</ci>
        <apply>
         <minus></minus>
         <ci>n</ci>
         <cn type="integer">2</cn>
        </apply>
       </apply>
      </apply>
      <apply>
       <times></times>
       <ci>p</ci>
       <apply>
        <minus></minus>
        <ci>n</ci>
        <cn type="integer">5</cn>
       </apply>
      </apply>
      <apply>
       <times></times>
       <ci>p</ci>
       <apply>
        <minus></minus>
        <ci>n</ci>
        <cn type="integer">7</cn>
       </apply>
      </apply>
     </apply>
     <ci>normal-⋯</ci>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   p(n)=p(n-1)+p(n-2)-p(n-5)-p(n-7)+\cdots
  </annotation>
 </semantics>
</math>

</p>

<p>or more formally,</p>

<p>

<math display="block" id="Pentagonal_number_theorem:5">
 <semantics>
  <mrow>
   <mrow>
    <mi>p</mi>
    <mrow>
     <mo stretchy="false">(</mo>
     <mi>n</mi>
     <mo stretchy="false">)</mo>
    </mrow>
   </mrow>
   <mo>=</mo>
   <mrow>
    <munder>
     <mo largeop="true" movablelimits="false" symmetric="true">∑</mo>
     <mi>k</mi>
    </munder>
    <mrow>
     <msup>
      <mrow>
       <mo stretchy="false">(</mo>
       <mrow>
        <mo>-</mo>
        <mn>1</mn>
       </mrow>
       <mo stretchy="false">)</mo>
      </mrow>
      <mrow>
       <mi>k</mi>
       <mo>-</mo>
       <mn>1</mn>
      </mrow>
     </msup>
     <mi>p</mi>
     <mrow>
      <mo stretchy="false">(</mo>
      <mrow>
       <mi>n</mi>
       <mo>-</mo>
       <msub>
        <mi>g</mi>
        <mi>k</mi>
       </msub>
      </mrow>
      <mo stretchy="false">)</mo>
     </mrow>
    </mrow>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <times></times>
     <ci>p</ci>
     <ci>n</ci>
    </apply>
    <apply>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <sum></sum>
      <ci>k</ci>
     </apply>
     <apply>
      <times></times>
      <apply>
       <csymbol cd="ambiguous">superscript</csymbol>
       <apply>
        <minus></minus>
        <cn type="integer">1</cn>
       </apply>
       <apply>
        <minus></minus>
        <ci>k</ci>
        <cn type="integer">1</cn>
       </apply>
      </apply>
      <ci>p</ci>
      <apply>
       <minus></minus>
       <ci>n</ci>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>g</ci>
        <ci>k</ci>
       </apply>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   p(n)=\sum_{k}(-1)^{k-1}p(n-g_{k})
  </annotation>
 </semantics>
</math>

</p>

<p>where the summation is over all nonzero integers <em>k</em> (positive and negative) and 

<math display="inline" id="Pentagonal_number_theorem:6">
 <semantics>
  <msub>
   <mi>g</mi>
   <mi>k</mi>
  </msub>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <csymbol cd="ambiguous">subscript</csymbol>
    <ci>g</ci>
    <ci>k</ci>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   g_{k}
  </annotation>
 </semantics>
</math>

 is the <em>k</em><sup>th</sup> pentagonal number.</p>
<h2 id="bijective-proof">Bijective proof</h2>

<p>The theorem can be given a <a href="combinatorics" title="wikilink">combinatorial</a> interpretation in terms of <a href="Integer_partition" title="wikilink">partitions</a>. In particular, the left hand side is a <a href="generating_function" title="wikilink">generating function</a> for the number of partitions of <em>n</em> into an even number of distinct parts minus the number of partitions of <em>n</em> into an odd number of distinct parts. Each partition of <em>n</em> into an even number of distinct parts contributes +1 to the coefficient of <em>x</em><sup><em>n</em></sup>; each partition into an odd number of distinct parts contributes −1. (The article on <a href="Partition_function_(number_theory)" title="wikilink">unrestricted partition functions</a> discusses this type of generating function.)</p>

<p>For example, the coefficient of <em>x</em><sup>5</sup> is +1 because there are two ways to split 5 into an even number of distinct parts (4+1 and 3+2), but only one way to do so for an odd number of distinct parts (5 itself). However, the coefficient of <em>x</em><sup>12</sup> is −1 because there are seven ways to partition 12 into an even number of distinct parts, but there are eight ways to partition 12 into an odd number of distinct parts.</p>

<p>This interpretation leads to a proof of the identity via <a href="Involution_(mathematics)" title="wikilink">involution</a> (i.e. a bijection which is its own inverse). Consider the <a href="Ferrers_diagram" title="wikilink">Ferrers diagram</a> of any partition of <em>n</em> into distinct parts. For example, the diagram below shows <em>n</em> = 20 and the partition 20 = 7 + 6 + 4 + 3.</p>
<dl>
<dd><br/>
<br/>
<br/>
</dd>
</dl>

<p>Let <em>m</em> be the number of elements in the smallest row of the diagram (<em>m</em> = 3 in the above example). Let <em>s</em> be the number of elements in the rightmost 45 degree line of the diagram (<em>s</em> = 2 dots in red above, since 7−1 = 6, but 6−1 &gt; 4). If <em>m</em> &gt; <em>s</em>, take the rightmost 45-degree line and move it to form a new row, as in the diagram below.</p>
<dl>
<dd><br/>
<br/>
<br/>
<br/>
</dd>
</dl>

<p>If m ≤ s (as in our newly formed diagram where <em>m</em> = 2, <em>s</em> = 5) we may reverse the process by moving the bottom row to form a new 45 degree line (adding 1 element to each of the first <em>m</em> rows), taking us back to the first diagram.</p>

<p>A bit of thought shows that this process always changes the parity of the number of rows, and applying the process twice brings us back to the original diagram. This enables us to pair off Ferrers diagrams contributing 1 and −1 to the <em>x<sup>n</sup></em> term of the series, resulting in a net coefficient of 0. This holds for every term <em>except</em> when the process cannot be performed on every Ferrers diagram with n dots. There are two such cases:</p>

<p>1) <em>m</em> = <em>s</em> and the rightmost diagonal and bottom row meet. For example,</p>
<dl>
<dd><br/>
<br/>
</dd>
</dl>

<p>Attempting to perform the operation would lead us to:</p>
<dl>
<dd><br/>
<br/>
</dd>
</dl>

<p>which fails to change the parity of the number of rows, and is not reversible in the sense that performing the operation again does <em>not</em> take us back to the original diagram. If there are <em>m</em> elements in the last row of the original diagram, then</p>

<p>

<math display="block" id="Pentagonal_number_theorem:7">
 <semantics>
  <mrow>
   <mi>n</mi>
   <mo>=</mo>
   <mrow>
    <mi>m</mi>
    <mo>+</mo>
    <mrow>
     <mo stretchy="false">(</mo>
     <mrow>
      <mi>m</mi>
      <mo>+</mo>
      <mn>1</mn>
     </mrow>
     <mo stretchy="false">)</mo>
    </mrow>
    <mo>+</mo>
    <mrow>
     <mo stretchy="false">(</mo>
     <mrow>
      <mi>m</mi>
      <mo>+</mo>
      <mn>2</mn>
     </mrow>
     <mo stretchy="false">)</mo>
    </mrow>
    <mo>+</mo>
    <mi mathvariant="normal">⋯</mi>
    <mo>+</mo>
    <mrow>
     <mo stretchy="false">(</mo>
     <mrow>
      <mrow>
       <mn>2</mn>
       <mi>m</mi>
      </mrow>
      <mo>-</mo>
      <mn>1</mn>
     </mrow>
     <mo stretchy="false">)</mo>
    </mrow>
   </mrow>
   <mo>=</mo>
   <mfrac>
    <mrow>
     <mi>m</mi>
     <mrow>
      <mo stretchy="false">(</mo>
      <mrow>
       <mrow>
        <mn>3</mn>
        <mi>m</mi>
       </mrow>
       <mo>-</mo>
       <mn>1</mn>
      </mrow>
      <mo stretchy="false">)</mo>
     </mrow>
    </mrow>
    <mn>2</mn>
   </mfrac>
   <mo>=</mo>
   <mfrac>
    <mrow>
     <mi>k</mi>
     <mrow>
      <mo stretchy="false">(</mo>
      <mrow>
       <mrow>
        <mn>3</mn>
        <mi>k</mi>
       </mrow>
       <mo>-</mo>
       <mn>1</mn>
      </mrow>
      <mo stretchy="false">)</mo>
     </mrow>
    </mrow>
    <mn>2</mn>
   </mfrac>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <and></and>
    <apply>
     <eq></eq>
     <ci>n</ci>
     <apply>
      <plus></plus>
      <ci>m</ci>
      <apply>
       <plus></plus>
       <ci>m</ci>
       <cn type="integer">1</cn>
      </apply>
      <apply>
       <plus></plus>
       <ci>m</ci>
       <cn type="integer">2</cn>
      </apply>
      <ci>normal-⋯</ci>
      <apply>
       <minus></minus>
       <apply>
        <times></times>
        <cn type="integer">2</cn>
        <ci>m</ci>
       </apply>
       <cn type="integer">1</cn>
      </apply>
     </apply>
    </apply>
    <apply>
     <eq></eq>
     <share href="#.cmml">
     </share>
     <apply>
      <divide></divide>
      <apply>
       <times></times>
       <ci>m</ci>
       <apply>
        <minus></minus>
        <apply>
         <times></times>
         <cn type="integer">3</cn>
         <ci>m</ci>
        </apply>
        <cn type="integer">1</cn>
       </apply>
      </apply>
      <cn type="integer">2</cn>
     </apply>
    </apply>
    <apply>
     <eq></eq>
     <share href="#.cmml">
     </share>
     <apply>
      <divide></divide>
      <apply>
       <times></times>
       <ci>k</ci>
       <apply>
        <minus></minus>
        <apply>
         <times></times>
         <cn type="integer">3</cn>
         <ci>k</ci>
        </apply>
        <cn type="integer">1</cn>
       </apply>
      </apply>
      <cn type="integer">2</cn>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   n=m+(m+1)+(m+2)+\cdots+(2m-1)=\frac{m(3m-1)}{2}=\frac{k(3k-1)}{2}
  </annotation>
 </semantics>
</math>

</p>

<p>where the new index <em>k</em> is taken to equal <em>m</em>. Note that the sign associated with this partition is (−1)<sup><em>s</em></sup>, which by construction equals (−1)<sup><em>m</em></sup> and (−1)<sup><em>k</em></sup>.</p>

<p>2) <em>m</em> = <em>s</em>+1 and the rightmost diagonal and bottom row meet. For example,</p>
<dl>
<dd><br/>
<br/>
</dd>
</dl>

<p>Our operation requires us to move the right diagonal to the bottom row, but that would lead to two rows of three elements, forbidden since we're counting partitions into distinct parts. This is the previous case but with one fewer row, so</p>

<p>

<math display="block" id="Pentagonal_number_theorem:8">
 <semantics>
  <mrow>
   <mrow>
    <mi>n</mi>
    <mo>=</mo>
    <mrow>
     <mi>m</mi>
     <mo>+</mo>
     <mrow>
      <mo stretchy="false">(</mo>
      <mrow>
       <mi>m</mi>
       <mo>+</mo>
       <mn>1</mn>
      </mrow>
      <mo stretchy="false">)</mo>
     </mrow>
     <mo>+</mo>
     <mrow>
      <mo stretchy="false">(</mo>
      <mrow>
       <mi>m</mi>
       <mo>+</mo>
       <mn>2</mn>
      </mrow>
      <mo stretchy="false">)</mo>
     </mrow>
     <mo>+</mo>
     <mi mathvariant="normal">⋯</mi>
     <mo>+</mo>
     <mrow>
      <mo stretchy="false">(</mo>
      <mrow>
       <mrow>
        <mn>2</mn>
        <mi>m</mi>
       </mrow>
       <mo>-</mo>
       <mn>2</mn>
      </mrow>
      <mo stretchy="false">)</mo>
     </mrow>
    </mrow>
    <mo>=</mo>
    <mfrac>
     <mrow>
      <mrow>
       <mo stretchy="false">(</mo>
       <mrow>
        <mi>m</mi>
        <mo>-</mo>
        <mn>1</mn>
       </mrow>
       <mo stretchy="false">)</mo>
      </mrow>
      <mrow>
       <mo stretchy="false">(</mo>
       <mrow>
        <mrow>
         <mn>3</mn>
         <mi>m</mi>
        </mrow>
        <mo>-</mo>
        <mn>2</mn>
       </mrow>
       <mo stretchy="false">)</mo>
      </mrow>
     </mrow>
     <mn>2</mn>
    </mfrac>
    <mo>=</mo>
    <mfrac>
     <mrow>
      <mi>k</mi>
      <mrow>
       <mo stretchy="false">(</mo>
       <mrow>
        <mrow>
         <mn>3</mn>
         <mi>k</mi>
        </mrow>
        <mo>-</mo>
        <mn>1</mn>
       </mrow>
       <mo stretchy="false">)</mo>
      </mrow>
     </mrow>
     <mn>2</mn>
    </mfrac>
   </mrow>
   <mo>,</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <and></and>
    <apply>
     <eq></eq>
     <ci>n</ci>
     <apply>
      <plus></plus>
      <ci>m</ci>
      <apply>
       <plus></plus>
       <ci>m</ci>
       <cn type="integer">1</cn>
      </apply>
      <apply>
       <plus></plus>
       <ci>m</ci>
       <cn type="integer">2</cn>
      </apply>
      <ci>normal-⋯</ci>
      <apply>
       <minus></minus>
       <apply>
        <times></times>
        <cn type="integer">2</cn>
        <ci>m</ci>
       </apply>
       <cn type="integer">2</cn>
      </apply>
     </apply>
    </apply>
    <apply>
     <eq></eq>
     <share href="#.cmml">
     </share>
     <apply>
      <divide></divide>
      <apply>
       <times></times>
       <apply>
        <minus></minus>
        <ci>m</ci>
        <cn type="integer">1</cn>
       </apply>
       <apply>
        <minus></minus>
        <apply>
         <times></times>
         <cn type="integer">3</cn>
         <ci>m</ci>
        </apply>
        <cn type="integer">2</cn>
       </apply>
      </apply>
      <cn type="integer">2</cn>
     </apply>
    </apply>
    <apply>
     <eq></eq>
     <share href="#.cmml">
     </share>
     <apply>
      <divide></divide>
      <apply>
       <times></times>
       <ci>k</ci>
       <apply>
        <minus></minus>
        <apply>
         <times></times>
         <cn type="integer">3</cn>
         <ci>k</ci>
        </apply>
        <cn type="integer">1</cn>
       </apply>
      </apply>
      <cn type="integer">2</cn>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   n=m+(m+1)+(m+2)+\cdots+(2m-2)=\frac{(m-1)(3m-2)}{2}=\frac{k(3k-1)}{2},
  </annotation>
 </semantics>
</math>

</p>

<p>where we take <em>k</em> = 1−<em>m</em> (a negative integer). Here the associated sign is (−1)<sup><em>s</em></sup> with <em>s</em> = <em>m</em>−1 = −<em>k</em>, therefore the sign is again (−1)<sup><em>k</em></sup>.</p>

<p>In summary, it has been shown that partitions into an even number of distinct parts and an odd number of distinct parts exactly cancel each other, except if <em>n</em> is a generalized pentagonal number 

<math display="inline" id="Pentagonal_number_theorem:9">
 <semantics>
  <mrow>
   <msub>
    <mi>g</mi>
    <mi>k</mi>
   </msub>
   <mo>=</mo>
   <mrow>
    <mrow>
     <mi>k</mi>
     <mrow>
      <mo stretchy="false">(</mo>
      <mrow>
       <mrow>
        <mn>3</mn>
        <mi>k</mi>
       </mrow>
       <mo>-</mo>
       <mn>1</mn>
      </mrow>
      <mo stretchy="false">)</mo>
     </mrow>
    </mrow>
    <mo>/</mo>
    <mn>2</mn>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <csymbol cd="ambiguous">subscript</csymbol>
     <ci>g</ci>
     <ci>k</ci>
    </apply>
    <apply>
     <divide></divide>
     <apply>
      <times></times>
      <ci>k</ci>
      <apply>
       <minus></minus>
       <apply>
        <times></times>
        <cn type="integer">3</cn>
        <ci>k</ci>
       </apply>
       <cn type="integer">1</cn>
      </apply>
     </apply>
     <cn type="integer">2</cn>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   g_{k}=k(3k-1)/2
  </annotation>
 </semantics>
</math>

, in which case there is exactly one Ferrers diagram left over. But this is precisely what the right side of the identity says should happen, so we are finished.</p>
<h2 id="partition-recurrence">Partition recurrence</h2>

<p>We can rephrase the above proof, using <a href="partition_(number_theory)" title="wikilink">partitions</a>, which we denote as: 

<math display="inline" id="Pentagonal_number_theorem:10">
 <semantics>
  <mrow>
   <mi>n</mi>
   <mo>=</mo>
   <mrow>
    <msub>
     <mi>λ</mi>
     <mn>1</mn>
    </msub>
    <mo>+</mo>
    <msub>
     <mi>λ</mi>
     <mn>2</mn>
    </msub>
    <mo>+</mo>
    <mi mathvariant="normal">⋯</mi>
    <mo>+</mo>
    <msub>
     <mi>λ</mi>
     <mi mathvariant="normal">ℓ</mi>
    </msub>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <ci>n</ci>
    <apply>
     <plus></plus>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <ci>λ</ci>
      <cn type="integer">1</cn>
     </apply>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <ci>λ</ci>
      <cn type="integer">2</cn>
     </apply>
     <ci>normal-⋯</ci>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <ci>λ</ci>
      <ci>normal-ℓ</ci>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   n=\lambda_{1}+\lambda_{2}+\cdots+\lambda_{\ell}
  </annotation>
 </semantics>
</math>

, where 

<math display="inline" id="Pentagonal_number_theorem:11">
 <semantics>
  <mrow>
   <msub>
    <mi>λ</mi>
    <mn>1</mn>
   </msub>
   <mo>≥</mo>
   <msub>
    <mi>λ</mi>
    <mn>2</mn>
   </msub>
   <mo>≥</mo>
   <mi mathvariant="normal">…</mi>
   <mo>≥</mo>
   <msub>
    <mi>λ</mi>
    <mi mathvariant="normal">ℓ</mi>
   </msub>
   <mo>></mo>
   <mn>0</mn>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <and></and>
    <apply>
     <geq></geq>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <ci>λ</ci>
      <cn type="integer">1</cn>
     </apply>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <ci>λ</ci>
      <cn type="integer">2</cn>
     </apply>
    </apply>
    <apply>
     <geq></geq>
     <share href="#.cmml">
     </share>
     <ci>normal-…</ci>
    </apply>
    <apply>
     <geq></geq>
     <share href="#.cmml">
     </share>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <ci>λ</ci>
      <ci>normal-ℓ</ci>
     </apply>
    </apply>
    <apply>
     <gt></gt>
     <share href="#.cmml">
     </share>
     <cn type="integer">0</cn>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \lambda_{1}\geq\lambda_{2}\geq\ldots\geq\lambda_{\ell}>0
  </annotation>
 </semantics>
</math>

. The number of partitions of <em>n</em> is the partition function <em>p</em>(<em>n</em>) having generating function:</p>

<p>

<math display="block" id="Pentagonal_number_theorem:12">
 <semantics>
  <mrow>
   <mrow>
    <munder>
     <mo largeop="true" movablelimits="false" symmetric="true">∑</mo>
     <mrow>
      <mi>n</mi>
      <mo>∈</mo>
      <msub>
       <mi>ℕ</mi>
       <mn>0</mn>
      </msub>
     </mrow>
    </munder>
    <mrow>
     <mi>p</mi>
     <mrow>
      <mo stretchy="false">(</mo>
      <mi>n</mi>
      <mo stretchy="false">)</mo>
     </mrow>
     <msup>
      <mi>x</mi>
      <mi>n</mi>
     </msup>
    </mrow>
   </mrow>
   <mo>=</mo>
   <mrow>
    <munder>
     <mo largeop="true" movablelimits="false" symmetric="true">∏</mo>
     <mrow>
      <mi>k</mi>
      <mo>∈</mo>
      <mi>ℕ</mi>
     </mrow>
    </munder>
    <msup>
     <mrow>
      <mo stretchy="false">(</mo>
      <mrow>
       <mn>1</mn>
       <mo>-</mo>
       <msup>
        <mi>x</mi>
        <mi>k</mi>
       </msup>
      </mrow>
      <mo stretchy="false">)</mo>
     </mrow>
     <mrow>
      <mo>-</mo>
      <mn>1</mn>
     </mrow>
    </msup>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <sum></sum>
      <apply>
       <in></in>
       <ci>n</ci>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>ℕ</ci>
        <cn type="integer">0</cn>
       </apply>
      </apply>
     </apply>
     <apply>
      <times></times>
      <ci>p</ci>
      <ci>n</ci>
      <apply>
       <csymbol cd="ambiguous">superscript</csymbol>
       <ci>x</ci>
       <ci>n</ci>
      </apply>
     </apply>
    </apply>
    <apply>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <csymbol cd="latexml">product</csymbol>
      <apply>
       <in></in>
       <ci>k</ci>
       <ci>ℕ</ci>
      </apply>
     </apply>
     <apply>
      <csymbol cd="ambiguous">superscript</csymbol>
      <apply>
       <minus></minus>
       <cn type="integer">1</cn>
       <apply>
        <csymbol cd="ambiguous">superscript</csymbol>
        <ci>x</ci>
        <ci>k</ci>
       </apply>
      </apply>
      <apply>
       <minus></minus>
       <cn type="integer">1</cn>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \sum\limits_{n\in\mathbb{N}_{0}}p(n)x^{n}=\prod\limits_{k\in\mathbb{N}}(1-x^{k%
})^{-1}
  </annotation>
 </semantics>
</math>

</p>

<p>Note that is the reciprocal of the product on the left hand side of our identity:</p>

<p>

<math display="block" id="Pentagonal_number_theorem:13">
 <semantics>
  <mrow>
   <mrow>
    <mrow>
     <mo>(</mo>
     <mrow>
      <munderover>
       <mo largeop="true" movablelimits="false" symmetric="true">∑</mo>
       <mrow>
        <mi>n</mi>
        <mo>=</mo>
        <mn>0</mn>
       </mrow>
       <mi mathvariant="normal">∞</mi>
      </munderover>
      <mrow>
       <mi>p</mi>
       <mrow>
        <mo stretchy="false">(</mo>
        <mi>n</mi>
        <mo stretchy="false">)</mo>
       </mrow>
       <msup>
        <mi>x</mi>
        <mi>n</mi>
       </msup>
      </mrow>
     </mrow>
     <mo>)</mo>
    </mrow>
    <mo>⋅</mo>
    <mrow>
     <mo>(</mo>
     <mrow>
      <munderover>
       <mo largeop="true" movablelimits="false" symmetric="true">∏</mo>
       <mrow>
        <mi>n</mi>
        <mo>=</mo>
        <mn>1</mn>
       </mrow>
       <mi mathvariant="normal">∞</mi>
      </munderover>
      <mrow>
       <mo stretchy="false">(</mo>
       <mrow>
        <mn>1</mn>
        <mo>-</mo>
        <msup>
         <mi>x</mi>
         <mi>n</mi>
        </msup>
       </mrow>
       <mo stretchy="false">)</mo>
      </mrow>
     </mrow>
     <mo>)</mo>
    </mrow>
   </mrow>
   <mo>=</mo>
   <mn>1</mn>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <ci>normal-⋅</ci>
     <apply>
      <apply>
       <csymbol cd="ambiguous">superscript</csymbol>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <sum></sum>
        <apply>
         <eq></eq>
         <ci>n</ci>
         <cn type="integer">0</cn>
        </apply>
       </apply>
       <infinity></infinity>
      </apply>
      <apply>
       <times></times>
       <ci>p</ci>
       <ci>n</ci>
       <apply>
        <csymbol cd="ambiguous">superscript</csymbol>
        <ci>x</ci>
        <ci>n</ci>
       </apply>
      </apply>
     </apply>
     <apply>
      <apply>
       <csymbol cd="ambiguous">superscript</csymbol>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <csymbol cd="latexml">product</csymbol>
        <apply>
         <eq></eq>
         <ci>n</ci>
         <cn type="integer">1</cn>
        </apply>
       </apply>
       <infinity></infinity>
      </apply>
      <apply>
       <minus></minus>
       <cn type="integer">1</cn>
       <apply>
        <csymbol cd="ambiguous">superscript</csymbol>
        <ci>x</ci>
        <ci>n</ci>
       </apply>
      </apply>
     </apply>
    </apply>
    <cn type="integer">1</cn>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \left(\sum_{n=0}^{\infty}p(n)x^{n}\right)\cdot\left(\prod_{n=1}^{\infty}(1-x^{%
n})\right)=1
  </annotation>
 </semantics>
</math>

</p>

<p>Let us denote the expansion of our product by 

<math display="inline" id="Pentagonal_number_theorem:14">
 <semantics>
  <mrow>
   <mrow>
    <msubsup>
     <mo largeop="true" symmetric="true">∏</mo>
     <mrow>
      <mi>n</mi>
      <mo>=</mo>
      <mn>1</mn>
     </mrow>
     <mi mathvariant="normal">∞</mi>
    </msubsup>
    <mrow>
     <mo stretchy="false">(</mo>
     <mrow>
      <mn>1</mn>
      <mo>-</mo>
      <msup>
       <mi>x</mi>
       <mi>n</mi>
      </msup>
     </mrow>
     <mo stretchy="false">)</mo>
    </mrow>
   </mrow>
   <mo>=</mo>
   <mrow>
    <msubsup>
     <mo largeop="true" symmetric="true">∑</mo>
     <mrow>
      <mi>n</mi>
      <mo>=</mo>
      <mn>0</mn>
     </mrow>
     <mi mathvariant="normal">∞</mi>
    </msubsup>
    <mrow>
     <msub>
      <mi>a</mi>
      <mi>n</mi>
     </msub>
     <msup>
      <mi>x</mi>
      <mi>n</mi>
     </msup>
    </mrow>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <apply>
      <csymbol cd="ambiguous">superscript</csymbol>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <csymbol cd="latexml">product</csymbol>
       <apply>
        <eq></eq>
        <ci>n</ci>
        <cn type="integer">1</cn>
       </apply>
      </apply>
      <infinity></infinity>
     </apply>
     <apply>
      <minus></minus>
      <cn type="integer">1</cn>
      <apply>
       <csymbol cd="ambiguous">superscript</csymbol>
       <ci>x</ci>
       <ci>n</ci>
      </apply>
     </apply>
    </apply>
    <apply>
     <apply>
      <csymbol cd="ambiguous">superscript</csymbol>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <sum></sum>
       <apply>
        <eq></eq>
        <ci>n</ci>
        <cn type="integer">0</cn>
       </apply>
      </apply>
      <infinity></infinity>
     </apply>
     <apply>
      <times></times>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>a</ci>
       <ci>n</ci>
      </apply>
      <apply>
       <csymbol cd="ambiguous">superscript</csymbol>
       <ci>x</ci>
       <ci>n</ci>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \prod_{n=1}^{\infty}(1-x^{n})=\sum_{n=0}^{\infty}a_{n}x^{n}
  </annotation>
 </semantics>
</math>

, so that</p>

<p>

<math display="block" id="Pentagonal_number_theorem:15">
 <semantics>
  <mrow>
   <mrow>
    <mrow>
     <mo>(</mo>
     <mrow>
      <munderover>
       <mo largeop="true" movablelimits="false" symmetric="true">∑</mo>
       <mrow>
        <mi>n</mi>
        <mo>=</mo>
        <mn>0</mn>
       </mrow>
       <mi mathvariant="normal">∞</mi>
      </munderover>
      <mrow>
       <mi>p</mi>
       <mrow>
        <mo stretchy="false">(</mo>
        <mi>n</mi>
        <mo stretchy="false">)</mo>
       </mrow>
       <msup>
        <mi>x</mi>
        <mi>n</mi>
       </msup>
      </mrow>
     </mrow>
     <mo>)</mo>
    </mrow>
    <mo>⋅</mo>
    <mrow>
     <mo>(</mo>
     <mrow>
      <munderover>
       <mo largeop="true" movablelimits="false" symmetric="true">∑</mo>
       <mrow>
        <mi>n</mi>
        <mo>=</mo>
        <mn>0</mn>
       </mrow>
       <mi mathvariant="normal">∞</mi>
      </munderover>
      <mrow>
       <msub>
        <mi>a</mi>
        <mi>n</mi>
       </msub>
       <msup>
        <mi>x</mi>
        <mi>n</mi>
       </msup>
      </mrow>
     </mrow>
     <mo>)</mo>
    </mrow>
   </mrow>
   <mo>=</mo>
   <mn>1</mn>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <ci>normal-⋅</ci>
     <apply>
      <apply>
       <csymbol cd="ambiguous">superscript</csymbol>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <sum></sum>
        <apply>
         <eq></eq>
         <ci>n</ci>
         <cn type="integer">0</cn>
        </apply>
       </apply>
       <infinity></infinity>
      </apply>
      <apply>
       <times></times>
       <ci>p</ci>
       <ci>n</ci>
       <apply>
        <csymbol cd="ambiguous">superscript</csymbol>
        <ci>x</ci>
        <ci>n</ci>
       </apply>
      </apply>
     </apply>
     <apply>
      <apply>
       <csymbol cd="ambiguous">superscript</csymbol>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <sum></sum>
        <apply>
         <eq></eq>
         <ci>n</ci>
         <cn type="integer">0</cn>
        </apply>
       </apply>
       <infinity></infinity>
      </apply>
      <apply>
       <times></times>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>a</ci>
        <ci>n</ci>
       </apply>
       <apply>
        <csymbol cd="ambiguous">superscript</csymbol>
        <ci>x</ci>
        <ci>n</ci>
       </apply>
      </apply>
     </apply>
    </apply>
    <cn type="integer">1</cn>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \left(\sum_{n=0}^{\infty}p(n)x^{n}\right)\cdot\left(\sum_{n=0}^{\infty}a_{n}x^%
{n}\right)=1
  </annotation>
 </semantics>
</math>

.</p>

<p>Multiplying out the left hand side and equating coefficients on the two sides, we obtain <em>a<sub>0</sub></em> <em>p</em>(0) = 1 and 

<math display="inline" id="Pentagonal_number_theorem:16">
 <semantics>
  <mrow>
   <mrow>
    <msubsup>
     <mo largeop="true" symmetric="true">∑</mo>
     <mrow>
      <mi>i</mi>
      <mo>=</mo>
      <mn>0</mn>
     </mrow>
     <mi>n</mi>
    </msubsup>
    <mrow>
     <mi>p</mi>
     <mrow>
      <mo stretchy="false">(</mo>
      <mrow>
       <mi>n</mi>
       <mo>-</mo>
       <mi>i</mi>
      </mrow>
      <mo stretchy="false">)</mo>
     </mrow>
     <msub>
      <mi>a</mi>
      <mi>i</mi>
     </msub>
    </mrow>
   </mrow>
   <mo>=</mo>
   <mn>0</mn>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <apply>
      <csymbol cd="ambiguous">superscript</csymbol>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <sum></sum>
       <apply>
        <eq></eq>
        <ci>i</ci>
        <cn type="integer">0</cn>
       </apply>
      </apply>
      <ci>n</ci>
     </apply>
     <apply>
      <times></times>
      <ci>p</ci>
      <apply>
       <minus></minus>
       <ci>n</ci>
       <ci>i</ci>
      </apply>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>a</ci>
       <ci>i</ci>
      </apply>
     </apply>
    </apply>
    <cn type="integer">0</cn>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \sum_{i=0}^{n}p(n{-}i)a_{i}=0
  </annotation>
 </semantics>
</math>

 for all 

<math display="inline" id="Pentagonal_number_theorem:17">
 <semantics>
  <mrow>
   <mi>n</mi>
   <mo>≥</mo>
   <mn>1</mn>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <geq></geq>
    <ci>n</ci>
    <cn type="integer">1</cn>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   n\geq 1
  </annotation>
 </semantics>
</math>

. This gives a recurrence relation defining <em>p</em>(<em>n</em>) in terms of <em>a<sub>n</sub></em>, and vice versa a recurrence for <em>a<sub>n</sub></em> in terms of <em>p</em>(<em>n</em>). Thus, our desired result:</p>

<p>

<math display="block" id="Pentagonal_number_theorem:18">
 <semantics>
  <mrow>
   <msub>
    <mi>a</mi>
    <mi>i</mi>
   </msub>
   <mo>:=</mo>
   <mrow>
    <mo>{</mo>
    <mtable displaystyle="true">
     <mtr>
      <mtd columnalign="left">
       <mn>1</mn>
      </mtd>
      <mtd columnalign="left">
       <mrow>
        <mrow>
         <mtext>if</mtext>
         <mi>i</mi>
        </mrow>
        <mo>=</mo>
        <mrow>
         <mstyle displaystyle="false">
          <mfrac>
           <mn>1</mn>
           <mn>2</mn>
          </mfrac>
         </mstyle>
         <mrow>
          <mo stretchy="false">(</mo>
          <mrow>
           <mrow>
            <mn>3</mn>
            <msup>
             <mi>k</mi>
             <mn>2</mn>
            </msup>
           </mrow>
           <mo>±</mo>
           <mi>k</mi>
          </mrow>
          <mo stretchy="false">)</mo>
         </mrow>
         <mtext>and</mtext>
         <mi>k</mi>
         <mtext>is even</mtext>
        </mrow>
       </mrow>
      </mtd>
     </mtr>
     <mtr>
      <mtd columnalign="left">
       <mrow>
        <mo>-</mo>
        <mn>1</mn>
       </mrow>
      </mtd>
      <mtd columnalign="left">
       <mrow>
        <mrow>
         <mtext>if</mtext>
         <mi>i</mi>
        </mrow>
        <mo>=</mo>
        <mrow>
         <mstyle displaystyle="false">
          <mfrac>
           <mn>1</mn>
           <mn>2</mn>
          </mfrac>
         </mstyle>
         <mrow>
          <mo stretchy="false">(</mo>
          <mrow>
           <mrow>
            <mn>3</mn>
            <msup>
             <mi>k</mi>
             <mn>2</mn>
            </msup>
           </mrow>
           <mo>±</mo>
           <mi>k</mi>
          </mrow>
          <mo stretchy="false">)</mo>
         </mrow>
         <mtext>and</mtext>
         <mi>k</mi>
         <mtext>is odd</mtext>
        </mrow>
       </mrow>
      </mtd>
     </mtr>
     <mtr>
      <mtd columnalign="left">
       <mn>0</mn>
      </mtd>
      <mtd columnalign="left">
       <mtext>otherwise</mtext>
      </mtd>
     </mtr>
    </mtable>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <csymbol cd="latexml">assign</csymbol>
    <apply>
     <csymbol cd="ambiguous">subscript</csymbol>
     <ci>a</ci>
     <ci>i</ci>
    </apply>
    <apply>
     <csymbol cd="latexml">cases</csymbol>
     <cn type="integer">1</cn>
     <apply>
      <eq></eq>
      <apply>
       <times></times>
       <mtext>if</mtext>
       <ci>i</ci>
      </apply>
      <apply>
       <times></times>
       <apply>
        <divide></divide>
        <cn type="integer">1</cn>
        <cn type="integer">2</cn>
       </apply>
       <apply>
        <csymbol cd="latexml">plus-or-minus</csymbol>
        <apply>
         <times></times>
         <cn type="integer">3</cn>
         <apply>
          <csymbol cd="ambiguous">superscript</csymbol>
          <ci>k</ci>
          <cn type="integer">2</cn>
         </apply>
        </apply>
        <ci>k</ci>
       </apply>
       <mtext>and</mtext>
       <ci>k</ci>
       <mtext>is even</mtext>
      </apply>
     </apply>
     <apply>
      <minus></minus>
      <cn type="integer">1</cn>
     </apply>
     <apply>
      <eq></eq>
      <apply>
       <times></times>
       <mtext>if</mtext>
       <ci>i</ci>
      </apply>
      <apply>
       <times></times>
       <apply>
        <divide></divide>
        <cn type="integer">1</cn>
        <cn type="integer">2</cn>
       </apply>
       <apply>
        <csymbol cd="latexml">plus-or-minus</csymbol>
        <apply>
         <times></times>
         <cn type="integer">3</cn>
         <apply>
          <csymbol cd="ambiguous">superscript</csymbol>
          <ci>k</ci>
          <cn type="integer">2</cn>
         </apply>
        </apply>
        <ci>k</ci>
       </apply>
       <mtext>and</mtext>
       <ci>k</ci>
       <mtext>is odd</mtext>
      </apply>
     </apply>
     <cn type="integer">0</cn>
     <mtext>otherwise</mtext>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   a_{i}:=\begin{cases}1&\mbox{ if }i=\frac{1}{2}(3k^{2}\pm k)\mbox{ and }k\mbox{%
 is even}\\
-1&\mbox{ if }i=\frac{1}{2}(3k^{2}\pm k)\mbox{ and }k\mbox{ is odd }\\
0&\mbox{ otherwise }\end{cases}
  </annotation>
 </semantics>
</math>

</p>

<p>for 

<math display="inline" id="Pentagonal_number_theorem:19">
 <semantics>
  <mrow>
   <mi>i</mi>
   <mo>≥</mo>
   <mn>1</mn>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <geq></geq>
    <ci>i</ci>
    <cn type="integer">1</cn>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   i\geq 1
  </annotation>
 </semantics>
</math>

 is equivalent to the identity 

<math display="inline" id="Pentagonal_number_theorem:20">
 <semantics>
  <mrow>
   <mrow>
    <mrow>
     <msub>
      <mo largeop="true" symmetric="true">∑</mo>
      <mi>i</mi>
     </msub>
     <mrow>
      <msup>
       <mrow>
        <mo stretchy="false">(</mo>
        <mrow>
         <mo>-</mo>
         <mn>1</mn>
        </mrow>
        <mo stretchy="false">)</mo>
       </mrow>
       <mi>i</mi>
      </msup>
      <mi>p</mi>
      <mrow>
       <mo stretchy="false">(</mo>
       <mrow>
        <mi>n</mi>
        <mo>-</mo>
        <msub>
         <mi>g</mi>
         <mi>i</mi>
        </msub>
       </mrow>
       <mo stretchy="false">)</mo>
      </mrow>
     </mrow>
    </mrow>
    <mo>=</mo>
    <mn>0</mn>
   </mrow>
   <mo>,</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <sum></sum>
      <ci>i</ci>
     </apply>
     <apply>
      <times></times>
      <apply>
       <csymbol cd="ambiguous">superscript</csymbol>
       <apply>
        <minus></minus>
        <cn type="integer">1</cn>
       </apply>
       <ci>i</ci>
      </apply>
      <ci>p</ci>
      <apply>
       <minus></minus>
       <ci>n</ci>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>g</ci>
        <ci>i</ci>
       </apply>
      </apply>
     </apply>
    </apply>
    <cn type="integer">0</cn>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \sum_{i}(-1)^{i}p(n{-}g_{i})=0,
  </annotation>
 </semantics>
</math>

 where 

<math display="inline" id="Pentagonal_number_theorem:21">
 <semantics>
  <mrow>
   <msub>
    <mi>g</mi>
    <mi>i</mi>
   </msub>
   <mo>:=</mo>
   <mrow>
    <mfrac>
     <mn>1</mn>
     <mn>2</mn>
    </mfrac>
    <mrow>
     <mo stretchy="false">(</mo>
     <mrow>
      <mrow>
       <mn>3</mn>
       <msup>
        <mi>i</mi>
        <mn>2</mn>
       </msup>
      </mrow>
      <mo>-</mo>
      <mi>i</mi>
     </mrow>
     <mo stretchy="false">)</mo>
    </mrow>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <csymbol cd="latexml">assign</csymbol>
    <apply>
     <csymbol cd="ambiguous">subscript</csymbol>
     <ci>g</ci>
     <ci>i</ci>
    </apply>
    <apply>
     <times></times>
     <apply>
      <divide></divide>
      <cn type="integer">1</cn>
      <cn type="integer">2</cn>
     </apply>
     <apply>
      <minus></minus>
      <apply>
       <times></times>
       <cn type="integer">3</cn>
       <apply>
        <csymbol cd="ambiguous">superscript</csymbol>
        <ci>i</ci>
        <cn type="integer">2</cn>
       </apply>
      </apply>
      <ci>i</ci>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   g_{i}:=\textstyle\frac{1}{2}(3i^{2}-i)
  </annotation>
 </semantics>
</math>

 and <em>i</em> ranges over all integers such that 

<math display="inline" id="Pentagonal_number_theorem:22">
 <semantics>
  <mrow>
   <msub>
    <mi>g</mi>
    <mi>i</mi>
   </msub>
   <mo>≤</mo>
   <mi>n</mi>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <leq></leq>
    <apply>
     <csymbol cd="ambiguous">subscript</csymbol>
     <ci>g</ci>
     <ci>i</ci>
    </apply>
    <ci>n</ci>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   g_{i}\leq n
  </annotation>
 </semantics>
</math>

 (this range includes both positive and negative i, so as to use both kinds of generalized pentagonal numbers). This in turn means:</p>

<p>

<math display="block" id="Pentagonal_number_theorem:23">
 <semantics>
  <mrow>
   <mrow>
    <mrow>
     <munder>
      <mo largeop="true" movablelimits="false" symmetric="true">∑</mo>
      <mrow>
       <mpadded width="+5pt">
        <mi>i</mi>
       </mpadded>
       <mi>even</mi>
      </mrow>
     </munder>
     <mrow>
      <mi>p</mi>
      <mrow>
       <mo stretchy="false">(</mo>
       <mrow>
        <mi>n</mi>
        <mo>-</mo>
        <msub>
         <mi>g</mi>
         <mi>i</mi>
        </msub>
       </mrow>
       <mo stretchy="false">)</mo>
      </mrow>
     </mrow>
    </mrow>
    <mo>=</mo>
    <mrow>
     <munder>
      <mo largeop="true" movablelimits="false" symmetric="true">∑</mo>
      <mrow>
       <mpadded width="+5pt">
        <mi>i</mi>
       </mpadded>
       <mi>odd</mi>
      </mrow>
     </munder>
     <mrow>
      <mi>p</mi>
      <mrow>
       <mo stretchy="false">(</mo>
       <mrow>
        <mi>n</mi>
        <mo>-</mo>
        <msub>
         <mi>g</mi>
         <mi>i</mi>
        </msub>
       </mrow>
       <mo stretchy="false">)</mo>
      </mrow>
     </mrow>
    </mrow>
   </mrow>
   <mo>,</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <sum></sum>
      <apply>
       <times></times>
       <ci>i</ci>
       <ci>even</ci>
      </apply>
     </apply>
     <apply>
      <times></times>
      <ci>p</ci>
      <apply>
       <minus></minus>
       <ci>n</ci>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>g</ci>
        <ci>i</ci>
       </apply>
      </apply>
     </apply>
    </apply>
    <apply>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <sum></sum>
      <apply>
       <times></times>
       <ci>i</ci>
       <ci>odd</ci>
      </apply>
     </apply>
     <apply>
      <times></times>
      <ci>p</ci>
      <apply>
       <minus></minus>
       <ci>n</ci>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>g</ci>
        <ci>i</ci>
       </apply>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \sum_{i\mathrm{\ even}}p(n{-}g_{i})=\sum_{i\mathrm{\ odd}}p(n{-}g_{i}),
  </annotation>
 </semantics>
</math>

.</p>

<p>In terms of sets of partitions, this is equivalent to saying that the following sets are of equal cardinality:</p>

<p>

<math display="block" id="Pentagonal_number_theorem:24">
 <semantics>
  <mrow>
   <mi class="ltx_font_mathcaligraphic">𝒳</mi>
   <mo>:=</mo>
   <mrow>
    <munder>
     <mo largeop="true" mathsize="160%" movablelimits="false" stretchy="false" symmetric="true">⋃</mo>
     <mrow>
      <mpadded width="+5pt">
       <mi>i</mi>
      </mpadded>
      <mi>even</mi>
     </mrow>
    </munder>
    <mrow>
     <mi class="ltx_font_mathcaligraphic">𝒫</mi>
     <mrow>
      <mo stretchy="false">(</mo>
      <mrow>
       <mi>n</mi>
       <mo>-</mo>
       <msub>
        <mi>g</mi>
        <mi>i</mi>
       </msub>
      </mrow>
      <mo stretchy="false">)</mo>
     </mrow>
    </mrow>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <csymbol cd="latexml">assign</csymbol>
    <ci>𝒳</ci>
    <apply>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <union></union>
      <apply>
       <times></times>
       <ci>i</ci>
       <ci>even</ci>
      </apply>
     </apply>
     <apply>
      <times></times>
      <ci>𝒫</ci>
      <apply>
       <minus></minus>
       <ci>n</ci>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>g</ci>
        <ci>i</ci>
       </apply>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \mathcal{X}:=\bigcup_{i\mathrm{\ even}}\mathcal{P}(n-g_{i})
  </annotation>
 </semantics>
</math>

         and         

<math display="inline" id="Pentagonal_number_theorem:25">
 <semantics>
  <mrow>
   <mi class="ltx_font_mathcaligraphic">𝒴</mi>
   <mo>:=</mo>
   <mrow>
    <msub>
     <mo largeop="true" mathsize="160%" stretchy="false" symmetric="true">⋃</mo>
     <mrow>
      <mpadded width="+5pt">
       <mi>i</mi>
      </mpadded>
      <mi>odd</mi>
     </mrow>
    </msub>
    <mrow>
     <mi class="ltx_font_mathcaligraphic">𝒫</mi>
     <mrow>
      <mo stretchy="false">(</mo>
      <mrow>
       <mi>n</mi>
       <mo>-</mo>
       <msub>
        <mi>g</mi>
        <mi>i</mi>
       </msub>
      </mrow>
      <mo stretchy="false">)</mo>
     </mrow>
    </mrow>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <csymbol cd="latexml">assign</csymbol>
    <ci>𝒴</ci>
    <apply>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <union></union>
      <apply>
       <times></times>
       <ci>i</ci>
       <ci>odd</ci>
      </apply>
     </apply>
     <apply>
      <times></times>
      <ci>𝒫</ci>
      <apply>
       <minus></minus>
       <ci>n</ci>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>g</ci>
        <ci>i</ci>
       </apply>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \mathcal{Y}:=\bigcup_{i\mathrm{\ odd}}\mathcal{P}(n-g_{i})
  </annotation>
 </semantics>
</math>

,</p>

<p>where 

<math display="inline" id="Pentagonal_number_theorem:26">
 <semantics>
  <mrow>
   <mi class="ltx_font_mathcaligraphic">𝒫</mi>
   <mrow>
    <mo stretchy="false">(</mo>
    <mi>n</mi>
    <mo stretchy="false">)</mo>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <times></times>
    <ci>𝒫</ci>
    <ci>n</ci>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \mathcal{P}(n)
  </annotation>
 </semantics>
</math>

 denotes the set of all partitions of 

<math display="inline" id="Pentagonal_number_theorem:27">
 <semantics>
  <mi>n</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>n</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   n
  </annotation>
 </semantics>
</math>

. All that remains is to give a bijection from one set to the other, which is accomplished by the function <em>φ</em> from <em>X</em> to <em>Y</em> which maps the partition 

<math display="inline" id="Pentagonal_number_theorem:28">
 <semantics>
  <mrow>
   <mrow>
    <mrow>
     <mi class="ltx_font_mathcaligraphic">𝒫</mi>
     <mrow>
      <mo stretchy="false">(</mo>
      <mrow>
       <mi>n</mi>
       <mo>-</mo>
       <msub>
        <mi>g</mi>
        <mi>i</mi>
       </msub>
      </mrow>
      <mo stretchy="false">)</mo>
     </mrow>
    </mrow>
    <mo>∋</mo>
    <mi>λ</mi>
   </mrow>
   <mo>:</mo>
   <mrow>
    <mrow>
     <mi>n</mi>
     <mo>-</mo>
     <msub>
      <mi>g</mi>
      <mi>i</mi>
     </msub>
    </mrow>
    <mo>=</mo>
    <mrow>
     <msub>
      <mi>λ</mi>
      <mn>1</mn>
     </msub>
     <mo>+</mo>
     <msub>
      <mi>λ</mi>
      <mn>2</mn>
     </msub>
     <mo>+</mo>
     <mi mathvariant="normal">⋯</mi>
     <mo>+</mo>
     <msub>
      <mi>λ</mi>
      <mi mathvariant="normal">ℓ</mi>
     </msub>
    </mrow>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <ci>normal-:</ci>
    <apply>
     <in></in>
     <ci>λ</ci>
     <apply>
      <times></times>
      <ci>𝒫</ci>
      <apply>
       <minus></minus>
       <ci>n</ci>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>g</ci>
        <ci>i</ci>
       </apply>
      </apply>
     </apply>
    </apply>
    <apply>
     <eq></eq>
     <apply>
      <minus></minus>
      <ci>n</ci>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>g</ci>
       <ci>i</ci>
      </apply>
     </apply>
     <apply>
      <plus></plus>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>λ</ci>
       <cn type="integer">1</cn>
      </apply>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>λ</ci>
       <cn type="integer">2</cn>
      </apply>
      <ci>normal-⋯</ci>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>λ</ci>
       <ci>normal-ℓ</ci>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \mathcal{P}(n-g_{i})\ni\lambda:n-g_{i}=\lambda_{1}+\lambda_{2}+\cdots+\lambda_%
{\ell}
  </annotation>
 </semantics>
</math>

 to the partiton 

<math display="inline" id="Pentagonal_number_theorem:29">
 <semantics>
  <mrow>
   <msup>
    <mi>λ</mi>
    <mo>′</mo>
   </msup>
   <mo>=</mo>
   <mrow>
    <mi>φ</mi>
    <mrow>
     <mo stretchy="false">(</mo>
     <mi>λ</mi>
     <mo stretchy="false">)</mo>
    </mrow>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <csymbol cd="ambiguous">superscript</csymbol>
     <ci>λ</ci>
     <ci>normal-′</ci>
    </apply>
    <apply>
     <times></times>
     <ci>φ</ci>
     <ci>λ</ci>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \lambda^{\prime}=\varphi(\lambda)
  </annotation>
 </semantics>
</math>

 defined by:</p>

<p>

<math display="block" id="Pentagonal_number_theorem:30">
 <semantics>
  <mrow>
   <mrow>
    <mi>φ</mi>
    <mrow>
     <mo stretchy="false">(</mo>
     <mi>λ</mi>
     <mo stretchy="false">)</mo>
    </mrow>
   </mrow>
   <mo>:=</mo>
   <mrow>
    <mo>{</mo>
    <mtable displaystyle="true">
     <mtr>
      <mtd columnalign="left">
       <mrow>
        <msup>
         <mi>λ</mi>
         <mo>′</mo>
        </msup>
        <mo>:</mo>
        <mrow>
         <mrow>
          <mi>n</mi>
          <mo>-</mo>
          <msub>
           <mi>g</mi>
           <mrow>
            <mi>i</mi>
            <mo>-</mo>
            <mn>1</mn>
           </mrow>
          </msub>
         </mrow>
         <mo>=</mo>
         <mrow>
          <mrow>
           <mo stretchy="false">(</mo>
           <mrow>
            <mrow>
             <mi mathvariant="normal">ℓ</mi>
             <mo>+</mo>
             <mrow>
              <mn>3</mn>
              <mi>i</mi>
             </mrow>
            </mrow>
            <mo>-</mo>
            <mn>2</mn>
           </mrow>
           <mo stretchy="false">)</mo>
          </mrow>
          <mo>+</mo>
          <mrow>
           <mo stretchy="false">(</mo>
           <mrow>
            <msub>
             <mi>λ</mi>
             <mn>1</mn>
            </msub>
            <mo>-</mo>
            <mn>1</mn>
           </mrow>
           <mo stretchy="false">)</mo>
          </mrow>
          <mo>+</mo>
          <mi mathvariant="normal">⋯</mi>
          <mo>+</mo>
          <mrow>
           <mo stretchy="false">(</mo>
           <mrow>
            <msub>
             <mi>λ</mi>
             <mi mathvariant="normal">ℓ</mi>
            </msub>
            <mo>-</mo>
            <mn>1</mn>
           </mrow>
           <mo stretchy="false">)</mo>
          </mrow>
         </mrow>
        </mrow>
       </mrow>
      </mtd>
      <mtd columnalign="left">
       <mrow>
        <mrow>
         <mrow>
          <mtext>if</mtext>
          <mi mathvariant="normal">ℓ</mi>
         </mrow>
         <mo>+</mo>
         <mrow>
          <mn>3</mn>
          <mi>i</mi>
         </mrow>
        </mrow>
        <mo>></mo>
        <msub>
         <mi>λ</mi>
         <mn>1</mn>
        </msub>
       </mrow>
      </mtd>
     </mtr>
     <mtr>
      <mtd columnalign="left">
       <mi></mi>
      </mtd>
      <mtd></mtd>
     </mtr>
     <mtr>
      <mtd columnalign="left">
       <mrow>
        <msup>
         <mi>λ</mi>
         <mo>′</mo>
        </msup>
        <mo>:</mo>
        <mrow>
         <mrow>
          <mi>n</mi>
          <mo>-</mo>
          <msub>
           <mi>g</mi>
           <mrow>
            <mi>i</mi>
            <mo>+</mo>
            <mn>1</mn>
           </mrow>
          </msub>
         </mrow>
         <mo>=</mo>
         <mrow>
          <mrow>
           <mo stretchy="false">(</mo>
           <mrow>
            <msub>
             <mi>λ</mi>
             <mn>2</mn>
            </msub>
            <mo>+</mo>
            <mn>1</mn>
           </mrow>
           <mo stretchy="false">)</mo>
          </mrow>
          <mo>+</mo>
          <mi mathvariant="normal">⋯</mi>
          <mo>+</mo>
          <mrow>
           <mo stretchy="false">(</mo>
           <mrow>
            <msub>
             <mi>λ</mi>
             <mi mathvariant="normal">ℓ</mi>
            </msub>
            <mo>+</mo>
            <mn>1</mn>
           </mrow>
           <mo stretchy="false">)</mo>
          </mrow>
          <mo>+</mo>
          <munder>
           <munder accentunder="true">
            <mrow>
             <mn>1</mn>
             <mo movablelimits="false">+</mo>
             <mi mathvariant="normal">⋯</mi>
             <mo movablelimits="false">+</mo>
             <mn>1</mn>
            </mrow>
            <mo movablelimits="false">⏟</mo>
           </munder>
           <mrow>
            <msub>
             <mi>λ</mi>
             <mn>1</mn>
            </msub>
            <mo>-</mo>
            <mi mathvariant="normal">ℓ</mi>
            <mo>-</mo>
            <mrow>
             <mn>3</mn>
             <mi>i</mi>
            </mrow>
           </mrow>
          </munder>
         </mrow>
        </mrow>
       </mrow>
      </mtd>
      <mtd columnalign="left">
       <mrow>
        <mrow>
         <mrow>
          <mtext>if</mtext>
          <mi mathvariant="normal">ℓ</mi>
         </mrow>
         <mo>+</mo>
         <mrow>
          <mn>3</mn>
          <mi>i</mi>
         </mrow>
        </mrow>
        <mo>≤</mo>
        <msub>
         <mi>λ</mi>
         <mn>1</mn>
        </msub>
       </mrow>
      </mtd>
     </mtr>
    </mtable>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <csymbol cd="latexml">assign</csymbol>
    <apply>
     <times></times>
     <ci>φ</ci>
     <ci>λ</ci>
    </apply>
    <apply>
     <csymbol cd="latexml">cases</csymbol>
     <apply>
      <ci>normal-:</ci>
      <apply>
       <csymbol cd="ambiguous">superscript</csymbol>
       <ci>λ</ci>
       <ci>normal-′</ci>
      </apply>
      <apply>
       <eq></eq>
       <apply>
        <minus></minus>
        <ci>n</ci>
        <apply>
         <csymbol cd="ambiguous">subscript</csymbol>
         <ci>g</ci>
         <apply>
          <minus></minus>
          <ci>i</ci>
          <cn type="integer">1</cn>
         </apply>
        </apply>
       </apply>
       <apply>
        <plus></plus>
        <apply>
         <minus></minus>
         <apply>
          <plus></plus>
          <ci>normal-ℓ</ci>
          <apply>
           <times></times>
           <cn type="integer">3</cn>
           <ci>i</ci>
          </apply>
         </apply>
         <cn type="integer">2</cn>
        </apply>
        <apply>
         <minus></minus>
         <apply>
          <csymbol cd="ambiguous">subscript</csymbol>
          <ci>λ</ci>
          <cn type="integer">1</cn>
         </apply>
         <cn type="integer">1</cn>
        </apply>
        <ci>normal-⋯</ci>
        <apply>
         <minus></minus>
         <apply>
          <csymbol cd="ambiguous">subscript</csymbol>
          <ci>λ</ci>
          <ci>normal-ℓ</ci>
         </apply>
         <cn type="integer">1</cn>
        </apply>
       </apply>
      </apply>
     </apply>
     <apply>
      <gt></gt>
      <apply>
       <plus></plus>
       <apply>
        <times></times>
        <mtext>if</mtext>
        <ci>normal-ℓ</ci>
       </apply>
       <apply>
        <times></times>
        <cn type="integer">3</cn>
        <ci>i</ci>
       </apply>
      </apply>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>λ</ci>
       <cn type="integer">1</cn>
      </apply>
     </apply>
     <csymbol cd="latexml">absent</csymbol>
     <mtext>otherwise</mtext>
     <apply>
      <ci>normal-:</ci>
      <apply>
       <csymbol cd="ambiguous">superscript</csymbol>
       <ci>λ</ci>
       <ci>normal-′</ci>
      </apply>
      <apply>
       <eq></eq>
       <apply>
        <minus></minus>
        <ci>n</ci>
        <apply>
         <csymbol cd="ambiguous">subscript</csymbol>
         <ci>g</ci>
         <apply>
          <plus></plus>
          <ci>i</ci>
          <cn type="integer">1</cn>
         </apply>
        </apply>
       </apply>
       <apply>
        <plus></plus>
        <apply>
         <plus></plus>
         <apply>
          <csymbol cd="ambiguous">subscript</csymbol>
          <ci>λ</ci>
          <cn type="integer">2</cn>
         </apply>
         <cn type="integer">1</cn>
        </apply>
        <ci>normal-⋯</ci>
        <apply>
         <plus></plus>
         <apply>
          <csymbol cd="ambiguous">subscript</csymbol>
          <ci>λ</ci>
          <ci>normal-ℓ</ci>
         </apply>
         <cn type="integer">1</cn>
        </apply>
        <apply>
         <csymbol cd="ambiguous">subscript</csymbol>
         <apply>
          <ci>normal-⏟</ci>
          <apply>
           <plus></plus>
           <cn type="integer">1</cn>
           <ci>normal-⋯</ci>
           <cn type="integer">1</cn>
          </apply>
         </apply>
         <apply>
          <minus></minus>
          <apply>
           <csymbol cd="ambiguous">subscript</csymbol>
           <ci>λ</ci>
           <cn type="integer">1</cn>
          </apply>
          <ci>normal-ℓ</ci>
          <apply>
           <times></times>
           <cn type="integer">3</cn>
           <ci>i</ci>
          </apply>
         </apply>
        </apply>
       </apply>
      </apply>
     </apply>
     <apply>
      <leq></leq>
      <apply>
       <plus></plus>
       <apply>
        <times></times>
        <mtext>if</mtext>
        <ci>normal-ℓ</ci>
       </apply>
       <apply>
        <times></times>
        <cn type="integer">3</cn>
        <ci>i</ci>
       </apply>
      </apply>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>λ</ci>
       <cn type="integer">1</cn>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \varphi(\lambda):=\begin{cases}\lambda^{\prime}:n-g_{i-1}=(\ell+3i-2)+(\lambda%
_{1}-1)+\cdots+(\lambda_{\ell}-1)&\mbox{ if }\ell+3i>\lambda_{1}\\
\\
\lambda^{\prime}:n-g_{i+1}=(\lambda_{2}+1)+\cdots+(\lambda_{\ell}+1)+%
\underbrace{1+\cdots+1}_{\lambda_{1}-\ell-3i}&\mbox{ if }\ell+3i\leq\lambda_{1%
}\end{cases}
  </annotation>
 </semantics>
</math>

.</p>

<p>This is an involution (a self-inverse mapping), and thus in particular a bijection, which proves our claim and the identity.</p>
<h2 id="see-also">See also</h2>

<p>The pentagonal number theorem occurs as a special case of the <a href="Jacobi_triple_product" title="wikilink">Jacobi triple product</a>.</p>

<p><a class="uri" href="Q-series" title="wikilink">Q-series</a> generalize Euler's function, which is closely related to the <a href="Dedekind_eta_function" title="wikilink">Dedekind eta function</a>, and occurs in the study of <a href="modular_forms" title="wikilink">modular forms</a>. The modulus of the Euler function (see <a class="uri" href="Q-series" title="wikilink">Q-series</a> for picture) shows the <a class="uri" href="fractal" title="wikilink">fractal</a> <a href="modular_group" title="wikilink">modular group</a> symmetry and occurs in the study of the interior of the <a href="Mandelbrot_set" title="wikilink">Mandelbrot set</a>.</p>
<h2 id="references">References</h2>
<ul>
<li></li>
<li></li>
</ul>
<h2 id="external-links">External links</h2>
<ul>
<li></li>
<li><a href="http://www.mathpages.com/home/kmath623/kmath623.htm">On Euler's Pentagonal Theorem</a> at MathPages</li>
<li>

<p>, the partition numbers.</p></li>
</ul>

<p>"</p>

<p><a href="Category:Theorems_in_number_theory" title="wikilink">Category:Theorems in number theory</a> <a href="Category:Articles_containing_proofs" title="wikilink">Category:Articles containing proofs</a></p>
</body>
</html>
