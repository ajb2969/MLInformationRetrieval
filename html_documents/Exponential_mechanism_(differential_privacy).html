<html lang="en">
<head>
<meta charset="utf-8"/>
<title offset="572">Exponential mechanism (differential privacy)</title>
<script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_SVG.js" type="text/javascript">
</script>
</head>
<body>
<h1>Exponential mechanism (differential privacy)</h1>
<hr/>

<p>The <strong>exponential mechanism</strong> is a technique for designing differentially private algorithms developed by <a href="http://research.microsoft.com/en-us/people/mcsherry/">Frank McSherry</a> and <a href="http://research.microsoft.com/en-us/people/kunal/default.aspx">Kunal Talwar</a>. <a href="Differential_privacy" title="wikilink">Differential privacy</a> is a technique for releasing statistical information about a database without revealing information about its individual entries.<br/>
Most of the initial research in the field of <a href="differential_privacy" title="wikilink">differential privacy</a> revolved around real valued functions which have relatively low <a href="Differential_privacy" title="wikilink">sensitivity</a> to change in the data of a single individual and whose usefulness is not hampered by small additive perturbations. A natural question is what happens in the situation when one wants to preserve more general sets of properties. The Exponential Mechanism helps to extend the notion of differential privacy to address these issues. Moreover, it describes a class of mechanisms that includes all possible differentially private mechanisms.</p>
<h2 id="the-exponential-mechanism">The exponential mechanism <a class="footnoteRef" href="#fn1" id="fnref1"><sup>1</sup></a></h2>
<h3 id="algorithm">Algorithm</h3>

<p>In very generic terms a privacy mechanism maps a set of 

<math display="inline" id="Exponential_mechanism_(differential_privacy):0">
 <semantics>
  <mi>n</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>n</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   n\,\!
  </annotation>
 </semantics>
</math>

 inputs from domain 

<math display="inline" id="Exponential_mechanism_(differential_privacy):1">
 <semantics>
  <mi class="ltx_font_mathcaligraphic">𝒟</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>𝒟</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \mathcal{D}\,\!
  </annotation>
 </semantics>
</math>

, to a range 

<math display="inline" id="Exponential_mechanism_(differential_privacy):2">
 <semantics>
  <mi class="ltx_font_mathcaligraphic">ℛ</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>ℛ</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \mathcal{R}\,\!
  </annotation>
 </semantics>
</math>

. The map may be randomized, in which case each element of the domain 

<math display="inline" id="Exponential_mechanism_(differential_privacy):3">
 <semantics>
  <mi>D</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>D</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   D\,\!
  </annotation>
 </semantics>
</math>

 corresponds to the probability distribution over the range 

<math display="inline" id="Exponential_mechanism_(differential_privacy):4">
 <semantics>
  <mi>R</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>R</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   R\,\!
  </annotation>
 </semantics>
</math>

. The privacy mechanism we are going to design makes no assumption about the nature of 

<math display="inline" id="Exponential_mechanism_(differential_privacy):5">
 <semantics>
  <mi class="ltx_font_mathcaligraphic">𝒟</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>𝒟</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \mathcal{D}\,\!
  </annotation>
 </semantics>
</math>

 and 

<math display="inline" id="Exponential_mechanism_(differential_privacy):6">
 <semantics>
  <mi class="ltx_font_mathcaligraphic">ℛ</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>ℛ</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \mathcal{R}\,\!
  </annotation>
 </semantics>
</math>

 apart from a base <a href="Measure_(mathematics)" title="wikilink">measure</a> 

<math display="inline" id="Exponential_mechanism_(differential_privacy):7">
 <semantics>
  <mi>μ</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>μ</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \mu\,\!
  </annotation>
 </semantics>
</math>

 on 

<math display="inline" id="Exponential_mechanism_(differential_privacy):8">
 <semantics>
  <mi class="ltx_font_mathcaligraphic">ℛ</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>ℛ</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \mathcal{R}\,\!
  </annotation>
 </semantics>
</math>

. Let us define a function 

<math display="inline" id="Exponential_mechanism_(differential_privacy):9">
 <semantics>
  <mrow>
   <mi>q</mi>
   <mo>:</mo>
   <mrow>
    <mrow>
     <msup>
      <mi class="ltx_font_mathcaligraphic">𝒟</mi>
      <mi>n</mi>
     </msup>
     <mo>×</mo>
     <mi class="ltx_font_mathcaligraphic">ℛ</mi>
    </mrow>
    <mo>→</mo>
    <mi>ℝ</mi>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <ci>normal-:</ci>
    <ci>q</ci>
    <apply>
     <ci>normal-→</ci>
     <apply>
      <times></times>
      <apply>
       <csymbol cd="ambiguous">superscript</csymbol>
       <ci>𝒟</ci>
       <ci>n</ci>
      </apply>
      <ci>ℛ</ci>
     </apply>
     <ci>ℝ</ci>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   q:\mathcal{D}^{n}\times\mathcal{R}\rightarrow\mathbb{R}\,\!
  </annotation>
 </semantics>
</math>

. Intuitively this function assigns score to the pair 

<math display="inline" id="Exponential_mechanism_(differential_privacy):10">
 <semantics>
  <mrow>
   <mo stretchy="false">(</mo>
   <mi>d</mi>
   <mo>,</mo>
   <mi>r</mi>
   <mo stretchy="false">)</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <interval closure="open">
    <ci>d</ci>
    <ci>r</ci>
   </interval>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   (d,r)\,\!
  </annotation>
 </semantics>
</math>

, where 

<math display="inline" id="Exponential_mechanism_(differential_privacy):11">
 <semantics>
  <mrow>
   <mi>d</mi>
   <mo>∈</mo>
   <msup>
    <mi class="ltx_font_mathcaligraphic">𝒟</mi>
    <mi>n</mi>
   </msup>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <in></in>
    <ci>d</ci>
    <apply>
     <csymbol cd="ambiguous">superscript</csymbol>
     <ci>𝒟</ci>
     <ci>n</ci>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   d\in\mathcal{D}^{n}\,\!
  </annotation>
 </semantics>
</math>

 and 

<math display="inline" id="Exponential_mechanism_(differential_privacy):12">
 <semantics>
  <mrow>
   <mi>r</mi>
   <mo>∈</mo>
   <mi class="ltx_font_mathcaligraphic">ℛ</mi>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <in></in>
    <ci>r</ci>
    <ci>ℛ</ci>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   r\in\mathcal{R}\,\!
  </annotation>
 </semantics>
</math>

. The score reflects how appealing is the pair 

<math display="inline" id="Exponential_mechanism_(differential_privacy):13">
 <semantics>
  <mrow>
   <mo stretchy="false">(</mo>
   <mi>d</mi>
   <mo>,</mo>
   <mi>r</mi>
   <mo stretchy="false">)</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <interval closure="open">
    <ci>d</ci>
    <ci>r</ci>
   </interval>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   (d,r)\,\!
  </annotation>
 </semantics>
</math>

, i.e. the higher the score, the more appealing the pair is. Once we are given the input 

<math display="inline" id="Exponential_mechanism_(differential_privacy):14">
 <semantics>
  <mrow>
   <mi>d</mi>
   <mo>∈</mo>
   <msup>
    <mi class="ltx_font_mathcaligraphic">𝒟</mi>
    <mi>n</mi>
   </msup>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <in></in>
    <ci>d</ci>
    <apply>
     <csymbol cd="ambiguous">superscript</csymbol>
     <ci>𝒟</ci>
     <ci>n</ci>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   d\in\mathcal{D}^{n}\,\!
  </annotation>
 </semantics>
</math>

, the mechanism's objective is to return an 

<math display="inline" id="Exponential_mechanism_(differential_privacy):15">
 <semantics>
  <mrow>
   <mi>r</mi>
   <mo>∈</mo>
   <mi class="ltx_font_mathcaligraphic">ℛ</mi>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <in></in>
    <ci>r</ci>
    <ci>ℛ</ci>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   r\in\mathcal{R}\,\!
  </annotation>
 </semantics>
</math>

 such that the function 

<math display="inline" id="Exponential_mechanism_(differential_privacy):16">
 <semantics>
  <mrow>
   <mi>q</mi>
   <mrow>
    <mo stretchy="false">(</mo>
    <mi>d</mi>
    <mo>,</mo>
    <mi>r</mi>
    <mo stretchy="false">)</mo>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <times></times>
    <ci>q</ci>
    <interval closure="open">
     <ci>d</ci>
     <ci>r</ci>
    </interval>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   q(d,r)\,\!
  </annotation>
 </semantics>
</math>

 is approximately maximized. To achieve this, we set up the mechanism 

<math display="inline" id="Exponential_mechanism_(differential_privacy):17">
 <semantics>
  <mrow>
   <msubsup>
    <mi class="ltx_font_mathcaligraphic">ℰ</mi>
    <mi>q</mi>
    <mi>ϵ</mi>
   </msubsup>
   <mrow>
    <mo stretchy="false">(</mo>
    <mi>d</mi>
    <mo stretchy="false">)</mo>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <times></times>
    <apply>
     <csymbol cd="ambiguous">superscript</csymbol>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <ci>ℰ</ci>
      <ci>q</ci>
     </apply>
     <ci>ϵ</ci>
    </apply>
    <ci>d</ci>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \mathcal{E}_{q}^{\epsilon}(d)\,\!
  </annotation>
 </semantics>
</math>

 as follows:<br/>
<strong>Definition:</strong> For any function 

<math display="inline" id="Exponential_mechanism_(differential_privacy):18">
 <semantics>
  <mrow>
   <mi>q</mi>
   <mo>:</mo>
   <mrow>
    <mrow>
     <mo stretchy="false">(</mo>
     <mrow>
      <msup>
       <mi class="ltx_font_mathcaligraphic">𝒟</mi>
       <mi>n</mi>
      </msup>
      <mo>×</mo>
      <mi class="ltx_font_mathcaligraphic">ℛ</mi>
     </mrow>
     <mo stretchy="false">)</mo>
    </mrow>
    <mo>→</mo>
    <mi>ℝ</mi>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <ci>normal-:</ci>
    <ci>q</ci>
    <apply>
     <ci>normal-→</ci>
     <apply>
      <times></times>
      <apply>
       <csymbol cd="ambiguous">superscript</csymbol>
       <ci>𝒟</ci>
       <ci>n</ci>
      </apply>
      <ci>ℛ</ci>
     </apply>
     <ci>ℝ</ci>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   q:(\mathcal{D}^{n}\times\mathcal{R})\rightarrow\mathbb{R}\,\!
  </annotation>
 </semantics>
</math>

, and a base measure 

<math display="inline" id="Exponential_mechanism_(differential_privacy):19">
 <semantics>
  <mi>μ</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>μ</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \mu\,\!
  </annotation>
 </semantics>
</math>

 over 

<math display="inline" id="Exponential_mechanism_(differential_privacy):20">
 <semantics>
  <mi class="ltx_font_mathcaligraphic">ℛ</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>ℛ</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \mathcal{R}\,\!
  </annotation>
 </semantics>
</math>

, we define:</p>

<p>

<math display="block" id="Exponential_mechanism_(differential_privacy):21">
 <semantics>
  <mrow>
   <mrow>
    <msubsup>
     <mi class="ltx_font_mathcaligraphic">ℰ</mi>
     <mi>q</mi>
     <mi>ϵ</mi>
    </msubsup>
    <mrow>
     <mo stretchy="false">(</mo>
     <mi>d</mi>
     <mo stretchy="false">)</mo>
    </mrow>
   </mrow>
   <mo>:=</mo>
   <mi></mi>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <csymbol cd="latexml">assign</csymbol>
    <apply>
     <times></times>
     <apply>
      <csymbol cd="ambiguous">superscript</csymbol>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>ℰ</ci>
       <ci>q</ci>
      </apply>
      <ci>ϵ</ci>
     </apply>
     <ci>d</ci>
    </apply>
    <csymbol cd="latexml">absent</csymbol>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \mathcal{E}_{q}^{\epsilon}(d):=\,\!
  </annotation>
 </semantics>
</math>

 Choose 

<math display="inline" id="Exponential_mechanism_(differential_privacy):22">
 <semantics>
  <mi>r</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>r</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   r\,\!
  </annotation>
 </semantics>
</math>

 with probability proportional to 

<math display="inline" id="Exponential_mechanism_(differential_privacy):23">
 <semantics>
  <mrow>
   <mrow>
    <msup>
     <mi>e</mi>
     <mrow>
      <mi>ϵ</mi>
      <mi>q</mi>
      <mrow>
       <mo stretchy="false">(</mo>
       <mi>d</mi>
       <mo>,</mo>
       <mi>r</mi>
       <mo stretchy="false">)</mo>
      </mrow>
     </mrow>
    </msup>
    <mo>×</mo>
    <mi>μ</mi>
   </mrow>
   <mrow>
    <mo stretchy="false">(</mo>
    <mi>r</mi>
    <mo stretchy="false">)</mo>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <times></times>
    <apply>
     <times></times>
     <apply>
      <csymbol cd="ambiguous">superscript</csymbol>
      <ci>e</ci>
      <apply>
       <times></times>
       <ci>ϵ</ci>
       <ci>q</ci>
       <interval closure="open">
        <ci>d</ci>
        <ci>r</ci>
       </interval>
      </apply>
     </apply>
     <ci>μ</ci>
    </apply>
    <ci>r</ci>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   e^{\epsilon q(d,r)}\times\mu(r)\,\!
  </annotation>
 </semantics>
</math>

, where 

<math display="inline" id="Exponential_mechanism_(differential_privacy):24">
 <semantics>
  <mrow>
   <mrow>
    <mi>d</mi>
    <mo>∈</mo>
    <msup>
     <mi class="ltx_font_mathcaligraphic">𝒟</mi>
     <mi>n</mi>
    </msup>
   </mrow>
   <mo>,</mo>
   <mrow>
    <mi>r</mi>
    <mo>∈</mo>
    <mi>R</mi>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <csymbol cd="ambiguous">formulae-sequence</csymbol>
    <apply>
     <in></in>
     <ci>d</ci>
     <apply>
      <csymbol cd="ambiguous">superscript</csymbol>
      <ci>𝒟</ci>
      <ci>n</ci>
     </apply>
    </apply>
    <apply>
     <in></in>
     <ci>r</ci>
     <ci>R</ci>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   d\in\mathcal{D}^{n},r\in R\,\!
  </annotation>
 </semantics>
</math>

. This definition implies the fact that the probability of returning an 

<math display="inline" id="Exponential_mechanism_(differential_privacy):25">
 <semantics>
  <mi>r</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>r</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   r\,\!
  </annotation>
 </semantics>
</math>

 increases exponentially with the increase in the value of 

<math display="inline" id="Exponential_mechanism_(differential_privacy):26">
 <semantics>
  <mrow>
   <mi>q</mi>
   <mrow>
    <mo stretchy="false">(</mo>
    <mi>d</mi>
    <mo>,</mo>
    <mi>r</mi>
    <mo stretchy="false">)</mo>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <times></times>
    <ci>q</ci>
    <interval closure="open">
     <ci>d</ci>
     <ci>r</ci>
    </interval>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   q(d,r)\,\!
  </annotation>
 </semantics>
</math>

. For now if we ignore the base measure 

<math display="inline" id="Exponential_mechanism_(differential_privacy):27">
 <semantics>
  <mi>μ</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>μ</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \mu\,\!
  </annotation>
 </semantics>
</math>

 then the value 

<math display="inline" id="Exponential_mechanism_(differential_privacy):28">
 <semantics>
  <mi>r</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>r</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   r\,\!
  </annotation>
 </semantics>
</math>

 which maximizes 

<math display="inline" id="Exponential_mechanism_(differential_privacy):29">
 <semantics>
  <mrow>
   <mi>q</mi>
   <mrow>
    <mo stretchy="false">(</mo>
    <mi>d</mi>
    <mo>,</mo>
    <mi>r</mi>
    <mo stretchy="false">)</mo>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <times></times>
    <ci>q</ci>
    <interval closure="open">
     <ci>d</ci>
     <ci>r</ci>
    </interval>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   q(d,r)\,\!
  </annotation>
 </semantics>
</math>

 has the highest probability. Moreover we claim that this mechanism is differentially private. We will prove this claim shortly. One technicality that should be kept in mind is that in order to properly define 

<math display="inline" id="Exponential_mechanism_(differential_privacy):30">
 <semantics>
  <mrow>
   <msubsup>
    <mi class="ltx_font_mathcaligraphic">ℰ</mi>
    <mi>q</mi>
    <mi>ϵ</mi>
   </msubsup>
   <mrow>
    <mo stretchy="false">(</mo>
    <mi>d</mi>
    <mo stretchy="false">)</mo>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <times></times>
    <apply>
     <csymbol cd="ambiguous">superscript</csymbol>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <ci>ℰ</ci>
      <ci>q</ci>
     </apply>
     <ci>ϵ</ci>
    </apply>
    <ci>d</ci>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \mathcal{E}_{q}^{\epsilon}(d)\,\!
  </annotation>
 </semantics>
</math>

 the 

<math display="inline" id="Exponential_mechanism_(differential_privacy):31">
 <semantics>
  <mrow>
   <msub>
    <mo largeop="true" symmetric="true">∫</mo>
    <mi>r</mi>
   </msub>
   <mrow>
    <mrow>
     <msup>
      <mi>e</mi>
      <mrow>
       <mi>ϵ</mi>
       <mi>q</mi>
       <mrow>
        <mo stretchy="false">(</mo>
        <mi>d</mi>
        <mo>,</mo>
        <mi>r</mi>
        <mo stretchy="false">)</mo>
       </mrow>
      </mrow>
     </msup>
     <mo>×</mo>
     <mi>μ</mi>
    </mrow>
    <mrow>
     <mo stretchy="false">(</mo>
     <mi>r</mi>
     <mo stretchy="false">)</mo>
    </mrow>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <apply>
     <csymbol cd="ambiguous">subscript</csymbol>
     <int></int>
     <ci>r</ci>
    </apply>
    <apply>
     <times></times>
     <apply>
      <times></times>
      <apply>
       <csymbol cd="ambiguous">superscript</csymbol>
       <ci>e</ci>
       <apply>
        <times></times>
        <ci>ϵ</ci>
        <ci>q</ci>
        <interval closure="open">
         <ci>d</ci>
         <ci>r</ci>
        </interval>
       </apply>
      </apply>
      <ci>μ</ci>
     </apply>
     <ci>r</ci>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \int_{r}e^{\epsilon q(d,r)}\times\mu(r)\,\!
  </annotation>
 </semantics>
</math>

 should be finite.</p>

<p><strong>Theorem (Differential Privacy):</strong> 

<math display="inline" id="Exponential_mechanism_(differential_privacy):32">
 <semantics>
  <mrow>
   <msubsup>
    <mi class="ltx_font_mathcaligraphic">ℰ</mi>
    <mi>q</mi>
    <mi>ϵ</mi>
   </msubsup>
   <mrow>
    <mo stretchy="false">(</mo>
    <mi>d</mi>
    <mo stretchy="false">)</mo>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <times></times>
    <apply>
     <csymbol cd="ambiguous">superscript</csymbol>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <ci>ℰ</ci>
      <ci>q</ci>
     </apply>
     <ci>ϵ</ci>
    </apply>
    <ci>d</ci>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \mathcal{E}_{q}^{\epsilon}(d)\,\!
  </annotation>
 </semantics>
</math>

 gives 

<math display="inline" id="Exponential_mechanism_(differential_privacy):33">
 <semantics>
  <mrow>
   <mo stretchy="false">(</mo>
   <mrow>
    <mn>2</mn>
    <mi>ϵ</mi>
    <mi mathvariant="normal">Δ</mi>
    <mi>q</mi>
   </mrow>
   <mo stretchy="false">)</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <times></times>
    <cn type="integer">2</cn>
    <ci>ϵ</ci>
    <ci>normal-Δ</ci>
    <ci>q</ci>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   (2\epsilon\Delta q)\,\!
  </annotation>
 </semantics>
</math>

-differential privacy.</p>

<p>Proof: The probability density of 

<math display="inline" id="Exponential_mechanism_(differential_privacy):34">
 <semantics>
  <mrow>
   <msubsup>
    <mi class="ltx_font_mathcaligraphic">ℰ</mi>
    <mi>q</mi>
    <mi>ϵ</mi>
   </msubsup>
   <mrow>
    <mo stretchy="false">(</mo>
    <mi>d</mi>
    <mo stretchy="false">)</mo>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <times></times>
    <apply>
     <csymbol cd="ambiguous">superscript</csymbol>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <ci>ℰ</ci>
      <ci>q</ci>
     </apply>
     <ci>ϵ</ci>
    </apply>
    <ci>d</ci>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \mathcal{E}_{q}^{\epsilon}(d)\,\!
  </annotation>
 </semantics>
</math>

 at 

<math display="inline" id="Exponential_mechanism_(differential_privacy):35">
 <semantics>
  <mi>r</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>r</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   r\,\!
  </annotation>
 </semantics>
</math>

 equals</p>

<p>

<math display="block" id="Exponential_mechanism_(differential_privacy):36">
 <semantics>
  <mfrac>
   <mrow>
    <msup>
     <mi>e</mi>
     <mrow>
      <mi>ϵ</mi>
      <mi>q</mi>
      <mrow>
       <mo stretchy="false">(</mo>
       <mi>d</mi>
       <mo>,</mo>
       <mi>r</mi>
       <mo stretchy="false">)</mo>
      </mrow>
     </mrow>
    </msup>
    <mi>μ</mi>
    <mrow>
     <mo stretchy="false">(</mo>
     <mi>r</mi>
     <mo stretchy="false">)</mo>
    </mrow>
   </mrow>
   <mrow>
    <mo largeop="true" symmetric="true">∫</mo>
    <mrow>
     <msup>
      <mi>e</mi>
      <mrow>
       <mi>ϵ</mi>
       <mi>q</mi>
       <mrow>
        <mo stretchy="false">(</mo>
        <mi>d</mi>
        <mo>,</mo>
        <mi>r</mi>
        <mo stretchy="false">)</mo>
       </mrow>
      </mrow>
     </msup>
     <mi>μ</mi>
     <mrow>
      <mo stretchy="false">(</mo>
      <mi>r</mi>
      <mo stretchy="false">)</mo>
     </mrow>
     <mi>d</mi>
     <mi>r</mi>
    </mrow>
   </mrow>
  </mfrac>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <divide></divide>
    <apply>
     <times></times>
     <apply>
      <csymbol cd="ambiguous">superscript</csymbol>
      <ci>e</ci>
      <apply>
       <times></times>
       <ci>ϵ</ci>
       <ci>q</ci>
       <interval closure="open">
        <ci>d</ci>
        <ci>r</ci>
       </interval>
      </apply>
     </apply>
     <ci>μ</ci>
     <ci>r</ci>
    </apply>
    <apply>
     <int></int>
     <apply>
      <times></times>
      <apply>
       <csymbol cd="ambiguous">superscript</csymbol>
       <ci>e</ci>
       <apply>
        <times></times>
        <ci>ϵ</ci>
        <ci>q</ci>
        <interval closure="open">
         <ci>d</ci>
         <ci>r</ci>
        </interval>
       </apply>
      </apply>
      <ci>μ</ci>
      <ci>r</ci>
      <ci>d</ci>
      <ci>r</ci>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \frac{e^{\epsilon q(d,r)}\mu(r)}{\int e^{\epsilon q(d,r)}\mu(r)dr}\,\!
  </annotation>
 </semantics>
</math>

. Now, if a single change in 

<math display="inline" id="Exponential_mechanism_(differential_privacy):37">
 <semantics>
  <mi>d</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>d</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   d\,\!
  </annotation>
 </semantics>
</math>

 changes 

<math display="inline" id="Exponential_mechanism_(differential_privacy):38">
 <semantics>
  <mi>q</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>q</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   q\,\!
  </annotation>
 </semantics>
</math>

 by at most 

<math display="inline" id="Exponential_mechanism_(differential_privacy):39">
 <semantics>
  <mrow>
   <mi mathvariant="normal">Δ</mi>
   <mi>q</mi>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <times></times>
    <ci>normal-Δ</ci>
    <ci>q</ci>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \Delta q\,\!
  </annotation>
 </semantics>
</math>

 then the numerator can change at most by a factor of 

<math display="inline" id="Exponential_mechanism_(differential_privacy):40">
 <semantics>
  <msup>
   <mi>e</mi>
   <mrow>
    <mi>ϵ</mi>
    <mi mathvariant="normal">Δ</mi>
    <mi>q</mi>
   </mrow>
  </msup>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <csymbol cd="ambiguous">superscript</csymbol>
    <ci>e</ci>
    <apply>
     <times></times>
     <ci>ϵ</ci>
     <ci>normal-Δ</ci>
     <ci>q</ci>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   e^{\epsilon\Delta q}\,\!
  </annotation>
 </semantics>
</math>

 and the denominator minimum by a factor of 

<math display="inline" id="Exponential_mechanism_(differential_privacy):41">
 <semantics>
  <msup>
   <mi>e</mi>
   <mrow>
    <mo>-</mo>
    <mrow>
     <mi>ϵ</mi>
     <mi mathvariant="normal">Δ</mi>
     <mi>q</mi>
    </mrow>
   </mrow>
  </msup>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <csymbol cd="ambiguous">superscript</csymbol>
    <ci>e</ci>
    <apply>
     <minus></minus>
     <apply>
      <times></times>
      <ci>ϵ</ci>
      <ci>normal-Δ</ci>
      <ci>q</ci>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   e^{-\epsilon\Delta q}\,\!
  </annotation>
 </semantics>
</math>

. Thus, the ratio of the new probability density (i.e. with new 

<math display="inline" id="Exponential_mechanism_(differential_privacy):42">
 <semantics>
  <mi>d</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>d</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   d\,\!
  </annotation>
 </semantics>
</math>

) and the earlier one is at most 

<math display="inline" id="Exponential_mechanism_(differential_privacy):43">
 <semantics>
  <mrow>
   <mi>exp</mi>
   <mrow>
    <mo stretchy="false">(</mo>
    <mrow>
     <mn>2</mn>
     <mi>ϵ</mi>
     <mi mathvariant="normal">Δ</mi>
     <mi>q</mi>
    </mrow>
    <mo stretchy="false">)</mo>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <exp></exp>
    <apply>
     <times></times>
     <cn type="integer">2</cn>
     <ci>ϵ</ci>
     <ci>normal-Δ</ci>
     <ci>q</ci>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \exp(2\epsilon\Delta q)\,\!
  </annotation>
 </semantics>
</math>

.</p>
<h3 id="accuracy">Accuracy</h3>

<p>We would ideally want the random draws of 

<math display="inline" id="Exponential_mechanism_(differential_privacy):44">
 <semantics>
  <mi>r</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>r</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   r\,\!
  </annotation>
 </semantics>
</math>

 from the mechanism 

<math display="inline" id="Exponential_mechanism_(differential_privacy):45">
 <semantics>
  <mrow>
   <msubsup>
    <mi class="ltx_font_mathcaligraphic">ℰ</mi>
    <mi>q</mi>
    <mi>ϵ</mi>
   </msubsup>
   <mrow>
    <mo stretchy="false">(</mo>
    <mi>d</mi>
    <mo stretchy="false">)</mo>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <times></times>
    <apply>
     <csymbol cd="ambiguous">superscript</csymbol>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <ci>ℰ</ci>
      <ci>q</ci>
     </apply>
     <ci>ϵ</ci>
    </apply>
    <ci>d</ci>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \mathcal{E}_{q}^{\epsilon}(d)\,\!
  </annotation>
 </semantics>
</math>

 to nearly maximize 

<math display="inline" id="Exponential_mechanism_(differential_privacy):46">
 <semantics>
  <mrow>
   <mi>q</mi>
   <mrow>
    <mo stretchy="false">(</mo>
    <mi>d</mi>
    <mo>,</mo>
    <mi>r</mi>
    <mo stretchy="false">)</mo>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <times></times>
    <ci>q</ci>
    <interval closure="open">
     <ci>d</ci>
     <ci>r</ci>
    </interval>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   q(d,r)\,\!
  </annotation>
 </semantics>
</math>

. If we consider 

<math display="inline" id="Exponential_mechanism_(differential_privacy):47">
 <semantics>
  <mrow>
   <mrow>
    <msub>
     <mi>max</mi>
     <mi>r</mi>
    </msub>
    <mi>q</mi>
   </mrow>
   <mrow>
    <mo stretchy="false">(</mo>
    <mi>d</mi>
    <mo>,</mo>
    <mi>r</mi>
    <mo stretchy="false">)</mo>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <times></times>
    <apply>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <max></max>
      <ci>r</ci>
     </apply>
     <ci>q</ci>
    </apply>
    <interval closure="open">
     <ci>d</ci>
     <ci>r</ci>
    </interval>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \max_{r}q(d,r)\,\!
  </annotation>
 </semantics>
</math>

 to be 

<math display="inline" id="Exponential_mechanism_(differential_privacy):48">
 <semantics>
  <mrow>
   <mi>O</mi>
   <mi>P</mi>
   <mi>T</mi>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <times></times>
    <ci>O</ci>
    <ci>P</ci>
    <ci>T</ci>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   OPT\,\!
  </annotation>
 </semantics>
</math>

 then we can show that the probability of the mechanism deviating from 

<math display="inline" id="Exponential_mechanism_(differential_privacy):49">
 <semantics>
  <mrow>
   <mi>O</mi>
   <mi>P</mi>
   <mi>T</mi>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <times></times>
    <ci>O</ci>
    <ci>P</ci>
    <ci>T</ci>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   OPT\,\!
  </annotation>
 </semantics>
</math>

is low, as long as there is a sufficient mass (in terms of 

<math display="inline" id="Exponential_mechanism_(differential_privacy):50">
 <semantics>
  <mi>μ</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>μ</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \mu
  </annotation>
 </semantics>
</math>

) of values 

<math display="inline" id="Exponential_mechanism_(differential_privacy):51">
 <semantics>
  <mi>r</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>r</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   r\,\!
  </annotation>
 </semantics>
</math>

 with value 

<math display="inline" id="Exponential_mechanism_(differential_privacy):52">
 <semantics>
  <mi>q</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>q</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   q\,\!
  </annotation>
 </semantics>
</math>

 close to the optimum.</p>

<p><strong>Lemma:</strong> Let 

<math display="inline" id="Exponential_mechanism_(differential_privacy):53">
 <semantics>
  <mrow>
   <msub>
    <mi>S</mi>
    <mi>t</mi>
   </msub>
   <mo>=</mo>
   <mrow>
    <mo stretchy="false">{</mo>
    <mi>r</mi>
    <mo>:</mo>
    <mrow>
     <mrow>
      <mi>q</mi>
      <mrow>
       <mo stretchy="false">(</mo>
       <mi>d</mi>
       <mo>,</mo>
       <mi>r</mi>
       <mo stretchy="false">)</mo>
      </mrow>
     </mrow>
     <mo>></mo>
     <mrow>
      <mrow>
       <mi>O</mi>
       <mi>P</mi>
       <mi>T</mi>
      </mrow>
      <mo>-</mo>
      <mi>t</mi>
     </mrow>
    </mrow>
    <mo stretchy="false">}</mo>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <csymbol cd="ambiguous">subscript</csymbol>
     <ci>S</ci>
     <ci>t</ci>
    </apply>
    <apply>
     <csymbol cd="latexml">conditional-set</csymbol>
     <ci>r</ci>
     <apply>
      <gt></gt>
      <apply>
       <times></times>
       <ci>q</ci>
       <interval closure="open">
        <ci>d</ci>
        <ci>r</ci>
       </interval>
      </apply>
      <apply>
       <minus></minus>
       <apply>
        <times></times>
        <ci>O</ci>
        <ci>P</ci>
        <ci>T</ci>
       </apply>
       <ci>t</ci>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   S_{t}=\{r:q(d,r)>OPT-t\}\,\!
  </annotation>
 </semantics>
</math>

 and 

<math display="inline" id="Exponential_mechanism_(differential_privacy):54">
 <semantics>
  <mrow>
   <msub>
    <mover accent="true">
     <mi>S</mi>
     <mo stretchy="false">¯</mo>
    </mover>
    <mrow>
     <mn>2</mn>
     <mi>t</mi>
    </mrow>
   </msub>
   <mo>=</mo>
   <mrow>
    <mo stretchy="false">{</mo>
    <mi>r</mi>
    <mo>:</mo>
    <mrow>
     <mrow>
      <mi>q</mi>
      <mrow>
       <mo stretchy="false">(</mo>
       <mi>d</mi>
       <mo>,</mo>
       <mi>r</mi>
       <mo stretchy="false">)</mo>
      </mrow>
     </mrow>
     <mo>≤</mo>
     <mrow>
      <mrow>
       <mi>O</mi>
       <mi>P</mi>
       <mi>T</mi>
      </mrow>
      <mo>-</mo>
      <mrow>
       <mn>2</mn>
       <mi>t</mi>
      </mrow>
     </mrow>
    </mrow>
    <mo stretchy="false">}</mo>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <csymbol cd="ambiguous">subscript</csymbol>
     <apply>
      <ci>normal-¯</ci>
      <ci>S</ci>
     </apply>
     <apply>
      <times></times>
      <cn type="integer">2</cn>
      <ci>t</ci>
     </apply>
    </apply>
    <apply>
     <csymbol cd="latexml">conditional-set</csymbol>
     <ci>r</ci>
     <apply>
      <leq></leq>
      <apply>
       <times></times>
       <ci>q</ci>
       <interval closure="open">
        <ci>d</ci>
        <ci>r</ci>
       </interval>
      </apply>
      <apply>
       <minus></minus>
       <apply>
        <times></times>
        <ci>O</ci>
        <ci>P</ci>
        <ci>T</ci>
       </apply>
       <apply>
        <times></times>
        <cn type="integer">2</cn>
        <ci>t</ci>
       </apply>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \bar{S}_{2t}=\{r:q(d,r)\leq OPT-2t\}\,\!
  </annotation>
 </semantics>
</math>

, we have 

<math display="inline" id="Exponential_mechanism_(differential_privacy):55">
 <semantics>
  <mrow>
   <mi>p</mi>
   <mrow>
    <mo stretchy="false">(</mo>
    <msub>
     <mover accent="true">
      <mi>S</mi>
      <mo stretchy="false">¯</mo>
     </mover>
     <mrow>
      <mn>2</mn>
      <mi>t</mi>
     </mrow>
    </msub>
    <mo stretchy="false">)</mo>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <times></times>
    <ci>p</ci>
    <apply>
     <csymbol cd="ambiguous">subscript</csymbol>
     <apply>
      <ci>normal-¯</ci>
      <ci>S</ci>
     </apply>
     <apply>
      <times></times>
      <cn type="integer">2</cn>
      <ci>t</ci>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   p(\bar{S}_{2t})\,\!
  </annotation>
 </semantics>
</math>

 is at most 

<math display="inline" id="Exponential_mechanism_(differential_privacy):56">
 <semantics>
  <mrow>
   <mrow>
    <mrow>
     <mi>exp</mi>
     <mrow>
      <mo stretchy="false">(</mo>
      <mrow>
       <mo>-</mo>
       <mrow>
        <mi>ϵ</mi>
        <mi>t</mi>
       </mrow>
      </mrow>
      <mo stretchy="false">)</mo>
     </mrow>
    </mrow>
    <mo>/</mo>
    <mi>μ</mi>
   </mrow>
   <mrow>
    <mo stretchy="false">(</mo>
    <msub>
     <mi>S</mi>
     <mi>t</mi>
    </msub>
    <mo stretchy="false">)</mo>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <times></times>
    <apply>
     <divide></divide>
     <apply>
      <exp></exp>
      <apply>
       <minus></minus>
       <apply>
        <times></times>
        <ci>ϵ</ci>
        <ci>t</ci>
       </apply>
      </apply>
     </apply>
     <ci>μ</ci>
    </apply>
    <apply>
     <csymbol cd="ambiguous">subscript</csymbol>
     <ci>S</ci>
     <ci>t</ci>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \exp(-\epsilon t)/\mu(S_{t})\,\!
  </annotation>
 </semantics>
</math>

. The probability is taken over 

<math display="inline" id="Exponential_mechanism_(differential_privacy):57">
 <semantics>
  <mi>R</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>R</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   R\,\!
  </annotation>
 </semantics>
</math>

.</p>

<p>Proof: The probability 

<math display="inline" id="Exponential_mechanism_(differential_privacy):58">
 <semantics>
  <mrow>
   <mi>p</mi>
   <mrow>
    <mo stretchy="false">(</mo>
    <msub>
     <mover accent="true">
      <mi>S</mi>
      <mo stretchy="false">¯</mo>
     </mover>
     <mrow>
      <mn>2</mn>
      <mi>t</mi>
     </mrow>
    </msub>
    <mo stretchy="false">)</mo>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <times></times>
    <ci>p</ci>
    <apply>
     <csymbol cd="ambiguous">subscript</csymbol>
     <apply>
      <ci>normal-¯</ci>
      <ci>S</ci>
     </apply>
     <apply>
      <times></times>
      <cn type="integer">2</cn>
      <ci>t</ci>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   p(\bar{S}_{2t})\,\!
  </annotation>
 </semantics>
</math>

 is at most 

<math display="inline" id="Exponential_mechanism_(differential_privacy):59">
 <semantics>
  <mrow>
   <mrow>
    <mrow>
     <mi>p</mi>
     <mrow>
      <mo stretchy="false">(</mo>
      <msub>
       <mover accent="true">
        <mi>S</mi>
        <mo stretchy="false">¯</mo>
       </mover>
       <mrow>
        <mn>2</mn>
        <mi>t</mi>
       </mrow>
      </msub>
      <mo stretchy="false">)</mo>
     </mrow>
    </mrow>
    <mo>/</mo>
    <mi>p</mi>
   </mrow>
   <mrow>
    <mo stretchy="false">(</mo>
    <msub>
     <mi>S</mi>
     <mi>t</mi>
    </msub>
    <mo stretchy="false">)</mo>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <times></times>
    <apply>
     <divide></divide>
     <apply>
      <times></times>
      <ci>p</ci>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <apply>
        <ci>normal-¯</ci>
        <ci>S</ci>
       </apply>
       <apply>
        <times></times>
        <cn type="integer">2</cn>
        <ci>t</ci>
       </apply>
      </apply>
     </apply>
     <ci>p</ci>
    </apply>
    <apply>
     <csymbol cd="ambiguous">subscript</csymbol>
     <ci>S</ci>
     <ci>t</ci>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   p(\bar{S}_{2t})/p(S_{t})\,\!
  </annotation>
 </semantics>
</math>

, as the denominator can be at most one. Since both the probabilities have the same normalizing term so,</p>

<p>

<math display="block" id="Exponential_mechanism_(differential_privacy):60">
 <semantics>
  <mrow>
   <mrow>
    <mfrac>
     <mrow>
      <mi>p</mi>
      <mrow>
       <mo stretchy="false">(</mo>
       <msub>
        <mover accent="true">
         <mi>S</mi>
         <mo stretchy="false">¯</mo>
        </mover>
        <mrow>
         <mn>2</mn>
         <mi>t</mi>
        </mrow>
       </msub>
       <mo stretchy="false">)</mo>
      </mrow>
     </mrow>
     <mrow>
      <mi>p</mi>
      <mrow>
       <mo stretchy="false">(</mo>
       <msub>
        <mi>S</mi>
        <mi>t</mi>
       </msub>
       <mo stretchy="false">)</mo>
      </mrow>
     </mrow>
    </mfrac>
    <mo>=</mo>
    <mfrac>
     <mrow>
      <msub>
       <mo largeop="true" symmetric="true">∫</mo>
       <msub>
        <mover accent="true">
         <mi>S</mi>
         <mo stretchy="false">¯</mo>
        </mover>
        <mrow>
         <mn>2</mn>
         <mi>t</mi>
        </mrow>
       </msub>
      </msub>
      <mrow>
       <mrow>
        <mi>exp</mi>
        <mrow>
         <mo stretchy="false">(</mo>
         <mrow>
          <mi>ϵ</mi>
          <mi>q</mi>
          <mrow>
           <mo stretchy="false">(</mo>
           <mi>d</mi>
           <mo>,</mo>
           <mi>r</mi>
           <mo stretchy="false">)</mo>
          </mrow>
         </mrow>
         <mo stretchy="false">)</mo>
        </mrow>
       </mrow>
       <mi>μ</mi>
       <mrow>
        <mo stretchy="false">(</mo>
        <mi>r</mi>
        <mo rspace="4.2pt" stretchy="false">)</mo>
       </mrow>
       <mi>d</mi>
       <mi>r</mi>
      </mrow>
     </mrow>
     <mrow>
      <msub>
       <mo largeop="true" symmetric="true">∫</mo>
       <msub>
        <mi>S</mi>
        <mi>t</mi>
       </msub>
      </msub>
      <mrow>
       <mrow>
        <mi>exp</mi>
        <mrow>
         <mo stretchy="false">(</mo>
         <mrow>
          <mi>ϵ</mi>
          <mi>q</mi>
          <mrow>
           <mo stretchy="false">(</mo>
           <mi>d</mi>
           <mo>,</mo>
           <mi>r</mi>
           <mo stretchy="false">)</mo>
          </mrow>
         </mrow>
         <mo stretchy="false">)</mo>
        </mrow>
       </mrow>
       <mi>μ</mi>
       <mrow>
        <mo stretchy="false">(</mo>
        <mi>r</mi>
        <mo rspace="4.2pt" stretchy="false">)</mo>
       </mrow>
       <mi>d</mi>
       <mi>r</mi>
      </mrow>
     </mrow>
    </mfrac>
    <mo>≤</mo>
    <mrow>
     <mrow>
      <mi>exp</mi>
      <mrow>
       <mo stretchy="false">(</mo>
       <mrow>
        <mo>-</mo>
        <mrow>
         <mi>ϵ</mi>
         <mi>t</mi>
        </mrow>
       </mrow>
       <mo stretchy="false">)</mo>
      </mrow>
     </mrow>
     <mfrac>
      <mrow>
       <mi>μ</mi>
       <mrow>
        <mo stretchy="false">(</mo>
        <msub>
         <mover accent="true">
          <mi>S</mi>
          <mo stretchy="false">¯</mo>
         </mover>
         <mrow>
          <mn>2</mn>
          <mi>t</mi>
         </mrow>
        </msub>
        <mo stretchy="false">)</mo>
       </mrow>
      </mrow>
      <mrow>
       <mi>μ</mi>
       <mrow>
        <mo stretchy="false">(</mo>
        <msub>
         <mi>S</mi>
         <mi>t</mi>
        </msub>
        <mo stretchy="false">)</mo>
       </mrow>
      </mrow>
     </mfrac>
    </mrow>
   </mrow>
   <mo>.</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <and></and>
    <apply>
     <eq></eq>
     <apply>
      <divide></divide>
      <apply>
       <times></times>
       <ci>p</ci>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <apply>
         <ci>normal-¯</ci>
         <ci>S</ci>
        </apply>
        <apply>
         <times></times>
         <cn type="integer">2</cn>
         <ci>t</ci>
        </apply>
       </apply>
      </apply>
      <apply>
       <times></times>
       <ci>p</ci>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>S</ci>
        <ci>t</ci>
       </apply>
      </apply>
     </apply>
     <apply>
      <divide></divide>
      <apply>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <int></int>
        <apply>
         <csymbol cd="ambiguous">subscript</csymbol>
         <apply>
          <ci>normal-¯</ci>
          <ci>S</ci>
         </apply>
         <apply>
          <times></times>
          <cn type="integer">2</cn>
          <ci>t</ci>
         </apply>
        </apply>
       </apply>
       <apply>
        <times></times>
        <apply>
         <exp></exp>
         <apply>
          <times></times>
          <ci>ϵ</ci>
          <ci>q</ci>
          <interval closure="open">
           <ci>d</ci>
           <ci>r</ci>
          </interval>
         </apply>
        </apply>
        <ci>μ</ci>
        <ci>r</ci>
        <ci>d</ci>
        <ci>r</ci>
       </apply>
      </apply>
      <apply>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <int></int>
        <apply>
         <csymbol cd="ambiguous">subscript</csymbol>
         <ci>S</ci>
         <ci>t</ci>
        </apply>
       </apply>
       <apply>
        <times></times>
        <apply>
         <exp></exp>
         <apply>
          <times></times>
          <ci>ϵ</ci>
          <ci>q</ci>
          <interval closure="open">
           <ci>d</ci>
           <ci>r</ci>
          </interval>
         </apply>
        </apply>
        <ci>μ</ci>
        <ci>r</ci>
        <ci>d</ci>
        <ci>r</ci>
       </apply>
      </apply>
     </apply>
    </apply>
    <apply>
     <leq></leq>
     <share href="#.cmml">
     </share>
     <apply>
      <times></times>
      <apply>
       <exp></exp>
       <apply>
        <minus></minus>
        <apply>
         <times></times>
         <ci>ϵ</ci>
         <ci>t</ci>
        </apply>
       </apply>
      </apply>
      <apply>
       <divide></divide>
       <apply>
        <times></times>
        <ci>μ</ci>
        <apply>
         <csymbol cd="ambiguous">subscript</csymbol>
         <apply>
          <ci>normal-¯</ci>
          <ci>S</ci>
         </apply>
         <apply>
          <times></times>
          <cn type="integer">2</cn>
          <ci>t</ci>
         </apply>
        </apply>
       </apply>
       <apply>
        <times></times>
        <ci>μ</ci>
        <apply>
         <csymbol cd="ambiguous">subscript</csymbol>
         <ci>S</ci>
         <ci>t</ci>
        </apply>
       </apply>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \frac{p(\bar{S}_{2t})}{p(S_{t})}=\frac{\int_{\bar{S}_{2t}}\exp(\epsilon q(d,r)%
)\mu(r)\,dr}{\int_{S_{t}}\exp(\epsilon q(d,r))\mu(r)\,dr}\leq\exp(-\epsilon t)%
\frac{\mu(\bar{S}_{2t})}{\mu(S_{t})}.
  </annotation>
 </semantics>
</math>

</p>

<p>The value of 

<math display="inline" id="Exponential_mechanism_(differential_privacy):61">
 <semantics>
  <mrow>
   <mi>μ</mi>
   <mrow>
    <mo stretchy="false">(</mo>
    <msub>
     <mover accent="true">
      <mi>S</mi>
      <mo stretchy="false">¯</mo>
     </mover>
     <mrow>
      <mn>2</mn>
      <mi>t</mi>
     </mrow>
    </msub>
    <mo stretchy="false">)</mo>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <times></times>
    <ci>μ</ci>
    <apply>
     <csymbol cd="ambiguous">subscript</csymbol>
     <apply>
      <ci>normal-¯</ci>
      <ci>S</ci>
     </apply>
     <apply>
      <times></times>
      <cn type="integer">2</cn>
      <ci>t</ci>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \mu(\bar{S}_{2t})\,\!
  </annotation>
 </semantics>
</math>

 is at most one, and so this bound implies the lemma statement.</p>

<p><strong>Theorem (Accuracy):</strong> For those values of 

<math display="inline" id="Exponential_mechanism_(differential_privacy):62">
 <semantics>
  <mrow>
   <mi>t</mi>
   <mo>≥</mo>
   <mrow>
    <mrow>
     <mi>ln</mi>
     <mrow>
      <mo stretchy="false">(</mo>
      <mfrac>
       <mrow>
        <mi>O</mi>
        <mi>P</mi>
        <mi>T</mi>
       </mrow>
       <mrow>
        <mi>t</mi>
        <mi>μ</mi>
        <mrow>
         <mo stretchy="false">(</mo>
         <msub>
          <mi>S</mi>
          <mi>t</mi>
         </msub>
         <mo stretchy="false">)</mo>
        </mrow>
       </mrow>
      </mfrac>
      <mo stretchy="false">)</mo>
     </mrow>
    </mrow>
    <mo>/</mo>
    <mi>ϵ</mi>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <geq></geq>
    <ci>t</ci>
    <apply>
     <divide></divide>
     <apply>
      <ln></ln>
      <apply>
       <divide></divide>
       <apply>
        <times></times>
        <ci>O</ci>
        <ci>P</ci>
        <ci>T</ci>
       </apply>
       <apply>
        <times></times>
        <ci>t</ci>
        <ci>μ</ci>
        <apply>
         <csymbol cd="ambiguous">subscript</csymbol>
         <ci>S</ci>
         <ci>t</ci>
        </apply>
       </apply>
      </apply>
     </apply>
     <ci>ϵ</ci>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   t\geq\ln(\frac{OPT}{t\mu(S_{t})})/\epsilon\,\!
  </annotation>
 </semantics>
</math>

, we have 

<math display="inline" id="Exponential_mechanism_(differential_privacy):63">
 <semantics>
  <mrow>
   <mrow>
    <mi>E</mi>
    <mrow>
     <mo stretchy="false">[</mo>
     <mrow>
      <mi>q</mi>
      <mrow>
       <mo stretchy="false">(</mo>
       <mi>d</mi>
       <mo>,</mo>
       <mrow>
        <msubsup>
         <mi class="ltx_font_mathcaligraphic">ℰ</mi>
         <mi>q</mi>
         <mi>ϵ</mi>
        </msubsup>
        <mrow>
         <mo stretchy="false">(</mo>
         <mi>d</mi>
         <mo stretchy="false">)</mo>
        </mrow>
       </mrow>
       <mo stretchy="false">)</mo>
      </mrow>
     </mrow>
     <mo stretchy="false">]</mo>
    </mrow>
   </mrow>
   <mo>≥</mo>
   <mrow>
    <mrow>
     <mi>O</mi>
     <mi>P</mi>
     <mi>T</mi>
    </mrow>
    <mo>-</mo>
    <mrow>
     <mn>3</mn>
     <mi>t</mi>
    </mrow>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <geq></geq>
    <apply>
     <times></times>
     <ci>E</ci>
     <apply>
      <csymbol cd="latexml">delimited-[]</csymbol>
      <apply>
       <times></times>
       <ci>q</ci>
       <interval closure="open">
        <ci>d</ci>
        <apply>
         <times></times>
         <apply>
          <csymbol cd="ambiguous">superscript</csymbol>
          <apply>
           <csymbol cd="ambiguous">subscript</csymbol>
           <ci>ℰ</ci>
           <ci>q</ci>
          </apply>
          <ci>ϵ</ci>
         </apply>
         <ci>d</ci>
        </apply>
       </interval>
      </apply>
     </apply>
    </apply>
    <apply>
     <minus></minus>
     <apply>
      <times></times>
      <ci>O</ci>
      <ci>P</ci>
      <ci>T</ci>
     </apply>
     <apply>
      <times></times>
      <cn type="integer">3</cn>
      <ci>t</ci>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   E[q(d,\mathcal{E}_{q}^{\epsilon}(d))]\geq OPT-3t\,\!
  </annotation>
 </semantics>
</math>

.</p>

<p>Proof: It follows from the previous lemma that the probability of the score being at least 

<math display="inline" id="Exponential_mechanism_(differential_privacy):64">
 <semantics>
  <mrow>
   <mrow>
    <mi>O</mi>
    <mi>P</mi>
    <mi>T</mi>
   </mrow>
   <mo>-</mo>
   <mrow>
    <mn>2</mn>
    <mi>t</mi>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <minus></minus>
    <apply>
     <times></times>
     <ci>O</ci>
     <ci>P</ci>
     <ci>T</ci>
    </apply>
    <apply>
     <times></times>
     <cn type="integer">2</cn>
     <ci>t</ci>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   OPT-2t\,\!
  </annotation>
 </semantics>
</math>

 is 

<math display="inline" id="Exponential_mechanism_(differential_privacy):65">
 <semantics>
  <mrow>
   <mn>1</mn>
   <mo>-</mo>
   <mrow>
    <mrow>
     <mrow>
      <mi>exp</mi>
      <mrow>
       <mo stretchy="false">(</mo>
       <mrow>
        <mo>-</mo>
        <mrow>
         <mi>ϵ</mi>
         <mi>t</mi>
        </mrow>
       </mrow>
       <mo stretchy="false">)</mo>
      </mrow>
     </mrow>
     <mo>/</mo>
     <mi>μ</mi>
    </mrow>
    <mrow>
     <mo stretchy="false">(</mo>
     <msub>
      <mi>S</mi>
      <mi>t</mi>
     </msub>
     <mo stretchy="false">)</mo>
    </mrow>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <minus></minus>
    <cn type="integer">1</cn>
    <apply>
     <times></times>
     <apply>
      <divide></divide>
      <apply>
       <exp></exp>
       <apply>
        <minus></minus>
        <apply>
         <times></times>
         <ci>ϵ</ci>
         <ci>t</ci>
        </apply>
       </apply>
      </apply>
      <ci>μ</ci>
     </apply>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <ci>S</ci>
      <ci>t</ci>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   1-\exp(-\epsilon t)/\mu(S_{t})\,\!
  </annotation>
 </semantics>
</math>

. By Hypothesis, 

<math display="inline" id="Exponential_mechanism_(differential_privacy):66">
 <semantics>
  <mrow>
   <mi>t</mi>
   <mo>≥</mo>
   <mrow>
    <mrow>
     <mi>ln</mi>
     <mrow>
      <mo stretchy="false">(</mo>
      <mfrac>
       <mrow>
        <mi>O</mi>
        <mi>P</mi>
        <mi>T</mi>
       </mrow>
       <mrow>
        <mi>t</mi>
        <mi>μ</mi>
        <mrow>
         <mo stretchy="false">(</mo>
         <msub>
          <mi>S</mi>
          <mi>t</mi>
         </msub>
         <mo stretchy="false">)</mo>
        </mrow>
       </mrow>
      </mfrac>
      <mo stretchy="false">)</mo>
     </mrow>
    </mrow>
    <mo>/</mo>
    <mi>ϵ</mi>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <geq></geq>
    <ci>t</ci>
    <apply>
     <divide></divide>
     <apply>
      <ln></ln>
      <apply>
       <divide></divide>
       <apply>
        <times></times>
        <ci>O</ci>
        <ci>P</ci>
        <ci>T</ci>
       </apply>
       <apply>
        <times></times>
        <ci>t</ci>
        <ci>μ</ci>
        <apply>
         <csymbol cd="ambiguous">subscript</csymbol>
         <ci>S</ci>
         <ci>t</ci>
        </apply>
       </apply>
      </apply>
     </apply>
     <ci>ϵ</ci>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   t\geq\ln(\frac{OPT}{t\mu(S_{t})})/\epsilon\,\!
  </annotation>
 </semantics>
</math>

. Substituting the value of 

<math display="inline" id="Exponential_mechanism_(differential_privacy):67">
 <semantics>
  <mi>t</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>t</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   t\,\!
  </annotation>
 </semantics>
</math>

 we get this probability to be at least 

<math display="inline" id="Exponential_mechanism_(differential_privacy):68">
 <semantics>
  <mrow>
   <mn>1</mn>
   <mo>-</mo>
   <mrow>
    <mrow>
     <mi>t</mi>
     <mo>/</mo>
     <mi>O</mi>
    </mrow>
    <mi>P</mi>
    <mi>T</mi>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <minus></minus>
    <cn type="integer">1</cn>
    <apply>
     <times></times>
     <apply>
      <divide></divide>
      <ci>t</ci>
      <ci>O</ci>
     </apply>
     <ci>P</ci>
     <ci>T</ci>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   1-t/OPT\,\!
  </annotation>
 </semantics>
</math>

. Multiplying with 

<math display="inline" id="Exponential_mechanism_(differential_privacy):69">
 <semantics>
  <mrow>
   <mrow>
    <mi>O</mi>
    <mi>P</mi>
    <mi>T</mi>
   </mrow>
   <mo>-</mo>
   <mrow>
    <mn>2</mn>
    <mi>t</mi>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <minus></minus>
    <apply>
     <times></times>
     <ci>O</ci>
     <ci>P</ci>
     <ci>T</ci>
    </apply>
    <apply>
     <times></times>
     <cn type="integer">2</cn>
     <ci>t</ci>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   OPT-2t\,\!
  </annotation>
 </semantics>
</math>

 yields the desired bound.</p>

<p>We can assume 

<math display="inline" id="Exponential_mechanism_(differential_privacy):70">
 <semantics>
  <mrow>
   <mi>μ</mi>
   <mrow>
    <mo stretchy="false">(</mo>
    <mi>A</mi>
    <mo stretchy="false">)</mo>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <times></times>
    <ci>μ</ci>
    <ci>A</ci>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \mu(A)\,\!
  </annotation>
 </semantics>
</math>

 for 

<math display="inline" id="Exponential_mechanism_(differential_privacy):71">
 <semantics>
  <mrow>
   <mi>A</mi>
   <mo>⊆</mo>
   <mi class="ltx_font_mathcaligraphic">ℛ</mi>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <subset></subset>
    <ci>A</ci>
    <ci>ℛ</ci>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   A\subseteq\mathcal{R}\,\!
  </annotation>
 </semantics>
</math>

 to be less than or equal to one in all the computations, because we can always normalize with 

<math display="inline" id="Exponential_mechanism_(differential_privacy):72">
 <semantics>
  <mrow>
   <mi>μ</mi>
   <mrow>
    <mo stretchy="false">(</mo>
    <mi class="ltx_font_mathcaligraphic">ℛ</mi>
    <mo stretchy="false">)</mo>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <times></times>
    <ci>μ</ci>
    <ci>ℛ</ci>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \mu(\mathcal{R})\,\!
  </annotation>
 </semantics>
</math>

 .</p>
<h2 id="example-application-of-the-exponential-mechanism">Example application of the exponential mechanism <a class="footnoteRef" href="#fn2" id="fnref2"><sup>2</sup></a></h2>

<p>Before we get into the details of the example let us define some terms which we will be using extensively throughout our discussion.</p>

<p><strong>Definition (global sensitivity):</strong> The global sensitivity of a query 

<math display="inline" id="Exponential_mechanism_(differential_privacy):73">
 <semantics>
  <mi>Q</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>Q</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   Q\,\!
  </annotation>
 </semantics>
</math>

 is its maximum difference when evaluated on two neighbouring datasets 

<math display="inline" id="Exponential_mechanism_(differential_privacy):74">
 <semantics>
  <mrow>
   <mrow>
    <msub>
     <mi>D</mi>
     <mn>1</mn>
    </msub>
    <mo>,</mo>
    <msub>
     <mi>D</mi>
     <mn>2</mn>
    </msub>
   </mrow>
   <mo>∈</mo>
   <msup>
    <mi class="ltx_font_mathcaligraphic">𝒟</mi>
    <mi>n</mi>
   </msup>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <in></in>
    <list>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <ci>D</ci>
      <cn type="integer">1</cn>
     </apply>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <ci>D</ci>
      <cn type="integer">2</cn>
     </apply>
    </list>
    <apply>
     <csymbol cd="ambiguous">superscript</csymbol>
     <ci>𝒟</ci>
     <ci>n</ci>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   D_{1},D_{2}\in\mathcal{D}^{n}\,\!
  </annotation>
 </semantics>
</math>

:</p>

<p>

<math display="block" id="Exponential_mechanism_(differential_privacy):75">
 <semantics>
  <mrow>
   <mrow>
    <mi>G</mi>
    <msub>
     <mi>S</mi>
     <mi>Q</mi>
    </msub>
   </mrow>
   <mo>=</mo>
   <mrow>
    <munder>
     <mi>max</mi>
     <mrow>
      <mrow>
       <msub>
        <mi>D</mi>
        <mn>1</mn>
       </msub>
       <mo>,</mo>
       <msub>
        <mi>D</mi>
        <mn>2</mn>
       </msub>
      </mrow>
      <mo>:</mo>
      <mrow>
       <mrow>
        <mi>d</mi>
        <mrow>
         <mo stretchy="false">(</mo>
         <msub>
          <mi>D</mi>
          <mn>1</mn>
         </msub>
         <mo>,</mo>
         <msub>
          <mi>D</mi>
          <mn>2</mn>
         </msub>
         <mo stretchy="false">)</mo>
        </mrow>
       </mrow>
       <mo>=</mo>
       <mn>1</mn>
      </mrow>
     </mrow>
    </munder>
    <mrow>
     <mo stretchy="false">|</mo>
     <mrow>
      <mo stretchy="false">(</mo>
      <mrow>
       <mrow>
        <mi>Q</mi>
        <mrow>
         <mo stretchy="false">(</mo>
         <msub>
          <mi>D</mi>
          <mn>1</mn>
         </msub>
         <mo stretchy="false">)</mo>
        </mrow>
       </mrow>
       <mo>-</mo>
       <mrow>
        <mi>Q</mi>
        <mrow>
         <mo stretchy="false">(</mo>
         <msub>
          <mi>D</mi>
          <mn>2</mn>
         </msub>
         <mo stretchy="false">)</mo>
        </mrow>
       </mrow>
      </mrow>
      <mo stretchy="false">)</mo>
     </mrow>
     <mo stretchy="false">|</mo>
    </mrow>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <times></times>
     <ci>G</ci>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <ci>S</ci>
      <ci>Q</ci>
     </apply>
    </apply>
    <apply>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <max></max>
      <apply>
       <ci>normal-:</ci>
       <list>
        <apply>
         <csymbol cd="ambiguous">subscript</csymbol>
         <ci>D</ci>
         <cn type="integer">1</cn>
        </apply>
        <apply>
         <csymbol cd="ambiguous">subscript</csymbol>
         <ci>D</ci>
         <cn type="integer">2</cn>
        </apply>
       </list>
       <apply>
        <eq></eq>
        <apply>
         <times></times>
         <ci>d</ci>
         <interval closure="open">
          <apply>
           <csymbol cd="ambiguous">subscript</csymbol>
           <ci>D</ci>
           <cn type="integer">1</cn>
          </apply>
          <apply>
           <csymbol cd="ambiguous">subscript</csymbol>
           <ci>D</ci>
           <cn type="integer">2</cn>
          </apply>
         </interval>
        </apply>
        <cn type="integer">1</cn>
       </apply>
      </apply>
     </apply>
     <apply>
      <abs></abs>
      <apply>
       <minus></minus>
       <apply>
        <times></times>
        <ci>Q</ci>
        <apply>
         <csymbol cd="ambiguous">subscript</csymbol>
         <ci>D</ci>
         <cn type="integer">1</cn>
        </apply>
       </apply>
       <apply>
        <times></times>
        <ci>Q</ci>
        <apply>
         <csymbol cd="ambiguous">subscript</csymbol>
         <ci>D</ci>
         <cn type="integer">2</cn>
        </apply>
       </apply>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   GS_{Q}=\max_{D_{1},D_{2}:d(D_{1},D_{2})=1}|(Q(D_{1})-Q(D_{2}))|\,\!
  </annotation>
 </semantics>
</math>

.</p>

<p><strong>Definition:</strong> A predicate query 

<math display="inline" id="Exponential_mechanism_(differential_privacy):76">
 <semantics>
  <msub>
   <mi>Q</mi>
   <mi>φ</mi>
  </msub>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <csymbol cd="ambiguous">subscript</csymbol>
    <ci>Q</ci>
    <ci>φ</ci>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   Q_{\varphi}\,\!
  </annotation>
 </semantics>
</math>

 for any predicate 

<math display="inline" id="Exponential_mechanism_(differential_privacy):77">
 <semantics>
  <mi>φ</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>φ</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \varphi\,\!
  </annotation>
 </semantics>
</math>

 is defined to be</p>

<p>

<math display="block" id="Exponential_mechanism_(differential_privacy):78">
 <semantics>
  <mrow>
   <msub>
    <mi>Q</mi>
    <mi>φ</mi>
   </msub>
   <mo>=</mo>
   <mfrac>
    <mrow>
     <mo stretchy="false">|</mo>
     <mrow>
      <mo stretchy="false">{</mo>
      <mrow>
       <mi>x</mi>
       <mo>∈</mo>
       <mi>D</mi>
      </mrow>
      <mo>:</mo>
      <mrow>
       <mi>φ</mi>
       <mrow>
        <mo stretchy="false">(</mo>
        <mi>x</mi>
        <mo stretchy="false">)</mo>
       </mrow>
      </mrow>
      <mo stretchy="false">}</mo>
     </mrow>
     <mo stretchy="false">|</mo>
    </mrow>
    <mrow>
     <mo stretchy="false">|</mo>
     <mi>D</mi>
     <mo stretchy="false">|</mo>
    </mrow>
   </mfrac>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <csymbol cd="ambiguous">subscript</csymbol>
     <ci>Q</ci>
     <ci>φ</ci>
    </apply>
    <apply>
     <divide></divide>
     <apply>
      <abs></abs>
      <apply>
       <csymbol cd="latexml">conditional-set</csymbol>
       <apply>
        <in></in>
        <ci>x</ci>
        <ci>D</ci>
       </apply>
       <apply>
        <times></times>
        <ci>φ</ci>
        <ci>x</ci>
       </apply>
      </apply>
     </apply>
     <apply>
      <abs></abs>
      <ci>D</ci>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   Q_{\varphi}=\frac{|\{x\in D:\varphi(x)\}|}{|D|}\,\!
  </annotation>
 </semantics>
</math>

.</p>

<p>Note that 

<math display="inline" id="Exponential_mechanism_(differential_privacy):79">
 <semantics>
  <mrow>
   <mrow>
    <mi>G</mi>
    <msub>
     <mi>S</mi>
     <msub>
      <mi>Q</mi>
      <mi>φ</mi>
     </msub>
    </msub>
   </mrow>
   <mo>≤</mo>
   <mrow>
    <mn>1</mn>
    <mo>/</mo>
    <mi>n</mi>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <leq></leq>
    <apply>
     <times></times>
     <ci>G</ci>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <ci>S</ci>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>Q</ci>
       <ci>φ</ci>
      </apply>
     </apply>
    </apply>
    <apply>
     <divide></divide>
     <cn type="integer">1</cn>
     <ci>n</ci>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   GS_{Q_{\varphi}}\leq 1/n\,\!
  </annotation>
 </semantics>
</math>

 for any predicate 

<math display="inline" id="Exponential_mechanism_(differential_privacy):80">
 <semantics>
  <mi>φ</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>φ</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \varphi\,\!
  </annotation>
 </semantics>
</math>

.</p>
<h3 id="release-mechanism">Release mechanism</h3>

<p>The following is due to <a href="http://www.cs.cmu.edu/~avrim/">Avrim Blum</a>, <a href="Katrina_Ligett" title="wikilink">Katrina Ligett</a> and <a href="http://www.cs.cmu.edu/~alroth/">Aaron Roth</a>.</p>

<p><strong>Definition (Usefulness):</strong> A <a href="http://cryptowiki.cse.psu.edu/mediawiki/index.php/CSE546-Spring-2009/Differential-Privacy">mechanism</a> 

<math display="inline" id="Exponential_mechanism_(differential_privacy):81">
 <semantics>
  <mi class="ltx_font_mathcaligraphic">𝒜</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>𝒜</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \mathcal{A}\,\!
  </annotation>
 </semantics>
</math>

 is 

<math display="inline" id="Exponential_mechanism_(differential_privacy):82">
 <semantics>
  <mrow>
   <mo stretchy="false">(</mo>
   <mi>α</mi>
   <mo>,</mo>
   <mi>δ</mi>
   <mo stretchy="false">)</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <interval closure="open">
    <ci>α</ci>
    <ci>δ</ci>
   </interval>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   (\alpha,\delta)\,\!
  </annotation>
 </semantics>
</math>

-useful for queries in class 

<math display="inline" id="Exponential_mechanism_(differential_privacy):83">
 <semantics>
  <mi>H</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>H</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   H\,\!
  </annotation>
 </semantics>
</math>

 with probability 

<math display="inline" id="Exponential_mechanism_(differential_privacy):84">
 <semantics>
  <mrow>
   <mn>1</mn>
   <mo>-</mo>
   <mi>δ</mi>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <minus></minus>
    <cn type="integer">1</cn>
    <ci>δ</ci>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   1-\delta\,\!
  </annotation>
 </semantics>
</math>

, if 

<math display="inline" id="Exponential_mechanism_(differential_privacy):85">
 <semantics>
  <mrow>
   <mrow>
    <mo>∀</mo>
    <mi>h</mi>
   </mrow>
   <mo>∈</mo>
   <mi>H</mi>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <in></in>
    <apply>
     <csymbol cd="latexml">for-all</csymbol>
     <ci>h</ci>
    </apply>
    <ci>H</ci>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \forall h\in H\,\!
  </annotation>
 </semantics>
</math>

 and every dataset 

<math display="inline" id="Exponential_mechanism_(differential_privacy):86">
 <semantics>
  <mi>D</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>D</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   D\,\!
  </annotation>
 </semantics>
</math>

, for 

<math display="inline" id="Exponential_mechanism_(differential_privacy):87">
 <semantics>
  <mrow>
   <mover accent="true">
    <mi>D</mi>
    <mo>^</mo>
   </mover>
   <mo>=</mo>
   <mrow>
    <mi class="ltx_font_mathcaligraphic">𝒜</mi>
    <mrow>
     <mo stretchy="false">(</mo>
     <mi>D</mi>
     <mo stretchy="false">)</mo>
    </mrow>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <ci>normal-^</ci>
     <ci>D</ci>
    </apply>
    <apply>
     <times></times>
     <ci>𝒜</ci>
     <ci>D</ci>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \widehat{D}=\mathcal{A}(D)\,\!
  </annotation>
 </semantics>
</math>

, 

<math display="inline" id="Exponential_mechanism_(differential_privacy):88">
 <semantics>
  <mrow>
   <mrow>
    <mo stretchy="false">|</mo>
    <mrow>
     <mrow>
      <msub>
       <mi>Q</mi>
       <mi>h</mi>
      </msub>
      <mrow>
       <mo stretchy="false">(</mo>
       <mover accent="true">
        <mi>D</mi>
        <mo>^</mo>
       </mover>
       <mo stretchy="false">)</mo>
      </mrow>
     </mrow>
     <mo>-</mo>
     <mrow>
      <msub>
       <mi>Q</mi>
       <mi>h</mi>
      </msub>
      <mrow>
       <mo stretchy="false">(</mo>
       <mi>D</mi>
       <mo stretchy="false">)</mo>
      </mrow>
     </mrow>
    </mrow>
    <mo stretchy="false">|</mo>
   </mrow>
   <mo>≤</mo>
   <mi>α</mi>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <leq></leq>
    <apply>
     <abs></abs>
     <apply>
      <minus></minus>
      <apply>
       <times></times>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>Q</ci>
        <ci>h</ci>
       </apply>
       <apply>
        <ci>normal-^</ci>
        <ci>D</ci>
       </apply>
      </apply>
      <apply>
       <times></times>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>Q</ci>
        <ci>h</ci>
       </apply>
       <ci>D</ci>
      </apply>
     </apply>
    </apply>
    <ci>α</ci>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   |Q_{h}(\widehat{D})-Q_{h}(D)|\leq\alpha\,\!
  </annotation>
 </semantics>
</math>

.</p>

<p>Informally, it means that with high probability the query 

<math display="inline" id="Exponential_mechanism_(differential_privacy):89">
 <semantics>
  <msub>
   <mi>Q</mi>
   <mi>h</mi>
  </msub>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <csymbol cd="ambiguous">subscript</csymbol>
    <ci>Q</ci>
    <ci>h</ci>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   Q_{h}\,\!
  </annotation>
 </semantics>
</math>

 will behave in a similar way on the original dataset 

<math display="inline" id="Exponential_mechanism_(differential_privacy):90">
 <semantics>
  <mi>D</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>D</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   D\,\!
  </annotation>
 </semantics>
</math>

 and on the synthetic dataset 

<math display="inline" id="Exponential_mechanism_(differential_privacy):91">
 <semantics>
  <mover accent="true">
   <mi>D</mi>
   <mo>^</mo>
  </mover>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <ci>normal-^</ci>
    <ci>D</ci>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \widehat{D}\,\!
  </annotation>
 </semantics>
</math>

.<br/>
Let us consider a common problem in Data Mining. Assume there is a database 

<math display="inline" id="Exponential_mechanism_(differential_privacy):92">
 <semantics>
  <mi>D</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>D</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   D\,\!
  </annotation>
 </semantics>
</math>

 with 

<math display="inline" id="Exponential_mechanism_(differential_privacy):93">
 <semantics>
  <mi>n</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>n</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   n\,\!
  </annotation>
 </semantics>
</math>

 entries. Each entry consist of 

<math display="inline" id="Exponential_mechanism_(differential_privacy):94">
 <semantics>
  <mi>k</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>k</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   k\,\!
  </annotation>
 </semantics>
</math>

-tuples of the form 

<math display="inline" id="Exponential_mechanism_(differential_privacy):95">
 <semantics>
  <mrow>
   <mo stretchy="false">(</mo>
   <msub>
    <mi>x</mi>
    <mn>1</mn>
   </msub>
   <mo>,</mo>
   <msub>
    <mi>x</mi>
    <mn>2</mn>
   </msub>
   <mo>,</mo>
   <mi mathvariant="normal">…</mi>
   <mo>,</mo>
   <msub>
    <mi>x</mi>
    <mi>k</mi>
   </msub>
   <mo stretchy="false">)</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <vector>
    <apply>
     <csymbol cd="ambiguous">subscript</csymbol>
     <ci>x</ci>
     <cn type="integer">1</cn>
    </apply>
    <apply>
     <csymbol cd="ambiguous">subscript</csymbol>
     <ci>x</ci>
     <cn type="integer">2</cn>
    </apply>
    <ci>normal-…</ci>
    <apply>
     <csymbol cd="ambiguous">subscript</csymbol>
     <ci>x</ci>
     <ci>k</ci>
    </apply>
   </vector>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   (x_{1},x_{2},\dots,x_{k})\,\!
  </annotation>
 </semantics>
</math>

 where 

<math display="inline" id="Exponential_mechanism_(differential_privacy):96">
 <semantics>
  <mrow>
   <msub>
    <mi>x</mi>
    <mi>i</mi>
   </msub>
   <mo>∈</mo>
   <mrow>
    <mo stretchy="false">{</mo>
    <mn>0</mn>
    <mo>,</mo>
    <mn>1</mn>
    <mo stretchy="false">}</mo>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <in></in>
    <apply>
     <csymbol cd="ambiguous">subscript</csymbol>
     <ci>x</ci>
     <ci>i</ci>
    </apply>
    <set>
     <cn type="integer">0</cn>
     <cn type="integer">1</cn>
    </set>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   x_{i}\in\{0,1\}\,\!
  </annotation>
 </semantics>
</math>

. Now, a user wants to learn a <a href="Half-space_(geometry)" title="wikilink">linear halfspace</a> of the form 

<math display="inline" id="Exponential_mechanism_(differential_privacy):97">
 <semantics>
  <mrow>
   <mrow>
    <mrow>
     <msub>
      <mi>π</mi>
      <mn>1</mn>
     </msub>
     <msub>
      <mi>x</mi>
      <mn>1</mn>
     </msub>
    </mrow>
    <mo>+</mo>
    <mrow>
     <msub>
      <mi>π</mi>
      <mn>2</mn>
     </msub>
     <msub>
      <mi>x</mi>
      <mn>2</mn>
     </msub>
    </mrow>
    <mo>+</mo>
    <mi mathvariant="normal">⋯</mi>
    <mo>+</mo>
    <mrow>
     <msub>
      <mi>π</mi>
      <mrow>
       <mi>k</mi>
       <mo>-</mo>
       <mn>1</mn>
      </mrow>
     </msub>
     <msub>
      <mi>x</mi>
      <mrow>
       <mi>k</mi>
       <mo>-</mo>
       <mn>1</mn>
      </mrow>
     </msub>
    </mrow>
   </mrow>
   <mo>≥</mo>
   <msub>
    <mi>x</mi>
    <mi>k</mi>
   </msub>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <geq></geq>
    <apply>
     <plus></plus>
     <apply>
      <times></times>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>π</ci>
       <cn type="integer">1</cn>
      </apply>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>x</ci>
       <cn type="integer">1</cn>
      </apply>
     </apply>
     <apply>
      <times></times>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>π</ci>
       <cn type="integer">2</cn>
      </apply>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>x</ci>
       <cn type="integer">2</cn>
      </apply>
     </apply>
     <ci>normal-⋯</ci>
     <apply>
      <times></times>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>π</ci>
       <apply>
        <minus></minus>
        <ci>k</ci>
        <cn type="integer">1</cn>
       </apply>
      </apply>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>x</ci>
       <apply>
        <minus></minus>
        <ci>k</ci>
        <cn type="integer">1</cn>
       </apply>
      </apply>
     </apply>
    </apply>
    <apply>
     <csymbol cd="ambiguous">subscript</csymbol>
     <ci>x</ci>
     <ci>k</ci>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \pi_{1}x_{1}+\pi_{2}x_{2}+\cdots+\pi_{k-1}x_{k-1}\geq x_{k}\,\!
  </annotation>
 </semantics>
</math>

. In essence the user wants to figure out the values of 

<math display="inline" id="Exponential_mechanism_(differential_privacy):98">
 <semantics>
  <mrow>
   <msub>
    <mi>π</mi>
    <mn>1</mn>
   </msub>
   <mo>,</mo>
   <msub>
    <mi>π</mi>
    <mn>2</mn>
   </msub>
   <mo>,</mo>
   <mi mathvariant="normal">…</mi>
   <mo>,</mo>
   <msub>
    <mi>π</mi>
    <mrow>
     <mi>k</mi>
     <mo>-</mo>
     <mn>1</mn>
    </mrow>
   </msub>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <list>
    <apply>
     <csymbol cd="ambiguous">subscript</csymbol>
     <ci>π</ci>
     <cn type="integer">1</cn>
    </apply>
    <apply>
     <csymbol cd="ambiguous">subscript</csymbol>
     <ci>π</ci>
     <cn type="integer">2</cn>
    </apply>
    <ci>normal-…</ci>
    <apply>
     <csymbol cd="ambiguous">subscript</csymbol>
     <ci>π</ci>
     <apply>
      <minus></minus>
      <ci>k</ci>
      <cn type="integer">1</cn>
     </apply>
    </apply>
   </list>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \pi_{1},\pi_{2},\dots,\pi_{k-1}\,\!
  </annotation>
 </semantics>
</math>

 such that maximum number of tuples in the database satisfy the inequality. The algorithm we describe below can generate a synthetic database 

<math display="inline" id="Exponential_mechanism_(differential_privacy):99">
 <semantics>
  <mover accent="true">
   <mi>D</mi>
   <mo>^</mo>
  </mover>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <ci>normal-^</ci>
    <ci>D</ci>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \widehat{D}\,\!
  </annotation>
 </semantics>
</math>

 which will allow the user to learn (approximately) the same linear half-space while querying on this synthetic database. The motivation for such an algorithm being that the new database will be generated in a differentially private manner and thus assure privacy to the individual records in the database 

<math display="inline" id="Exponential_mechanism_(differential_privacy):100">
 <semantics>
  <mi>D</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>D</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   D\,\!
  </annotation>
 </semantics>
</math>

.</p>

<p>In this section we show that it is possible to release a dataset which is useful for concepts from a polynomial <a href="VC_dimension" title="wikilink">VC-Dimension</a> class and at the same time adhere to 

<math display="inline" id="Exponential_mechanism_(differential_privacy):101">
 <semantics>
  <mi>ϵ</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>ϵ</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \epsilon\,\!
  </annotation>
 </semantics>
</math>

-differential privacy as long as the size of the original dataset is at least polynomial on the <a href="VC_dimension" title="wikilink">VC-Dimension</a> of the concept class. To state formally:</p>

<p><strong>Theorem:</strong> For any class of functions 

<math display="inline" id="Exponential_mechanism_(differential_privacy):102">
 <semantics>
  <mi>H</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>H</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   H\,\!
  </annotation>
 </semantics>
</math>

 and any dataset 

<math display="inline" id="Exponential_mechanism_(differential_privacy):103">
 <semantics>
  <mrow>
   <mi>D</mi>
   <mo>⊂</mo>
   <msup>
    <mrow>
     <mo stretchy="false">{</mo>
     <mn>0</mn>
     <mo>,</mo>
     <mn>1</mn>
     <mo stretchy="false">}</mo>
    </mrow>
    <mi>k</mi>
   </msup>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <subset></subset>
    <ci>D</ci>
    <apply>
     <csymbol cd="ambiguous">superscript</csymbol>
     <set>
      <cn type="integer">0</cn>
      <cn type="integer">1</cn>
     </set>
     <ci>k</ci>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   D\subset\{0,1\}^{k}\,\!
  </annotation>
 </semantics>
</math>

 such that</p>

<p>

<math display="block" id="Exponential_mechanism_(differential_privacy):104">
 <semantics>
  <mrow>
   <mrow>
    <mo stretchy="false">|</mo>
    <mi>D</mi>
    <mo stretchy="false">|</mo>
   </mrow>
   <mo>≥</mo>
   <mrow>
    <mi>O</mi>
    <mrow>
     <mo>(</mo>
     <mrow>
      <mfrac>
       <mrow>
        <mrow>
         <mi>k</mi>
         <mo>⋅</mo>
         <mi>V</mi>
        </mrow>
        <mi>C</mi>
        <mi>D</mi>
        <mi>I</mi>
        <mi>M</mi>
        <mrow>
         <mo stretchy="false">(</mo>
         <mi>H</mi>
         <mo stretchy="false">)</mo>
        </mrow>
        <mrow>
         <mi>log</mi>
         <mrow>
          <mo stretchy="false">(</mo>
          <mrow>
           <mn>1</mn>
           <mo>/</mo>
           <mi>α</mi>
          </mrow>
          <mo stretchy="false">)</mo>
         </mrow>
        </mrow>
       </mrow>
       <mrow>
        <msup>
         <mi>α</mi>
         <mn>3</mn>
        </msup>
        <mi>ϵ</mi>
       </mrow>
      </mfrac>
      <mo>+</mo>
      <mfrac>
       <mrow>
        <mi>log</mi>
        <mrow>
         <mo stretchy="false">(</mo>
         <mrow>
          <mn>1</mn>
          <mo>/</mo>
          <mi>δ</mi>
         </mrow>
         <mo stretchy="false">)</mo>
        </mrow>
       </mrow>
       <mrow>
        <mi>α</mi>
        <mi>ϵ</mi>
       </mrow>
      </mfrac>
     </mrow>
     <mo>)</mo>
    </mrow>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <geq></geq>
    <apply>
     <abs></abs>
     <ci>D</ci>
    </apply>
    <apply>
     <times></times>
     <ci>O</ci>
     <apply>
      <plus></plus>
      <apply>
       <divide></divide>
       <apply>
        <times></times>
        <apply>
         <ci>normal-⋅</ci>
         <ci>k</ci>
         <ci>V</ci>
        </apply>
        <ci>C</ci>
        <ci>D</ci>
        <ci>I</ci>
        <ci>M</ci>
        <ci>H</ci>
        <apply>
         <log></log>
         <apply>
          <divide></divide>
          <cn type="integer">1</cn>
          <ci>α</ci>
         </apply>
        </apply>
       </apply>
       <apply>
        <times></times>
        <apply>
         <csymbol cd="ambiguous">superscript</csymbol>
         <ci>α</ci>
         <cn type="integer">3</cn>
        </apply>
        <ci>ϵ</ci>
       </apply>
      </apply>
      <apply>
       <divide></divide>
       <apply>
        <log></log>
        <apply>
         <divide></divide>
         <cn type="integer">1</cn>
         <ci>δ</ci>
        </apply>
       </apply>
       <apply>
        <times></times>
        <ci>α</ci>
        <ci>ϵ</ci>
       </apply>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   |D|\geq O\left(\frac{k\cdot VCDIM(H)\log(1/\alpha)}{\alpha^{3}\epsilon}+\frac{%
\log(1/\delta)}{\alpha\epsilon}\right)\,\!
  </annotation>
 </semantics>
</math>

 we can output an 

<math display="inline" id="Exponential_mechanism_(differential_privacy):105">
 <semantics>
  <mrow>
   <mo stretchy="false">(</mo>
   <mi>α</mi>
   <mo>,</mo>
   <mi>δ</mi>
   <mo stretchy="false">)</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <interval closure="open">
    <ci>α</ci>
    <ci>δ</ci>
   </interval>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   (\alpha,\delta)\,\!
  </annotation>
 </semantics>
</math>

-useful dataset 

<math display="inline" id="Exponential_mechanism_(differential_privacy):106">
 <semantics>
  <mover accent="true">
   <mi>D</mi>
   <mo>^</mo>
  </mover>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <ci>normal-^</ci>
    <ci>D</ci>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \widehat{D}\,\!
  </annotation>
 </semantics>
</math>

 that preserves 

<math display="inline" id="Exponential_mechanism_(differential_privacy):107">
 <semantics>
  <mi>ϵ</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>ϵ</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \epsilon\,\!
  </annotation>
 </semantics>
</math>

-differential privacy. As we had mentioned earlier the algorithm need not be efficient.</p>

<p>One interesting fact is that the algorithm which we are going to develop generates a synthetic dataset whose size is independent of the original dataset; in fact, it only depends on the <a href="VC_dimension" title="wikilink">VC-dimension</a> of the concept class and the parameter 

<math display="inline" id="Exponential_mechanism_(differential_privacy):108">
 <semantics>
  <mi>α</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>α</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \alpha\,\!
  </annotation>
 </semantics>
</math>

. The algorithm outputs a dataset of size 

<math display="inline" id="Exponential_mechanism_(differential_privacy):109">
 <semantics>
  <mrow>
   <mover accent="true">
    <mi>O</mi>
    <mo stretchy="false">~</mo>
   </mover>
   <mrow>
    <mo stretchy="false">(</mo>
    <mrow>
     <mrow>
      <mi>V</mi>
      <mi>C</mi>
      <mi>D</mi>
      <mi>I</mi>
      <mi>M</mi>
      <mrow>
       <mo stretchy="false">(</mo>
       <mi>H</mi>
       <mo stretchy="false">)</mo>
      </mrow>
     </mrow>
     <mo>/</mo>
     <msup>
      <mi>α</mi>
      <mn>2</mn>
     </msup>
    </mrow>
    <mo stretchy="false">)</mo>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <times></times>
    <apply>
     <ci>normal-~</ci>
     <ci>O</ci>
    </apply>
    <apply>
     <divide></divide>
     <apply>
      <times></times>
      <ci>V</ci>
      <ci>C</ci>
      <ci>D</ci>
      <ci>I</ci>
      <ci>M</ci>
      <ci>H</ci>
     </apply>
     <apply>
      <csymbol cd="ambiguous">superscript</csymbol>
      <ci>α</ci>
      <cn type="integer">2</cn>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \tilde{O}(VCDIM(H)/\alpha^{2})\,\!
  </annotation>
 </semantics>
</math>

</p>

<p>We borrow the <a href="Uniform_convergence_(combinatorics)" title="wikilink">Uniform Convergence Theorem</a> from <a class="uri" href="combinatorics" title="wikilink">combinatorics</a> and state a corollary of it which aligns to our need.</p>

<p><strong>Lemma:</strong> Given any dataset 

<math display="inline" id="Exponential_mechanism_(differential_privacy):110">
 <semantics>
  <mi>D</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>D</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   D\,\!
  </annotation>
 </semantics>
</math>

 there exists a dataset 

<math display="inline" id="Exponential_mechanism_(differential_privacy):111">
 <semantics>
  <mover accent="true">
   <mi>D</mi>
   <mo>^</mo>
  </mover>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <ci>normal-^</ci>
    <ci>D</ci>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \widehat{D}\,\!
  </annotation>
 </semantics>
</math>

 of size 

<math display="inline" id="Exponential_mechanism_(differential_privacy):112">
 <semantics>
  <mrow>
   <mi></mi>
   <mo>=</mo>
   <mrow>
    <mrow>
     <mi>O</mi>
     <mrow>
      <mo stretchy="false">(</mo>
      <mrow>
       <mi>V</mi>
       <mi>C</mi>
       <mi>D</mi>
       <mi>I</mi>
       <mi>M</mi>
       <mrow>
        <mo stretchy="false">(</mo>
        <mi>H</mi>
        <mo stretchy="false">)</mo>
       </mrow>
       <mrow>
        <mi>log</mi>
        <mrow>
         <mo stretchy="false">(</mo>
         <mrow>
          <mn>1</mn>
          <mo>/</mo>
          <mi>α</mi>
         </mrow>
         <mo stretchy="false">)</mo>
        </mrow>
       </mrow>
      </mrow>
      <mo stretchy="false">)</mo>
     </mrow>
    </mrow>
    <mo>/</mo>
    <msup>
     <mi>α</mi>
     <mn>2</mn>
    </msup>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <csymbol cd="latexml">absent</csymbol>
    <apply>
     <divide></divide>
     <apply>
      <times></times>
      <ci>O</ci>
      <apply>
       <times></times>
       <ci>V</ci>
       <ci>C</ci>
       <ci>D</ci>
       <ci>I</ci>
       <ci>M</ci>
       <ci>H</ci>
       <apply>
        <log></log>
        <apply>
         <divide></divide>
         <cn type="integer">1</cn>
         <ci>α</ci>
        </apply>
       </apply>
      </apply>
     </apply>
     <apply>
      <csymbol cd="ambiguous">superscript</csymbol>
      <ci>α</ci>
      <cn type="integer">2</cn>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   =O(VCDIM(H)\log(1/\alpha))/\alpha^{2}\,\!
  </annotation>
 </semantics>
</math>

 such that 

<math display="inline" id="Exponential_mechanism_(differential_privacy):113">
 <semantics>
  <mrow>
   <mrow>
    <msub>
     <mi>max</mi>
     <mrow>
      <mi>h</mi>
      <mo>∈</mo>
      <mi>H</mi>
     </mrow>
    </msub>
    <mrow>
     <mo stretchy="false">|</mo>
     <mrow>
      <mrow>
       <msub>
        <mi>Q</mi>
        <mi>h</mi>
       </msub>
       <mrow>
        <mo stretchy="false">(</mo>
        <mi>D</mi>
        <mo stretchy="false">)</mo>
       </mrow>
      </mrow>
      <mo>-</mo>
      <mrow>
       <msub>
        <mi>Q</mi>
        <mi>h</mi>
       </msub>
       <mrow>
        <mo stretchy="false">(</mo>
        <mover accent="true">
         <mi>D</mi>
         <mo>^</mo>
        </mover>
        <mo stretchy="false">)</mo>
       </mrow>
      </mrow>
     </mrow>
     <mo stretchy="false">|</mo>
    </mrow>
   </mrow>
   <mo>≤</mo>
   <mrow>
    <mi>α</mi>
    <mo>/</mo>
    <mn>2</mn>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <leq></leq>
    <apply>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <max></max>
      <apply>
       <in></in>
       <ci>h</ci>
       <ci>H</ci>
      </apply>
     </apply>
     <apply>
      <abs></abs>
      <apply>
       <minus></minus>
       <apply>
        <times></times>
        <apply>
         <csymbol cd="ambiguous">subscript</csymbol>
         <ci>Q</ci>
         <ci>h</ci>
        </apply>
        <ci>D</ci>
       </apply>
       <apply>
        <times></times>
        <apply>
         <csymbol cd="ambiguous">subscript</csymbol>
         <ci>Q</ci>
         <ci>h</ci>
        </apply>
        <apply>
         <ci>normal-^</ci>
         <ci>D</ci>
        </apply>
       </apply>
      </apply>
     </apply>
    </apply>
    <apply>
     <divide></divide>
     <ci>α</ci>
     <cn type="integer">2</cn>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \max_{h\in H}|Q_{h}(D)-Q_{h}(\widehat{D})|\leq\alpha/2\,\!
  </annotation>
 </semantics>
</math>

.</p>

<p>Proof:</p>

<p>We know from the uniform convergence theorem that,</p>

<p>

<math display="block" id="Exponential_mechanism_(differential_privacy):114">
 <semantics>
  <mrow>
   <mi>Pr</mi>
   <mrow>
    <mo stretchy="false">[</mo>
    <mo stretchy="false">|</mo>
    <msub>
     <mi>Q</mi>
     <mi>h</mi>
    </msub>
    <mrow>
     <mo stretchy="false">(</mo>
     <mi>D</mi>
     <mo stretchy="false">)</mo>
    </mrow>
    <mo>-</mo>
    <msub>
     <mi>Q</mi>
     <mi>h</mi>
    </msub>
    <mrow>
     <mo stretchy="false">(</mo>
     <mover accent="true">
      <mi>D</mi>
      <mo>^</mo>
     </mover>
     <mo stretchy="false">)</mo>
    </mrow>
    <mo stretchy="false">|</mo>
    <mo>≥</mo>
    <mi>α</mi>
    <mo>/</mo>
    <mn>2</mn>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <cerror>
    <csymbol cd="ambiguous">fragments</csymbol>
    <ci>Pr</ci>
    <cerror>
     <csymbol cd="ambiguous">fragments</csymbol>
     <ci>normal-[</ci>
     <ci>normal-|</ci>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <ci>Q</ci>
      <ci>h</ci>
     </apply>
     <cerror>
      <csymbol cd="ambiguous">fragments</csymbol>
      <ci>normal-(</ci>
      <csymbol cd="unknown">D</csymbol>
      <ci>normal-)</ci>
     </cerror>
     <minus></minus>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <ci>Q</ci>
      <ci>h</ci>
     </apply>
     <cerror>
      <csymbol cd="ambiguous">fragments</csymbol>
      <ci>normal-(</ci>
      <apply>
       <ci>normal-^</ci>
       <ci>D</ci>
      </apply>
      <ci>normal-)</ci>
     </cerror>
     <ci>normal-|</ci>
     <geq></geq>
     <csymbol cd="unknown">α</csymbol>
     <divide></divide>
     <cn type="integer">2</cn>
    </cerror>
   </cerror>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \Pr[|Q_{h}(D)-Q_{h}(\widehat{D})|\geq\alpha/2\,\!
  </annotation>
 </semantics>
</math>

 for some 

<math display="inline" id="Exponential_mechanism_(differential_privacy):115">
 <semantics>
  <mrow>
   <mi>h</mi>
   <mo>∈</mo>
   <mi>H</mi>
   <mo stretchy="false">]</mo>
   <mo>≤</mo>
   <mn>2</mn>
   <mo stretchy="false">(</mo>
   <mfrac>
    <mrow>
     <mi>e</mi>
     <mi>m</mi>
    </mrow>
    <mrow>
     <mi>V</mi>
     <mi>C</mi>
     <mi>D</mi>
     <mi>I</mi>
     <mi>M</mi>
     <mrow>
      <mo stretchy="false">(</mo>
      <mi>H</mi>
      <mo stretchy="false">)</mo>
     </mrow>
    </mrow>
   </mfrac>
   <mo stretchy="false">)</mo>
   <msup>
    <mi></mi>
    <mrow>
     <mi>V</mi>
     <mi>C</mi>
     <mi>D</mi>
     <mi>I</mi>
     <mi>M</mi>
     <mrow>
      <mo stretchy="false">(</mo>
      <mi>H</mi>
      <mo stretchy="false">)</mo>
     </mrow>
    </mrow>
   </msup>
   <mo>⋅</mo>
   <mi>e</mi>
   <msup>
    <mi></mi>
    <mrow>
     <mo>-</mo>
     <mfrac>
      <mrow>
       <msup>
        <mi>α</mi>
        <mn>2</mn>
       </msup>
       <mi>m</mi>
      </mrow>
      <mn>8</mn>
     </mfrac>
    </mrow>
   </msup>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <cerror>
    <csymbol cd="ambiguous">fragments</csymbol>
    <csymbol cd="unknown">h</csymbol>
    <in></in>
    <csymbol cd="unknown">H</csymbol>
    <ci>normal-]</ci>
    <leq></leq>
    <cn type="integer">2</cn>
    <ci>normal-(</ci>
    <apply>
     <divide></divide>
     <apply>
      <times></times>
      <ci>e</ci>
      <ci>m</ci>
     </apply>
     <apply>
      <times></times>
      <ci>V</ci>
      <ci>C</ci>
      <ci>D</ci>
      <ci>I</ci>
      <ci>M</ci>
      <ci>H</ci>
     </apply>
    </apply>
    <ci>normal-)</ci>
    <apply>
     <apply>
      <times></times>
      <ci>V</ci>
      <ci>C</ci>
      <ci>D</ci>
      <ci>I</ci>
      <ci>M</ci>
      <ci>H</ci>
     </apply>
    </apply>
    <ci>normal-⋅</ci>
    <csymbol cd="unknown">e</csymbol>
    <apply>
     <apply>
      <minus></minus>
      <apply>
       <divide></divide>
       <apply>
        <times></times>
        <apply>
         <csymbol cd="ambiguous">superscript</csymbol>
         <ci>α</ci>
         <cn type="integer">2</cn>
        </apply>
        <ci>m</ci>
       </apply>
       <cn type="integer">8</cn>
      </apply>
     </apply>
    </apply>
   </cerror>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   h\in H]\leq 2(\frac{em}{VCDIM(H)})^{VCDIM(H)}\cdot e^{-\frac{\alpha^{2}m}{8}}\,\!
  </annotation>
 </semantics>
</math>

, where probability is over the distribution of the dataset. Thus, if the RHS is less than one then we know for sure that the data set 

<math display="inline" id="Exponential_mechanism_(differential_privacy):116">
 <semantics>
  <mover accent="true">
   <mi>D</mi>
   <mo>^</mo>
  </mover>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <ci>normal-^</ci>
    <ci>D</ci>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \widehat{D}\,\!
  </annotation>
 </semantics>
</math>

 exists. To bound the RHS to less than one we need 

<math display="inline" id="Exponential_mechanism_(differential_privacy):117">
 <semantics>
  <mrow>
   <mi>m</mi>
   <mo>≥</mo>
   <mrow>
    <mi>λ</mi>
    <mrow>
     <mo stretchy="false">(</mo>
     <mrow>
      <mrow>
       <mi>V</mi>
       <mi>C</mi>
       <mi>D</mi>
       <mi>I</mi>
       <mi>M</mi>
       <mrow>
        <mo stretchy="false">(</mo>
        <mi>H</mi>
        <mo stretchy="false">)</mo>
       </mrow>
       <mrow>
        <mi>log</mi>
        <mrow>
         <mo stretchy="false">(</mo>
         <mrow>
          <mrow>
           <mi>m</mi>
           <mo>/</mo>
           <mi>V</mi>
          </mrow>
          <mi>C</mi>
          <mi>D</mi>
          <mi>I</mi>
          <mi>M</mi>
          <mrow>
           <mo stretchy="false">(</mo>
           <mi>H</mi>
           <mo stretchy="false">)</mo>
          </mrow>
         </mrow>
         <mo stretchy="false">)</mo>
        </mrow>
       </mrow>
      </mrow>
      <mo>/</mo>
      <msup>
       <mi>α</mi>
       <mn>2</mn>
      </msup>
     </mrow>
     <mo stretchy="false">)</mo>
    </mrow>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <geq></geq>
    <ci>m</ci>
    <apply>
     <times></times>
     <ci>λ</ci>
     <apply>
      <divide></divide>
      <apply>
       <times></times>
       <ci>V</ci>
       <ci>C</ci>
       <ci>D</ci>
       <ci>I</ci>
       <ci>M</ci>
       <ci>H</ci>
       <apply>
        <log></log>
        <apply>
         <times></times>
         <apply>
          <divide></divide>
          <ci>m</ci>
          <ci>V</ci>
         </apply>
         <ci>C</ci>
         <ci>D</ci>
         <ci>I</ci>
         <ci>M</ci>
         <ci>H</ci>
        </apply>
       </apply>
      </apply>
      <apply>
       <csymbol cd="ambiguous">superscript</csymbol>
       <ci>α</ci>
       <cn type="integer">2</cn>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   m\geq\lambda(VCDIM(H)\log(m/VCDIM(H))/\alpha^{2})\,\!
  </annotation>
 </semantics>
</math>

, where 

<math display="inline" id="Exponential_mechanism_(differential_privacy):118">
 <semantics>
  <mi>λ</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>λ</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \lambda\,\!
  </annotation>
 </semantics>
</math>

 is some positive constant. Since we stated earlier that we will output a dataset of size 

<math display="inline" id="Exponential_mechanism_(differential_privacy):119">
 <semantics>
  <mrow>
   <mover accent="true">
    <mi>O</mi>
    <mo stretchy="false">~</mo>
   </mover>
   <mrow>
    <mo stretchy="false">(</mo>
    <mrow>
     <mrow>
      <mi>V</mi>
      <mi>C</mi>
      <mi>D</mi>
      <mi>I</mi>
      <mi>M</mi>
      <mrow>
       <mo stretchy="false">(</mo>
       <mi>H</mi>
       <mo stretchy="false">)</mo>
      </mrow>
     </mrow>
     <mo>/</mo>
     <msup>
      <mi>α</mi>
      <mn>2</mn>
     </msup>
    </mrow>
    <mo stretchy="false">)</mo>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <times></times>
    <apply>
     <ci>normal-~</ci>
     <ci>O</ci>
    </apply>
    <apply>
     <divide></divide>
     <apply>
      <times></times>
      <ci>V</ci>
      <ci>C</ci>
      <ci>D</ci>
      <ci>I</ci>
      <ci>M</ci>
      <ci>H</ci>
     </apply>
     <apply>
      <csymbol cd="ambiguous">superscript</csymbol>
      <ci>α</ci>
      <cn type="integer">2</cn>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \tilde{O}(VCDIM(H)/\alpha^{2})\,\!
  </annotation>
 </semantics>
</math>

, so using this bound on 

<math display="inline" id="Exponential_mechanism_(differential_privacy):120">
 <semantics>
  <mi>m</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>m</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   m\,\!
  </annotation>
 </semantics>
</math>

 we get 

<math display="inline" id="Exponential_mechanism_(differential_privacy):121">
 <semantics>
  <mrow>
   <mi>m</mi>
   <mo>≥</mo>
   <mrow>
    <mi>λ</mi>
    <mrow>
     <mo stretchy="false">(</mo>
     <mrow>
      <mrow>
       <mi>V</mi>
       <mi>C</mi>
       <mi>D</mi>
       <mi>I</mi>
       <mi>M</mi>
       <mrow>
        <mo stretchy="false">(</mo>
        <mi>H</mi>
        <mo stretchy="false">)</mo>
       </mrow>
       <mrow>
        <mi>log</mi>
        <mrow>
         <mo stretchy="false">(</mo>
         <mrow>
          <mn>1</mn>
          <mo>/</mo>
          <mi>α</mi>
         </mrow>
         <mo stretchy="false">)</mo>
        </mrow>
       </mrow>
      </mrow>
      <mo>/</mo>
      <msup>
       <mi>α</mi>
       <mn>2</mn>
      </msup>
     </mrow>
     <mo stretchy="false">)</mo>
    </mrow>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <geq></geq>
    <ci>m</ci>
    <apply>
     <times></times>
     <ci>λ</ci>
     <apply>
      <divide></divide>
      <apply>
       <times></times>
       <ci>V</ci>
       <ci>C</ci>
       <ci>D</ci>
       <ci>I</ci>
       <ci>M</ci>
       <ci>H</ci>
       <apply>
        <log></log>
        <apply>
         <divide></divide>
         <cn type="integer">1</cn>
         <ci>α</ci>
        </apply>
       </apply>
      </apply>
      <apply>
       <csymbol cd="ambiguous">superscript</csymbol>
       <ci>α</ci>
       <cn type="integer">2</cn>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   m\geq\lambda(VCDIM(H)\log(1/\alpha)/\alpha^{2})\,\!
  </annotation>
 </semantics>
</math>

. Hence the lemma.</p>

<p>Now we invoke the Exponential Mechanism.</p>

<p><strong>Definition:</strong> For any function 

<math display="inline" id="Exponential_mechanism_(differential_privacy):122">
 <semantics>
  <mrow>
   <mi>q</mi>
   <mo>:</mo>
   <mrow>
    <mrow>
     <mo stretchy="false">(</mo>
     <mrow>
      <msup>
       <mrow>
        <mo stretchy="false">(</mo>
        <msup>
         <mrow>
          <mo stretchy="false">{</mo>
          <mn>0</mn>
          <mo>,</mo>
          <mn>1</mn>
          <mo stretchy="false">}</mo>
         </mrow>
         <mi>k</mi>
        </msup>
        <mo stretchy="false">)</mo>
       </mrow>
       <mi>n</mi>
      </msup>
      <mo>×</mo>
      <msup>
       <mrow>
        <mo stretchy="false">(</mo>
        <msup>
         <mrow>
          <mo stretchy="false">{</mo>
          <mn>0</mn>
          <mo>,</mo>
          <mn>1</mn>
          <mo stretchy="false">}</mo>
         </mrow>
         <mi>k</mi>
        </msup>
        <mo stretchy="false">)</mo>
       </mrow>
       <mi>m</mi>
      </msup>
     </mrow>
     <mo stretchy="false">)</mo>
    </mrow>
    <mo>→</mo>
    <mi>ℝ</mi>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <ci>normal-:</ci>
    <ci>q</ci>
    <apply>
     <ci>normal-→</ci>
     <apply>
      <times></times>
      <apply>
       <csymbol cd="ambiguous">superscript</csymbol>
       <apply>
        <csymbol cd="ambiguous">superscript</csymbol>
        <set>
         <cn type="integer">0</cn>
         <cn type="integer">1</cn>
        </set>
        <ci>k</ci>
       </apply>
       <ci>n</ci>
      </apply>
      <apply>
       <csymbol cd="ambiguous">superscript</csymbol>
       <apply>
        <csymbol cd="ambiguous">superscript</csymbol>
        <set>
         <cn type="integer">0</cn>
         <cn type="integer">1</cn>
        </set>
        <ci>k</ci>
       </apply>
       <ci>m</ci>
      </apply>
     </apply>
     <ci>ℝ</ci>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   q:((\{0,1\}^{k})^{n}\times(\{0,1\}^{k})^{m})\rightarrow\mathbb{R}\,\!
  </annotation>
 </semantics>
</math>

 and input dataset 

<math display="inline" id="Exponential_mechanism_(differential_privacy):123">
 <semantics>
  <mi>D</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>D</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   D\,\!
  </annotation>
 </semantics>
</math>

, the Exponential mechanism outputs each dataset 

<math display="inline" id="Exponential_mechanism_(differential_privacy):124">
 <semantics>
  <mover accent="true">
   <mi>D</mi>
   <mo>^</mo>
  </mover>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <ci>normal-^</ci>
    <ci>D</ci>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \widehat{D}\,\!
  </annotation>
 </semantics>
</math>

 with probability proportional to 

<math display="inline" id="Exponential_mechanism_(differential_privacy):125">
 <semantics>
  <msup>
   <mi>e</mi>
   <mrow>
    <mrow>
     <mi>q</mi>
     <mrow>
      <mo stretchy="false">(</mo>
      <mi>D</mi>
      <mo>,</mo>
      <mover accent="true">
       <mi>D</mi>
       <mo>^</mo>
      </mover>
      <mo stretchy="false">)</mo>
     </mrow>
     <mi>ϵ</mi>
     <mi>n</mi>
    </mrow>
    <mo>/</mo>
    <mn>2</mn>
   </mrow>
  </msup>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <csymbol cd="ambiguous">superscript</csymbol>
    <ci>e</ci>
    <apply>
     <divide></divide>
     <apply>
      <times></times>
      <ci>q</ci>
      <interval closure="open">
       <ci>D</ci>
       <apply>
        <ci>normal-^</ci>
        <ci>D</ci>
       </apply>
      </interval>
      <ci>ϵ</ci>
      <ci>n</ci>
     </apply>
     <cn type="integer">2</cn>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   e^{q(D,\widehat{D})\epsilon n/2}\,\!
  </annotation>
 </semantics>
</math>

.</p>

<p>From the Exponential Mechanism we know this preserves 

<math display="inline" id="Exponential_mechanism_(differential_privacy):126">
 <semantics>
  <mrow>
   <mo stretchy="false">(</mo>
   <mrow>
    <mi>ϵ</mi>
    <mi>n</mi>
    <mi>G</mi>
    <msub>
     <mi>S</mi>
     <mi>q</mi>
    </msub>
   </mrow>
   <mo stretchy="false">)</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <times></times>
    <ci>ϵ</ci>
    <ci>n</ci>
    <ci>G</ci>
    <apply>
     <csymbol cd="ambiguous">subscript</csymbol>
     <ci>S</ci>
     <ci>q</ci>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   (\epsilon nGS_{q})\,\!
  </annotation>
 </semantics>
</math>

-differential privacy. Lets get back to the proof of the Theorem.</p>

<p>We define 

<math display="inline" id="Exponential_mechanism_(differential_privacy):127">
 <semantics>
  <mrow>
   <mrow>
    <mo stretchy="false">(</mo>
    <mrow>
     <mi>q</mi>
     <mrow>
      <mo stretchy="false">(</mo>
      <mi>D</mi>
      <mo stretchy="false">)</mo>
     </mrow>
    </mrow>
    <mo>,</mo>
    <mrow>
     <mi>q</mi>
     <mrow>
      <mo stretchy="false">(</mo>
      <mover accent="true">
       <mi>D</mi>
       <mo>^</mo>
      </mover>
      <mo stretchy="false">)</mo>
     </mrow>
    </mrow>
    <mo stretchy="false">)</mo>
   </mrow>
   <mo>=</mo>
   <mrow>
    <mo>-</mo>
    <mrow>
     <msub>
      <mi>max</mi>
      <mrow>
       <mi>h</mi>
       <mo>∈</mo>
       <mi>H</mi>
      </mrow>
     </msub>
     <mrow>
      <mo stretchy="false">|</mo>
      <mrow>
       <mrow>
        <msub>
         <mi>Q</mi>
         <mi>h</mi>
        </msub>
        <mrow>
         <mo stretchy="false">(</mo>
         <mi>D</mi>
         <mo stretchy="false">)</mo>
        </mrow>
       </mrow>
       <mo>-</mo>
       <mrow>
        <msub>
         <mi>Q</mi>
         <mi>h</mi>
        </msub>
        <mrow>
         <mo stretchy="false">(</mo>
         <mover accent="true">
          <mi>D</mi>
          <mo>^</mo>
         </mover>
         <mo stretchy="false">)</mo>
        </mrow>
       </mrow>
      </mrow>
      <mo stretchy="false">|</mo>
     </mrow>
    </mrow>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <interval closure="open">
     <apply>
      <times></times>
      <ci>q</ci>
      <ci>D</ci>
     </apply>
     <apply>
      <times></times>
      <ci>q</ci>
      <apply>
       <ci>normal-^</ci>
       <ci>D</ci>
      </apply>
     </apply>
    </interval>
    <apply>
     <minus></minus>
     <apply>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <max></max>
       <apply>
        <in></in>
        <ci>h</ci>
        <ci>H</ci>
       </apply>
      </apply>
      <apply>
       <abs></abs>
       <apply>
        <minus></minus>
        <apply>
         <times></times>
         <apply>
          <csymbol cd="ambiguous">subscript</csymbol>
          <ci>Q</ci>
          <ci>h</ci>
         </apply>
         <ci>D</ci>
        </apply>
        <apply>
         <times></times>
         <apply>
          <csymbol cd="ambiguous">subscript</csymbol>
          <ci>Q</ci>
          <ci>h</ci>
         </apply>
         <apply>
          <ci>normal-^</ci>
          <ci>D</ci>
         </apply>
        </apply>
       </apply>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   (q(D),q(\widehat{D}))=-\max_{h\in H}|Q_{h}(D)-Q_{h}(\widehat{D})|\,\!
  </annotation>
 </semantics>
</math>

.<br/>
To show that the mechanism satisfies the 

<math display="inline" id="Exponential_mechanism_(differential_privacy):128">
 <semantics>
  <mrow>
   <mo stretchy="false">(</mo>
   <mi>α</mi>
   <mo>,</mo>
   <mi>δ</mi>
   <mo stretchy="false">)</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <interval closure="open">
    <ci>α</ci>
    <ci>δ</ci>
   </interval>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   (\alpha,\delta)\,\!
  </annotation>
 </semantics>
</math>

-usefulness, we should show that it outputs some dataset 

<math display="inline" id="Exponential_mechanism_(differential_privacy):129">
 <semantics>
  <mover accent="true">
   <mi>D</mi>
   <mo>^</mo>
  </mover>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <ci>normal-^</ci>
    <ci>D</ci>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \widehat{D}\,\!
  </annotation>
 </semantics>
</math>

 with 

<math display="inline" id="Exponential_mechanism_(differential_privacy):130">
 <semantics>
  <mrow>
   <mrow>
    <mi>q</mi>
    <mrow>
     <mo stretchy="false">(</mo>
     <mi>D</mi>
     <mo>,</mo>
     <mover accent="true">
      <mi>D</mi>
      <mo>^</mo>
     </mover>
     <mo stretchy="false">)</mo>
    </mrow>
   </mrow>
   <mo>≥</mo>
   <mrow>
    <mo>-</mo>
    <mi>α</mi>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <geq></geq>
    <apply>
     <times></times>
     <ci>q</ci>
     <interval closure="open">
      <ci>D</ci>
      <apply>
       <ci>normal-^</ci>
       <ci>D</ci>
      </apply>
     </interval>
    </apply>
    <apply>
     <minus></minus>
     <ci>α</ci>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   q(D,\widehat{D})\geq-\alpha\,\!
  </annotation>
 </semantics>
</math>

 with probability 

<math display="inline" id="Exponential_mechanism_(differential_privacy):131">
 <semantics>
  <mrow>
   <mn>1</mn>
   <mo>-</mo>
   <mi>δ</mi>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <minus></minus>
    <cn type="integer">1</cn>
    <ci>δ</ci>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   1-\delta\,\!
  </annotation>
 </semantics>
</math>

. There are at most 

<math display="inline" id="Exponential_mechanism_(differential_privacy):132">
 <semantics>
  <msup>
   <mn>2</mn>
   <mrow>
    <mi>k</mi>
    <mi>m</mi>
   </mrow>
  </msup>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <csymbol cd="ambiguous">superscript</csymbol>
    <cn type="integer">2</cn>
    <apply>
     <times></times>
     <ci>k</ci>
     <ci>m</ci>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   2^{km}\,\!
  </annotation>
 </semantics>
</math>

 output datasets and the probability that 

<math display="inline" id="Exponential_mechanism_(differential_privacy):133">
 <semantics>
  <mrow>
   <mrow>
    <mi>q</mi>
    <mrow>
     <mo stretchy="false">(</mo>
     <mi>D</mi>
     <mo>,</mo>
     <mover accent="true">
      <mi>D</mi>
      <mo>^</mo>
     </mover>
     <mo stretchy="false">)</mo>
    </mrow>
   </mrow>
   <mo>≤</mo>
   <mrow>
    <mo>-</mo>
    <mi>α</mi>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <leq></leq>
    <apply>
     <times></times>
     <ci>q</ci>
     <interval closure="open">
      <ci>D</ci>
      <apply>
       <ci>normal-^</ci>
       <ci>D</ci>
      </apply>
     </interval>
    </apply>
    <apply>
     <minus></minus>
     <ci>α</ci>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   q(D,\widehat{D})\leq-\alpha\,\!
  </annotation>
 </semantics>
</math>

 is at most proportional to 

<math display="inline" id="Exponential_mechanism_(differential_privacy):134">
 <semantics>
  <msup>
   <mi>e</mi>
   <mrow>
    <mo>-</mo>
    <mrow>
     <mrow>
      <mi>ϵ</mi>
      <mi>α</mi>
      <mi>n</mi>
     </mrow>
     <mo>/</mo>
     <mn>2</mn>
    </mrow>
   </mrow>
  </msup>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <csymbol cd="ambiguous">superscript</csymbol>
    <ci>e</ci>
    <apply>
     <minus></minus>
     <apply>
      <divide></divide>
      <apply>
       <times></times>
       <ci>ϵ</ci>
       <ci>α</ci>
       <ci>n</ci>
      </apply>
      <cn type="integer">2</cn>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   e^{-\epsilon\alpha n/2}\,\!
  </annotation>
 </semantics>
</math>

. Thus by union bound, the probability of outputting any such dataset 

<math display="inline" id="Exponential_mechanism_(differential_privacy):135">
 <semantics>
  <mover accent="true">
   <mi>D</mi>
   <mo>^</mo>
  </mover>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <ci>normal-^</ci>
    <ci>D</ci>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \widehat{D}\,\!
  </annotation>
 </semantics>
</math>

 is at most proportional to 

<math display="inline" id="Exponential_mechanism_(differential_privacy):136">
 <semantics>
  <mrow>
   <msup>
    <mn>2</mn>
    <mrow>
     <mi>k</mi>
     <mi>m</mi>
    </mrow>
   </msup>
   <msup>
    <mi>e</mi>
    <mrow>
     <mo>-</mo>
     <mrow>
      <mrow>
       <mi>ϵ</mi>
       <mi>α</mi>
       <mi>n</mi>
      </mrow>
      <mo>/</mo>
      <mn>2</mn>
     </mrow>
    </mrow>
   </msup>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <times></times>
    <apply>
     <csymbol cd="ambiguous">superscript</csymbol>
     <cn type="integer">2</cn>
     <apply>
      <times></times>
      <ci>k</ci>
      <ci>m</ci>
     </apply>
    </apply>
    <apply>
     <csymbol cd="ambiguous">superscript</csymbol>
     <ci>e</ci>
     <apply>
      <minus></minus>
      <apply>
       <divide></divide>
       <apply>
        <times></times>
        <ci>ϵ</ci>
        <ci>α</ci>
        <ci>n</ci>
       </apply>
       <cn type="integer">2</cn>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   2^{km}e^{-\epsilon\alpha n/2}\,\!
  </annotation>
 </semantics>
</math>

. Again, we know that there exists some dataset 

<math display="inline" id="Exponential_mechanism_(differential_privacy):137">
 <semantics>
  <mrow>
   <mover accent="true">
    <mi>D</mi>
    <mo>^</mo>
   </mover>
   <mo>∈</mo>
   <msup>
    <mrow>
     <mo stretchy="false">(</mo>
     <msup>
      <mrow>
       <mo stretchy="false">{</mo>
       <mn>0</mn>
       <mo>,</mo>
       <mn>1</mn>
       <mo stretchy="false">}</mo>
      </mrow>
      <mi>k</mi>
     </msup>
     <mo stretchy="false">)</mo>
    </mrow>
    <mi>m</mi>
   </msup>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <in></in>
    <apply>
     <ci>normal-^</ci>
     <ci>D</ci>
    </apply>
    <apply>
     <csymbol cd="ambiguous">superscript</csymbol>
     <apply>
      <csymbol cd="ambiguous">superscript</csymbol>
      <set>
       <cn type="integer">0</cn>
       <cn type="integer">1</cn>
      </set>
      <ci>k</ci>
     </apply>
     <ci>m</ci>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \widehat{D}\in(\{0,1\}^{k})^{m}\,\!
  </annotation>
 </semantics>
</math>

 for which 

<math display="inline" id="Exponential_mechanism_(differential_privacy):138">
 <semantics>
  <mrow>
   <mrow>
    <mi>q</mi>
    <mrow>
     <mo stretchy="false">(</mo>
     <mi>D</mi>
     <mo>,</mo>
     <mover accent="true">
      <mi>D</mi>
      <mo>^</mo>
     </mover>
     <mo stretchy="false">)</mo>
    </mrow>
   </mrow>
   <mo>≥</mo>
   <mrow>
    <mo>-</mo>
    <mrow>
     <mi>α</mi>
     <mo>/</mo>
     <mn>2</mn>
    </mrow>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <geq></geq>
    <apply>
     <times></times>
     <ci>q</ci>
     <interval closure="open">
      <ci>D</ci>
      <apply>
       <ci>normal-^</ci>
       <ci>D</ci>
      </apply>
     </interval>
    </apply>
    <apply>
     <minus></minus>
     <apply>
      <divide></divide>
      <ci>α</ci>
      <cn type="integer">2</cn>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   q(D,\widehat{D})\geq-\alpha/2\,\!
  </annotation>
 </semantics>
</math>

. Therefore, such a dataset is output with probability at least proportional to 

<math display="inline" id="Exponential_mechanism_(differential_privacy):139">
 <semantics>
  <msup>
   <mi>e</mi>
   <mrow>
    <mo>-</mo>
    <mrow>
     <mrow>
      <mi>α</mi>
      <mi>ϵ</mi>
      <mi>n</mi>
     </mrow>
     <mo>/</mo>
     <mn>4</mn>
    </mrow>
   </mrow>
  </msup>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <csymbol cd="ambiguous">superscript</csymbol>
    <ci>e</ci>
    <apply>
     <minus></minus>
     <apply>
      <divide></divide>
      <apply>
       <times></times>
       <ci>α</ci>
       <ci>ϵ</ci>
       <ci>n</ci>
      </apply>
      <cn type="integer">4</cn>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   e^{-\alpha\epsilon n/4}\,\!
  </annotation>
 </semantics>
</math>

.<br/>
Let, 

<math display="inline" id="Exponential_mechanism_(differential_privacy):140">
 <semantics>
  <mrow>
   <mi>A</mi>
   <mo>:=</mo>
   <mi></mi>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <csymbol cd="latexml">assign</csymbol>
    <ci>A</ci>
    <csymbol cd="latexml">absent</csymbol>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   A:=\,\!
  </annotation>
 </semantics>
</math>

 the event that the Exponential mechanism outputs some dataset 

<math display="inline" id="Exponential_mechanism_(differential_privacy):141">
 <semantics>
  <mover accent="true">
   <mi>D</mi>
   <mo>^</mo>
  </mover>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <ci>normal-^</ci>
    <ci>D</ci>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \widehat{D}\,\!
  </annotation>
 </semantics>
</math>

 such that 

<math display="inline" id="Exponential_mechanism_(differential_privacy):142">
 <semantics>
  <mrow>
   <mrow>
    <mi>q</mi>
    <mrow>
     <mo stretchy="false">(</mo>
     <mi>D</mi>
     <mo>,</mo>
     <mover accent="true">
      <mi>D</mi>
      <mo>^</mo>
     </mover>
     <mo stretchy="false">)</mo>
    </mrow>
   </mrow>
   <mo>≥</mo>
   <mrow>
    <mo>-</mo>
    <mrow>
     <mi>α</mi>
     <mo>/</mo>
     <mn>2</mn>
    </mrow>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <geq></geq>
    <apply>
     <times></times>
     <ci>q</ci>
     <interval closure="open">
      <ci>D</ci>
      <apply>
       <ci>normal-^</ci>
       <ci>D</ci>
      </apply>
     </interval>
    </apply>
    <apply>
     <minus></minus>
     <apply>
      <divide></divide>
      <ci>α</ci>
      <cn type="integer">2</cn>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   q(D,\widehat{D})\geq-\alpha/2\,\!
  </annotation>
 </semantics>
</math>

.<br/>


<math display="inline" id="Exponential_mechanism_(differential_privacy):143">
 <semantics>
  <mrow>
   <mi>B</mi>
   <mo>:=</mo>
   <mi></mi>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <csymbol cd="latexml">assign</csymbol>
    <ci>B</ci>
    <csymbol cd="latexml">absent</csymbol>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   B:=\,\!
  </annotation>
 </semantics>
</math>

 the event that the Exponential mechanism outputs some dataset 

<math display="inline" id="Exponential_mechanism_(differential_privacy):144">
 <semantics>
  <mover accent="true">
   <mi>D</mi>
   <mo>^</mo>
  </mover>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <ci>normal-^</ci>
    <ci>D</ci>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \widehat{D}\,\!
  </annotation>
 </semantics>
</math>

 such that 

<math display="inline" id="Exponential_mechanism_(differential_privacy):145">
 <semantics>
  <mrow>
   <mrow>
    <mi>q</mi>
    <mrow>
     <mo stretchy="false">(</mo>
     <mi>D</mi>
     <mo>,</mo>
     <mover accent="true">
      <mi>D</mi>
      <mo>^</mo>
     </mover>
     <mo stretchy="false">)</mo>
    </mrow>
   </mrow>
   <mo>≤</mo>
   <mrow>
    <mo>-</mo>
    <mi>α</mi>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <leq></leq>
    <apply>
     <times></times>
     <ci>q</ci>
     <interval closure="open">
      <ci>D</ci>
      <apply>
       <ci>normal-^</ci>
       <ci>D</ci>
      </apply>
     </interval>
    </apply>
    <apply>
     <minus></minus>
     <ci>α</ci>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   q(D,\widehat{D})\leq-\alpha\,\!
  </annotation>
 </semantics>
</math>

.</p>

<p>

<math display="block" id="Exponential_mechanism_(differential_privacy):146">
 <semantics>
  <mrow>
   <mrow>
    <mi></mi>
    <mo>∴</mo>
    <mrow>
     <mfrac>
      <mrow>
       <mi>Pr</mi>
       <mrow>
        <mo stretchy="false">[</mo>
        <mi>A</mi>
        <mo stretchy="false">]</mo>
       </mrow>
      </mrow>
      <mrow>
       <mi>Pr</mi>
       <mrow>
        <mo stretchy="false">[</mo>
        <mi>B</mi>
        <mo stretchy="false">]</mo>
       </mrow>
      </mrow>
     </mfrac>
     <mo>≥</mo>
     <mfrac>
      <msup>
       <mi>e</mi>
       <mrow>
        <mo>-</mo>
        <mrow>
         <mrow>
          <mi>α</mi>
          <mi>ϵ</mi>
          <mi>n</mi>
         </mrow>
         <mo>/</mo>
         <mn>4</mn>
        </mrow>
       </mrow>
      </msup>
      <mrow>
       <msup>
        <mn>2</mn>
        <mrow>
         <mi>k</mi>
         <mi>m</mi>
        </mrow>
       </msup>
       <msup>
        <mi>e</mi>
        <mrow>
         <mo>-</mo>
         <mrow>
          <mrow>
           <mi>α</mi>
           <mi>ϵ</mi>
           <mi>n</mi>
          </mrow>
          <mo>/</mo>
          <mn>2</mn>
         </mrow>
        </mrow>
       </msup>
      </mrow>
     </mfrac>
     <mo>=</mo>
     <mfrac>
      <msup>
       <mi>e</mi>
       <mrow>
        <mrow>
         <mi>α</mi>
         <mi>ϵ</mi>
         <mi>n</mi>
        </mrow>
        <mo>/</mo>
        <mn>4</mn>
       </mrow>
      </msup>
      <msup>
       <mn>2</mn>
       <mrow>
        <mi>k</mi>
        <mi>m</mi>
       </mrow>
      </msup>
     </mfrac>
    </mrow>
   </mrow>
   <mo>.</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <csymbol cd="latexml">therefore</csymbol>
    <csymbol cd="latexml">absent</csymbol>
    <apply>
     <and></and>
     <apply>
      <geq></geq>
      <apply>
       <divide></divide>
       <apply>
        <ci>Pr</ci>
        <ci>A</ci>
       </apply>
       <apply>
        <ci>Pr</ci>
        <ci>B</ci>
       </apply>
      </apply>
      <apply>
       <divide></divide>
       <apply>
        <csymbol cd="ambiguous">superscript</csymbol>
        <ci>e</ci>
        <apply>
         <minus></minus>
         <apply>
          <divide></divide>
          <apply>
           <times></times>
           <ci>α</ci>
           <ci>ϵ</ci>
           <ci>n</ci>
          </apply>
          <cn type="integer">4</cn>
         </apply>
        </apply>
       </apply>
       <apply>
        <times></times>
        <apply>
         <csymbol cd="ambiguous">superscript</csymbol>
         <cn type="integer">2</cn>
         <apply>
          <times></times>
          <ci>k</ci>
          <ci>m</ci>
         </apply>
        </apply>
        <apply>
         <csymbol cd="ambiguous">superscript</csymbol>
         <ci>e</ci>
         <apply>
          <minus></minus>
          <apply>
           <divide></divide>
           <apply>
            <times></times>
            <ci>α</ci>
            <ci>ϵ</ci>
            <ci>n</ci>
           </apply>
           <cn type="integer">2</cn>
          </apply>
         </apply>
        </apply>
       </apply>
      </apply>
     </apply>
     <apply>
      <eq></eq>
      <share href="#.cmml">
      </share>
      <apply>
       <divide></divide>
       <apply>
        <csymbol cd="ambiguous">superscript</csymbol>
        <ci>e</ci>
        <apply>
         <divide></divide>
         <apply>
          <times></times>
          <ci>α</ci>
          <ci>ϵ</ci>
          <ci>n</ci>
         </apply>
         <cn type="integer">4</cn>
        </apply>
       </apply>
       <apply>
        <csymbol cd="ambiguous">superscript</csymbol>
        <cn type="integer">2</cn>
        <apply>
         <times></times>
         <ci>k</ci>
         <ci>m</ci>
        </apply>
       </apply>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \therefore\frac{\Pr[A]}{\Pr[B]}\geq\frac{e^{-\alpha\epsilon n/4}}{2^{km}e^{-%
\alpha\epsilon n/2}}=\frac{e^{\alpha\epsilon n/4}}{2^{km}}.\,\!
  </annotation>
 </semantics>
</math>

 Now setting this quantity to be at least 

<math display="inline" id="Exponential_mechanism_(differential_privacy):147">
 <semantics>
  <mrow>
   <mrow>
    <mn>1</mn>
    <mo>/</mo>
    <mi>δ</mi>
   </mrow>
   <mo>≥</mo>
   <mrow>
    <mrow>
     <mo stretchy="false">(</mo>
     <mrow>
      <mn>1</mn>
      <mo>-</mo>
      <mi>δ</mi>
     </mrow>
     <mo stretchy="false">)</mo>
    </mrow>
    <mo>/</mo>
    <mi>δ</mi>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <geq></geq>
    <apply>
     <divide></divide>
     <cn type="integer">1</cn>
     <ci>δ</ci>
    </apply>
    <apply>
     <divide></divide>
     <apply>
      <minus></minus>
      <cn type="integer">1</cn>
      <ci>δ</ci>
     </apply>
     <ci>δ</ci>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   1/\delta\geq(1-\delta)/\delta\,\!
  </annotation>
 </semantics>
</math>

, we find that it suffices to have</p>

<p>

<math display="block" id="Exponential_mechanism_(differential_privacy):148">
 <semantics>
  <mrow>
   <mi>n</mi>
   <mo>≥</mo>
   <mrow>
    <mfrac>
     <mn>4</mn>
     <mrow>
      <mi>ϵ</mi>
      <mi>α</mi>
     </mrow>
    </mfrac>
    <mrow>
     <mo>(</mo>
     <mrow>
      <mrow>
       <mi>k</mi>
       <mi>m</mi>
      </mrow>
      <mo>+</mo>
      <mrow>
       <mi>l</mi>
       <mi>n</mi>
       <mfrac>
        <mn>1</mn>
        <mi>δ</mi>
       </mfrac>
      </mrow>
     </mrow>
     <mo>)</mo>
    </mrow>
   </mrow>
   <mo>≥</mo>
   <mrow>
    <mi>O</mi>
    <mrow>
     <mo>(</mo>
     <mrow>
      <mfrac>
       <mrow>
        <mrow>
         <mi>d</mi>
         <mo>⋅</mo>
         <mi>V</mi>
        </mrow>
        <mi>C</mi>
        <mi>D</mi>
        <mi>I</mi>
        <mi>M</mi>
        <mrow>
         <mo stretchy="false">(</mo>
         <mi>H</mi>
         <mo stretchy="false">)</mo>
        </mrow>
        <mrow>
         <mi>log</mi>
         <mrow>
          <mo stretchy="false">(</mo>
          <mrow>
           <mn>1</mn>
           <mo>/</mo>
           <mi>α</mi>
          </mrow>
          <mo stretchy="false">)</mo>
         </mrow>
        </mrow>
       </mrow>
       <mrow>
        <msup>
         <mi>α</mi>
         <mn>3</mn>
        </msup>
        <mi>ϵ</mi>
       </mrow>
      </mfrac>
      <mo>+</mo>
      <mfrac>
       <mrow>
        <mi>log</mi>
        <mrow>
         <mo stretchy="false">(</mo>
         <mrow>
          <mn>1</mn>
          <mo>/</mo>
          <mi>δ</mi>
         </mrow>
         <mo stretchy="false">)</mo>
        </mrow>
       </mrow>
       <mrow>
        <mi>α</mi>
        <mi>ϵ</mi>
       </mrow>
      </mfrac>
     </mrow>
     <mo>)</mo>
    </mrow>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <and></and>
    <apply>
     <geq></geq>
     <ci>n</ci>
     <apply>
      <times></times>
      <apply>
       <divide></divide>
       <cn type="integer">4</cn>
       <apply>
        <times></times>
        <ci>ϵ</ci>
        <ci>α</ci>
       </apply>
      </apply>
      <apply>
       <plus></plus>
       <apply>
        <times></times>
        <ci>k</ci>
        <ci>m</ci>
       </apply>
       <apply>
        <times></times>
        <ci>l</ci>
        <ci>n</ci>
        <apply>
         <divide></divide>
         <cn type="integer">1</cn>
         <ci>δ</ci>
        </apply>
       </apply>
      </apply>
     </apply>
    </apply>
    <apply>
     <geq></geq>
     <share href="#.cmml">
     </share>
     <apply>
      <times></times>
      <ci>O</ci>
      <apply>
       <plus></plus>
       <apply>
        <divide></divide>
        <apply>
         <times></times>
         <apply>
          <ci>normal-⋅</ci>
          <ci>d</ci>
          <ci>V</ci>
         </apply>
         <ci>C</ci>
         <ci>D</ci>
         <ci>I</ci>
         <ci>M</ci>
         <ci>H</ci>
         <apply>
          <log></log>
          <apply>
           <divide></divide>
           <cn type="integer">1</cn>
           <ci>α</ci>
          </apply>
         </apply>
        </apply>
        <apply>
         <times></times>
         <apply>
          <csymbol cd="ambiguous">superscript</csymbol>
          <ci>α</ci>
          <cn type="integer">3</cn>
         </apply>
         <ci>ϵ</ci>
        </apply>
       </apply>
       <apply>
        <divide></divide>
        <apply>
         <log></log>
         <apply>
          <divide></divide>
          <cn type="integer">1</cn>
          <ci>δ</ci>
         </apply>
        </apply>
        <apply>
         <times></times>
         <ci>α</ci>
         <ci>ϵ</ci>
        </apply>
       </apply>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   n\geq\frac{4}{\epsilon\alpha}\left(km+ln\frac{1}{\delta}\right)\geq O\left(%
\frac{d\cdot VCDIM(H)\log(1/\alpha)}{\alpha^{3}\epsilon}+\frac{\log(1/\delta)}%
{\alpha\epsilon}\right)\,\!
  </annotation>
 </semantics>
</math>

. And hence we prove the theorem.</p>
<h2 id="the-exponential-mechanism-in-other-domains">The Exponential Mechanism in other domains</h2>

<p>We just showed an example of the usage of Exponential Mechanism where one can output a synthetic dataset in a differentially private manner and can use the dataset to answer queries with good accuracy. Other private mechanisms, such as posterior sampling,<a class="footnoteRef" href="#fn3" id="fnref3"><sup>3</sup></a> which returns parameters rather than datasets, can be made equivalent to the exponential one.<a class="footnoteRef" href="#fn4" id="fnref4"><sup>4</sup></a></p>

<p>Apart from the setting of privacy, the exponential mechanism has also been studied in the context of <a href="auction_theory" title="wikilink">auction theory</a> and <a href="Statistical_classification" title="wikilink">classification algorithms</a>.<a class="footnoteRef" href="#fn5" id="fnref5"><sup>5</sup></a> In the case of auctions the exponential mechanism helps to achieve a <em>truthful</em> auction setting.</p>
<h2 id="references">References</h2>
<h2 id="external-links">External links</h2>
<ul>
<li><a href="http://www.cis.upenn.edu/~aaroth/Papers/privacybook.pdf">The Algorithmic Foundations of Differential Privacy</a> by Cynthia Dwork and Aaron Roth, 2014.</li>
</ul>

<p>"</p>

<p><a href="Category:Information_privacy" title="wikilink">Category:Information privacy</a> <a href="Category:Theory_of_cryptography" title="wikilink">Category:Theory of cryptography</a> <a href="Category:Applied_probability" title="wikilink">Category:Applied probability</a></p>
<section class="footnotes">
<hr/>
<ol>
<li id="fn1"><a href="http://research.microsoft.com/pubs/65075/mdviadp.pdf">F.McSherry and K.Talwar. Mechasim Design via Differential Privacy. Proceedings of the 48th Annual Symposium of Foundations of Computer Science, 2007.</a><a href="#fnref1">↩</a></li>
<li id="fn2"><a href="http://www.cs.cmu.edu/~alroth/Papers/dataprivacy.pdf">Avrim Blum,Katrina Ligett,Aaron Roth. A Learning Theory Approach to Non-Iteractive Database Privacy.In Proceedings of the 40th annual ACM symposium on Theory of computing, 2008</a><a href="#fnref2">↩</a></li>
<li id="fn3"><a href="http://arxiv.org/abs/1306.1066">Christos Dimitrakakis, Blaine Nelson, Aikaterini Mitrokotsa, Benjamin Rubinstein. Robust and Private Bayesian Inference. Algorithmic Learning Theory 2014</a><a href="#fnref3">↩</a></li>
<li id="fn4"><a href="http://arxiv.org/abs/1502.07645">Yu-Xiang Wang, Stephen E. Fienberg, Alex Smola Privacy for Free: Posterior Sampling and Stochastic Gradient Monte Carlo. International Conference on Machine Learning, 2015.</a><a href="#fnref4">↩</a></li>
<li id="fn5"><a href="http://arxiv.org/abs/0803.0924v2">Shiva Prasad Kasiviswanathan, Homin K. Lee, Kobbi Nissim,Sofya Raskhodnikova, Adam Smith. What Can We Learn Privately? Proceedings of the 2008 49th Annual IEEE Symposium on Foundations of Computer Science.</a><a href="#fnref5">↩</a></li>
</ol>
</section>
</body>
</html>
