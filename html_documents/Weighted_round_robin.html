<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title offset="352">Weighted round robin</title>
   <script type="text/javascript"
      src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_SVG.js">
    </script>
</head>
<body>
<h1>Weighted round robin</h1>
<hr/>
<p><strong>Weighted round robin</strong> (<strong>WRR</strong>) is a <a href="Network_scheduler" title="wikilink">network scheduling</a> discipline. Each packet <a href="flow_(computer_networking)" title="wikilink">flow</a> or connection has its own packet queue in a <a href="network_interface_card" title="wikilink">network interface card</a>. It is the simplest approximation of <a href="generalized_processor_sharing" title="wikilink">generalized processor sharing</a> (GPS). While GPS serves infinitesimal amounts of data from each nonempty queue, WRR serves a number of <a href="packet_(information_technology)" title="wikilink">packets</a> for each nonempty queue<span class="LaTeX">$$number = normalized( weight / mean packet size )$$</span>.</p>
<h2 id="algorithm">Algorithm</h2>
<p>WRR mechanism (pseudo-code):</p>
<p><code>// calculate number of packets to be served each round by connections</code><br/>
<br/>
<code>for each flow f</code><br/>
<code>   f.normalized_weight = f.weight / f.mean_packet_size</code><br/>
<br/>
<code>min = findSmallestNormalizedWeight</code><br/>
<br/>
<code>for each flow f</code><br/>
<code>   f.packets_to_be_served = f.normalized_weight / min</code><br/>
<br/>
<code>// main loop</code><br/>
<code>loop</code><br/>
<code>   for each non-empty flow queue f</code><br/>
<code>      min(f.packets_to_be_served, f.packets_waiting).times do</code><br/>
<code>         servePacket f.getPacket</code></p>
<h2 id="limitations-and-improvements">Limitations and Improvements</h2>
<p>WRR for network packet scheduling was first proposed by Katevenis, Sidiropoulos and Courcoubetis in 1991, specifically for scheduling in ATM networks using fixed size packets (cells). In the more general case of <a href="IP_network" title="wikilink">IP networks</a> with variable size packets, in order to approximate GPS the weight factors must be normalized. That requires estimation of the mean packet size, which makes a good GPS approximation hard to achieve in practice with WRR.</p>
<p><a href="Deficit_round_robin" title="wikilink">Deficit round robin</a> is a later variation of WRR that achieves better GPS approximation without knowing the mean packet size of each connection in advance. More effective scheduling disciplines were also introduced which handle the limitations mentioned above (e.g. <a href="weighted_fair_queuing" title="wikilink">weighted fair queuing</a>).</p>
<h2 id="references">References</h2>
<ul>
<li>Manolis Katevenis, Stefanos Sidiropoulos, Costas Courcoubetis, "[<a class="uri" href="http://ieeexplore.ieee.org/xpl/login.jsp?tp">http://ieeexplore.ieee.org/xpl/login.jsp?tp</a>=&arnumber;=105173&url;=http%3A%2F%2Fieeexplore.ieee.org%2Fxpls%2Fabs_all.jsp%3Farnumber%3D105173 Weighted round-robin cell multiplexing in a general-purpose ATM switch chip]", IEEE Journal on Selected Areas in Communications, (Vol. 9, Issue:8), October 1991</li>
</ul>
<p>"</p>
<p><a href="Category:Network_scheduling_algorithms" title="wikilink">Category:Network scheduling algorithms</a></p>
</body>
</html>
