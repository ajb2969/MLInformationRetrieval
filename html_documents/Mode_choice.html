<html lang="en">
<head>
<meta charset="utf-8"/>
<title offset="360">Mode choice</title>
<script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_SVG.js" type="text/javascript">
</script>
</head>
<body>
<h1>Mode choice</h1>
<hr/>

<p><strong>Mode choice analysis</strong> is the third step in the conventional four-step <a href="transportation_forecasting" title="wikilink">transportation forecasting</a> model. The steps, in order, are <a href="trip_generation" title="wikilink">trip generation</a>, <a href="trip_distribution" title="wikilink">trip distribution</a>, mode choice analysis, and <a href="route_assignment" title="wikilink">route assignment</a>. Trip distribution's zonal interchange analysis yields a set of origin destination tables that tells where the trips will be made. Mode choice analysis allows the modeler to determine what <a href="mode_of_transport" title="wikilink">mode of transport</a> will be used, and what <a href="modal_share" title="wikilink">modal share</a> results.</p>

<p>The early <a class="uri" href="transportation" title="wikilink">transportation</a> planning model developed by the <a href="Chicago_Area_Transportation_Study" title="wikilink">Chicago Area Transportation Study</a> (CATS) focused on <a href="Public_transport" title="wikilink">transit</a>. It wanted to know how much travel would continue by transit. The CATS divided transit trips into two classes: trips to the <a href="Central_Business_District" title="wikilink">Central Business District</a>, or CBD (mainly by subway/elevated transit, express buses, and commuter trains) and other (mainly on the local bus system). For the latter, increases in auto ownership and use were a trade-off against bus use; trend data were used. CBD travel was analyzed using historic mode choice data together with projections of CBD land uses. Somewhat similar techniques were used in many studies. Two decades after CATS, for example, the London study followed essentially the same procedure, but in this case, researchers first divided trips into those made in the inner part of the city and those in the outer part. This procedure was followed because it was thought that income (resulting in the purchase and use of automobiles) drove mode choice.</p>
<h2 id="diversion-curve-techniques">Diversion curve techniques</h2>

<p>The CATS had diversion curve techniques available and used them for some tasks. At first, the CATS studied the diversion of auto traffic from streets and arterial roads to proposed expressways. Diversion curves were also used for bypasses built around cities to find out what percent of traffic would use the bypass. The mode choice version of diversion curve analysis proceeds this way: one forms a ratio, say:</p>

<p>

<math display="block" id="Mode_choice:0">
 <semantics>
  <mrow>
   <mfrac>
    <msub>
     <mi>c</mi>
     <mtext>transit</mtext>
    </msub>
    <msub>
     <mi>c</mi>
     <mtext>auto</mtext>
    </msub>
   </mfrac>
   <mo>=</mo>
   <mi>R</mi>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <divide></divide>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <ci>c</ci>
      <mtext>transit</mtext>
     </apply>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <ci>c</ci>
      <mtext>auto</mtext>
     </apply>
    </apply>
    <ci>R</ci>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \frac{c_{\text{transit}}}{c_{\text{auto}}}=R
  </annotation>
 </semantics>
</math>

</p>

<p>where:</p>
<dl>
<dd><em>c<sub>m</sub></em> = travel time by mode <em>m</em> and
</dd>
<dd><em>R</em> is empirical data in the form:
</dd>
</dl>
<figure><b>(Figure)</b>
<figcaption>Figure: Mode choice diversion curve</figcaption>
</figure>

<p>Given the <em>R</em> that we have calculated, the graph tells us the percent of users in the market that will choose transit. A variation on the technique is to use costs rather than time in the diversion ratio. The decision to use a time or cost ratio turns on the problem at hand. Transit agencies developed diversion curves for different kinds of situations, so variables like income and population density entered implicitly.</p>

<p>Diversion curves are based on empirical observations, and their improvement has resulted from better (more and more pointed) data. Curves are available for many markets. It is not difficult to obtain data and array results. Expansion of transit has motivated data development by operators and planners. <a href="Yacov_Zahavi" title="wikilink">Yacov Zahavi</a>’s UMOT studies, discussed earlier, contain many examples of diversion curves.</p>

<p>In a sense, diversion curve analysis is <a href="expert_system" title="wikilink">expert system</a> analysis. Planners could "eyeball" neighborhoods and estimate transit ridership by routes and time of day. Instead, diversion is observed empirically and charts drawn.</p>
<h2 id="disaggregate-travel-demand-models">Disaggregate travel demand models</h2>

<p>Travel demand theory was introduced in the appendix on traffic generation. The core of the field is the set of models developed following work by <a href="Stan_Warner" title="wikilink">Stan Warner</a> in 1962 (Strategic Choice of Mode in Urban Travel: A Study of Binary Choice). Using data from the CATS, Warner investigated classification techniques using models from biology and psychology. Building from Warner and other early investigators, disaggregate demand models emerged. Analysis is disaggregate in that individuals are the basic units of observation, yet aggregate because models yield a single set of parameters describing the choice behavior of the population. Behavior enters because the theory made use of consumer behavior concepts from economics and parts of choice behavior concepts from psychology. Researchers at the <a href="University_of_California,_Berkeley" title="wikilink">University of California, Berkeley</a> (especially <a href="Daniel_McFadden" title="wikilink">Daniel McFadden</a>, who won a <a href="Bank_of_Sweden_Prize_in_Economic_Sciences_in_Memory_of_Alfred_Nobel" title="wikilink">Nobel Prize in Economics</a> for his efforts) and the <a href="Massachusetts_Institute_of_Technology" title="wikilink">Massachusetts Institute of Technology</a> (<a href="Moshe_Ben-Akiva" title="wikilink">Moshe Ben-Akiva</a>) (and in MIT associated consulting firms, especially <a href="Cambridge_Systematics" title="wikilink">Cambridge Systematics</a>) developed what has become known as choice models, direct demand models (DDM), Random Utility Models (RUM) or, in its most used form, the multinomial logit model (MNL).</p>

<p>Choice models have attracted a lot of attention and work; the Proceedings of the <a href="International_Association_for_Travel_Behavior_Research" title="wikilink">International Association for Travel Behavior Research</a> chronicles the evolution of the models. The models are treated in modern transportation planning and transportation engineering textbooks.</p>

<p>One reason for rapid model development was a felt need. Systems were being proposed (especially transit systems) where no empirical experience of the type used in diversion curves was available. Choice models permit comparison of more than two alternatives and the importance of attributes of alternatives. There was the general desire for an analysis technique that depended less on aggregate analysis and with a greater behavioral content. And there was attraction, too, because choice models have logical and behavioral roots extended back to the 1920s as well as roots in <a href="Kelvin_Lancaster" title="wikilink">Kelvin Lancaster</a>’s <a href="consumer_behavior_theory" title="wikilink">consumer behavior theory</a>, in <a href="utility_theory" title="wikilink">utility theory</a>, and in modern <a href="statistics" title="wikilink">statistical</a> methods.</p>
<h2 id="psychological-roots">Psychological roots</h2>
<figure><b>(Figure)</b>
<figcaption>Distribution of perceived weights</figcaption>
</figure>

<p>Early psychology work involved the typical experiment: Here are two objects with weights, <em>w<sub>1</sub></em> and <em>w<sub>2</sub></em>, which is heavier? The finding from such an experiment would be that the greater the difference in weight, the greater the probability of choosing correctly. Graphs similar to the one on the right result.</p>

<p><a href="Louis_Leon_Thurstone" title="wikilink">Louis Leon Thurstone</a> proposed (in the 1920s) that perceived weight,</p>
<dl>
<dd><em>w</em> = <em>v</em> + <em>e</em>,
</dd>
</dl>

<p>where <em>v</em> is the true weight and <em>e</em> is random with</p>
<dl>
<dd><em>E</em>(<em>e</em>) = 0.
</dd>
</dl>

<p>The assumption that <em>e</em> is normally and identically distributed (NID) yields the binary probit model.</p>
<h2 id="econometric-formulation">Econometric formulation</h2>

<p>Economists deal with utility rather than physical weights, and say that</p>
<dl>
<dd>observed utility = mean utility + random term.
</dd>
</dl>

<p>The characteristics of the object, x, must be considered, so we have</p>
<dl>
<dd><em>u</em>(<em>x</em>) = <em>v</em>(<em>x</em>) + <em>e</em>(<em>x</em>).
</dd>
</dl>

<p>If we follow Thurston's assumption, we again have a <a class="uri" href="probit" title="wikilink">probit</a> model.</p>

<p>An alternative is to assume that the <a href="errors_and_residuals_in_statistics" title="wikilink">error terms</a> are <a href="Independent_identically-distributed_random_variables" title="wikilink">independently and identically distributed</a> with a <a href="Fisher–Tippett_distribution" title="wikilink">Weibull</a>, <a href="Fisher–Tippett_distribution" title="wikilink">Gumbel Type I</a>, or <a href="Gumbel_distribution" title="wikilink">double exponential distribution</a>. (They are much the same, and differ slightly in their tails (thicker) from the <a href="normal_distribution" title="wikilink">normal distribution</a>). This yields the multinomial <a href="logit_model" title="wikilink">logit model</a> (MNL). Daniel McFadden argued that the Weibull had desirable properties compared to other distributions that might be used. Among other things, the error terms are normally and identically distributed. The logit model is simply a <a href="log_ratio" title="wikilink">log ratio</a> of the probability of choosing a mode to the probability of not choosing a mode.</p>

<p>

<math display="block" id="Mode_choice:1">
 <semantics>
  <mrow>
   <mrow>
    <mi>log</mi>
    <mrow>
     <mo>(</mo>
     <mfrac>
      <msub>
       <mi>P</mi>
       <mi>i</mi>
      </msub>
      <mrow>
       <mn>1</mn>
       <mo>-</mo>
       <msub>
        <mi>P</mi>
        <mi>i</mi>
       </msub>
      </mrow>
     </mfrac>
     <mo>)</mo>
    </mrow>
   </mrow>
   <mo>=</mo>
   <mrow>
    <mi>v</mi>
    <mrow>
     <mo stretchy="false">(</mo>
     <msub>
      <mi>x</mi>
      <mi>i</mi>
     </msub>
     <mo stretchy="false">)</mo>
    </mrow>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <log></log>
     <apply>
      <divide></divide>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>P</ci>
       <ci>i</ci>
      </apply>
      <apply>
       <minus></minus>
       <cn type="integer">1</cn>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>P</ci>
        <ci>i</ci>
       </apply>
      </apply>
     </apply>
    </apply>
    <apply>
     <times></times>
     <ci>v</ci>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <ci>x</ci>
      <ci>i</ci>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \log\left(\frac{P_{i}}{1-P_{i}}\right)=v(x_{i})
  </annotation>
 </semantics>
</math>

</p>

<p>Observe the mathematical similarity between the logit model and the S-curves we estimated earlier, although here share increases with utility rather than time. With a choice model we are explaining the share of travelers using a mode (or the probability that an individual traveler uses a mode multiplied by the number of travelers).</p>

<p>The comparison with S-curves is suggestive that modes (or technologies) get adopted as their utility increases, which happens over time for several reasons. First, because the utility itself is a function of <a href="network_effect" title="wikilink">network effects</a>, the more users, the more valuable the service, higher the utility associated with joining the network. Second because utility increases as user costs drop, which happens when fixed costs can be spread over more users (another network effect). Third technological advances, which occur over time and as the number of users increases, drive down relative cost.</p>

<p>An illustration of a utility expression is given:</p>

<p>

<math display="block" id="Mode_choice:2">
 <semantics>
  <mrow>
   <mrow>
    <mi>log</mi>
    <mrow>
     <mo>(</mo>
     <mfrac>
      <msub>
       <mi>P</mi>
       <mi>A</mi>
      </msub>
      <mrow>
       <mn>1</mn>
       <mo>-</mo>
       <msub>
        <mi>P</mi>
        <mi>A</mi>
       </msub>
      </mrow>
     </mfrac>
     <mo>)</mo>
    </mrow>
   </mrow>
   <mo>=</mo>
   <mrow>
    <msub>
     <mi>β</mi>
     <mn>0</mn>
    </msub>
    <mo>+</mo>
    <mrow>
     <msub>
      <mi>β</mi>
      <mn>1</mn>
     </msub>
     <mrow>
      <mo>(</mo>
      <mrow>
       <msub>
        <mi>c</mi>
        <mi>A</mi>
       </msub>
       <mo>-</mo>
       <msub>
        <mi>c</mi>
        <mi>T</mi>
       </msub>
      </mrow>
      <mo>)</mo>
     </mrow>
    </mrow>
    <mo>+</mo>
    <mrow>
     <msub>
      <mi>β</mi>
      <mn>2</mn>
     </msub>
     <mrow>
      <mo>(</mo>
      <mrow>
       <msub>
        <mi>t</mi>
        <mi>A</mi>
       </msub>
       <mo>-</mo>
       <msub>
        <mi>t</mi>
        <mi>T</mi>
       </msub>
      </mrow>
      <mo>)</mo>
     </mrow>
    </mrow>
    <mo>+</mo>
    <mrow>
     <msub>
      <mi>β</mi>
      <mn>3</mn>
     </msub>
     <mi>I</mi>
    </mrow>
    <mo>+</mo>
    <mrow>
     <msub>
      <mi>β</mi>
      <mn>4</mn>
     </msub>
     <mi>N</mi>
    </mrow>
   </mrow>
   <mo>=</mo>
   <msub>
    <mi>v</mi>
    <mi>A</mi>
   </msub>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <and></and>
    <apply>
     <eq></eq>
     <apply>
      <log></log>
      <apply>
       <divide></divide>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>P</ci>
        <ci>A</ci>
       </apply>
       <apply>
        <minus></minus>
        <cn type="integer">1</cn>
        <apply>
         <csymbol cd="ambiguous">subscript</csymbol>
         <ci>P</ci>
         <ci>A</ci>
        </apply>
       </apply>
      </apply>
     </apply>
     <apply>
      <plus></plus>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>β</ci>
       <cn type="integer">0</cn>
      </apply>
      <apply>
       <times></times>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>β</ci>
        <cn type="integer">1</cn>
       </apply>
       <apply>
        <minus></minus>
        <apply>
         <csymbol cd="ambiguous">subscript</csymbol>
         <ci>c</ci>
         <ci>A</ci>
        </apply>
        <apply>
         <csymbol cd="ambiguous">subscript</csymbol>
         <ci>c</ci>
         <ci>T</ci>
        </apply>
       </apply>
      </apply>
      <apply>
       <times></times>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>β</ci>
        <cn type="integer">2</cn>
       </apply>
       <apply>
        <minus></minus>
        <apply>
         <csymbol cd="ambiguous">subscript</csymbol>
         <ci>t</ci>
         <ci>A</ci>
        </apply>
        <apply>
         <csymbol cd="ambiguous">subscript</csymbol>
         <ci>t</ci>
         <ci>T</ci>
        </apply>
       </apply>
      </apply>
      <apply>
       <times></times>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>β</ci>
        <cn type="integer">3</cn>
       </apply>
       <ci>I</ci>
      </apply>
      <apply>
       <times></times>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>β</ci>
        <cn type="integer">4</cn>
       </apply>
       <ci>N</ci>
      </apply>
     </apply>
    </apply>
    <apply>
     <eq></eq>
     <share href="#.cmml">
     </share>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <ci>v</ci>
      <ci>A</ci>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \log\left(\frac{P_{A}}{1-P_{A}}\right)=\beta_{0}+\beta_{1}\left(c_{A}-c_{T}%
\right)+\beta_{2}\left(t_{A}-t_{T}\right)+\beta_{3}I+\beta_{4}N=v_{A}
  </annotation>
 </semantics>
</math>

</p>

<p>where</p>
<dl>
<dd><em>P<sub>i</sub></em> = Probability of choosing mode i.
</dd>
<dd><em>P<sub>A</sub></em> = Probability of taking auto
</dd>
<dd><em>c<sub>A</sub>,c<sub>T</sub></em> = cost of auto, transit
</dd>
<dd><em>t<sub>A</sub>,t<sub>T</sub></em> = travel time of auto, transit
</dd>
<dd><em>I</em> = income
</dd>
<dd><em>N</em> = Number of travelers
</dd>
</dl>

<p>With algebra, the model can be translated to its most widely used form:</p>

<p>

<math display="block" id="Mode_choice:3">
 <semantics>
  <mrow>
   <mfrac>
    <msub>
     <mi>P</mi>
     <mi>A</mi>
    </msub>
    <mrow>
     <mn>1</mn>
     <mo>-</mo>
     <msub>
      <mi>P</mi>
      <mi>A</mi>
     </msub>
    </mrow>
   </mfrac>
   <mo>=</mo>
   <msup>
    <mi>e</mi>
    <msub>
     <mi>v</mi>
     <mi>A</mi>
    </msub>
   </msup>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <divide></divide>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <ci>P</ci>
      <ci>A</ci>
     </apply>
     <apply>
      <minus></minus>
      <cn type="integer">1</cn>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>P</ci>
       <ci>A</ci>
      </apply>
     </apply>
    </apply>
    <apply>
     <csymbol cd="ambiguous">superscript</csymbol>
     <ci>e</ci>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <ci>v</ci>
      <ci>A</ci>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \frac{P_{A}}{1-P_{A}}=e^{v_{A}}
  </annotation>
 </semantics>
</math>

</p>

<p>

<math display="block" id="Mode_choice:4">
 <semantics>
  <mrow>
   <msub>
    <mi>P</mi>
    <mi>A</mi>
   </msub>
   <mo>=</mo>
   <mrow>
    <msup>
     <mi>e</mi>
     <msub>
      <mi>v</mi>
      <mi>A</mi>
     </msub>
    </msup>
    <mo>-</mo>
    <mrow>
     <msub>
      <mi>P</mi>
      <mi>A</mi>
     </msub>
     <msup>
      <mi>e</mi>
      <msub>
       <mi>v</mi>
       <mi>A</mi>
      </msub>
     </msup>
    </mrow>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <csymbol cd="ambiguous">subscript</csymbol>
     <ci>P</ci>
     <ci>A</ci>
    </apply>
    <apply>
     <minus></minus>
     <apply>
      <csymbol cd="ambiguous">superscript</csymbol>
      <ci>e</ci>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>v</ci>
       <ci>A</ci>
      </apply>
     </apply>
     <apply>
      <times></times>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>P</ci>
       <ci>A</ci>
      </apply>
      <apply>
       <csymbol cd="ambiguous">superscript</csymbol>
       <ci>e</ci>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>v</ci>
        <ci>A</ci>
       </apply>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   P_{A}=e^{v_{A}}-P_{A}e^{v_{A}}
  </annotation>
 </semantics>
</math>

</p>

<p>

<math display="block" id="Mode_choice:5">
 <semantics>
  <mrow>
   <mrow>
    <msub>
     <mi>P</mi>
     <mi>A</mi>
    </msub>
    <mrow>
     <mo>(</mo>
     <mrow>
      <mn>1</mn>
      <mo>+</mo>
      <msup>
       <mi>e</mi>
       <msub>
        <mi>v</mi>
        <mi>A</mi>
       </msub>
      </msup>
     </mrow>
     <mo>)</mo>
    </mrow>
   </mrow>
   <mo>=</mo>
   <msup>
    <mi>e</mi>
    <msub>
     <mi>v</mi>
     <mi>A</mi>
    </msub>
   </msup>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <times></times>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <ci>P</ci>
      <ci>A</ci>
     </apply>
     <apply>
      <plus></plus>
      <cn type="integer">1</cn>
      <apply>
       <csymbol cd="ambiguous">superscript</csymbol>
       <ci>e</ci>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>v</ci>
        <ci>A</ci>
       </apply>
      </apply>
     </apply>
    </apply>
    <apply>
     <csymbol cd="ambiguous">superscript</csymbol>
     <ci>e</ci>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <ci>v</ci>
      <ci>A</ci>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   P_{A}\left(1+e^{v_{A}}\right)=e^{v_{A}}
  </annotation>
 </semantics>
</math>

</p>

<p>

<math display="block" id="Mode_choice:6">
 <semantics>
  <mrow>
   <msub>
    <mi>P</mi>
    <mi>A</mi>
   </msub>
   <mo>=</mo>
   <mfrac>
    <msup>
     <mi>e</mi>
     <msub>
      <mi>v</mi>
      <mi>A</mi>
     </msub>
    </msup>
    <mrow>
     <mn>1</mn>
     <mo>+</mo>
     <msup>
      <mi>e</mi>
      <msub>
       <mi>v</mi>
       <mi>A</mi>
      </msub>
     </msup>
    </mrow>
   </mfrac>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <csymbol cd="ambiguous">subscript</csymbol>
     <ci>P</ci>
     <ci>A</ci>
    </apply>
    <apply>
     <divide></divide>
     <apply>
      <csymbol cd="ambiguous">superscript</csymbol>
      <ci>e</ci>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>v</ci>
       <ci>A</ci>
      </apply>
     </apply>
     <apply>
      <plus></plus>
      <cn type="integer">1</cn>
      <apply>
       <csymbol cd="ambiguous">superscript</csymbol>
       <ci>e</ci>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>v</ci>
        <ci>A</ci>
       </apply>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   P_{A}=\frac{e^{v_{A}}}{1+e^{v_{A}}}
  </annotation>
 </semantics>
</math>

</p>

<p>It is fair to make two conflicting statements about the estimation and use of this model:</p>
<ol>
<li>it's a "house of cards", and</li>
<li>used by a technically competent and thoughtful analyst, it's useful.</li>
</ol>

<p>The "house of cards" problem largely arises from the utility theory basis of the model specification. Broadly, utility theory assumes that (1) users and suppliers have perfect information about the market; (2) they have deterministic functions (faced with the same options, they will always make the same choices); and (3) switching between alternatives is costless. These assumptions don’t fit very well with what is known about behavior. Furthermore, the aggregation of utility across the population is impossible since there is no universal utility scale.</p>

<p>Suppose an option has a net utility <em>u<sub>jk</sub></em> (option <em>k</em>, person <em>j</em>). We can imagine that having a systematic part <em>v<sub>jk</sub></em> that is a function of the characteristics of an object and person <em>j</em>, plus a random part <em>e<sub>jk</sub></em>, which represents tastes, observational errors and a bunch of other things (it gets murky here). (An object such as a vehicle does not have utility, it is characteristics of a vehicle that have utility.) The introduction of <em>e</em> lets us do some aggregation. As noted above, we think of observable utility as being a function:</p>

<p>

<math display="block" id="Mode_choice:7">
 <semantics>
  <mrow>
   <msub>
    <mi>v</mi>
    <mi>A</mi>
   </msub>
   <mo>=</mo>
   <mrow>
    <msub>
     <mi>β</mi>
     <mn>0</mn>
    </msub>
    <mo>+</mo>
    <mrow>
     <msub>
      <mi>β</mi>
      <mn>1</mn>
     </msub>
     <mrow>
      <mo>(</mo>
      <mrow>
       <msub>
        <mi>c</mi>
        <mi>A</mi>
       </msub>
       <mo>-</mo>
       <msub>
        <mi>c</mi>
        <mi>T</mi>
       </msub>
      </mrow>
      <mo>)</mo>
     </mrow>
    </mrow>
    <mo>+</mo>
    <mrow>
     <msub>
      <mi>β</mi>
      <mn>2</mn>
     </msub>
     <mrow>
      <mo>(</mo>
      <mrow>
       <msub>
        <mi>t</mi>
        <mi>A</mi>
       </msub>
       <mo>-</mo>
       <msub>
        <mi>t</mi>
        <mi>T</mi>
       </msub>
      </mrow>
      <mo>)</mo>
     </mrow>
    </mrow>
    <mo>+</mo>
    <mrow>
     <msub>
      <mi>β</mi>
      <mn>3</mn>
     </msub>
     <mi>I</mi>
    </mrow>
    <mo>+</mo>
    <mrow>
     <msub>
      <mi>β</mi>
      <mn>4</mn>
     </msub>
     <mi>N</mi>
    </mrow>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <csymbol cd="ambiguous">subscript</csymbol>
     <ci>v</ci>
     <ci>A</ci>
    </apply>
    <apply>
     <plus></plus>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <ci>β</ci>
      <cn type="integer">0</cn>
     </apply>
     <apply>
      <times></times>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>β</ci>
       <cn type="integer">1</cn>
      </apply>
      <apply>
       <minus></minus>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>c</ci>
        <ci>A</ci>
       </apply>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>c</ci>
        <ci>T</ci>
       </apply>
      </apply>
     </apply>
     <apply>
      <times></times>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>β</ci>
       <cn type="integer">2</cn>
      </apply>
      <apply>
       <minus></minus>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>t</ci>
        <ci>A</ci>
       </apply>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>t</ci>
        <ci>T</ci>
       </apply>
      </apply>
     </apply>
     <apply>
      <times></times>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>β</ci>
       <cn type="integer">3</cn>
      </apply>
      <ci>I</ci>
     </apply>
     <apply>
      <times></times>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>β</ci>
       <cn type="integer">4</cn>
      </apply>
      <ci>N</ci>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   v_{A}=\beta_{0}+\beta_{1}\left(c_{A}-c_{T}\right)+\beta_{2}\left(t_{A}-t_{T}%
\right)+\beta_{3}I+\beta_{4}N
  </annotation>
 </semantics>
</math>

</p>

<p>where each variable represents a characteristic of the auto trip. The value <em>β<sub>0</sub></em> is termed an alternative specific constant. Most modelers say it represents characteristics left out of the equation (e.g., the political correctness of a mode, if I take transit I feel morally righteous, so <em>β</em><sub>0</sub> may be negative for the automobile), but it includes whatever is needed to make error terms NID.</p>
<h2 id="econometric-estimation">Econometric estimation</h2>
<figure><b>(Figure)</b>
<figcaption>Figure: Likelihood Function for the Sample {1,1,1,0,1}.</figcaption>
</figure>

<p>Turning now to some technical matters, how do we estimate <em>v(x)</em>? Utility (<em>v(x)</em>) isn’t observable. All we can observe are choices (say, measured as 0 or 1), and we want to talk about probabilities of choices that range from 0 to 1. (If we do a regression on 0s and 1s we might measure for <em>j</em> a probability of 1.4 or −0.2 of taking an auto.) Further, the distribution of the error terms wouldn’t have appropriate statistical characteristics.</p>

<p>The MNL approach is to make a <a href="maximum_likelihood" title="wikilink">maximum likelihood</a> estimate of this functional form. The likelihood function is:</p>

<p>

<math display="block" id="Mode_choice:8">
 <semantics>
  <mrow>
   <msup>
    <mi>L</mi>
    <mo>*</mo>
   </msup>
   <mo>=</mo>
   <munderover>
    <mo largeop="true" movablelimits="false" symmetric="true">∏</mo>
    <mrow>
     <mi>n</mi>
     <mo>=</mo>
     <mn>1</mn>
    </mrow>
    <mi>N</mi>
   </munderover>
   <mi>f</mi>
   <mrow>
    <mo>(</mo>
    <msub>
     <mi>y</mi>
     <mi>n</mi>
    </msub>
    <mo>|</mo>
    <msub>
     <mi>x</mi>
     <mi>n</mi>
    </msub>
    <mo>,</mo>
    <mi>θ</mi>
    <mo>)</mo>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <cerror>
    <csymbol cd="ambiguous">fragments</csymbol>
    <apply>
     <csymbol cd="ambiguous">superscript</csymbol>
     <ci>L</ci>
     <times></times>
    </apply>
    <eq></eq>
    <apply>
     <csymbol cd="ambiguous">superscript</csymbol>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <csymbol cd="latexml">product</csymbol>
      <apply>
       <eq></eq>
       <ci>n</ci>
       <cn type="integer">1</cn>
      </apply>
     </apply>
     <ci>N</ci>
    </apply>
    <csymbol cd="unknown">f</csymbol>
    <cerror>
     <csymbol cd="ambiguous">fragments</csymbol>
     <ci>normal-(</ci>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <ci>y</ci>
      <ci>n</ci>
     </apply>
     <ci>normal-|</ci>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <ci>x</ci>
      <ci>n</ci>
     </apply>
     <ci>normal-,</ci>
     <csymbol cd="unknown">θ</csymbol>
     <ci>normal-)</ci>
    </cerror>
   </cerror>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   L^{*}=\prod_{n=1}^{N}{f\left({y_{n}\left|{x_{n},\theta}\right.}\right)}
  </annotation>
 </semantics>
</math>

</p>

<p>we solve for the estimated parameters</p>

<p>

<math display="block" id="Mode_choice:9">
 <semantics>
  <mpadded width="+1.7pt">
   <mover accent="true">
    <mi>θ</mi>
    <mo stretchy="false">^</mo>
   </mover>
  </mpadded>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <ci>normal-^</ci>
    <ci>θ</ci>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \hat{\theta}\,
  </annotation>
 </semantics>
</math>

</p>

<p>that max <em>L</em>*. This happens when:</p>

<p>

<math display="block" id="Mode_choice:10">
 <semantics>
  <mrow>
   <mfrac>
    <mrow>
     <mo>∂</mo>
     <mi>L</mi>
    </mrow>
    <mrow>
     <mo>∂</mo>
     <msub>
      <mover accent="true">
       <mi>θ</mi>
       <mo stretchy="false">^</mo>
      </mover>
      <mi>N</mi>
     </msub>
    </mrow>
   </mfrac>
   <mo>=</mo>
   <mn>0</mn>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <divide></divide>
     <apply>
      <partialdiff></partialdiff>
      <ci>L</ci>
     </apply>
     <apply>
      <partialdiff></partialdiff>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <apply>
        <ci>normal-^</ci>
        <ci>θ</ci>
       </apply>
       <ci>N</ci>
      </apply>
     </apply>
    </apply>
    <cn type="integer">0</cn>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \frac{\partial L}{\partial\hat{\theta}_{N}}=0
  </annotation>
 </semantics>
</math>

</p>

<p>The log-likelihood is easier to work with, as the products turn to sums:</p>

<p>

<math display="block" id="Mode_choice:11">
 <semantics>
  <mrow>
   <mi>ln</mi>
   <msup>
    <mi>L</mi>
    <mo>*</mo>
   </msup>
   <mo>=</mo>
   <munderover>
    <mo largeop="true" movablelimits="false" symmetric="true">∑</mo>
    <mrow>
     <mi>n</mi>
     <mo>=</mo>
     <mn>1</mn>
    </mrow>
    <mi>N</mi>
   </munderover>
   <mi>ln</mi>
   <mi>f</mi>
   <mrow>
    <mo>(</mo>
    <msub>
     <mi>y</mi>
     <mi>n</mi>
    </msub>
    <mo>|</mo>
    <msub>
     <mi>x</mi>
     <mi>n</mi>
    </msub>
    <mo>,</mo>
    <mi>θ</mi>
    <mo>)</mo>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <cerror>
    <csymbol cd="ambiguous">fragments</csymbol>
    <ln></ln>
    <apply>
     <csymbol cd="ambiguous">superscript</csymbol>
     <ci>L</ci>
     <times></times>
    </apply>
    <eq></eq>
    <apply>
     <csymbol cd="ambiguous">superscript</csymbol>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <sum></sum>
      <apply>
       <eq></eq>
       <ci>n</ci>
       <cn type="integer">1</cn>
      </apply>
     </apply>
     <ci>N</ci>
    </apply>
    <ln></ln>
    <csymbol cd="unknown">f</csymbol>
    <cerror>
     <csymbol cd="ambiguous">fragments</csymbol>
     <ci>normal-(</ci>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <ci>y</ci>
      <ci>n</ci>
     </apply>
     <ci>normal-|</ci>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <ci>x</ci>
      <ci>n</ci>
     </apply>
     <ci>normal-,</ci>
     <csymbol cd="unknown">θ</csymbol>
     <ci>normal-)</ci>
    </cerror>
   </cerror>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \ln L^{*}=\sum_{n=1}^{N}\ln f\left(y_{n}\left|x_{n},\theta\right.\right)
  </annotation>
 </semantics>
</math>

</p>

<p>Consider an example adopted from John Bitzan’s Transportation Economics Notes. Let <em>X</em> be a binary variable that is <em>γ</em> and 0 with probability (1 − <em>gamma</em>). Then f(0) = (1 − <em>γ</em>) and f(1) = <em>γ</em>. Suppose that we have 5 observations of <em>X</em>, giving the sample {1,1,1,0,1}. To find the maximum likelihood estimator of <em>γ</em> examine various values of <em>γ</em>, and for these values determine the probability of drawing the sample {1,1,1,0,1} If <em>γ</em> takes the value 0, the probability of drawing our sample is 0. If <em>γ</em> is 0.1, then the probability of getting our sample is: f(1,1,1,0,1) = f(1)f(1)f(1)f(0)f(1) = 0.1×0.1×0.1×0.9×0.1 = 0.00009 We can compute the probability of obtaining our sample over a range of <em>γ</em> – this is our likelihood function. The likelihood function for n independent observations in a logit model is</p>

<p>

<math display="block" id="Mode_choice:12">
 <semantics>
  <mrow>
   <msup>
    <mi>L</mi>
    <mo>*</mo>
   </msup>
   <mo>=</mo>
   <mrow>
    <munderover>
     <mo largeop="true" movablelimits="false" symmetric="true">∏</mo>
     <mrow>
      <mi>n</mi>
      <mo>=</mo>
      <mn>1</mn>
     </mrow>
     <mi>N</mi>
    </munderover>
    <mrow>
     <msubsup>
      <mi>P</mi>
      <mi>i</mi>
      <msub>
       <mi>Y</mi>
       <mi>i</mi>
      </msub>
     </msubsup>
     <msup>
      <mrow>
       <mo>(</mo>
       <mrow>
        <mn>1</mn>
        <mo>-</mo>
        <msub>
         <mi>P</mi>
         <mi>i</mi>
        </msub>
       </mrow>
       <mo>)</mo>
      </mrow>
      <mrow>
       <mn>1</mn>
       <mo>-</mo>
       <msub>
        <mi>Y</mi>
        <mi>i</mi>
       </msub>
      </mrow>
     </msup>
    </mrow>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <csymbol cd="ambiguous">superscript</csymbol>
     <ci>L</ci>
     <times></times>
    </apply>
    <apply>
     <apply>
      <csymbol cd="ambiguous">superscript</csymbol>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <csymbol cd="latexml">product</csymbol>
       <apply>
        <eq></eq>
        <ci>n</ci>
        <cn type="integer">1</cn>
       </apply>
      </apply>
      <ci>N</ci>
     </apply>
     <apply>
      <times></times>
      <apply>
       <csymbol cd="ambiguous">superscript</csymbol>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>P</ci>
        <ci>i</ci>
       </apply>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>Y</ci>
        <ci>i</ci>
       </apply>
      </apply>
      <apply>
       <csymbol cd="ambiguous">superscript</csymbol>
       <apply>
        <minus></minus>
        <cn type="integer">1</cn>
        <apply>
         <csymbol cd="ambiguous">subscript</csymbol>
         <ci>P</ci>
         <ci>i</ci>
        </apply>
       </apply>
       <apply>
        <minus></minus>
        <cn type="integer">1</cn>
        <apply>
         <csymbol cd="ambiguous">subscript</csymbol>
         <ci>Y</ci>
         <ci>i</ci>
        </apply>
       </apply>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   L^{*}=\prod_{n=1}^{N}{P_{i}^{Y_{i}}}\left(1-P_{i}\right)^{1-Y_{i}}
  </annotation>
 </semantics>
</math>

</p>

<p>where: <em>Y<sub>i</sub></em> = 1 or 0 (choosing e.g. auto or not-auto) and Pi = the probability of observing <em>Y</em><sub><em>i</em></sub> = 1</p>

<p>The log likelihood is thus:</p>

<p>

<math display="block" id="Mode_choice:13">
 <semantics>
  <mrow>
   <mi mathvariant="normal">ℓ</mi>
   <mo>=</mo>
   <mrow>
    <mi>ln</mi>
    <msup>
     <mi>L</mi>
     <mo>*</mo>
    </msup>
   </mrow>
   <mo>=</mo>
   <mrow>
    <munderover>
     <mo largeop="true" movablelimits="false" symmetric="true">∑</mo>
     <mrow>
      <mi>i</mi>
      <mo>=</mo>
      <mn>1</mn>
     </mrow>
     <mi>n</mi>
    </munderover>
    <mrow>
     <mo>[</mo>
     <mrow>
      <mrow>
       <msub>
        <mi>Y</mi>
        <mi>i</mi>
       </msub>
       <mrow>
        <mi>ln</mi>
        <msub>
         <mi>P</mi>
         <mi>i</mi>
        </msub>
       </mrow>
      </mrow>
      <mo>+</mo>
      <mrow>
       <mrow>
        <mo>(</mo>
        <mrow>
         <mn>1</mn>
         <mo>-</mo>
         <msub>
          <mi>Y</mi>
          <mi>i</mi>
         </msub>
        </mrow>
        <mo>)</mo>
       </mrow>
       <mrow>
        <mi>ln</mi>
        <mrow>
         <mo>(</mo>
         <mrow>
          <mn>1</mn>
          <mo>-</mo>
          <msub>
           <mi>P</mi>
           <mi>i</mi>
          </msub>
         </mrow>
         <mo>)</mo>
        </mrow>
       </mrow>
      </mrow>
     </mrow>
     <mo>]</mo>
    </mrow>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <and></and>
    <apply>
     <eq></eq>
     <ci>normal-ℓ</ci>
     <apply>
      <ln></ln>
      <apply>
       <csymbol cd="ambiguous">superscript</csymbol>
       <ci>L</ci>
       <times></times>
      </apply>
     </apply>
    </apply>
    <apply>
     <eq></eq>
     <share href="#.cmml">
     </share>
     <apply>
      <apply>
       <csymbol cd="ambiguous">superscript</csymbol>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <sum></sum>
        <apply>
         <eq></eq>
         <ci>i</ci>
         <cn type="integer">1</cn>
        </apply>
       </apply>
       <ci>n</ci>
      </apply>
      <apply>
       <csymbol cd="latexml">delimited-[]</csymbol>
       <apply>
        <plus></plus>
        <apply>
         <times></times>
         <apply>
          <csymbol cd="ambiguous">subscript</csymbol>
          <ci>Y</ci>
          <ci>i</ci>
         </apply>
         <apply>
          <ln></ln>
          <apply>
           <csymbol cd="ambiguous">subscript</csymbol>
           <ci>P</ci>
           <ci>i</ci>
          </apply>
         </apply>
        </apply>
        <apply>
         <times></times>
         <apply>
          <minus></minus>
          <cn type="integer">1</cn>
          <apply>
           <csymbol cd="ambiguous">subscript</csymbol>
           <ci>Y</ci>
           <ci>i</ci>
          </apply>
         </apply>
         <apply>
          <ln></ln>
          <apply>
           <minus></minus>
           <cn type="integer">1</cn>
           <apply>
            <csymbol cd="ambiguous">subscript</csymbol>
            <ci>P</ci>
            <ci>i</ci>
           </apply>
          </apply>
         </apply>
        </apply>
       </apply>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \ell=\ln L^{*}=\sum_{i=1}^{n}\left[Y_{i}\ln P_{i}+\left(1-Y_{i}\right)\ln\left%
(1-P_{i}\right)\right]
  </annotation>
 </semantics>
</math>

</p>

<p>In the binomial (two alternative) logit model,</p>

<p>

<math display="block" id="Mode_choice:14">
 <semantics>
  <mrow>
   <msub>
    <mi>P</mi>
    <mtext>auto</mtext>
   </msub>
   <mo>=</mo>
   <mfrac>
    <msup>
     <mi>e</mi>
     <mrow>
      <mi>v</mi>
      <mrow>
       <mo stretchy="false">(</mo>
       <msub>
        <mi>x</mi>
        <mtext>auto</mtext>
       </msub>
       <mo stretchy="false">)</mo>
      </mrow>
     </mrow>
    </msup>
    <mrow>
     <mn>1</mn>
     <mo>+</mo>
     <msup>
      <mi>e</mi>
      <mrow>
       <mi>v</mi>
       <mrow>
        <mo stretchy="false">(</mo>
        <msub>
         <mi>x</mi>
         <mtext>auto</mtext>
        </msub>
        <mo stretchy="false">)</mo>
       </mrow>
      </mrow>
     </msup>
    </mrow>
   </mfrac>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <csymbol cd="ambiguous">subscript</csymbol>
     <ci>P</ci>
     <mtext>auto</mtext>
    </apply>
    <apply>
     <divide></divide>
     <apply>
      <csymbol cd="ambiguous">superscript</csymbol>
      <ci>e</ci>
      <apply>
       <times></times>
       <ci>v</ci>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>x</ci>
        <mtext>auto</mtext>
       </apply>
      </apply>
     </apply>
     <apply>
      <plus></plus>
      <cn type="integer">1</cn>
      <apply>
       <csymbol cd="ambiguous">superscript</csymbol>
       <ci>e</ci>
       <apply>
        <times></times>
        <ci>v</ci>
        <apply>
         <csymbol cd="ambiguous">subscript</csymbol>
         <ci>x</ci>
         <mtext>auto</mtext>
        </apply>
       </apply>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   P_{\text{auto}}=\frac{e^{v(x_{\text{auto}})}}{1+e^{v(x_{\text{auto}})}}
  </annotation>
 </semantics>
</math>

, so</p>

<p>

<math display="block" id="Mode_choice:15">
 <semantics>
  <mrow>
   <mi mathvariant="normal">ℓ</mi>
   <mo>=</mo>
   <mrow>
    <mi>ln</mi>
    <msup>
     <mi>L</mi>
     <mo>*</mo>
    </msup>
   </mrow>
   <mo>=</mo>
   <mrow>
    <munderover>
     <mo largeop="true" movablelimits="false" symmetric="true">∑</mo>
     <mrow>
      <mi>i</mi>
      <mo>=</mo>
      <mn>1</mn>
     </mrow>
     <mi>n</mi>
    </munderover>
    <mrow>
     <mo>[</mo>
     <mrow>
      <mrow>
       <msub>
        <mi>Y</mi>
        <mi>i</mi>
       </msub>
       <mi>v</mi>
       <mrow>
        <mo stretchy="false">(</mo>
        <msub>
         <mi>x</mi>
         <mtext>auto</mtext>
        </msub>
        <mo stretchy="false">)</mo>
       </mrow>
      </mrow>
      <mo>-</mo>
      <mrow>
       <mi>ln</mi>
       <mrow>
        <mo>(</mo>
        <mrow>
         <mn>1</mn>
         <mo>+</mo>
         <msup>
          <mi>e</mi>
          <mrow>
           <mi>v</mi>
           <mrow>
            <mo stretchy="false">(</mo>
            <msub>
             <mi>x</mi>
             <mtext>auto</mtext>
            </msub>
            <mo stretchy="false">)</mo>
           </mrow>
          </mrow>
         </msup>
        </mrow>
        <mo>)</mo>
       </mrow>
      </mrow>
     </mrow>
     <mo>]</mo>
    </mrow>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <and></and>
    <apply>
     <eq></eq>
     <ci>normal-ℓ</ci>
     <apply>
      <ln></ln>
      <apply>
       <csymbol cd="ambiguous">superscript</csymbol>
       <ci>L</ci>
       <times></times>
      </apply>
     </apply>
    </apply>
    <apply>
     <eq></eq>
     <share href="#.cmml">
     </share>
     <apply>
      <apply>
       <csymbol cd="ambiguous">superscript</csymbol>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <sum></sum>
        <apply>
         <eq></eq>
         <ci>i</ci>
         <cn type="integer">1</cn>
        </apply>
       </apply>
       <ci>n</ci>
      </apply>
      <apply>
       <csymbol cd="latexml">delimited-[]</csymbol>
       <apply>
        <minus></minus>
        <apply>
         <times></times>
         <apply>
          <csymbol cd="ambiguous">subscript</csymbol>
          <ci>Y</ci>
          <ci>i</ci>
         </apply>
         <ci>v</ci>
         <apply>
          <csymbol cd="ambiguous">subscript</csymbol>
          <ci>x</ci>
          <mtext>auto</mtext>
         </apply>
        </apply>
        <apply>
         <ln></ln>
         <apply>
          <plus></plus>
          <cn type="integer">1</cn>
          <apply>
           <csymbol cd="ambiguous">superscript</csymbol>
           <ci>e</ci>
           <apply>
            <times></times>
            <ci>v</ci>
            <apply>
             <csymbol cd="ambiguous">subscript</csymbol>
             <ci>x</ci>
             <mtext>auto</mtext>
            </apply>
           </apply>
          </apply>
         </apply>
        </apply>
       </apply>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \ell=\ln L^{*}=\sum_{i=1}^{n}\left[Y_{i}v(x_{\text{auto}})-\ln\left(1+e^{v(x_{%
\text{auto}})}\right)\right]
  </annotation>
 </semantics>
</math>

</p>

<p>The log-likelihood function is maximized setting the partial derivatives to zero:</p>

<p>

<math display="block" id="Mode_choice:16">
 <semantics>
  <mrow>
   <mfrac>
    <mrow>
     <mo>∂</mo>
     <mi mathvariant="normal">ℓ</mi>
    </mrow>
    <mrow>
     <mo>∂</mo>
     <mi>β</mi>
    </mrow>
   </mfrac>
   <mo>=</mo>
   <mrow>
    <munderover>
     <mo largeop="true" movablelimits="false" symmetric="true">∑</mo>
     <mrow>
      <mi>i</mi>
      <mo>=</mo>
      <mn>1</mn>
     </mrow>
     <mi>n</mi>
    </munderover>
    <mrow>
     <mo>(</mo>
     <mrow>
      <msub>
       <mi>Y</mi>
       <mi>i</mi>
      </msub>
      <mo>-</mo>
      <msub>
       <mover accent="true">
        <mi>P</mi>
        <mo stretchy="false">^</mo>
       </mover>
       <mi>i</mi>
      </msub>
     </mrow>
     <mo>)</mo>
    </mrow>
   </mrow>
   <mo>=</mo>
   <mn>0</mn>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <and></and>
    <apply>
     <eq></eq>
     <apply>
      <divide></divide>
      <apply>
       <partialdiff></partialdiff>
       <ci>normal-ℓ</ci>
      </apply>
      <apply>
       <partialdiff></partialdiff>
       <ci>β</ci>
      </apply>
     </apply>
     <apply>
      <apply>
       <csymbol cd="ambiguous">superscript</csymbol>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <sum></sum>
        <apply>
         <eq></eq>
         <ci>i</ci>
         <cn type="integer">1</cn>
        </apply>
       </apply>
       <ci>n</ci>
      </apply>
      <apply>
       <minus></minus>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>Y</ci>
        <ci>i</ci>
       </apply>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <apply>
         <ci>normal-^</ci>
         <ci>P</ci>
        </apply>
        <ci>i</ci>
       </apply>
      </apply>
     </apply>
    </apply>
    <apply>
     <eq></eq>
     <share href="#.cmml">
     </share>
     <cn type="integer">0</cn>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \frac{\partial\ell}{\partial\beta}=\sum_{i=1}^{n}\left(Y_{i}-\hat{P}_{i}\right%
)=0
  </annotation>
 </semantics>
</math>

</p>

<p>The above gives the essence of modern MNL choice modeling.</p>
<h2 id="additional-topics">Additional topics</h2>

<p>Topics not touched on include the “red bus, blue bus” problem; the use of nested models (e.g., estimate choice between auto and transit, and then estimate choice between rail and bus transit); how consumers’ surplus measurements may be obtained; and model estimation, goodness of fit, etc. For these topics see a textbook such as Ortuzar and Willumsen (2001).</p>
<h2 id="returning-to-roots">Returning to roots</h2>

<p>The discussion above is based on the economist’s utility formulation. At the time MNL modeling was developed there was some attention to psychologist's choice work (e.g., <a href="Luce's_choice_axiom" title="wikilink">Luce’s choice axioms</a> discussed in his Individual Choice Behavior, 1959). It has an analytic side in computational process modeling. Emphasis is on how people think when they make choices or solve problems (see Newell and Simon 1972). Put another way, in contrast to utility theory, it stresses not the choice but the way the choice was made. It provides a conceptual framework for travel choices and agendas of activities involving considerations of long and short term memory, effectors, and other aspects of thought and decision processes. It takes the form of rules dealing with the way information is searched and acted on. Although there is a lot of attention to behavioral analysis in transportation work, the best of modern psychological ideas are only beginning to enter the field. (e.g. Golledge, Kwan and Garling 1984; Garling, Kwan, and Golledge 1994).</p>
<h2 id="external-links">External links</h2>
<ul>
<li><a href="http://www.atsl.cee.vt.edu/tsam.htm">Transportation Systems Analysis Model</a> – TSAM is a nationwide transportation planning model to forecast intercity travel behavior in the United States.</li>
</ul>
<h2 id="see-also">See also</h2>
<ul>
<li><a href="Environmental_impact_of_aviation" title="wikilink">Environmental impact of aviation</a></li>
<li><a href="Hypermobility_(travel)" title="wikilink">Hypermobility (travel)</a></li>
<li><a href="Modal_share" title="wikilink">Modal share</a></li>
</ul>
<h2 id="references">References</h2>
<ul>
<li>Garling, Tommy Mei Po Kwan, and Reginald G. Golledge. Household Activity Scheduling, Transportation Research, 22B, pp. 333–353. 1994.</li>
<li><a href="Reginald_Golledge" title="wikilink">Golledge. Reginald G.</a>, Mei Po Kwan, and Tommy Garling, “Computational Process Modeling of Household Travel Decisions,” Papers in Regional Science, 73, pp. 99–118. 1984.</li>
<li>Lancaster, K.J., A new approach to consumer theory. Journal of Political Economy, 1966. 74(2): p. 132–157.</li>
<li>Luce, Duncan R. (1959). Individual choice behavior, a theoretical analysis. New York, Wiley.</li>
<li>Newell, A. and Simon, H. A. (1972). Human Problem Solving. Englewood Cliffs, NJ: Prentice Hall.</li>
<li>Ortuzar, Juan de Dios and L. G. Willumsen’s Modelling Transport. 3rd Edition. Wiley and Sons. 2001,</li>
<li>Thurstone, L.L. (1927). A law of comparative judgement. Psychological Review, 34, 278–286.</li>
<li>Warner, Stan 1962 Strategic Choice of Mode in Urban Travel: A Study of Binary Choice</li>
</ul>

<p>"</p>

<p><a href="Category:Transportation_planning" title="wikilink">Category:Transportation planning</a></p>
</body>
</html>
