<html lang="en">
<head>
<meta charset="utf-8"/>
<title offset="194">Proofs of Fermat's little theorem</title>
<script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_SVG.js" type="text/javascript">
</script>
</head>
<body>
<h1>Proofs of Fermat's little theorem</h1>
<hr/>

<p>This article collects together a variety of <a href="mathematical_proof" title="wikilink">proofs</a> of <a href="Fermat's_little_theorem" title="wikilink">Fermat's little theorem</a>, which states that</p>

<p>

<math display="block" id="Proofs_of_Fermat's_little_theorem:0">
 <semantics>
  <mrow>
   <msup>
    <mi>a</mi>
    <mi>p</mi>
   </msup>
   <mo>≡</mo>
   <mrow>
    <mi>a</mi>
    <mspace width="veryverythickmathspace">
    </mspace>
    <mrow>
     <mo lspace="8.1pt" stretchy="false">(</mo>
     <mrow>
      <mo>mod</mo>
      <mi>p</mi>
     </mrow>
     <mo stretchy="false">)</mo>
    </mrow>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <equivalent></equivalent>
    <apply>
     <csymbol cd="ambiguous">superscript</csymbol>
     <ci>a</ci>
     <ci>p</ci>
    </apply>
    <apply>
     <csymbol cd="latexml">annotated</csymbol>
     <ci>a</ci>
     <apply>
      <ci>pmod</ci>
      <ci>p</ci>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   a^{p}\equiv a\;\;(\mathop{{\rm mod}}p)\,\!
  </annotation>
 </semantics>
</math>

 for every <a href="prime_number" title="wikilink">prime number</a> <em>p</em> and every <a class="uri" href="integer" title="wikilink">integer</a> <em>a</em> (see <a href="modular_arithmetic" title="wikilink">modular arithmetic</a>).</p>
<h2 id="simplifications">Simplifications</h2>

<p>Some of the <strong>proofs of Fermat's little theorem</strong> given below depend on two simplifications.</p>

<p>The first is that we may assume that <em>a</em> is in the range 0 ≤ <em>a</em> ≤ <em>p</em> − 1. This is a simple consequence of the laws of <a href="modular_arithmetic" title="wikilink">modular arithmetic</a>; we are simply saying that we may first reduce <em>a</em> modulo <em>p</em>.</p>

<p>Secondly, it suffices to prove that</p>

<p>

<math display="block" id="Proofs_of_Fermat's_little_theorem:1">
 <semantics>
  <mrow>
   <msup>
    <mi>a</mi>
    <mrow>
     <mi>p</mi>
     <mo>-</mo>
     <mn>1</mn>
    </mrow>
   </msup>
   <mo>≡</mo>
   <mrow>
    <mrow>
     <mn>1</mn>
     <mspace width="veryverythickmathspace">
     </mspace>
     <mrow>
      <mo lspace="8.1pt" stretchy="false">(</mo>
      <mrow>
       <mo>mod</mo>
       <mi>p</mi>
      </mrow>
      <mo stretchy="false">)</mo>
     </mrow>
    </mrow>
    <mrow>
     <mo stretchy="false">(</mo>
     <mi>X</mi>
     <mo stretchy="false">)</mo>
    </mrow>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <equivalent></equivalent>
    <apply>
     <csymbol cd="ambiguous">superscript</csymbol>
     <ci>a</ci>
     <apply>
      <minus></minus>
      <ci>p</ci>
      <cn type="integer">1</cn>
     </apply>
    </apply>
    <list>
     <apply>
      <csymbol cd="latexml">annotated</csymbol>
      <cn type="integer">1</cn>
      <apply>
       <ci>pmod</ci>
       <ci>p</ci>
      </apply>
     </apply>
     <ci>X</ci>
    </list>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   a^{p-1}\equiv 1\;\;(\mathop{{\rm mod}}p)\quad\quad(X)
  </annotation>
 </semantics>
</math>

 for <em>a</em> in the range 1 ≤ <em>a</em> ≤ <em>p</em> − 1. Indeed, if (X) holds for such <em>a</em>, multiplying both sides by <em>a</em> yields the original form of the theorem,</p>

<p>

<math display="block" id="Proofs_of_Fermat's_little_theorem:2">
 <semantics>
  <mrow>
   <msup>
    <mi>a</mi>
    <mi>p</mi>
   </msup>
   <mo>≡</mo>
   <mrow>
    <mi>a</mi>
    <mspace width="veryverythickmathspace">
    </mspace>
    <mrow>
     <mo lspace="8.1pt" stretchy="false">(</mo>
     <mrow>
      <mo>mod</mo>
      <mi>p</mi>
     </mrow>
     <mo stretchy="false">)</mo>
    </mrow>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <equivalent></equivalent>
    <apply>
     <csymbol cd="ambiguous">superscript</csymbol>
     <ci>a</ci>
     <ci>p</ci>
    </apply>
    <apply>
     <csymbol cd="latexml">annotated</csymbol>
     <ci>a</ci>
     <apply>
      <ci>pmod</ci>
      <ci>p</ci>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   a^{p}\equiv a\;\;(\mathop{{\rm mod}}p)\,\!
  </annotation>
 </semantics>
</math>

 On the other hand, if <em>a</em> equals zero, the theorem holds trivially.</p>
<h2 id="combinatorial-proofs">Combinatorial proofs</h2>
<h3 id="proof-by-counting-necklaces">Proof by counting necklaces</h3>

<p>This is perhaps the simplest known proof, requiring the least mathematical background. It is an attractive example of a <a href="combinatorial_proof" title="wikilink">combinatorial proof</a> (a proof that involves <a href="Double_counting_(proof_technique)" title="wikilink">counting a collection of objects in two different ways</a>).</p>

<p>The proof given here is an adaptation of <a href="Solomon_W._Golomb" title="wikilink">Golomb</a>'s proof.<a class="footnoteRef" href="#fn1" id="fnref1"><sup>1</sup></a></p>

<p>To keep things simple, let us assume that <em>a</em> is a <a href="positive_integer" title="wikilink">positive integer</a>. Consider all the possible <a href="string_(computer_science)" title="wikilink">strings</a> of <em>p</em> symbols, using an <a class="uri" href="alphabet" title="wikilink">alphabet</a> with <em>a</em> different symbols. The total number of such strings is ''a<sup>p''</sup>, since there are <em>a</em> possibilities for each of <em>p</em> positions (see <a href="rule_of_product" title="wikilink">rule of product</a>).</p>

<p>For example, if <em>p</em> = 5 and <em>a</em> = 2, then we can use an alphabet with two symbols (say <em>A</em> and <em>B</em>), and there are 2<sup>5</sup> = 32 strings of length five:</p>
<dl>
<dd>AAAAA, AAAAB, AAABA, AAABB, AABAA, AABAB, AABBA, AABBB,
</dd>
<dd>ABAAA, ABAAB, ABABA, ABABB, ABBAA, ABBAB, ABBBA, ABBBB,
</dd>
<dd>BAAAA, BAAAB, BAABA, BAABB, BABAA, BABAB, BABBA, BABBB,
</dd>
<dd>BBAAA, BBAAB, BBABA, BBABB, BBBAA, BBBAB, BBBBA, BBBBB.
</dd>
</dl>

<p>We will argue below that if we remove the strings consisting of a single symbol from the list (in our example, AAAAA and BBBBB), the remaining <em>a</em><sup><em>p</em></sup> − <em>a</em> strings can be arranged into groups, each group containing exactly <em>p</em> strings. It follows that <em>a</em><sup><em>p</em></sup> − <em>a</em> is divisible by <em>p</em>.</p>
<h4 id="necklaces">Necklaces</h4>

<p> </p>

<p>Let us think of each such string as representing a <a href="necklace_(combinatorics)" title="wikilink">necklace</a>. That is, we connect the two ends of the string together, and regard two strings as the same necklace if we can <a href="circular_shift" title="wikilink">rotate</a> one string to obtain the second string; in this case we will say that the two strings are <strong>friends</strong>. In our example, the following strings are all friends:</p>
<dl>
<dd>AAAAB, AAABA, AABAA, ABAAA, BAAAA.
</dd>
</dl>

<p>Similarly, each line of the following list corresponds to a single necklace.</p>
<dl>
<dd>AAABB, AABBA, ABBAA, BBAAA, BAAAB,
</dd>
<dd>AABAB, ABABA, BABAA, ABAAB, BAABA,
</dd>
<dd>AABBB, ABBBA, BBBAA, BBAAB, BAABB,
</dd>
<dd>ABABB, BABBA, ABBAB, BBABA, BABAB,
</dd>
<dd>ABBBB, BBBBA, BBBAB, BBABB, BABBB,
</dd>
<dd>AAAAA,
</dd>
<dd>BBBBB.
</dd>
</dl>

<p>Notice that in the above list, some necklaces are represented by five different strings, and some only by a single string, so the list shows very clearly why 32 − 2 is divisible by 5.</p>

<p>One can use the following rule to work out how many friends a given string <em>S</em> has:</p>
<dl>
<dd>''If S is built up of several copies of the string T, and T cannot itself be broken down further into repeating strings, then the number of friends of S (including S itself) is equal to the <em>length</em> of T.''
</dd>
</dl>

<p>For example, suppose we start with the string <em>S</em> = "ABBABBABBABB", which is built up of several copies of the shorter string <em>T</em> = "ABB". If we rotate it one symbol at a time, we obtain the following three strings:</p>
<dl>
<dd>ABBABBABBABB,
</dd>
<dd>BBABBABBABBA,
</dd>
<dd>BABBABBABBAB.
</dd>
</dl>

<p>There aren't any others, because ABB is exactly three symbols long, and cannot be broken down into further repeating strings.</p>
<h4 id="completing-the-proof">Completing the proof</h4>

<p>Using the above rule, we can complete the proof of Fermat's little theorem quite easily, as follows. Our starting pool of <em>a</em><sup><em>p</em></sup> strings may be split into two categories:</p>
<ul>
<li>Some strings contain <em>p</em> identical symbols. There are exactly <em>a</em> of these, one for each symbol in the alphabet. (In our running example, these are the strings AAAAA and BBBBB.)</li>
<li>The rest of the strings use at least two distinct symbols from the alphabet. If we can break up <em>S</em> into repeating copies of some string <em>T</em>, the length of <em>T</em> must divide the length of <em>S</em>. But, since the length of <em>S</em> is the prime <em>p</em>, the only possible length for <em>T</em> is also <em>p</em>. Therefore, the above rule tells us that <em>S</em> has exactly <em>p</em> friends (including <em>S</em> itself).</li>
</ul>

<p>The second category contains <em>a</em><sup><em>p</em></sup> − <em>a</em> strings, and they may be arranged into groups of <em>p</em> strings, one group for each necklace. Therefore <em>a</em><sup><em>p</em></sup> − <em>a</em> must be divisible by <em>p</em>, as promised.</p>
<h3 id="proof-using-dynamical-systems">Proof using dynamical systems</h3>

<p>This proof uses some basic concepts from <a href="dynamical_system" title="wikilink">dynamical systems</a>.</p>

<p>We start by considering a family of <a href="function_(mathematics)" title="wikilink">functions</a>, <em>T</em><sub><em>n</em></sub>(<em>x</em>), where <em>n</em> ≥ 2 is an <a class="uri" href="integer" title="wikilink">integer</a>, mapping the <a href="interval_(mathematics)" title="wikilink">interval</a> [0, 1] to itself by the formula</p>

<p>

<math display="block" id="Proofs_of_Fermat's_little_theorem:3">
 <semantics>
  <mrow>
   <mrow>
    <msub>
     <mi>T</mi>
     <mi>n</mi>
    </msub>
    <mrow>
     <mo stretchy="false">(</mo>
     <mi>x</mi>
     <mo stretchy="false">)</mo>
    </mrow>
   </mrow>
   <mo>=</mo>
   <mrow>
    <mo>{</mo>
    <mtable displaystyle="true">
     <mtr>
      <mtd columnalign="left">
       <mrow>
        <mo stretchy="false">{</mo>
        <mrow>
         <mi>n</mi>
         <mi>x</mi>
        </mrow>
        <mo stretchy="false">}</mo>
       </mrow>
      </mtd>
      <mtd columnalign="left">
       <mrow>
        <mrow>
         <mn>0</mn>
         <mo>≤</mo>
         <mi>x</mi>
         <mo><</mo>
         <mn>1</mn>
        </mrow>
        <mo>,</mo>
       </mrow>
      </mtd>
     </mtr>
     <mtr>
      <mtd columnalign="left">
       <mn>1</mn>
      </mtd>
      <mtd columnalign="left">
       <mrow>
        <mrow>
         <mi>x</mi>
         <mo>=</mo>
         <mn>1</mn>
        </mrow>
        <mo>,</mo>
       </mrow>
      </mtd>
     </mtr>
    </mtable>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <times></times>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <ci>T</ci>
      <ci>n</ci>
     </apply>
     <ci>x</ci>
    </apply>
    <apply>
     <csymbol cd="latexml">cases</csymbol>
     <set>
      <apply>
       <times></times>
       <ci>n</ci>
       <ci>x</ci>
      </apply>
     </set>
     <apply>
      <and></and>
      <apply>
       <leq></leq>
       <cn type="integer">0</cn>
       <ci>x</ci>
      </apply>
      <apply>
       <lt></lt>
       <share href="#.cmml">
       </share>
       <cn type="integer">1</cn>
      </apply>
     </apply>
     <cn type="integer">1</cn>
     <apply>
      <eq></eq>
      <ci>x</ci>
      <cn type="integer">1</cn>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   T_{n}(x)=\begin{cases}\{nx\}&0\leq x<1,\\
1&x=1,\end{cases}
  </annotation>
 </semantics>
</math>

 where {<em>y</em>} denotes the <a href="fractional_part" title="wikilink">fractional part</a> of <em>y</em>. For example, the function <em>T</em><sub>3</sub>(<em>x</em>) is illustrated below:</p>
<figure><b>(Figure)</b>
<figcaption>An example of a <em>T</em><sub><em>n</em></sub> function</figcaption>
</figure>

<p>A number <em>x</em><sub>0</sub> is said to be a <strong><a href="fixed_point_(mathematics)" title="wikilink">fixed point</a></strong> of a function <em>f</em>(<em>x</em>) if <em>f</em>(<em>x</em><sub>0</sub>) = <em>x</em><sub>0</sub>; in other words, if <em>f</em> leaves <em>x</em><sub>0</sub> fixed. The fixed points of a function can be easily found graphically: they are simply the <em>x</em>-coordinates of the points where the <a href="Graph_of_a_function" title="wikilink">graph</a> of <em>f</em>(<em>x</em>) intersects the graph of the line <em>y</em> = <em>x</em>. For example, the fixed points of the function <em>T</em><sub>3</sub>(<em>x</em>) are 0, 1/2, and 1; they are marked by black circles on the following diagram.</p>
<figure><b>(Figure)</b>
<figcaption>Fixed points of a <em>T</em><sub><em>n</em></sub> function</figcaption>
</figure>

<p>We will require the following two lemmas.</p>

<p><strong>Lemma 1.</strong> For any <em>n</em> ≥ 2, the function <em>T</em><sub><em>n</em></sub>(<em>x</em>) has exactly <em>n</em> fixed points.</p>

<p><strong>Proof.</strong> There are three fixed points in the illustration above, and the same sort geometrical argument applies for any <em>n</em> ≥ 2.</p>

<p><strong>Lemma 2.</strong> For any positive integers <em>n</em> and <em>m</em>, and any 0 ≤ x ≤ 1,</p>

<p>

<math display="block" id="Proofs_of_Fermat's_little_theorem:4">
 <semantics>
  <mrow>
   <mrow>
    <mrow>
     <msub>
      <mi>T</mi>
      <mi>m</mi>
     </msub>
     <mrow>
      <mo stretchy="false">(</mo>
      <mrow>
       <msub>
        <mi>T</mi>
        <mi>n</mi>
       </msub>
       <mrow>
        <mo stretchy="false">(</mo>
        <mi>x</mi>
        <mo stretchy="false">)</mo>
       </mrow>
      </mrow>
      <mo stretchy="false">)</mo>
     </mrow>
    </mrow>
    <mo>=</mo>
    <mrow>
     <msub>
      <mi>T</mi>
      <mrow>
       <mi>m</mi>
       <mi>n</mi>
      </mrow>
     </msub>
     <mrow>
      <mo stretchy="false">(</mo>
      <mi>x</mi>
      <mo stretchy="false">)</mo>
     </mrow>
    </mrow>
   </mrow>
   <mo>.</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <times></times>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <ci>T</ci>
      <ci>m</ci>
     </apply>
     <apply>
      <times></times>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>T</ci>
       <ci>n</ci>
      </apply>
      <ci>x</ci>
     </apply>
    </apply>
    <apply>
     <times></times>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <ci>T</ci>
      <apply>
       <times></times>
       <ci>m</ci>
       <ci>n</ci>
      </apply>
     </apply>
     <ci>x</ci>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   T_{m}(T_{n}(x))=T_{mn}(x).\,
  </annotation>
 </semantics>
</math>

 In other words, <em>T</em><sub><em>mn</em></sub>(<em>x</em>) is the <a href="function_composition" title="wikilink">composition</a> of <em>T</em><sub><em>n</em></sub>(<em>x</em>) and <em>T</em><sub><em>m</em></sub>(<em>x</em>).</p>

<p><strong>Proof.</strong> The proof of this lemma is not difficult, but we need to be slightly careful with the endpoint <em>x</em> = 1. For this point the lemma is clearly true since</p>

<p>

<math display="block" id="Proofs_of_Fermat's_little_theorem:5">
 <semantics>
  <mrow>
   <mrow>
    <mrow>
     <msub>
      <mi>T</mi>
      <mi>m</mi>
     </msub>
     <mrow>
      <mo stretchy="false">(</mo>
      <mrow>
       <msub>
        <mi>T</mi>
        <mi>n</mi>
       </msub>
       <mrow>
        <mo stretchy="false">(</mo>
        <mn>1</mn>
        <mo stretchy="false">)</mo>
       </mrow>
      </mrow>
      <mo stretchy="false">)</mo>
     </mrow>
    </mrow>
    <mo>=</mo>
    <mrow>
     <msub>
      <mi>T</mi>
      <mi>m</mi>
     </msub>
     <mrow>
      <mo stretchy="false">(</mo>
      <mn>1</mn>
      <mo stretchy="false">)</mo>
     </mrow>
    </mrow>
    <mo>=</mo>
    <mn>1</mn>
    <mo>=</mo>
    <mrow>
     <msub>
      <mi>T</mi>
      <mrow>
       <mi>m</mi>
       <mi>n</mi>
      </mrow>
     </msub>
     <mrow>
      <mo stretchy="false">(</mo>
      <mn>1</mn>
      <mo stretchy="false">)</mo>
     </mrow>
    </mrow>
   </mrow>
   <mo>.</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <and></and>
    <apply>
     <eq></eq>
     <apply>
      <times></times>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>T</ci>
       <ci>m</ci>
      </apply>
      <apply>
       <times></times>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>T</ci>
        <ci>n</ci>
       </apply>
       <cn type="integer">1</cn>
      </apply>
     </apply>
     <apply>
      <times></times>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>T</ci>
       <ci>m</ci>
      </apply>
      <cn type="integer">1</cn>
     </apply>
    </apply>
    <apply>
     <eq></eq>
     <share href="#.cmml">
     </share>
     <cn type="integer">1</cn>
    </apply>
    <apply>
     <eq></eq>
     <share href="#.cmml">
     </share>
     <apply>
      <times></times>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>T</ci>
       <apply>
        <times></times>
        <ci>m</ci>
        <ci>n</ci>
       </apply>
      </apply>
      <cn type="integer">1</cn>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   T_{m}(T_{n}(1))=T_{m}(1)=1=T_{mn}(1).\,\!
  </annotation>
 </semantics>
</math>

 So let us assume that 0 ≤ <em>x</em> T_n(x) = \{nx\}  so <em>T</em><sub><em>m</em></sub>(<em>T</em><sub><em>n</em></sub>(<em>x</em>)) is given by</p>

<p>

<math display="block" id="Proofs_of_Fermat's_little_theorem:6">
 <semantics>
  <mrow>
   <mrow>
    <mrow>
     <msub>
      <mi>T</mi>
      <mi>m</mi>
     </msub>
     <mrow>
      <mo stretchy="false">(</mo>
      <mrow>
       <msub>
        <mi>T</mi>
        <mi>n</mi>
       </msub>
       <mrow>
        <mo stretchy="false">(</mo>
        <mi>x</mi>
        <mo stretchy="false">)</mo>
       </mrow>
      </mrow>
      <mo stretchy="false">)</mo>
     </mrow>
    </mrow>
    <mo>=</mo>
    <mrow>
     <mo stretchy="false">{</mo>
     <mrow>
      <mi>m</mi>
      <mrow>
       <mo stretchy="false">{</mo>
       <mrow>
        <mi>n</mi>
        <mi>x</mi>
       </mrow>
       <mo stretchy="false">}</mo>
      </mrow>
     </mrow>
     <mo stretchy="false">}</mo>
    </mrow>
   </mrow>
   <mo>.</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <times></times>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <ci>T</ci>
      <ci>m</ci>
     </apply>
     <apply>
      <times></times>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>T</ci>
       <ci>n</ci>
      </apply>
      <ci>x</ci>
     </apply>
    </apply>
    <set>
     <apply>
      <times></times>
      <ci>m</ci>
      <set>
       <apply>
        <times></times>
        <ci>n</ci>
        <ci>x</ci>
       </apply>
      </set>
     </apply>
    </set>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   T_{m}(T_{n}(x))=\{m\{nx\}\}.\,\!
  </annotation>
 </semantics>
</math>

 Therefore, what we really need to show is that</p>

<p>

<math display="block" id="Proofs_of_Fermat's_little_theorem:7">
 <semantics>
  <mrow>
   <mrow>
    <mrow>
     <mo stretchy="false">{</mo>
     <mrow>
      <mi>m</mi>
      <mrow>
       <mo stretchy="false">{</mo>
       <mrow>
        <mi>n</mi>
        <mi>x</mi>
       </mrow>
       <mo stretchy="false">}</mo>
      </mrow>
     </mrow>
     <mo stretchy="false">}</mo>
    </mrow>
    <mo>=</mo>
    <mrow>
     <mo stretchy="false">{</mo>
     <mrow>
      <mi>m</mi>
      <mi>n</mi>
      <mi>x</mi>
     </mrow>
     <mo stretchy="false">}</mo>
    </mrow>
   </mrow>
   <mo>.</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <set>
     <apply>
      <times></times>
      <ci>m</ci>
      <set>
       <apply>
        <times></times>
        <ci>n</ci>
        <ci>x</ci>
       </apply>
      </set>
     </apply>
    </set>
    <set>
     <apply>
      <times></times>
      <ci>m</ci>
      <ci>n</ci>
      <ci>x</ci>
     </apply>
    </set>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \{m\{nx\}\}=\{mnx\}.\,\!
  </annotation>
 </semantics>
</math>

 To do this we observe that {<em>nx</em>} = <em>nx</em> − <em>k</em>, where <em>k</em> is the <a href="integer_part" title="wikilink">integer part</a> of <em>nx</em>; then</p>

<p>

<math display="block" id="Proofs_of_Fermat's_little_theorem:8">
 <semantics>
  <mrow>
   <mrow>
    <mo stretchy="false">{</mo>
    <mrow>
     <mi>m</mi>
     <mrow>
      <mo stretchy="false">{</mo>
      <mrow>
       <mi>n</mi>
       <mi>x</mi>
      </mrow>
      <mo stretchy="false">}</mo>
     </mrow>
    </mrow>
    <mo stretchy="false">}</mo>
   </mrow>
   <mo>=</mo>
   <mrow>
    <mo stretchy="false">{</mo>
    <mrow>
     <mrow>
      <mi>m</mi>
      <mi>n</mi>
      <mi>x</mi>
     </mrow>
     <mo>-</mo>
     <mrow>
      <mi>m</mi>
      <mi>k</mi>
     </mrow>
    </mrow>
    <mo stretchy="false">}</mo>
   </mrow>
   <mo>=</mo>
   <mrow>
    <mo stretchy="false">{</mo>
    <mrow>
     <mi>m</mi>
     <mi>n</mi>
     <mi>x</mi>
    </mrow>
    <mo stretchy="false">}</mo>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <and></and>
    <apply>
     <eq></eq>
     <set>
      <apply>
       <times></times>
       <ci>m</ci>
       <set>
        <apply>
         <times></times>
         <ci>n</ci>
         <ci>x</ci>
        </apply>
       </set>
      </apply>
     </set>
     <set>
      <apply>
       <minus></minus>
       <apply>
        <times></times>
        <ci>m</ci>
        <ci>n</ci>
        <ci>x</ci>
       </apply>
       <apply>
        <times></times>
        <ci>m</ci>
        <ci>k</ci>
       </apply>
      </apply>
     </set>
    </apply>
    <apply>
     <eq></eq>
     <share href="#.cmml">
     </share>
     <set>
      <apply>
       <times></times>
       <ci>m</ci>
       <ci>n</ci>
       <ci>x</ci>
      </apply>
     </set>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \{m\{nx\}\}=\{mnx-mk\}=\{mnx\}\,\!
  </annotation>
 </semantics>
</math>

 since <em>mk</em> is an integer.</p>

<p>Now let us properly begin the proof of Fermat's little theorem, by studying the function <em>T</em><sub><em>a</em><sup><em>p</em></sup></sub>(<em>x</em>). We will assume that <em>a</em> is ≥ 2. From Lemma 1, we know that it has <em>a</em><sup><em>p</em></sup> fixed points. By Lemma 2 we know that</p>

<p>

<math display="block" id="Proofs_of_Fermat's_little_theorem:9">
 <semantics>
  <mtable displaystyle="true">
   <mtr>
    <mtd columnalign="center">
     <mrow>
      <mrow>
       <msub>
        <mi>T</mi>
        <msup>
         <mi>a</mi>
         <mi>p</mi>
        </msup>
       </msub>
       <mrow>
        <mo stretchy="false">(</mo>
        <mi>x</mi>
        <mo stretchy="false">)</mo>
       </mrow>
      </mrow>
      <mo>=</mo>
      <mi></mi>
     </mrow>
    </mtd>
    <mtd columnalign="center">
     <mrow>
      <munder accentunder="true">
       <mrow>
        <msub>
         <mi>T</mi>
         <mi>a</mi>
        </msub>
        <mrow>
         <mo stretchy="false">(</mo>
         <mrow>
          <msub>
           <mi>T</mi>
           <mi>a</mi>
          </msub>
          <mrow>
           <mo stretchy="false">(</mo>
           <mrow>
            <mi mathvariant="normal">⋯</mi>
            <msub>
             <mi>T</mi>
             <mi>a</mi>
            </msub>
            <mrow>
             <mo stretchy="false">(</mo>
             <mi>x</mi>
             <mo stretchy="false">)</mo>
            </mrow>
            <mi mathvariant="normal">⋯</mi>
           </mrow>
           <mo stretchy="false">)</mo>
          </mrow>
         </mrow>
         <mo stretchy="false">)</mo>
        </mrow>
       </mrow>
       <mo>⏟</mo>
      </munder>
      <mo>,</mo>
     </mrow>
    </mtd>
   </mtr>
   <mtr>
    <mtd columnalign="center">
     <mi></mi>
    </mtd>
    <mtd columnalign="center">
     <mrow>
      <mpadded width="+1.7pt">
       <mi>p</mi>
      </mpadded>
      <mtext>times</mtext>
     </mrow>
    </mtd>
   </mtr>
  </mtable>
  <annotation-xml encoding="MathML-Content">
   <matrix>
    <matrixrow>
     <apply>
      <eq></eq>
      <apply>
       <times></times>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>T</ci>
        <apply>
         <csymbol cd="ambiguous">superscript</csymbol>
         <ci>a</ci>
         <ci>p</ci>
        </apply>
       </apply>
       <ci>x</ci>
      </apply>
      <csymbol cd="latexml">absent</csymbol>
     </apply>
     <apply>
      <ci>normal-⏟</ci>
      <apply>
       <times></times>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>T</ci>
        <ci>a</ci>
       </apply>
       <apply>
        <times></times>
        <apply>
         <csymbol cd="ambiguous">subscript</csymbol>
         <ci>T</ci>
         <ci>a</ci>
        </apply>
        <apply>
         <times></times>
         <ci>normal-⋯</ci>
         <apply>
          <csymbol cd="ambiguous">subscript</csymbol>
          <ci>T</ci>
          <ci>a</ci>
         </apply>
         <ci>x</ci>
         <ci>normal-⋯</ci>
        </apply>
       </apply>
      </apply>
     </apply>
    </matrixrow>
    <matrixrow>
     <csymbol cd="latexml">absent</csymbol>
     <apply>
      <times></times>
      <ci>p</ci>
      <mtext>times</mtext>
     </apply>
    </matrixrow>
   </matrix>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \begin{matrix}T_{a^{p}}(x)=&\underbrace{T_{a}(T_{a}(\cdots T_{a}(x)\cdots))},%
\\
&p\,\textrm{ times}\\
\end{matrix}
  </annotation>
 </semantics>
</math>

 so any fixed point of <em>T</em><sub><em>a</em></sub>(<em>x</em>) is automatically a fixed point of <em>T</em><sub><em>a</em><sup><em>p</em></sup></sub>(<em>x</em>).</p>

<p>We are interested in the fixed points of <em>T</em><sub><em>a</em><sup><em>p</em></sup></sub>(<em>x</em>) that are <em>not</em> fixed points of <em>T</em><sub><em>a</em></sub>(<em>x</em>). Let us call the set of such points <em>S</em>. There are <em>a</em><sup><em>p</em></sup> − <em>a</em> points in <em>S</em>, because by Lemma 1 again, <em>T</em><sub><em>a</em></sub>(<em>x</em>) has exactly <em>a</em> fixed points. The following diagram illustrates the situation for <em>a</em> = 3 and <em>p</em> = 2. The black circles are the points of <em>S</em>, of which there are 3<sup>2</sup> − 3 = 6.</p>
<figure><b>(Figure)</b>
<figcaption>Fixed points in the set <em>S</em></figcaption>
</figure>

<p>The main idea of the proof is now to split the set <em>S</em> up into its <strong><a href="orbit_(dynamics)" title="wikilink">orbits</a></strong> under <em>T</em><sub><em>a</em></sub>. What this means is that we pick a point <em>x</em><sub>0</sub> in <em>S</em>, and repeatedly apply <em>T</em><sub><em>a</em></sub>(x) to it, to obtain the sequence of points</p>

<p>

<math display="block" id="Proofs_of_Fermat's_little_theorem:10">
 <semantics>
  <mrow>
   <mrow>
    <msub>
     <mi>x</mi>
     <mn>0</mn>
    </msub>
    <mo>,</mo>
    <mrow>
     <msub>
      <mi>T</mi>
      <mi>a</mi>
     </msub>
     <mrow>
      <mo stretchy="false">(</mo>
      <msub>
       <mi>x</mi>
       <mn>0</mn>
      </msub>
      <mo stretchy="false">)</mo>
     </mrow>
    </mrow>
    <mo>,</mo>
    <mrow>
     <msub>
      <mi>T</mi>
      <mi>a</mi>
     </msub>
     <mrow>
      <mo stretchy="false">(</mo>
      <mrow>
       <msub>
        <mi>T</mi>
        <mi>a</mi>
       </msub>
       <mrow>
        <mo stretchy="false">(</mo>
        <msub>
         <mi>x</mi>
         <mn>0</mn>
        </msub>
        <mo stretchy="false">)</mo>
       </mrow>
      </mrow>
      <mo stretchy="false">)</mo>
     </mrow>
    </mrow>
    <mo>,</mo>
    <mrow>
     <msub>
      <mi>T</mi>
      <mi>a</mi>
     </msub>
     <mrow>
      <mo stretchy="false">(</mo>
      <mrow>
       <msub>
        <mi>T</mi>
        <mi>a</mi>
       </msub>
       <mrow>
        <mo stretchy="false">(</mo>
        <mrow>
         <msub>
          <mi>T</mi>
          <mi>a</mi>
         </msub>
         <mrow>
          <mo stretchy="false">(</mo>
          <msub>
           <mi>x</mi>
           <mn>0</mn>
          </msub>
          <mo stretchy="false">)</mo>
         </mrow>
        </mrow>
        <mo stretchy="false">)</mo>
       </mrow>
      </mrow>
      <mo stretchy="false">)</mo>
     </mrow>
    </mrow>
    <mo>,</mo>
    <mi mathvariant="normal">…</mi>
   </mrow>
   <mo>.</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <list>
    <apply>
     <csymbol cd="ambiguous">subscript</csymbol>
     <ci>x</ci>
     <cn type="integer">0</cn>
    </apply>
    <apply>
     <times></times>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <ci>T</ci>
      <ci>a</ci>
     </apply>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <ci>x</ci>
      <cn type="integer">0</cn>
     </apply>
    </apply>
    <apply>
     <times></times>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <ci>T</ci>
      <ci>a</ci>
     </apply>
     <apply>
      <times></times>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>T</ci>
       <ci>a</ci>
      </apply>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>x</ci>
       <cn type="integer">0</cn>
      </apply>
     </apply>
    </apply>
    <apply>
     <times></times>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <ci>T</ci>
      <ci>a</ci>
     </apply>
     <apply>
      <times></times>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>T</ci>
       <ci>a</ci>
      </apply>
      <apply>
       <times></times>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>T</ci>
        <ci>a</ci>
       </apply>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>x</ci>
        <cn type="integer">0</cn>
       </apply>
      </apply>
     </apply>
    </apply>
    <ci>normal-…</ci>
   </list>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   x_{0},T_{a}(x_{0}),T_{a}(T_{a}(x_{0})),T_{a}(T_{a}(T_{a}(x_{0}))),\ldots.\,\!
  </annotation>
 </semantics>
</math>

 This sequence is called the orbit of <em>x</em><sub>0</sub> under <em>T</em><sub><em>a</em></sub>. By Lemma 2, this sequence can be rewritten as</p>

<p>

<math display="block" id="Proofs_of_Fermat's_little_theorem:11">
 <semantics>
  <mrow>
   <mrow>
    <msub>
     <mi>x</mi>
     <mn>0</mn>
    </msub>
    <mo>,</mo>
    <mrow>
     <msub>
      <mi>T</mi>
      <mi>a</mi>
     </msub>
     <mrow>
      <mo stretchy="false">(</mo>
      <msub>
       <mi>x</mi>
       <mn>0</mn>
      </msub>
      <mo stretchy="false">)</mo>
     </mrow>
    </mrow>
    <mo>,</mo>
    <mrow>
     <msub>
      <mi>T</mi>
      <msup>
       <mi>a</mi>
       <mn>2</mn>
      </msup>
     </msub>
     <mrow>
      <mo stretchy="false">(</mo>
      <msub>
       <mi>x</mi>
       <mn>0</mn>
      </msub>
      <mo stretchy="false">)</mo>
     </mrow>
    </mrow>
    <mo>,</mo>
    <mrow>
     <msub>
      <mi>T</mi>
      <msup>
       <mi>a</mi>
       <mn>3</mn>
      </msup>
     </msub>
     <mrow>
      <mo stretchy="false">(</mo>
      <msub>
       <mi>x</mi>
       <mn>0</mn>
      </msub>
      <mo stretchy="false">)</mo>
     </mrow>
    </mrow>
    <mo>,</mo>
    <mi mathvariant="normal">…</mi>
   </mrow>
   <mo>.</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <list>
    <apply>
     <csymbol cd="ambiguous">subscript</csymbol>
     <ci>x</ci>
     <cn type="integer">0</cn>
    </apply>
    <apply>
     <times></times>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <ci>T</ci>
      <ci>a</ci>
     </apply>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <ci>x</ci>
      <cn type="integer">0</cn>
     </apply>
    </apply>
    <apply>
     <times></times>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <ci>T</ci>
      <apply>
       <csymbol cd="ambiguous">superscript</csymbol>
       <ci>a</ci>
       <cn type="integer">2</cn>
      </apply>
     </apply>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <ci>x</ci>
      <cn type="integer">0</cn>
     </apply>
    </apply>
    <apply>
     <times></times>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <ci>T</ci>
      <apply>
       <csymbol cd="ambiguous">superscript</csymbol>
       <ci>a</ci>
       <cn type="integer">3</cn>
      </apply>
     </apply>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <ci>x</ci>
      <cn type="integer">0</cn>
     </apply>
    </apply>
    <ci>normal-…</ci>
   </list>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   x_{0},T_{a}(x_{0}),T_{a^{2}}(x_{0}),T_{a^{3}}(x_{0}),\ldots.
  </annotation>
 </semantics>
</math>

 Since we are assuming that <em>x</em><sub>0</sub> is a fixed point of <em>T</em><sub><em>a</em><sup><em>p</em></sup></sub>(<em>x</em>), after <em>p</em> steps we hit <em>T</em><sub><em>a</em><sup><em>p</em></sup></sub>(<em>x</em><sub>0</sub>) = <em>x</em><sub>0</sub>, and from that point onwards the sequence repeats itself.</p>

<p>However, the sequence <em>cannot</em> begin repeating itself any earlier than that. If it did, the length of the repeating section would have to be a divisor of <em>p</em>, so it would have to be 1 (since <em>p</em> is prime). But this contradicts our assumption that <em>x</em><sub>0</sub> is not a fixed point of <em>T</em><sub><em>a</em></sub>.</p>

<p>In other words, the orbit contains exactly <em>p</em> distinct points. This holds for every orbit of <em>S</em>. Therefore, the set <em>S</em>, which contains <em>a</em><sup> <em>p</em></sup> − <em>a</em> points, can be broken up into orbits, each containing <em>p</em> points, so <em>a</em><sup> <em>p</em></sup> − <em>a</em> is divisible by <em>p</em>.</p>

<p>(This proof is essentially the same as the <a href="Proofs_of_Fermat%27s_little_theorem#Proof_by_counting_necklaces" title="wikilink">necklace-counting proof</a> given above, simply viewed through a different lens: one may think of the interval [0, 1] as given by sequences of digits in base <em>a</em> (our distinction between 0 and 1 corresponding to the familiar distinction between representing integers as ending in ".0000..." and ".9999..."). <em>T</em><sub><em>a</em><sup><em>n</em></sup></sub> amounts to shifting such a sequence by <em>n</em> many digits. The fixed points of this will be those sequences which are cyclic with period dividing <em>n</em>. In particular, the fixed points of <em>T</em><sub><em>a</em><sup><em>p</em></sup></sub> can be thought of as the necklaces of length <em>p</em>, with <em>T</em><sub><em>a</em><sup><em>n</em></sup></sub> corresponding to rotation of such necklaces by <em>n</em> many spots.</p>

<p>This proof could also be presented without distinguishing between 0 and 1, simply using the half-open interval [0, 1); then <em>T</em><sub>n</sub> would only have <em>n</em> - 1 many fixed points, but <em>T</em><sub><em>a</em><sup><em>p</em></sup></sub> - <em>T</em><sub><em>a</em></sub> would still work out to <em>a</em><sup><em>p</em></sup> - <em>a</em>, as needed.)</p>
<h3 id="multinomial-proofs">Multinomial proofs</h3>
<h4 id="proof-using-the-binomial-theorem">Proof using the binomial theorem</h4>

<p>This proof uses <a href="mathematical_induction" title="wikilink">induction</a> to prove the theorem for all integers <em>a</em> ≥ 0.</p>

<p>The base step, that 0<sup><em>p</em></sup> ≡ 0 (mod <em>p</em>), is true for modular arithmetic because it is true for integers. Next, we must show that if the theorem is true for <em>a</em> = <em>k</em>, then it is also true for <em>a</em> = <em>k</em>+1. For this inductive step, we need the following lemma.</p>

<p><strong>Lemma</strong>. For any prime <em>p</em>,</p>

<p>

<math display="block" id="Proofs_of_Fermat's_little_theorem:12">
 <semantics>
  <mrow>
   <mrow>
    <msup>
     <mrow>
      <mo stretchy="false">(</mo>
      <mrow>
       <mi>x</mi>
       <mo>+</mo>
       <mi>y</mi>
      </mrow>
      <mo stretchy="false">)</mo>
     </mrow>
     <mi>p</mi>
    </msup>
    <mo>≡</mo>
    <mrow>
     <mrow>
      <msup>
       <mi>x</mi>
       <mi>p</mi>
      </msup>
      <mo>+</mo>
      <msup>
       <mi>y</mi>
       <mi>p</mi>
      </msup>
     </mrow>
     <mspace width="veryverythickmathspace">
     </mspace>
     <mrow>
      <mo lspace="8.1pt" stretchy="false">(</mo>
      <mrow>
       <mo>mod</mo>
       <mi>p</mi>
      </mrow>
      <mo stretchy="false">)</mo>
     </mrow>
    </mrow>
   </mrow>
   <mo>.</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <equivalent></equivalent>
    <apply>
     <csymbol cd="ambiguous">superscript</csymbol>
     <apply>
      <plus></plus>
      <ci>x</ci>
      <ci>y</ci>
     </apply>
     <ci>p</ci>
    </apply>
    <apply>
     <csymbol cd="latexml">annotated</csymbol>
     <apply>
      <plus></plus>
      <apply>
       <csymbol cd="ambiguous">superscript</csymbol>
       <ci>x</ci>
       <ci>p</ci>
      </apply>
      <apply>
       <csymbol cd="ambiguous">superscript</csymbol>
       <ci>y</ci>
       <ci>p</ci>
      </apply>
     </apply>
     <apply>
      <ci>pmod</ci>
      <ci>p</ci>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   (x+y)^{p}\equiv x^{p}+y^{p}\;\;(\mathop{{\rm mod}}p).\,
  </annotation>
 </semantics>
</math>

</p>

<p>An alternative way of viewing this lemma is that it states that</p>

<p>

<math display="block" id="Proofs_of_Fermat's_little_theorem:13">
 <semantics>
  <mrow>
   <msup>
    <mrow>
     <mo stretchy="false">(</mo>
     <mrow>
      <mi>x</mi>
      <mo>+</mo>
      <mi>y</mi>
     </mrow>
     <mo stretchy="false">)</mo>
    </mrow>
    <mi>p</mi>
   </msup>
   <mo>=</mo>
   <mrow>
    <msup>
     <mi>x</mi>
     <mi>p</mi>
    </msup>
    <mo>+</mo>
    <msup>
     <mi>y</mi>
     <mi>p</mi>
    </msup>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <csymbol cd="ambiguous">superscript</csymbol>
     <apply>
      <plus></plus>
      <ci>x</ci>
      <ci>y</ci>
     </apply>
     <ci>p</ci>
    </apply>
    <apply>
     <plus></plus>
     <apply>
      <csymbol cd="ambiguous">superscript</csymbol>
      <ci>x</ci>
      <ci>p</ci>
     </apply>
     <apply>
      <csymbol cd="ambiguous">superscript</csymbol>
      <ci>y</ci>
      <ci>p</ci>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   (x+y)^{p}=x^{p}+y^{p}\,\!
  </annotation>
 </semantics>
</math>

 for any <em>x</em> and <em>y</em> in the <a href="finite_field" title="wikilink">finite field</a> <strong>GF</strong>(<em>p</em>).</p>

<p>Postponing the proof of the lemma for now, we proceed with the induction.</p>

<p><strong>Proof</strong>. Assume <em>k</em><sup><em>p</em></sup> ≡ <em>k</em> (mod <em>p</em>), and consider (<em>k</em>+1)<sup><em>p</em></sup>. By the lemma we have</p>

<p>

<math display="block" id="Proofs_of_Fermat's_little_theorem:14">
 <semantics>
  <mrow>
   <mrow>
    <msup>
     <mrow>
      <mo stretchy="false">(</mo>
      <mrow>
       <mi>k</mi>
       <mo>+</mo>
       <mn>1</mn>
      </mrow>
      <mo stretchy="false">)</mo>
     </mrow>
     <mi>p</mi>
    </msup>
    <mo>≡</mo>
    <mrow>
     <mrow>
      <msup>
       <mi>k</mi>
       <mi>p</mi>
      </msup>
      <mo>+</mo>
      <msup>
       <mn>1</mn>
       <mi>p</mi>
      </msup>
     </mrow>
     <mspace width="veryverythickmathspace">
     </mspace>
     <mrow>
      <mo lspace="8.1pt" stretchy="false">(</mo>
      <mrow>
       <mo>mod</mo>
       <mi>p</mi>
      </mrow>
      <mo stretchy="false">)</mo>
     </mrow>
    </mrow>
   </mrow>
   <mo>.</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <equivalent></equivalent>
    <apply>
     <csymbol cd="ambiguous">superscript</csymbol>
     <apply>
      <plus></plus>
      <ci>k</ci>
      <cn type="integer">1</cn>
     </apply>
     <ci>p</ci>
    </apply>
    <apply>
     <csymbol cd="latexml">annotated</csymbol>
     <apply>
      <plus></plus>
      <apply>
       <csymbol cd="ambiguous">superscript</csymbol>
       <ci>k</ci>
       <ci>p</ci>
      </apply>
      <apply>
       <csymbol cd="ambiguous">superscript</csymbol>
       <cn type="integer">1</cn>
       <ci>p</ci>
      </apply>
     </apply>
     <apply>
      <ci>pmod</ci>
      <ci>p</ci>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   (k+1)^{p}\equiv k^{p}+1^{p}\;\;(\mathop{{\rm mod}}p).\,
  </annotation>
 </semantics>
</math>

</p>

<p>Using the induction hypothesis, we have that <em>k</em><sup><em>p</em></sup> ≡ <em>k</em> (mod <em>p</em>); and, trivially, 1<sup><em>p</em></sup> = 1. Thus</p>

<p>

<math display="block" id="Proofs_of_Fermat's_little_theorem:15">
 <semantics>
  <mrow>
   <mrow>
    <msup>
     <mrow>
      <mo stretchy="false">(</mo>
      <mrow>
       <mi>k</mi>
       <mo>+</mo>
       <mn>1</mn>
      </mrow>
      <mo stretchy="false">)</mo>
     </mrow>
     <mi>p</mi>
    </msup>
    <mo>≡</mo>
    <mrow>
     <mrow>
      <mi>k</mi>
      <mo>+</mo>
      <mn>1</mn>
     </mrow>
     <mspace width="veryverythickmathspace">
     </mspace>
     <mrow>
      <mo lspace="8.1pt" stretchy="false">(</mo>
      <mrow>
       <mo>mod</mo>
       <mi>p</mi>
      </mrow>
      <mo stretchy="false">)</mo>
     </mrow>
    </mrow>
   </mrow>
   <mo>,</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <equivalent></equivalent>
    <apply>
     <csymbol cd="ambiguous">superscript</csymbol>
     <apply>
      <plus></plus>
      <ci>k</ci>
      <cn type="integer">1</cn>
     </apply>
     <ci>p</ci>
    </apply>
    <apply>
     <csymbol cd="latexml">annotated</csymbol>
     <apply>
      <plus></plus>
      <ci>k</ci>
      <cn type="integer">1</cn>
     </apply>
     <apply>
      <ci>pmod</ci>
      <ci>p</ci>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   (k+1)^{p}\equiv k+1\;\;(\mathop{{\rm mod}}p),\,
  </annotation>
 </semantics>
</math>

</p>

<p>which is the statement of the theorem for <em>a</em> = <em>k</em>+1. ∎</p>

<p>In order to prove the lemma, we must introduce the <a href="binomial_theorem" title="wikilink">binomial theorem</a>, which states that for any positive integer <em>n</em>,</p>

<p>

<math display="block" id="Proofs_of_Fermat's_little_theorem:16">
 <semantics>
  <mrow>
   <mrow>
    <msup>
     <mrow>
      <mo stretchy="false">(</mo>
      <mrow>
       <mi>x</mi>
       <mo>+</mo>
       <mi>y</mi>
      </mrow>
      <mo stretchy="false">)</mo>
     </mrow>
     <mi>n</mi>
    </msup>
    <mo>=</mo>
    <mrow>
     <munderover>
      <mo largeop="true" movablelimits="false" symmetric="true">∑</mo>
      <mrow>
       <mi>i</mi>
       <mo>=</mo>
       <mn>0</mn>
      </mrow>
      <mi>n</mi>
     </munderover>
     <mrow>
      <mrow>
       <mo>(</mo>
       <mtable columnspacing="0.4em" rowspacing="0.2ex">
        <mtr>
         <mtd>
          <mi>n</mi>
         </mtd>
        </mtr>
        <mtr>
         <mtd>
          <mi>i</mi>
         </mtd>
        </mtr>
       </mtable>
       <mo>)</mo>
      </mrow>
      <msup>
       <mi>x</mi>
       <mrow>
        <mi>n</mi>
        <mo>-</mo>
        <mi>i</mi>
       </mrow>
      </msup>
      <msup>
       <mi>y</mi>
       <mi>i</mi>
      </msup>
     </mrow>
    </mrow>
   </mrow>
   <mo>,</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <csymbol cd="ambiguous">superscript</csymbol>
     <apply>
      <plus></plus>
      <ci>x</ci>
      <ci>y</ci>
     </apply>
     <ci>n</ci>
    </apply>
    <apply>
     <apply>
      <csymbol cd="ambiguous">superscript</csymbol>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <sum></sum>
       <apply>
        <eq></eq>
        <ci>i</ci>
        <cn type="integer">0</cn>
       </apply>
      </apply>
      <ci>n</ci>
     </apply>
     <apply>
      <times></times>
      <apply>
       <csymbol cd="latexml">binomial</csymbol>
       <ci>n</ci>
       <ci>i</ci>
      </apply>
      <apply>
       <csymbol cd="ambiguous">superscript</csymbol>
       <ci>x</ci>
       <apply>
        <minus></minus>
        <ci>n</ci>
        <ci>i</ci>
       </apply>
      </apply>
      <apply>
       <csymbol cd="ambiguous">superscript</csymbol>
       <ci>y</ci>
       <ci>i</ci>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   (x+y)^{n}=\sum_{i=0}^{n}{n\choose i}x^{n-i}y^{i},
  </annotation>
 </semantics>
</math>

</p>

<p>where the coefficients are the <a href="binomial_coefficients" title="wikilink">binomial coefficients</a>,</p>

<p>

<math display="block" id="Proofs_of_Fermat's_little_theorem:17">
 <semantics>
  <mrow>
   <mrow>
    <mrow>
     <mo>(</mo>
     <mtable columnspacing="0.4em" rowspacing="0.2ex">
      <mtr>
       <mtd>
        <mi>n</mi>
       </mtd>
      </mtr>
      <mtr>
       <mtd>
        <mi>i</mi>
       </mtd>
      </mtr>
     </mtable>
     <mo>)</mo>
    </mrow>
    <mo>=</mo>
    <mfrac>
     <mrow>
      <mi>n</mi>
      <mo lspace="0pt" rspace="3.5pt">!</mo>
     </mrow>
     <mrow>
      <mrow>
       <mi>i</mi>
       <mo lspace="0pt" rspace="3.5pt">!</mo>
      </mrow>
      <mrow>
       <mrow>
        <mo stretchy="false">(</mo>
        <mrow>
         <mi>n</mi>
         <mo>-</mo>
         <mi>i</mi>
        </mrow>
        <mo stretchy="false">)</mo>
       </mrow>
       <mo lspace="0pt" rspace="3.5pt">!</mo>
      </mrow>
     </mrow>
    </mfrac>
   </mrow>
   <mo>,</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <csymbol cd="latexml">binomial</csymbol>
     <ci>n</ci>
     <ci>i</ci>
    </apply>
    <apply>
     <divide></divide>
     <apply>
      <factorial></factorial>
      <ci>n</ci>
     </apply>
     <apply>
      <times></times>
      <apply>
       <factorial></factorial>
       <ci>i</ci>
      </apply>
      <apply>
       <factorial></factorial>
       <apply>
        <minus></minus>
        <ci>n</ci>
        <ci>i</ci>
       </apply>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   {n\choose i}=\frac{n!}{i!(n-i)!},
  </annotation>
 </semantics>
</math>

</p>

<p>described in terms of the <a class="uri" href="factorial" title="wikilink">factorial</a> function, <em>n</em>! = 1×2×3×⋯×<em>n</em>.</p>

<p><strong>Proof</strong> of lemma. The binomial coefficients are all integers and when 0 {p \choose i} \equiv 0 \pmod{p},\qquad 0 </p>

<p>Modulo <em>p</em>, this eliminates all but the first and last terms of the sum on the right-hand side of the binomial theorem for prime <em>p</em>. ∎</p>

<p>The primality of <em>p</em> is essential to the lemma; otherwise, we have examples like</p>

<p>

<math display="block" id="Proofs_of_Fermat's_little_theorem:18">
 <semantics>
  <mrow>
   <mrow>
    <mrow>
     <mo>(</mo>
     <mtable columnspacing="0.4em" rowspacing="0.2ex">
      <mtr>
       <mtd>
        <mn>4</mn>
       </mtd>
      </mtr>
      <mtr>
       <mtd>
        <mn>2</mn>
       </mtd>
      </mtr>
     </mtable>
     <mo>)</mo>
    </mrow>
    <mo>=</mo>
    <mn>6</mn>
   </mrow>
   <mo>,</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <csymbol cd="latexml">binomial</csymbol>
     <cn type="integer">4</cn>
     <cn type="integer">2</cn>
    </apply>
    <cn type="integer">6</cn>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   {4\choose 2}=6,
  </annotation>
 </semantics>
</math>

</p>

<p>which is not divisible by 4.</p>
<h4 id="proof-using-the-multinomial-expansion">Proof using the multinomial expansion</h4>

<p>The proof is a very simple application of the <a href="multinomial_theorem" title="wikilink">multinomial theorem</a> which is brought here for the sake of simplicity.</p>

<p>

<math display="block" id="Proofs_of_Fermat's_little_theorem:19">
 <semantics>
  <mrow>
   <mrow>
    <msup>
     <mrow>
      <mo stretchy="false">(</mo>
      <mrow>
       <msub>
        <mi>x</mi>
        <mn>1</mn>
       </msub>
       <mo>+</mo>
       <msub>
        <mi>x</mi>
        <mn>2</mn>
       </msub>
       <mo>+</mo>
       <mi mathvariant="normal">⋯</mi>
       <mo>+</mo>
       <msub>
        <mi>x</mi>
        <mi>m</mi>
       </msub>
      </mrow>
      <mo stretchy="false">)</mo>
     </mrow>
     <mi>n</mi>
    </msup>
    <mo>=</mo>
    <mrow>
     <munder>
      <mo largeop="true" movablelimits="false" symmetric="true">∑</mo>
      <mrow>
       <msub>
        <mi>k</mi>
        <mn>1</mn>
       </msub>
       <mo>,</mo>
       <msub>
        <mi>k</mi>
        <mn>2</mn>
       </msub>
       <mo>,</mo>
       <mi mathvariant="normal">…</mi>
       <mo>,</mo>
       <msub>
        <mi>k</mi>
        <mi>m</mi>
       </msub>
      </mrow>
     </munder>
     <mrow>
      <mrow>
       <mo>(</mo>
       <mtable columnspacing="0.4em" rowspacing="0.2ex">
        <mtr>
         <mtd>
          <mi>n</mi>
         </mtd>
        </mtr>
        <mtr>
         <mtd>
          <mrow>
           <msub>
            <mi>k</mi>
            <mn>1</mn>
           </msub>
           <mo>,</mo>
           <msub>
            <mi>k</mi>
            <mn>2</mn>
           </msub>
           <mo>,</mo>
           <mi mathvariant="normal">…</mi>
           <mo>,</mo>
           <msub>
            <mi>k</mi>
            <mi>m</mi>
           </msub>
          </mrow>
         </mtd>
        </mtr>
       </mtable>
       <mo>)</mo>
      </mrow>
      <msubsup>
       <mi>x</mi>
       <mn>1</mn>
       <msub>
        <mi>k</mi>
        <mn>1</mn>
       </msub>
      </msubsup>
      <msubsup>
       <mi>x</mi>
       <mn>2</mn>
       <msub>
        <mi>k</mi>
        <mn>2</mn>
       </msub>
      </msubsup>
      <mi mathvariant="normal">⋯</mi>
      <msubsup>
       <mi>x</mi>
       <mi>m</mi>
       <msub>
        <mi>k</mi>
        <mi>m</mi>
       </msub>
      </msubsup>
     </mrow>
    </mrow>
   </mrow>
   <mo>.</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <csymbol cd="ambiguous">superscript</csymbol>
     <apply>
      <plus></plus>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>x</ci>
       <cn type="integer">1</cn>
      </apply>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>x</ci>
       <cn type="integer">2</cn>
      </apply>
      <ci>normal-⋯</ci>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>x</ci>
       <ci>m</ci>
      </apply>
     </apply>
     <ci>n</ci>
    </apply>
    <apply>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <sum></sum>
      <list>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>k</ci>
        <cn type="integer">1</cn>
       </apply>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>k</ci>
        <cn type="integer">2</cn>
       </apply>
       <ci>normal-…</ci>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>k</ci>
        <ci>m</ci>
       </apply>
      </list>
     </apply>
     <apply>
      <times></times>
      <apply>
       <csymbol cd="latexml">binomial</csymbol>
       <ci>n</ci>
       <list>
        <apply>
         <csymbol cd="ambiguous">subscript</csymbol>
         <ci>k</ci>
         <cn type="integer">1</cn>
        </apply>
        <apply>
         <csymbol cd="ambiguous">subscript</csymbol>
         <ci>k</ci>
         <cn type="integer">2</cn>
        </apply>
        <ci>normal-…</ci>
        <apply>
         <csymbol cd="ambiguous">subscript</csymbol>
         <ci>k</ci>
         <ci>m</ci>
        </apply>
       </list>
      </apply>
      <apply>
       <csymbol cd="ambiguous">superscript</csymbol>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>x</ci>
        <cn type="integer">1</cn>
       </apply>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>k</ci>
        <cn type="integer">1</cn>
       </apply>
      </apply>
      <apply>
       <csymbol cd="ambiguous">superscript</csymbol>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>x</ci>
        <cn type="integer">2</cn>
       </apply>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>k</ci>
        <cn type="integer">2</cn>
       </apply>
      </apply>
      <ci>normal-⋯</ci>
      <apply>
       <csymbol cd="ambiguous">superscript</csymbol>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>x</ci>
        <ci>m</ci>
       </apply>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>k</ci>
        <ci>m</ci>
       </apply>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   (x_{1}+x_{2}+\cdots+x_{m})^{n}=\sum_{k_{1},k_{2},\ldots,k_{m}}{n\choose k_{1},%
k_{2},\ldots,k_{m}}x_{1}^{k_{1}}x_{2}^{k_{2}}\cdots x_{m}^{k_{m}}.
  </annotation>
 </semantics>
</math>

</p>

<p>The summation is taken over all sequences of nonnegative integer indices <em>k</em><sub>1</sub> through <em>k</em><sub>m</sub> such the sum of all <em>k</em><sub>i</sub> is n.</p>

<p>Thus if we express <em>a</em> as a sum of 1s (ones), we obtain</p>

<p>

<math display="block" id="Proofs_of_Fermat's_little_theorem:20">
 <semantics>
  <mrow>
   <msup>
    <mi>a</mi>
    <mi>p</mi>
   </msup>
   <mo>=</mo>
   <mrow>
    <munder>
     <mo largeop="true" movablelimits="false" symmetric="true">∑</mo>
     <mrow>
      <msub>
       <mi>k</mi>
       <mn>1</mn>
      </msub>
      <mo>,</mo>
      <msub>
       <mi>k</mi>
       <mn>2</mn>
      </msub>
      <mo>,</mo>
      <mi mathvariant="normal">…</mi>
      <mo>,</mo>
      <msub>
       <mi>k</mi>
       <mi>a</mi>
      </msub>
     </mrow>
    </munder>
    <mrow>
     <mo>(</mo>
     <mtable columnspacing="0.4em" rowspacing="0.2ex">
      <mtr>
       <mtd>
        <mi>p</mi>
       </mtd>
      </mtr>
      <mtr>
       <mtd>
        <mrow>
         <msub>
          <mi>k</mi>
          <mn>1</mn>
         </msub>
         <mo>,</mo>
         <msub>
          <mi>k</mi>
          <mn>2</mn>
         </msub>
         <mo>,</mo>
         <mi mathvariant="normal">…</mi>
         <mo>,</mo>
         <msub>
          <mi>k</mi>
          <mi>a</mi>
         </msub>
        </mrow>
       </mtd>
      </mtr>
     </mtable>
     <mo>)</mo>
    </mrow>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <csymbol cd="ambiguous">superscript</csymbol>
     <ci>a</ci>
     <ci>p</ci>
    </apply>
    <apply>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <sum></sum>
      <list>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>k</ci>
        <cn type="integer">1</cn>
       </apply>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>k</ci>
        <cn type="integer">2</cn>
       </apply>
       <ci>normal-…</ci>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>k</ci>
        <ci>a</ci>
       </apply>
      </list>
     </apply>
     <apply>
      <csymbol cd="latexml">binomial</csymbol>
      <ci>p</ci>
      <list>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>k</ci>
        <cn type="integer">1</cn>
       </apply>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>k</ci>
        <cn type="integer">2</cn>
       </apply>
       <ci>normal-…</ci>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>k</ci>
        <ci>a</ci>
       </apply>
      </list>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   a^{p}=\sum_{k_{1},k_{2},\ldots,k_{a}}{p\choose k_{1},k_{2},\ldots,k_{a}}
  </annotation>
 </semantics>
</math>

</p>

<p>Clearly, if <em>p</em> is prime, and if k<sub>j</sub> not equal to <em>p</em> for any <em>j</em>, we have</p>

<p>

<math display="block" id="Proofs_of_Fermat's_little_theorem:21">
 <semantics>
  <mrow>
   <mrow>
    <mo>(</mo>
    <mtable columnspacing="0.4em" rowspacing="0.2ex">
     <mtr>
      <mtd>
       <mi>p</mi>
      </mtd>
     </mtr>
     <mtr>
      <mtd>
       <mrow>
        <msub>
         <mi>k</mi>
         <mn>1</mn>
        </msub>
        <mo>,</mo>
        <msub>
         <mi>k</mi>
         <mn>2</mn>
        </msub>
        <mo>,</mo>
        <mi mathvariant="normal">…</mi>
        <mo>,</mo>
        <msub>
         <mi>k</mi>
         <mi>a</mi>
        </msub>
       </mrow>
      </mtd>
     </mtr>
    </mtable>
    <mo>)</mo>
   </mrow>
   <mo>≡</mo>
   <mrow>
    <mn>0</mn>
    <mspace width="veryverythickmathspace">
    </mspace>
    <mrow>
     <mo lspace="8.1pt" stretchy="false">(</mo>
     <mrow>
      <mo>mod</mo>
      <mi>p</mi>
     </mrow>
     <mo stretchy="false">)</mo>
    </mrow>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <equivalent></equivalent>
    <apply>
     <csymbol cd="latexml">binomial</csymbol>
     <ci>p</ci>
     <list>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>k</ci>
       <cn type="integer">1</cn>
      </apply>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>k</ci>
       <cn type="integer">2</cn>
      </apply>
      <ci>normal-…</ci>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>k</ci>
       <ci>a</ci>
      </apply>
     </list>
    </apply>
    <apply>
     <csymbol cd="latexml">annotated</csymbol>
     <cn type="integer">0</cn>
     <apply>
      <ci>pmod</ci>
      <ci>p</ci>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   {p\choose k_{1},k_{2},\ldots,k_{a}}\equiv 0\;\;(\mathop{{\rm mod}}p)\,\!
  </annotation>
 </semantics>
</math>

</p>

<p>and</p>

<p>

<math display="block" id="Proofs_of_Fermat's_little_theorem:22">
 <semantics>
  <mrow>
   <mrow>
    <mo>(</mo>
    <mtable columnspacing="0.4em" rowspacing="0.2ex">
     <mtr>
      <mtd>
       <mi>p</mi>
      </mtd>
     </mtr>
     <mtr>
      <mtd>
       <mrow>
        <msub>
         <mi>k</mi>
         <mn>1</mn>
        </msub>
        <mo>,</mo>
        <msub>
         <mi>k</mi>
         <mn>2</mn>
        </msub>
        <mo>,</mo>
        <mi mathvariant="normal">…</mi>
        <mo>,</mo>
        <msub>
         <mi>k</mi>
         <mi>a</mi>
        </msub>
       </mrow>
      </mtd>
     </mtr>
    </mtable>
    <mo>)</mo>
   </mrow>
   <mo>≡</mo>
   <mrow>
    <mn>1</mn>
    <mspace width="veryverythickmathspace">
    </mspace>
    <mrow>
     <mo lspace="8.1pt" stretchy="false">(</mo>
     <mrow>
      <mo>mod</mo>
      <mi>p</mi>
     </mrow>
     <mo stretchy="false">)</mo>
    </mrow>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <equivalent></equivalent>
    <apply>
     <csymbol cd="latexml">binomial</csymbol>
     <ci>p</ci>
     <list>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>k</ci>
       <cn type="integer">1</cn>
      </apply>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>k</ci>
       <cn type="integer">2</cn>
      </apply>
      <ci>normal-…</ci>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>k</ci>
       <ci>a</ci>
      </apply>
     </list>
    </apply>
    <apply>
     <csymbol cd="latexml">annotated</csymbol>
     <cn type="integer">1</cn>
     <apply>
      <ci>pmod</ci>
      <ci>p</ci>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   {p\choose k_{1},k_{2},\ldots,k_{a}}\equiv 1\;\;(\mathop{{\rm mod}}p)\,\!
  </annotation>
 </semantics>
</math>

</p>

<p>if k<sub>j</sub> equal to <em>p</em> for some <em>j</em></p>

<p>Since there are exactly <em>a</em> elements such that 

<math display="inline" id="Proofs_of_Fermat's_little_theorem:23">
 <semantics>
  <mrow>
   <msub>
    <mi>k</mi>
    <mi>j</mi>
   </msub>
   <mo>=</mo>
   <mi>p</mi>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <csymbol cd="ambiguous">subscript</csymbol>
     <ci>k</ci>
     <ci>j</ci>
    </apply>
    <ci>p</ci>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   k_{j}=p
  </annotation>
 </semantics>
</math>

 the theorem follows.</p>

<p>(This proof is essentially a coarser-grained variant of the <a href="Proofs_of_Fermat%27s_little_theorem#Proof_by_counting_necklaces" title="wikilink">necklace-counting proof</a> given earlier; the multinomial coefficients count the number of ways a string can be permuted into arbitrary anagrams, while the necklace argument counts the number of ways a string can be rotated into cyclic anagrams. That is to say, that the nontrivial multinomial coefficients here are divisible by <em>p</em> can be seen as a consequence of the fact that each nontrivial necklace of length <em>p</em> can be unwrapped into a string in <em>p</em> many ways.</p>

<p>This multinomial expansion is also, of course, what essentially underlies the <a href="Proofs_of_Fermat%27s_little_theorem#Proof_using_the_binomial_theorem" title="wikilink">binomial theorem-based proof</a> above)</p>
<h3 id="proof-using-power-product-expansions">Proof using power product expansions</h3>

<p>An additive-combinatorial proof based on formal power product expansions was given by Giedrius Alkauskas.<a class="footnoteRef" href="#fn2" id="fnref2"><sup>2</sup></a> This proof uses neither <a href="euclidean_algorithm" title="wikilink">euclidean algorithm</a> nor <a href="binomial_theorem" title="wikilink">binomial theorem</a>, but rather employs the interplay between an additive and multiplicative structures of integers.</p>
<h2 id="proofs-using-modular-arithmetic">Proofs using modular arithmetic</h2>

<p>These proofs require some background in <a href="modular_arithmetic" title="wikilink">modular arithmetic</a>.</p>

<p>Let us assume that <em>a</em> is positive and not divisible by <em>p</em>.</p>

<p>The idea is that if we write down the sequence of numbers</p>

<p>

<math display="block" id="Proofs_of_Fermat's_little_theorem:24">
 <semantics>
  <mrow>
   <mi>a</mi>
   <mo>,</mo>
   <mrow>
    <mn>2</mn>
    <mi>a</mi>
   </mrow>
   <mo>,</mo>
   <mrow>
    <mn>3</mn>
    <mi>a</mi>
   </mrow>
   <mo>,</mo>
   <mi mathvariant="normal">…</mi>
   <mo>,</mo>
   <mrow>
    <mrow>
     <mo stretchy="false">(</mo>
     <mrow>
      <mi>p</mi>
      <mo>-</mo>
      <mn>1</mn>
     </mrow>
     <mo stretchy="false">)</mo>
    </mrow>
    <mi>a</mi>
   </mrow>
   <mrow>
    <mo stretchy="false">(</mo>
    <mi>A</mi>
    <mo stretchy="false">)</mo>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <list>
    <ci>a</ci>
    <apply>
     <times></times>
     <cn type="integer">2</cn>
     <ci>a</ci>
    </apply>
    <apply>
     <times></times>
     <cn type="integer">3</cn>
     <ci>a</ci>
    </apply>
    <ci>normal-…</ci>
    <apply>
     <times></times>
     <apply>
      <minus></minus>
      <ci>p</ci>
      <cn type="integer">1</cn>
     </apply>
     <ci>a</ci>
    </apply>
    <ci>A</ci>
   </list>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   a,2a,3a,\ldots,(p-1)a\quad\quad(A)
  </annotation>
 </semantics>
</math>

 and reduce each one modulo <em>p</em>, the resulting sequence turns out to be a rearrangement of</p>

<p>

<math display="block" id="Proofs_of_Fermat's_little_theorem:25">
 <semantics>
  <mrow>
   <mn>1</mn>
   <mo>,</mo>
   <mn>2</mn>
   <mo>,</mo>
   <mn>3</mn>
   <mo>,</mo>
   <mi mathvariant="normal">…</mi>
   <mo>,</mo>
   <mrow>
    <mi>p</mi>
    <mo>-</mo>
    <mn>1.</mn>
   </mrow>
   <mrow>
    <mo stretchy="false">(</mo>
    <mi>B</mi>
    <mo stretchy="false">)</mo>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <list>
    <cn type="integer">1</cn>
    <cn type="integer">2</cn>
    <cn type="integer">3</cn>
    <ci>normal-…</ci>
    <apply>
     <minus></minus>
     <ci>p</ci>
     <cn type="float">1.</cn>
    </apply>
    <ci>B</ci>
   </list>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   1,2,3,\ldots,p-1.\quad\quad\quad(B)
  </annotation>
 </semantics>
</math>

 Therefore, if we multiply together the numbers in each sequence, the results must be identical modulo <em>p</em>:</p>

<p>

<math display="block" id="Proofs_of_Fermat's_little_theorem:26">
 <semantics>
  <mrow>
   <mrow>
    <mrow>
     <mrow>
      <mrow>
       <mrow>
        <mrow>
         <mrow>
          <mi>a</mi>
          <mo>×</mo>
          <mn>2</mn>
         </mrow>
         <mi>a</mi>
        </mrow>
        <mo>×</mo>
        <mn>3</mn>
       </mrow>
       <mi>a</mi>
      </mrow>
      <mo>×</mo>
      <mi mathvariant="normal">⋯</mi>
      <mo>×</mo>
      <mrow>
       <mo stretchy="false">(</mo>
       <mrow>
        <mi>p</mi>
        <mo>-</mo>
        <mn>1</mn>
       </mrow>
       <mo stretchy="false">)</mo>
      </mrow>
     </mrow>
     <mi>a</mi>
    </mrow>
    <mo>≡</mo>
    <mrow>
     <mrow>
      <mn>1</mn>
      <mo>×</mo>
      <mn>2</mn>
      <mo>×</mo>
      <mn>3</mn>
      <mo>×</mo>
      <mi mathvariant="normal">⋯</mi>
      <mo>×</mo>
      <mrow>
       <mo stretchy="false">(</mo>
       <mrow>
        <mi>p</mi>
        <mo>-</mo>
        <mn>1</mn>
       </mrow>
       <mo stretchy="false">)</mo>
      </mrow>
     </mrow>
     <mspace width="veryverythickmathspace">
     </mspace>
     <mrow>
      <mo lspace="8.1pt" stretchy="false">(</mo>
      <mrow>
       <mo>mod</mo>
       <mi>p</mi>
      </mrow>
      <mo stretchy="false">)</mo>
     </mrow>
    </mrow>
   </mrow>
   <mo>.</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <equivalent></equivalent>
    <apply>
     <times></times>
     <apply>
      <times></times>
      <apply>
       <times></times>
       <apply>
        <times></times>
        <apply>
         <times></times>
         <apply>
          <times></times>
          <ci>a</ci>
          <cn type="integer">2</cn>
         </apply>
         <ci>a</ci>
        </apply>
        <cn type="integer">3</cn>
       </apply>
       <ci>a</ci>
      </apply>
      <ci>normal-⋯</ci>
      <apply>
       <minus></minus>
       <ci>p</ci>
       <cn type="integer">1</cn>
      </apply>
     </apply>
     <ci>a</ci>
    </apply>
    <apply>
     <csymbol cd="latexml">annotated</csymbol>
     <apply>
      <times></times>
      <cn type="integer">1</cn>
      <cn type="integer">2</cn>
      <cn type="integer">3</cn>
      <ci>normal-⋯</ci>
      <apply>
       <minus></minus>
       <ci>p</ci>
       <cn type="integer">1</cn>
      </apply>
     </apply>
     <apply>
      <ci>pmod</ci>
      <ci>p</ci>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   a\times 2a\times 3a\times\cdots\times(p-1)a\equiv 1\times 2\times 3\times%
\cdots\times(p-1)\;\;(\mathop{{\rm mod}}p).
  </annotation>
 </semantics>
</math>

 Collecting together the <em>a</em> terms yields</p>

<p>

<math display="block" id="Proofs_of_Fermat's_little_theorem:27">
 <semantics>
  <mrow>
   <mrow>
    <mrow>
     <msup>
      <mi>a</mi>
      <mrow>
       <mi>p</mi>
       <mo>-</mo>
       <mn>1</mn>
      </mrow>
     </msup>
     <mrow>
      <mrow>
       <mo stretchy="false">(</mo>
       <mrow>
        <mi>p</mi>
        <mo>-</mo>
        <mn>1</mn>
       </mrow>
       <mo stretchy="false">)</mo>
      </mrow>
      <mo lspace="0pt" rspace="3.5pt">!</mo>
     </mrow>
    </mrow>
    <mo>≡</mo>
    <mrow>
     <mrow>
      <mrow>
       <mo stretchy="false">(</mo>
       <mrow>
        <mi>p</mi>
        <mo>-</mo>
        <mn>1</mn>
       </mrow>
       <mo stretchy="false">)</mo>
      </mrow>
      <mo lspace="0pt" rspace="3.5pt">!</mo>
     </mrow>
     <mspace width="veryverythickmathspace">
     </mspace>
     <mrow>
      <mo lspace="8.1pt" stretchy="false">(</mo>
      <mrow>
       <mo>mod</mo>
       <mi>p</mi>
      </mrow>
      <mo stretchy="false">)</mo>
     </mrow>
    </mrow>
   </mrow>
   <mo>.</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <equivalent></equivalent>
    <apply>
     <times></times>
     <apply>
      <csymbol cd="ambiguous">superscript</csymbol>
      <ci>a</ci>
      <apply>
       <minus></minus>
       <ci>p</ci>
       <cn type="integer">1</cn>
      </apply>
     </apply>
     <apply>
      <factorial></factorial>
      <apply>
       <minus></minus>
       <ci>p</ci>
       <cn type="integer">1</cn>
      </apply>
     </apply>
    </apply>
    <apply>
     <csymbol cd="latexml">annotated</csymbol>
     <apply>
      <factorial></factorial>
      <apply>
       <minus></minus>
       <ci>p</ci>
       <cn type="integer">1</cn>
      </apply>
     </apply>
     <apply>
      <ci>pmod</ci>
      <ci>p</ci>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   a^{p-1}(p-1)!\equiv(p-1)!\;\;(\mathop{{\rm mod}}p).
  </annotation>
 </semantics>
</math>

 Finally, we may "cancel out" the numbers 1, 2, ..., <em>p</em> − 1 from both sides of this equation, obtaining</p>

<p>

<math display="block" id="Proofs_of_Fermat's_little_theorem:28">
 <semantics>
  <mrow>
   <mrow>
    <msup>
     <mi>a</mi>
     <mrow>
      <mi>p</mi>
      <mo>-</mo>
      <mn>1</mn>
     </mrow>
    </msup>
    <mo>≡</mo>
    <mrow>
     <mn>1</mn>
     <mspace width="veryverythickmathspace">
     </mspace>
     <mrow>
      <mo lspace="8.1pt" stretchy="false">(</mo>
      <mrow>
       <mo>mod</mo>
       <mi>p</mi>
      </mrow>
      <mo stretchy="false">)</mo>
     </mrow>
    </mrow>
   </mrow>
   <mo>.</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <equivalent></equivalent>
    <apply>
     <csymbol cd="ambiguous">superscript</csymbol>
     <ci>a</ci>
     <apply>
      <minus></minus>
      <ci>p</ci>
      <cn type="integer">1</cn>
     </apply>
    </apply>
    <apply>
     <csymbol cd="latexml">annotated</csymbol>
     <cn type="integer">1</cn>
     <apply>
      <ci>pmod</ci>
      <ci>p</ci>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   a^{p-1}\equiv 1\;\;(\mathop{{\rm mod}}p).\,\!
  </annotation>
 </semantics>
</math>

</p>

<p>There are two steps in the above proof that we need to justify:</p>
<ul>
<li>Why (A) is a rearrangement of (B), and</li>
<li>Why it is valid to "cancel" in the setting of modular arithmetic.</li>
</ul>

<p>We will prove these things below; let us first see an example of this proof in action.</p>
<h3 id="an-example">An example</h3>

<p>If <em>a</em> = 3 and <em>p</em> = 7, then the sequence in question is</p>

<p>

<math display="block" id="Proofs_of_Fermat's_little_theorem:29">
 <semantics>
  <mrow>
   <mrow>
    <mn>3</mn>
    <mo>,</mo>
    <mn>6</mn>
    <mo>,</mo>
    <mn>9</mn>
    <mo>,</mo>
    <mn>12</mn>
    <mo>,</mo>
    <mn>15</mn>
    <mo>,</mo>
    <mn>18</mn>
   </mrow>
   <mo>;</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <list>
    <cn type="integer">3</cn>
    <cn type="integer">6</cn>
    <cn type="integer">9</cn>
    <cn type="integer">12</cn>
    <cn type="integer">15</cn>
    <cn type="integer">18</cn>
   </list>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   3,6,9,12,15,18;\,\!
  </annotation>
 </semantics>
</math>

 reducing modulo 7 gives</p>

<p>

<math display="block" id="Proofs_of_Fermat's_little_theorem:30">
 <semantics>
  <mrow>
   <mrow>
    <mn>3</mn>
    <mo>,</mo>
    <mn>6</mn>
    <mo>,</mo>
    <mn>2</mn>
    <mo>,</mo>
    <mn>5</mn>
    <mo>,</mo>
    <mn>1</mn>
    <mo>,</mo>
    <mn>4</mn>
   </mrow>
   <mo>,</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <list>
    <cn type="integer">3</cn>
    <cn type="integer">6</cn>
    <cn type="integer">2</cn>
    <cn type="integer">5</cn>
    <cn type="integer">1</cn>
    <cn type="integer">4</cn>
   </list>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   3,6,2,5,1,4,\,\!
  </annotation>
 </semantics>
</math>

 which is just a rearrangement of</p>

<p>

<math display="block" id="Proofs_of_Fermat's_little_theorem:31">
 <semantics>
  <mrow>
   <mn>1</mn>
   <mo>,</mo>
   <mn>2</mn>
   <mo>,</mo>
   <mn>3</mn>
   <mo>,</mo>
   <mn>4</mn>
   <mo>,</mo>
   <mn>5</mn>
   <mo>,</mo>
   <mn>6.</mn>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <list>
    <cn type="integer">1</cn>
    <cn type="integer">2</cn>
    <cn type="integer">3</cn>
    <cn type="integer">4</cn>
    <cn type="integer">5</cn>
    <cn type="float">6.</cn>
   </list>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   1,2,3,4,5,6.\,\!
  </annotation>
 </semantics>
</math>

 Multiplying them together gives</p>

<p>

<math display="block" id="Proofs_of_Fermat's_little_theorem:32">
 <semantics>
  <mrow>
   <mrow>
    <mrow>
     <mn>3</mn>
     <mo>×</mo>
     <mn>6</mn>
     <mo>×</mo>
     <mn>9</mn>
     <mo>×</mo>
     <mn>12</mn>
     <mo>×</mo>
     <mn>15</mn>
     <mo>×</mo>
     <mn>18</mn>
    </mrow>
    <mo>≡</mo>
    <mrow>
     <mn>3</mn>
     <mo>×</mo>
     <mn>6</mn>
     <mo>×</mo>
     <mn>2</mn>
     <mo>×</mo>
     <mn>5</mn>
     <mo>×</mo>
     <mn>1</mn>
     <mo>×</mo>
     <mn>4</mn>
    </mrow>
    <mo>≡</mo>
    <mrow>
     <mrow>
      <mn>1</mn>
      <mo>×</mo>
      <mn>2</mn>
      <mo>×</mo>
      <mn>3</mn>
      <mo>×</mo>
      <mn>4</mn>
      <mo>×</mo>
      <mn>5</mn>
      <mo>×</mo>
      <mn>6</mn>
     </mrow>
     <mspace width="veryverythickmathspace">
     </mspace>
     <mrow>
      <mo lspace="8.1pt" stretchy="false">(</mo>
      <mrow>
       <mo>mod</mo>
       <mn>7</mn>
      </mrow>
      <mo stretchy="false">)</mo>
     </mrow>
    </mrow>
   </mrow>
   <mo>;</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <and></and>
    <apply>
     <equivalent></equivalent>
     <apply>
      <times></times>
      <cn type="integer">3</cn>
      <cn type="integer">6</cn>
      <cn type="integer">9</cn>
      <cn type="integer">12</cn>
      <cn type="integer">15</cn>
      <cn type="integer">18</cn>
     </apply>
     <apply>
      <times></times>
      <cn type="integer">3</cn>
      <cn type="integer">6</cn>
      <cn type="integer">2</cn>
      <cn type="integer">5</cn>
      <cn type="integer">1</cn>
      <cn type="integer">4</cn>
     </apply>
    </apply>
    <apply>
     <equivalent></equivalent>
     <share href="#.cmml">
     </share>
     <apply>
      <csymbol cd="latexml">annotated</csymbol>
      <apply>
       <times></times>
       <cn type="integer">1</cn>
       <cn type="integer">2</cn>
       <cn type="integer">3</cn>
       <cn type="integer">4</cn>
       <cn type="integer">5</cn>
       <cn type="integer">6</cn>
      </apply>
      <apply>
       <ci>pmod</ci>
       <cn type="integer">7</cn>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   3\times 6\times 9\times 12\times 15\times 18\equiv 3\times 6\times 2\times 5%
\times 1\times 4\equiv 1\times 2\times 3\times 4\times 5\times 6\;\;(\mathop{{%
\rm mod}}7);\,\!
  </annotation>
 </semantics>
</math>

 that is,</p>

<p>

<math display="block" id="Proofs_of_Fermat's_little_theorem:33">
 <semantics>
  <mrow>
   <mrow>
    <mrow>
     <msup>
      <mn>3</mn>
      <mn>6</mn>
     </msup>
     <mrow>
      <mo stretchy="false">(</mo>
      <mrow>
       <mn>1</mn>
       <mo>×</mo>
       <mn>2</mn>
       <mo>×</mo>
       <mn>3</mn>
       <mo>×</mo>
       <mn>4</mn>
       <mo>×</mo>
       <mn>5</mn>
       <mo>×</mo>
       <mn>6</mn>
      </mrow>
      <mo stretchy="false">)</mo>
     </mrow>
    </mrow>
    <mo>≡</mo>
    <mrow>
     <mrow>
      <mo stretchy="false">(</mo>
      <mrow>
       <mn>1</mn>
       <mo>×</mo>
       <mn>2</mn>
       <mo>×</mo>
       <mn>3</mn>
       <mo>×</mo>
       <mn>4</mn>
       <mo>×</mo>
       <mn>5</mn>
       <mo>×</mo>
       <mn>6</mn>
      </mrow>
      <mo stretchy="false">)</mo>
     </mrow>
     <mspace width="veryverythickmathspace">
     </mspace>
     <mrow>
      <mo lspace="8.1pt" stretchy="false">(</mo>
      <mrow>
       <mo>mod</mo>
       <mn>7</mn>
      </mrow>
      <mo stretchy="false">)</mo>
     </mrow>
    </mrow>
   </mrow>
   <mo>.</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <equivalent></equivalent>
    <apply>
     <times></times>
     <apply>
      <csymbol cd="ambiguous">superscript</csymbol>
      <cn type="integer">3</cn>
      <cn type="integer">6</cn>
     </apply>
     <apply>
      <times></times>
      <cn type="integer">1</cn>
      <cn type="integer">2</cn>
      <cn type="integer">3</cn>
      <cn type="integer">4</cn>
      <cn type="integer">5</cn>
      <cn type="integer">6</cn>
     </apply>
    </apply>
    <apply>
     <csymbol cd="latexml">annotated</csymbol>
     <apply>
      <times></times>
      <cn type="integer">1</cn>
      <cn type="integer">2</cn>
      <cn type="integer">3</cn>
      <cn type="integer">4</cn>
      <cn type="integer">5</cn>
      <cn type="integer">6</cn>
     </apply>
     <apply>
      <ci>pmod</ci>
      <cn type="integer">7</cn>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   3^{6}(1\times 2\times 3\times 4\times 5\times 6)\equiv(1\times 2\times 3\times
4%
\times 5\times 6)\;\;(\mathop{{\rm mod}}7).\,\!
  </annotation>
 </semantics>
</math>

 Canceling out 1 × 2 × 3 × 4 × 5 × 6 yields</p>

<p>

<math display="block" id="Proofs_of_Fermat's_little_theorem:34">
 <semantics>
  <mrow>
   <mrow>
    <msup>
     <mn>3</mn>
     <mn>6</mn>
    </msup>
    <mo>≡</mo>
    <mrow>
     <mn>1</mn>
     <mspace width="veryverythickmathspace">
     </mspace>
     <mrow>
      <mo lspace="8.1pt" stretchy="false">(</mo>
      <mrow>
       <mo>mod</mo>
       <mn>7</mn>
      </mrow>
      <mo stretchy="false">)</mo>
     </mrow>
    </mrow>
   </mrow>
   <mo>,</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <equivalent></equivalent>
    <apply>
     <csymbol cd="ambiguous">superscript</csymbol>
     <cn type="integer">3</cn>
     <cn type="integer">6</cn>
    </apply>
    <apply>
     <csymbol cd="latexml">annotated</csymbol>
     <cn type="integer">1</cn>
     <apply>
      <ci>pmod</ci>
      <cn type="integer">7</cn>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   3^{6}\equiv 1\;\;(\mathop{{\rm mod}}7),\,\!
  </annotation>
 </semantics>
</math>

 which is Fermat's little theorem for the case <em>a</em> = 3 and <em>p</em> = 7.</p>
<h3 id="the-cancellation-law">The cancellation law</h3>

<p>Let us first explain why it is valid, in certain situations, to "cancel". The exact statement is as follows. If <em>u</em>, <em>x</em>, and <em>y</em> are integers, and <em>u</em> is not divisible by a prime number <em>p</em>, and if</p>

<p>

<math display="block" id="Proofs_of_Fermat's_little_theorem:35">
 <semantics>
  <mrow>
   <mrow>
    <mrow>
     <mi>u</mi>
     <mi>x</mi>
    </mrow>
    <mo>≡</mo>
    <mrow>
     <mrow>
      <mi>u</mi>
      <mi>y</mi>
     </mrow>
     <mspace width="veryverythickmathspace">
     </mspace>
     <mrow>
      <mo lspace="8.1pt" stretchy="false">(</mo>
      <mrow>
       <mo>mod</mo>
       <mi>p</mi>
      </mrow>
      <mo stretchy="false">)</mo>
     </mrow>
    </mrow>
   </mrow>
   <mo>,</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <equivalent></equivalent>
    <apply>
     <times></times>
     <ci>u</ci>
     <ci>x</ci>
    </apply>
    <apply>
     <csymbol cd="latexml">annotated</csymbol>
     <apply>
      <times></times>
      <ci>u</ci>
      <ci>y</ci>
     </apply>
     <apply>
      <ci>pmod</ci>
      <ci>p</ci>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   ux\equiv uy\;\;(\mathop{{\rm mod}}p),\,\!
  </annotation>
 </semantics>
</math>

 then we may "cancel" <em>u</em> to obtain</p>

<p>

<math display="block" id="Proofs_of_Fermat's_little_theorem:36">
 <semantics>
  <mrow>
   <mrow>
    <mi>x</mi>
    <mo>≡</mo>
    <mrow>
     <mi>y</mi>
     <mspace width="veryverythickmathspace">
     </mspace>
     <mrow>
      <mo lspace="8.1pt" stretchy="false">(</mo>
      <mrow>
       <mo>mod</mo>
       <mi>p</mi>
      </mrow>
      <mo stretchy="false">)</mo>
     </mrow>
    </mrow>
   </mrow>
   <mo>.</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <equivalent></equivalent>
    <ci>x</ci>
    <apply>
     <csymbol cd="latexml">annotated</csymbol>
     <ci>y</ci>
     <apply>
      <ci>pmod</ci>
      <ci>p</ci>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   x\equiv y\;\;(\mathop{{\rm mod}}p).\,\!
  </annotation>
 </semantics>
</math>

 Our use of this <strong>cancellation law</strong> in the above proof of Fermat's little theorem was valid, because the numbers 1, 2, ..., <em>p</em> − 1 are certainly not divisible by <em>p</em> (indeed they are <em>smaller</em> than <em>p</em>).</p>

<p>We can prove the cancellation law easily using <a href="Euclid's_lemma" title="wikilink">Euclid's lemma</a>, which generally states that if an integer <em>b</em> divides a product <em>rs</em> (where <em>r</em> and <em>s</em> are integers), and <em>b</em> is relatively prime to <em>r</em>, then <em>b</em> must divide <em>s</em>. Indeed, the equation</p>

<p>

<math display="block" id="Proofs_of_Fermat's_little_theorem:37">
 <semantics>
  <mrow>
   <mrow>
    <mrow>
     <mi>u</mi>
     <mi>x</mi>
    </mrow>
    <mo>≡</mo>
    <mrow>
     <mrow>
      <mi>u</mi>
      <mi>y</mi>
     </mrow>
     <mspace width="veryverythickmathspace">
     </mspace>
     <mrow>
      <mo lspace="8.1pt" stretchy="false">(</mo>
      <mrow>
       <mo>mod</mo>
       <mi>p</mi>
      </mrow>
      <mo stretchy="false">)</mo>
     </mrow>
    </mrow>
   </mrow>
   <mo>,</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <equivalent></equivalent>
    <apply>
     <times></times>
     <ci>u</ci>
     <ci>x</ci>
    </apply>
    <apply>
     <csymbol cd="latexml">annotated</csymbol>
     <apply>
      <times></times>
      <ci>u</ci>
      <ci>y</ci>
     </apply>
     <apply>
      <ci>pmod</ci>
      <ci>p</ci>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   ux\equiv uy\;\;(\mathop{{\rm mod}}p),\,\!
  </annotation>
 </semantics>
</math>

 simply means that <em>p</em> divides <em>ux</em> − <em>uy</em> = <em>u</em>(<em>x</em> − <em>y</em>). If <em>p</em> does not divide <em>u</em> and is a prime, Euclid's lemma tells us that it must divide <em>x</em> − <em>y</em> instead; that is,</p>

<p>

<math display="block" id="Proofs_of_Fermat's_little_theorem:38">
 <semantics>
  <mrow>
   <mrow>
    <mi>x</mi>
    <mo>≡</mo>
    <mrow>
     <mi>y</mi>
     <mspace width="veryverythickmathspace">
     </mspace>
     <mrow>
      <mo lspace="8.1pt" stretchy="false">(</mo>
      <mrow>
       <mo>mod</mo>
       <mi>p</mi>
      </mrow>
      <mo stretchy="false">)</mo>
     </mrow>
    </mrow>
   </mrow>
   <mo>.</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <equivalent></equivalent>
    <ci>x</ci>
    <apply>
     <csymbol cd="latexml">annotated</csymbol>
     <ci>y</ci>
     <apply>
      <ci>pmod</ci>
      <ci>p</ci>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   x\equiv y\;\;(\mathop{{\rm mod}}p).\,\!
  </annotation>
 </semantics>
</math>

</p>

<p>(Note that the conditions under which the cancellation law holds are quite strict, and this explains why Fermat's little theorem demands that <em>p</em> be a prime in order to make a general case for all <em>n</em>. For example, 2 × 2 ≡ 2 × 5 (mod 6), but we cannot conclude that 2 ≡ 5 (mod 6), since 6 is not prime. See below for a more extensive proof for all <em>p</em>)</p>
<h3 id="the-rearrangement-property">The rearrangement property</h3>

<p>Finally, we must explain why the sequence</p>

<p>

<math display="block" id="Proofs_of_Fermat's_little_theorem:39">
 <semantics>
  <mrow>
   <mrow>
    <mi>a</mi>
    <mo>,</mo>
    <mrow>
     <mn>2</mn>
     <mi>a</mi>
    </mrow>
    <mo>,</mo>
    <mrow>
     <mn>3</mn>
     <mi>a</mi>
    </mrow>
    <mo>,</mo>
    <mi mathvariant="normal">…</mi>
    <mo>,</mo>
    <mrow>
     <mrow>
      <mo stretchy="false">(</mo>
      <mrow>
       <mi>p</mi>
       <mo>-</mo>
       <mn>1</mn>
      </mrow>
      <mo stretchy="false">)</mo>
     </mrow>
     <mi>a</mi>
    </mrow>
   </mrow>
   <mo>,</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <list>
    <ci>a</ci>
    <apply>
     <times></times>
     <cn type="integer">2</cn>
     <ci>a</ci>
    </apply>
    <apply>
     <times></times>
     <cn type="integer">3</cn>
     <ci>a</ci>
    </apply>
    <ci>normal-…</ci>
    <apply>
     <times></times>
     <apply>
      <minus></minus>
      <ci>p</ci>
      <cn type="integer">1</cn>
     </apply>
     <ci>a</ci>
    </apply>
   </list>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   a,2a,3a,\ldots,(p-1)a,\,\!
  </annotation>
 </semantics>
</math>

 when reduced modulo <em>p</em>, becomes a rearrangement of the sequence</p>

<p>

<math display="block" id="Proofs_of_Fermat's_little_theorem:40">
 <semantics>
  <mrow>
   <mn>1</mn>
   <mo>,</mo>
   <mn>2</mn>
   <mo>,</mo>
   <mn>3</mn>
   <mo>,</mo>
   <mi mathvariant="normal">…</mi>
   <mo>,</mo>
   <mrow>
    <mi>p</mi>
    <mo>-</mo>
    <mn>1.</mn>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <list>
    <cn type="integer">1</cn>
    <cn type="integer">2</cn>
    <cn type="integer">3</cn>
    <ci>normal-…</ci>
    <apply>
     <minus></minus>
     <ci>p</ci>
     <cn type="float">1.</cn>
    </apply>
   </list>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   1,2,3,\ldots,p-1.\,\!
  </annotation>
 </semantics>
</math>

 To start with, none of the terms <em>a</em>, 2<em>a</em>, ..., (<em>p</em> − 1)<em>a</em> can be congruent to zero modulo <em>p</em>, since if <em>k</em> is one of the numbers 1, 2, ..., <em>p</em> − 1, then <em>k</em> is relatively prime with <em>p</em>, and so is <em>a</em>, so <a href="Euclid's_lemma" title="wikilink">Euclid's lemma</a> tells us that <em>ka</em> shares no factor with <em>p</em>. Therefore, at least we know that the numbers <em>a</em>, 2<em>a</em>, ..., (<em>p</em> − 1)<em>a</em>, when reduced modulo <em>p</em>, must be found among the numbers 1, 2, 3, ..., <em>p</em> − 1.</p>

<p>Furthermore, the numbers <em>a</em>, 2<em>a</em>, ..., (<em>p</em> − 1)<em>a</em> must all be <em>distinct</em> after reducing them modulo <em>p</em>, because if</p>

<p>

<math display="block" id="Proofs_of_Fermat's_little_theorem:41">
 <semantics>
  <mrow>
   <mrow>
    <mrow>
     <mi>k</mi>
     <mi>a</mi>
    </mrow>
    <mo>≡</mo>
    <mrow>
     <mrow>
      <mi>m</mi>
      <mi>a</mi>
     </mrow>
     <mspace width="veryverythickmathspace">
     </mspace>
     <mrow>
      <mo lspace="8.1pt" stretchy="false">(</mo>
      <mrow>
       <mo>mod</mo>
       <mi>p</mi>
      </mrow>
      <mo stretchy="false">)</mo>
     </mrow>
    </mrow>
   </mrow>
   <mo>,</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <equivalent></equivalent>
    <apply>
     <times></times>
     <ci>k</ci>
     <ci>a</ci>
    </apply>
    <apply>
     <csymbol cd="latexml">annotated</csymbol>
     <apply>
      <times></times>
      <ci>m</ci>
      <ci>a</ci>
     </apply>
     <apply>
      <ci>pmod</ci>
      <ci>p</ci>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   ka\equiv ma\;\;(\mathop{{\rm mod}}p),\,\!
  </annotation>
 </semantics>
</math>

 where <em>k</em> and <em>m</em> are one of 1, 2, ..., <em>p</em> − 1, then the cancellation law tells us that</p>

<p>

<math display="block" id="Proofs_of_Fermat's_little_theorem:42">
 <semantics>
  <mrow>
   <mrow>
    <mi>k</mi>
    <mo>≡</mo>
    <mrow>
     <mi>m</mi>
     <mspace width="veryverythickmathspace">
     </mspace>
     <mrow>
      <mo lspace="8.1pt" stretchy="false">(</mo>
      <mrow>
       <mo>mod</mo>
       <mi>p</mi>
      </mrow>
      <mo stretchy="false">)</mo>
     </mrow>
    </mrow>
   </mrow>
   <mo>.</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <equivalent></equivalent>
    <ci>k</ci>
    <apply>
     <csymbol cd="latexml">annotated</csymbol>
     <ci>m</ci>
     <apply>
      <ci>pmod</ci>
      <ci>p</ci>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   k\equiv m\;\;(\mathop{{\rm mod}}p).\,\!
  </annotation>
 </semantics>
</math>

 Since both <em>k</em> and <em>m</em> are between 1 and <em>p-1</em>, they must be equal. Therefore the terms <em>a</em>, 2<em>a</em>, ..., (<em>p</em> − 1)<em>a</em> when reduced modulo <em>p</em> must be distinct. To summarise: when we reduce the <em>p</em> − 1 numbers <em>a</em>, 2<em>a</em>, ..., (<em>p</em> − 1)<em>a</em> modulo <em>p</em>, we obtain distinct members of the sequence 1, 2, ..., <em>p</em> − 1. Since there are exactly <em>p</em> − 1 of these, the only possibility is that the former are a rearrangement of the latter.</p>
<h3 id="applications-to-eulers-theorem">Applications to Euler's theorem</h3>

<p>This method can also be used to prove <a href="Euler's_theorem" title="wikilink">Euler's theorem</a>, with a slight alteration in that 1 to (p-1) is substituted for the numbers less than and relatively prime to some base m (instead of p). Both the rearrangement property and the cancellation law are still satisfied and can be utilized.</p>

<p>For example:</p>

<p>

<math display="block" id="Proofs_of_Fermat's_little_theorem:43">
 <semantics>
  <mrow>
   <mrow>
    <mrow>
     <mrow>
      <mrow>
       <mrow>
        <mrow>
         <mrow>
          <mi>a</mi>
          <mo>×</mo>
          <mn>3</mn>
         </mrow>
         <mi>a</mi>
        </mrow>
        <mo>×</mo>
        <mn>7</mn>
       </mrow>
       <mi>a</mi>
      </mrow>
      <mo>×</mo>
      <mn>9</mn>
     </mrow>
     <mi>a</mi>
    </mrow>
    <mo>≡</mo>
    <mrow>
     <mrow>
      <mn>1</mn>
      <mo>×</mo>
      <mn>3</mn>
      <mo>×</mo>
      <mn>7</mn>
      <mo>×</mo>
      <mn>9</mn>
     </mrow>
     <mspace width="veryverythickmathspace">
     </mspace>
     <mrow>
      <mo lspace="8.1pt" stretchy="false">(</mo>
      <mrow>
       <mo>mod</mo>
       <mn>10</mn>
      </mrow>
      <mo stretchy="false">)</mo>
     </mrow>
    </mrow>
   </mrow>
   <mo>.</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <equivalent></equivalent>
    <apply>
     <times></times>
     <apply>
      <times></times>
      <apply>
       <times></times>
       <apply>
        <times></times>
        <apply>
         <times></times>
         <apply>
          <times></times>
          <ci>a</ci>
          <cn type="integer">3</cn>
         </apply>
         <ci>a</ci>
        </apply>
        <cn type="integer">7</cn>
       </apply>
       <ci>a</ci>
      </apply>
      <cn type="integer">9</cn>
     </apply>
     <ci>a</ci>
    </apply>
    <apply>
     <csymbol cd="latexml">annotated</csymbol>
     <apply>
      <times></times>
      <cn type="integer">1</cn>
      <cn type="integer">3</cn>
      <cn type="integer">7</cn>
      <cn type="integer">9</cn>
     </apply>
     <apply>
      <ci>pmod</ci>
      <cn type="integer">10</cn>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   a\times 3a\times 7a\times 9a\equiv 1\times 3\times 7\times 9\;\;(\mathop{{\rm
mod%
}}10).\,\!
  </annotation>
 </semantics>
</math>

</p>

<p>Therefore,</p>

<p>

<math display="block" id="Proofs_of_Fermat's_little_theorem:44">
 <semantics>
  <mrow>
   <mrow>
    <msup>
     <mi>a</mi>
     <mrow>
      <mi>φ</mi>
      <mrow>
       <mo stretchy="false">(</mo>
       <mn>10</mn>
       <mo stretchy="false">)</mo>
      </mrow>
     </mrow>
    </msup>
    <mo>≡</mo>
    <mrow>
     <mn>1</mn>
     <mspace width="veryverythickmathspace">
     </mspace>
     <mrow>
      <mo lspace="8.1pt" stretchy="false">(</mo>
      <mrow>
       <mo>mod</mo>
       <mn>10</mn>
      </mrow>
      <mo stretchy="false">)</mo>
     </mrow>
    </mrow>
   </mrow>
   <mo>.</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <equivalent></equivalent>
    <apply>
     <csymbol cd="ambiguous">superscript</csymbol>
     <ci>a</ci>
     <apply>
      <times></times>
      <ci>φ</ci>
      <cn type="integer">10</cn>
     </apply>
    </apply>
    <apply>
     <csymbol cd="latexml">annotated</csymbol>
     <cn type="integer">1</cn>
     <apply>
      <ci>pmod</ci>
      <cn type="integer">10</cn>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   {a^{\varphi(10)}}\equiv 1\;\;(\mathop{{\rm mod}}10).\,\!
  </annotation>
 </semantics>
</math>

</p>
<h2 id="proof-using-group-theory">Proof using group theory</h2>

<p>This proof requires the most basic elements of <a href="group_theory" title="wikilink">group theory</a>.</p>

<p>The idea is to recognise that the set <em>G</em> = {1, 2, …, <em>p</em> − 1}, with the operation of multiplication (taken modulo <em>p</em>), forms a <a href="group_(mathematics)" title="wikilink">group</a>. The only group axiom that requires some effort to verify is that each element of <em>G</em> is invertible. Taking this on faith for the moment, let us assume that <em>a</em> is in the range 1 ≤ <em>a</em> ≤ <em>p</em> − 1, that is, <em>a</em> is an element of <em>G</em>. Let <em>k</em> be the <a href="order_(group_theory)" title="wikilink">order</a> of <em>a</em>, so that <em>k</em> is the smallest positive integer such that</p>

<p>

<math display="block" id="Proofs_of_Fermat's_little_theorem:45">
 <semantics>
  <mrow>
   <mrow>
    <msup>
     <mi>a</mi>
     <mi>k</mi>
    </msup>
    <mo>≡</mo>
    <mrow>
     <mn>1</mn>
     <mspace width="veryverythickmathspace">
     </mspace>
     <mrow>
      <mo lspace="8.1pt" stretchy="false">(</mo>
      <mrow>
       <mo>mod</mo>
       <mi>p</mi>
      </mrow>
      <mo stretchy="false">)</mo>
     </mrow>
    </mrow>
   </mrow>
   <mo>.</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <equivalent></equivalent>
    <apply>
     <csymbol cd="ambiguous">superscript</csymbol>
     <ci>a</ci>
     <ci>k</ci>
    </apply>
    <apply>
     <csymbol cd="latexml">annotated</csymbol>
     <cn type="integer">1</cn>
     <apply>
      <ci>pmod</ci>
      <ci>p</ci>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   a^{k}\equiv 1\;\;(\mathop{{\rm mod}}p).\,\!
  </annotation>
 </semantics>
</math>

 By <a href="Lagrange's_theorem_(group_theory)" title="wikilink">Lagrange's theorem</a>, <em>k</em> divides the order of <em>G</em>, which is <em>p</em> − 1, so <em>p</em> − 1 = <em>km</em> for some positive integer <em>m</em>. Then</p>

<p>

<math display="block" id="Proofs_of_Fermat's_little_theorem:46">
 <semantics>
  <mrow>
   <mrow>
    <msup>
     <mi>a</mi>
     <mrow>
      <mi>p</mi>
      <mo>-</mo>
      <mn>1</mn>
     </mrow>
    </msup>
    <mo>≡</mo>
    <msup>
     <mi>a</mi>
     <mrow>
      <mi>k</mi>
      <mi>m</mi>
     </mrow>
    </msup>
    <mo>≡</mo>
    <msup>
     <mrow>
      <mo stretchy="false">(</mo>
      <msup>
       <mi>a</mi>
       <mi>k</mi>
      </msup>
      <mo stretchy="false">)</mo>
     </mrow>
     <mi>m</mi>
    </msup>
    <mo>≡</mo>
    <msup>
     <mn>1</mn>
     <mi>m</mi>
    </msup>
    <mo>≡</mo>
    <mrow>
     <mn>1</mn>
     <mspace width="veryverythickmathspace">
     </mspace>
     <mrow>
      <mo lspace="8.1pt" stretchy="false">(</mo>
      <mrow>
       <mo>mod</mo>
       <mi>p</mi>
      </mrow>
      <mo stretchy="false">)</mo>
     </mrow>
    </mrow>
   </mrow>
   <mo>.</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <and></and>
    <apply>
     <equivalent></equivalent>
     <apply>
      <csymbol cd="ambiguous">superscript</csymbol>
      <ci>a</ci>
      <apply>
       <minus></minus>
       <ci>p</ci>
       <cn type="integer">1</cn>
      </apply>
     </apply>
     <apply>
      <csymbol cd="ambiguous">superscript</csymbol>
      <ci>a</ci>
      <apply>
       <times></times>
       <ci>k</ci>
       <ci>m</ci>
      </apply>
     </apply>
    </apply>
    <apply>
     <equivalent></equivalent>
     <share href="#.cmml">
     </share>
     <apply>
      <csymbol cd="ambiguous">superscript</csymbol>
      <apply>
       <csymbol cd="ambiguous">superscript</csymbol>
       <ci>a</ci>
       <ci>k</ci>
      </apply>
      <ci>m</ci>
     </apply>
    </apply>
    <apply>
     <equivalent></equivalent>
     <share href="#.cmml">
     </share>
     <apply>
      <csymbol cd="ambiguous">superscript</csymbol>
      <cn type="integer">1</cn>
      <ci>m</ci>
     </apply>
    </apply>
    <apply>
     <equivalent></equivalent>
     <share href="#.cmml">
     </share>
     <apply>
      <csymbol cd="latexml">annotated</csymbol>
      <cn type="integer">1</cn>
      <apply>
       <ci>pmod</ci>
       <ci>p</ci>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   a^{p-1}\equiv a^{km}\equiv(a^{k})^{m}\equiv 1^{m}\equiv 1\;\;(\mathop{{\rm mod%
}}p).\,\!
  </annotation>
 </semantics>
</math>

</p>
<h3 id="the-invertibility-property">The invertibility property</h3>

<p>To prove that every element <em>b</em> of <em>G</em> is invertible, we may proceed as follows. First, <em>b</em> is <a href="relatively_prime" title="wikilink">relatively prime</a> to <em>p</em>. Then <a href="Bézout's_identity" title="wikilink">Bézout's identity</a> assures us that there are integers <em>x</em> and <em>y</em> such that</p>

<p>

<math display="block" id="Proofs_of_Fermat's_little_theorem:47">
 <semantics>
  <mrow>
   <mrow>
    <mrow>
     <mi>b</mi>
     <mi>x</mi>
    </mrow>
    <mo>+</mo>
    <mrow>
     <mi>p</mi>
     <mi>y</mi>
    </mrow>
   </mrow>
   <mo>=</mo>
   <mn>1.</mn>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <plus></plus>
     <apply>
      <times></times>
      <ci>b</ci>
      <ci>x</ci>
     </apply>
     <apply>
      <times></times>
      <ci>p</ci>
      <ci>y</ci>
     </apply>
    </apply>
    <cn type="float">1.</cn>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   bx+py=1.\,\!
  </annotation>
 </semantics>
</math>

 Reading this equation modulo <em>p</em>, we see that <em>x</em> is an inverse for <em>b</em>, since</p>

<p>

<math display="block" id="Proofs_of_Fermat's_little_theorem:48">
 <semantics>
  <mrow>
   <mrow>
    <mrow>
     <mi>b</mi>
     <mi>x</mi>
    </mrow>
    <mo>≡</mo>
    <mrow>
     <mn>1</mn>
     <mspace width="veryverythickmathspace">
     </mspace>
     <mrow>
      <mo lspace="8.1pt" stretchy="false">(</mo>
      <mrow>
       <mo>mod</mo>
       <mi>p</mi>
      </mrow>
      <mo stretchy="false">)</mo>
     </mrow>
    </mrow>
   </mrow>
   <mo>.</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <equivalent></equivalent>
    <apply>
     <times></times>
     <ci>b</ci>
     <ci>x</ci>
    </apply>
    <apply>
     <csymbol cd="latexml">annotated</csymbol>
     <cn type="integer">1</cn>
     <apply>
      <ci>pmod</ci>
      <ci>p</ci>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   bx\equiv 1\;\;(\mathop{{\rm mod}}p).\,\!
  </annotation>
 </semantics>
</math>

 Therefore every element of <em>G</em> is invertible, so as remarked earlier, <em>G</em> is a group.</p>

<p>For example, when <em>p</em> = 11, the inverses of each element are given as follows:</p>
<dl>
<dd>
<table>
<tbody>
<tr class="odd">
<td style="text-align: left;">
<p><em>a</em></p></td>
<td style="text-align: left;">
<p>1</p></td>
<td style="text-align: left;">
<p>2</p></td>
<td style="text-align: left;">
<p>3</p></td>
<td style="text-align: left;">
<p>4</p></td>
<td style="text-align: left;">
<p>5</p></td>
<td style="text-align: left;">
<p>6</p></td>
<td style="text-align: left;">
<p>7</p></td>
<td style="text-align: left;">
<p>8</p></td>
<td style="text-align: left;">
<p>9</p></td>
<td style="text-align: left;">
<p>10</p></td>
</tr>
<tr class="even">
<td style="text-align: left;">
<p><em>a</em><sup>−1</sup></p></td>
<td style="text-align: left;">
<p>1</p></td>
<td style="text-align: left;">
<p>6</p></td>
<td style="text-align: left;">
<p>4</p></td>
<td style="text-align: left;">
<p>3</p></td>
<td style="text-align: left;">
<p>9</p></td>
<td style="text-align: left;">
<p>2</p></td>
<td style="text-align: left;">
<p>8</p></td>
<td style="text-align: left;">
<p>7</p></td>
<td style="text-align: left;">
<p>5</p></td>
<td style="text-align: left;">
<p>10</p></td>
</tr>
</tbody>
</table>
</dd>
</dl>
<h2 id="notes">Notes</h2>
<references>
</references>

<p>"</p>

<p><a href="Category:Modular_arithmetic" title="wikilink">Category:Modular arithmetic</a> <a href="Category:Number_theory" title="wikilink">Category:Number theory</a> <a href="Category:Article_proofs" title="wikilink">Category:Article proofs</a></p>
<section class="footnotes">
<hr/>
<ol>
<li id="fn1">Golomb, Solomon W. <a href="http://www.cimat.mx/~mmoreno/teaching/spring08/Fermats_Little_Thm.pdf">Combinatorial proof of Fermat's "Little" Theorem</a>. The American Mathematical Monthly, Vol. 63, No. 10 (Dec., 1956), p. 718<a href="#fnref1">↩</a></li>
<li id="fn2">Alkauskas, Giedrius. <a href="http://arxiv.org/pdf/0801.0805v3.pdf">A Curious Proof of Fermat’s Little Theorem</a>. The American Mathematical Monthly, Vol. 116, No. 4 (Apr., 2009), p. 362-364<a href="#fnref2">↩</a></li>
</ol>
</section>
</body>
</html>
