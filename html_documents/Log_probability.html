<html lang="en">
<head>
<meta charset="utf-8"/>
<title offset="762">Log probability</title>
<script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_SVG.js" type="text/javascript">
</script>
</head>
<body>
<h1>Log probability</h1>
<hr/>

<p>In <a href="computer_science" title="wikilink">computer science</a>, the use of <strong>log probabilities</strong> is a way to represent <a href="probability" title="wikilink">probabilities</a> in a way which has several practical computational advantages over the <a href="Floating_point" title="wikilink">standard use</a> of approximated <a href="real_number" title="wikilink">real numbers</a> in the 

<math display="inline" id="Log_probability:0">
 <semantics>
  <mrow>
   <mo stretchy="false">[</mo>
   <mn>0</mn>
   <mo>,</mo>
   <mn>1</mn>
   <mo stretchy="false">]</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <interval closure="closed">
    <cn type="integer">0</cn>
    <cn type="integer">1</cn>
   </interval>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   [0,1]
  </annotation>
 </semantics>
</math>

 <a href="interval_(mathematics)" title="wikilink">interval</a>.</p>

<p>Since the log of a number in 

<math display="inline" id="Log_probability:1">
 <semantics>
  <mrow>
   <mo stretchy="false">[</mo>
   <mn>0</mn>
   <mo>,</mo>
   <mn>1</mn>
   <mo stretchy="false">]</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <interval closure="closed">
    <cn type="integer">0</cn>
    <cn type="integer">1</cn>
   </interval>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   [0,1]
  </annotation>
 </semantics>
</math>

 is negative, negative log probabilities are more commonly used. The most common log probability representation is therefore to encode a probability 

<math display="inline" id="Log_probability:2">
 <semantics>
  <mrow>
   <mi>x</mi>
   <mo>∈</mo>
   <mrow>
    <mo stretchy="false">[</mo>
    <mn>0</mn>
    <mo>,</mo>
    <mn>1</mn>
    <mo stretchy="false">]</mo>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <in></in>
    <ci>x</ci>
    <interval closure="closed">
     <cn type="integer">0</cn>
     <cn type="integer">1</cn>
    </interval>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   x\in[0,1]
  </annotation>
 </semantics>
</math>

 as 

<math display="inline" id="Log_probability:3">
 <semantics>
  <mrow>
   <msup>
    <mi>x</mi>
    <mo>′</mo>
   </msup>
   <mo>=</mo>
   <mrow>
    <mo>-</mo>
    <mrow>
     <mi>log</mi>
     <mrow>
      <mo stretchy="false">(</mo>
      <mi>x</mi>
      <mo stretchy="false">)</mo>
     </mrow>
    </mrow>
   </mrow>
   <mo>∈</mo>
   <mi>ℝ</mi>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <and></and>
    <apply>
     <eq></eq>
     <apply>
      <csymbol cd="ambiguous">superscript</csymbol>
      <ci>x</ci>
      <ci>normal-′</ci>
     </apply>
     <apply>
      <minus></minus>
      <apply>
       <log></log>
       <ci>x</ci>
      </apply>
     </apply>
    </apply>
    <apply>
     <in></in>
     <share href="#.cmml">
     </share>
     <ci>ℝ</ci>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   x^{\prime}=-\log(x)\in\mathbb{R}
  </annotation>
 </semantics>
</math>


. The product of probabilities 

<math display="inline" id="Log_probability:4">
 <semantics>
  <mrow>
   <mi>x</mi>
   <mo>⋅</mo>
   <mi>y</mi>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <ci>normal-⋅</ci>
    <ci>x</ci>
    <ci>y</ci>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   x\cdot y
  </annotation>
 </semantics>
</math>

 can then be replaced with the more efficient calculation 

<math display="inline" id="Log_probability:5">
 <semantics>
  <mrow>
   <msup>
    <mi>x</mi>
    <mo>′</mo>
   </msup>
   <mo>+</mo>
   <msup>
    <mi>y</mi>
    <mo>′</mo>
   </msup>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <plus></plus>
    <apply>
     <csymbol cd="ambiguous">superscript</csymbol>
     <ci>x</ci>
     <ci>normal-′</ci>
    </apply>
    <apply>
     <csymbol cd="ambiguous">superscript</csymbol>
     <ci>y</ci>
     <ci>normal-′</ci>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   x^{\prime}+y^{\prime}
  </annotation>
 </semantics>
</math>

. The sum of probabilities 

<math display="inline" id="Log_probability:6">
 <semantics>
  <mrow>
   <mi>x</mi>
   <mo>+</mo>
   <mi>y</mi>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <plus></plus>
    <ci>x</ci>
    <ci>y</ci>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   x+y
  </annotation>
 </semantics>
</math>

 is more complex to express and is written as 

<math display="inline" id="Log_probability:7">
 <semantics>
  <mrow>
   <mo>-</mo>
   <mrow>
    <mi>log</mi>
    <mrow>
     <mo stretchy="false">(</mo>
     <mrow>
      <msup>
       <mi>e</mi>
       <mrow>
        <mo>-</mo>
        <msup>
         <mi>x</mi>
         <mo>′</mo>
        </msup>
       </mrow>
      </msup>
      <mo>+</mo>
      <msup>
       <mi>e</mi>
       <mrow>
        <mo>-</mo>
        <msup>
         <mi>y</mi>
         <mo>′</mo>
        </msup>
       </mrow>
      </msup>
     </mrow>
     <mo stretchy="false">)</mo>
    </mrow>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <minus></minus>
    <apply>
     <log></log>
     <apply>
      <plus></plus>
      <apply>
       <csymbol cd="ambiguous">superscript</csymbol>
       <ci>e</ci>
       <apply>
        <minus></minus>
        <apply>
         <csymbol cd="ambiguous">superscript</csymbol>
         <ci>x</ci>
         <ci>normal-′</ci>
        </apply>
       </apply>
      </apply>
      <apply>
       <csymbol cd="ambiguous">superscript</csymbol>
       <ci>e</ci>
       <apply>
        <minus></minus>
        <apply>
         <csymbol cd="ambiguous">superscript</csymbol>
         <ci>y</ci>
         <ci>normal-′</ci>
        </apply>
       </apply>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   -\log(e^{-x^{\prime}}+e^{-y^{\prime}})
  </annotation>
 </semantics>
</math>

. However, in many applications a multiplication of probabilities (giving the probability of all independent events occurring) is used more often than their addition (giving the probability of at least one of them occurring). Additionally, the cost of computing the addition can be avoided in some situations by simply using the highest probability as an approximation. Since probabilities are nonnegative this gives a lower bound.</p>

<p>Representing probabilities in this way has two main advantages:</p>
<ol>
<li><strong>Speed.</strong> Since multiplication is more <a href="time_complexity" title="wikilink">expensive</a> than addition, taking the product of a high number of probabilities is faster if they are represented in log form. (The conversion to log form is expensive, but is only incurred once.)</li>
<li><strong>Accuracy.</strong> The use of log probabilities improves <a href="numerical_stability" title="wikilink">numerical stability</a>.</li>
</ol>

<p>The use of log probabilities is widespread in several fields of computer science such as <a href="information_theory" title="wikilink">information theory</a> and <a href="natural_language_processing" title="wikilink">natural language processing</a> as it represents the <a class="uri" href="surprisal" title="wikilink">surprisal</a>, the minimum length of the message that specifies the outcome in an optimally efficient code.</p>

<p>"</p>

<p><a href="Category:Mathematics_of_computing" title="wikilink">Category:Mathematics of computing</a></p>
</body>
</html>
