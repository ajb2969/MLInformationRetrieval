<html lang="en">
<head>
<meta charset="utf-8"/>
<title offset="674">Lagrangian mechanics</title>
<script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_SVG.js" type="text/javascript">
</script>
</head>
<body>
<h1>Lagrangian mechanics</h1>
<hr/>

<p><strong>Lagrangian mechanics</strong> is a re-formulation of <a href="classical_mechanics" title="wikilink">classical mechanics</a> using the <a href="principle_of_stationary_action" title="wikilink">principle of stationary action</a> (also called the principle of least action).<a class="footnoteRef" href="#fn1" id="fnref1"><sup>1</sup></a> It is not as general as the principle of stationary action because it is restricted to equilibrium problems. <a class="footnoteRef" href="#fn2" id="fnref2"><sup>2</sup></a> Lagrangian mechanics applies to systems whether or not they conserve energy or momentum, and it provides conditions under which energy, momentum or both are conserved.<a class="footnoteRef" href="#fn3" id="fnref3"><sup>3</sup></a> It was introduced by the Italian-French mathematician <a href="Joseph-Louis_Lagrange" title="wikilink">Joseph-Louis Lagrange</a> in 1788.</p>

<p>In Lagrangian mechanics, the trajectory of a system of particles is derived by solving the Lagrange equations in one of two forms, either the <strong>Lagrange equations of the first kind</strong>,<a class="footnoteRef" href="#fn4" id="fnref4"><sup>4</sup></a> which treat constraints explicitly as extra equations, often using <a href="Lagrange_multipliers" title="wikilink">Lagrange multipliers</a>;<a class="footnoteRef" href="#fn5" id="fnref5"><sup>5</sup></a><a class="footnoteRef" href="#fn6" id="fnref6"><sup>6</sup></a> or the <strong>Lagrange equations of the second kind</strong>, which incorporate the constraints directly by judicious choice of <a href="generalized_coordinates" title="wikilink">generalized coordinates</a>.<a class="footnoteRef" href="#fn7" id="fnref7"><sup>7</sup></a><a class="footnoteRef" href="#fn8" id="fnref8"><sup>8</sup></a> The <a href="fundamental_lemma_of_the_calculus_of_variations" title="wikilink">fundamental lemma of the calculus of variations</a> shows that solving the Lagrange equations is equivalent to finding the path for which the <a href="Action_(physics)" title="wikilink">action functional</a> is stationary, a quantity that is the <a class="uri" href="integral" title="wikilink">integral</a> of the Lagrangian over time.</p>

<p>The use of generalized coordinates may considerably simplify a system's <a class="uri" href="analysis" title="wikilink">analysis</a>. For example, consider a small frictionless bead traveling in a groove. If one is tracking the bead as a particle, calculation of the motion of the bead using <a href="Newtonian_mechanics" title="wikilink">Newtonian mechanics</a> would require solving for the time-varying constraint force required to keep the bead in the groove. For the same problem using Lagrangian mechanics, one looks at the path of the groove and chooses a set of <em>independent</em> generalized coordinates that completely characterize the possible motion of the bead. This choice eliminates the need for the constraint force to enter into the resultant system of equations. There are fewer equations since one is not directly calculating the influence of the groove on the bead at a given moment.</p>

<p>Lagrangian mechanics ability to work in generalized coordinate systems makes it suitable for use in <a href="special_relativity" title="wikilink">special relativity</a> which coordinate systems change for different observers. It is used as the standard language of particle physics to express the <a href="standard_model" title="wikilink">standard model</a> in terms of Lagrangians.</p>

<p>The <strong>Lagrangian</strong>, <em>L</em>, of a <a href="dynamical_system" title="wikilink">dynamical system</a> is a <a href="mathematical_function" title="wikilink">mathematical function</a> that summarizes the dynamics of the system. For a simple mechanical system, it is the value given by the kinetic energy of the particle minus the potential energy of the particle but it may be generalized to more complex systems. It is used primarily as a key component in the <a href="Euler-Lagrange_equations" title="wikilink">Euler-Lagrange equations</a> to find the path of a particle according to the <a href="principle_of_least_action" title="wikilink">principle of least action</a>.</p>

<p>The Lagrangian is named after Italian mathematician and astronomer <a href="Joseph_Louis_Lagrange" title="wikilink">Joseph Louis Lagrange</a>. The concept of a Lagrangian was introduced in a reformulation of <a href="classical_mechanics" title="wikilink">classical mechanics</a> introduced by Lagrange known as <a href="Lagrangian_mechanics" title="wikilink">Lagrangian mechanics</a> in 1788. This reformulation was needed in order to explore mechanics in alternative systems to <a href="Cartesian_coordinates" title="wikilink">Cartesian coordinates</a> such as <a href="polar_coordinate_system" title="wikilink">polar</a>, <a href="Cylindrical_coordinate_system" title="wikilink">cylindrical</a> and <a href="Spherical_coordinate_system" title="wikilink">spherical</a> coordinates, and where the coordinates do not necessarily refer to position, for which <a href="Newtonian_mechanics" title="wikilink">Newton's formulation</a> of classical mechanics is not convenient.</p>

<p>The Lagrangian has since been used in a method to find the acceleration of a particle in a Newtonian gravitational field and to derive the <a href="Einstein_field_equations" title="wikilink">Einstein field equations</a>. This led to its use in applying <a class="uri" href="electromagnetism" title="wikilink">electromagnetism</a> to curved <a class="uri" href="spacetime" title="wikilink">spacetime</a> and in describing charged <a href="black_hole" title="wikilink">black holes</a>. It also has additional uses in <a href="Mathematical_formalism" title="wikilink">Mathematical formalism</a> to find the <a href="functional_derivative" title="wikilink">functional derivative</a> of an action, and in <a class="uri" href="engineering" title="wikilink">engineering</a> for the analysis and optimisation of dynamic systems.</p>
<h2 id="conceptual-framework">Conceptual framework</h2>
<h3 id="generalized-coordinates">Generalized coordinates</h3>

<p>For one particle acted on by external forces, <a href="Newton's_laws_of_motion" title="wikilink">Newton's second law</a> forms a set of 3 second-order <a href="ordinary_differential_equation" title="wikilink">ordinary differential equations</a>, one for each dimension. Therefore, the motion of the particle can be completely described by 6 independent variables: 3 initial position coordinates and 3 initial velocity coordinates. Given these, the general solutions to Newton's second law become particular solutions that determine the time evolution of the particle's behaviour after its initial state (<em>t</em> = 0).</p>

<p>The most familiar set of variables for position <strong>r</strong> = (<em>r<sub>1</sub>, r<sub>2</sub>, r<sub>3</sub></em>) and velocity 

<math display="inline" id="Lagrangian_mechanics:0">
 <semantics>
  <mrow>
   <msub>
    <mover accent="true">
     <mi>ğ«</mi>
     <mo>Ë™</mo>
    </mover>
    <mi>j</mi>
   </msub>
   <mo>=</mo>
   <mrow>
    <mo stretchy="false">(</mo>
    <msub>
     <mover accent="true">
      <mi>r</mi>
      <mo>Ë™</mo>
     </mover>
     <mn>1</mn>
    </msub>
    <mo>,</mo>
    <msub>
     <mover accent="true">
      <mi>r</mi>
      <mo>Ë™</mo>
     </mover>
     <mn>2</mn>
    </msub>
    <mo>,</mo>
    <msub>
     <mover accent="true">
      <mi>r</mi>
      <mo>Ë™</mo>
     </mover>
     <mn>3</mn>
    </msub>
    <mo stretchy="false">)</mo>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <csymbol cd="ambiguous">subscript</csymbol>
     <apply>
      <ci>normal-Ë™</ci>
      <ci>ğ«</ci>
     </apply>
     <ci>j</ci>
    </apply>
    <vector>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <apply>
       <ci>normal-Ë™</ci>
       <ci>r</ci>
      </apply>
      <cn type="integer">1</cn>
     </apply>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <apply>
       <ci>normal-Ë™</ci>
       <ci>r</ci>
      </apply>
      <cn type="integer">2</cn>
     </apply>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <apply>
       <ci>normal-Ë™</ci>
       <ci>r</ci>
      </apply>
      <cn type="integer">3</cn>
     </apply>
    </vector>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \mathbf{\dot{r}}_{j}=(\dot{r}_{1},\dot{r}_{2},\dot{r}_{3})
  </annotation>
 </semantics>
</math>

 are <a href="Cartesian_coordinates" title="wikilink">Cartesian coordinates</a> and their time derivatives (i.e. position (<em>x, y, z</em>) and velocity (<em>v<sub>x</sub>, v<sub>y</sub>, v<sub>z</sub></em>) components). Determining forces in terms of standard coordinates can be complicated, and usually requires much labour.</p>

<p>An alternative and more efficient approach is to use only as many coordinates as are needed to define the position of the particle, at the same time incorporating the constraints on the system, and writing down kinetic and potential energies. In other words, to determine the number of <em><a href="Degrees_of_freedom_(mechanics)" title="wikilink">degrees of freedom</a></em> the particle has, i.e. the number of possible ways the system <em>can</em> move subject to the constraints (forces that prevent it moving in certain paths). Energies are much easier to write down and calculate than forces, since energy is a scalar while forces are vectors.</p>

<p>These coordinates are <em><a href="generalized_coordinates" title="wikilink">generalized coordinates</a></em>, denoted 

<math display="inline" id="Lagrangian_mechanics:1">
 <semantics>
  <msub>
   <mi>q</mi>
   <mi>j</mi>
  </msub>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <csymbol cd="ambiguous">subscript</csymbol>
    <ci>q</ci>
    <ci>j</ci>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   q_{j}
  </annotation>
 </semantics>
</math>

, and there is one for each degree of freedom. Their corresponding time derivatives are the <a href="Generalized_coordinates#Generalized_velocities_and_kinetic_energy" title="wikilink">generalized velocities</a>, 

<math display="inline" id="Lagrangian_mechanics:2">
 <semantics>
  <mover accent="true">
   <msub>
    <mi>q</mi>
    <mi>j</mi>
   </msub>
   <mo>Ë™</mo>
  </mover>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <ci>normal-Ë™</ci>
    <apply>
     <csymbol cd="ambiguous">subscript</csymbol>
     <ci>q</ci>
     <ci>j</ci>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \dot{q_{j}}
  </annotation>
 </semantics>
</math>

. The number of degrees of freedom is usually not equal to the number of spatial dimensions: multi-body systems in 3-dimensional space (such as <a href="Barton's_Pendulums" title="wikilink">Barton's Pendulums</a>, <a class="uri" href="planets" title="wikilink">planets</a> in the <a href="solar_system" title="wikilink">solar system</a>, or <a class="uri" href="atoms" title="wikilink">atoms</a> in <a class="uri" href="molecules" title="wikilink">molecules</a>) can have many more degrees of freedom incorporating rotations as well as translations. This contrasts the number of spatial coordinates used with Newton's laws above.</p>

<p>The position vector <strong>r</strong> in a standard coordinate system (like Cartesian, spherical etc.), is related to the generalized coordinates by some <em>transformation equation</em>:</p>

<p>

<math display="block" id="Lagrangian_mechanics:3">
 <semantics>
  <mrow>
   <mrow>
    <mi>ğ•£</mi>
    <mo>=</mo>
    <mrow>
     <mi>ğ•£</mi>
     <mrow>
      <mo stretchy="false">(</mo>
      <msub>
       <mi>q</mi>
       <mi>i</mi>
      </msub>
      <mo>,</mo>
      <mi>t</mi>
      <mo stretchy="false">)</mo>
     </mrow>
    </mrow>
   </mrow>
   <mo>.</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <ci>ğ•£</ci>
    <apply>
     <times></times>
     <ci>ğ•£</ci>
     <interval closure="open">
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>q</ci>
       <ci>i</ci>
      </apply>
      <ci>t</ci>
     </interval>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \mathbb{r}=\mathbb{r}(q_{i},t).\,
  </annotation>
 </semantics>
</math>

</p>

<p>where there are as many <em>q<sub>i</sub></em> as needed (number of degrees of freedom in the system). Likewise for velocity and generalized velocities.</p>

<p>For example, for a <a href="simple_pendulum" title="wikilink">simple pendulum</a> of length <em>â„“</em>, there is the constraint of the pendulum bob's suspension (rod/wire/string etc.). The position <strong>r</strong> depends on the <em>x</em> and <em>y</em> coordinates at time <em>t</em>, that is, <strong>r</strong>(<em>t</em>)=(<em>x</em>(<em>t</em>),<em>y</em>(<em>t</em>)), however <em>x</em> and <em>y</em> are coupled to each other in a constraint equation (if <em>x</em> changes <em>y</em> must change, and vice versa). A logical choice for a generalized coordinate is the angle of the pendulum from vertical, Î¸, so we have <strong>r</strong> = (<em>x</em>(Î¸), <em>y</em>(Î¸)) = <strong>r</strong>(Î¸), in which Î¸ = Î¸(<em>t</em>). Then the transformation equation would be</p>

<p>

<math display="block" id="Lagrangian_mechanics:4">
 <semantics>
  <mrow>
   <mrow>
    <mi>ğ•£</mi>
    <mrow>
     <mo stretchy="false">(</mo>
     <mrow>
      <mi>Î¸</mi>
      <mrow>
       <mo stretchy="false">(</mo>
       <mi>t</mi>
       <mo stretchy="false">)</mo>
      </mrow>
     </mrow>
     <mo stretchy="false">)</mo>
    </mrow>
   </mrow>
   <mo>=</mo>
   <mrow>
    <mo stretchy="false">(</mo>
    <mrow>
     <mi mathvariant="normal">â„“</mi>
     <mrow>
      <mi>sin</mi>
      <mi>Î¸</mi>
     </mrow>
    </mrow>
    <mo>,</mo>
    <mrow>
     <mo>-</mo>
     <mrow>
      <mi mathvariant="normal">â„“</mi>
      <mrow>
       <mi>cos</mi>
       <mi>Î¸</mi>
      </mrow>
     </mrow>
    </mrow>
    <mo stretchy="false">)</mo>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <times></times>
     <ci>ğ•£</ci>
     <apply>
      <times></times>
      <ci>Î¸</ci>
      <ci>t</ci>
     </apply>
    </apply>
    <interval closure="open">
     <apply>
      <times></times>
      <ci>normal-â„“</ci>
      <apply>
       <sin></sin>
       <ci>Î¸</ci>
      </apply>
     </apply>
     <apply>
      <minus></minus>
      <apply>
       <times></times>
       <ci>normal-â„“</ci>
       <apply>
        <cos></cos>
        <ci>Î¸</ci>
       </apply>
      </apply>
     </apply>
    </interval>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \mathbb{r}(\theta(t))=(\ell\sin\theta,-\ell\cos\theta)
  </annotation>
 </semantics>
</math>

</p>

<p>and so</p>

<p>

<math display="block" id="Lagrangian_mechanics:5">
 <semantics>
  <mrow>
   <mrow>
    <mover accent="true">
     <mi>ğ•£</mi>
     <mo>Ë™</mo>
    </mover>
    <mrow>
     <mo stretchy="false">(</mo>
     <mrow>
      <mi>Î¸</mi>
      <mrow>
       <mo stretchy="false">(</mo>
       <mi>t</mi>
       <mo stretchy="false">)</mo>
      </mrow>
     </mrow>
     <mo>,</mo>
     <mrow>
      <mover accent="true">
       <mi>Î¸</mi>
       <mo>Ë™</mo>
      </mover>
      <mrow>
       <mo stretchy="false">(</mo>
       <mi>t</mi>
       <mo stretchy="false">)</mo>
      </mrow>
     </mrow>
     <mo stretchy="false">)</mo>
    </mrow>
   </mrow>
   <mo>=</mo>
   <mrow>
    <mo stretchy="false">(</mo>
    <mrow>
     <mpadded width="+1.7pt">
      <mi mathvariant="normal">â„“</mi>
     </mpadded>
     <mover accent="true">
      <mi>Î¸</mi>
      <mo>Ë™</mo>
     </mover>
     <mrow>
      <mi>cos</mi>
      <mi>Î¸</mi>
     </mrow>
    </mrow>
    <mo>,</mo>
    <mrow>
     <mpadded width="+1.7pt">
      <mi mathvariant="normal">â„“</mi>
     </mpadded>
     <mover accent="true">
      <mi>Î¸</mi>
      <mo>Ë™</mo>
     </mover>
     <mrow>
      <mi>sin</mi>
      <mi>Î¸</mi>
     </mrow>
    </mrow>
    <mo stretchy="false">)</mo>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <times></times>
     <apply>
      <ci>normal-Ë™</ci>
      <ci>ğ•£</ci>
     </apply>
     <interval closure="open">
      <apply>
       <times></times>
       <ci>Î¸</ci>
       <ci>t</ci>
      </apply>
      <apply>
       <times></times>
       <apply>
        <ci>normal-Ë™</ci>
        <ci>Î¸</ci>
       </apply>
       <ci>t</ci>
      </apply>
     </interval>
    </apply>
    <interval closure="open">
     <apply>
      <times></times>
      <ci>normal-â„“</ci>
      <apply>
       <ci>normal-Ë™</ci>
       <ci>Î¸</ci>
      </apply>
      <apply>
       <cos></cos>
       <ci>Î¸</ci>
      </apply>
     </apply>
     <apply>
      <times></times>
      <ci>normal-â„“</ci>
      <apply>
       <ci>normal-Ë™</ci>
       <ci>Î¸</ci>
      </apply>
      <apply>
       <sin></sin>
       <ci>Î¸</ci>
      </apply>
     </apply>
    </interval>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \mathbb{\dot{r}}(\theta(t),\dot{\theta}(t))=(\ell\,\dot{\theta}\cos\theta,\ell%
\,\dot{\theta}\sin\theta)
  </annotation>
 </semantics>
</math>

</p>

<p>which corresponds to the one degree of freedom the pendulum has. The term "generalized coordinates" is really a holdover from the period when <a href="Cartesian_coordinate_system" title="wikilink">Cartesian coordinates</a> were the default coordinate system.</p>

<p>In general, from <em>m</em> independent <a href="generalized_coordinates" title="wikilink">generalized coordinates</a> <em>q<sub>j</sub></em>, the following transformation equations hold for a system composed of n particles:<a class="footnoteRef" href="#fn9" id="fnref9"><sup>9</sup></a></p>

<p>

<math display="block" id="Lagrangian_mechanics:6">
 <semantics>
  <mtable displaystyle="true">
   <mtr>
    <mtd columnalign="right">
     <msub>
      <mi>ğ«</mi>
      <mn>1</mn>
     </msub>
    </mtd>
    <mtd columnalign="center">
     <mo>=</mo>
    </mtd>
    <mtd columnalign="left">
     <mrow>
      <msub>
       <mi>ğ«</mi>
       <mn>1</mn>
      </msub>
      <mrow>
       <mo stretchy="false">(</mo>
       <msub>
        <mi>q</mi>
        <mn>1</mn>
       </msub>
       <mo>,</mo>
       <msub>
        <mi>q</mi>
        <mn>2</mn>
       </msub>
       <mo>,</mo>
       <mi mathvariant="normal">â‹¯</mi>
       <mo>,</mo>
       <msub>
        <mi>q</mi>
        <mi>m</mi>
       </msub>
       <mo>,</mo>
       <mi>t</mi>
       <mo stretchy="false">)</mo>
      </mrow>
     </mrow>
    </mtd>
   </mtr>
   <mtr>
    <mtd columnalign="right">
     <msub>
      <mi>ğ«</mi>
      <mn>2</mn>
     </msub>
    </mtd>
    <mtd columnalign="center">
     <mo>=</mo>
    </mtd>
    <mtd columnalign="left">
     <mrow>
      <msub>
       <mi>ğ«</mi>
       <mn>2</mn>
      </msub>
      <mrow>
       <mo stretchy="false">(</mo>
       <msub>
        <mi>q</mi>
        <mn>1</mn>
       </msub>
       <mo>,</mo>
       <msub>
        <mi>q</mi>
        <mn>2</mn>
       </msub>
       <mo>,</mo>
       <mi mathvariant="normal">â‹¯</mi>
       <mo>,</mo>
       <msub>
        <mi>q</mi>
        <mi>m</mi>
       </msub>
       <mo>,</mo>
       <mi>t</mi>
       <mo stretchy="false">)</mo>
      </mrow>
     </mrow>
    </mtd>
   </mtr>
   <mtr>
    <mtd></mtd>
    <mtd columnalign="center">
     <mi mathvariant="normal">â‹®</mi>
    </mtd>
    <mtd></mtd>
   </mtr>
   <mtr>
    <mtd columnalign="right">
     <msub>
      <mi>ğ«</mi>
      <mi>n</mi>
     </msub>
    </mtd>
    <mtd columnalign="center">
     <mo>=</mo>
    </mtd>
    <mtd columnalign="left">
     <mrow>
      <msub>
       <mi>ğ«</mi>
       <mi>n</mi>
      </msub>
      <mrow>
       <mo stretchy="false">(</mo>
       <msub>
        <mi>q</mi>
        <mn>1</mn>
       </msub>
       <mo>,</mo>
       <msub>
        <mi>q</mi>
        <mn>2</mn>
       </msub>
       <mo>,</mo>
       <mi mathvariant="normal">â‹¯</mi>
       <mo>,</mo>
       <msub>
        <mi>q</mi>
        <mi>m</mi>
       </msub>
       <mo>,</mo>
       <mi>t</mi>
       <mo stretchy="false">)</mo>
      </mrow>
     </mrow>
    </mtd>
   </mtr>
  </mtable>
  <annotation-xml encoding="MathML-Content">
   <matrix>
    <matrixrow>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <ci>ğ«</ci>
      <cn type="integer">1</cn>
     </apply>
     <eq></eq>
     <apply>
      <times></times>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>ğ«</ci>
       <cn type="integer">1</cn>
      </apply>
      <vector>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>q</ci>
        <cn type="integer">1</cn>
       </apply>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>q</ci>
        <cn type="integer">2</cn>
       </apply>
       <ci>normal-â‹¯</ci>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>q</ci>
        <ci>m</ci>
       </apply>
       <ci>t</ci>
      </vector>
     </apply>
    </matrixrow>
    <matrixrow>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <ci>ğ«</ci>
      <cn type="integer">2</cn>
     </apply>
     <eq></eq>
     <apply>
      <times></times>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>ğ«</ci>
       <cn type="integer">2</cn>
      </apply>
      <vector>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>q</ci>
        <cn type="integer">1</cn>
       </apply>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>q</ci>
        <cn type="integer">2</cn>
       </apply>
       <ci>normal-â‹¯</ci>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>q</ci>
        <ci>m</ci>
       </apply>
       <ci>t</ci>
      </vector>
     </apply>
    </matrixrow>
    <matrixrow>
     <cerror>
      <csymbol cd="ambiguous">missing-subexpression</csymbol>
     </cerror>
     <ci>normal-â‹®</ci>
     <cerror>
      <csymbol cd="ambiguous">missing-subexpression</csymbol>
     </cerror>
    </matrixrow>
    <matrixrow>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <ci>ğ«</ci>
      <ci>n</ci>
     </apply>
     <eq></eq>
     <apply>
      <times></times>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>ğ«</ci>
       <ci>n</ci>
      </apply>
      <vector>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>q</ci>
        <cn type="integer">1</cn>
       </apply>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>q</ci>
        <cn type="integer">2</cn>
       </apply>
       <ci>normal-â‹¯</ci>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>q</ci>
        <ci>m</ci>
       </apply>
       <ci>t</ci>
      </vector>
     </apply>
    </matrixrow>
   </matrix>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \begin{array}[]{r c l}\mathbf{r}_{1}&=&\mathbf{r}_{1}(q_{1},q_{2},\cdots,q_{m}%
,t)\\
\mathbf{r}_{2}&=&\mathbf{r}_{2}(q_{1},q_{2},\cdots,q_{m},t)\\
&\vdots&\\
\mathbf{r}_{n}&=&\mathbf{r}_{n}(q_{1},q_{2},\cdots,q_{m},t)\end{array}
  </annotation>
 </semantics>
</math>

</p>

<p>where <em>m</em> indicates the total number of generalized coordinates. An expression for the <a href="virtual_displacement" title="wikilink">virtual displacement</a> (infinitesimal), <em>Î´</em><strong>r</strong><sub><em>i</em></sub> of the system for <em>time-independent constraints</em> or "velocity-dependent constraints" is the same form as a <a href="total_differential" title="wikilink">total differential</a><a class="footnoteRef" href="#fn10" id="fnref10"><sup>10</sup></a></p>

<p>

<math display="block" id="Lagrangian_mechanics:7">
 <semantics>
  <mrow>
   <mrow>
    <mrow>
     <mi>Î´</mi>
     <msub>
      <mi>ğ«</mi>
      <mi>i</mi>
     </msub>
    </mrow>
    <mo>=</mo>
    <mrow>
     <munderover>
      <mo largeop="true" movablelimits="false" symmetric="true">âˆ‘</mo>
      <mrow>
       <mi>j</mi>
       <mo>=</mo>
       <mn>1</mn>
      </mrow>
      <mi>m</mi>
     </munderover>
     <mrow>
      <mfrac>
       <mrow>
        <mo>âˆ‚</mo>
        <msub>
         <mi>ğ«</mi>
         <mi>i</mi>
        </msub>
       </mrow>
       <mrow>
        <mo>âˆ‚</mo>
        <msub>
         <mi>q</mi>
         <mi>j</mi>
        </msub>
       </mrow>
      </mfrac>
      <mi>Î´</mi>
      <msub>
       <mi>q</mi>
       <mi>j</mi>
      </msub>
     </mrow>
    </mrow>
   </mrow>
   <mo>,</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <times></times>
     <ci>Î´</ci>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <ci>ğ«</ci>
      <ci>i</ci>
     </apply>
    </apply>
    <apply>
     <apply>
      <csymbol cd="ambiguous">superscript</csymbol>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <sum></sum>
       <apply>
        <eq></eq>
        <ci>j</ci>
        <cn type="integer">1</cn>
       </apply>
      </apply>
      <ci>m</ci>
     </apply>
     <apply>
      <times></times>
      <apply>
       <divide></divide>
       <apply>
        <partialdiff></partialdiff>
        <apply>
         <csymbol cd="ambiguous">subscript</csymbol>
         <ci>ğ«</ci>
         <ci>i</ci>
        </apply>
       </apply>
       <apply>
        <partialdiff></partialdiff>
        <apply>
         <csymbol cd="ambiguous">subscript</csymbol>
         <ci>q</ci>
         <ci>j</ci>
        </apply>
       </apply>
      </apply>
      <ci>Î´</ci>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>q</ci>
       <ci>j</ci>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \delta\mathbf{r}_{i}=\sum_{j=1}^{m}\frac{\partial\mathbf{r}_{i}}{\partial q_{j%
}}\delta q_{j},
  </annotation>
 </semantics>
</math>

 where <em>j</em> is an integer label corresponding to a generalized coordinate.</p>

<p>The generalized coordinates form a discrete set of variables that define the configuration of a system. The continuum analogue for defining a <em><a href="Classical_field_theory" title="wikilink">field</a></em> are field variables, say <em>Ï•</em>(<em>r, t</em>), which represents density function varying with position and time.</p>
<h3 id="dalemberts-principle-and-generalized-forces">D'Alembert's principle and generalized forces</h3>

<p><a href="D'Alembert's_principle" title="wikilink">D'Alembert's principle</a> introduces the concept of <a href="virtual_work" title="wikilink">virtual work</a> due to applied forces <strong>F</strong><sub><em>i</em></sub> and <a href="inertia" title="wikilink">inertial</a> forces, acting on a three-dimensional accelerating system of <em>n</em> particles whose motion is consistent with its constraints,<a class="footnoteRef" href="#fn11" id="fnref11"><sup>11</sup></a></p>

<p>Mathematically, the virtual work <em>Î´W</em> done on a particle of mass <em>m<sub>i</sub></em> through a virtual displacement <em>Î´</em><strong>r</strong><sub><em>i</em></sub> (consistent with the constraints) is:</p>

<p>where <strong>a</strong><sub><em>i</em></sub> are the accelerations of the particles in the system and <em>i</em> = 1, 2,...,<em>n</em> simply labels the particles. In terms of generalized coordinates</p>

<p>

<math display="block" id="Lagrangian_mechanics:8">
 <semantics>
  <mrow>
   <mrow>
    <mi>Î´</mi>
    <mi>W</mi>
   </mrow>
   <mo>=</mo>
   <mrow>
    <munderover>
     <mo largeop="true" movablelimits="false" symmetric="true">âˆ‘</mo>
     <mrow>
      <mi>j</mi>
      <mo>=</mo>
      <mn>1</mn>
     </mrow>
     <mi>m</mi>
    </munderover>
    <mrow>
     <munderover>
      <mo largeop="true" movablelimits="false" symmetric="true">âˆ‘</mo>
      <mrow>
       <mi>i</mi>
       <mo>=</mo>
       <mn>1</mn>
      </mrow>
      <mi>n</mi>
     </munderover>
     <mrow>
      <mrow>
       <mrow>
        <mo stretchy="false">(</mo>
        <mrow>
         <msub>
          <mi>ğ…</mi>
          <mi>i</mi>
         </msub>
         <mo>-</mo>
         <mrow>
          <msub>
           <mi>m</mi>
           <mi>i</mi>
          </msub>
          <msub>
           <mi>ğš</mi>
           <mi>i</mi>
          </msub>
         </mrow>
        </mrow>
        <mo stretchy="false">)</mo>
       </mrow>
       <mo>â‹…</mo>
       <mfrac>
        <mrow>
         <mo>âˆ‚</mo>
         <msub>
          <mi>ğ«</mi>
          <mi>i</mi>
         </msub>
        </mrow>
        <mrow>
         <mo>âˆ‚</mo>
         <msub>
          <mi>q</mi>
          <mi>j</mi>
         </msub>
        </mrow>
       </mfrac>
      </mrow>
      <mi>Î´</mi>
      <msub>
       <mi>q</mi>
       <mi>j</mi>
      </msub>
     </mrow>
    </mrow>
   </mrow>
   <mo>=</mo>
   <mn>0.</mn>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <and></and>
    <apply>
     <eq></eq>
     <apply>
      <times></times>
      <ci>Î´</ci>
      <ci>W</ci>
     </apply>
     <apply>
      <apply>
       <csymbol cd="ambiguous">superscript</csymbol>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <sum></sum>
        <apply>
         <eq></eq>
         <ci>j</ci>
         <cn type="integer">1</cn>
        </apply>
       </apply>
       <ci>m</ci>
      </apply>
      <apply>
       <apply>
        <csymbol cd="ambiguous">superscript</csymbol>
        <apply>
         <csymbol cd="ambiguous">subscript</csymbol>
         <sum></sum>
         <apply>
          <eq></eq>
          <ci>i</ci>
          <cn type="integer">1</cn>
         </apply>
        </apply>
        <ci>n</ci>
       </apply>
       <apply>
        <times></times>
        <apply>
         <ci>normal-â‹…</ci>
         <apply>
          <minus></minus>
          <apply>
           <csymbol cd="ambiguous">subscript</csymbol>
           <ci>ğ…</ci>
           <ci>i</ci>
          </apply>
          <apply>
           <times></times>
           <apply>
            <csymbol cd="ambiguous">subscript</csymbol>
            <ci>m</ci>
            <ci>i</ci>
           </apply>
           <apply>
            <csymbol cd="ambiguous">subscript</csymbol>
            <ci>ğš</ci>
            <ci>i</ci>
           </apply>
          </apply>
         </apply>
         <apply>
          <divide></divide>
          <apply>
           <partialdiff></partialdiff>
           <apply>
            <csymbol cd="ambiguous">subscript</csymbol>
            <ci>ğ«</ci>
            <ci>i</ci>
           </apply>
          </apply>
          <apply>
           <partialdiff></partialdiff>
           <apply>
            <csymbol cd="ambiguous">subscript</csymbol>
            <ci>q</ci>
            <ci>j</ci>
           </apply>
          </apply>
         </apply>
        </apply>
        <ci>Î´</ci>
        <apply>
         <csymbol cd="ambiguous">subscript</csymbol>
         <ci>q</ci>
         <ci>j</ci>
        </apply>
       </apply>
      </apply>
     </apply>
    </apply>
    <apply>
     <eq></eq>
     <share href="#.cmml">
     </share>
     <cn type="float">0.</cn>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \delta W=\sum_{j=1}^{m}\sum_{i=1}^{n}(\mathbf{F}_{i}-m_{i}\mathbf{a}_{i})\cdot%
\frac{\partial\mathbf{r}_{i}}{\partial q_{j}}\delta q_{j}=0.
  </annotation>
 </semantics>
</math>

</p>

<p>this expression suggests that the applied forces may be expressed as <a href="generalized_forces" title="wikilink">generalized forces</a>, <em>Q<sub>j</sub></em>. Dividing by <em>Î´q<sub>j</sub></em> gives the definition of a generalized force:<a class="footnoteRef" href="#fn12" id="fnref12"><sup>12</sup></a></p>

<p>

<math display="block" id="Lagrangian_mechanics:9">
 <semantics>
  <mrow>
   <mrow>
    <msub>
     <mi>Q</mi>
     <mi>j</mi>
    </msub>
    <mo>=</mo>
    <mfrac>
     <mrow>
      <mi>Î´</mi>
      <mi>W</mi>
     </mrow>
     <mrow>
      <mi>Î´</mi>
      <msub>
       <mi>q</mi>
       <mi>j</mi>
      </msub>
     </mrow>
    </mfrac>
    <mo>=</mo>
    <mrow>
     <munderover>
      <mo largeop="true" movablelimits="false" symmetric="true">âˆ‘</mo>
      <mrow>
       <mi>i</mi>
       <mo>=</mo>
       <mn>1</mn>
      </mrow>
      <mi>n</mi>
     </munderover>
     <mrow>
      <msub>
       <mi>ğ…</mi>
       <mi>i</mi>
      </msub>
      <mo>â‹…</mo>
      <mfrac>
       <mrow>
        <mo>âˆ‚</mo>
        <msub>
         <mi>ğ«</mi>
         <mi>i</mi>
        </msub>
       </mrow>
       <mrow>
        <mo>âˆ‚</mo>
        <msub>
         <mi>q</mi>
         <mi>j</mi>
        </msub>
       </mrow>
      </mfrac>
     </mrow>
    </mrow>
   </mrow>
   <mo>.</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <and></and>
    <apply>
     <eq></eq>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <ci>Q</ci>
      <ci>j</ci>
     </apply>
     <apply>
      <divide></divide>
      <apply>
       <times></times>
       <ci>Î´</ci>
       <ci>W</ci>
      </apply>
      <apply>
       <times></times>
       <ci>Î´</ci>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>q</ci>
        <ci>j</ci>
       </apply>
      </apply>
     </apply>
    </apply>
    <apply>
     <eq></eq>
     <share href="#.cmml">
     </share>
     <apply>
      <apply>
       <csymbol cd="ambiguous">superscript</csymbol>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <sum></sum>
        <apply>
         <eq></eq>
         <ci>i</ci>
         <cn type="integer">1</cn>
        </apply>
       </apply>
       <ci>n</ci>
      </apply>
      <apply>
       <ci>normal-â‹…</ci>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>ğ…</ci>
        <ci>i</ci>
       </apply>
       <apply>
        <divide></divide>
        <apply>
         <partialdiff></partialdiff>
         <apply>
          <csymbol cd="ambiguous">subscript</csymbol>
          <ci>ğ«</ci>
          <ci>i</ci>
         </apply>
        </apply>
        <apply>
         <partialdiff></partialdiff>
         <apply>
          <csymbol cd="ambiguous">subscript</csymbol>
          <ci>q</ci>
          <ci>j</ci>
         </apply>
        </apply>
       </apply>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   Q_{j}=\frac{\delta W}{\delta q_{j}}=\sum_{i=1}^{n}\mathbf{F}_{i}\cdot\frac{%
\partial\mathbf{r}_{i}}{\partial q_{j}}.
  </annotation>
 </semantics>
</math>

</p>

<p>If the forces <strong>F</strong><sub><em>i</em></sub> are <a href="Conservative_force" title="wikilink">conservative</a>, there is a <a href="scalar_potential" title="wikilink">scalar potential</a> field <em>V</em> in which the <a class="uri" href="gradient" title="wikilink">gradient</a> of <em>V</em> is the force:<a class="footnoteRef" href="#fn13" id="fnref13"><sup>13</sup></a></p>

<p>

<math display="block" id="Lagrangian_mechanics:10">
 <semantics>
  <mrow>
   <mrow>
    <msub>
     <mi>ğ…</mi>
     <mi>i</mi>
    </msub>
    <mo>=</mo>
    <mrow>
     <mo>-</mo>
     <mrow>
      <mo>âˆ‡</mo>
      <mi>V</mi>
     </mrow>
    </mrow>
    <mo>â‡’</mo>
    <msub>
     <mi>Q</mi>
     <mi>j</mi>
    </msub>
    <mo>=</mo>
    <mrow>
     <mo>-</mo>
     <mrow>
      <munderover>
       <mo largeop="true" movablelimits="false" symmetric="true">âˆ‘</mo>
       <mrow>
        <mi>i</mi>
        <mo>=</mo>
        <mn>1</mn>
       </mrow>
       <mi>n</mi>
      </munderover>
      <mrow>
       <mo>âˆ‡</mo>
       <mrow>
        <mi>V</mi>
        <mo>â‹…</mo>
        <mfrac>
         <mrow>
          <mo>âˆ‚</mo>
          <msub>
           <mi>ğ«</mi>
           <mi>i</mi>
          </msub>
         </mrow>
         <mrow>
          <mo>âˆ‚</mo>
          <msub>
           <mi>q</mi>
           <mi>j</mi>
          </msub>
         </mrow>
        </mfrac>
       </mrow>
      </mrow>
     </mrow>
    </mrow>
    <mo>=</mo>
    <mrow>
     <mo>-</mo>
     <mfrac>
      <mrow>
       <mo>âˆ‚</mo>
       <mi>V</mi>
      </mrow>
      <mrow>
       <mo>âˆ‚</mo>
       <msub>
        <mi>q</mi>
        <mi>j</mi>
       </msub>
      </mrow>
     </mfrac>
    </mrow>
   </mrow>
   <mo>.</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <and></and>
    <apply>
     <eq></eq>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <ci>ğ…</ci>
      <ci>i</ci>
     </apply>
     <apply>
      <minus></minus>
      <apply>
       <ci>normal-âˆ‡</ci>
       <ci>V</ci>
      </apply>
     </apply>
    </apply>
    <apply>
     <ci>normal-â‡’</ci>
     <share href="#.cmml">
     </share>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <ci>Q</ci>
      <ci>j</ci>
     </apply>
    </apply>
    <apply>
     <eq></eq>
     <share href="#.cmml">
     </share>
     <apply>
      <minus></minus>
      <apply>
       <apply>
        <csymbol cd="ambiguous">superscript</csymbol>
        <apply>
         <csymbol cd="ambiguous">subscript</csymbol>
         <sum></sum>
         <apply>
          <eq></eq>
          <ci>i</ci>
          <cn type="integer">1</cn>
         </apply>
        </apply>
        <ci>n</ci>
       </apply>
       <apply>
        <ci>normal-âˆ‡</ci>
        <apply>
         <ci>normal-â‹…</ci>
         <ci>V</ci>
         <apply>
          <divide></divide>
          <apply>
           <partialdiff></partialdiff>
           <apply>
            <csymbol cd="ambiguous">subscript</csymbol>
            <ci>ğ«</ci>
            <ci>i</ci>
           </apply>
          </apply>
          <apply>
           <partialdiff></partialdiff>
           <apply>
            <csymbol cd="ambiguous">subscript</csymbol>
            <ci>q</ci>
            <ci>j</ci>
           </apply>
          </apply>
         </apply>
        </apply>
       </apply>
      </apply>
     </apply>
    </apply>
    <apply>
     <eq></eq>
     <share href="#.cmml">
     </share>
     <apply>
      <minus></minus>
      <apply>
       <divide></divide>
       <apply>
        <partialdiff></partialdiff>
        <ci>V</ci>
       </apply>
       <apply>
        <partialdiff></partialdiff>
        <apply>
         <csymbol cd="ambiguous">subscript</csymbol>
         <ci>q</ci>
         <ci>j</ci>
        </apply>
       </apply>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \mathbf{F}_{i}=-\nabla V\Rightarrow Q_{j}=-\sum_{i=1}^{n}\nabla V\cdot\frac{%
\partial\mathbf{r}_{i}}{\partial q_{j}}=-\frac{\partial V}{\partial q_{j}}.
  </annotation>
 </semantics>
</math>

</p>

<p>i.e. generalized forces can be reduced to a potential gradient in terms of generalized coordinates. The previous result may be easier to see by recognizing that <em>V</em> is a function of the <strong>r</strong><sub><em>i</em></sub>, which are in turn functions of <em>q<sub>j</sub></em>, and then applying the <a href="chain_rule" title="wikilink">chain rule</a> to the derivative of 

<math display="inline" id="Lagrangian_mechanics:11">
 <semantics>
  <mi>V</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>V</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   V
  </annotation>
 </semantics>
</math>

 with respect to <em>q<sub>j</sub></em>.</p>
<h3 id="kinetic-energy-relations">Kinetic energy relations</h3>

<p>The <a href="kinetic_energy" title="wikilink">kinetic energy</a>, <em>T</em>, for the system of particles is defined by<a class="footnoteRef" href="#fn14" id="fnref14"><sup>14</sup></a></p>

<p>

<math display="block" id="Lagrangian_mechanics:12">
 <semantics>
  <mrow>
   <mrow>
    <mi>T</mi>
    <mo>=</mo>
    <mrow>
     <mfrac>
      <mn>1</mn>
      <mn>2</mn>
     </mfrac>
     <mrow>
      <munderover>
       <mo largeop="true" movablelimits="false" symmetric="true">âˆ‘</mo>
       <mrow>
        <mi>i</mi>
        <mo>=</mo>
        <mn>1</mn>
       </mrow>
       <mi>n</mi>
      </munderover>
      <mrow>
       <mrow>
        <msub>
         <mi>m</mi>
         <mi>i</mi>
        </msub>
        <msub>
         <mover accent="true">
          <mi>ğ«</mi>
          <mo>Ë™</mo>
         </mover>
         <mi>i</mi>
        </msub>
       </mrow>
       <mo>â‹…</mo>
       <msub>
        <mover accent="true">
         <mi>ğ«</mi>
         <mo>Ë™</mo>
        </mover>
        <mi>i</mi>
       </msub>
      </mrow>
     </mrow>
    </mrow>
   </mrow>
   <mo>.</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <ci>T</ci>
    <apply>
     <times></times>
     <apply>
      <divide></divide>
      <cn type="integer">1</cn>
      <cn type="integer">2</cn>
     </apply>
     <apply>
      <apply>
       <csymbol cd="ambiguous">superscript</csymbol>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <sum></sum>
        <apply>
         <eq></eq>
         <ci>i</ci>
         <cn type="integer">1</cn>
        </apply>
       </apply>
       <ci>n</ci>
      </apply>
      <apply>
       <ci>normal-â‹…</ci>
       <apply>
        <times></times>
        <apply>
         <csymbol cd="ambiguous">subscript</csymbol>
         <ci>m</ci>
         <ci>i</ci>
        </apply>
        <apply>
         <csymbol cd="ambiguous">subscript</csymbol>
         <apply>
          <ci>normal-Ë™</ci>
          <ci>ğ«</ci>
         </apply>
         <ci>i</ci>
        </apply>
       </apply>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <apply>
         <ci>normal-Ë™</ci>
         <ci>ğ«</ci>
        </apply>
        <ci>i</ci>
       </apply>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   T=\frac{1}{2}\sum_{i=1}^{n}m_{i}\mathbf{\dot{r}}_{i}\cdot\mathbf{\dot{r}}_{i}.
  </annotation>
 </semantics>
</math>

</p>

<p>In terms of the kinetic energy, the equations of motion in a set of generalized coordinates can be written:</p>

<p>{\mathrm{d}t} \left ( \frac {\partial T}{\partial \dot{q}_j} \right ) - \frac {\partial T}{\partial q_j} |cellpadding= 6 |border |border colour = #0073CF |background colour=#F5FFFA}}</p>

<p>Newton's laws are contained in it, yet there is no need to find the constraint forces because virtual work and generalized coordinates (which account for constraints) are used. This equation in itself is not actually used in practice, but is a step towards deriving Lagrange's equations (see below).<a class="footnoteRef" href="#fn15" id="fnref15"><sup>15</sup></a></p>
<dl>
<dd>
<table>
<thead>
<tr class="header">
<th style="text-align: left;">
<p>Derivation of the generalized equations of motion</p></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">
<p>The partial derivatives of <em>T</em> with respect to the generalized coordinates <em>q<sub>j</sub></em> and generalized velocities 

<math display="inline" id="Lagrangian_mechanics:13">
 <semantics>
  <msub>
   <mover accent="true">
    <mi>q</mi>
    <mo>Ë™</mo>
   </mover>
   <mi>j</mi>
  </msub>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <csymbol cd="ambiguous">subscript</csymbol>
    <apply>
     <ci>normal-Ë™</ci>
     <ci>q</ci>
    </apply>
    <ci>j</ci>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \dot{q}_{j}
  </annotation>
 </semantics>
</math>

 are:<a class="footnoteRef" href="#fn16" id="fnref16"><sup>16</sup></a></p>

<p>

<math display="block" id="Lagrangian_mechanics:14">
 <semantics>
  <mrow>
   <mfrac>
    <mrow>
     <mo>âˆ‚</mo>
     <mi>T</mi>
    </mrow>
    <mrow>
     <mo>âˆ‚</mo>
     <msub>
      <mi>q</mi>
      <mi>j</mi>
     </msub>
    </mrow>
   </mfrac>
   <mo>=</mo>
   <mrow>
    <munderover>
     <mo largeop="true" movablelimits="false" symmetric="true">âˆ‘</mo>
     <mrow>
      <mi>i</mi>
      <mo>=</mo>
      <mn>1</mn>
     </mrow>
     <mi>n</mi>
    </munderover>
    <mrow>
     <mrow>
      <msub>
       <mi>m</mi>
       <mi>i</mi>
      </msub>
      <msub>
       <mover accent="true">
        <mi>ğ«</mi>
        <mo>Ë™</mo>
       </mover>
       <mi>i</mi>
      </msub>
     </mrow>
     <mo>â‹…</mo>
     <mfrac>
      <mrow>
       <mo>âˆ‚</mo>
       <msub>
        <mover accent="true">
         <mi>ğ«</mi>
         <mo>Ë™</mo>
        </mover>
        <mi>i</mi>
       </msub>
      </mrow>
      <mrow>
       <mo>âˆ‚</mo>
       <msub>
        <mi>q</mi>
        <mi>j</mi>
       </msub>
      </mrow>
     </mfrac>
    </mrow>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <divide></divide>
     <apply>
      <partialdiff></partialdiff>
      <ci>T</ci>
     </apply>
     <apply>
      <partialdiff></partialdiff>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>q</ci>
       <ci>j</ci>
      </apply>
     </apply>
    </apply>
    <apply>
     <apply>
      <csymbol cd="ambiguous">superscript</csymbol>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <sum></sum>
       <apply>
        <eq></eq>
        <ci>i</ci>
        <cn type="integer">1</cn>
       </apply>
      </apply>
      <ci>n</ci>
     </apply>
     <apply>
      <ci>normal-â‹…</ci>
      <apply>
       <times></times>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>m</ci>
        <ci>i</ci>
       </apply>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <apply>
         <ci>normal-Ë™</ci>
         <ci>ğ«</ci>
        </apply>
        <ci>i</ci>
       </apply>
      </apply>
      <apply>
       <divide></divide>
       <apply>
        <partialdiff></partialdiff>
        <apply>
         <csymbol cd="ambiguous">subscript</csymbol>
         <apply>
          <ci>normal-Ë™</ci>
          <ci>ğ«</ci>
         </apply>
         <ci>i</ci>
        </apply>
       </apply>
       <apply>
        <partialdiff></partialdiff>
        <apply>
         <csymbol cd="ambiguous">subscript</csymbol>
         <ci>q</ci>
         <ci>j</ci>
        </apply>
       </apply>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \frac{\partial T}{\partial q_{j}}=\sum_{i=1}^{n}m_{i}\mathbf{\dot{r}}_{i}\cdot%
\frac{\partial\mathbf{\dot{r}}_{i}}{\partial q_{j}}
  </annotation>
 </semantics>
</math>

</p>

<p>

<math display="block" id="Lagrangian_mechanics:15">
 <semantics>
  <mrow>
   <mrow>
    <mpadded lspace="10pt" width="+10pt">
     <mfrac>
      <mrow>
       <mo>âˆ‚</mo>
       <mi>T</mi>
      </mrow>
      <mrow>
       <mo>âˆ‚</mo>
       <msub>
        <mover accent="true">
         <mi>q</mi>
         <mo>Ë™</mo>
        </mover>
        <mi>j</mi>
       </msub>
      </mrow>
     </mfrac>
    </mpadded>
    <mo>=</mo>
    <mrow>
     <munderover>
      <mo largeop="true" movablelimits="false" symmetric="true">âˆ‘</mo>
      <mrow>
       <mi>i</mi>
       <mo>=</mo>
       <mn>1</mn>
      </mrow>
      <mi>n</mi>
     </munderover>
     <mrow>
      <mrow>
       <msub>
        <mi>m</mi>
        <mi>i</mi>
       </msub>
       <msub>
        <mover accent="true">
         <mi>ğ«</mi>
         <mo>Ë™</mo>
        </mover>
        <mi>i</mi>
       </msub>
      </mrow>
      <mo>â‹…</mo>
      <mfrac>
       <mrow>
        <mo>âˆ‚</mo>
        <msub>
         <mover accent="true">
          <mi>ğ«</mi>
          <mo>Ë™</mo>
         </mover>
         <mi>i</mi>
        </msub>
       </mrow>
       <mrow>
        <mo>âˆ‚</mo>
        <msub>
         <mover accent="true">
          <mi>q</mi>
          <mo>Ë™</mo>
         </mover>
         <mi>j</mi>
        </msub>
       </mrow>
      </mfrac>
     </mrow>
    </mrow>
   </mrow>
   <mo>.</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <divide></divide>
     <apply>
      <partialdiff></partialdiff>
      <ci>T</ci>
     </apply>
     <apply>
      <partialdiff></partialdiff>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <apply>
        <ci>normal-Ë™</ci>
        <ci>q</ci>
       </apply>
       <ci>j</ci>
      </apply>
     </apply>
    </apply>
    <apply>
     <apply>
      <csymbol cd="ambiguous">superscript</csymbol>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <sum></sum>
       <apply>
        <eq></eq>
        <ci>i</ci>
        <cn type="integer">1</cn>
       </apply>
      </apply>
      <ci>n</ci>
     </apply>
     <apply>
      <ci>normal-â‹…</ci>
      <apply>
       <times></times>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>m</ci>
        <ci>i</ci>
       </apply>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <apply>
         <ci>normal-Ë™</ci>
         <ci>ğ«</ci>
        </apply>
        <ci>i</ci>
       </apply>
      </apply>
      <apply>
       <divide></divide>
       <apply>
        <partialdiff></partialdiff>
        <apply>
         <csymbol cd="ambiguous">subscript</csymbol>
         <apply>
          <ci>normal-Ë™</ci>
          <ci>ğ«</ci>
         </apply>
         <ci>i</ci>
        </apply>
       </apply>
       <apply>
        <partialdiff></partialdiff>
        <apply>
         <csymbol cd="ambiguous">subscript</csymbol>
         <apply>
          <ci>normal-Ë™</ci>
          <ci>q</ci>
         </apply>
         <ci>j</ci>
        </apply>
       </apply>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \quad\frac{\partial T}{\partial\dot{q}_{j}}=\sum_{i=1}^{n}m_{i}\mathbf{\dot{r}%
}_{i}\cdot\frac{\partial\mathbf{\dot{r}}_{i}}{\partial\dot{q}_{j}}.
  </annotation>
 </semantics>
</math>

 it can be shown that</p>

<p>

<math display="block" id="Lagrangian_mechanics:16">
 <semantics>
  <mrow>
   <mrow>
    <mfrac>
     <mrow>
      <mo>âˆ‚</mo>
      <msub>
       <mover accent="true">
        <mi>ğ«</mi>
        <mo>Ë™</mo>
       </mover>
       <mi>i</mi>
      </msub>
     </mrow>
     <mrow>
      <mo>âˆ‚</mo>
      <mover accent="true">
       <msub>
        <mi>q</mi>
        <mi>j</mi>
       </msub>
       <mo>Ë™</mo>
      </mover>
     </mrow>
    </mfrac>
    <mo>=</mo>
    <mfrac>
     <mrow>
      <mo>âˆ‚</mo>
      <msub>
       <mi>ğ«</mi>
       <mi>i</mi>
      </msub>
     </mrow>
     <mrow>
      <mo>âˆ‚</mo>
      <msub>
       <mi>q</mi>
       <mi>j</mi>
      </msub>
     </mrow>
    </mfrac>
   </mrow>
   <mo>.</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <divide></divide>
     <apply>
      <partialdiff></partialdiff>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <apply>
        <ci>normal-Ë™</ci>
        <ci>ğ«</ci>
       </apply>
       <ci>i</ci>
      </apply>
     </apply>
     <apply>
      <partialdiff></partialdiff>
      <apply>
       <ci>normal-Ë™</ci>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>q</ci>
        <ci>j</ci>
       </apply>
      </apply>
     </apply>
    </apply>
    <apply>
     <divide></divide>
     <apply>
      <partialdiff></partialdiff>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>ğ«</ci>
       <ci>i</ci>
      </apply>
     </apply>
     <apply>
      <partialdiff></partialdiff>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>q</ci>
       <ci>j</ci>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \frac{\partial\mathbf{\dot{r}}_{i}}{\partial\dot{q_{j}}}=\frac{\partial\mathbf%
{r}_{i}}{\partial q_{j}}.
  </annotation>
 </semantics>
</math>

 Then:</p>

<p>

<math display="block" id="Lagrangian_mechanics:17">
 <semantics>
  <mrow>
   <mrow>
    <mpadded lspace="10pt" width="+10pt">
     <mfrac>
      <mrow>
       <mo>âˆ‚</mo>
       <mi>T</mi>
      </mrow>
      <mrow>
       <mo>âˆ‚</mo>
       <msub>
        <mover accent="true">
         <mi>q</mi>
         <mo>Ë™</mo>
        </mover>
        <mi>j</mi>
       </msub>
      </mrow>
     </mfrac>
    </mpadded>
    <mo>=</mo>
    <mrow>
     <munderover>
      <mo largeop="true" movablelimits="false" symmetric="true">âˆ‘</mo>
      <mrow>
       <mi>i</mi>
       <mo>=</mo>
       <mn>1</mn>
      </mrow>
      <mi>n</mi>
     </munderover>
     <mrow>
      <mrow>
       <msub>
        <mi>m</mi>
        <mi>i</mi>
       </msub>
       <msub>
        <mover accent="true">
         <mi>ğ«</mi>
         <mo>Ë™</mo>
        </mover>
        <mi>i</mi>
       </msub>
      </mrow>
      <mo>â‹…</mo>
      <mpadded width="+5pt">
       <mfrac>
        <mrow>
         <mo>âˆ‚</mo>
         <msub>
          <mi>ğ«</mi>
          <mi>i</mi>
         </msub>
        </mrow>
        <mrow>
         <mo>âˆ‚</mo>
         <msub>
          <mi>q</mi>
          <mi>j</mi>
         </msub>
        </mrow>
       </mfrac>
      </mpadded>
     </mrow>
    </mrow>
   </mrow>
   <mo>.</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <divide></divide>
     <apply>
      <partialdiff></partialdiff>
      <ci>T</ci>
     </apply>
     <apply>
      <partialdiff></partialdiff>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <apply>
        <ci>normal-Ë™</ci>
        <ci>q</ci>
       </apply>
       <ci>j</ci>
      </apply>
     </apply>
    </apply>
    <apply>
     <apply>
      <csymbol cd="ambiguous">superscript</csymbol>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <sum></sum>
       <apply>
        <eq></eq>
        <ci>i</ci>
        <cn type="integer">1</cn>
       </apply>
      </apply>
      <ci>n</ci>
     </apply>
     <apply>
      <ci>normal-â‹…</ci>
      <apply>
       <times></times>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>m</ci>
        <ci>i</ci>
       </apply>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <apply>
         <ci>normal-Ë™</ci>
         <ci>ğ«</ci>
        </apply>
        <ci>i</ci>
       </apply>
      </apply>
      <apply>
       <divide></divide>
       <apply>
        <partialdiff></partialdiff>
        <apply>
         <csymbol cd="ambiguous">subscript</csymbol>
         <ci>ğ«</ci>
         <ci>i</ci>
        </apply>
       </apply>
       <apply>
        <partialdiff></partialdiff>
        <apply>
         <csymbol cd="ambiguous">subscript</csymbol>
         <ci>q</ci>
         <ci>j</ci>
        </apply>
       </apply>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \quad\frac{\partial T}{\partial\dot{q}_{j}}=\sum_{i=1}^{n}m_{i}\mathbf{\dot{r}%
}_{i}\cdot\frac{\partial\mathbf{r}_{i}}{\partial q_{j}}\ .
  </annotation>
 </semantics>
</math>

 The total time derivative of this equation is</p>

<p>

<math display="block" id="Lagrangian_mechanics:18">
 <semantics>
  <mrow>
   <mrow>
    <mrow>
     <mfrac>
      <mi mathvariant="normal">d</mi>
      <mrow>
       <mi mathvariant="normal">d</mi>
       <mi>t</mi>
      </mrow>
     </mfrac>
     <mfrac>
      <mrow>
       <mo>âˆ‚</mo>
       <mi>T</mi>
      </mrow>
      <mrow>
       <mo>âˆ‚</mo>
       <msub>
        <mover accent="true">
         <mi>q</mi>
         <mo>Ë™</mo>
        </mover>
        <mi>j</mi>
       </msub>
      </mrow>
     </mfrac>
    </mrow>
    <mo>=</mo>
    <mrow>
     <mrow>
      <munderover>
       <mo largeop="true" movablelimits="false" symmetric="true">âˆ‘</mo>
       <mrow>
        <mi>i</mi>
        <mo>=</mo>
        <mn>1</mn>
       </mrow>
       <mi>n</mi>
      </munderover>
      <mrow>
       <mrow>
        <msub>
         <mi>m</mi>
         <mi>i</mi>
        </msub>
        <msub>
         <mover accent="true">
          <mi>ğ«</mi>
          <mo>Â¨</mo>
         </mover>
         <mi>i</mi>
        </msub>
       </mrow>
       <mo>â‹…</mo>
       <mfrac>
        <mrow>
         <mo>âˆ‚</mo>
         <msub>
          <mi>ğ«</mi>
          <mi>i</mi>
         </msub>
        </mrow>
        <mrow>
         <mo>âˆ‚</mo>
         <msub>
          <mi>q</mi>
          <mi>j</mi>
         </msub>
        </mrow>
       </mfrac>
      </mrow>
     </mrow>
     <mo>+</mo>
     <mrow>
      <munderover>
       <mo largeop="true" movablelimits="false" symmetric="true">âˆ‘</mo>
       <mrow>
        <mi>i</mi>
        <mo>=</mo>
        <mn>1</mn>
       </mrow>
       <mi>n</mi>
      </munderover>
      <mrow>
       <mrow>
        <msub>
         <mi>m</mi>
         <mi>i</mi>
        </msub>
        <msub>
         <mover accent="true">
          <mi>ğ«</mi>
          <mo>Ë™</mo>
         </mover>
         <mi>i</mi>
        </msub>
       </mrow>
       <mo>â‹…</mo>
       <mfrac>
        <mrow>
         <mo>âˆ‚</mo>
         <msub>
          <mover accent="true">
           <mi>ğ«</mi>
           <mo>Ë™</mo>
          </mover>
          <mi>i</mi>
         </msub>
        </mrow>
        <mrow>
         <mo>âˆ‚</mo>
         <msub>
          <mi>q</mi>
          <mi>j</mi>
         </msub>
        </mrow>
       </mfrac>
      </mrow>
     </mrow>
    </mrow>
    <mo>=</mo>
    <mrow>
     <msub>
      <mi>Q</mi>
      <mi>j</mi>
     </msub>
     <mo>+</mo>
     <mpadded width="+5pt">
      <mfrac>
       <mrow>
        <mo>âˆ‚</mo>
        <mi>T</mi>
       </mrow>
       <mrow>
        <mo>âˆ‚</mo>
        <msub>
         <mi>q</mi>
         <mi>j</mi>
        </msub>
       </mrow>
      </mfrac>
     </mpadded>
    </mrow>
   </mrow>
   <mo>.</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <and></and>
    <apply>
     <eq></eq>
     <apply>
      <times></times>
      <apply>
       <divide></divide>
       <ci>normal-d</ci>
       <apply>
        <times></times>
        <ci>normal-d</ci>
        <ci>t</ci>
       </apply>
      </apply>
      <apply>
       <divide></divide>
       <apply>
        <partialdiff></partialdiff>
        <ci>T</ci>
       </apply>
       <apply>
        <partialdiff></partialdiff>
        <apply>
         <csymbol cd="ambiguous">subscript</csymbol>
         <apply>
          <ci>normal-Ë™</ci>
          <ci>q</ci>
         </apply>
         <ci>j</ci>
        </apply>
       </apply>
      </apply>
     </apply>
     <apply>
      <plus></plus>
      <apply>
       <apply>
        <csymbol cd="ambiguous">superscript</csymbol>
        <apply>
         <csymbol cd="ambiguous">subscript</csymbol>
         <sum></sum>
         <apply>
          <eq></eq>
          <ci>i</ci>
          <cn type="integer">1</cn>
         </apply>
        </apply>
        <ci>n</ci>
       </apply>
       <apply>
        <ci>normal-â‹…</ci>
        <apply>
         <times></times>
         <apply>
          <csymbol cd="ambiguous">subscript</csymbol>
          <ci>m</ci>
          <ci>i</ci>
         </apply>
         <apply>
          <csymbol cd="ambiguous">subscript</csymbol>
          <apply>
           <ci>normal-Â¨</ci>
           <ci>ğ«</ci>
          </apply>
          <ci>i</ci>
         </apply>
        </apply>
        <apply>
         <divide></divide>
         <apply>
          <partialdiff></partialdiff>
          <apply>
           <csymbol cd="ambiguous">subscript</csymbol>
           <ci>ğ«</ci>
           <ci>i</ci>
          </apply>
         </apply>
         <apply>
          <partialdiff></partialdiff>
          <apply>
           <csymbol cd="ambiguous">subscript</csymbol>
           <ci>q</ci>
           <ci>j</ci>
          </apply>
         </apply>
        </apply>
       </apply>
      </apply>
      <apply>
       <apply>
        <csymbol cd="ambiguous">superscript</csymbol>
        <apply>
         <csymbol cd="ambiguous">subscript</csymbol>
         <sum></sum>
         <apply>
          <eq></eq>
          <ci>i</ci>
          <cn type="integer">1</cn>
         </apply>
        </apply>
        <ci>n</ci>
       </apply>
       <apply>
        <ci>normal-â‹…</ci>
        <apply>
         <times></times>
         <apply>
          <csymbol cd="ambiguous">subscript</csymbol>
          <ci>m</ci>
          <ci>i</ci>
         </apply>
         <apply>
          <csymbol cd="ambiguous">subscript</csymbol>
          <apply>
           <ci>normal-Ë™</ci>
           <ci>ğ«</ci>
          </apply>
          <ci>i</ci>
         </apply>
        </apply>
        <apply>
         <divide></divide>
         <apply>
          <partialdiff></partialdiff>
          <apply>
           <csymbol cd="ambiguous">subscript</csymbol>
           <apply>
            <ci>normal-Ë™</ci>
            <ci>ğ«</ci>
           </apply>
           <ci>i</ci>
          </apply>
         </apply>
         <apply>
          <partialdiff></partialdiff>
          <apply>
           <csymbol cd="ambiguous">subscript</csymbol>
           <ci>q</ci>
           <ci>j</ci>
          </apply>
         </apply>
        </apply>
       </apply>
      </apply>
     </apply>
    </apply>
    <apply>
     <eq></eq>
     <share href="#.cmml">
     </share>
     <apply>
      <plus></plus>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>Q</ci>
       <ci>j</ci>
      </apply>
      <apply>
       <divide></divide>
       <apply>
        <partialdiff></partialdiff>
        <ci>T</ci>
       </apply>
       <apply>
        <partialdiff></partialdiff>
        <apply>
         <csymbol cd="ambiguous">subscript</csymbol>
         <ci>q</ci>
         <ci>j</ci>
        </apply>
       </apply>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \frac{\mathrm{d}}{\mathrm{d}t}\frac{\partial T}{\partial\dot{q}_{j}}=\sum_{i=1%
}^{n}m_{i}\mathbf{\ddot{r}}_{i}\cdot\frac{\partial\mathbf{r}_{i}}{\partial q_{%
j}}+\sum_{i=1}^{n}m_{i}\mathbf{\dot{r}}_{i}\cdot\frac{\partial\mathbf{\dot{r}}%
_{i}}{\partial q_{j}}=Q_{j}+\frac{\partial T}{\partial q_{j}}\ .
  </annotation>
 </semantics>
</math>

 resulting in the generalized equations of motion.</p></td>
</tr>
</tbody>
</table>
</dd>
</dl>
<h3 id="lagrangian-and-action">Lagrangian and action</h3>

<p>The core element of Lagrangian mechanics is the Lagrangian function, which summarizes the dynamics of the entire system in a very simple expression. The physics of analyzing a system is reduced to choosing the most convenient set of generalized coordinates, determining the kinetic and potential energies of the constituents of the system, then writing down the equation for the Lagrangian to use in Lagrange's equations. It is defined by <a class="footnoteRef" href="#fn17" id="fnref17"><sup>17</sup></a></p>

<p>

<math display="block" id="Lagrangian_mechanics:19">
 <semantics>
  <mrow>
   <mi>L</mi>
   <mo>=</mo>
   <mrow>
    <mi>T</mi>
    <mo>-</mo>
    <mpadded width="+1.7pt">
     <mi>V</mi>
    </mpadded>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <ci>L</ci>
    <apply>
     <minus></minus>
     <ci>T</ci>
     <ci>V</ci>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   L=T-V\,
  </annotation>
 </semantics>
</math>

</p>

<p>where <em>T</em> is the total kinetic energy and <em>V</em> is the total potential energy of the system.</p>

<p>The next fundamental element is the <a href="action_(physics)" title="wikilink">action</a> 

<math display="inline" id="Lagrangian_mechanics:20">
 <semantics>
  <mi class="ltx_font_mathcaligraphic">ğ’®</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>ğ’®</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \mathcal{S}
  </annotation>
 </semantics>
</math>

, defined as the time integral of the Lagrangian:<a class="footnoteRef" href="#fn18" id="fnref18"><sup>18</sup></a></p>

<p>

<math display="block" id="Lagrangian_mechanics:21">
 <semantics>
  <mrow>
   <mrow>
    <mi class="ltx_font_mathcaligraphic">ğ’®</mi>
    <mo>=</mo>
    <mrow>
     <msubsup>
      <mo largeop="true" symmetric="true">âˆ«</mo>
      <msub>
       <mi>t</mi>
       <mn>1</mn>
      </msub>
      <msub>
       <mi>t</mi>
       <mn>2</mn>
      </msub>
     </msubsup>
     <mrow>
      <mpadded width="+1.7pt">
       <mi>L</mi>
      </mpadded>
      <mi mathvariant="normal">d</mi>
      <mi>t</mi>
     </mrow>
    </mrow>
   </mrow>
   <mo>.</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <ci>ğ’®</ci>
    <apply>
     <apply>
      <csymbol cd="ambiguous">superscript</csymbol>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <int></int>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>t</ci>
        <cn type="integer">1</cn>
       </apply>
      </apply>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>t</ci>
       <cn type="integer">2</cn>
      </apply>
     </apply>
     <apply>
      <times></times>
      <ci>L</ci>
      <ci>normal-d</ci>
      <ci>t</ci>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \mathcal{S}=\int_{t_{1}}^{t_{2}}L\,\mathrm{d}t.
  </annotation>
 </semantics>
</math>

</p>

<p>This also contains the dynamics of the system, and has deep theoretical implications (discussed below). Technically, the action is a <em><a href="Functional_(mathematics)" title="wikilink">functional</a></em>, that is, it is a <em><a href="Function_(mathematics)" title="wikilink">function</a></em> that maps the full Lagrangian function for all times between <em>t</em><sub>1</sub> and <em>t</em><sub>2</sub> to a scalar value for the action. Its <a href="dimensional_analysis" title="wikilink">dimensions</a> are the same as <a href="angular_momentum" title="wikilink">angular momentum</a>.</p>

<p>In classical <a href="field_theory_(physics)" title="wikilink">field theory</a>, the physical system is not a set of discrete particles, but rather a continuous field defined over a region of 3d space. Associated with the field is a <a href="Lagrangian_density" title="wikilink">Lagrangian density</a> 

<math display="inline" id="Lagrangian_mechanics:22">
 <semantics>
  <mrow>
   <mi class="ltx_font_mathcaligraphic">â„’</mi>
   <mrow>
    <mo stretchy="false">(</mo>
    <mi>ğ«</mi>
    <mo>,</mo>
    <mi>t</mi>
    <mo stretchy="false">)</mo>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <times></times>
    <ci>â„’</ci>
    <interval closure="open">
     <ci>ğ«</ci>
     <ci>t</ci>
    </interval>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \mathcal{L}(\mathbf{r},t)
  </annotation>
 </semantics>
</math>

 defined in terms of the field and its derivatives at a location 

<math display="inline" id="Lagrangian_mechanics:23">
 <semantics>
  <mi>ğ«</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>ğ«</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \mathbf{r}
  </annotation>
 </semantics>
</math>

. The total Lagrangian is then the integral of the Lagrangian density over 3d space (see <a href="volume_integral" title="wikilink">volume integral</a>):</p>

<p>

<math display="block" id="Lagrangian_mechanics:24">
 <semantics>
  <mrow>
   <mrow>
    <mi>L</mi>
    <mrow>
     <mo stretchy="false">(</mo>
     <mi>t</mi>
     <mo stretchy="false">)</mo>
    </mrow>
   </mrow>
   <mo>=</mo>
   <mrow>
    <mo largeop="true" symmetric="true">âˆ«</mo>
    <mrow>
     <mi class="ltx_font_mathcaligraphic">â„’</mi>
     <mrow>
      <mo stretchy="false">(</mo>
      <mi>ğ«</mi>
      <mo>,</mo>
      <mi>t</mi>
      <mo stretchy="false">)</mo>
     </mrow>
     <msup>
      <mi mathvariant="normal">d</mi>
      <mn>3</mn>
     </msup>
     <mpadded width="+1.7pt">
      <mi>ğ«</mi>
     </mpadded>
    </mrow>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <times></times>
     <ci>L</ci>
     <ci>t</ci>
    </apply>
    <apply>
     <int></int>
     <apply>
      <times></times>
      <ci>â„’</ci>
      <interval closure="open">
       <ci>ğ«</ci>
       <ci>t</ci>
      </interval>
      <apply>
       <csymbol cd="ambiguous">superscript</csymbol>
       <ci>normal-d</ci>
       <cn type="integer">3</cn>
      </apply>
      <ci>ğ«</ci>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   L(t)=\int\mathcal{L}(\mathbf{r},t)\mathrm{d}^{3}\mathbf{r}\,
  </annotation>
 </semantics>
</math>

</p>

<p>where d<sup>3</sup><strong>r</strong> is a 3d <a href="Total_differential#Differentials_in_several_variables" title="wikilink">differential</a> <a href="volume_element" title="wikilink">volume element</a>, must be used instead. The action becomes an integral over space and time:</p>

<p>

<math display="block" id="Lagrangian_mechanics:25">
 <semantics>
  <mrow>
   <mrow>
    <mi class="ltx_font_mathcaligraphic">ğ’®</mi>
    <mo>=</mo>
    <mrow>
     <msubsup>
      <mo largeop="true" symmetric="true">âˆ«</mo>
      <msub>
       <mi>t</mi>
       <mn>1</mn>
      </msub>
      <msub>
       <mi>t</mi>
       <mn>2</mn>
      </msub>
     </msubsup>
     <mrow>
      <mo largeop="true" symmetric="true">âˆ«</mo>
      <mrow>
       <mi class="ltx_font_mathcaligraphic">â„’</mi>
       <mrow>
        <mo stretchy="false">(</mo>
        <mi>ğ«</mi>
        <mo>,</mo>
        <mi>t</mi>
        <mo stretchy="false">)</mo>
       </mrow>
       <msup>
        <mi mathvariant="normal">d</mi>
        <mn>3</mn>
       </msup>
       <mi>ğ«</mi>
       <mi mathvariant="normal">d</mi>
       <mi>t</mi>
      </mrow>
     </mrow>
    </mrow>
   </mrow>
   <mo>.</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <ci>ğ’®</ci>
    <apply>
     <apply>
      <csymbol cd="ambiguous">superscript</csymbol>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <int></int>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>t</ci>
        <cn type="integer">1</cn>
       </apply>
      </apply>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>t</ci>
       <cn type="integer">2</cn>
      </apply>
     </apply>
     <apply>
      <int></int>
      <apply>
       <times></times>
       <ci>â„’</ci>
       <interval closure="open">
        <ci>ğ«</ci>
        <ci>t</ci>
       </interval>
       <apply>
        <csymbol cd="ambiguous">superscript</csymbol>
        <ci>normal-d</ci>
        <cn type="integer">3</cn>
       </apply>
       <ci>ğ«</ci>
       <ci>normal-d</ci>
       <ci>t</ci>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \mathcal{S}=\int_{t_{1}}^{t_{2}}\int\mathcal{L}(\mathbf{r},t)\mathrm{d}^{3}%
\mathbf{r}\mathrm{d}t.
  </annotation>
 </semantics>
</math>

</p>
<h3 id="hamiltons-principle-of-stationary-action">Hamilton's principle of stationary action</h3>

<p>Let <em>q</em><sub>0</sub> and <em>q</em><sub>1</sub> be the coordinates at respective initial and final times <em>t</em><sub>0</sub> and <em>t</em><sub>1</sub>. Using the <a href="calculus_of_variations" title="wikilink">calculus of variations</a>, it can be shown that Lagrange's equations are equivalent to <em><a href="Hamilton's_principle" title="wikilink">Hamilton's principle</a></em>:</p>
<dl>
<dd><em>The trajectory of the system between t<sub>0</sub> and t<sub>1</sub> has a <strong>stationary action</strong> S.</em>
</dd>
</dl>

<p>By <em>stationary</em>, we mean that the action does not vary to first-order from infinitesimal deformations of the trajectory, with the end-points (<em>q</em><sub>0</sub>, <em>t</em><sub>0</sub>) and (<em>q</em><sub>1</sub>,<em>t</em><sub>1</sub>) fixed. Hamilton's principle can be written as:</p>

<p>

<math display="block" id="Lagrangian_mechanics:26">
 <semantics>
  <mrow>
   <mrow>
    <mi>Î´</mi>
    <mi class="ltx_font_mathcaligraphic">ğ’®</mi>
   </mrow>
   <mo>=</mo>
   <mn>0.</mn>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <times></times>
     <ci>Î´</ci>
     <ci>ğ’®</ci>
    </apply>
    <cn type="float">0.</cn>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \delta\mathcal{S}=0.\,\!
  </annotation>
 </semantics>
</math>

</p>

<p>Thus, instead of thinking about particles accelerating in response to applied forces, one might think of them picking out the path with a stationary action.</p>

<p>Hamilton's principle is sometimes referred to as the <em><a href="principle_of_least_action" title="wikilink">principle of least action</a></em>, however the action functional need only be <em>stationary</em>, not necessarily a maximum or a minimum value. Any variation of the functional gives an increase in the functional integral of the action.</p>

<p>We can use this principle instead of <a href="Newton's_Laws" title="wikilink">Newton's Laws</a> as the fundamental principle of mechanics, this allows us to use an integral principle (Newton's Laws are based on differential equations so they are a differential principle) as the basis for mechanics. However it is not widely stated that Hamilton's principle is a variational principle only with <a href="holonomic_constraints" title="wikilink">holonomic constraints</a>, if we are dealing with nonholonomic systems then the variational principle should be replaced with one involving <a class="uri" href="d'Alembert" title="wikilink">d'Alembert</a> principle of <a href="virtual_work" title="wikilink">virtual work</a>. Working only with holonomic constraints is the price we have to pay for using an elegant variational formulation of mechanics.</p>
<h3 id="illustration">Illustration</h3>

<p>The trajectory of a thrown ball is characterized by the sum of the Lagrangian values at each time being a (local) minimum.</p>

<p>The Lagrangian <em>L</em> can be calculated at several instants of time <em>t</em>, and a graph of <em>L</em> against <em>t</em> can be drawn. The area under the curve is the <a href="action_(physics)" title="wikilink">action</a>. Any different path between the initial and final positions leads to a larger action than that chosen by nature. Nature chooses the smallest action â€“ this is the <a href="Principle_of_Least_Action" title="wikilink">Principle of Least Action</a>.</p>

<p><mtpl></mtpl></p>

<p>Using only the principle of least action and the Lagrangian we can deduce the correct trajectory, by trial and error or the <a href="calculus_of_variations" title="wikilink">calculus of variations</a>.</p>
<h2 id="lagranges-equations-of-the-first-kind">Lagrange's equations of the first kind</h2>

<p>Lagrange introduced an analytical method for finding stationary points using the method of <a href="Lagrange_multiplier" title="wikilink">Lagrange multipliers</a>, and also applied it to mechanics.</p>

<p>For a system subject to the (holonomic) constraint equation on the generalized coordinates:</p>

<p>

<math display="block" id="Lagrangian_mechanics:27">
 <semantics>
  <mrow>
   <mrow>
    <mi>F</mi>
    <mrow>
     <mo stretchy="false">(</mo>
     <msub>
      <mi>r</mi>
      <mn>1</mn>
     </msub>
     <mo>,</mo>
     <msub>
      <mi>r</mi>
      <mn>2</mn>
     </msub>
     <mo>,</mo>
     <msub>
      <mi>r</mi>
      <mn>3</mn>
     </msub>
     <mo stretchy="false">)</mo>
    </mrow>
   </mrow>
   <mo>=</mo>
   <mi>A</mi>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <times></times>
     <ci>F</ci>
     <vector>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>r</ci>
       <cn type="integer">1</cn>
      </apply>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>r</ci>
       <cn type="integer">2</cn>
      </apply>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>r</ci>
       <cn type="integer">3</cn>
      </apply>
     </vector>
    </apply>
    <ci>A</ci>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   F(r_{1},r_{2},r_{3})=A
  </annotation>
 </semantics>
</math>

</p>

<p>where <em>A</em> is a constant, then <strong>Lagrange's equations of the first kind</strong> are:</p>

<p>

<math display="block" id="Lagrangian_mechanics:28">
 <semantics>
  <mrow>
   <mrow>
    <mrow>
     <mo>[</mo>
     <mrow>
      <mfrac>
       <mrow>
        <mo>âˆ‚</mo>
        <mi>L</mi>
       </mrow>
       <mrow>
        <mo>âˆ‚</mo>
        <msub>
         <mi>r</mi>
         <mi>j</mi>
        </msub>
       </mrow>
      </mfrac>
      <mo>-</mo>
      <mrow>
       <mfrac>
        <mi mathvariant="normal">d</mi>
        <mrow>
         <mi mathvariant="normal">d</mi>
         <mi>t</mi>
        </mrow>
       </mfrac>
       <mrow>
        <mo>(</mo>
        <mfrac>
         <mrow>
          <mo>âˆ‚</mo>
          <mi>L</mi>
         </mrow>
         <mrow>
          <mo>âˆ‚</mo>
          <msub>
           <mover accent="true">
            <mi>r</mi>
            <mo>Ë™</mo>
           </mover>
           <mi>j</mi>
          </msub>
         </mrow>
        </mfrac>
        <mo>)</mo>
       </mrow>
      </mrow>
     </mrow>
     <mo>]</mo>
    </mrow>
    <mo>+</mo>
    <mrow>
     <mi>Î»</mi>
     <mfrac>
      <mrow>
       <mo>âˆ‚</mo>
       <mi>F</mi>
      </mrow>
      <mrow>
       <mo>âˆ‚</mo>
       <msub>
        <mi>r</mi>
        <mi>j</mi>
       </msub>
      </mrow>
     </mfrac>
    </mrow>
   </mrow>
   <mo>=</mo>
   <mn>0</mn>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <plus></plus>
     <apply>
      <csymbol cd="latexml">delimited-[]</csymbol>
      <apply>
       <minus></minus>
       <apply>
        <divide></divide>
        <apply>
         <partialdiff></partialdiff>
         <ci>L</ci>
        </apply>
        <apply>
         <partialdiff></partialdiff>
         <apply>
          <csymbol cd="ambiguous">subscript</csymbol>
          <ci>r</ci>
          <ci>j</ci>
         </apply>
        </apply>
       </apply>
       <apply>
        <times></times>
        <apply>
         <divide></divide>
         <ci>normal-d</ci>
         <apply>
          <times></times>
          <ci>normal-d</ci>
          <ci>t</ci>
         </apply>
        </apply>
        <apply>
         <divide></divide>
         <apply>
          <partialdiff></partialdiff>
          <ci>L</ci>
         </apply>
         <apply>
          <partialdiff></partialdiff>
          <apply>
           <csymbol cd="ambiguous">subscript</csymbol>
           <apply>
            <ci>normal-Ë™</ci>
            <ci>r</ci>
           </apply>
           <ci>j</ci>
          </apply>
         </apply>
        </apply>
       </apply>
      </apply>
     </apply>
     <apply>
      <times></times>
      <ci>Î»</ci>
      <apply>
       <divide></divide>
       <apply>
        <partialdiff></partialdiff>
        <ci>F</ci>
       </apply>
       <apply>
        <partialdiff></partialdiff>
        <apply>
         <csymbol cd="ambiguous">subscript</csymbol>
         <ci>r</ci>
         <ci>j</ci>
        </apply>
       </apply>
      </apply>
     </apply>
    </apply>
    <cn type="integer">0</cn>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \left[\frac{\partial L}{\partial r_{j}}-\frac{\mathrm{d}}{\mathrm{d}t}\left(%
\frac{\partial L}{\partial\dot{r}_{j}}\right)\right]+\lambda\frac{\partial F}{%
\partial r_{j}}=0
  </annotation>
 </semantics>
</math>

</p>

<p>where <em>Î»</em> is the Lagrange multiplier. By analogy with the mathematical procedure, we can write:</p>

<p>

<math display="block" id="Lagrangian_mechanics:29">
 <semantics>
  <mrow>
   <mrow>
    <mfrac>
     <mrow>
      <mi>Î´</mi>
      <mi>L</mi>
     </mrow>
     <mrow>
      <mi>Î´</mi>
      <msub>
       <mi>r</mi>
       <mi>j</mi>
      </msub>
     </mrow>
    </mfrac>
    <mo>+</mo>
    <mrow>
     <mi>Î»</mi>
     <mfrac>
      <mrow>
       <mo>âˆ‚</mo>
       <mi>F</mi>
      </mrow>
      <mrow>
       <mo>âˆ‚</mo>
       <msub>
        <mi>r</mi>
        <mi>j</mi>
       </msub>
      </mrow>
     </mfrac>
    </mrow>
   </mrow>
   <mo>=</mo>
   <mn>0</mn>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <plus></plus>
     <apply>
      <divide></divide>
      <apply>
       <times></times>
       <ci>Î´</ci>
       <ci>L</ci>
      </apply>
      <apply>
       <times></times>
       <ci>Î´</ci>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>r</ci>
        <ci>j</ci>
       </apply>
      </apply>
     </apply>
     <apply>
      <times></times>
      <ci>Î»</ci>
      <apply>
       <divide></divide>
       <apply>
        <partialdiff></partialdiff>
        <ci>F</ci>
       </apply>
       <apply>
        <partialdiff></partialdiff>
        <apply>
         <csymbol cd="ambiguous">subscript</csymbol>
         <ci>r</ci>
         <ci>j</ci>
        </apply>
       </apply>
      </apply>
     </apply>
    </apply>
    <cn type="integer">0</cn>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \frac{\delta L}{\delta r_{j}}+\lambda\frac{\partial F}{\partial r_{j}}=0
  </annotation>
 </semantics>
</math>

</p>

<p>where</p>

<p>

<math display="block" id="Lagrangian_mechanics:30">
 <semantics>
  <mrow>
   <mfrac>
    <mrow>
     <mi>Î´</mi>
     <mi>L</mi>
    </mrow>
    <mrow>
     <mi>Î´</mi>
     <msub>
      <mi>r</mi>
      <mi>j</mi>
     </msub>
    </mrow>
   </mfrac>
   <mo>=</mo>
   <mrow>
    <mfrac>
     <mrow>
      <mo>âˆ‚</mo>
      <mi>L</mi>
     </mrow>
     <mrow>
      <mo>âˆ‚</mo>
      <msub>
       <mi>r</mi>
       <mi>j</mi>
      </msub>
     </mrow>
    </mfrac>
    <mo>-</mo>
    <mrow>
     <mfrac>
      <mi mathvariant="normal">d</mi>
      <mrow>
       <mi mathvariant="normal">d</mi>
       <mi>t</mi>
      </mrow>
     </mfrac>
     <mrow>
      <mo>(</mo>
      <mfrac>
       <mrow>
        <mo>âˆ‚</mo>
        <mi>L</mi>
       </mrow>
       <mrow>
        <mo>âˆ‚</mo>
        <msub>
         <mover accent="true">
          <mi>r</mi>
          <mo>Ë™</mo>
         </mover>
         <mi>j</mi>
        </msub>
       </mrow>
      </mfrac>
      <mo>)</mo>
     </mrow>
    </mrow>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <divide></divide>
     <apply>
      <times></times>
      <ci>Î´</ci>
      <ci>L</ci>
     </apply>
     <apply>
      <times></times>
      <ci>Î´</ci>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>r</ci>
       <ci>j</ci>
      </apply>
     </apply>
    </apply>
    <apply>
     <minus></minus>
     <apply>
      <divide></divide>
      <apply>
       <partialdiff></partialdiff>
       <ci>L</ci>
      </apply>
      <apply>
       <partialdiff></partialdiff>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>r</ci>
        <ci>j</ci>
       </apply>
      </apply>
     </apply>
     <apply>
      <times></times>
      <apply>
       <divide></divide>
       <ci>normal-d</ci>
       <apply>
        <times></times>
        <ci>normal-d</ci>
        <ci>t</ci>
       </apply>
      </apply>
      <apply>
       <divide></divide>
       <apply>
        <partialdiff></partialdiff>
        <ci>L</ci>
       </apply>
       <apply>
        <partialdiff></partialdiff>
        <apply>
         <csymbol cd="ambiguous">subscript</csymbol>
         <apply>
          <ci>normal-Ë™</ci>
          <ci>r</ci>
         </apply>
         <ci>j</ci>
        </apply>
       </apply>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \frac{\delta L}{\delta r_{j}}=\frac{\partial L}{\partial r_{j}}-\frac{\mathrm{%
d}}{\mathrm{d}t}\left(\frac{\partial L}{\partial\dot{r}_{j}}\right)
  </annotation>
 </semantics>
</math>

</p>

<p>denotes the <a href="variational_derivative" title="wikilink">variational derivative</a>.</p>

<p>For <em>e</em> constraint equations <em>F</em><sub>1</sub>, <em>F</em><sub>2</sub>,..., <em>F<sub>e</sub></em>, there is a Lagrange multiplier for each constraint equation, and Lagrange's equations of the first kind generalize to:</p>

<p>This procedure does increase the number of equations, but there are enough to solve for all of the multipliers. The number of equations generated is the number of constraint equations plus the number of coordinates, i.e. <em>e</em> + <em>m</em>. The advantage of the method is that (potentially complicated) substitution and elimination of variables linked by constraint equations can be bypassed.</p>

<p>There is a connection between the constraint equations <em>F<sub>j</sub></em> and the constraint forces <em>N<sub>j</sub></em> acting in the <a href="conservative_force" title="wikilink">conservative</a> system (forces are conservative):</p>

<p>

<math display="block" id="Lagrangian_mechanics:31">
 <semantics>
  <mrow>
   <msub>
    <mi>N</mi>
    <mi>j</mi>
   </msub>
   <mo>=</mo>
   <mrow>
    <munderover>
     <mo largeop="true" movablelimits="false" symmetric="true">âˆ‘</mo>
     <mrow>
      <mi>i</mi>
      <mo>=</mo>
      <mn>1</mn>
     </mrow>
     <mi>e</mi>
    </munderover>
    <mrow>
     <msub>
      <mi>Î»</mi>
      <mi>i</mi>
     </msub>
     <mfrac>
      <mrow>
       <mo>âˆ‚</mo>
       <msub>
        <mi>F</mi>
        <mi>i</mi>
       </msub>
      </mrow>
      <mrow>
       <mo>âˆ‚</mo>
       <msub>
        <mi>r</mi>
        <mi>j</mi>
       </msub>
      </mrow>
     </mfrac>
    </mrow>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <csymbol cd="ambiguous">subscript</csymbol>
     <ci>N</ci>
     <ci>j</ci>
    </apply>
    <apply>
     <apply>
      <csymbol cd="ambiguous">superscript</csymbol>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <sum></sum>
       <apply>
        <eq></eq>
        <ci>i</ci>
        <cn type="integer">1</cn>
       </apply>
      </apply>
      <ci>e</ci>
     </apply>
     <apply>
      <times></times>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>Î»</ci>
       <ci>i</ci>
      </apply>
      <apply>
       <divide></divide>
       <apply>
        <partialdiff></partialdiff>
        <apply>
         <csymbol cd="ambiguous">subscript</csymbol>
         <ci>F</ci>
         <ci>i</ci>
        </apply>
       </apply>
       <apply>
        <partialdiff></partialdiff>
        <apply>
         <csymbol cd="ambiguous">subscript</csymbol>
         <ci>r</ci>
         <ci>j</ci>
        </apply>
       </apply>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   N_{j}=\sum_{i=1}^{e}\lambda_{i}\frac{\partial F_{i}}{\partial r_{j}}
  </annotation>
 </semantics>
</math>

</p>

<p>which is derived below.</p>
<dl>
<dd>
<table>
<thead>
<tr class="header">
<th style="text-align: left;">
<p>Derivation of connection between constraint equations and forces</p></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">
<p>The generalized constraint forces are given by (using the definition of generalized force above):</p>

<p>

<math display="block" id="Lagrangian_mechanics:32">
 <semantics>
  <mrow>
   <msub>
    <mi>N</mi>
    <mi>j</mi>
   </msub>
   <mo>=</mo>
   <mrow>
    <munderover>
     <mo largeop="true" movablelimits="false" symmetric="true">âˆ‘</mo>
     <mrow>
      <mi>i</mi>
      <mo>=</mo>
      <mn>1</mn>
     </mrow>
     <mi>n</mi>
    </munderover>
    <mrow>
     <msub>
      <mi>ğ</mi>
      <mi>i</mi>
     </msub>
     <mo>â‹…</mo>
     <mfrac>
      <mrow>
       <mo>âˆ‚</mo>
       <msub>
        <mi>ğ«</mi>
        <mi>i</mi>
       </msub>
      </mrow>
      <mrow>
       <mo>âˆ‚</mo>
       <msub>
        <mi>q</mi>
        <mi>j</mi>
       </msub>
      </mrow>
     </mfrac>
    </mrow>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <csymbol cd="ambiguous">subscript</csymbol>
     <ci>N</ci>
     <ci>j</ci>
    </apply>
    <apply>
     <apply>
      <csymbol cd="ambiguous">superscript</csymbol>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <sum></sum>
       <apply>
        <eq></eq>
        <ci>i</ci>
        <cn type="integer">1</cn>
       </apply>
      </apply>
      <ci>n</ci>
     </apply>
     <apply>
      <ci>normal-â‹…</ci>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>ğ</ci>
       <ci>i</ci>
      </apply>
      <apply>
       <divide></divide>
       <apply>
        <partialdiff></partialdiff>
        <apply>
         <csymbol cd="ambiguous">subscript</csymbol>
         <ci>ğ«</ci>
         <ci>i</ci>
        </apply>
       </apply>
       <apply>
        <partialdiff></partialdiff>
        <apply>
         <csymbol cd="ambiguous">subscript</csymbol>
         <ci>q</ci>
         <ci>j</ci>
        </apply>
       </apply>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   N_{j}=\sum_{i=1}^{n}\mathbf{N}_{i}\cdot\frac{\partial\mathbf{r}_{i}}{\partial q%
_{j}}
  </annotation>
 </semantics>
</math>

 and using the kinetic energy equation of motion (blue box above):</p>

<p>

<math display="block" id="Lagrangian_mechanics:33">
 <semantics>
  <mrow>
   <mrow>
    <msub>
     <mi>Q</mi>
     <mi>j</mi>
    </msub>
    <mo>=</mo>
    <mrow>
     <mrow>
      <mfrac>
       <mi mathvariant="normal">d</mi>
       <mrow>
        <mi mathvariant="normal">d</mi>
        <mi>t</mi>
       </mrow>
      </mfrac>
      <mrow>
       <mo>(</mo>
       <mfrac>
        <mrow>
         <mo>âˆ‚</mo>
         <mi>T</mi>
        </mrow>
        <mrow>
         <mo>âˆ‚</mo>
         <msub>
          <mover accent="true">
           <mi>q</mi>
           <mo>Ë™</mo>
          </mover>
          <mi>j</mi>
         </msub>
        </mrow>
       </mfrac>
       <mo>)</mo>
      </mrow>
     </mrow>
     <mo>-</mo>
     <mfrac>
      <mrow>
       <mo>âˆ‚</mo>
       <mi>T</mi>
      </mrow>
      <mrow>
       <mo>âˆ‚</mo>
       <msub>
        <mi>q</mi>
        <mi>j</mi>
       </msub>
      </mrow>
     </mfrac>
    </mrow>
    <mo>=</mo>
    <mrow>
     <mo>-</mo>
     <mfrac>
      <mrow>
       <mi>Î´</mi>
       <mi>T</mi>
      </mrow>
      <mrow>
       <mi>Î´</mi>
       <msub>
        <mi>q</mi>
        <mi>j</mi>
       </msub>
      </mrow>
     </mfrac>
    </mrow>
    <mo>=</mo>
    <mrow>
     <munderover>
      <mo largeop="true" movablelimits="false" symmetric="true">âˆ‘</mo>
      <mrow>
       <mi>i</mi>
       <mo>=</mo>
       <mn>1</mn>
      </mrow>
      <mi>n</mi>
     </munderover>
     <mrow>
      <msub>
       <mi>ğ…</mi>
       <mi>i</mi>
      </msub>
      <mo>â‹…</mo>
      <mfrac>
       <mrow>
        <mo>âˆ‚</mo>
        <msub>
         <mi>ğ«</mi>
         <mi>i</mi>
        </msub>
       </mrow>
       <mrow>
        <mo>âˆ‚</mo>
        <msub>
         <mi>q</mi>
         <mi>j</mi>
        </msub>
       </mrow>
      </mfrac>
     </mrow>
    </mrow>
   </mrow>
   <mo>,</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <and></and>
    <apply>
     <eq></eq>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <ci>Q</ci>
      <ci>j</ci>
     </apply>
     <apply>
      <minus></minus>
      <apply>
       <times></times>
       <apply>
        <divide></divide>
        <ci>normal-d</ci>
        <apply>
         <times></times>
         <ci>normal-d</ci>
         <ci>t</ci>
        </apply>
       </apply>
       <apply>
        <divide></divide>
        <apply>
         <partialdiff></partialdiff>
         <ci>T</ci>
        </apply>
        <apply>
         <partialdiff></partialdiff>
         <apply>
          <csymbol cd="ambiguous">subscript</csymbol>
          <apply>
           <ci>normal-Ë™</ci>
           <ci>q</ci>
          </apply>
          <ci>j</ci>
         </apply>
        </apply>
       </apply>
      </apply>
      <apply>
       <divide></divide>
       <apply>
        <partialdiff></partialdiff>
        <ci>T</ci>
       </apply>
       <apply>
        <partialdiff></partialdiff>
        <apply>
         <csymbol cd="ambiguous">subscript</csymbol>
         <ci>q</ci>
         <ci>j</ci>
        </apply>
       </apply>
      </apply>
     </apply>
    </apply>
    <apply>
     <eq></eq>
     <share href="#.cmml">
     </share>
     <apply>
      <minus></minus>
      <apply>
       <divide></divide>
       <apply>
        <times></times>
        <ci>Î´</ci>
        <ci>T</ci>
       </apply>
       <apply>
        <times></times>
        <ci>Î´</ci>
        <apply>
         <csymbol cd="ambiguous">subscript</csymbol>
         <ci>q</ci>
         <ci>j</ci>
        </apply>
       </apply>
      </apply>
     </apply>
    </apply>
    <apply>
     <eq></eq>
     <share href="#.cmml">
     </share>
     <apply>
      <apply>
       <csymbol cd="ambiguous">superscript</csymbol>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <sum></sum>
        <apply>
         <eq></eq>
         <ci>i</ci>
         <cn type="integer">1</cn>
        </apply>
       </apply>
       <ci>n</ci>
      </apply>
      <apply>
       <ci>normal-â‹…</ci>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>ğ…</ci>
        <ci>i</ci>
       </apply>
       <apply>
        <divide></divide>
        <apply>
         <partialdiff></partialdiff>
         <apply>
          <csymbol cd="ambiguous">subscript</csymbol>
          <ci>ğ«</ci>
          <ci>i</ci>
         </apply>
        </apply>
        <apply>
         <partialdiff></partialdiff>
         <apply>
          <csymbol cd="ambiguous">subscript</csymbol>
          <ci>q</ci>
          <ci>j</ci>
         </apply>
        </apply>
       </apply>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   Q_{j}=\frac{\mathrm{d}}{\mathrm{d}t}\left(\frac{\partial T}{\partial\dot{q}_{j%
}}\right)-\frac{\partial T}{\partial q_{j}}=-\frac{\delta T}{\delta q_{j}}=%
\sum_{i=1}^{n}\mathbf{F}_{i}\cdot\frac{\partial\mathbf{r}_{i}}{\partial q_{j}},
  </annotation>
 </semantics>
</math>

 For conservative systems (see below)</p>

<p>

<math display="block" id="Lagrangian_mechanics:34">
 <semantics>
  <mrow>
   <mrow>
    <msub>
     <mi>ğ…</mi>
     <mi>i</mi>
    </msub>
    <mo>=</mo>
    <mrow>
     <mrow>
      <mo>-</mo>
      <mrow>
       <mo>âˆ‡</mo>
       <msub>
        <mi>V</mi>
        <mi>i</mi>
       </msub>
      </mrow>
     </mrow>
     <mo>+</mo>
     <msub>
      <mi>ğ</mi>
      <mi>i</mi>
     </msub>
    </mrow>
   </mrow>
   <mo>,</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <csymbol cd="ambiguous">subscript</csymbol>
     <ci>ğ…</ci>
     <ci>i</ci>
    </apply>
    <apply>
     <plus></plus>
     <apply>
      <minus></minus>
      <apply>
       <ci>normal-âˆ‡</ci>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>V</ci>
        <ci>i</ci>
       </apply>
      </apply>
     </apply>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <ci>ğ</ci>
      <ci>i</ci>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \mathbf{F}_{i}=-\nabla V_{i}+\mathbf{N}_{i},
  </annotation>
 </semantics>
</math>

 so</p>

<p>

<math display="block" id="Lagrangian_mechanics:35">
 <semantics>
  <mrow>
   <mfrac>
    <mrow>
     <mi>Î´</mi>
     <mi>T</mi>
    </mrow>
    <mrow>
     <mi>Î´</mi>
     <msub>
      <mi>q</mi>
      <mi>j</mi>
     </msub>
    </mrow>
   </mfrac>
   <mo>=</mo>
   <mrow>
    <munderover>
     <mo largeop="true" movablelimits="false" symmetric="true">âˆ‘</mo>
     <mrow>
      <mi>i</mi>
      <mo>=</mo>
      <mn>1</mn>
     </mrow>
     <mi>n</mi>
    </munderover>
    <mrow>
     <msub>
      <mi>ğ…</mi>
      <mi>i</mi>
     </msub>
     <mo>â‹…</mo>
     <mfrac>
      <mrow>
       <mo>âˆ‚</mo>
       <msub>
        <mi>ğ«</mi>
        <mi>i</mi>
       </msub>
      </mrow>
      <mrow>
       <mo>âˆ‚</mo>
       <msub>
        <mi>q</mi>
        <mi>j</mi>
       </msub>
      </mrow>
     </mfrac>
    </mrow>
   </mrow>
   <mo>=</mo>
   <mrow>
    <munderover>
     <mo largeop="true" movablelimits="false" symmetric="true">âˆ‘</mo>
     <mrow>
      <mi>i</mi>
      <mo>=</mo>
      <mn>1</mn>
     </mrow>
     <mi>n</mi>
    </munderover>
    <mrow>
     <mrow>
      <mo stretchy="false">(</mo>
      <mrow>
       <mrow>
        <mo>-</mo>
        <mrow>
         <mo>âˆ‡</mo>
         <msub>
          <mi>V</mi>
          <mi>i</mi>
         </msub>
        </mrow>
       </mrow>
       <mo>+</mo>
       <msub>
        <mi>ğ</mi>
        <mi>i</mi>
       </msub>
      </mrow>
      <mo stretchy="false">)</mo>
     </mrow>
     <mo>â‹…</mo>
     <mfrac>
      <mrow>
       <mo>âˆ‚</mo>
       <msub>
        <mi>ğ«</mi>
        <mi>i</mi>
       </msub>
      </mrow>
      <mrow>
       <mo>âˆ‚</mo>
       <msub>
        <mi>q</mi>
        <mi>j</mi>
       </msub>
      </mrow>
     </mfrac>
    </mrow>
   </mrow>
   <mo>=</mo>
   <mrow>
    <mrow>
     <mo>-</mo>
     <mrow>
      <munderover>
       <mo largeop="true" movablelimits="false" symmetric="true">âˆ‘</mo>
       <mrow>
        <mi>i</mi>
        <mo>=</mo>
        <mn>1</mn>
       </mrow>
       <mi>n</mi>
      </munderover>
      <mrow>
       <mo>âˆ‡</mo>
       <mrow>
        <msub>
         <mi>V</mi>
         <mi>i</mi>
        </msub>
        <mo>â‹…</mo>
        <mfrac>
         <mrow>
          <mo>âˆ‚</mo>
          <msub>
           <mi>ğ«</mi>
           <mi>i</mi>
          </msub>
         </mrow>
         <mrow>
          <mo>âˆ‚</mo>
          <msub>
           <mi>q</mi>
           <mi>j</mi>
          </msub>
         </mrow>
        </mfrac>
       </mrow>
      </mrow>
     </mrow>
    </mrow>
    <mo>+</mo>
    <mrow>
     <munderover>
      <mo largeop="true" movablelimits="false" symmetric="true">âˆ‘</mo>
      <mrow>
       <mi>i</mi>
       <mo>=</mo>
       <mn>1</mn>
      </mrow>
      <mi>n</mi>
     </munderover>
     <mrow>
      <msub>
       <mi>ğ</mi>
       <mi>i</mi>
      </msub>
      <mo>â‹…</mo>
      <mfrac>
       <mrow>
        <mo>âˆ‚</mo>
        <msub>
         <mi>ğ«</mi>
         <mi>i</mi>
        </msub>
       </mrow>
       <mrow>
        <mo>âˆ‚</mo>
        <msub>
         <mi>q</mi>
         <mi>j</mi>
        </msub>
       </mrow>
      </mfrac>
     </mrow>
    </mrow>
   </mrow>
   <mo>=</mo>
   <mrow>
    <mrow>
     <mo>-</mo>
     <mfrac>
      <mrow>
       <mo>âˆ‚</mo>
       <mi>V</mi>
      </mrow>
      <mrow>
       <mo>âˆ‚</mo>
       <msub>
        <mi>q</mi>
        <mi>j</mi>
       </msub>
      </mrow>
     </mfrac>
    </mrow>
    <mo>+</mo>
    <msub>
     <mi>N</mi>
     <mi>j</mi>
    </msub>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <and></and>
    <apply>
     <eq></eq>
     <apply>
      <divide></divide>
      <apply>
       <times></times>
       <ci>Î´</ci>
       <ci>T</ci>
      </apply>
      <apply>
       <times></times>
       <ci>Î´</ci>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>q</ci>
        <ci>j</ci>
       </apply>
      </apply>
     </apply>
     <apply>
      <apply>
       <csymbol cd="ambiguous">superscript</csymbol>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <sum></sum>
        <apply>
         <eq></eq>
         <ci>i</ci>
         <cn type="integer">1</cn>
        </apply>
       </apply>
       <ci>n</ci>
      </apply>
      <apply>
       <ci>normal-â‹…</ci>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>ğ…</ci>
        <ci>i</ci>
       </apply>
       <apply>
        <divide></divide>
        <apply>
         <partialdiff></partialdiff>
         <apply>
          <csymbol cd="ambiguous">subscript</csymbol>
          <ci>ğ«</ci>
          <ci>i</ci>
         </apply>
        </apply>
        <apply>
         <partialdiff></partialdiff>
         <apply>
          <csymbol cd="ambiguous">subscript</csymbol>
          <ci>q</ci>
          <ci>j</ci>
         </apply>
        </apply>
       </apply>
      </apply>
     </apply>
    </apply>
    <apply>
     <eq></eq>
     <share href="#.cmml">
     </share>
     <apply>
      <apply>
       <csymbol cd="ambiguous">superscript</csymbol>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <sum></sum>
        <apply>
         <eq></eq>
         <ci>i</ci>
         <cn type="integer">1</cn>
        </apply>
       </apply>
       <ci>n</ci>
      </apply>
      <apply>
       <ci>normal-â‹…</ci>
       <apply>
        <plus></plus>
        <apply>
         <minus></minus>
         <apply>
          <ci>normal-âˆ‡</ci>
          <apply>
           <csymbol cd="ambiguous">subscript</csymbol>
           <ci>V</ci>
           <ci>i</ci>
          </apply>
         </apply>
        </apply>
        <apply>
         <csymbol cd="ambiguous">subscript</csymbol>
         <ci>ğ</ci>
         <ci>i</ci>
        </apply>
       </apply>
       <apply>
        <divide></divide>
        <apply>
         <partialdiff></partialdiff>
         <apply>
          <csymbol cd="ambiguous">subscript</csymbol>
          <ci>ğ«</ci>
          <ci>i</ci>
         </apply>
        </apply>
        <apply>
         <partialdiff></partialdiff>
         <apply>
          <csymbol cd="ambiguous">subscript</csymbol>
          <ci>q</ci>
          <ci>j</ci>
         </apply>
        </apply>
       </apply>
      </apply>
     </apply>
    </apply>
    <apply>
     <eq></eq>
     <share href="#.cmml">
     </share>
     <apply>
      <plus></plus>
      <apply>
       <minus></minus>
       <apply>
        <apply>
         <csymbol cd="ambiguous">superscript</csymbol>
         <apply>
          <csymbol cd="ambiguous">subscript</csymbol>
          <sum></sum>
          <apply>
           <eq></eq>
           <ci>i</ci>
           <cn type="integer">1</cn>
          </apply>
         </apply>
         <ci>n</ci>
        </apply>
        <apply>
         <ci>normal-âˆ‡</ci>
         <apply>
          <ci>normal-â‹…</ci>
          <apply>
           <csymbol cd="ambiguous">subscript</csymbol>
           <ci>V</ci>
           <ci>i</ci>
          </apply>
          <apply>
           <divide></divide>
           <apply>
            <partialdiff></partialdiff>
            <apply>
             <csymbol cd="ambiguous">subscript</csymbol>
             <ci>ğ«</ci>
             <ci>i</ci>
            </apply>
           </apply>
           <apply>
            <partialdiff></partialdiff>
            <apply>
             <csymbol cd="ambiguous">subscript</csymbol>
             <ci>q</ci>
             <ci>j</ci>
            </apply>
           </apply>
          </apply>
         </apply>
        </apply>
       </apply>
      </apply>
      <apply>
       <apply>
        <csymbol cd="ambiguous">superscript</csymbol>
        <apply>
         <csymbol cd="ambiguous">subscript</csymbol>
         <sum></sum>
         <apply>
          <eq></eq>
          <ci>i</ci>
          <cn type="integer">1</cn>
         </apply>
        </apply>
        <ci>n</ci>
       </apply>
       <apply>
        <ci>normal-â‹…</ci>
        <apply>
         <csymbol cd="ambiguous">subscript</csymbol>
         <ci>ğ</ci>
         <ci>i</ci>
        </apply>
        <apply>
         <divide></divide>
         <apply>
          <partialdiff></partialdiff>
          <apply>
           <csymbol cd="ambiguous">subscript</csymbol>
           <ci>ğ«</ci>
           <ci>i</ci>
          </apply>
         </apply>
         <apply>
          <partialdiff></partialdiff>
          <apply>
           <csymbol cd="ambiguous">subscript</csymbol>
           <ci>q</ci>
           <ci>j</ci>
          </apply>
         </apply>
        </apply>
       </apply>
      </apply>
     </apply>
    </apply>
    <apply>
     <eq></eq>
     <share href="#.cmml">
     </share>
     <apply>
      <plus></plus>
      <apply>
       <minus></minus>
       <apply>
        <divide></divide>
        <apply>
         <partialdiff></partialdiff>
         <ci>V</ci>
        </apply>
        <apply>
         <partialdiff></partialdiff>
         <apply>
          <csymbol cd="ambiguous">subscript</csymbol>
          <ci>q</ci>
          <ci>j</ci>
         </apply>
        </apply>
       </apply>
      </apply>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>N</ci>
       <ci>j</ci>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \frac{\delta T}{\delta q_{j}}=\sum_{i=1}^{n}\mathbf{F}_{i}\cdot\frac{\partial%
\mathbf{r}_{i}}{\partial q_{j}}=\sum_{i=1}^{n}(-\nabla V_{i}+\mathbf{N}_{i})%
\cdot\frac{\partial\mathbf{r}_{i}}{\partial q_{j}}=-\sum_{i=1}^{n}\nabla V_{i}%
\cdot\frac{\partial\mathbf{r}_{i}}{\partial q_{j}}+\sum_{i=1}^{n}\mathbf{N}_{i%
}\cdot\frac{\partial\mathbf{r}_{i}}{\partial q_{j}}=-\frac{\partial V}{%
\partial q_{j}}+N_{j}
  </annotation>
 </semantics>
</math>

 and</p>

<p>

<math display="block" id="Lagrangian_mechanics:36">
 <semantics>
  <mrow>
   <mfrac>
    <mrow>
     <mi>Î´</mi>
     <mi>T</mi>
    </mrow>
    <mrow>
     <mi>Î´</mi>
     <msub>
      <mi>q</mi>
      <mi>j</mi>
     </msub>
    </mrow>
   </mfrac>
   <mo>=</mo>
   <mrow>
    <mrow>
     <mfrac>
      <mi mathvariant="normal">d</mi>
      <mrow>
       <mi mathvariant="normal">d</mi>
       <mi>t</mi>
      </mrow>
     </mfrac>
     <mrow>
      <mo>(</mo>
      <mfrac>
       <mrow>
        <mo>âˆ‚</mo>
        <mrow>
         <mo stretchy="false">(</mo>
         <mrow>
          <mi>L</mi>
          <mo>+</mo>
          <mi>V</mi>
         </mrow>
         <mo stretchy="false">)</mo>
        </mrow>
       </mrow>
       <mrow>
        <mo>âˆ‚</mo>
        <msub>
         <mover accent="true">
          <mi>q</mi>
          <mo>Ë™</mo>
         </mover>
         <mi>j</mi>
        </msub>
       </mrow>
      </mfrac>
      <mo>)</mo>
     </mrow>
    </mrow>
    <mo>-</mo>
    <mfrac>
     <mrow>
      <mo>âˆ‚</mo>
      <mrow>
       <mo stretchy="false">(</mo>
       <mrow>
        <mi>L</mi>
        <mo>+</mo>
        <mi>V</mi>
       </mrow>
       <mo stretchy="false">)</mo>
      </mrow>
     </mrow>
     <mrow>
      <mo>âˆ‚</mo>
      <msub>
       <mi>q</mi>
       <mi>j</mi>
      </msub>
     </mrow>
    </mfrac>
   </mrow>
   <mo>=</mo>
   <mrow>
    <mrow>
     <mo>-</mo>
     <mfrac>
      <mrow>
       <mi>Î´</mi>
       <mi>L</mi>
      </mrow>
      <mrow>
       <mi>Î´</mi>
       <msub>
        <mover accent="true">
         <mi>q</mi>
         <mo>Ë™</mo>
        </mover>
        <mi>j</mi>
       </msub>
      </mrow>
     </mfrac>
    </mrow>
    <mo>-</mo>
    <mfrac>
     <mrow>
      <mo>âˆ‚</mo>
      <mi>V</mi>
     </mrow>
     <mrow>
      <mo>âˆ‚</mo>
      <msub>
       <mi>q</mi>
       <mi>j</mi>
      </msub>
     </mrow>
    </mfrac>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <and></and>
    <apply>
     <eq></eq>
     <apply>
      <divide></divide>
      <apply>
       <times></times>
       <ci>Î´</ci>
       <ci>T</ci>
      </apply>
      <apply>
       <times></times>
       <ci>Î´</ci>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>q</ci>
        <ci>j</ci>
       </apply>
      </apply>
     </apply>
     <apply>
      <minus></minus>
      <apply>
       <times></times>
       <apply>
        <divide></divide>
        <ci>normal-d</ci>
        <apply>
         <times></times>
         <ci>normal-d</ci>
         <ci>t</ci>
        </apply>
       </apply>
       <apply>
        <divide></divide>
        <apply>
         <partialdiff></partialdiff>
         <apply>
          <plus></plus>
          <ci>L</ci>
          <ci>V</ci>
         </apply>
        </apply>
        <apply>
         <partialdiff></partialdiff>
         <apply>
          <csymbol cd="ambiguous">subscript</csymbol>
          <apply>
           <ci>normal-Ë™</ci>
           <ci>q</ci>
          </apply>
          <ci>j</ci>
         </apply>
        </apply>
       </apply>
      </apply>
      <apply>
       <divide></divide>
       <apply>
        <partialdiff></partialdiff>
        <apply>
         <plus></plus>
         <ci>L</ci>
         <ci>V</ci>
        </apply>
       </apply>
       <apply>
        <partialdiff></partialdiff>
        <apply>
         <csymbol cd="ambiguous">subscript</csymbol>
         <ci>q</ci>
         <ci>j</ci>
        </apply>
       </apply>
      </apply>
     </apply>
    </apply>
    <apply>
     <eq></eq>
     <share href="#.cmml">
     </share>
     <apply>
      <minus></minus>
      <apply>
       <minus></minus>
       <apply>
        <divide></divide>
        <apply>
         <times></times>
         <ci>Î´</ci>
         <ci>L</ci>
        </apply>
        <apply>
         <times></times>
         <ci>Î´</ci>
         <apply>
          <csymbol cd="ambiguous">subscript</csymbol>
          <apply>
           <ci>normal-Ë™</ci>
           <ci>q</ci>
          </apply>
          <ci>j</ci>
         </apply>
        </apply>
       </apply>
      </apply>
      <apply>
       <divide></divide>
       <apply>
        <partialdiff></partialdiff>
        <ci>V</ci>
       </apply>
       <apply>
        <partialdiff></partialdiff>
        <apply>
         <csymbol cd="ambiguous">subscript</csymbol>
         <ci>q</ci>
         <ci>j</ci>
        </apply>
       </apply>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \frac{\delta T}{\delta q_{j}}=\frac{\mathrm{d}}{\mathrm{d}t}\left(\frac{%
\partial(L+V)}{\partial\dot{q}_{j}}\right)-\frac{\partial(L+V)}{\partial q_{j}%
}=-\frac{\delta L}{\delta\dot{q}_{j}}-\frac{\partial V}{\partial q_{j}}
  </annotation>
 </semantics>
</math>

 equating leads to</p>

<p>

<math display="block" id="Lagrangian_mechanics:37">
 <semantics>
  <mrow>
   <msub>
    <mi>N</mi>
    <mi>j</mi>
   </msub>
   <mo>=</mo>
   <mrow>
    <mo>-</mo>
    <mfrac>
     <mrow>
      <mi>Î´</mi>
      <mi>L</mi>
     </mrow>
     <mrow>
      <mi>Î´</mi>
      <msub>
       <mover accent="true">
        <mi>q</mi>
        <mo>Ë™</mo>
       </mover>
       <mi>j</mi>
      </msub>
     </mrow>
    </mfrac>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <csymbol cd="ambiguous">subscript</csymbol>
     <ci>N</ci>
     <ci>j</ci>
    </apply>
    <apply>
     <minus></minus>
     <apply>
      <divide></divide>
      <apply>
       <times></times>
       <ci>Î´</ci>
       <ci>L</ci>
      </apply>
      <apply>
       <times></times>
       <ci>Î´</ci>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <apply>
         <ci>normal-Ë™</ci>
         <ci>q</ci>
        </apply>
        <ci>j</ci>
       </apply>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   N_{j}=-\frac{\delta L}{\delta\dot{q}_{j}}
  </annotation>
 </semantics>
</math>

 and finally equating to Lagrange's equations of the first kind implies:</p>

<p>

<math display="block" id="Lagrangian_mechanics:38">
 <semantics>
  <mrow>
   <msub>
    <mi>N</mi>
    <mi>j</mi>
   </msub>
   <mo>=</mo>
   <mrow>
    <munderover>
     <mo largeop="true" movablelimits="false" symmetric="true">âˆ‘</mo>
     <mrow>
      <mi>i</mi>
      <mo>=</mo>
      <mn>1</mn>
     </mrow>
     <mi>e</mi>
    </munderover>
    <mrow>
     <msub>
      <mi>Î»</mi>
      <mi>i</mi>
     </msub>
     <mfrac>
      <mrow>
       <mo>âˆ‚</mo>
       <msub>
        <mi>F</mi>
        <mi>i</mi>
       </msub>
      </mrow>
      <mrow>
       <mo>âˆ‚</mo>
       <msub>
        <mi>r</mi>
        <mi>j</mi>
       </msub>
      </mrow>
     </mfrac>
    </mrow>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <csymbol cd="ambiguous">subscript</csymbol>
     <ci>N</ci>
     <ci>j</ci>
    </apply>
    <apply>
     <apply>
      <csymbol cd="ambiguous">superscript</csymbol>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <sum></sum>
       <apply>
        <eq></eq>
        <ci>i</ci>
        <cn type="integer">1</cn>
       </apply>
      </apply>
      <ci>e</ci>
     </apply>
     <apply>
      <times></times>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>Î»</ci>
       <ci>i</ci>
      </apply>
      <apply>
       <divide></divide>
       <apply>
        <partialdiff></partialdiff>
        <apply>
         <csymbol cd="ambiguous">subscript</csymbol>
         <ci>F</ci>
         <ci>i</ci>
        </apply>
       </apply>
       <apply>
        <partialdiff></partialdiff>
        <apply>
         <csymbol cd="ambiguous">subscript</csymbol>
         <ci>r</ci>
         <ci>j</ci>
        </apply>
       </apply>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   N_{j}=\sum_{i=1}^{e}\lambda_{i}\frac{\partial F_{i}}{\partial r_{j}}
  </annotation>
 </semantics>
</math>

 So each constraint equation corresponds to a constraint force (in a conservative system).</p></td>
</tr>
</tbody>
</table>
</dd>
</dl>
<h2 id="lagrange-equations-of-the-second-kind">Lagrange equations of the second kind</h2>

<p>If the Lagrangian of a system is known, then the <a href="equation_of_motion" title="wikilink">equations of motion</a> of the system may be obtained by a direct substitution of the expression for the Lagrangian into the <a href="Eulerâ€“Lagrange_equation" title="wikilink">Eulerâ€“Lagrange equation</a>. The Lagrangian of a given system is not unique, and two Lagrangians describing the same system can differ by the <a href="total_derivative" title="wikilink">total derivative</a> (not <a href="partial_derivative" title="wikilink">partial</a>) with respect to time of some function <em>f</em>(<em>q</em>, <em>t</em>)</p>

<p>, that is</p>

<p>

<math display="block" id="Lagrangian_mechanics:39">
 <semantics>
  <mrow>
   <msup>
    <mi>L</mi>
    <mo>â€²</mo>
   </msup>
   <mo>=</mo>
   <mrow>
    <mi>L</mi>
    <mo>+</mo>
    <mfrac>
     <mrow>
      <mi mathvariant="normal">d</mi>
      <mi>f</mi>
      <mrow>
       <mo stretchy="false">(</mo>
       <mi>q</mi>
       <mo>,</mo>
       <mi>t</mi>
       <mo stretchy="false">)</mo>
      </mrow>
     </mrow>
     <mrow>
      <mi mathvariant="normal">d</mi>
      <mi>t</mi>
     </mrow>
    </mfrac>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <csymbol cd="ambiguous">superscript</csymbol>
     <ci>L</ci>
     <ci>normal-â€²</ci>
    </apply>
    <apply>
     <plus></plus>
     <ci>L</ci>
     <apply>
      <divide></divide>
      <apply>
       <times></times>
       <ci>normal-d</ci>
       <ci>f</ci>
       <interval closure="open">
        <ci>q</ci>
        <ci>t</ci>
       </interval>
      </apply>
      <apply>
       <times></times>
       <ci>normal-d</ci>
       <ci>t</ci>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   L^{\prime}=L+\frac{\mathrm{d}f(q,t)}{\mathrm{d}t}
  </annotation>
 </semantics>
</math>

</p>

<p>However, solving any equivalent Lagrangians will give the same equations of motion.<a class="footnoteRef" href="#fn19" id="fnref19"><sup>19</sup></a><a class="footnoteRef" href="#fn20" id="fnref20"><sup>20</sup></a></p>

<p>The Lagrangian in many classical systems is a function of generalized coordinates <em>q</em><sub><em>i</em></sub> and their velocities d<em>q</em><sub><em>i</em></sub>/d<em>t</em>. These coordinates and velocities are, in their turn, <a href="parametric_function" title="wikilink">parametric functions</a> of time <em>t</em>:</p>

<p>

<math display="block" id="Lagrangian_mechanics:40">
 <semantics>
  <mrow>
   <mi>L</mi>
   <mrow>
    <mo stretchy="false">(</mo>
    <mrow>
     <msub>
      <mi>q</mi>
      <mn>1</mn>
     </msub>
     <mrow>
      <mo stretchy="false">(</mo>
      <mi>t</mi>
      <mo stretchy="false">)</mo>
     </mrow>
    </mrow>
    <mo>,</mo>
    <mrow>
     <msub>
      <mi>q</mi>
      <mn>2</mn>
     </msub>
     <mrow>
      <mo stretchy="false">(</mo>
      <mi>t</mi>
      <mo stretchy="false">)</mo>
     </mrow>
    </mrow>
    <mo>,</mo>
    <mi mathvariant="normal">â€¦</mi>
    <mo>,</mo>
    <mrow>
     <mi mathvariant="normal">â€¦</mi>
     <msub>
      <mi>q</mi>
      <mn>1</mn>
     </msub>
     <mrow>
      <mo stretchy="false">(</mo>
      <mi>t</mi>
      <mo stretchy="false">)</mo>
     </mrow>
    </mrow>
    <mo>,</mo>
    <mrow>
     <mi mathvariant="normal">â€¦</mi>
     <msub>
      <mi>q</mi>
      <mn>2</mn>
     </msub>
     <mrow>
      <mo stretchy="false">(</mo>
      <mi>t</mi>
      <mo stretchy="false">)</mo>
     </mrow>
    </mrow>
    <mo>,</mo>
    <mi mathvariant="normal">â€¦</mi>
    <mo>,</mo>
    <mi>t</mi>
    <mo stretchy="false">)</mo>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <times></times>
    <ci>L</ci>
    <vector>
     <apply>
      <times></times>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>q</ci>
       <cn type="integer">1</cn>
      </apply>
      <ci>t</ci>
     </apply>
     <apply>
      <times></times>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>q</ci>
       <cn type="integer">2</cn>
      </apply>
      <ci>t</ci>
     </apply>
     <ci>normal-â€¦</ci>
     <apply>
      <times></times>
      <ci>normal-â€¦</ci>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>q</ci>
       <cn type="integer">1</cn>
      </apply>
      <ci>t</ci>
     </apply>
     <apply>
      <times></times>
      <ci>normal-â€¦</ci>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>q</ci>
       <cn type="integer">2</cn>
      </apply>
      <ci>t</ci>
     </apply>
     <ci>normal-â€¦</ci>
     <ci>t</ci>
    </vector>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   L(q_{1}(t),q_{2}(t),\ldots,\dots{q}_{1}(t),\dots{q}_{2}(t),\ldots,t)
  </annotation>
 </semantics>
</math>

</p>

<p>In the classical view, time is an independent variable and <em>q</em><sub><em>i</em></sub> (and d<em>q</em><sub><em>i</em></sub>/d<em>t</em>) are dependent variables as is often seen in <a href="phase_space" title="wikilink">phase space</a> explanations of systems.</p>
<h3 id="eulerlagrange-equations">Eulerâ€“Lagrange equations</h3>

<p>For any system with <em>m</em> degrees of freedom, the Lagrange equations include <em>m</em> generalized coordinates and <em>m</em> generalized velocities. Below, we sketch out the derivation of the Lagrange equations of the second kind. In this context, <em>V</em> is used rather than <em>U</em> for <a href="potential_energy" title="wikilink">potential energy</a> and <em>T</em> replaces <em>K</em> for <a href="kinetic_energy" title="wikilink">kinetic energy</a>. See the references for more detailed and more general derivations.</p>

<p>The equations of motion in Lagrangian mechanics are the <strong>Lagrange equations of the second kind</strong>, also known as the <strong><a href="Eulerâ€“Lagrange_equation" title="wikilink">Eulerâ€“Lagrange equations</a></strong>:<a class="footnoteRef" href="#fn21" id="fnref21"><sup>21</sup></a><a class="footnoteRef" href="#fn22" id="fnref22"><sup>22</sup></a></p>

<p>{\mathrm{d}t} \left ( \frac {\partial L}{\partial \dot{q}_j} \right ) = \frac {\partial L}{\partial q_j}  |cellpadding |border |border colour = #50C878 |background colour = #ECFCF4}}</p>

<p>where <em>j</em> = 1, 2,...<em>m</em> represents the <em>j</em>th degree of freedom, <em>q<sub>j</sub></em> are the <a href="generalized_coordinates" title="wikilink">generalized coordinates</a>, and 

<math display="inline" id="Lagrangian_mechanics:41">
 <semantics>
  <msub>
   <mover accent="true">
    <mi>q</mi>
    <mo>Ë™</mo>
   </mover>
   <mi>j</mi>
  </msub>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <csymbol cd="ambiguous">subscript</csymbol>
    <apply>
     <ci>normal-Ë™</ci>
     <ci>q</ci>
    </apply>
    <ci>j</ci>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \dot{q}_{j}
  </annotation>
 </semantics>
</math>

 are the <a href="generalized_velocities" title="wikilink">generalized velocities</a>.</p>

<p>Although the mathematics required for Lagrange's equations appears significantly more complicated than Newton's laws, this does point to deeper insights into classical mechanics than Newton's laws alone: in particular, symmetry and conservation. In practice it's often easier to solve a problem using the Lagrange equations than Newton's laws, because the minimum generalized coordinates <em>q</em><sub><em>i</em></sub> can be chosen by convenience to exploit symmetries in the system, and constraint forces are incorporated into the geometry of the problem. There is one Lagrange equation for each generalized coordinate <em>q<sub>i</sub></em>.</p>

<p>For a system of many particles, each particle can have different numbers of degrees of freedom from the others. In each of the Lagrange equations, <em>T</em> is the <em>total</em> kinetic energy of the system, and <em>V</em> the <em>total</em> potential energy.</p>
<h3 id="dissipation-function">Dissipation function</h3>

<p>In a more general formulation, the forces could be both conservative and <a href="viscosity" title="wikilink">viscous</a>. If an appropriate transformation can be found from the <strong>F</strong><sub>i</sub>, <a href="John_Strutt,_3rd_Baron_Rayleigh" title="wikilink">Rayleigh</a> suggests using a dissipation function, <em>D</em>, of the following form:<a class="footnoteRef" href="#fn23" id="fnref23"><sup>23</sup></a></p>

<p>

<math display="block" id="Lagrangian_mechanics:42">
 <semantics>
  <mrow>
   <mrow>
    <mi>D</mi>
    <mo>=</mo>
    <mrow>
     <mfrac>
      <mn>1</mn>
      <mn>2</mn>
     </mfrac>
     <mrow>
      <munderover>
       <mo largeop="true" movablelimits="false" symmetric="true">âˆ‘</mo>
       <mrow>
        <mi>j</mi>
        <mo>=</mo>
        <mn>1</mn>
       </mrow>
       <mi>m</mi>
      </munderover>
      <mrow>
       <munderover>
        <mo largeop="true" movablelimits="false" symmetric="true">âˆ‘</mo>
        <mrow>
         <mi>k</mi>
         <mo>=</mo>
         <mn>1</mn>
        </mrow>
        <mi>m</mi>
       </munderover>
       <mrow>
        <msub>
         <mi>C</mi>
         <mrow>
          <mi>j</mi>
          <mi>k</mi>
         </mrow>
        </msub>
        <msub>
         <mover accent="true">
          <mi>q</mi>
          <mo>Ë™</mo>
         </mover>
         <mi>j</mi>
        </msub>
        <msub>
         <mover accent="true">
          <mi>q</mi>
          <mo>Ë™</mo>
         </mover>
         <mi>k</mi>
        </msub>
       </mrow>
      </mrow>
     </mrow>
    </mrow>
   </mrow>
   <mo>.</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <ci>D</ci>
    <apply>
     <times></times>
     <apply>
      <divide></divide>
      <cn type="integer">1</cn>
      <cn type="integer">2</cn>
     </apply>
     <apply>
      <apply>
       <csymbol cd="ambiguous">superscript</csymbol>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <sum></sum>
        <apply>
         <eq></eq>
         <ci>j</ci>
         <cn type="integer">1</cn>
        </apply>
       </apply>
       <ci>m</ci>
      </apply>
      <apply>
       <apply>
        <csymbol cd="ambiguous">superscript</csymbol>
        <apply>
         <csymbol cd="ambiguous">subscript</csymbol>
         <sum></sum>
         <apply>
          <eq></eq>
          <ci>k</ci>
          <cn type="integer">1</cn>
         </apply>
        </apply>
        <ci>m</ci>
       </apply>
       <apply>
        <times></times>
        <apply>
         <csymbol cd="ambiguous">subscript</csymbol>
         <ci>C</ci>
         <apply>
          <times></times>
          <ci>j</ci>
          <ci>k</ci>
         </apply>
        </apply>
        <apply>
         <csymbol cd="ambiguous">subscript</csymbol>
         <apply>
          <ci>normal-Ë™</ci>
          <ci>q</ci>
         </apply>
         <ci>j</ci>
        </apply>
        <apply>
         <csymbol cd="ambiguous">subscript</csymbol>
         <apply>
          <ci>normal-Ë™</ci>
          <ci>q</ci>
         </apply>
         <ci>k</ci>
        </apply>
       </apply>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   D=\frac{1}{2}\sum_{j=1}^{m}\sum_{k=1}^{m}C_{jk}\dot{q}_{j}\dot{q}_{k}.
  </annotation>
 </semantics>
</math>

 where <em>C<sub>jk</sub></em> are constants that are related to the damping coefficients in the physical system, though not necessarily equal to them</p>

<p>If <em>D</em> is defined this way, then<a class="footnoteRef" href="#fn24" id="fnref24"><sup>24</sup></a></p>

<p>

<math display="block" id="Lagrangian_mechanics:43">
 <semantics>
  <mrow>
   <msub>
    <mi>Q</mi>
    <mi>j</mi>
   </msub>
   <mo>=</mo>
   <mrow>
    <mrow>
     <mo>-</mo>
     <mfrac>
      <mrow>
       <mo>âˆ‚</mo>
       <mi>V</mi>
      </mrow>
      <mrow>
       <mo>âˆ‚</mo>
       <msub>
        <mi>q</mi>
        <mi>j</mi>
       </msub>
      </mrow>
     </mfrac>
    </mrow>
    <mo>-</mo>
    <mfrac>
     <mrow>
      <mo>âˆ‚</mo>
      <mi>D</mi>
     </mrow>
     <mrow>
      <mo>âˆ‚</mo>
      <msub>
       <mover accent="true">
        <mi>q</mi>
        <mo>Ë™</mo>
       </mover>
       <mi>j</mi>
      </msub>
     </mrow>
    </mfrac>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <csymbol cd="ambiguous">subscript</csymbol>
     <ci>Q</ci>
     <ci>j</ci>
    </apply>
    <apply>
     <minus></minus>
     <apply>
      <minus></minus>
      <apply>
       <divide></divide>
       <apply>
        <partialdiff></partialdiff>
        <ci>V</ci>
       </apply>
       <apply>
        <partialdiff></partialdiff>
        <apply>
         <csymbol cd="ambiguous">subscript</csymbol>
         <ci>q</ci>
         <ci>j</ci>
        </apply>
       </apply>
      </apply>
     </apply>
     <apply>
      <divide></divide>
      <apply>
       <partialdiff></partialdiff>
       <ci>D</ci>
      </apply>
      <apply>
       <partialdiff></partialdiff>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <apply>
         <ci>normal-Ë™</ci>
         <ci>q</ci>
        </apply>
        <ci>j</ci>
       </apply>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   Q_{j}=-\frac{\partial V}{\partial q_{j}}-\frac{\partial D}{\partial\dot{q}_{j}}
  </annotation>
 </semantics>
</math>

 and</p>

<p>

<math display="block" id="Lagrangian_mechanics:44">
 <semantics>
  <mrow>
   <mrow>
    <mn>0</mn>
    <mo>=</mo>
    <mrow>
     <mrow>
      <mrow>
       <mfrac>
        <mi mathvariant="normal">d</mi>
        <mrow>
         <mi mathvariant="normal">d</mi>
         <mi>t</mi>
        </mrow>
       </mfrac>
       <mrow>
        <mo>(</mo>
        <mfrac>
         <mrow>
          <mo>âˆ‚</mo>
          <mi>L</mi>
         </mrow>
         <mrow>
          <mo>âˆ‚</mo>
          <msub>
           <mover accent="true">
            <mi>q</mi>
            <mo>Ë™</mo>
           </mover>
           <mi>j</mi>
          </msub>
         </mrow>
        </mfrac>
        <mo>)</mo>
       </mrow>
      </mrow>
      <mo>-</mo>
      <mfrac>
       <mrow>
        <mo>âˆ‚</mo>
        <mi>L</mi>
       </mrow>
       <mrow>
        <mo>âˆ‚</mo>
        <msub>
         <mi>q</mi>
         <mi>j</mi>
        </msub>
       </mrow>
      </mfrac>
     </mrow>
     <mo>+</mo>
     <mfrac>
      <mrow>
       <mo>âˆ‚</mo>
       <mi>D</mi>
      </mrow>
      <mrow>
       <mo>âˆ‚</mo>
       <msub>
        <mover accent="true">
         <mi>q</mi>
         <mo>Ë™</mo>
        </mover>
        <mi>j</mi>
       </msub>
      </mrow>
     </mfrac>
    </mrow>
   </mrow>
   <mo>.</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <cn type="integer">0</cn>
    <apply>
     <plus></plus>
     <apply>
      <minus></minus>
      <apply>
       <times></times>
       <apply>
        <divide></divide>
        <ci>normal-d</ci>
        <apply>
         <times></times>
         <ci>normal-d</ci>
         <ci>t</ci>
        </apply>
       </apply>
       <apply>
        <divide></divide>
        <apply>
         <partialdiff></partialdiff>
         <ci>L</ci>
        </apply>
        <apply>
         <partialdiff></partialdiff>
         <apply>
          <csymbol cd="ambiguous">subscript</csymbol>
          <apply>
           <ci>normal-Ë™</ci>
           <ci>q</ci>
          </apply>
          <ci>j</ci>
         </apply>
        </apply>
       </apply>
      </apply>
      <apply>
       <divide></divide>
       <apply>
        <partialdiff></partialdiff>
        <ci>L</ci>
       </apply>
       <apply>
        <partialdiff></partialdiff>
        <apply>
         <csymbol cd="ambiguous">subscript</csymbol>
         <ci>q</ci>
         <ci>j</ci>
        </apply>
       </apply>
      </apply>
     </apply>
     <apply>
      <divide></divide>
      <apply>
       <partialdiff></partialdiff>
       <ci>D</ci>
      </apply>
      <apply>
       <partialdiff></partialdiff>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <apply>
         <ci>normal-Ë™</ci>
         <ci>q</ci>
        </apply>
        <ci>j</ci>
       </apply>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   0=\frac{\mathrm{d}}{\mathrm{d}t}\left(\frac{\partial L}{\partial\dot{q}_{j}}%
\right)-\frac{\partial L}{\partial q_{j}}+\frac{\partial D}{\partial\dot{q}_{j%
}}.
  </annotation>
 </semantics>
</math>

</p>
<h2 id="derivations-of-lagranges-equations-of-the-second-kind">Derivations of Lagrange's equations of the second kind</h2>
<h3 id="d-alemberts-principle-and-action-in-the-lagrangian-formulation">D-Alembert's principle and action in the Lagrangian formulation</h3>

<p>The importance of the Lagrangian is derived from <a href="D'Alembert's_principle" title="wikilink">D'Alembert's principle</a>, which asserts that the <a href="virtual_work" title="wikilink">virtual work</a> of any reversible variations subject to the constraints of the system is zero:</p>

<p>

<math display="block" id="Lagrangian_mechanics:45">
 <semantics>
  <mrow>
   <mrow>
    <munder>
     <mo largeop="true" movablelimits="false" symmetric="true">âˆ‘</mo>
     <mi>i</mi>
    </munder>
    <mrow>
     <mrow>
      <mrow>
       <mo stretchy="false">(</mo>
       <mrow>
        <msub>
         <mi>ğ…</mi>
         <mi>i</mi>
        </msub>
        <mo>-</mo>
        <mrow>
         <msub>
          <mi>m</mi>
          <mi>i</mi>
         </msub>
         <msub>
          <mi>ğš</mi>
          <mi>i</mi>
         </msub>
        </mrow>
       </mrow>
       <mo stretchy="false">)</mo>
      </mrow>
      <mo>â‹…</mo>
      <mi>Î´</mi>
     </mrow>
     <msub>
      <mi>ğ«</mi>
      <mi>i</mi>
     </msub>
    </mrow>
   </mrow>
   <mo>=</mo>
   <mn>0</mn>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <sum></sum>
      <ci>i</ci>
     </apply>
     <apply>
      <times></times>
      <apply>
       <ci>normal-â‹…</ci>
       <apply>
        <minus></minus>
        <apply>
         <csymbol cd="ambiguous">subscript</csymbol>
         <ci>ğ…</ci>
         <ci>i</ci>
        </apply>
        <apply>
         <times></times>
         <apply>
          <csymbol cd="ambiguous">subscript</csymbol>
          <ci>m</ci>
          <ci>i</ci>
         </apply>
         <apply>
          <csymbol cd="ambiguous">subscript</csymbol>
          <ci>ğš</ci>
          <ci>i</ci>
         </apply>
        </apply>
       </apply>
       <ci>Î´</ci>
      </apply>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>ğ«</ci>
       <ci>i</ci>
      </apply>
     </apply>
    </apply>
    <cn type="integer">0</cn>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \sum_{i}(\mathbf{F}_{i}-m_{i}\mathbf{a}_{i})\cdot\delta\mathbf{r}_{i}=0
  </annotation>
 </semantics>
</math>

</p>

<p>The integration of this principle over time for a <a href="conservative_force" title="wikilink">conservative force</a> is</p>

<p>

<math display="inline" id="Lagrangian_mechanics:46">
 <semantics>
  <mtable>
   <mtr>
    <mtd columnalign="right">
     <mrow>
      <mstyle displaystyle="true">
       <msubsup>
        <mo largeop="true" symmetric="true">âˆ«</mo>
        <msub>
         <mi>t</mi>
         <mn>1</mn>
        </msub>
        <msub>
         <mi>t</mi>
         <mn>2</mn>
        </msub>
       </msubsup>
      </mstyle>
      <mrow>
       <mstyle displaystyle="true">
        <munder>
         <mo largeop="true" movablelimits="false" symmetric="true">âˆ‘</mo>
         <mi>i</mi>
        </munder>
       </mstyle>
       <mrow>
        <mrow>
         <mrow>
          <mo stretchy="false">(</mo>
          <mrow>
           <msub>
            <mi>ğ…</mi>
            <mi>i</mi>
           </msub>
           <mo>-</mo>
           <mrow>
            <msub>
             <mi>m</mi>
             <mi>i</mi>
            </msub>
            <msub>
             <mi>ğš</mi>
             <mi>i</mi>
            </msub>
           </mrow>
          </mrow>
          <mo stretchy="false">)</mo>
         </mrow>
         <mo>â‹…</mo>
         <mi>Î´</mi>
        </mrow>
        <mpadded width="+1.7pt">
         <msub>
          <mi>ğ«</mi>
          <mi>i</mi>
         </msub>
        </mpadded>
        <mi>d</mi>
        <mi>t</mi>
       </mrow>
      </mrow>
     </mrow>
    </mtd>
    <mtd columnalign="left">
     <mrow>
      <mi></mi>
      <mo>=</mo>
      <mrow>
       <mrow>
        <mstyle displaystyle="true">
         <msubsup>
          <mo largeop="true" symmetric="true">âˆ«</mo>
          <msub>
           <mi>t</mi>
           <mn>1</mn>
          </msub>
          <msub>
           <mi>t</mi>
           <mn>2</mn>
          </msub>
         </msubsup>
        </mstyle>
        <mrow>
         <mi>Î´</mi>
         <mrow>
          <mo>(</mo>
          <mrow>
           <mrow>
            <mo>-</mo>
            <mi>V</mi>
           </mrow>
           <mo>+</mo>
           <mrow>
            <mstyle displaystyle="true">
             <mfrac>
              <mn>1</mn>
              <mn>2</mn>
             </mfrac>
            </mstyle>
            <mrow>
             <mstyle displaystyle="true">
              <munder>
               <mo largeop="true" movablelimits="false" symmetric="true">âˆ‘</mo>
               <mi>i</mi>
              </munder>
             </mstyle>
             <mrow>
              <msub>
               <mi>m</mi>
               <mi>i</mi>
              </msub>
              <msubsup>
               <mi>v</mi>
               <mi>i</mi>
               <mn>2</mn>
              </msubsup>
             </mrow>
            </mrow>
           </mrow>
          </mrow>
          <mo rspace="4.2pt">)</mo>
         </mrow>
         <mi>d</mi>
         <mi>t</mi>
        </mrow>
       </mrow>
       <mo>-</mo>
       <msubsup>
        <mrow>
         <mo>[</mo>
         <mrow>
          <mstyle displaystyle="true">
           <munder>
            <mo largeop="true" movablelimits="false" symmetric="true">âˆ‘</mo>
            <mi>i</mi>
           </munder>
          </mstyle>
          <mrow>
           <mrow>
            <mrow>
             <msub>
              <mi>m</mi>
              <mi>i</mi>
             </msub>
             <msub>
              <mi>ğ¯</mi>
              <mi>i</mi>
             </msub>
            </mrow>
            <mo>â‹…</mo>
            <mi>Î´</mi>
           </mrow>
           <msub>
            <mi>ğ«</mi>
            <mi>i</mi>
           </msub>
          </mrow>
         </mrow>
         <mo>]</mo>
        </mrow>
        <msub>
         <mi>t</mi>
         <mn>1</mn>
        </msub>
        <msub>
         <mi>t</mi>
         <mn>2</mn>
        </msub>
       </msubsup>
      </mrow>
     </mrow>
    </mtd>
   </mtr>
   <mtr>
    <mtd></mtd>
    <mtd columnalign="left">
     <mrow>
      <mi></mi>
      <mo>=</mo>
      <mrow>
       <mrow>
        <mi>Î´</mi>
        <mrow>
         <mstyle displaystyle="true">
          <msubsup>
           <mo largeop="true" symmetric="true">âˆ«</mo>
           <msub>
            <mi>t</mi>
            <mn>1</mn>
           </msub>
           <msub>
            <mi>t</mi>
            <mn>2</mn>
           </msub>
          </msubsup>
         </mstyle>
         <mrow>
          <mpadded width="+1.7pt">
           <mi>L</mi>
          </mpadded>
          <mi>d</mi>
          <mi>t</mi>
         </mrow>
        </mrow>
       </mrow>
       <mo>-</mo>
       <msubsup>
        <mrow>
         <mo>[</mo>
         <mrow>
          <mstyle displaystyle="true">
           <munder>
            <mo largeop="true" movablelimits="false" symmetric="true">âˆ‘</mo>
            <mi>i</mi>
           </munder>
          </mstyle>
          <mrow>
           <mrow>
            <mrow>
             <msub>
              <mi>m</mi>
              <mi>i</mi>
             </msub>
             <msub>
              <mi>ğ¯</mi>
              <mi>i</mi>
             </msub>
            </mrow>
            <mo>â‹…</mo>
            <mi>Î´</mi>
           </mrow>
           <msub>
            <mi>ğ«</mi>
            <mi>i</mi>
           </msub>
          </mrow>
         </mrow>
         <mo>]</mo>
        </mrow>
        <msub>
         <mi>t</mi>
         <mn>1</mn>
        </msub>
        <msub>
         <mi>t</mi>
         <mn>2</mn>
        </msub>
       </msubsup>
      </mrow>
     </mrow>
    </mtd>
   </mtr>
  </mtable>
  <annotation-xml encoding="MathML-Content">
   <matrix>
    <matrixrow>
     <apply>
      <apply>
       <csymbol cd="ambiguous">superscript</csymbol>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <int></int>
        <apply>
         <csymbol cd="ambiguous">subscript</csymbol>
         <ci>t</ci>
         <cn type="integer">1</cn>
        </apply>
       </apply>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>t</ci>
        <cn type="integer">2</cn>
       </apply>
      </apply>
      <apply>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <sum></sum>
        <ci>i</ci>
       </apply>
       <apply>
        <times></times>
        <apply>
         <ci>normal-â‹…</ci>
         <apply>
          <minus></minus>
          <apply>
           <csymbol cd="ambiguous">subscript</csymbol>
           <ci>ğ…</ci>
           <ci>i</ci>
          </apply>
          <apply>
           <times></times>
           <apply>
            <csymbol cd="ambiguous">subscript</csymbol>
            <ci>m</ci>
            <ci>i</ci>
           </apply>
           <apply>
            <csymbol cd="ambiguous">subscript</csymbol>
            <ci>ğš</ci>
            <ci>i</ci>
           </apply>
          </apply>
         </apply>
         <ci>Î´</ci>
        </apply>
        <apply>
         <csymbol cd="ambiguous">subscript</csymbol>
         <ci>ğ«</ci>
         <ci>i</ci>
        </apply>
        <ci>d</ci>
        <ci>t</ci>
       </apply>
      </apply>
     </apply>
     <apply>
      <eq></eq>
      <csymbol cd="latexml">absent</csymbol>
      <apply>
       <minus></minus>
       <apply>
        <apply>
         <csymbol cd="ambiguous">superscript</csymbol>
         <apply>
          <csymbol cd="ambiguous">subscript</csymbol>
          <int></int>
          <apply>
           <csymbol cd="ambiguous">subscript</csymbol>
           <ci>t</ci>
           <cn type="integer">1</cn>
          </apply>
         </apply>
         <apply>
          <csymbol cd="ambiguous">subscript</csymbol>
          <ci>t</ci>
          <cn type="integer">2</cn>
         </apply>
        </apply>
        <apply>
         <times></times>
         <ci>Î´</ci>
         <apply>
          <plus></plus>
          <apply>
           <minus></minus>
           <ci>V</ci>
          </apply>
          <apply>
           <times></times>
           <apply>
            <divide></divide>
            <cn type="integer">1</cn>
            <cn type="integer">2</cn>
           </apply>
           <apply>
            <apply>
             <csymbol cd="ambiguous">subscript</csymbol>
             <sum></sum>
             <ci>i</ci>
            </apply>
            <apply>
             <times></times>
             <apply>
              <csymbol cd="ambiguous">subscript</csymbol>
              <ci>m</ci>
              <ci>i</ci>
             </apply>
             <apply>
              <csymbol cd="ambiguous">superscript</csymbol>
              <apply>
               <csymbol cd="ambiguous">subscript</csymbol>
               <ci>v</ci>
               <ci>i</ci>
              </apply>
              <cn type="integer">2</cn>
             </apply>
            </apply>
           </apply>
          </apply>
         </apply>
         <ci>d</ci>
         <ci>t</ci>
        </apply>
       </apply>
       <apply>
        <csymbol cd="ambiguous">superscript</csymbol>
        <apply>
         <csymbol cd="ambiguous">subscript</csymbol>
         <apply>
          <csymbol cd="latexml">delimited-[]</csymbol>
          <apply>
           <apply>
            <csymbol cd="ambiguous">subscript</csymbol>
            <sum></sum>
            <ci>i</ci>
           </apply>
           <apply>
            <times></times>
            <apply>
             <ci>normal-â‹…</ci>
             <apply>
              <times></times>
              <apply>
               <csymbol cd="ambiguous">subscript</csymbol>
               <ci>m</ci>
               <ci>i</ci>
              </apply>
              <apply>
               <csymbol cd="ambiguous">subscript</csymbol>
               <ci>ğ¯</ci>
               <ci>i</ci>
              </apply>
             </apply>
             <ci>Î´</ci>
            </apply>
            <apply>
             <csymbol cd="ambiguous">subscript</csymbol>
             <ci>ğ«</ci>
             <ci>i</ci>
            </apply>
           </apply>
          </apply>
         </apply>
         <apply>
          <csymbol cd="ambiguous">subscript</csymbol>
          <ci>t</ci>
          <cn type="integer">1</cn>
         </apply>
        </apply>
        <apply>
         <csymbol cd="ambiguous">subscript</csymbol>
         <ci>t</ci>
         <cn type="integer">2</cn>
        </apply>
       </apply>
      </apply>
     </apply>
    </matrixrow>
    <matrixrow>
     <cerror>
      <csymbol cd="ambiguous">missing-subexpression</csymbol>
     </cerror>
     <apply>
      <eq></eq>
      <csymbol cd="latexml">absent</csymbol>
      <apply>
       <minus></minus>
       <apply>
        <times></times>
        <ci>Î´</ci>
        <apply>
         <apply>
          <csymbol cd="ambiguous">superscript</csymbol>
          <apply>
           <csymbol cd="ambiguous">subscript</csymbol>
           <int></int>
           <apply>
            <csymbol cd="ambiguous">subscript</csymbol>
            <ci>t</ci>
            <cn type="integer">1</cn>
           </apply>
          </apply>
          <apply>
           <csymbol cd="ambiguous">subscript</csymbol>
           <ci>t</ci>
           <cn type="integer">2</cn>
          </apply>
         </apply>
         <apply>
          <times></times>
          <ci>L</ci>
          <ci>d</ci>
          <ci>t</ci>
         </apply>
        </apply>
       </apply>
       <apply>
        <csymbol cd="ambiguous">superscript</csymbol>
        <apply>
         <csymbol cd="ambiguous">subscript</csymbol>
         <apply>
          <csymbol cd="latexml">delimited-[]</csymbol>
          <apply>
           <apply>
            <csymbol cd="ambiguous">subscript</csymbol>
            <sum></sum>
            <ci>i</ci>
           </apply>
           <apply>
            <times></times>
            <apply>
             <ci>normal-â‹…</ci>
             <apply>
              <times></times>
              <apply>
               <csymbol cd="ambiguous">subscript</csymbol>
               <ci>m</ci>
               <ci>i</ci>
              </apply>
              <apply>
               <csymbol cd="ambiguous">subscript</csymbol>
               <ci>ğ¯</ci>
               <ci>i</ci>
              </apply>
             </apply>
             <ci>Î´</ci>
            </apply>
            <apply>
             <csymbol cd="ambiguous">subscript</csymbol>
             <ci>ğ«</ci>
             <ci>i</ci>
            </apply>
           </apply>
          </apply>
         </apply>
         <apply>
          <csymbol cd="ambiguous">subscript</csymbol>
          <ci>t</ci>
          <cn type="integer">1</cn>
         </apply>
        </apply>
        <apply>
         <csymbol cd="ambiguous">subscript</csymbol>
         <ci>t</ci>
         <cn type="integer">2</cn>
        </apply>
       </apply>
      </apply>
     </apply>
    </matrixrow>
   </matrix>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \begin{aligned}\displaystyle\int_{t_{1}}^{t_{2}}\sum_{i}(\mathbf{F}_{i}-m_{i}%
\mathbf{a}_{i})\cdot\delta\mathbf{r}_{i}\,dt&\displaystyle=\int_{t_{1}}^{t_{2}%
}\delta\left(-V+\frac{1}{2}\sum_{i}m_{i}v_{i}^{2}\right)\,dt-\left[\sum_{i}m_{%
i}\mathbf{v}_{i}\cdot\delta\mathbf{r}_{i}\right]_{t_{1}}^{t_{2}}\\
&\displaystyle=\delta\int_{t_{1}}^{t_{2}}L\,dt-\left[\sum_{i}m_{i}\mathbf{v}_{%
i}\cdot\delta\mathbf{r}_{i}\right]_{t_{1}}^{t_{2}}\end{aligned}
  </annotation>
 </semantics>
</math>

</p>

<p>If the endpoints are fixed, then the last term vanishes, and we have arrived at <a href="Hamilton's_principle" title="wikilink">Hamilton's principle</a>:</p>

<p>

<math display="block" id="Lagrangian_mechanics:47">
 <semantics>
  <mrow>
   <mrow>
    <mi>Î´</mi>
    <mrow>
     <msubsup>
      <mo largeop="true" symmetric="true">âˆ«</mo>
      <msub>
       <mi>t</mi>
       <mn>1</mn>
      </msub>
      <msub>
       <mi>t</mi>
       <mn>2</mn>
      </msub>
     </msubsup>
     <mrow>
      <mpadded width="+1.7pt">
       <mi>L</mi>
      </mpadded>
      <mi>d</mi>
      <mi>t</mi>
     </mrow>
    </mrow>
   </mrow>
   <mo>=</mo>
   <mn>0.</mn>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <times></times>
     <ci>Î´</ci>
     <apply>
      <apply>
       <csymbol cd="ambiguous">superscript</csymbol>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <int></int>
        <apply>
         <csymbol cd="ambiguous">subscript</csymbol>
         <ci>t</ci>
         <cn type="integer">1</cn>
        </apply>
       </apply>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>t</ci>
        <cn type="integer">2</cn>
       </apply>
      </apply>
      <apply>
       <times></times>
       <ci>L</ci>
       <ci>d</ci>
       <ci>t</ci>
      </apply>
     </apply>
    </apply>
    <cn type="float">0.</cn>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \delta\int_{t_{1}}^{t_{2}}L\,dt=0.
  </annotation>
 </semantics>
</math>

</p>
<h3 id="hamiltons-principle">Hamilton's principle</h3>

<p>The Eulerâ€“Lagrange equations follow directly from Hamilton's principle, and are mathematically equivalent. From the <a href="calculus_of_variations" title="wikilink">calculus of variations</a>, any functional of the form:</p>

<p>

<math display="block" id="Lagrangian_mechanics:48">
 <semantics>
  <mrow>
   <mi>J</mi>
   <mo>=</mo>
   <mrow>
    <msubsup>
     <mo largeop="true" symmetric="true">âˆ«</mo>
     <msub>
      <mi>x</mi>
      <mn>1</mn>
     </msub>
     <msub>
      <mi>x</mi>
      <mn>2</mn>
     </msub>
    </msubsup>
    <mrow>
     <mi>F</mi>
     <mrow>
      <mo stretchy="false">(</mo>
      <mi>x</mi>
      <mo>,</mo>
      <mi>y</mi>
      <mo>,</mo>
      <msup>
       <mi>y</mi>
       <mo>â€²</mo>
      </msup>
      <mo stretchy="false">)</mo>
     </mrow>
     <mi mathvariant="normal">d</mi>
     <mi>x</mi>
    </mrow>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <ci>J</ci>
    <apply>
     <apply>
      <csymbol cd="ambiguous">superscript</csymbol>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <int></int>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>x</ci>
        <cn type="integer">1</cn>
       </apply>
      </apply>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>x</ci>
       <cn type="integer">2</cn>
      </apply>
     </apply>
     <apply>
      <times></times>
      <ci>F</ci>
      <vector>
       <ci>x</ci>
       <ci>y</ci>
       <apply>
        <csymbol cd="ambiguous">superscript</csymbol>
        <ci>y</ci>
        <ci>normal-â€²</ci>
       </apply>
      </vector>
      <ci>normal-d</ci>
      <ci>x</ci>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   J=\int_{x_{1}}^{x_{2}}F(x,y,y^{\prime})\mathrm{d}x
  </annotation>
 </semantics>
</math>

</p>

<p>leads to the general <a href="Eulerâ€“Lagrange_equation" title="wikilink">Eulerâ€“Lagrange equation</a> for stationary value of J. (see main article for derivation):</p>

<p>

<math display="block" id="Lagrangian_mechanics:49">
 <semantics>
  <mrow>
   <mrow>
    <mfrac>
     <mi mathvariant="normal">d</mi>
     <mrow>
      <mi mathvariant="normal">d</mi>
      <mi>x</mi>
     </mrow>
    </mfrac>
    <mfrac>
     <mrow>
      <mo>âˆ‚</mo>
      <mi>F</mi>
     </mrow>
     <mrow>
      <mo>âˆ‚</mo>
      <msup>
       <mi>y</mi>
       <mo>â€²</mo>
      </msup>
     </mrow>
    </mfrac>
   </mrow>
   <mo>=</mo>
   <mfrac>
    <mrow>
     <mo>âˆ‚</mo>
     <mi>F</mi>
    </mrow>
    <mrow>
     <mo>âˆ‚</mo>
     <mi>y</mi>
    </mrow>
   </mfrac>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <times></times>
     <apply>
      <divide></divide>
      <ci>normal-d</ci>
      <apply>
       <times></times>
       <ci>normal-d</ci>
       <ci>x</ci>
      </apply>
     </apply>
     <apply>
      <divide></divide>
      <apply>
       <partialdiff></partialdiff>
       <ci>F</ci>
      </apply>
      <apply>
       <partialdiff></partialdiff>
       <apply>
        <csymbol cd="ambiguous">superscript</csymbol>
        <ci>y</ci>
        <ci>normal-â€²</ci>
       </apply>
      </apply>
     </apply>
    </apply>
    <apply>
     <divide></divide>
     <apply>
      <partialdiff></partialdiff>
      <ci>F</ci>
     </apply>
     <apply>
      <partialdiff></partialdiff>
      <ci>y</ci>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \frac{\mathrm{d}}{\mathrm{d}x}\frac{\partial F}{\partial y^{\prime}}=\frac{%
\partial F}{\partial y}
  </annotation>
 </semantics>
</math>

</p>

<p>Then making the replacements:</p>

<p>

<math display="block" id="Lagrangian_mechanics:50">
 <semantics>
  <mrow>
   <mrow>
    <mi>x</mi>
    <mo>â†’</mo>
    <mi>t</mi>
   </mrow>
   <mo rspace="12.5pt">,</mo>
   <mrow>
    <mrow>
     <mi>y</mi>
     <mo>â†’</mo>
     <mi>q</mi>
    </mrow>
    <mo rspace="12.5pt">,</mo>
    <mrow>
     <mrow>
      <msup>
       <mi>y</mi>
       <mo>â€²</mo>
      </msup>
      <mo>â†’</mo>
      <mover accent="true">
       <mi>q</mi>
       <mo>Ë™</mo>
      </mover>
     </mrow>
     <mo rspace="12.5pt">,</mo>
     <mrow>
      <mrow>
       <mi>F</mi>
       <mo>â†’</mo>
       <mi>L</mi>
      </mrow>
      <mo rspace="12.5pt">,</mo>
      <mrow>
       <mi>J</mi>
       <mo>â†’</mo>
       <mi class="ltx_font_mathcaligraphic">ğ’®</mi>
      </mrow>
     </mrow>
    </mrow>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <csymbol cd="ambiguous">formulae-sequence</csymbol>
    <apply>
     <ci>normal-â†’</ci>
     <ci>x</ci>
     <ci>t</ci>
    </apply>
    <apply>
     <csymbol cd="ambiguous">formulae-sequence</csymbol>
     <apply>
      <ci>normal-â†’</ci>
      <ci>y</ci>
      <ci>q</ci>
     </apply>
     <apply>
      <csymbol cd="ambiguous">formulae-sequence</csymbol>
      <apply>
       <ci>normal-â†’</ci>
       <apply>
        <csymbol cd="ambiguous">superscript</csymbol>
        <ci>y</ci>
        <ci>normal-â€²</ci>
       </apply>
       <apply>
        <ci>normal-Ë™</ci>
        <ci>q</ci>
       </apply>
      </apply>
      <apply>
       <csymbol cd="ambiguous">formulae-sequence</csymbol>
       <apply>
        <ci>normal-â†’</ci>
        <ci>F</ci>
        <ci>L</ci>
       </apply>
       <apply>
        <ci>normal-â†’</ci>
        <ci>J</ci>
        <ci>ğ’®</ci>
       </apply>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   x\rightarrow t,\quad y\rightarrow q,\quad y^{\prime}\rightarrow\dot{q},\quad F%
\rightarrow L,\quad J\rightarrow\mathcal{S}
  </annotation>
 </semantics>
</math>

</p>

<p>yields the Lagrange equations for mechanics. Since mathematically <a href="Hamilton's_equations" title="wikilink">Hamilton's equations</a> can be derived from Lagrange's equations (by a <a href="Legendre_transformation" title="wikilink">Legendre transformation</a>) and Lagrange's equations can be derived from Newton's laws, all of which are equivalent and summarize classical mechanics, this means classical mechanics is fundamentally ruled by a variation principle (Hamilton's principle above).</p>
<h3 id="generalized-forces">Generalized forces</h3>

<p>For a conservative system, since the potential field is only a function of position, not velocity, Lagrange's equations also follow directly from the equation of motion above:</p>

<p>

<math display="block" id="Lagrangian_mechanics:51">
 <semantics>
  <mrow>
   <mrow>
    <msub>
     <mi>Q</mi>
     <mi>j</mi>
    </msub>
    <mo>=</mo>
    <mrow>
     <mrow>
      <mfrac>
       <mi mathvariant="normal">d</mi>
       <mrow>
        <mi mathvariant="normal">d</mi>
        <mi>t</mi>
       </mrow>
      </mfrac>
      <mrow>
       <mo>(</mo>
       <mfrac>
        <mrow>
         <mo>âˆ‚</mo>
         <mrow>
          <mo stretchy="false">(</mo>
          <mrow>
           <mi>L</mi>
           <mo>+</mo>
           <mi>V</mi>
          </mrow>
          <mo stretchy="false">)</mo>
         </mrow>
        </mrow>
        <mrow>
         <mo>âˆ‚</mo>
         <msub>
          <mover accent="true">
           <mi>q</mi>
           <mo>Ë™</mo>
          </mover>
          <mi>j</mi>
         </msub>
        </mrow>
       </mfrac>
       <mo>)</mo>
      </mrow>
     </mrow>
     <mo>-</mo>
     <mfrac>
      <mrow>
       <mo>âˆ‚</mo>
       <mrow>
        <mo stretchy="false">(</mo>
        <mrow>
         <mi>L</mi>
         <mo>+</mo>
         <mi>V</mi>
        </mrow>
        <mo stretchy="false">)</mo>
       </mrow>
      </mrow>
      <mrow>
       <mo>âˆ‚</mo>
       <msub>
        <mi>q</mi>
        <mi>j</mi>
       </msub>
      </mrow>
     </mfrac>
    </mrow>
    <mo>=</mo>
    <mrow>
     <mrow>
      <mo>[</mo>
      <mrow>
       <mrow>
        <mfrac>
         <mi mathvariant="normal">d</mi>
         <mrow>
          <mi mathvariant="normal">d</mi>
          <mi>t</mi>
         </mrow>
        </mfrac>
        <mrow>
         <mo>(</mo>
         <mfrac>
          <mrow>
           <mo>âˆ‚</mo>
           <mi>L</mi>
          </mrow>
          <mrow>
           <mo>âˆ‚</mo>
           <msub>
            <mover accent="true">
             <mi>q</mi>
             <mo>Ë™</mo>
            </mover>
            <mi>j</mi>
           </msub>
          </mrow>
         </mfrac>
         <mo>)</mo>
        </mrow>
       </mrow>
       <mo>+</mo>
       <mn>0</mn>
      </mrow>
      <mo>]</mo>
     </mrow>
     <mo>-</mo>
     <mrow>
      <mo>[</mo>
      <mrow>
       <mfrac>
        <mrow>
         <mo>âˆ‚</mo>
         <mi>L</mi>
        </mrow>
        <mrow>
         <mo>âˆ‚</mo>
         <msub>
          <mi>q</mi>
          <mi>j</mi>
         </msub>
        </mrow>
       </mfrac>
       <mo>+</mo>
       <mfrac>
        <mrow>
         <mo>âˆ‚</mo>
         <mi>V</mi>
        </mrow>
        <mrow>
         <mo>âˆ‚</mo>
         <msub>
          <mi>q</mi>
          <mi>j</mi>
         </msub>
        </mrow>
       </mfrac>
      </mrow>
      <mo>]</mo>
     </mrow>
    </mrow>
    <mo>=</mo>
    <mrow>
     <mrow>
      <mrow>
       <mfrac>
        <mi mathvariant="normal">d</mi>
        <mrow>
         <mi mathvariant="normal">d</mi>
         <mi>t</mi>
        </mrow>
       </mfrac>
       <mrow>
        <mo>(</mo>
        <mfrac>
         <mrow>
          <mo>âˆ‚</mo>
          <mi>L</mi>
         </mrow>
         <mrow>
          <mo>âˆ‚</mo>
          <msub>
           <mover accent="true">
            <mi>q</mi>
            <mo>Ë™</mo>
           </mover>
           <mi>j</mi>
          </msub>
         </mrow>
        </mfrac>
        <mo>)</mo>
       </mrow>
      </mrow>
      <mo>-</mo>
      <mfrac>
       <mrow>
        <mo>âˆ‚</mo>
        <mi>L</mi>
       </mrow>
       <mrow>
        <mo>âˆ‚</mo>
        <msub>
         <mi>q</mi>
         <mi>j</mi>
        </msub>
       </mrow>
      </mfrac>
     </mrow>
     <mo>+</mo>
     <msub>
      <mi>Q</mi>
      <mi>j</mi>
     </msub>
    </mrow>
   </mrow>
   <mo>.</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <and></and>
    <apply>
     <eq></eq>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <ci>Q</ci>
      <ci>j</ci>
     </apply>
     <apply>
      <minus></minus>
      <apply>
       <times></times>
       <apply>
        <divide></divide>
        <ci>normal-d</ci>
        <apply>
         <times></times>
         <ci>normal-d</ci>
         <ci>t</ci>
        </apply>
       </apply>
       <apply>
        <divide></divide>
        <apply>
         <partialdiff></partialdiff>
         <apply>
          <plus></plus>
          <ci>L</ci>
          <ci>V</ci>
         </apply>
        </apply>
        <apply>
         <partialdiff></partialdiff>
         <apply>
          <csymbol cd="ambiguous">subscript</csymbol>
          <apply>
           <ci>normal-Ë™</ci>
           <ci>q</ci>
          </apply>
          <ci>j</ci>
         </apply>
        </apply>
       </apply>
      </apply>
      <apply>
       <divide></divide>
       <apply>
        <partialdiff></partialdiff>
        <apply>
         <plus></plus>
         <ci>L</ci>
         <ci>V</ci>
        </apply>
       </apply>
       <apply>
        <partialdiff></partialdiff>
        <apply>
         <csymbol cd="ambiguous">subscript</csymbol>
         <ci>q</ci>
         <ci>j</ci>
        </apply>
       </apply>
      </apply>
     </apply>
    </apply>
    <apply>
     <eq></eq>
     <share href="#.cmml">
     </share>
     <apply>
      <minus></minus>
      <apply>
       <csymbol cd="latexml">delimited-[]</csymbol>
       <apply>
        <plus></plus>
        <apply>
         <times></times>
         <apply>
          <divide></divide>
          <ci>normal-d</ci>
          <apply>
           <times></times>
           <ci>normal-d</ci>
           <ci>t</ci>
          </apply>
         </apply>
         <apply>
          <divide></divide>
          <apply>
           <partialdiff></partialdiff>
           <ci>L</ci>
          </apply>
          <apply>
           <partialdiff></partialdiff>
           <apply>
            <csymbol cd="ambiguous">subscript</csymbol>
            <apply>
             <ci>normal-Ë™</ci>
             <ci>q</ci>
            </apply>
            <ci>j</ci>
           </apply>
          </apply>
         </apply>
        </apply>
        <cn type="integer">0</cn>
       </apply>
      </apply>
      <apply>
       <csymbol cd="latexml">delimited-[]</csymbol>
       <apply>
        <plus></plus>
        <apply>
         <divide></divide>
         <apply>
          <partialdiff></partialdiff>
          <ci>L</ci>
         </apply>
         <apply>
          <partialdiff></partialdiff>
          <apply>
           <csymbol cd="ambiguous">subscript</csymbol>
           <ci>q</ci>
           <ci>j</ci>
          </apply>
         </apply>
        </apply>
        <apply>
         <divide></divide>
         <apply>
          <partialdiff></partialdiff>
          <ci>V</ci>
         </apply>
         <apply>
          <partialdiff></partialdiff>
          <apply>
           <csymbol cd="ambiguous">subscript</csymbol>
           <ci>q</ci>
           <ci>j</ci>
          </apply>
         </apply>
        </apply>
       </apply>
      </apply>
     </apply>
    </apply>
    <apply>
     <eq></eq>
     <share href="#.cmml">
     </share>
     <apply>
      <plus></plus>
      <apply>
       <minus></minus>
       <apply>
        <times></times>
        <apply>
         <divide></divide>
         <ci>normal-d</ci>
         <apply>
          <times></times>
          <ci>normal-d</ci>
          <ci>t</ci>
         </apply>
        </apply>
        <apply>
         <divide></divide>
         <apply>
          <partialdiff></partialdiff>
          <ci>L</ci>
         </apply>
         <apply>
          <partialdiff></partialdiff>
          <apply>
           <csymbol cd="ambiguous">subscript</csymbol>
           <apply>
            <ci>normal-Ë™</ci>
            <ci>q</ci>
           </apply>
           <ci>j</ci>
          </apply>
         </apply>
        </apply>
       </apply>
       <apply>
        <divide></divide>
        <apply>
         <partialdiff></partialdiff>
         <ci>L</ci>
        </apply>
        <apply>
         <partialdiff></partialdiff>
         <apply>
          <csymbol cd="ambiguous">subscript</csymbol>
          <ci>q</ci>
          <ci>j</ci>
         </apply>
        </apply>
       </apply>
      </apply>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>Q</ci>
       <ci>j</ci>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   Q_{j}=\frac{\mathrm{d}}{\mathrm{d}t}\left(\frac{\partial\mathcal{(}L+V)}{%
\partial\dot{q}_{j}}\right)-\frac{\partial\mathcal{(}L+V)}{\partial q_{j}}=%
\left[\frac{\mathrm{d}}{\mathrm{d}t}\left(\frac{\partial L}{\partial\dot{q}_{j%
}}\right)+0\right]-\left[\frac{\partial L}{\partial q_{j}}+\frac{\partial V}{%
\partial q_{j}}\right]=\frac{\mathrm{d}}{\mathrm{d}t}\left(\frac{\partial L}{%
\partial\dot{q}_{j}}\right)-\frac{\partial L}{\partial q_{j}}+Q_{j}.
  </annotation>
 </semantics>
</math>

</p>

<p>simplifying to</p>

<p>

<math display="block" id="Lagrangian_mechanics:52">
 <semantics>
  <mrow>
   <mrow>
    <mfrac>
     <mi mathvariant="normal">d</mi>
     <mrow>
      <mi mathvariant="normal">d</mi>
      <mi>t</mi>
     </mrow>
    </mfrac>
    <mrow>
     <mo>(</mo>
     <mfrac>
      <mrow>
       <mo>âˆ‚</mo>
       <mi>L</mi>
      </mrow>
      <mrow>
       <mo>âˆ‚</mo>
       <msub>
        <mover accent="true">
         <mi>q</mi>
         <mo>Ë™</mo>
        </mover>
        <mi>j</mi>
       </msub>
      </mrow>
     </mfrac>
     <mo>)</mo>
    </mrow>
   </mrow>
   <mo>=</mo>
   <mfrac>
    <mrow>
     <mo>âˆ‚</mo>
     <mi>L</mi>
    </mrow>
    <mrow>
     <mo>âˆ‚</mo>
     <msub>
      <mi>q</mi>
      <mi>j</mi>
     </msub>
    </mrow>
   </mfrac>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <times></times>
     <apply>
      <divide></divide>
      <ci>normal-d</ci>
      <apply>
       <times></times>
       <ci>normal-d</ci>
       <ci>t</ci>
      </apply>
     </apply>
     <apply>
      <divide></divide>
      <apply>
       <partialdiff></partialdiff>
       <ci>L</ci>
      </apply>
      <apply>
       <partialdiff></partialdiff>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <apply>
         <ci>normal-Ë™</ci>
         <ci>q</ci>
        </apply>
        <ci>j</ci>
       </apply>
      </apply>
     </apply>
    </apply>
    <apply>
     <divide></divide>
     <apply>
      <partialdiff></partialdiff>
      <ci>L</ci>
     </apply>
     <apply>
      <partialdiff></partialdiff>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>q</ci>
       <ci>j</ci>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \frac{\mathrm{d}}{\mathrm{d}t}\left(\frac{\partial L}{\partial\dot{q}_{j}}%
\right)=\frac{\partial L}{\partial q_{j}}
  </annotation>
 </semantics>
</math>

</p>

<p>This is consistent with the results derived above and may be seen by differentiating the right side of the Lagrangian with respect to 

<math display="inline" id="Lagrangian_mechanics:53">
 <semantics>
  <msub>
   <mover accent="true">
    <mi>q</mi>
    <mo>Ë™</mo>
   </mover>
   <mi>j</mi>
  </msub>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <csymbol cd="ambiguous">subscript</csymbol>
    <apply>
     <ci>normal-Ë™</ci>
     <ci>q</ci>
    </apply>
    <ci>j</ci>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \dot{q}_{j}
  </annotation>
 </semantics>
</math>


 and time, and solely with respect to <em>q<sub>j</sub></em>, adding the results and associating terms with the equations for <strong>F</strong><sub><em>i</em></sub> and <em>Q<sub>j</sub></em>.</p>
<h3 id="newtons-laws">Newton's laws</h3>

<p>As the following derivation shows, <em>no new physics</em> is introduced, so the Lagrange equations can describe the dynamics of a classical system equivalently as Newton's laws, but not equivalency with Newton's 2nd law by itself which would allow for nonconservative forces such as friction.<a class="footnoteRef" href="#fn25" id="fnref25"><sup>25</sup></a></p>
<dl>
<dd>
<table>
<thead>
<tr class="header">
<th style="text-align: left;">
<p>Derivation of Lagrange's equations from Newton's 2nd law and D'Alembert's principle</p></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;"><dl>
<dt>Force and work done (on the particle)</dt>
</dl>

<p>Consider a single particle with <a class="uri" href="mass" title="wikilink">mass</a> <em>m</em> and <a href="position_vector" title="wikilink">position vector</a> <strong>r</strong>, moving under an applied <a href="conservative_force" title="wikilink">conservative force</a> <strong>F</strong>, which can be expressed as the <a class="uri" href="gradient" title="wikilink">gradient</a> of a <a href="scalar_potential" title="wikilink">scalar</a> <a href="potential_energy" title="wikilink">potential energy</a> function <em>V</em>(<strong>r</strong>, t):</p>

<p>

<math display="block" id="Lagrangian_mechanics:54">
 <semantics>
  <mrow>
   <mrow>
    <mi>ğ”½</mi>
    <mo>=</mo>
    <mrow>
     <mo>-</mo>
     <mrow>
      <mo>âˆ‡</mo>
      <mi>V</mi>
     </mrow>
    </mrow>
   </mrow>
   <mo>.</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <ci>ğ”½</ci>
    <apply>
     <minus></minus>
     <apply>
      <ci>normal-âˆ‡</ci>
      <ci>V</ci>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \mathbb{F}=-\mathbb{\nabla}V.\,
  </annotation>
 </semantics>
</math>

 Such a force is independent of third- or higher-order derivatives of <strong>r</strong>. Consider an arbitrary displacement <em>Î´</em><strong>r</strong> of the particle. The <a href="Mechanical_work" title="wikilink">work</a> done by the applied force <strong>F</strong> is</p>

<p>

<math display="block" id="Lagrangian_mechanics:55">
 <semantics>
  <mrow>
   <mrow>
    <mrow>
     <mi>Î´</mi>
     <mi>W</mi>
    </mrow>
    <mo>=</mo>
    <mrow>
     <mrow>
      <mi>ğ”½</mi>
      <mo>â‹…</mo>
      <mi>Î´</mi>
     </mrow>
     <mi>ğ•£</mi>
    </mrow>
   </mrow>
   <mo>.</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <times></times>
     <ci>Î´</ci>
     <ci>W</ci>
    </apply>
    <apply>
     <times></times>
     <apply>
      <ci>normal-â‹…</ci>
      <ci>ğ”½</ci>
      <ci>Î´</ci>
     </apply>
     <ci>ğ•£</ci>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \delta W=\mathbb{F}\cdot\delta\mathbb{r}.
  </annotation>
 </semantics>
</math>

 Using Newton's second law:</p>

<p>

<math display="block" id="Lagrangian_mechanics:56">
 <semantics>
  <mrow>
   <mrow>
    <mrow>
     <mrow>
      <mi>ğ”½</mi>
      <mo>â‹…</mo>
      <mi>Î´</mi>
     </mrow>
     <mi>ğ•£</mi>
    </mrow>
    <mo>=</mo>
    <mrow>
     <mrow>
      <mrow>
       <mi>m</mi>
       <mover accent="true">
        <mi>ğ•£</mi>
        <mo>Â¨</mo>
       </mover>
      </mrow>
      <mo>â‹…</mo>
      <mi>Î´</mi>
     </mrow>
     <mi>ğ•£</mi>
    </mrow>
   </mrow>
   <mo>.</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <times></times>
     <apply>
      <ci>normal-â‹…</ci>
      <ci>ğ”½</ci>
      <ci>Î´</ci>
     </apply>
     <ci>ğ•£</ci>
    </apply>
    <apply>
     <times></times>
     <apply>
      <ci>normal-â‹…</ci>
      <apply>
       <times></times>
       <ci>m</ci>
       <apply>
        <ci>normal-Â¨</ci>
        <ci>ğ•£</ci>
       </apply>
      </apply>
      <ci>Î´</ci>
     </apply>
     <ci>ğ•£</ci>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \mathbb{F}\cdot\delta\mathbb{r}=m\ddot{\mathbb{r}}\cdot\delta\mathbb{r}.
  </annotation>
 </semantics>
</math>

 Since work is a physical scalar quantity, we should be able to rewrite this equation in terms of the generalized coordinates and velocities. On the left hand side,</p>

<p>

<math display="block" id="Lagrangian_mechanics:57">
 <semantics>
  <mrow>
   <mrow>
    <mrow>
     <mrow>
      <mi>ğ”½</mi>
      <mo>â‹…</mo>
      <mi>Î´</mi>
     </mrow>
     <mi>ğ•£</mi>
    </mrow>
    <mo>=</mo>
    <mrow>
     <mo>-</mo>
     <mrow>
      <mrow>
       <mo>âˆ‡</mo>
       <mi>V</mi>
      </mrow>
      <mo>â‹…</mo>
      <mrow>
       <munder>
        <mo largeop="true" movablelimits="false" symmetric="true">âˆ‘</mo>
        <mi>i</mi>
       </munder>
       <mrow>
        <mfrac>
         <mrow>
          <mo>âˆ‚</mo>
          <mi>ğ•£</mi>
         </mrow>
         <mrow>
          <mo>âˆ‚</mo>
          <msub>
           <mi>q</mi>
           <mi>i</mi>
          </msub>
         </mrow>
        </mfrac>
        <mi>Î´</mi>
        <msub>
         <mi>q</mi>
         <mi>i</mi>
        </msub>
       </mrow>
      </mrow>
     </mrow>
    </mrow>
    <mo>=</mo>
    <mrow>
     <mo>-</mo>
     <mrow>
      <munder>
       <mo largeop="true" movablelimits="false" symmetric="true">âˆ‘</mo>
       <mrow>
        <mi>i</mi>
        <mo>,</mo>
        <mi>j</mi>
       </mrow>
      </munder>
      <mrow>
       <mfrac>
        <mrow>
         <mo>âˆ‚</mo>
         <mi>V</mi>
        </mrow>
        <mrow>
         <mo>âˆ‚</mo>
         <msub>
          <mi>r</mi>
          <mi>j</mi>
         </msub>
        </mrow>
       </mfrac>
       <mfrac>
        <mrow>
         <mo>âˆ‚</mo>
         <msub>
          <mi>r</mi>
          <mi>j</mi>
         </msub>
        </mrow>
        <mrow>
         <mo>âˆ‚</mo>
         <msub>
          <mi>q</mi>
          <mi>i</mi>
         </msub>
        </mrow>
       </mfrac>
       <mi>Î´</mi>
       <msub>
        <mi>q</mi>
        <mi>i</mi>
       </msub>
      </mrow>
     </mrow>
    </mrow>
    <mo>=</mo>
    <mrow>
     <mo>-</mo>
     <mrow>
      <munder>
       <mo largeop="true" movablelimits="false" symmetric="true">âˆ‘</mo>
       <mi>i</mi>
      </munder>
      <mrow>
       <mfrac>
        <mrow>
         <mo>âˆ‚</mo>
         <mi>V</mi>
        </mrow>
        <mrow>
         <mo>âˆ‚</mo>
         <msub>
          <mi>q</mi>
          <mi>i</mi>
         </msub>
        </mrow>
       </mfrac>
       <mi>Î´</mi>
       <msub>
        <mi>q</mi>
        <mi>i</mi>
       </msub>
      </mrow>
     </mrow>
    </mrow>
   </mrow>
   <mo>.</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <and></and>
    <apply>
     <eq></eq>
     <apply>
      <times></times>
      <apply>
       <ci>normal-â‹…</ci>
       <ci>ğ”½</ci>
       <ci>Î´</ci>
      </apply>
      <ci>ğ•£</ci>
     </apply>
     <apply>
      <minus></minus>
      <apply>
       <ci>normal-â‹…</ci>
       <apply>
        <ci>normal-âˆ‡</ci>
        <ci>V</ci>
       </apply>
       <apply>
        <apply>
         <csymbol cd="ambiguous">subscript</csymbol>
         <sum></sum>
         <ci>i</ci>
        </apply>
        <apply>
         <times></times>
         <apply>
          <divide></divide>
          <apply>
           <partialdiff></partialdiff>
           <ci>ğ•£</ci>
          </apply>
          <apply>
           <partialdiff></partialdiff>
           <apply>
            <csymbol cd="ambiguous">subscript</csymbol>
            <ci>q</ci>
            <ci>i</ci>
           </apply>
          </apply>
         </apply>
         <ci>Î´</ci>
         <apply>
          <csymbol cd="ambiguous">subscript</csymbol>
          <ci>q</ci>
          <ci>i</ci>
         </apply>
        </apply>
       </apply>
      </apply>
     </apply>
    </apply>
    <apply>
     <eq></eq>
     <share href="#.cmml">
     </share>
     <apply>
      <minus></minus>
      <apply>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <sum></sum>
        <list>
         <ci>i</ci>
         <ci>j</ci>
        </list>
       </apply>
       <apply>
        <times></times>
        <apply>
         <divide></divide>
         <apply>
          <partialdiff></partialdiff>
          <ci>V</ci>
         </apply>
         <apply>
          <partialdiff></partialdiff>
          <apply>
           <csymbol cd="ambiguous">subscript</csymbol>
           <ci>r</ci>
           <ci>j</ci>
          </apply>
         </apply>
        </apply>
        <apply>
         <divide></divide>
         <apply>
          <partialdiff></partialdiff>
          <apply>
           <csymbol cd="ambiguous">subscript</csymbol>
           <ci>r</ci>
           <ci>j</ci>
          </apply>
         </apply>
         <apply>
          <partialdiff></partialdiff>
          <apply>
           <csymbol cd="ambiguous">subscript</csymbol>
           <ci>q</ci>
           <ci>i</ci>
          </apply>
         </apply>
        </apply>
        <ci>Î´</ci>
        <apply>
         <csymbol cd="ambiguous">subscript</csymbol>
         <ci>q</ci>
         <ci>i</ci>
        </apply>
       </apply>
      </apply>
     </apply>
    </apply>
    <apply>
     <eq></eq>
     <share href="#.cmml">
     </share>
     <apply>
      <minus></minus>
      <apply>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <sum></sum>
        <ci>i</ci>
       </apply>
       <apply>
        <times></times>
        <apply>
         <divide></divide>
         <apply>
          <partialdiff></partialdiff>
          <ci>V</ci>
         </apply>
         <apply>
          <partialdiff></partialdiff>
          <apply>
           <csymbol cd="ambiguous">subscript</csymbol>
           <ci>q</ci>
           <ci>i</ci>
          </apply>
         </apply>
        </apply>
        <ci>Î´</ci>
        <apply>
         <csymbol cd="ambiguous">subscript</csymbol>
         <ci>q</ci>
         <ci>i</ci>
        </apply>
       </apply>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \mathbb{F}\cdot\mathbb{\delta}\mathbb{r}=-\mathbb{\nabla}V\cdot\displaystyle%
\sum_{i}{\partial\mathbb{r}\over\partial q_{i}}\delta q_{i}=-\displaystyle\sum%
_{i,j}{\partial V\over\partial r_{j}}{\partial r_{j}\over\partial q_{i}}\delta
q%
_{i}=-\displaystyle\sum_{i}{\partial V\over\partial q_{i}}\delta q_{i}.
  </annotation>
 </semantics>
</math>

 On the right hand side, carrying out a change of coordinates to generalized coordinates, we obtain:</p>

<p>

<math display="block" id="Lagrangian_mechanics:58">
 <semantics>
  <mrow>
   <mrow>
    <mrow>
     <mrow>
      <mi>m</mi>
      <mover accent="true">
       <mi>ğ•£</mi>
       <mo>Â¨</mo>
      </mover>
     </mrow>
     <mo>â‹…</mo>
     <mi>Î´</mi>
    </mrow>
    <mi>ğ•£</mi>
   </mrow>
   <mo>=</mo>
   <mrow>
    <mi>m</mi>
    <mrow>
     <munder>
      <mo largeop="true" movablelimits="false" symmetric="true">âˆ‘</mo>
      <mi>j</mi>
     </munder>
     <mrow>
      <mrow>
       <mo>[</mo>
       <mrow>
        <munder>
         <mo largeop="true" movablelimits="false" symmetric="true">âˆ‘</mo>
         <mi>i</mi>
        </munder>
        <mrow>
         <mover accent="true">
          <msub>
           <mi>r</mi>
           <mi>i</mi>
          </msub>
          <mo>Â¨</mo>
         </mover>
         <mfrac>
          <mrow>
           <mo>âˆ‚</mo>
           <msub>
            <mi>r</mi>
            <mi>i</mi>
           </msub>
          </mrow>
          <mrow>
           <mo>âˆ‚</mo>
           <msub>
            <mi>q</mi>
            <mi>j</mi>
           </msub>
          </mrow>
         </mfrac>
        </mrow>
       </mrow>
       <mo>]</mo>
      </mrow>
      <mi>Î´</mi>
      <msub>
       <mi>q</mi>
       <mi>j</mi>
      </msub>
     </mrow>
    </mrow>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <times></times>
     <apply>
      <ci>normal-â‹…</ci>
      <apply>
       <times></times>
       <ci>m</ci>
       <apply>
        <ci>normal-Â¨</ci>
        <ci>ğ•£</ci>
       </apply>
      </apply>
      <ci>Î´</ci>
     </apply>
     <ci>ğ•£</ci>
    </apply>
    <apply>
     <times></times>
     <ci>m</ci>
     <apply>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <sum></sum>
       <ci>j</ci>
      </apply>
      <apply>
       <times></times>
       <apply>
        <csymbol cd="latexml">delimited-[]</csymbol>
        <apply>
         <apply>
          <csymbol cd="ambiguous">subscript</csymbol>
          <sum></sum>
          <ci>i</ci>
         </apply>
         <apply>
          <times></times>
          <apply>
           <ci>normal-Â¨</ci>
           <apply>
            <csymbol cd="ambiguous">subscript</csymbol>
            <ci>r</ci>
            <ci>i</ci>
           </apply>
          </apply>
          <apply>
           <divide></divide>
           <apply>
            <partialdiff></partialdiff>
            <apply>
             <csymbol cd="ambiguous">subscript</csymbol>
             <ci>r</ci>
             <ci>i</ci>
            </apply>
           </apply>
           <apply>
            <partialdiff></partialdiff>
            <apply>
             <csymbol cd="ambiguous">subscript</csymbol>
             <ci>q</ci>
             <ci>j</ci>
            </apply>
           </apply>
          </apply>
         </apply>
        </apply>
       </apply>
       <ci>Î´</ci>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>q</ci>
        <ci>j</ci>
       </apply>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   m\ddot{\mathbb{r}}\cdot\delta\mathbb{r}=m\sum_{j}\left[\sum_{i}\ddot{r_{i}}{%
\partial r_{i}\over\partial q_{j}}\right]\delta q_{j}
  </annotation>
 </semantics>
</math>

 Now <a href="Integration_by_parts" title="wikilink">integrating by parts</a> the summand with respect to <em>t</em>, then differentiating with respect to <em>t</em>:</p>

<p>

<math display="block" id="Lagrangian_mechanics:59">
 <semantics>
  <mrow>
   <mrow>
    <mfrac>
     <mi mathvariant="normal">d</mi>
     <mrow>
      <mi mathvariant="normal">d</mi>
      <mi>t</mi>
     </mrow>
    </mfrac>
    <mrow>
     <mo largeop="true" symmetric="true">âˆ«</mo>
     <mrow>
      <mover accent="true">
       <msub>
        <mi>r</mi>
        <mi>i</mi>
       </msub>
       <mo>Â¨</mo>
      </mover>
      <mfrac>
       <mrow>
        <mo>âˆ‚</mo>
        <msub>
         <mi>r</mi>
         <mi>i</mi>
        </msub>
       </mrow>
       <mrow>
        <mo>âˆ‚</mo>
        <msub>
         <mi>q</mi>
         <mi>j</mi>
        </msub>
       </mrow>
      </mfrac>
      <mi mathvariant="normal">d</mi>
      <mi>t</mi>
     </mrow>
    </mrow>
   </mrow>
   <mo>=</mo>
   <mrow>
    <mrow>
     <mfrac>
      <mi mathvariant="normal">d</mi>
      <mrow>
       <mi mathvariant="normal">d</mi>
       <mi>t</mi>
      </mrow>
     </mfrac>
     <mrow>
      <mo>(</mo>
      <mrow>
       <mfrac>
        <mrow>
         <mo>âˆ‚</mo>
         <msub>
          <mi>r</mi>
          <mi>i</mi>
         </msub>
        </mrow>
        <mrow>
         <mo>âˆ‚</mo>
         <msub>
          <mi>q</mi>
          <mi>j</mi>
         </msub>
        </mrow>
       </mfrac>
       <msub>
        <mover accent="true">
         <mi>r</mi>
         <mo>Ë™</mo>
        </mover>
        <mi>i</mi>
       </msub>
      </mrow>
      <mo>)</mo>
     </mrow>
    </mrow>
    <mo>-</mo>
    <mrow>
     <mfrac>
      <mi mathvariant="normal">d</mi>
      <mrow>
       <mi mathvariant="normal">d</mi>
       <mi>t</mi>
      </mrow>
     </mfrac>
     <mrow>
      <mo largeop="true" symmetric="true">âˆ«</mo>
      <mrow>
       <mfrac>
        <mi mathvariant="normal">d</mi>
        <mrow>
         <mi mathvariant="normal">d</mi>
         <mi>t</mi>
        </mrow>
       </mfrac>
       <mrow>
        <mo>(</mo>
        <mfrac>
         <mrow>
          <mo>âˆ‚</mo>
          <msub>
           <mi>r</mi>
           <mi>i</mi>
          </msub>
         </mrow>
         <mrow>
          <mo>âˆ‚</mo>
          <msub>
           <mi>q</mi>
           <mi>j</mi>
          </msub>
         </mrow>
        </mfrac>
        <mo>)</mo>
       </mrow>
       <msub>
        <mover accent="true">
         <mi>r</mi>
         <mo>Ë™</mo>
        </mover>
        <mi>i</mi>
       </msub>
       <mi mathvariant="normal">d</mi>
       <mi>t</mi>
      </mrow>
     </mrow>
    </mrow>
   </mrow>
   <mo>=</mo>
   <mrow>
    <mrow>
     <mfrac>
      <mi mathvariant="normal">d</mi>
      <mrow>
       <mi mathvariant="normal">d</mi>
       <mi>t</mi>
      </mrow>
     </mfrac>
     <mrow>
      <mo>(</mo>
      <mrow>
       <msub>
        <mover accent="true">
         <mi>r</mi>
         <mo>Ë™</mo>
        </mover>
        <mi>i</mi>
       </msub>
       <mfrac>
        <mrow>
         <mo>âˆ‚</mo>
         <msub>
          <mi>r</mi>
          <mi>i</mi>
         </msub>
        </mrow>
        <mrow>
         <mo>âˆ‚</mo>
         <msub>
          <mi>q</mi>
          <mi>j</mi>
         </msub>
        </mrow>
       </mfrac>
      </mrow>
      <mo>)</mo>
     </mrow>
    </mrow>
    <mo>-</mo>
    <mrow>
     <msub>
      <mover accent="true">
       <mi>r</mi>
       <mo>Ë™</mo>
      </mover>
      <mi>i</mi>
     </msub>
     <mfrac>
      <mi mathvariant="normal">d</mi>
      <mrow>
       <mi mathvariant="normal">d</mi>
       <mi>t</mi>
      </mrow>
     </mfrac>
     <mrow>
      <mo>(</mo>
      <mfrac>
       <mrow>
        <mo>âˆ‚</mo>
        <msub>
         <mi>r</mi>
         <mi>i</mi>
        </msub>
       </mrow>
       <mrow>
        <mo>âˆ‚</mo>
        <msub>
         <mi>q</mi>
         <mi>j</mi>
        </msub>
       </mrow>
      </mfrac>
      <mo>)</mo>
     </mrow>
    </mrow>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <and></and>
    <apply>
     <eq></eq>
     <apply>
      <times></times>
      <apply>
       <divide></divide>
       <ci>normal-d</ci>
       <apply>
        <times></times>
        <ci>normal-d</ci>
        <ci>t</ci>
       </apply>
      </apply>
      <apply>
       <int></int>
       <apply>
        <times></times>
        <apply>
         <ci>normal-Â¨</ci>
         <apply>
          <csymbol cd="ambiguous">subscript</csymbol>
          <ci>r</ci>
          <ci>i</ci>
         </apply>
        </apply>
        <apply>
         <divide></divide>
         <apply>
          <partialdiff></partialdiff>
          <apply>
           <csymbol cd="ambiguous">subscript</csymbol>
           <ci>r</ci>
           <ci>i</ci>
          </apply>
         </apply>
         <apply>
          <partialdiff></partialdiff>
          <apply>
           <csymbol cd="ambiguous">subscript</csymbol>
           <ci>q</ci>
           <ci>j</ci>
          </apply>
         </apply>
        </apply>
        <ci>normal-d</ci>
        <ci>t</ci>
       </apply>
      </apply>
     </apply>
     <apply>
      <minus></minus>
      <apply>
       <times></times>
       <apply>
        <divide></divide>
        <ci>normal-d</ci>
        <apply>
         <times></times>
         <ci>normal-d</ci>
         <ci>t</ci>
        </apply>
       </apply>
       <apply>
        <times></times>
        <apply>
         <divide></divide>
         <apply>
          <partialdiff></partialdiff>
          <apply>
           <csymbol cd="ambiguous">subscript</csymbol>
           <ci>r</ci>
           <ci>i</ci>
          </apply>
         </apply>
         <apply>
          <partialdiff></partialdiff>
          <apply>
           <csymbol cd="ambiguous">subscript</csymbol>
           <ci>q</ci>
           <ci>j</ci>
          </apply>
         </apply>
        </apply>
        <apply>
         <csymbol cd="ambiguous">subscript</csymbol>
         <apply>
          <ci>normal-Ë™</ci>
          <ci>r</ci>
         </apply>
         <ci>i</ci>
        </apply>
       </apply>
      </apply>
      <apply>
       <times></times>
       <apply>
        <divide></divide>
        <ci>normal-d</ci>
        <apply>
         <times></times>
         <ci>normal-d</ci>
         <ci>t</ci>
        </apply>
       </apply>
       <apply>
        <int></int>
        <apply>
         <times></times>
         <apply>
          <divide></divide>
          <ci>normal-d</ci>
          <apply>
           <times></times>
           <ci>normal-d</ci>
           <ci>t</ci>
          </apply>
         </apply>
         <apply>
          <divide></divide>
          <apply>
           <partialdiff></partialdiff>
           <apply>
            <csymbol cd="ambiguous">subscript</csymbol>
            <ci>r</ci>
            <ci>i</ci>
           </apply>
          </apply>
          <apply>
           <partialdiff></partialdiff>
           <apply>
            <csymbol cd="ambiguous">subscript</csymbol>
            <ci>q</ci>
            <ci>j</ci>
           </apply>
          </apply>
         </apply>
         <apply>
          <csymbol cd="ambiguous">subscript</csymbol>
          <apply>
           <ci>normal-Ë™</ci>
           <ci>r</ci>
          </apply>
          <ci>i</ci>
         </apply>
         <ci>normal-d</ci>
         <ci>t</ci>
        </apply>
       </apply>
      </apply>
     </apply>
    </apply>
    <apply>
     <eq></eq>
     <share href="#.cmml">
     </share>
     <apply>
      <minus></minus>
      <apply>
       <times></times>
       <apply>
        <divide></divide>
        <ci>normal-d</ci>
        <apply>
         <times></times>
         <ci>normal-d</ci>
         <ci>t</ci>
        </apply>
       </apply>
       <apply>
        <times></times>
        <apply>
         <csymbol cd="ambiguous">subscript</csymbol>
         <apply>
          <ci>normal-Ë™</ci>
          <ci>r</ci>
         </apply>
         <ci>i</ci>
        </apply>
        <apply>
         <divide></divide>
         <apply>
          <partialdiff></partialdiff>
          <apply>
           <csymbol cd="ambiguous">subscript</csymbol>
           <ci>r</ci>
           <ci>i</ci>
          </apply>
         </apply>
         <apply>
          <partialdiff></partialdiff>
          <apply>
           <csymbol cd="ambiguous">subscript</csymbol>
           <ci>q</ci>
           <ci>j</ci>
          </apply>
         </apply>
        </apply>
       </apply>
      </apply>
      <apply>
       <times></times>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <apply>
         <ci>normal-Ë™</ci>
         <ci>r</ci>
        </apply>
        <ci>i</ci>
       </apply>
       <apply>
        <divide></divide>
        <ci>normal-d</ci>
        <apply>
         <times></times>
         <ci>normal-d</ci>
         <ci>t</ci>
        </apply>
       </apply>
       <apply>
        <divide></divide>
        <apply>
         <partialdiff></partialdiff>
         <apply>
          <csymbol cd="ambiguous">subscript</csymbol>
          <ci>r</ci>
          <ci>i</ci>
         </apply>
        </apply>
        <apply>
         <partialdiff></partialdiff>
         <apply>
          <csymbol cd="ambiguous">subscript</csymbol>
          <ci>q</ci>
          <ci>j</ci>
         </apply>
        </apply>
       </apply>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \frac{\mathrm{d}}{\mathrm{d}t}\int\ddot{r_{i}}{\partial r_{i}\over\partial q_{%
j}}\mathrm{d}t=\frac{\mathrm{d}}{\mathrm{d}t}\left({\partial r_{i}\over%
\partial q_{j}}\dot{r}_{i}\right)-\frac{\mathrm{d}}{\mathrm{d}t}\int\frac{%
\mathrm{d}}{\mathrm{d}t}\left({\partial r_{i}\over\partial q_{j}}\right)\dot{r%
}_{i}\mathrm{d}t=\frac{\mathrm{d}}{\mathrm{d}t}\left(\dot{r}_{i}{\partial r_{i%
}\over\partial q_{j}}\right)-\dot{r}_{i}\frac{\mathrm{d}}{\mathrm{d}t}\left({%
\partial r_{i}\over\partial q_{j}}\right)
  </annotation>
 </semantics>
</math>

 allows the sum to be written as:</p>

<p>

<math display="block" id="Lagrangian_mechanics:60">
 <semantics>
  <mrow>
   <mrow>
    <mrow>
     <mrow>
      <mi>m</mi>
      <mover accent="true">
       <mi>ğ•£</mi>
       <mo>Â¨</mo>
      </mover>
     </mrow>
     <mo>â‹…</mo>
     <mi>Î´</mi>
    </mrow>
    <mi>ğ•£</mi>
   </mrow>
   <mo>=</mo>
   <mrow>
    <mi>m</mi>
    <mrow>
     <munder>
      <mo largeop="true" movablelimits="false" symmetric="true">âˆ‘</mo>
      <mi>j</mi>
     </munder>
     <mrow>
      <mrow>
       <mo>[</mo>
       <mrow>
        <munder>
         <mo largeop="true" movablelimits="false" symmetric="true">âˆ‘</mo>
         <mi>i</mi>
        </munder>
        <mrow>
         <mo>[</mo>
         <mrow>
          <mrow>
           <mfrac>
            <mi mathvariant="normal">d</mi>
            <mrow>
             <mi mathvariant="normal">d</mi>
             <mi>t</mi>
            </mrow>
           </mfrac>
           <mrow>
            <mo>(</mo>
            <mrow>
             <mover accent="true">
              <msub>
               <mi>r</mi>
               <mi>i</mi>
              </msub>
              <mo>Ë™</mo>
             </mover>
             <mfrac>
              <mrow>
               <mo>âˆ‚</mo>
               <msub>
                <mi>r</mi>
                <mi>i</mi>
               </msub>
              </mrow>
              <mrow>
               <mo>âˆ‚</mo>
               <msub>
                <mi>q</mi>
                <mi>j</mi>
               </msub>
              </mrow>
             </mfrac>
            </mrow>
            <mo>)</mo>
           </mrow>
          </mrow>
          <mo>-</mo>
          <mrow>
           <mover accent="true">
            <msub>
             <mi>r</mi>
             <mi>i</mi>
            </msub>
            <mo>Ë™</mo>
           </mover>
           <mfrac>
            <mi mathvariant="normal">d</mi>
            <mrow>
             <mi mathvariant="normal">d</mi>
             <mi>t</mi>
            </mrow>
           </mfrac>
           <mrow>
            <mo>(</mo>
            <mfrac>
             <mrow>
              <mo>âˆ‚</mo>
              <msub>
               <mi>r</mi>
               <mi>i</mi>
              </msub>
             </mrow>
             <mrow>
              <mo>âˆ‚</mo>
              <msub>
               <mi>q</mi>
               <mi>j</mi>
              </msub>
             </mrow>
            </mfrac>
            <mo>)</mo>
           </mrow>
          </mrow>
         </mrow>
         <mo>]</mo>
        </mrow>
       </mrow>
       <mo>]</mo>
      </mrow>
      <mi>Î´</mi>
      <msub>
       <mi>q</mi>
       <mi>j</mi>
      </msub>
     </mrow>
    </mrow>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <times></times>
     <apply>
      <ci>normal-â‹…</ci>
      <apply>
       <times></times>
       <ci>m</ci>
       <apply>
        <ci>normal-Â¨</ci>
        <ci>ğ•£</ci>
       </apply>
      </apply>
      <ci>Î´</ci>
     </apply>
     <ci>ğ•£</ci>
    </apply>
    <apply>
     <times></times>
     <ci>m</ci>
     <apply>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <sum></sum>
       <ci>j</ci>
      </apply>
      <apply>
       <times></times>
       <apply>
        <csymbol cd="latexml">delimited-[]</csymbol>
        <apply>
         <apply>
          <csymbol cd="ambiguous">subscript</csymbol>
          <sum></sum>
          <ci>i</ci>
         </apply>
         <apply>
          <csymbol cd="latexml">delimited-[]</csymbol>
          <apply>
           <minus></minus>
           <apply>
            <times></times>
            <apply>
             <divide></divide>
             <ci>normal-d</ci>
             <apply>
              <times></times>
              <ci>normal-d</ci>
              <ci>t</ci>
             </apply>
            </apply>
            <apply>
             <times></times>
             <apply>
              <ci>normal-Ë™</ci>
              <apply>
               <csymbol cd="ambiguous">subscript</csymbol>
               <ci>r</ci>
               <ci>i</ci>
              </apply>
             </apply>
             <apply>
              <divide></divide>
              <apply>
               <partialdiff></partialdiff>
               <apply>
                <csymbol cd="ambiguous">subscript</csymbol>
                <ci>r</ci>
                <ci>i</ci>
               </apply>
              </apply>
              <apply>
               <partialdiff></partialdiff>
               <apply>
                <csymbol cd="ambiguous">subscript</csymbol>
                <ci>q</ci>
                <ci>j</ci>
               </apply>
              </apply>
             </apply>
            </apply>
           </apply>
           <apply>
            <times></times>
            <apply>
             <ci>normal-Ë™</ci>
             <apply>
              <csymbol cd="ambiguous">subscript</csymbol>
              <ci>r</ci>
              <ci>i</ci>
             </apply>
            </apply>
            <apply>
             <divide></divide>
             <ci>normal-d</ci>
             <apply>
              <times></times>
              <ci>normal-d</ci>
              <ci>t</ci>
             </apply>
            </apply>
            <apply>
             <divide></divide>
             <apply>
              <partialdiff></partialdiff>
              <apply>
               <csymbol cd="ambiguous">subscript</csymbol>
               <ci>r</ci>
               <ci>i</ci>
              </apply>
             </apply>
             <apply>
              <partialdiff></partialdiff>
              <apply>
               <csymbol cd="ambiguous">subscript</csymbol>
               <ci>q</ci>
               <ci>j</ci>
              </apply>
             </apply>
            </apply>
           </apply>
          </apply>
         </apply>
        </apply>
       </apply>
       <ci>Î´</ci>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>q</ci>
        <ci>j</ci>
       </apply>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   m\ddot{\mathbb{r}}\cdot\delta\mathbb{r}=m\sum_{j}\left[\sum_{i}\left[{\mathrm{%
d}\over\mathrm{d}t}\left(\dot{r_{i}}{\partial r_{i}\over\partial q_{j}}\right)%
-\dot{r_{i}}{\mathrm{d}\over\mathrm{d}t}\left({\partial r_{i}\over\partial q_{%
j}}\right)\right]\right]\delta q_{j}
  </annotation>
 </semantics>
</math>

 Recognizing that</p>

<p>

<math display="block" id="Lagrangian_mechanics:61">
 <semantics>
  <mrow>
   <mrow>
    <mrow>
     <mrow>
      <mfrac>
       <mi mathvariant="normal">d</mi>
       <mrow>
        <mi mathvariant="normal">d</mi>
        <mi>t</mi>
       </mrow>
      </mfrac>
      <mfrac>
       <mrow>
        <mo>âˆ‚</mo>
        <msub>
         <mi>r</mi>
         <mi>j</mi>
        </msub>
       </mrow>
       <mrow>
        <mo>âˆ‚</mo>
        <msub>
         <mi>q</mi>
         <mi>i</mi>
        </msub>
       </mrow>
      </mfrac>
     </mrow>
     <mo>=</mo>
     <mfrac>
      <mrow>
       <mo>âˆ‚</mo>
       <mover accent="true">
        <msub>
         <mi>r</mi>
         <mi>j</mi>
        </msub>
        <mo>Ë™</mo>
       </mover>
      </mrow>
      <mrow>
       <mo>âˆ‚</mo>
       <msub>
        <mi>q</mi>
        <mi>i</mi>
       </msub>
      </mrow>
     </mfrac>
    </mrow>
    <mo rspace="12.5pt">,</mo>
    <mrow>
     <mfrac>
      <mrow>
       <mo>âˆ‚</mo>
       <msub>
        <mi>r</mi>
        <mi>j</mi>
       </msub>
      </mrow>
      <mrow>
       <mo>âˆ‚</mo>
       <msub>
        <mi>q</mi>
        <mi>i</mi>
       </msub>
      </mrow>
     </mfrac>
     <mo>=</mo>
     <mfrac>
      <mrow>
       <mo>âˆ‚</mo>
       <mover accent="true">
        <msub>
         <mi>r</mi>
         <mi>j</mi>
        </msub>
        <mo>Ë™</mo>
       </mover>
      </mrow>
      <mrow>
       <mo>âˆ‚</mo>
       <mover accent="true">
        <msub>
         <mi>q</mi>
         <mi>i</mi>
        </msub>
        <mo>Ë™</mo>
       </mover>
      </mrow>
     </mfrac>
    </mrow>
   </mrow>
   <mo>,</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <csymbol cd="ambiguous">formulae-sequence</csymbol>
    <apply>
     <eq></eq>
     <apply>
      <times></times>
      <apply>
       <divide></divide>
       <ci>normal-d</ci>
       <apply>
        <times></times>
        <ci>normal-d</ci>
        <ci>t</ci>
       </apply>
      </apply>
      <apply>
       <divide></divide>
       <apply>
        <partialdiff></partialdiff>
        <apply>
         <csymbol cd="ambiguous">subscript</csymbol>
         <ci>r</ci>
         <ci>j</ci>
        </apply>
       </apply>
       <apply>
        <partialdiff></partialdiff>
        <apply>
         <csymbol cd="ambiguous">subscript</csymbol>
         <ci>q</ci>
         <ci>i</ci>
        </apply>
       </apply>
      </apply>
     </apply>
     <apply>
      <divide></divide>
      <apply>
       <partialdiff></partialdiff>
       <apply>
        <ci>normal-Ë™</ci>
        <apply>
         <csymbol cd="ambiguous">subscript</csymbol>
         <ci>r</ci>
         <ci>j</ci>
        </apply>
       </apply>
      </apply>
      <apply>
       <partialdiff></partialdiff>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>q</ci>
        <ci>i</ci>
       </apply>
      </apply>
     </apply>
    </apply>
    <apply>
     <eq></eq>
     <apply>
      <divide></divide>
      <apply>
       <partialdiff></partialdiff>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>r</ci>
        <ci>j</ci>
       </apply>
      </apply>
      <apply>
       <partialdiff></partialdiff>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>q</ci>
        <ci>i</ci>
       </apply>
      </apply>
     </apply>
     <apply>
      <divide></divide>
      <apply>
       <partialdiff></partialdiff>
       <apply>
        <ci>normal-Ë™</ci>
        <apply>
         <csymbol cd="ambiguous">subscript</csymbol>
         <ci>r</ci>
         <ci>j</ci>
        </apply>
       </apply>
      </apply>
      <apply>
       <partialdiff></partialdiff>
       <apply>
        <ci>normal-Ë™</ci>
        <apply>
         <csymbol cd="ambiguous">subscript</csymbol>
         <ci>q</ci>
         <ci>i</ci>
        </apply>
       </apply>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   {\mathrm{d}\over\mathrm{d}t}{\partial r_{j}\over\partial q_{i}}={\partial\dot{%
r_{j}}\over\partial q_{i}},\quad{\partial r_{j}\over\partial q_{i}}={\partial%
\dot{r_{j}}\over\partial\dot{q_{i}}},
  </annotation>
 </semantics>
</math>

 we obtain:</p>

<p>

<math display="block" id="Lagrangian_mechanics:62">
 <semantics>
  <mrow>
   <mrow>
    <mrow>
     <mrow>
      <mi>m</mi>
      <mover accent="true">
       <mi>ğ•£</mi>
       <mo>Â¨</mo>
      </mover>
     </mrow>
     <mo>â‹…</mo>
     <mi>Î´</mi>
    </mrow>
    <mi>ğ•£</mi>
   </mrow>
   <mo>=</mo>
   <mrow>
    <mi>m</mi>
    <mrow>
     <munder>
      <mo largeop="true" movablelimits="false" symmetric="true">âˆ‘</mo>
      <mi>j</mi>
     </munder>
     <mrow>
      <mrow>
       <mo>[</mo>
       <mrow>
        <munder>
         <mo largeop="true" movablelimits="false" symmetric="true">âˆ‘</mo>
         <mi>i</mi>
        </munder>
        <mrow>
         <mo>[</mo>
         <mrow>
          <mrow>
           <mfrac>
            <mi mathvariant="normal">d</mi>
            <mrow>
             <mi mathvariant="normal">d</mi>
             <mi>t</mi>
            </mrow>
           </mfrac>
           <mrow>
            <mo>(</mo>
            <mrow>
             <mover accent="true">
              <msub>
               <mi>r</mi>
               <mi>i</mi>
              </msub>
              <mo>Ë™</mo>
             </mover>
             <mfrac>
              <mrow>
               <mo>âˆ‚</mo>
               <mover accent="true">
                <msub>
                 <mi>r</mi>
                 <mi>i</mi>
                </msub>
                <mo>Ë™</mo>
               </mover>
              </mrow>
              <mrow>
               <mo>âˆ‚</mo>
               <mover accent="true">
                <msub>
                 <mi>q</mi>
                 <mi>j</mi>
                </msub>
                <mo>Ë™</mo>
               </mover>
              </mrow>
             </mfrac>
            </mrow>
            <mo>)</mo>
           </mrow>
          </mrow>
          <mo>-</mo>
          <mrow>
           <mover accent="true">
            <msub>
             <mi>r</mi>
             <mi>i</mi>
            </msub>
            <mo>Ë™</mo>
           </mover>
           <mfrac>
            <mrow>
             <mo>âˆ‚</mo>
             <mover accent="true">
              <msub>
               <mi>r</mi>
               <mi>i</mi>
              </msub>
              <mo>Ë™</mo>
             </mover>
            </mrow>
            <mrow>
             <mo>âˆ‚</mo>
             <msub>
              <mi>q</mi>
              <mi>j</mi>
             </msub>
            </mrow>
           </mfrac>
          </mrow>
         </mrow>
         <mo>]</mo>
        </mrow>
       </mrow>
       <mo>]</mo>
      </mrow>
      <mi>Î´</mi>
      <msub>
       <mi>q</mi>
       <mi>j</mi>
      </msub>
     </mrow>
    </mrow>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <times></times>
     <apply>
      <ci>normal-â‹…</ci>
      <apply>
       <times></times>
       <ci>m</ci>
       <apply>
        <ci>normal-Â¨</ci>
        <ci>ğ•£</ci>
       </apply>
      </apply>
      <ci>Î´</ci>
     </apply>
     <ci>ğ•£</ci>
    </apply>
    <apply>
     <times></times>
     <ci>m</ci>
     <apply>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <sum></sum>
       <ci>j</ci>
      </apply>
      <apply>
       <times></times>
       <apply>
        <csymbol cd="latexml">delimited-[]</csymbol>
        <apply>
         <apply>
          <csymbol cd="ambiguous">subscript</csymbol>
          <sum></sum>
          <ci>i</ci>
         </apply>
         <apply>
          <csymbol cd="latexml">delimited-[]</csymbol>
          <apply>
           <minus></minus>
           <apply>
            <times></times>
            <apply>
             <divide></divide>
             <ci>normal-d</ci>
             <apply>
              <times></times>
              <ci>normal-d</ci>
              <ci>t</ci>
             </apply>
            </apply>
            <apply>
             <times></times>
             <apply>
              <ci>normal-Ë™</ci>
              <apply>
               <csymbol cd="ambiguous">subscript</csymbol>
               <ci>r</ci>
               <ci>i</ci>
              </apply>
             </apply>
             <apply>
              <divide></divide>
              <apply>
               <partialdiff></partialdiff>
               <apply>
                <ci>normal-Ë™</ci>
                <apply>
                 <csymbol cd="ambiguous">subscript</csymbol>
                 <ci>r</ci>
                 <ci>i</ci>
                </apply>
               </apply>
              </apply>
              <apply>
               <partialdiff></partialdiff>
               <apply>
                <ci>normal-Ë™</ci>
                <apply>
                 <csymbol cd="ambiguous">subscript</csymbol>
                 <ci>q</ci>
                 <ci>j</ci>
                </apply>
               </apply>
              </apply>
             </apply>
            </apply>
           </apply>
           <apply>
            <times></times>
            <apply>
             <ci>normal-Ë™</ci>
             <apply>
              <csymbol cd="ambiguous">subscript</csymbol>
              <ci>r</ci>
              <ci>i</ci>
             </apply>
            </apply>
            <apply>
             <divide></divide>
             <apply>
              <partialdiff></partialdiff>
              <apply>
               <ci>normal-Ë™</ci>
               <apply>
                <csymbol cd="ambiguous">subscript</csymbol>
                <ci>r</ci>
                <ci>i</ci>
               </apply>
              </apply>
             </apply>
             <apply>
              <partialdiff></partialdiff>
              <apply>
               <csymbol cd="ambiguous">subscript</csymbol>
               <ci>q</ci>
               <ci>j</ci>
              </apply>
             </apply>
            </apply>
           </apply>
          </apply>
         </apply>
        </apply>
       </apply>
       <ci>Î´</ci>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>q</ci>
        <ci>j</ci>
       </apply>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   m\ddot{\mathbb{r}}\cdot\delta\mathbb{r}=m\sum_{j}\left[\sum_{i}\left[{\mathrm{%
d}\over\mathrm{d}t}\left(\dot{r_{i}}{\partial\dot{r_{i}}\over\partial\dot{q_{j%
}}}\right)-\dot{r_{i}}{\partial\dot{r_{i}}\over\partial q_{j}}\right]\right]%
\delta q_{j}
  </annotation>
 </semantics>
</math>

</p>
<dl>
<dt>Kinetic and potential energy</dt>
</dl>

<p>Now, by changing the order of differentiation, we obtain:</p>

<p>

<math display="block" id="Lagrangian_mechanics:63">
 <semantics>
  <mrow>
   <mrow>
    <mrow>
     <mrow>
      <mi>m</mi>
      <mover accent="true">
       <mi>ğ•£</mi>
       <mo>Â¨</mo>
      </mover>
     </mrow>
     <mo>â‹…</mo>
     <mi>Î´</mi>
    </mrow>
    <mi>ğ•£</mi>
   </mrow>
   <mo>=</mo>
   <mrow>
    <mi>m</mi>
    <mrow>
     <munder>
      <mo largeop="true" movablelimits="false" symmetric="true">âˆ‘</mo>
      <mi>j</mi>
     </munder>
     <mrow>
      <mrow>
       <mo>[</mo>
       <mrow>
        <munder>
         <mo largeop="true" movablelimits="false" symmetric="true">âˆ‘</mo>
         <mi>i</mi>
        </munder>
        <mrow>
         <mo>[</mo>
         <mrow>
          <mrow>
           <mfrac>
            <mi mathvariant="normal">d</mi>
            <mrow>
             <mi mathvariant="normal">d</mi>
             <mi>t</mi>
            </mrow>
           </mfrac>
           <mfrac>
            <mo>âˆ‚</mo>
            <mrow>
             <mo>âˆ‚</mo>
             <mover accent="true">
              <msub>
               <mi>q</mi>
               <mi>j</mi>
              </msub>
              <mo>Ë™</mo>
             </mover>
            </mrow>
           </mfrac>
           <mrow>
            <mo>(</mo>
            <mrow>
             <mfrac>
              <mn>1</mn>
              <mn>2</mn>
             </mfrac>
             <msup>
              <mover accent="true">
               <msub>
                <mi>r</mi>
                <mi>i</mi>
               </msub>
               <mo>Ë™</mo>
              </mover>
              <mn>2</mn>
             </msup>
            </mrow>
            <mo>)</mo>
           </mrow>
          </mrow>
          <mo>-</mo>
          <mrow>
           <mfrac>
            <mo>âˆ‚</mo>
            <mrow>
             <mo>âˆ‚</mo>
             <msub>
              <mi>q</mi>
              <mi>j</mi>
             </msub>
            </mrow>
           </mfrac>
           <mrow>
            <mo>(</mo>
            <mrow>
             <mfrac>
              <mn>1</mn>
              <mn>2</mn>
             </mfrac>
             <msup>
              <mover accent="true">
               <msub>
                <mi>r</mi>
                <mi>i</mi>
               </msub>
               <mo>Ë™</mo>
              </mover>
              <mn>2</mn>
             </msup>
            </mrow>
            <mo>)</mo>
           </mrow>
          </mrow>
         </mrow>
         <mo>]</mo>
        </mrow>
       </mrow>
       <mo>]</mo>
      </mrow>
      <mi>Î´</mi>
      <msub>
       <mi>q</mi>
       <mi>j</mi>
      </msub>
     </mrow>
    </mrow>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <times></times>
     <apply>
      <ci>normal-â‹…</ci>
      <apply>
       <times></times>
       <ci>m</ci>
       <apply>
        <ci>normal-Â¨</ci>
        <ci>ğ•£</ci>
       </apply>
      </apply>
      <ci>Î´</ci>
     </apply>
     <ci>ğ•£</ci>
    </apply>
    <apply>
     <times></times>
     <ci>m</ci>
     <apply>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <sum></sum>
       <ci>j</ci>
      </apply>
      <apply>
       <times></times>
       <apply>
        <csymbol cd="latexml">delimited-[]</csymbol>
        <apply>
         <apply>
          <csymbol cd="ambiguous">subscript</csymbol>
          <sum></sum>
          <ci>i</ci>
         </apply>
         <apply>
          <csymbol cd="latexml">delimited-[]</csymbol>
          <apply>
           <minus></minus>
           <apply>
            <times></times>
            <apply>
             <divide></divide>
             <ci>normal-d</ci>
             <apply>
              <times></times>
              <ci>normal-d</ci>
              <ci>t</ci>
             </apply>
            </apply>
            <apply>
             <divide></divide>
             <partialdiff></partialdiff>
             <apply>
              <partialdiff></partialdiff>
              <apply>
               <ci>normal-Ë™</ci>
               <apply>
                <csymbol cd="ambiguous">subscript</csymbol>
                <ci>q</ci>
                <ci>j</ci>
               </apply>
              </apply>
             </apply>
            </apply>
            <apply>
             <times></times>
             <apply>
              <divide></divide>
              <cn type="integer">1</cn>
              <cn type="integer">2</cn>
             </apply>
             <apply>
              <csymbol cd="ambiguous">superscript</csymbol>
              <apply>
               <ci>normal-Ë™</ci>
               <apply>
                <csymbol cd="ambiguous">subscript</csymbol>
                <ci>r</ci>
                <ci>i</ci>
               </apply>
              </apply>
              <cn type="integer">2</cn>
             </apply>
            </apply>
           </apply>
           <apply>
            <times></times>
            <apply>
             <divide></divide>
             <partialdiff></partialdiff>
             <apply>
              <partialdiff></partialdiff>
              <apply>
               <csymbol cd="ambiguous">subscript</csymbol>
               <ci>q</ci>
               <ci>j</ci>
              </apply>
             </apply>
            </apply>
            <apply>
             <times></times>
             <apply>
              <divide></divide>
              <cn type="integer">1</cn>
              <cn type="integer">2</cn>
             </apply>
             <apply>
              <csymbol cd="ambiguous">superscript</csymbol>
              <apply>
               <ci>normal-Ë™</ci>
               <apply>
                <csymbol cd="ambiguous">subscript</csymbol>
                <ci>r</ci>
                <ci>i</ci>
               </apply>
              </apply>
              <cn type="integer">2</cn>
             </apply>
            </apply>
           </apply>
          </apply>
         </apply>
        </apply>
       </apply>
       <ci>Î´</ci>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>q</ci>
        <ci>j</ci>
       </apply>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   m\ddot{\mathbb{r}}\cdot\delta\mathbb{r}=m\sum_{j}\left[\sum_{i}\left[{\mathrm{%
d}\over\mathrm{d}t}{\partial\over\partial\dot{q_{j}}}\left(\frac{1}{2}\dot{r_{%
i}}^{2}\right)-{\partial\over\partial q_{j}}\left(\frac{1}{2}\dot{r_{i}}^{2}%
\right)\right]\right]\delta q_{j}
  </annotation>
 </semantics>
</math>

 Finally, we change the order of summation:</p>

<p>

<math display="block" id="Lagrangian_mechanics:64">
 <semantics>
  <mrow>
   <mrow>
    <mrow>
     <mrow>
      <mi>m</mi>
      <mover accent="true">
       <mi>ğ•£</mi>
       <mo>Â¨</mo>
      </mover>
     </mrow>
     <mo>â‹…</mo>
     <mi>Î´</mi>
    </mrow>
    <mi>ğ•£</mi>
   </mrow>
   <mo>=</mo>
   <mrow>
    <munder>
     <mo largeop="true" movablelimits="false" symmetric="true">âˆ‘</mo>
     <mi>j</mi>
    </munder>
    <mrow>
     <mrow>
      <mo>[</mo>
      <mrow>
       <mrow>
        <mfrac>
         <mi mathvariant="normal">d</mi>
         <mrow>
          <mi mathvariant="normal">d</mi>
          <mi>t</mi>
         </mrow>
        </mfrac>
        <mfrac>
         <mo>âˆ‚</mo>
         <mrow>
          <mo>âˆ‚</mo>
          <mover accent="true">
           <msub>
            <mi>q</mi>
            <mi>j</mi>
           </msub>
           <mo>Ë™</mo>
          </mover>
         </mrow>
        </mfrac>
        <mrow>
         <mo>(</mo>
         <mrow>
          <munder>
           <mo largeop="true" movablelimits="false" symmetric="true">âˆ‘</mo>
           <mi>i</mi>
          </munder>
          <mrow>
           <mfrac>
            <mn>1</mn>
            <mn>2</mn>
           </mfrac>
           <mi>m</mi>
           <msup>
            <mover accent="true">
             <msub>
              <mi>r</mi>
              <mi>i</mi>
             </msub>
             <mo>Ë™</mo>
            </mover>
            <mn>2</mn>
           </msup>
          </mrow>
         </mrow>
         <mo>)</mo>
        </mrow>
       </mrow>
       <mo>-</mo>
       <mrow>
        <mfrac>
         <mo>âˆ‚</mo>
         <mrow>
          <mo>âˆ‚</mo>
          <msub>
           <mi>q</mi>
           <mi>j</mi>
          </msub>
         </mrow>
        </mfrac>
        <mrow>
         <mo>(</mo>
         <mrow>
          <munder>
           <mo largeop="true" movablelimits="false" symmetric="true">âˆ‘</mo>
           <mi>i</mi>
          </munder>
          <mrow>
           <mfrac>
            <mn>1</mn>
            <mn>2</mn>
           </mfrac>
           <mi>m</mi>
           <msup>
            <mover accent="true">
             <msub>
              <mi>r</mi>
              <mi>i</mi>
             </msub>
             <mo>Ë™</mo>
            </mover>
            <mn>2</mn>
           </msup>
          </mrow>
         </mrow>
         <mo>)</mo>
        </mrow>
       </mrow>
      </mrow>
      <mo>]</mo>
     </mrow>
     <mi>Î´</mi>
     <msub>
      <mi>q</mi>
      <mi>j</mi>
     </msub>
    </mrow>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <times></times>
     <apply>
      <ci>normal-â‹…</ci>
      <apply>
       <times></times>
       <ci>m</ci>
       <apply>
        <ci>normal-Â¨</ci>
        <ci>ğ•£</ci>
       </apply>
      </apply>
      <ci>Î´</ci>
     </apply>
     <ci>ğ•£</ci>
    </apply>
    <apply>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <sum></sum>
      <ci>j</ci>
     </apply>
     <apply>
      <times></times>
      <apply>
       <csymbol cd="latexml">delimited-[]</csymbol>
       <apply>
        <minus></minus>
        <apply>
         <times></times>
         <apply>
          <divide></divide>
          <ci>normal-d</ci>
          <apply>
           <times></times>
           <ci>normal-d</ci>
           <ci>t</ci>
          </apply>
         </apply>
         <apply>
          <divide></divide>
          <partialdiff></partialdiff>
          <apply>
           <partialdiff></partialdiff>
           <apply>
            <ci>normal-Ë™</ci>
            <apply>
             <csymbol cd="ambiguous">subscript</csymbol>
             <ci>q</ci>
             <ci>j</ci>
            </apply>
           </apply>
          </apply>
         </apply>
         <apply>
          <apply>
           <csymbol cd="ambiguous">subscript</csymbol>
           <sum></sum>
           <ci>i</ci>
          </apply>
          <apply>
           <times></times>
           <apply>
            <divide></divide>
            <cn type="integer">1</cn>
            <cn type="integer">2</cn>
           </apply>
           <ci>m</ci>
           <apply>
            <csymbol cd="ambiguous">superscript</csymbol>
            <apply>
             <ci>normal-Ë™</ci>
             <apply>
              <csymbol cd="ambiguous">subscript</csymbol>
              <ci>r</ci>
              <ci>i</ci>
             </apply>
            </apply>
            <cn type="integer">2</cn>
           </apply>
          </apply>
         </apply>
        </apply>
        <apply>
         <times></times>
         <apply>
          <divide></divide>
          <partialdiff></partialdiff>
          <apply>
           <partialdiff></partialdiff>
           <apply>
            <csymbol cd="ambiguous">subscript</csymbol>
            <ci>q</ci>
            <ci>j</ci>
           </apply>
          </apply>
         </apply>
         <apply>
          <apply>
           <csymbol cd="ambiguous">subscript</csymbol>
           <sum></sum>
           <ci>i</ci>
          </apply>
          <apply>
           <times></times>
           <apply>
            <divide></divide>
            <cn type="integer">1</cn>
            <cn type="integer">2</cn>
           </apply>
           <ci>m</ci>
           <apply>
            <csymbol cd="ambiguous">superscript</csymbol>
            <apply>
             <ci>normal-Ë™</ci>
             <apply>
              <csymbol cd="ambiguous">subscript</csymbol>
              <ci>r</ci>
              <ci>i</ci>
             </apply>
            </apply>
            <cn type="integer">2</cn>
           </apply>
          </apply>
         </apply>
        </apply>
       </apply>
      </apply>
      <ci>Î´</ci>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>q</ci>
       <ci>j</ci>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   m\ddot{\mathbb{r}}\cdot\delta\mathbb{r}=\sum_{j}\left[{\mathrm{d}\over\mathrm{%
d}t}{\partial\over\partial\dot{q_{j}}}\left(\sum_{i}\frac{1}{2}m\dot{r_{i}}^{2%
}\right)-{\partial\over\partial q_{j}}\left(\sum_{i}\frac{1}{2}m\dot{r_{i}}^{2%
}\right)\right]\delta q_{j}
  </annotation>
 </semantics>
</math>

 Which is equivalent to:</p>

<p>

<math display="block" id="Lagrangian_mechanics:65">
 <semantics>
  <mrow>
   <mrow>
    <mrow>
     <mrow>
      <mi>m</mi>
      <mover accent="true">
       <mi>ğ•£</mi>
       <mo>Â¨</mo>
      </mover>
     </mrow>
     <mo>â‹…</mo>
     <mi>Î´</mi>
    </mrow>
    <mi>ğ•£</mi>
   </mrow>
   <mo>=</mo>
   <mrow>
    <munder>
     <mo largeop="true" movablelimits="false" symmetric="true">âˆ‘</mo>
     <mi>i</mi>
    </munder>
    <mrow>
     <mrow>
      <mo>[</mo>
      <mrow>
       <mrow>
        <mfrac>
         <mi mathvariant="normal">d</mi>
         <mrow>
          <mi mathvariant="normal">d</mi>
          <mi>t</mi>
         </mrow>
        </mfrac>
        <mfrac>
         <mrow>
          <mo>âˆ‚</mo>
          <mi>T</mi>
         </mrow>
         <mrow>
          <mo>âˆ‚</mo>
          <mover accent="true">
           <msub>
            <mi>q</mi>
            <mi>i</mi>
           </msub>
           <mo>Ë™</mo>
          </mover>
         </mrow>
        </mfrac>
       </mrow>
       <mo>-</mo>
       <mfrac>
        <mrow>
         <mo>âˆ‚</mo>
         <mi>T</mi>
        </mrow>
        <mrow>
         <mo>âˆ‚</mo>
         <msub>
          <mi>q</mi>
          <mi>i</mi>
         </msub>
        </mrow>
       </mfrac>
      </mrow>
      <mo>]</mo>
     </mrow>
     <mi>Î´</mi>
     <msub>
      <mi>q</mi>
      <mi>i</mi>
     </msub>
    </mrow>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <times></times>
     <apply>
      <ci>normal-â‹…</ci>
      <apply>
       <times></times>
       <ci>m</ci>
       <apply>
        <ci>normal-Â¨</ci>
        <ci>ğ•£</ci>
       </apply>
      </apply>
      <ci>Î´</ci>
     </apply>
     <ci>ğ•£</ci>
    </apply>
    <apply>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <sum></sum>
      <ci>i</ci>
     </apply>
     <apply>
      <times></times>
      <apply>
       <csymbol cd="latexml">delimited-[]</csymbol>
       <apply>
        <minus></minus>
        <apply>
         <times></times>
         <apply>
          <divide></divide>
          <ci>normal-d</ci>
          <apply>
           <times></times>
           <ci>normal-d</ci>
           <ci>t</ci>
          </apply>
         </apply>
         <apply>
          <divide></divide>
          <apply>
           <partialdiff></partialdiff>
           <ci>T</ci>
          </apply>
          <apply>
           <partialdiff></partialdiff>
           <apply>
            <ci>normal-Ë™</ci>
            <apply>
             <csymbol cd="ambiguous">subscript</csymbol>
             <ci>q</ci>
             <ci>i</ci>
            </apply>
           </apply>
          </apply>
         </apply>
        </apply>
        <apply>
         <divide></divide>
         <apply>
          <partialdiff></partialdiff>
          <ci>T</ci>
         </apply>
         <apply>
          <partialdiff></partialdiff>
          <apply>
           <csymbol cd="ambiguous">subscript</csymbol>
           <ci>q</ci>
           <ci>i</ci>
          </apply>
         </apply>
        </apply>
       </apply>
      </apply>
      <ci>Î´</ci>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>q</ci>
       <ci>i</ci>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   m\ddot{\mathbb{r}}\cdot\delta\mathbb{r}=\sum_{i}\left[{\mathrm{d}\over\mathrm{%
d}t}{\partial T\over\partial\dot{q_{i}}}-{\partial T\over\partial q_{i}}\right%
]\delta q_{i}
  </annotation>
 </semantics>
</math>

 where <em>T</em> is total kinetic energy of the system.</p>
<dl>
<dt>Applying D'Alembert's principle</dt>
</dl>

<p>The equation for the work done becomes</p>

<p>

<math display="block" id="Lagrangian_mechanics:66">
 <semantics>
  <mrow>
   <mrow>
    <mrow>
     <mrow>
      <mrow>
       <mi>m</mi>
       <mover accent="true">
        <mi>ğ«</mi>
        <mo>Â¨</mo>
       </mover>
      </mrow>
      <mo>â‹…</mo>
      <mi>Î´</mi>
     </mrow>
     <mi>ğ«</mi>
    </mrow>
    <mo>-</mo>
    <mrow>
     <mrow>
      <mi>ğ…</mi>
      <mo>â‹…</mo>
      <mi>Î´</mi>
     </mrow>
     <mi>ğ«</mi>
    </mrow>
   </mrow>
   <mo>=</mo>
   <mrow>
    <munder>
     <mo largeop="true" movablelimits="false" symmetric="true">âˆ‘</mo>
     <mi>i</mi>
    </munder>
    <mrow>
     <mrow>
      <mo>[</mo>
      <mrow>
       <mrow>
        <mfrac>
         <mi mathvariant="normal">d</mi>
         <mrow>
          <mi mathvariant="normal">d</mi>
          <mi>t</mi>
         </mrow>
        </mfrac>
        <mfrac>
         <mrow>
          <mo>âˆ‚</mo>
          <mi>T</mi>
         </mrow>
         <mrow>
          <mo>âˆ‚</mo>
          <mover accent="true">
           <msub>
            <mi>q</mi>
            <mi>i</mi>
           </msub>
           <mo>Ë™</mo>
          </mover>
         </mrow>
        </mfrac>
       </mrow>
       <mo>-</mo>
       <mfrac>
        <mrow>
         <mo>âˆ‚</mo>
         <mrow>
          <mo stretchy="false">(</mo>
          <mrow>
           <mi>T</mi>
           <mo>-</mo>
           <mi>V</mi>
          </mrow>
          <mo stretchy="false">)</mo>
         </mrow>
        </mrow>
        <mrow>
         <mo>âˆ‚</mo>
         <msub>
          <mi>q</mi>
          <mi>i</mi>
         </msub>
        </mrow>
       </mfrac>
      </mrow>
      <mo>]</mo>
     </mrow>
     <mi>Î´</mi>
     <msub>
      <mi>q</mi>
      <mi>i</mi>
     </msub>
    </mrow>
   </mrow>
   <mo>=</mo>
   <mn>0.</mn>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <and></and>
    <apply>
     <eq></eq>
     <apply>
      <minus></minus>
      <apply>
       <times></times>
       <apply>
        <ci>normal-â‹…</ci>
        <apply>
         <times></times>
         <ci>m</ci>
         <apply>
          <ci>normal-Â¨</ci>
          <ci>ğ«</ci>
         </apply>
        </apply>
        <ci>Î´</ci>
       </apply>
       <ci>ğ«</ci>
      </apply>
      <apply>
       <times></times>
       <apply>
        <ci>normal-â‹…</ci>
        <ci>ğ…</ci>
        <ci>Î´</ci>
       </apply>
       <ci>ğ«</ci>
      </apply>
     </apply>
     <apply>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <sum></sum>
       <ci>i</ci>
      </apply>
      <apply>
       <times></times>
       <apply>
        <csymbol cd="latexml">delimited-[]</csymbol>
        <apply>
         <minus></minus>
         <apply>
          <times></times>
          <apply>
           <divide></divide>
           <ci>normal-d</ci>
           <apply>
            <times></times>
            <ci>normal-d</ci>
            <ci>t</ci>
           </apply>
          </apply>
          <apply>
           <divide></divide>
           <apply>
            <partialdiff></partialdiff>
            <ci>T</ci>
           </apply>
           <apply>
            <partialdiff></partialdiff>
            <apply>
             <ci>normal-Ë™</ci>
             <apply>
              <csymbol cd="ambiguous">subscript</csymbol>
              <ci>q</ci>
              <ci>i</ci>
             </apply>
            </apply>
           </apply>
          </apply>
         </apply>
         <apply>
          <divide></divide>
          <apply>
           <partialdiff></partialdiff>
           <apply>
            <minus></minus>
            <ci>T</ci>
            <ci>V</ci>
           </apply>
          </apply>
          <apply>
           <partialdiff></partialdiff>
           <apply>
            <csymbol cd="ambiguous">subscript</csymbol>
            <ci>q</ci>
            <ci>i</ci>
           </apply>
          </apply>
         </apply>
        </apply>
       </apply>
       <ci>Î´</ci>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>q</ci>
        <ci>i</ci>
       </apply>
      </apply>
     </apply>
    </apply>
    <apply>
     <eq></eq>
     <share href="#.cmml">
     </share>
     <cn type="float">0.</cn>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   m\mathbf{\ddot{r}}\cdot\delta\mathbf{r}-\mathbf{F}\cdot\delta\mathbf{r}=\sum_{%
i}\left[{\mathrm{d}\over\mathrm{d}t}{\partial{T}\over\partial{\dot{q_{i}}}}-{%
\partial{(T-V)}\over\partial q_{i}}\right]\delta q_{i}=0.
  </annotation>
 </semantics>
</math>

 However, this must be true for <em>any</em> set of generalized displacements <em>Î´q<sub>i</sub></em>, so we must have</p>

<p>

<math display="block" id="Lagrangian_mechanics:67">
 <semantics>
  <mrow>
   <mrow>
    <mo>[</mo>
    <mrow>
     <mrow>
      <mfrac>
       <mi mathvariant="normal">d</mi>
       <mrow>
        <mi mathvariant="normal">d</mi>
        <mi>t</mi>
       </mrow>
      </mfrac>
      <mfrac>
       <mrow>
        <mo>âˆ‚</mo>
        <mi>T</mi>
       </mrow>
       <mrow>
        <mo>âˆ‚</mo>
        <mover accent="true">
         <msub>
          <mi>q</mi>
          <mi>i</mi>
         </msub>
         <mo>Ë™</mo>
        </mover>
       </mrow>
      </mfrac>
     </mrow>
     <mo>-</mo>
     <mfrac>
      <mrow>
       <mo>âˆ‚</mo>
       <mrow>
        <mo stretchy="false">(</mo>
        <mrow>
         <mi>T</mi>
         <mo>-</mo>
         <mi>V</mi>
        </mrow>
        <mo stretchy="false">)</mo>
       </mrow>
      </mrow>
      <mrow>
       <mo>âˆ‚</mo>
       <msub>
        <mi>q</mi>
        <mi>i</mi>
       </msub>
      </mrow>
     </mfrac>
    </mrow>
    <mo>]</mo>
   </mrow>
   <mo>=</mo>
   <mn>0</mn>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <csymbol cd="latexml">delimited-[]</csymbol>
     <apply>
      <minus></minus>
      <apply>
       <times></times>
       <apply>
        <divide></divide>
        <ci>normal-d</ci>
        <apply>
         <times></times>
         <ci>normal-d</ci>
         <ci>t</ci>
        </apply>
       </apply>
       <apply>
        <divide></divide>
        <apply>
         <partialdiff></partialdiff>
         <ci>T</ci>
        </apply>
        <apply>
         <partialdiff></partialdiff>
         <apply>
          <ci>normal-Ë™</ci>
          <apply>
           <csymbol cd="ambiguous">subscript</csymbol>
           <ci>q</ci>
           <ci>i</ci>
          </apply>
         </apply>
        </apply>
       </apply>
      </apply>
      <apply>
       <divide></divide>
       <apply>
        <partialdiff></partialdiff>
        <apply>
         <minus></minus>
         <ci>T</ci>
         <ci>V</ci>
        </apply>
       </apply>
       <apply>
        <partialdiff></partialdiff>
        <apply>
         <csymbol cd="ambiguous">subscript</csymbol>
         <ci>q</ci>
         <ci>i</ci>
        </apply>
       </apply>
      </apply>
     </apply>
    </apply>
    <cn type="integer">0</cn>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \left[{\mathrm{d}\over\mathrm{d}t}{\partial{T}\over\partial{\dot{q_{i}}}}-{%
\partial{(T-V)}\over\partial q_{i}}\right]=0
  </annotation>
 </semantics>
</math>

 for <em>each</em> generalized coordinate <em>Î´q<sub>i</sub></em>. We can further simplify this by noting that <em>V</em> is a function solely of <strong>r</strong> and <em>t</em>, and <strong>r</strong> is a function of the generalized coordinates and <em>t</em>. Therefore, <em>V</em> is independent of the generalized velocities:</p>

<p>

<math display="block" id="Lagrangian_mechanics:68">
 <semantics>
  <mrow>
   <mrow>
    <mfrac>
     <mi mathvariant="normal">d</mi>
     <mrow>
      <mi mathvariant="normal">d</mi>
      <mi>t</mi>
     </mrow>
    </mfrac>
    <mfrac>
     <mrow>
      <mo>âˆ‚</mo>
      <mi>V</mi>
     </mrow>
     <mrow>
      <mo>âˆ‚</mo>
      <mover accent="true">
       <msub>
        <mi>q</mi>
        <mi>i</mi>
       </msub>
       <mo>Ë™</mo>
      </mover>
     </mrow>
    </mfrac>
   </mrow>
   <mo>=</mo>
   <mn>0.</mn>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <times></times>
     <apply>
      <divide></divide>
      <ci>normal-d</ci>
      <apply>
       <times></times>
       <ci>normal-d</ci>
       <ci>t</ci>
      </apply>
     </apply>
     <apply>
      <divide></divide>
      <apply>
       <partialdiff></partialdiff>
       <ci>V</ci>
      </apply>
      <apply>
       <partialdiff></partialdiff>
       <apply>
        <ci>normal-Ë™</ci>
        <apply>
         <csymbol cd="ambiguous">subscript</csymbol>
         <ci>q</ci>
         <ci>i</ci>
        </apply>
       </apply>
      </apply>
     </apply>
    </apply>
    <cn type="float">0.</cn>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   {\mathrm{d}\over\mathrm{d}t}{\partial{V}\over\partial{\dot{q_{i}}}}=0.
  </annotation>
 </semantics>
</math>

 Inserting this into the preceding equation and substituting <em>L</em> =Â <em>T</em>Â âˆ’Â <em>V</em>, called the Lagrangian, we obtain Lagrange's equations:</p>

<p>

<math display="block" id="Lagrangian_mechanics:69">
 <semantics>
  <mrow>
   <mrow>
    <mfrac>
     <mrow>
      <mo>âˆ‚</mo>
      <mi>L</mi>
     </mrow>
     <mrow>
      <mo>âˆ‚</mo>
      <msub>
       <mi>q</mi>
       <mi>i</mi>
      </msub>
     </mrow>
    </mfrac>
    <mo>=</mo>
    <mrow>
     <mfrac>
      <mi mathvariant="normal">d</mi>
      <mrow>
       <mi mathvariant="normal">d</mi>
       <mi>t</mi>
      </mrow>
     </mfrac>
     <mfrac>
      <mrow>
       <mo>âˆ‚</mo>
       <mi>L</mi>
      </mrow>
      <mrow>
       <mo>âˆ‚</mo>
       <mover accent="true">
        <msub>
         <mi>q</mi>
         <mi>i</mi>
        </msub>
        <mo>Ë™</mo>
       </mover>
      </mrow>
     </mfrac>
    </mrow>
   </mrow>
   <mo>.</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <divide></divide>
     <apply>
      <partialdiff></partialdiff>
      <ci>L</ci>
     </apply>
     <apply>
      <partialdiff></partialdiff>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>q</ci>
       <ci>i</ci>
      </apply>
     </apply>
    </apply>
    <apply>
     <times></times>
     <apply>
      <divide></divide>
      <ci>normal-d</ci>
      <apply>
       <times></times>
       <ci>normal-d</ci>
       <ci>t</ci>
      </apply>
     </apply>
     <apply>
      <divide></divide>
      <apply>
       <partialdiff></partialdiff>
       <ci>L</ci>
      </apply>
      <apply>
       <partialdiff></partialdiff>
       <apply>
        <ci>normal-Ë™</ci>
        <apply>
         <csymbol cd="ambiguous">subscript</csymbol>
         <ci>q</ci>
         <ci>i</ci>
        </apply>
       </apply>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   {\partial{L}\over\partial q_{i}}={\mathrm{d}\over\mathrm{d}t}{\partial{L}\over%
\partial{\dot{q_{i}}}}.
  </annotation>
 </semantics>
</math>

</p></td>
</tr>
</tbody>
</table>
</dd>
</dl>

<p>When <em>q</em><sub><em>i</em></sub> = <em>r</em><sub><em>i</em></sub> (i.e. the generalized coordinates are simply the Cartesian coordinates), it is straightforward to check that Lagrange's equations reduce to Newton's second law.</p>
<h2 id="advantages-of-the-lagrangian-formulation">Advantages of the Lagrangian formulation</h2>
<h3 id="importance">Importance</h3>

<p>The Lagrangian formulation of mechanics is important not just for its broad applications, but also for its role in advancing deep understanding of <a class="uri" href="physics" title="wikilink">physics</a>. Although Lagrange only sought to describe <a href="classical_mechanics" title="wikilink">classical mechanics</a>, the <em><a href="action_principle" title="wikilink">action principle</a></em> that is used to derive the Lagrange equation was later recognized to be applicable to <a href="quantum_mechanics" title="wikilink">quantum mechanics</a> as well.</p>

<p>Physical <a href="action_(physics)" title="wikilink">action</a> and quantum-mechanical <a href="phase_(waves)" title="wikilink">phase</a> are related via <a href="Planck's_constant" title="wikilink">Planck's constant</a>, and the <a href="principle_of_stationary_action" title="wikilink">principle of stationary action</a> can be understood in terms of <a href="constructive_interference" title="wikilink">constructive interference</a> of <a href="wave_function" title="wikilink">wave functions</a>.</p>

<p>The same principle, and the Lagrangian formalism, are tied closely to <a href="Noether's_theorem" title="wikilink">Noether's theorem</a>, which connects physical <a href="conserved_quantity" title="wikilink">conserved quantities</a> to continuous <a href="symmetry" title="wikilink">symmetries</a> of a physical system.</p>

<p>Lagrangian mechanics and Noether's theorem together yield a natural formalism for <a href="first_quantization" title="wikilink">first quantization</a> by including <a class="uri" href="commutators" title="wikilink">commutators</a> between certain terms of the Lagrangian equations of motion for a physical system.</p>
<h3 id="advantages-over-other-methods">Advantages over other methods</h3>
<ul>
<li>The formulation is not tied to any one coordinate system â€“ rather, any convenient variables may be used to describe the system; these variables are called "<a href="generalized_coordinates" title="wikilink">generalized coordinates</a>" <em>q<sub>i</sub></em> and may be any quantitative attributes of the system (for example, strength of the <a href="magnetic_field" title="wikilink">magnetic field</a> at a particular location; <a class="uri" href="angle" title="wikilink">angle</a> of a pulley; position of a particle in space; or degree of excitation of a particular <a class="uri" href="eigenmode" title="wikilink">eigenmode</a> in a complex system) which are functions of the <a href="independent_variable" title="wikilink">independent variable</a>(s). This trait makes it easy to incorporate constraints into a theory by defining coordinates that only describe states of the system that satisfy the constraints.</li>
</ul>
<ul>
<li>If the Lagrangian is invariant under a symmetry, then the resulting equations of motion are also invariant under that symmetry. This characteristic is very helpful in showing that theories are consistent with either <a href="special_relativity" title="wikilink">special relativity</a> or <a href="general_relativity" title="wikilink">general relativity</a>.</li>
</ul>
<h3 id="cyclic-coordinates-and-conservation-laws">Cyclic coordinates and conservation laws</h3>

<p>An important property of the Lagrangian is that conservation laws can easily be read off from it. For example, if the Lagrangian 

<math display="inline" id="Lagrangian_mechanics:70">
 <semantics>
  <mi>L</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>L</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \scriptstyle L
  </annotation>
 </semantics>
</math>

 does <em>not</em> depend on 

<math display="inline" id="Lagrangian_mechanics:71">
 <semantics>
  <msub>
   <mi>q</mi>
   <mi>i</mi>
  </msub>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <csymbol cd="ambiguous">subscript</csymbol>
    <ci>q</ci>
    <ci>i</ci>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \scriptstyle q_{i}
  </annotation>
 </semantics>
</math>

 itself (

<math display="inline" id="Lagrangian_mechanics:72">
 <semantics>
  <msub>
   <mi>q</mi>
   <mi>i</mi>
  </msub>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <csymbol cd="ambiguous">subscript</csymbol>
    <ci>q</ci>
    <ci>i</ci>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \scriptstyle q_{i}
  </annotation>
 </semantics>
</math>

 representing a set of <a href="generalized_coordinates" title="wikilink">generalized coordinates</a>), then the <em>generalized momentum</em> (

<math display="inline" id="Lagrangian_mechanics:73">
 <semantics>
  <msub>
   <mi>p</mi>
   <mi>i</mi>
  </msub>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <csymbol cd="ambiguous">subscript</csymbol>
    <ci>p</ci>
    <ci>i</ci>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \scriptstyle p_{i}
  </annotation>
 </semantics>
</math>

), given by:</p>

<p>

<math display="block" id="Lagrangian_mechanics:74">
 <semantics>
  <mrow>
   <mrow>
    <msub>
     <mi>p</mi>
     <mi>i</mi>
    </msub>
    <mo>=</mo>
    <mfrac>
     <mrow>
      <mo>âˆ‚</mo>
      <mi>L</mi>
     </mrow>
     <mrow>
      <mo>âˆ‚</mo>
      <msub>
       <mover accent="true">
        <mi>q</mi>
        <mo>Ë™</mo>
       </mover>
       <mi>i</mi>
      </msub>
     </mrow>
    </mfrac>
   </mrow>
   <mo>,</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <csymbol cd="ambiguous">subscript</csymbol>
     <ci>p</ci>
     <ci>i</ci>
    </apply>
    <apply>
     <divide></divide>
     <apply>
      <partialdiff></partialdiff>
      <ci>L</ci>
     </apply>
     <apply>
      <partialdiff></partialdiff>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <apply>
        <ci>normal-Ë™</ci>
        <ci>q</ci>
       </apply>
       <ci>i</ci>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   p_{i}=\frac{\partial L}{\partial\dot{q}_{i}},
  </annotation>
 </semantics>
</math>

 is a <em>conserved</em> quantity, because of <a href="Lagrange's_equations" title="wikilink">Lagrange's equations</a>:</p>

<p>

<math display="block" id="Lagrangian_mechanics:75">
 <semantics>
  <mrow>
   <msub>
    <mover accent="true">
     <mi>p</mi>
     <mo>Ë™</mo>
    </mover>
    <mi>i</mi>
   </msub>
   <mo>=</mo>
   <mrow>
    <mfrac>
     <mi>d</mi>
     <mrow>
      <mi>d</mi>
      <mi>t</mi>
     </mrow>
    </mfrac>
    <mfrac>
     <mrow>
      <mo>âˆ‚</mo>
      <mi>L</mi>
     </mrow>
     <mrow>
      <mo>âˆ‚</mo>
      <msub>
       <mover accent="true">
        <mi>q</mi>
        <mo>Ë™</mo>
       </mover>
       <mi>i</mi>
      </msub>
     </mrow>
    </mfrac>
   </mrow>
   <mo>=</mo>
   <mfrac>
    <mrow>
     <mo>âˆ‚</mo>
     <mi>L</mi>
    </mrow>
    <mrow>
     <mo>âˆ‚</mo>
     <msub>
      <mi>q</mi>
      <mi>i</mi>
     </msub>
    </mrow>
   </mfrac>
   <mo>=</mo>
   <mn>0.</mn>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <and></and>
    <apply>
     <eq></eq>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <apply>
       <ci>normal-Ë™</ci>
       <ci>p</ci>
      </apply>
      <ci>i</ci>
     </apply>
     <apply>
      <times></times>
      <apply>
       <divide></divide>
       <ci>d</ci>
       <apply>
        <times></times>
        <ci>d</ci>
        <ci>t</ci>
       </apply>
      </apply>
      <apply>
       <divide></divide>
       <apply>
        <partialdiff></partialdiff>
        <ci>L</ci>
       </apply>
       <apply>
        <partialdiff></partialdiff>
        <apply>
         <csymbol cd="ambiguous">subscript</csymbol>
         <apply>
          <ci>normal-Ë™</ci>
          <ci>q</ci>
         </apply>
         <ci>i</ci>
        </apply>
       </apply>
      </apply>
     </apply>
    </apply>
    <apply>
     <eq></eq>
     <share href="#.cmml">
     </share>
     <apply>
      <divide></divide>
      <apply>
       <partialdiff></partialdiff>
       <ci>L</ci>
      </apply>
      <apply>
       <partialdiff></partialdiff>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>q</ci>
        <ci>i</ci>
       </apply>
      </apply>
     </apply>
    </apply>
    <apply>
     <eq></eq>
     <share href="#.cmml">
     </share>
     <cn type="float">0.</cn>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \dot{p}_{i}=\frac{d}{dt}\frac{\partial L}{\partial\dot{q}_{i}}=\frac{\partial L%
}{\partial q_{i}}=0.
  </annotation>
 </semantics>
</math>

</p>

<p>It doesn't matter if 

<math display="inline" id="Lagrangian_mechanics:76">
 <semantics>
  <mi>L</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>L</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \scriptstyle L
  </annotation>
 </semantics>
</math>

 depends on the <em><a href="time_derivative" title="wikilink">time derivative</a></em> 

<math display="inline" id="Lagrangian_mechanics:77">
 <semantics>
  <msub>
   <mover accent="true">
    <mi>q</mi>
    <mo>Ë™</mo>
   </mover>
   <mi>i</mi>
  </msub>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <csymbol cd="ambiguous">subscript</csymbol>
    <apply>
     <ci>normal-Ë™</ci>
     <ci>q</ci>
    </apply>
    <ci>i</ci>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \scriptstyle\dot{q}_{i}
  </annotation>
 </semantics>
</math>

 of that generalized coordinate, since the Lagrangian independence of the coordinate always makes the above partial derivative zero. This is a special case of <a href="Noether's_theorem" title="wikilink">Noether's theorem</a>. Such coordinates are called "cyclic" or "ignorable".</p>

<p>For example, the conservation of the generalized momentum,</p>

<p>

<math display="block" id="Lagrangian_mechanics:78">
 <semantics>
  <mrow>
   <mrow>
    <msub>
     <mi>p</mi>
     <mn>2</mn>
    </msub>
    <mo>=</mo>
    <mfrac>
     <mrow>
      <mo>âˆ‚</mo>
      <mi>L</mi>
     </mrow>
     <mrow>
      <mo>âˆ‚</mo>
      <msub>
       <mover accent="true">
        <mi>q</mi>
        <mo>Ë™</mo>
       </mover>
       <mn>2</mn>
      </msub>
     </mrow>
    </mfrac>
   </mrow>
   <mo>,</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <csymbol cd="ambiguous">subscript</csymbol>
     <ci>p</ci>
     <cn type="integer">2</cn>
    </apply>
    <apply>
     <divide></divide>
     <apply>
      <partialdiff></partialdiff>
      <ci>L</ci>
     </apply>
     <apply>
      <partialdiff></partialdiff>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <apply>
        <ci>normal-Ë™</ci>
        <ci>q</ci>
       </apply>
       <cn type="integer">2</cn>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   p_{2}=\frac{\partial L}{\partial\dot{q}_{2}},
  </annotation>
 </semantics>
</math>

 say, can be directly seen if the Lagrangian of the system is of the form</p>

<p>

<math display="block" id="Lagrangian_mechanics:79">
 <semantics>
  <mrow>
   <mrow>
    <mi>L</mi>
    <mrow>
     <mo stretchy="false">(</mo>
     <msub>
      <mi>q</mi>
      <mn>1</mn>
     </msub>
     <mo>,</mo>
     <msub>
      <mi>q</mi>
      <mn>3</mn>
     </msub>
     <mo>,</mo>
     <msub>
      <mi>q</mi>
      <mn>4</mn>
     </msub>
     <mo>,</mo>
     <mi mathvariant="normal">â€¦</mi>
     <mo>;</mo>
     <msub>
      <mover accent="true">
       <mi>q</mi>
       <mo>Ë™</mo>
      </mover>
      <mn>1</mn>
     </msub>
     <mo>,</mo>
     <msub>
      <mover accent="true">
       <mi>q</mi>
       <mo>Ë™</mo>
      </mover>
      <mn>2</mn>
     </msub>
     <mo>,</mo>
     <msub>
      <mover accent="true">
       <mi>q</mi>
       <mo>Ë™</mo>
      </mover>
      <mn>3</mn>
     </msub>
     <mo>,</mo>
     <msub>
      <mover accent="true">
       <mi>q</mi>
       <mo>Ë™</mo>
      </mover>
      <mn>4</mn>
     </msub>
     <mo>,</mo>
     <mi mathvariant="normal">â€¦</mi>
     <mo>;</mo>
     <mi>t</mi>
     <mo rspace="4.2pt" stretchy="false">)</mo>
    </mrow>
   </mrow>
   <mo>.</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <times></times>
    <ci>L</ci>
    <vector>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <ci>q</ci>
      <cn type="integer">1</cn>
     </apply>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <ci>q</ci>
      <cn type="integer">3</cn>
     </apply>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <ci>q</ci>
      <cn type="integer">4</cn>
     </apply>
     <ci>normal-â€¦</ci>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <apply>
       <ci>normal-Ë™</ci>
       <ci>q</ci>
      </apply>
      <cn type="integer">1</cn>
     </apply>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <apply>
       <ci>normal-Ë™</ci>
       <ci>q</ci>
      </apply>
      <cn type="integer">2</cn>
     </apply>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <apply>
       <ci>normal-Ë™</ci>
       <ci>q</ci>
      </apply>
      <cn type="integer">3</cn>
     </apply>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <apply>
       <ci>normal-Ë™</ci>
       <ci>q</ci>
      </apply>
      <cn type="integer">4</cn>
     </apply>
     <ci>normal-â€¦</ci>
     <ci>t</ci>
    </vector>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   L(q_{1},q_{3},q_{4},\dots;\dot{q}_{1},\dot{q}_{2},\dot{q}_{3},\dot{q}_{4},%
\dots;t)\,.
  </annotation>
 </semantics>
</math>

</p>

<p>Also, if the time <em>t</em>, does not appear in <em>L</em>, then the <a href="Hamiltonian_mechanics" title="wikilink">Hamiltonian</a>, which is related to the Lagrangian by a <a href="Legendre_transformation" title="wikilink">Legendre transformation</a>, is conserved. This is the energy conservation unless the potential energy depends on velocity, as in <a class="uri" href="electrodynamics" title="wikilink">electrodynamics</a>.<a class="footnoteRef" href="#fn26" id="fnref26"><sup>26</sup></a><a class="footnoteRef" href="#fn27" id="fnref27"><sup>27</sup></a></p>
<h2 id="examples">Examples</h2>

<p>The following examples apply Lagrange's equations of the second kind to mechanical problems.</p>
<h3 id="falling-mass">Falling mass</h3>

<p>Consider a point mass <em>m</em> falling freely from rest. By gravity a force <em>F</em> = <em>mg</em> is exerted on the mass (assuming <em>g</em> constant during the motion). Filling in the force in Newton's law, we find 

<math display="inline" id="Lagrangian_mechanics:80">
 <semantics>
  <mrow>
   <mover accent="true">
    <mi>x</mi>
    <mo>Â¨</mo>
   </mover>
   <mo>=</mo>
   <mi>g</mi>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <ci>normal-Â¨</ci>
     <ci>x</ci>
    </apply>
    <ci>g</ci>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \ddot{x}=g
  </annotation>
 </semantics>
</math>

 from which the solution</p>

<p>

<math display="block" id="Lagrangian_mechanics:81">
 <semantics>
  <mrow>
   <mrow>
    <mi>x</mi>
    <mrow>
     <mo stretchy="false">(</mo>
     <mi>t</mi>
     <mo stretchy="false">)</mo>
    </mrow>
   </mrow>
   <mo>=</mo>
   <mrow>
    <mfrac>
     <mn>1</mn>
     <mn>2</mn>
    </mfrac>
    <mi>g</mi>
    <msup>
     <mi>t</mi>
     <mn>2</mn>
    </msup>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <times></times>
     <ci>x</ci>
     <ci>t</ci>
    </apply>
    <apply>
     <times></times>
     <apply>
      <divide></divide>
      <cn type="integer">1</cn>
      <cn type="integer">2</cn>
     </apply>
     <ci>g</ci>
     <apply>
      <csymbol cd="ambiguous">superscript</csymbol>
      <ci>t</ci>
      <cn type="integer">2</cn>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   x(t)=\frac{1}{2}gt^{2}
  </annotation>
 </semantics>
</math>

 follows (by taking the antiderivative of the antiderivative, and choosing the origin as the starting point). This result can also be derived through the Lagrangian formalism. Take <em>x</em> to be the coordinate, which is <em>0</em> at the starting point. The kinetic energy is <em>T</em> = 

<math display="inline" id="Lagrangian_mechanics:82">
 <semantics>
  <mrow>
   <mn>1</mn>
   <mo>/</mo>
   <mn>2</mn>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <divide></divide>
    <cn type="integer">1</cn>
    <cn type="integer">2</cn>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   {1}/{2}
  </annotation>
 </semantics>
</math>

<em>mv</em><sup>2</sup> and the potential energy is <em>V</em> = âˆ’<em>mgx</em>; hence,</p>

<p>

<math display="block" id="Lagrangian_mechanics:83">
 <semantics>
  <mrow>
   <mrow>
    <mi>L</mi>
    <mo>=</mo>
    <mrow>
     <mi>T</mi>
     <mo>-</mo>
     <mi>V</mi>
    </mrow>
    <mo>=</mo>
    <mrow>
     <mrow>
      <mfrac>
       <mn>1</mn>
       <mn>2</mn>
      </mfrac>
      <mi>m</mi>
      <msup>
       <mover accent="true">
        <mi>x</mi>
        <mo>Ë™</mo>
       </mover>
       <mn>2</mn>
      </msup>
     </mrow>
     <mo>+</mo>
     <mrow>
      <mi>m</mi>
      <mi>g</mi>
      <mi>x</mi>
     </mrow>
    </mrow>
   </mrow>
   <mo>.</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <and></and>
    <apply>
     <eq></eq>
     <ci>L</ci>
     <apply>
      <minus></minus>
      <ci>T</ci>
      <ci>V</ci>
     </apply>
    </apply>
    <apply>
     <eq></eq>
     <share href="#.cmml">
     </share>
     <apply>
      <plus></plus>
      <apply>
       <times></times>
       <apply>
        <divide></divide>
        <cn type="integer">1</cn>
        <cn type="integer">2</cn>
       </apply>
       <ci>m</ci>
       <apply>
        <csymbol cd="ambiguous">superscript</csymbol>
        <apply>
         <ci>normal-Ë™</ci>
         <ci>x</ci>
        </apply>
        <cn type="integer">2</cn>
       </apply>
      </apply>
      <apply>
       <times></times>
       <ci>m</ci>
       <ci>g</ci>
       <ci>x</ci>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   L=T-V=\frac{1}{2}m\dot{x}^{2}+mgx.
  </annotation>
 </semantics>
</math>

 Then</p>

<p>

<math display="block" id="Lagrangian_mechanics:84">
 <semantics>
  <mrow>
   <mrow>
    <mfrac>
     <mrow>
      <mo>âˆ‚</mo>
      <mi>L</mi>
     </mrow>
     <mrow>
      <mo>âˆ‚</mo>
      <mi>x</mi>
     </mrow>
    </mfrac>
    <mo>-</mo>
    <mrow>
     <mfrac>
      <mi mathvariant="normal">d</mi>
      <mrow>
       <mi mathvariant="normal">d</mi>
       <mi>t</mi>
      </mrow>
     </mfrac>
     <mfrac>
      <mrow>
       <mo>âˆ‚</mo>
       <mi>L</mi>
      </mrow>
      <mrow>
       <mo>âˆ‚</mo>
       <mover accent="true">
        <mi>x</mi>
        <mo>Ë™</mo>
       </mover>
      </mrow>
     </mfrac>
    </mrow>
   </mrow>
   <mo>=</mo>
   <mn>0</mn>
   <mo>=</mo>
   <mrow>
    <mrow>
     <mi>m</mi>
     <mi>g</mi>
    </mrow>
    <mo>-</mo>
    <mrow>
     <mi>m</mi>
     <mfrac>
      <mrow>
       <mi mathvariant="normal">d</mi>
       <mover accent="true">
        <mi>x</mi>
        <mo>Ë™</mo>
       </mover>
      </mrow>
      <mrow>
       <mi mathvariant="normal">d</mi>
       <mi>t</mi>
      </mrow>
     </mfrac>
    </mrow>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <and></and>
    <apply>
     <eq></eq>
     <apply>
      <minus></minus>
      <apply>
       <divide></divide>
       <apply>
        <partialdiff></partialdiff>
        <ci>L</ci>
       </apply>
       <apply>
        <partialdiff></partialdiff>
        <ci>x</ci>
       </apply>
      </apply>
      <apply>
       <times></times>
       <apply>
        <divide></divide>
        <ci>normal-d</ci>
        <apply>
         <times></times>
         <ci>normal-d</ci>
         <ci>t</ci>
        </apply>
       </apply>
       <apply>
        <divide></divide>
        <apply>
         <partialdiff></partialdiff>
         <ci>L</ci>
        </apply>
        <apply>
         <partialdiff></partialdiff>
         <apply>
          <ci>normal-Ë™</ci>
          <ci>x</ci>
         </apply>
        </apply>
       </apply>
      </apply>
     </apply>
     <cn type="integer">0</cn>
    </apply>
    <apply>
     <eq></eq>
     <share href="#.cmml">
     </share>
     <apply>
      <minus></minus>
      <apply>
       <times></times>
       <ci>m</ci>
       <ci>g</ci>
      </apply>
      <apply>
       <times></times>
       <ci>m</ci>
       <apply>
        <divide></divide>
        <apply>
         <times></times>
         <ci>normal-d</ci>
         <apply>
          <ci>normal-Ë™</ci>
          <ci>x</ci>
         </apply>
        </apply>
        <apply>
         <times></times>
         <ci>normal-d</ci>
         <ci>t</ci>
        </apply>
       </apply>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \frac{\partial L}{\partial x}-\frac{\mathrm{d}}{\mathrm{d}t}\frac{\partial L}{%
\partial\dot{x}}=0=mg-m\frac{\mathrm{d}\dot{x}}{\mathrm{d}t}
  </annotation>
 </semantics>
</math>

 which can be rewritten as 

<math display="inline" id="Lagrangian_mechanics:85">
 <semantics>
  <mrow>
   <mover accent="true">
    <mi>x</mi>
    <mo>Â¨</mo>
   </mover>
   <mo>=</mo>
   <mi>g</mi>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <ci>normal-Â¨</ci>
     <ci>x</ci>
    </apply>
    <ci>g</ci>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \ddot{x}=g
  </annotation>
 </semantics>
</math>

, yielding the same result as earlier.</p>
<h3 id="harmonic-oscillator">Harmonic oscillator</h3>
<figure><b>(Figure)</b>
<figcaption>A simple harmonic oscillator; a mass <em>m</em> attached to a spring obeying Hooke's law with spring constant <em>k</em>.</figcaption>
</figure>

<p>Consider a spring fixed at one end but free to oscillate on the other in one dimension, with a mass <em>m</em> attached to the free end, neglecting gravity or any damping forces, and the spring obeys <a href="Hooke's_law" title="wikilink">Hooke's law</a> with spring constant <em>k</em>, Let <em>x</em> be the coordinate, a point along the direction of oscillation, chosen to be zero at the equilibrium point, and the mass can oscillate either side. The kinetic and potential energies are</p>

<p>

<math display="block" id="Lagrangian_mechanics:86">
 <semantics>
  <mrow>
   <mrow>
    <mrow>
     <mi>T</mi>
     <mo>=</mo>
     <mrow>
      <mfrac>
       <mn>1</mn>
       <mn>2</mn>
      </mfrac>
      <mi>m</mi>
      <mpadded width="+1.7pt">
       <msup>
        <mover accent="true">
         <mi>x</mi>
         <mo>Ë™</mo>
        </mover>
        <mn>2</mn>
       </msup>
      </mpadded>
     </mrow>
    </mrow>
    <mo rspace="12.5pt">,</mo>
    <mrow>
     <mi>V</mi>
     <mo>=</mo>
     <mrow>
      <mfrac>
       <mn>1</mn>
       <mn>2</mn>
      </mfrac>
      <mi>k</mi>
      <mpadded width="+1.7pt">
       <msup>
        <mi>x</mi>
        <mn>2</mn>
       </msup>
      </mpadded>
     </mrow>
    </mrow>
   </mrow>
   <mo>,</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <csymbol cd="ambiguous">formulae-sequence</csymbol>
    <apply>
     <eq></eq>
     <ci>T</ci>
     <apply>
      <times></times>
      <apply>
       <divide></divide>
       <cn type="integer">1</cn>
       <cn type="integer">2</cn>
      </apply>
      <ci>m</ci>
      <apply>
       <csymbol cd="ambiguous">superscript</csymbol>
       <apply>
        <ci>normal-Ë™</ci>
        <ci>x</ci>
       </apply>
       <cn type="integer">2</cn>
      </apply>
     </apply>
    </apply>
    <apply>
     <eq></eq>
     <ci>V</ci>
     <apply>
      <times></times>
      <apply>
       <divide></divide>
       <cn type="integer">1</cn>
       <cn type="integer">2</cn>
      </apply>
      <ci>k</ci>
      <apply>
       <csymbol cd="ambiguous">superscript</csymbol>
       <ci>x</ci>
       <cn type="integer">2</cn>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   T=\frac{1}{2}m\dot{x}^{2}\,,\quad V=\frac{1}{2}kx^{2}\,,
  </annotation>
 </semantics>
</math>

</p>

<p>hence the Lagrangian is</p>

<p>

<math display="block" id="Lagrangian_mechanics:87">
 <semantics>
  <mrow>
   <mi>L</mi>
   <mo>=</mo>
   <mrow>
    <mi>T</mi>
    <mo>-</mo>
    <mi>V</mi>
   </mrow>
   <mo>=</mo>
   <mrow>
    <mrow>
     <mfrac>
      <mn>1</mn>
      <mn>2</mn>
     </mfrac>
     <mi>m</mi>
     <msup>
      <mover accent="true">
       <mi>x</mi>
       <mo>Ë™</mo>
      </mover>
      <mn>2</mn>
     </msup>
    </mrow>
    <mo>-</mo>
    <mrow>
     <mfrac>
      <mn>1</mn>
      <mn>2</mn>
     </mfrac>
     <mi>k</mi>
     <msup>
      <mi>x</mi>
      <mn>2</mn>
     </msup>
    </mrow>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <and></and>
    <apply>
     <eq></eq>
     <ci>L</ci>
     <apply>
      <minus></minus>
      <ci>T</ci>
      <ci>V</ci>
     </apply>
    </apply>
    <apply>
     <eq></eq>
     <share href="#.cmml">
     </share>
     <apply>
      <minus></minus>
      <apply>
       <times></times>
       <apply>
        <divide></divide>
        <cn type="integer">1</cn>
        <cn type="integer">2</cn>
       </apply>
       <ci>m</ci>
       <apply>
        <csymbol cd="ambiguous">superscript</csymbol>
        <apply>
         <ci>normal-Ë™</ci>
         <ci>x</ci>
        </apply>
        <cn type="integer">2</cn>
       </apply>
      </apply>
      <apply>
       <times></times>
       <apply>
        <divide></divide>
        <cn type="integer">1</cn>
        <cn type="integer">2</cn>
       </apply>
       <ci>k</ci>
       <apply>
        <csymbol cd="ambiguous">superscript</csymbol>
        <ci>x</ci>
        <cn type="integer">2</cn>
       </apply>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   L=T-V=\frac{1}{2}m\dot{x}^{2}-\frac{1}{2}kx^{2}
  </annotation>
 </semantics>
</math>

</p>

<p>and the equation of motion is that of <a href="simple_harmonic_motion" title="wikilink">simple harmonic motion</a>,</p>

<p>

<math display="block" id="Lagrangian_mechanics:88">
 <semantics>
  <mrow>
   <mrow>
    <mrow>
     <mrow>
      <mfrac>
       <mi>d</mi>
       <mrow>
        <mi>d</mi>
        <mi>t</mi>
       </mrow>
      </mfrac>
      <mfrac>
       <mrow>
        <mo>âˆ‚</mo>
        <mi>L</mi>
       </mrow>
       <mrow>
        <mo>âˆ‚</mo>
        <mover accent="true">
         <mi>x</mi>
         <mo>Ë™</mo>
        </mover>
       </mrow>
      </mfrac>
     </mrow>
     <mo>=</mo>
     <mrow>
      <mfrac>
       <mrow>
        <mo>âˆ‚</mo>
        <mi>L</mi>
       </mrow>
       <mrow>
        <mo>âˆ‚</mo>
        <mi>x</mi>
       </mrow>
      </mfrac>
      <mo>â‡’</mo>
     </mrow>
    </mrow>
    <mrow>
     <mrow>
      <mi>m</mi>
      <mover accent="true">
       <mi>x</mi>
       <mo>Â¨</mo>
      </mover>
     </mrow>
     <mo>=</mo>
     <mrow>
      <mo>-</mo>
      <mrow>
       <mi>k</mi>
       <mpadded width="+1.7pt">
        <mi>x</mi>
       </mpadded>
      </mrow>
     </mrow>
    </mrow>
   </mrow>
   <mo>,</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <csymbol cd="ambiguous">formulae-sequence</csymbol>
    <apply>
     <eq></eq>
     <apply>
      <times></times>
      <apply>
       <divide></divide>
       <ci>d</ci>
       <apply>
        <times></times>
        <ci>d</ci>
        <ci>t</ci>
       </apply>
      </apply>
      <apply>
       <divide></divide>
       <apply>
        <partialdiff></partialdiff>
        <ci>L</ci>
       </apply>
       <apply>
        <partialdiff></partialdiff>
        <apply>
         <ci>normal-Ë™</ci>
         <ci>x</ci>
        </apply>
       </apply>
      </apply>
     </apply>
     <list>
      <apply>
       <divide></divide>
       <apply>
        <partialdiff></partialdiff>
        <ci>L</ci>
       </apply>
       <apply>
        <partialdiff></partialdiff>
        <ci>x</ci>
       </apply>
      </apply>
      <ci>normal-â‡’</ci>
     </list>
    </apply>
    <apply>
     <eq></eq>
     <apply>
      <times></times>
      <ci>m</ci>
      <apply>
       <ci>normal-Â¨</ci>
       <ci>x</ci>
      </apply>
     </apply>
     <apply>
      <minus></minus>
      <apply>
       <times></times>
       <ci>k</ci>
       <ci>x</ci>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \frac{d}{dt}\frac{\partial L}{\partial\dot{x}}=\frac{\partial L}{\partial x}%
\quad\Rightarrow\quad m\ddot{x}=-kx\,,
  </annotation>
 </semantics>
</math>

</p>

<p>or</p>

<p>

<math display="block" id="Lagrangian_mechanics:89">
 <semantics>
  <mrow>
   <mrow>
    <mrow>
     <mover accent="true">
      <mi>x</mi>
      <mo>Â¨</mo>
     </mover>
     <mo>=</mo>
     <mrow>
      <mo>-</mo>
      <mrow>
       <msup>
        <mi>Ï‰</mi>
        <mn>2</mn>
       </msup>
       <mpadded width="+1.7pt">
        <mi>x</mi>
       </mpadded>
      </mrow>
     </mrow>
    </mrow>
    <mo rspace="12.5pt">,</mo>
    <mrow>
     <mi>Ï‰</mi>
     <mo>=</mo>
     <mpadded width="+1.7pt">
      <msqrt>
       <mrow>
        <mi>k</mi>
        <mo>/</mo>
        <mi>m</mi>
       </mrow>
      </msqrt>
     </mpadded>
    </mrow>
   </mrow>
   <mo>,</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <csymbol cd="ambiguous">formulae-sequence</csymbol>
    <apply>
     <eq></eq>
     <apply>
      <ci>normal-Â¨</ci>
      <ci>x</ci>
     </apply>
     <apply>
      <minus></minus>
      <apply>
       <times></times>
       <apply>
        <csymbol cd="ambiguous">superscript</csymbol>
        <ci>Ï‰</ci>
        <cn type="integer">2</cn>
       </apply>
       <ci>x</ci>
      </apply>
     </apply>
    </apply>
    <apply>
     <eq></eq>
     <ci>Ï‰</ci>
     <apply>
      <root></root>
      <apply>
       <divide></divide>
       <ci>k</ci>
       <ci>m</ci>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \ddot{x}=-\omega^{2}x\,,\quad\omega=\sqrt{k/m}\,,
  </annotation>
 </semantics>
</math>

</p>

<p>where <em>Ï‰</em> is the <a href="angular_frequency" title="wikilink">angular frequency</a> of the oscillation. The solutions are sinusoidal oscillations:</p>

<p>

<math display="block" id="Lagrangian_mechanics:90">
 <semantics>
  <mrow>
   <mrow>
    <mi>x</mi>
    <mrow>
     <mo stretchy="false">(</mo>
     <mi>t</mi>
     <mo stretchy="false">)</mo>
    </mrow>
   </mrow>
   <mo>=</mo>
   <mrow>
    <mrow>
     <mi>A</mi>
     <mrow>
      <mi>sin</mi>
      <mrow>
       <mo stretchy="false">(</mo>
       <mrow>
        <mi>Ï‰</mi>
        <mi>t</mi>
       </mrow>
       <mo stretchy="false">)</mo>
      </mrow>
     </mrow>
    </mrow>
    <mo>+</mo>
    <mrow>
     <mi>B</mi>
     <mrow>
      <mi>cos</mi>
      <mrow>
       <mo stretchy="false">(</mo>
       <mrow>
        <mi>Ï‰</mi>
        <mi>t</mi>
       </mrow>
       <mo stretchy="false">)</mo>
      </mrow>
     </mrow>
    </mrow>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <times></times>
     <ci>x</ci>
     <ci>t</ci>
    </apply>
    <apply>
     <plus></plus>
     <apply>
      <times></times>
      <ci>A</ci>
      <apply>
       <sin></sin>
       <apply>
        <times></times>
        <ci>Ï‰</ci>
        <ci>t</ci>
       </apply>
      </apply>
     </apply>
     <apply>
      <times></times>
      <ci>B</ci>
      <apply>
       <cos></cos>
       <apply>
        <times></times>
        <ci>Ï‰</ci>
        <ci>t</ci>
       </apply>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   x(t)=A\sin(\omega t)+B\cos(\omega t)
  </annotation>
 </semantics>
</math>

</p>

<p>with <em>A</em> and <em>B</em> are arbitrary constants to be determined from the initial conditions (which have not been specified above). For a harmonic oscillator in higher dimensions, oscillating along a straight line, one can just choose the coordinate along the direction of oscillation and the solution is exactly the same as shown.</p>

<p>There are many complicated and interesting variants of this simple system, which can be solved efficiently using Lagrange's method as shown (although the many degrees of freedom which arise prompt use of the <a href="mass_matrix" title="wikilink">mass matrix</a>). There could be one or many coupled simple harmonic oscillators, with or without damping, with or without some driving force, and in higher dimensions. For example, coupled springs in a mechanical system, the vibrational modes of a molecule, or vibrations of atoms in a crystal. See <a href="normal_mode" title="wikilink">normal mode</a> for more on this topic.</p>
<h3 id="pendulum-on-a-movable-support">Pendulum on a movable support</h3>

<p>Consider a pendulum of mass <em>m</em> and length <em>â„“</em>, which is attached to a support with mass <em>M</em>, which can move along a line in the <em>x</em>-direction. Let <em>x</em> be the coordinate along the line of the support, and let us denote the position of the pendulum by the angle <em>Î¸</em> from the vertical.</p>
<figure><b>(Figure)</b>
<figcaption>Sketch of the situation with definition of the coordinates (click to enlarge)</figcaption>
</figure>

<p>The kinetic energy can then be shown to be</p>

<p>

<math display="block" id="Lagrangian_mechanics:91">
 <semantics>
  <mtable displaystyle="true">
   <mtr>
    <mtd columnalign="right">
     <mi>T</mi>
    </mtd>
    <mtd columnalign="center">
     <mo>=</mo>
    </mtd>
    <mtd columnalign="left">
     <mrow>
      <mrow>
       <mfrac>
        <mn>1</mn>
        <mn>2</mn>
       </mfrac>
       <mi>M</mi>
       <msup>
        <mover accent="true">
         <mi>x</mi>
         <mo>Ë™</mo>
        </mover>
        <mn>2</mn>
       </msup>
      </mrow>
      <mo>+</mo>
      <mrow>
       <mfrac>
        <mn>1</mn>
        <mn>2</mn>
       </mfrac>
       <mi>m</mi>
       <mrow>
        <mo>(</mo>
        <mrow>
         <msubsup>
          <mover accent="true">
           <mi>x</mi>
           <mo>Ë™</mo>
          </mover>
          <mi>pend</mi>
          <mn>2</mn>
         </msubsup>
         <mo>+</mo>
         <msubsup>
          <mover accent="true">
           <mi>y</mi>
           <mo>Ë™</mo>
          </mover>
          <mi>pend</mi>
          <mn>2</mn>
         </msubsup>
        </mrow>
        <mo>)</mo>
       </mrow>
      </mrow>
     </mrow>
    </mtd>
   </mtr>
   <mtr>
    <mtd></mtd>
    <mtd columnalign="center">
     <mo>=</mo>
    </mtd>
    <mtd columnalign="left">
     <mrow>
      <mrow>
       <mrow>
        <mfrac>
         <mn>1</mn>
         <mn>2</mn>
        </mfrac>
        <mi>M</mi>
        <msup>
         <mover accent="true">
          <mi>x</mi>
          <mo>Ë™</mo>
         </mover>
         <mn>2</mn>
        </msup>
       </mrow>
       <mo>+</mo>
       <mrow>
        <mfrac>
         <mn>1</mn>
         <mn>2</mn>
        </mfrac>
        <mi>m</mi>
        <mrow>
         <mo>[</mo>
         <mrow>
          <msup>
           <mrow>
            <mo>(</mo>
            <mrow>
             <mover accent="true">
              <mi>x</mi>
              <mo>Ë™</mo>
             </mover>
             <mo>+</mo>
             <mrow>
              <mi mathvariant="normal">â„“</mi>
              <mover accent="true">
               <mi>Î¸</mi>
               <mo>Ë™</mo>
              </mover>
              <mrow>
               <mi>cos</mi>
               <mi>Î¸</mi>
              </mrow>
             </mrow>
            </mrow>
            <mo>)</mo>
           </mrow>
           <mn>2</mn>
          </msup>
          <mo>+</mo>
          <msup>
           <mrow>
            <mo>(</mo>
            <mrow>
             <mi mathvariant="normal">â„“</mi>
             <mover accent="true">
              <mi>Î¸</mi>
              <mo>Ë™</mo>
             </mover>
             <mrow>
              <mi>sin</mi>
              <mi>Î¸</mi>
             </mrow>
            </mrow>
            <mo>)</mo>
           </mrow>
           <mn>2</mn>
          </msup>
         </mrow>
         <mo>]</mo>
        </mrow>
       </mrow>
      </mrow>
      <mo>,</mo>
     </mrow>
    </mtd>
   </mtr>
  </mtable>
  <annotation-xml encoding="MathML-Content">
   <matrix>
    <matrixrow>
     <ci>T</ci>
     <eq></eq>
     <apply>
      <plus></plus>
      <apply>
       <times></times>
       <apply>
        <divide></divide>
        <cn type="integer">1</cn>
        <cn type="integer">2</cn>
       </apply>
       <ci>M</ci>
       <apply>
        <csymbol cd="ambiguous">superscript</csymbol>
        <apply>
         <ci>normal-Ë™</ci>
         <ci>x</ci>
        </apply>
        <cn type="integer">2</cn>
       </apply>
      </apply>
      <apply>
       <times></times>
       <apply>
        <divide></divide>
        <cn type="integer">1</cn>
        <cn type="integer">2</cn>
       </apply>
       <ci>m</ci>
       <apply>
        <plus></plus>
        <apply>
         <csymbol cd="ambiguous">superscript</csymbol>
         <apply>
          <csymbol cd="ambiguous">subscript</csymbol>
          <apply>
           <ci>normal-Ë™</ci>
           <ci>x</ci>
          </apply>
          <ci>pend</ci>
         </apply>
         <cn type="integer">2</cn>
        </apply>
        <apply>
         <csymbol cd="ambiguous">superscript</csymbol>
         <apply>
          <csymbol cd="ambiguous">subscript</csymbol>
          <apply>
           <ci>normal-Ë™</ci>
           <ci>y</ci>
          </apply>
          <ci>pend</ci>
         </apply>
         <cn type="integer">2</cn>
        </apply>
       </apply>
      </apply>
     </apply>
    </matrixrow>
    <matrixrow>
     <cerror>
      <csymbol cd="ambiguous">missing-subexpression</csymbol>
     </cerror>
     <eq></eq>
     <apply>
      <plus></plus>
      <apply>
       <times></times>
       <apply>
        <divide></divide>
        <cn type="integer">1</cn>
        <cn type="integer">2</cn>
       </apply>
       <ci>M</ci>
       <apply>
        <csymbol cd="ambiguous">superscript</csymbol>
        <apply>
         <ci>normal-Ë™</ci>
         <ci>x</ci>
        </apply>
        <cn type="integer">2</cn>
       </apply>
      </apply>
      <apply>
       <times></times>
       <apply>
        <divide></divide>
        <cn type="integer">1</cn>
        <cn type="integer">2</cn>
       </apply>
       <ci>m</ci>
       <apply>
        <csymbol cd="latexml">delimited-[]</csymbol>
        <apply>
         <plus></plus>
         <apply>
          <csymbol cd="ambiguous">superscript</csymbol>
          <apply>
           <plus></plus>
           <apply>
            <ci>normal-Ë™</ci>
            <ci>x</ci>
           </apply>
           <apply>
            <times></times>
            <ci>normal-â„“</ci>
            <apply>
             <ci>normal-Ë™</ci>
             <ci>Î¸</ci>
            </apply>
            <apply>
             <cos></cos>
             <ci>Î¸</ci>
            </apply>
           </apply>
          </apply>
          <cn type="integer">2</cn>
         </apply>
         <apply>
          <csymbol cd="ambiguous">superscript</csymbol>
          <apply>
           <times></times>
           <ci>normal-â„“</ci>
           <apply>
            <ci>normal-Ë™</ci>
            <ci>Î¸</ci>
           </apply>
           <apply>
            <sin></sin>
            <ci>Î¸</ci>
           </apply>
          </apply>
          <cn type="integer">2</cn>
         </apply>
        </apply>
       </apply>
      </apply>
     </apply>
    </matrixrow>
   </matrix>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \begin{array}[]{rcl}T&=&\frac{1}{2}M\dot{x}^{2}+\frac{1}{2}m\left(\dot{x}_{%
\mathrm{pend}}^{2}+\dot{y}_{\mathrm{pend}}^{2}\right)\\
&=&\frac{1}{2}M\dot{x}^{2}+\frac{1}{2}m\left[\left(\dot{x}+\ell\dot{\theta}%
\cos\theta\right)^{2}+\left(\ell\dot{\theta}\sin\theta\right)^{2}\right],\end{array}
  </annotation>
 </semantics>
</math>

</p>

<p>and the potential energy of the system is</p>

<p>

<math display="block" id="Lagrangian_mechanics:92">
 <semantics>
  <mrow>
   <mrow>
    <mi>V</mi>
    <mo>=</mo>
    <mrow>
     <mi>m</mi>
     <mi>g</mi>
     <msub>
      <mi>y</mi>
      <mi>pend</mi>
     </msub>
    </mrow>
    <mo>=</mo>
    <mrow>
     <mo>-</mo>
     <mrow>
      <mi>m</mi>
      <mi>g</mi>
      <mi mathvariant="normal">â„“</mi>
      <mrow>
       <mi>cos</mi>
       <mi>Î¸</mi>
      </mrow>
     </mrow>
    </mrow>
   </mrow>
   <mo>.</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <and></and>
    <apply>
     <eq></eq>
     <ci>V</ci>
     <apply>
      <times></times>
      <ci>m</ci>
      <ci>g</ci>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>y</ci>
       <ci>pend</ci>
      </apply>
     </apply>
    </apply>
    <apply>
     <eq></eq>
     <share href="#.cmml">
     </share>
     <apply>
      <minus></minus>
      <apply>
       <times></times>
       <ci>m</ci>
       <ci>g</ci>
       <ci>normal-â„“</ci>
       <apply>
        <cos></cos>
        <ci>Î¸</ci>
       </apply>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   V=mgy_{\mathrm{pend}}=-mg\ell\cos\theta.
  </annotation>
 </semantics>
</math>

</p>

<p>The Lagrangian is therefore</p>

<p>

<math display="block" id="Lagrangian_mechanics:93">
 <semantics>
  <mtable displaystyle="true">
   <mtr>
    <mtd columnalign="right">
     <mi>L</mi>
    </mtd>
    <mtd columnalign="center">
     <mo>=</mo>
    </mtd>
    <mtd columnalign="left">
     <mrow>
      <mi>T</mi>
      <mo>-</mo>
      <mi>V</mi>
     </mrow>
    </mtd>
   </mtr>
   <mtr>
    <mtd></mtd>
    <mtd columnalign="center">
     <mo>=</mo>
    </mtd>
    <mtd columnalign="left">
     <mrow>
      <mrow>
       <mfrac>
        <mn>1</mn>
        <mn>2</mn>
       </mfrac>
       <mi>M</mi>
       <msup>
        <mover accent="true">
         <mi>x</mi>
         <mo>Ë™</mo>
        </mover>
        <mn>2</mn>
       </msup>
      </mrow>
      <mo>+</mo>
      <mrow>
       <mfrac>
        <mn>1</mn>
        <mn>2</mn>
       </mfrac>
       <mi>m</mi>
       <mrow>
        <mo>[</mo>
        <mrow>
         <msup>
          <mrow>
           <mo>(</mo>
           <mrow>
            <mover accent="true">
             <mi>x</mi>
             <mo>Ë™</mo>
            </mover>
            <mo>+</mo>
            <mrow>
             <mi mathvariant="normal">â„“</mi>
             <mover accent="true">
              <mi>Î¸</mi>
              <mo>Ë™</mo>
             </mover>
             <mrow>
              <mi>cos</mi>
              <mi>Î¸</mi>
             </mrow>
            </mrow>
           </mrow>
           <mo>)</mo>
          </mrow>
          <mn>2</mn>
         </msup>
         <mo>+</mo>
         <msup>
          <mrow>
           <mo>(</mo>
           <mrow>
            <mi mathvariant="normal">â„“</mi>
            <mover accent="true">
             <mi>Î¸</mi>
             <mo>Ë™</mo>
            </mover>
            <mrow>
             <mi>sin</mi>
             <mi>Î¸</mi>
            </mrow>
           </mrow>
           <mo>)</mo>
          </mrow>
          <mn>2</mn>
         </msup>
        </mrow>
        <mo>]</mo>
       </mrow>
      </mrow>
      <mo>+</mo>
      <mrow>
       <mi>m</mi>
       <mi>g</mi>
       <mi mathvariant="normal">â„“</mi>
       <mrow>
        <mi>cos</mi>
        <mi>Î¸</mi>
       </mrow>
      </mrow>
     </mrow>
    </mtd>
   </mtr>
   <mtr>
    <mtd></mtd>
    <mtd columnalign="center">
     <mo>=</mo>
    </mtd>
    <mtd columnalign="left">
     <mrow>
      <mrow>
       <mfrac>
        <mn>1</mn>
        <mn>2</mn>
       </mfrac>
       <mrow>
        <mo>(</mo>
        <mrow>
         <mi>M</mi>
         <mo>+</mo>
         <mi>m</mi>
        </mrow>
        <mo>)</mo>
       </mrow>
       <msup>
        <mover accent="true">
         <mi>x</mi>
         <mo>Ë™</mo>
        </mover>
        <mn>2</mn>
       </msup>
      </mrow>
      <mo>+</mo>
      <mrow>
       <mi>m</mi>
       <mover accent="true">
        <mi>x</mi>
        <mo>Ë™</mo>
       </mover>
       <mi mathvariant="normal">â„“</mi>
       <mover accent="true">
        <mi>Î¸</mi>
        <mo>Ë™</mo>
       </mover>
       <mrow>
        <mi>cos</mi>
        <mi>Î¸</mi>
       </mrow>
      </mrow>
      <mo>+</mo>
      <mrow>
       <mfrac>
        <mn>1</mn>
        <mn>2</mn>
       </mfrac>
       <mi>m</mi>
       <msup>
        <mi mathvariant="normal">â„“</mi>
        <mn>2</mn>
       </msup>
       <msup>
        <mover accent="true">
         <mi>Î¸</mi>
         <mo>Ë™</mo>
        </mover>
        <mn>2</mn>
       </msup>
      </mrow>
      <mo>+</mo>
      <mrow>
       <mi>m</mi>
       <mi>g</mi>
       <mi mathvariant="normal">â„“</mi>
       <mrow>
        <mi>cos</mi>
        <mi>Î¸</mi>
       </mrow>
      </mrow>
     </mrow>
    </mtd>
   </mtr>
  </mtable>
  <annotation-xml encoding="MathML-Content">
   <matrix>
    <matrixrow>
     <ci>L</ci>
     <eq></eq>
     <apply>
      <minus></minus>
      <ci>T</ci>
      <ci>V</ci>
     </apply>
    </matrixrow>
    <matrixrow>
     <cerror>
      <csymbol cd="ambiguous">missing-subexpression</csymbol>
     </cerror>
     <eq></eq>
     <apply>
      <plus></plus>
      <apply>
       <times></times>
       <apply>
        <divide></divide>
        <cn type="integer">1</cn>
        <cn type="integer">2</cn>
       </apply>
       <ci>M</ci>
       <apply>
        <csymbol cd="ambiguous">superscript</csymbol>
        <apply>
         <ci>normal-Ë™</ci>
         <ci>x</ci>
        </apply>
        <cn type="integer">2</cn>
       </apply>
      </apply>
      <apply>
       <times></times>
       <apply>
        <divide></divide>
        <cn type="integer">1</cn>
        <cn type="integer">2</cn>
       </apply>
       <ci>m</ci>
       <apply>
        <csymbol cd="latexml">delimited-[]</csymbol>
        <apply>
         <plus></plus>
         <apply>
          <csymbol cd="ambiguous">superscript</csymbol>
          <apply>
           <plus></plus>
           <apply>
            <ci>normal-Ë™</ci>
            <ci>x</ci>
           </apply>
           <apply>
            <times></times>
            <ci>normal-â„“</ci>
            <apply>
             <ci>normal-Ë™</ci>
             <ci>Î¸</ci>
            </apply>
            <apply>
             <cos></cos>
             <ci>Î¸</ci>
            </apply>
           </apply>
          </apply>
          <cn type="integer">2</cn>
         </apply>
         <apply>
          <csymbol cd="ambiguous">superscript</csymbol>
          <apply>
           <times></times>
           <ci>normal-â„“</ci>
           <apply>
            <ci>normal-Ë™</ci>
            <ci>Î¸</ci>
           </apply>
           <apply>
            <sin></sin>
            <ci>Î¸</ci>
           </apply>
          </apply>
          <cn type="integer">2</cn>
         </apply>
        </apply>
       </apply>
      </apply>
      <apply>
       <times></times>
       <ci>m</ci>
       <ci>g</ci>
       <ci>normal-â„“</ci>
       <apply>
        <cos></cos>
        <ci>Î¸</ci>
       </apply>
      </apply>
     </apply>
    </matrixrow>
    <matrixrow>
     <cerror>
      <csymbol cd="ambiguous">missing-subexpression</csymbol>
     </cerror>
     <eq></eq>
     <apply>
      <plus></plus>
      <apply>
       <times></times>
       <apply>
        <divide></divide>
        <cn type="integer">1</cn>
        <cn type="integer">2</cn>
       </apply>
       <apply>
        <plus></plus>
        <ci>M</ci>
        <ci>m</ci>
       </apply>
       <apply>
        <csymbol cd="ambiguous">superscript</csymbol>
        <apply>
         <ci>normal-Ë™</ci>
         <ci>x</ci>
        </apply>
        <cn type="integer">2</cn>
       </apply>
      </apply>
      <apply>
       <times></times>
       <ci>m</ci>
       <apply>
        <ci>normal-Ë™</ci>
        <ci>x</ci>
       </apply>
       <ci>normal-â„“</ci>
       <apply>
        <ci>normal-Ë™</ci>
        <ci>Î¸</ci>
       </apply>
       <apply>
        <cos></cos>
        <ci>Î¸</ci>
       </apply>
      </apply>
      <apply>
       <times></times>
       <apply>
        <divide></divide>
        <cn type="integer">1</cn>
        <cn type="integer">2</cn>
       </apply>
       <ci>m</ci>
       <apply>
        <csymbol cd="ambiguous">superscript</csymbol>
        <ci>normal-â„“</ci>
        <cn type="integer">2</cn>
       </apply>
       <apply>
        <csymbol cd="ambiguous">superscript</csymbol>
        <apply>
         <ci>normal-Ë™</ci>
         <ci>Î¸</ci>
        </apply>
        <cn type="integer">2</cn>
       </apply>
      </apply>
      <apply>
       <times></times>
       <ci>m</ci>
       <ci>g</ci>
       <ci>normal-â„“</ci>
       <apply>
        <cos></cos>
        <ci>Î¸</ci>
       </apply>
      </apply>
     </apply>
    </matrixrow>
   </matrix>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \begin{array}[]{rcl}L&=&T-V\\
&=&\frac{1}{2}M\dot{x}^{2}+\frac{1}{2}m\left[\left(\dot{x}+\ell\dot{\theta}%
\cos\theta\right)^{2}+\left(\ell\dot{\theta}\sin\theta\right)^{2}\right]+mg%
\ell\cos\theta\\
&=&\frac{1}{2}\left(M+m\right)\dot{x}^{2}+m\dot{x}\ell\dot{\theta}\cos\theta+%
\frac{1}{2}m\ell^{2}\dot{\theta}^{2}+mg\ell\cos\theta\end{array}
  </annotation>
 </semantics>
</math>

</p>

<p>Now carrying out the differentiations gives for the support coordinate <em>x</em></p>

<p>

<math display="block" id="Lagrangian_mechanics:94">
 <semantics>
  <mrow>
   <mrow>
    <mrow>
     <mfrac>
      <mi mathvariant="normal">d</mi>
      <mrow>
       <mi mathvariant="normal">d</mi>
       <mi>t</mi>
      </mrow>
     </mfrac>
     <mrow>
      <mo>[</mo>
      <mrow>
       <mrow>
        <mrow>
         <mo stretchy="false">(</mo>
         <mrow>
          <mi>M</mi>
          <mo>+</mo>
          <mi>m</mi>
         </mrow>
         <mo stretchy="false">)</mo>
        </mrow>
        <mover accent="true">
         <mi>x</mi>
         <mo>Ë™</mo>
        </mover>
       </mrow>
       <mo>+</mo>
       <mrow>
        <mi>m</mi>
        <mi mathvariant="normal">â„“</mi>
        <mover accent="true">
         <mi>Î¸</mi>
         <mo>Ë™</mo>
        </mover>
        <mrow>
         <mi>cos</mi>
         <mi>Î¸</mi>
        </mrow>
       </mrow>
      </mrow>
      <mo>]</mo>
     </mrow>
    </mrow>
    <mo>=</mo>
    <mn>0</mn>
   </mrow>
   <mo>,</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <times></times>
     <apply>
      <divide></divide>
      <ci>normal-d</ci>
      <apply>
       <times></times>
       <ci>normal-d</ci>
       <ci>t</ci>
      </apply>
     </apply>
     <apply>
      <csymbol cd="latexml">delimited-[]</csymbol>
      <apply>
       <plus></plus>
       <apply>
        <times></times>
        <apply>
         <plus></plus>
         <ci>M</ci>
         <ci>m</ci>
        </apply>
        <apply>
         <ci>normal-Ë™</ci>
         <ci>x</ci>
        </apply>
       </apply>
       <apply>
        <times></times>
        <ci>m</ci>
        <ci>normal-â„“</ci>
        <apply>
         <ci>normal-Ë™</ci>
         <ci>Î¸</ci>
        </apply>
        <apply>
         <cos></cos>
         <ci>Î¸</ci>
        </apply>
       </apply>
      </apply>
     </apply>
    </apply>
    <cn type="integer">0</cn>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \frac{\mathrm{d}}{\mathrm{d}t}\left[(M+m)\dot{x}+m\ell\dot{\theta}\cos\theta%
\right]=0,
  </annotation>
 </semantics>
</math>

</p>

<p>therefore:</p>

<p>

<math display="block" id="Lagrangian_mechanics:95">
 <semantics>
  <mrow>
   <mrow>
    <mrow>
     <mrow>
      <mrow>
       <mo stretchy="false">(</mo>
       <mrow>
        <mi>M</mi>
        <mo>+</mo>
        <mi>m</mi>
       </mrow>
       <mo stretchy="false">)</mo>
      </mrow>
      <mover accent="true">
       <mi>x</mi>
       <mo>Â¨</mo>
      </mover>
     </mrow>
     <mo>+</mo>
     <mrow>
      <mi>m</mi>
      <mi mathvariant="normal">â„“</mi>
      <mover accent="true">
       <mi>Î¸</mi>
       <mo>Â¨</mo>
      </mover>
      <mrow>
       <mi>cos</mi>
       <mi>Î¸</mi>
      </mrow>
     </mrow>
    </mrow>
    <mo>-</mo>
    <mrow>
     <mi>m</mi>
     <mi mathvariant="normal">â„“</mi>
     <msup>
      <mover accent="true">
       <mi>Î¸</mi>
       <mo>Ë™</mo>
      </mover>
      <mn>2</mn>
     </msup>
     <mrow>
      <mi>sin</mi>
      <mi>Î¸</mi>
     </mrow>
    </mrow>
   </mrow>
   <mo>=</mo>
   <mn>0</mn>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <minus></minus>
     <apply>
      <plus></plus>
      <apply>
       <times></times>
       <apply>
        <plus></plus>
        <ci>M</ci>
        <ci>m</ci>
       </apply>
       <apply>
        <ci>normal-Â¨</ci>
        <ci>x</ci>
       </apply>
      </apply>
      <apply>
       <times></times>
       <ci>m</ci>
       <ci>normal-â„“</ci>
       <apply>
        <ci>normal-Â¨</ci>
        <ci>Î¸</ci>
       </apply>
       <apply>
        <cos></cos>
        <ci>Î¸</ci>
       </apply>
      </apply>
     </apply>
     <apply>
      <times></times>
      <ci>m</ci>
      <ci>normal-â„“</ci>
      <apply>
       <csymbol cd="ambiguous">superscript</csymbol>
       <apply>
        <ci>normal-Ë™</ci>
        <ci>Î¸</ci>
       </apply>
       <cn type="integer">2</cn>
      </apply>
      <apply>
       <sin></sin>
       <ci>Î¸</ci>
      </apply>
     </apply>
    </apply>
    <cn type="integer">0</cn>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   (M+m)\ddot{x}+m\ell\ddot{\theta}\cos\theta-m\ell\dot{\theta}^{2}\sin\theta=0
  </annotation>
 </semantics>
</math>

</p>

<p>indicating the presence of a constant of motion. Performing the same procedure for the variable 

<math display="inline" id="Lagrangian_mechanics:96">
 <semantics>
  <mi>Î¸</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>Î¸</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \theta
  </annotation>
 </semantics>
</math>

 yields:</p>

<p>

<math display="block" id="Lagrangian_mechanics:97">
 <semantics>
  <mrow>
   <mrow>
    <mrow>
     <mrow>
      <mfrac>
       <mi mathvariant="normal">d</mi>
       <mrow>
        <mi mathvariant="normal">d</mi>
        <mi>t</mi>
       </mrow>
      </mfrac>
      <mrow>
       <mo>[</mo>
       <mrow>
        <mi>m</mi>
        <mrow>
         <mo stretchy="false">(</mo>
         <mrow>
          <mrow>
           <mover accent="true">
            <mi>x</mi>
            <mo>Ë™</mo>
           </mover>
           <mi mathvariant="normal">â„“</mi>
           <mrow>
            <mi>cos</mi>
            <mi>Î¸</mi>
           </mrow>
          </mrow>
          <mo>+</mo>
          <mrow>
           <msup>
            <mi mathvariant="normal">â„“</mi>
            <mn>2</mn>
           </msup>
           <mover accent="true">
            <mi>Î¸</mi>
            <mo>Ë™</mo>
           </mover>
          </mrow>
         </mrow>
         <mo stretchy="false">)</mo>
        </mrow>
       </mrow>
       <mo>]</mo>
      </mrow>
     </mrow>
     <mo>+</mo>
     <mrow>
      <mi>m</mi>
      <mi mathvariant="normal">â„“</mi>
      <mrow>
       <mo stretchy="false">(</mo>
       <mrow>
        <mrow>
         <mover accent="true">
          <mi>x</mi>
          <mo>Ë™</mo>
         </mover>
         <mover accent="true">
          <mi>Î¸</mi>
          <mo>Ë™</mo>
         </mover>
        </mrow>
        <mo>+</mo>
        <mi>g</mi>
       </mrow>
       <mo stretchy="false">)</mo>
      </mrow>
      <mrow>
       <mi>sin</mi>
       <mi>Î¸</mi>
      </mrow>
     </mrow>
    </mrow>
    <mo>=</mo>
    <mn>0</mn>
   </mrow>
   <mo>;</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <plus></plus>
     <apply>
      <times></times>
      <apply>
       <divide></divide>
       <ci>normal-d</ci>
       <apply>
        <times></times>
        <ci>normal-d</ci>
        <ci>t</ci>
       </apply>
      </apply>
      <apply>
       <csymbol cd="latexml">delimited-[]</csymbol>
       <apply>
        <times></times>
        <ci>m</ci>
        <apply>
         <plus></plus>
         <apply>
          <times></times>
          <apply>
           <ci>normal-Ë™</ci>
           <ci>x</ci>
          </apply>
          <ci>normal-â„“</ci>
          <apply>
           <cos></cos>
           <ci>Î¸</ci>
          </apply>
         </apply>
         <apply>
          <times></times>
          <apply>
           <csymbol cd="ambiguous">superscript</csymbol>
           <ci>normal-â„“</ci>
           <cn type="integer">2</cn>
          </apply>
          <apply>
           <ci>normal-Ë™</ci>
           <ci>Î¸</ci>
          </apply>
         </apply>
        </apply>
       </apply>
      </apply>
     </apply>
     <apply>
      <times></times>
      <ci>m</ci>
      <ci>normal-â„“</ci>
      <apply>
       <plus></plus>
       <apply>
        <times></times>
        <apply>
         <ci>normal-Ë™</ci>
         <ci>x</ci>
        </apply>
        <apply>
         <ci>normal-Ë™</ci>
         <ci>Î¸</ci>
        </apply>
       </apply>
       <ci>g</ci>
      </apply>
      <apply>
       <sin></sin>
       <ci>Î¸</ci>
      </apply>
     </apply>
    </apply>
    <cn type="integer">0</cn>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \frac{\mathrm{d}}{\mathrm{d}t}\left[m(\dot{x}\ell\cos\theta+\ell^{2}\dot{%
\theta})\right]+m\ell(\dot{x}\dot{\theta}+g)\sin\theta=0;
  </annotation>
 </semantics>
</math>

</p>

<p>therefore</p>

<p>

<math display="block" id="Lagrangian_mechanics:98">
 <semantics>
  <mrow>
   <mrow>
    <mover accent="true">
     <mi>Î¸</mi>
     <mo>Â¨</mo>
    </mover>
    <mo>+</mo>
    <mrow>
     <mfrac>
      <mover accent="true">
       <mi>x</mi>
       <mo>Â¨</mo>
      </mover>
      <mi mathvariant="normal">â„“</mi>
     </mfrac>
     <mrow>
      <mi>cos</mi>
      <mi>Î¸</mi>
     </mrow>
    </mrow>
    <mo>+</mo>
    <mrow>
     <mfrac>
      <mi>g</mi>
      <mi mathvariant="normal">â„“</mi>
     </mfrac>
     <mrow>
      <mi>sin</mi>
      <mi>Î¸</mi>
     </mrow>
    </mrow>
   </mrow>
   <mo>=</mo>
   <mpadded width="+1.7pt">
    <mn>0.</mn>
   </mpadded>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <plus></plus>
     <apply>
      <ci>normal-Â¨</ci>
      <ci>Î¸</ci>
     </apply>
     <apply>
      <times></times>
      <apply>
       <divide></divide>
       <apply>
        <ci>normal-Â¨</ci>
        <ci>x</ci>
       </apply>
       <ci>normal-â„“</ci>
      </apply>
      <apply>
       <cos></cos>
       <ci>Î¸</ci>
      </apply>
     </apply>
     <apply>
      <times></times>
      <apply>
       <divide></divide>
       <ci>g</ci>
       <ci>normal-â„“</ci>
      </apply>
      <apply>
       <sin></sin>
       <ci>Î¸</ci>
      </apply>
     </apply>
    </apply>
    <cn type="float">0.</cn>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \ddot{\theta}+\frac{\ddot{x}}{\ell}\cos\theta+\frac{g}{\ell}\sin\theta=0.\,
  </annotation>
 </semantics>
</math>

</p>

<p>These equations may look quite complicated, but finding them with Newton's laws would have required carefully identifying all forces, which would have been much more laborious and prone to errors. By considering limit cases, the correctness of this system can be verified: For example, 

<math display="inline" id="Lagrangian_mechanics:99">
 <semantics>
  <mrow>
   <mover accent="true">
    <mi>x</mi>
    <mo>Â¨</mo>
   </mover>
   <mo>â†’</mo>
   <mn>0</mn>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <ci>normal-â†’</ci>
    <apply>
     <ci>normal-Â¨</ci>
     <ci>x</ci>
    </apply>
    <cn type="integer">0</cn>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \ddot{x}\to 0
  </annotation>
 </semantics>
</math>

 should give the equations of motion for a pendulum that is at rest in some <a href="inertial_frame" title="wikilink">inertial frame</a>, while 

<math display="inline" id="Lagrangian_mechanics:100">
 <semantics>
  <mrow>
   <mover accent="true">
    <mi>Î¸</mi>
    <mo>Â¨</mo>
   </mover>
   <mo>â†’</mo>
   <mn>0</mn>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <ci>normal-â†’</ci>
    <apply>
     <ci>normal-Â¨</ci>
     <ci>Î¸</ci>
    </apply>
    <cn type="integer">0</cn>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \ddot{\theta}\to 0
  </annotation>
 </semantics>
</math>

 should give the equations for a pendulum in a constantly accelerating system, etc. Furthermore, it is trivial to obtain the results numerically, given suitable starting conditions and a chosen time step, by <a href="Numerical_ordinary_differential_equations" title="wikilink">stepping through the results iteratively</a>.</p>
<h3 id="two-body-central-force-problem">Two-body central force problem</h3>

<p>The basic problem is that of two bodies in orbit about each other attracted by a central force. The <a href="Jacobi_coordinates" title="wikilink">Jacobi coordinates</a> are introduced; namely, the location of the center of mass <strong>R</strong> and the separation of the bodies <strong>r</strong> (the relative position). The Lagrangian is then<a class="footnoteRef" href="#fn28" id="fnref28"><sup>28</sup></a><a class="footnoteRef" href="#fn29" id="fnref29"><sup>29</sup></a></p>

<p>

<math display="inline" id="Lagrangian_mechanics:101">
 <semantics>
  <mi>L</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>L</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \displaystyle L
  </annotation>
 </semantics>
</math>


</p>

<p>where <em>M</em> is the total mass, <em>Î¼</em> is the <a href="reduced_mass" title="wikilink">reduced mass</a>, and <em>U</em> the potential of the radial force. The Lagrangian is divided into a <em>center-of-mass</em> term and a <em>relative motion</em> term. The <strong>R</strong> equation from the Eulerâ€“Lagrange system is simply:</p>

<p>

<math display="block" id="Lagrangian_mechanics:102">
 <semantics>
  <mrow>
   <mrow>
    <mrow>
     <mi>M</mi>
     <mover accent="true">
      <mi>ğ‘</mi>
      <mo>Â¨</mo>
     </mover>
    </mrow>
    <mo>=</mo>
    <mn>0</mn>
   </mrow>
   <mo>,</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <times></times>
     <ci>M</ci>
     <apply>
      <ci>normal-Â¨</ci>
      <ci>ğ‘</ci>
     </apply>
    </apply>
    <cn type="integer">0</cn>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   M\ddot{\mathbf{R}}=0,\,
  </annotation>
 </semantics>
</math>

</p>

<p>resulting in simple motion of the center of mass in a straight line at constant velocity. The relative motion is expressed in polar coordinates (<em>r</em>, <em>Î¸</em>):</p>

<p>

<math display="block" id="Lagrangian_mechanics:103">
 <semantics>
  <mrow>
   <mrow>
    <mi>L</mi>
    <mo>=</mo>
    <mrow>
     <mrow>
      <mfrac>
       <mn>1</mn>
       <mn>2</mn>
      </mfrac>
      <mi>Î¼</mi>
      <mrow>
       <mo>(</mo>
       <mrow>
        <msup>
         <mover accent="true">
          <mi>r</mi>
          <mo>Ë™</mo>
         </mover>
         <mn>2</mn>
        </msup>
        <mo>+</mo>
        <mrow>
         <msup>
          <mi>r</mi>
          <mn>2</mn>
         </msup>
         <msup>
          <mover accent="true">
           <mi>Î¸</mi>
           <mo>Ë™</mo>
          </mover>
          <mn>2</mn>
         </msup>
        </mrow>
       </mrow>
       <mo>)</mo>
      </mrow>
     </mrow>
     <mo>-</mo>
     <mrow>
      <mi>U</mi>
      <mrow>
       <mo stretchy="false">(</mo>
       <mi>r</mi>
       <mo stretchy="false">)</mo>
      </mrow>
     </mrow>
    </mrow>
   </mrow>
   <mo>,</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <ci>L</ci>
    <apply>
     <minus></minus>
     <apply>
      <times></times>
      <apply>
       <divide></divide>
       <cn type="integer">1</cn>
       <cn type="integer">2</cn>
      </apply>
      <ci>Î¼</ci>
      <apply>
       <plus></plus>
       <apply>
        <csymbol cd="ambiguous">superscript</csymbol>
        <apply>
         <ci>normal-Ë™</ci>
         <ci>r</ci>
        </apply>
        <cn type="integer">2</cn>
       </apply>
       <apply>
        <times></times>
        <apply>
         <csymbol cd="ambiguous">superscript</csymbol>
         <ci>r</ci>
         <cn type="integer">2</cn>
        </apply>
        <apply>
         <csymbol cd="ambiguous">superscript</csymbol>
         <apply>
          <ci>normal-Ë™</ci>
          <ci>Î¸</ci>
         </apply>
         <cn type="integer">2</cn>
        </apply>
       </apply>
      </apply>
     </apply>
     <apply>
      <times></times>
      <ci>U</ci>
      <ci>r</ci>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   L=\frac{1}{2}\mu\left(\dot{r}^{2}+r^{2}\dot{\theta}^{2}\right)-U(r),
  </annotation>
 </semantics>
</math>

</p>

<p>which does not depend upon <em>Î¸</em>, therefore an <em>ignorable</em> coordinate. The Lagrange equation for <em>Î¸</em> is then:</p>

<p>

<math display="block" id="Lagrangian_mechanics:104">
 <semantics>
  <mrow>
   <mrow>
    <mfrac>
     <mrow>
      <mo>âˆ‚</mo>
      <mi>L</mi>
     </mrow>
     <mrow>
      <mo>âˆ‚</mo>
      <mover accent="true">
       <mi>Î¸</mi>
       <mo>Ë™</mo>
      </mover>
     </mrow>
    </mfrac>
    <mo>=</mo>
    <mrow>
     <mi>Î¼</mi>
     <msup>
      <mi>r</mi>
      <mn>2</mn>
     </msup>
     <mover accent="true">
      <mi>Î¸</mi>
      <mo>Ë™</mo>
     </mover>
    </mrow>
    <mo>=</mo>
    <mi>constant</mi>
    <mo>=</mo>
    <mi mathvariant="normal">â„“</mi>
   </mrow>
   <mo>,</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <and></and>
    <apply>
     <eq></eq>
     <apply>
      <divide></divide>
      <apply>
       <partialdiff></partialdiff>
       <ci>L</ci>
      </apply>
      <apply>
       <partialdiff></partialdiff>
       <apply>
        <ci>normal-Ë™</ci>
        <ci>Î¸</ci>
       </apply>
      </apply>
     </apply>
     <apply>
      <times></times>
      <ci>Î¼</ci>
      <apply>
       <csymbol cd="ambiguous">superscript</csymbol>
       <ci>r</ci>
       <cn type="integer">2</cn>
      </apply>
      <apply>
       <ci>normal-Ë™</ci>
       <ci>Î¸</ci>
      </apply>
     </apply>
    </apply>
    <apply>
     <eq></eq>
     <share href="#.cmml">
     </share>
     <ci>constant</ci>
    </apply>
    <apply>
     <eq></eq>
     <share href="#.cmml">
     </share>
     <ci>normal-â„“</ci>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \frac{\partial L}{\partial\dot{\theta}}=\mu r^{2}\dot{\theta}=\mathrm{constant%
}=\ell,\,
  </annotation>
 </semantics>
</math>

</p>

<p>where <em>â„“</em> is the conserved angular momentum. The Lagrange equation for <em>r</em> is:</p>

<p>

<math display="block" id="Lagrangian_mechanics:105">
 <semantics>
  <mrow>
   <mrow>
    <mfrac>
     <mrow>
      <mo>âˆ‚</mo>
      <mi>L</mi>
     </mrow>
     <mrow>
      <mo>âˆ‚</mo>
      <mi>r</mi>
     </mrow>
    </mfrac>
    <mo>=</mo>
    <mrow>
     <mfrac>
      <mi mathvariant="normal">d</mi>
      <mrow>
       <mi mathvariant="normal">d</mi>
       <mi>t</mi>
      </mrow>
     </mfrac>
     <mfrac>
      <mrow>
       <mo>âˆ‚</mo>
       <mi>L</mi>
      </mrow>
      <mrow>
       <mo>âˆ‚</mo>
       <mover accent="true">
        <mi>r</mi>
        <mo>Ë™</mo>
       </mover>
      </mrow>
     </mfrac>
    </mrow>
   </mrow>
   <mo>,</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <divide></divide>
     <apply>
      <partialdiff></partialdiff>
      <ci>L</ci>
     </apply>
     <apply>
      <partialdiff></partialdiff>
      <ci>r</ci>
     </apply>
    </apply>
    <apply>
     <times></times>
     <apply>
      <divide></divide>
      <ci>normal-d</ci>
      <apply>
       <times></times>
       <ci>normal-d</ci>
       <ci>t</ci>
      </apply>
     </apply>
     <apply>
      <divide></divide>
      <apply>
       <partialdiff></partialdiff>
       <ci>L</ci>
      </apply>
      <apply>
       <partialdiff></partialdiff>
       <apply>
        <ci>normal-Ë™</ci>
        <ci>r</ci>
       </apply>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \frac{\partial L}{\partial r}=\frac{\mathrm{d}}{\mathrm{d}t}\frac{\partial L}{%
\partial\dot{r}},\,
  </annotation>
 </semantics>
</math>

</p>

<p>or:</p>

<p>

<math display="block" id="Lagrangian_mechanics:106">
 <semantics>
  <mrow>
   <mrow>
    <mrow>
     <mrow>
      <mi>Î¼</mi>
      <mi>r</mi>
      <msup>
       <mover accent="true">
        <mi>Î¸</mi>
        <mo>Ë™</mo>
       </mover>
       <mn>2</mn>
      </msup>
     </mrow>
     <mo>-</mo>
     <mfrac>
      <mrow>
       <mi>d</mi>
       <mi>U</mi>
      </mrow>
      <mrow>
       <mi>d</mi>
       <mi>r</mi>
      </mrow>
     </mfrac>
    </mrow>
    <mo>=</mo>
    <mrow>
     <mi>Î¼</mi>
     <mover accent="true">
      <mi>r</mi>
      <mo>Â¨</mo>
     </mover>
    </mrow>
   </mrow>
   <mo>.</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <minus></minus>
     <apply>
      <times></times>
      <ci>Î¼</ci>
      <ci>r</ci>
      <apply>
       <csymbol cd="ambiguous">superscript</csymbol>
       <apply>
        <ci>normal-Ë™</ci>
        <ci>Î¸</ci>
       </apply>
       <cn type="integer">2</cn>
      </apply>
     </apply>
     <apply>
      <divide></divide>
      <apply>
       <times></times>
       <ci>d</ci>
       <ci>U</ci>
      </apply>
      <apply>
       <times></times>
       <ci>d</ci>
       <ci>r</ci>
      </apply>
     </apply>
    </apply>
    <apply>
     <times></times>
     <ci>Î¼</ci>
     <apply>
      <ci>normal-Â¨</ci>
      <ci>r</ci>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \mu r\dot{\theta}^{2}-\frac{dU}{dr}=\mu\ddot{r}.\,
  </annotation>
 </semantics>
</math>

</p>

<p>This equation is identical to the radial equation obtained using Newton's laws in a <em>co-rotating</em> reference frame, that is, a frame rotating with the reduced mass so it appears stationary. If the angular velocity is replaced by its value in terms of the angular momentum,</p>

<p>

<math display="block" id="Lagrangian_mechanics:107">
 <semantics>
  <mrow>
   <mrow>
    <mover accent="true">
     <mi>Î¸</mi>
     <mo>Ë™</mo>
    </mover>
    <mo>=</mo>
    <mfrac>
     <mi mathvariant="normal">â„“</mi>
     <mrow>
      <mi>Î¼</mi>
      <msup>
       <mi>r</mi>
       <mn>2</mn>
      </msup>
     </mrow>
    </mfrac>
   </mrow>
   <mo>,</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <ci>normal-Ë™</ci>
     <ci>Î¸</ci>
    </apply>
    <apply>
     <divide></divide>
     <ci>normal-â„“</ci>
     <apply>
      <times></times>
      <ci>Î¼</ci>
      <apply>
       <csymbol cd="ambiguous">superscript</csymbol>
       <ci>r</ci>
       <cn type="integer">2</cn>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \dot{\theta}=\frac{\ell}{\mu r^{2}},\,
  </annotation>
 </semantics>
</math>

</p>

<p>the radial equation becomes:<a class="footnoteRef" href="#fn30" id="fnref30"><sup>30</sup></a></p>

<p>

<math display="block" id="Lagrangian_mechanics:108">
 <semantics>
  <mrow>
   <mrow>
    <mrow>
     <mi>Î¼</mi>
     <mover accent="true">
      <mi>r</mi>
      <mo>Â¨</mo>
     </mover>
    </mrow>
    <mo>=</mo>
    <mrow>
     <mrow>
      <mo>-</mo>
      <mfrac>
       <mrow>
        <mi>d</mi>
        <mi>U</mi>
       </mrow>
       <mrow>
        <mi>d</mi>
        <mi>r</mi>
       </mrow>
      </mfrac>
     </mrow>
     <mo>+</mo>
     <mfrac>
      <msup>
       <mi mathvariant="normal">â„“</mi>
       <mn>2</mn>
      </msup>
      <mrow>
       <mi>Î¼</mi>
       <msup>
        <mi>r</mi>
        <mn>3</mn>
       </msup>
      </mrow>
     </mfrac>
    </mrow>
   </mrow>
   <mo>.</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <times></times>
     <ci>Î¼</ci>
     <apply>
      <ci>normal-Â¨</ci>
      <ci>r</ci>
     </apply>
    </apply>
    <apply>
     <plus></plus>
     <apply>
      <minus></minus>
      <apply>
       <divide></divide>
       <apply>
        <times></times>
        <ci>d</ci>
        <ci>U</ci>
       </apply>
       <apply>
        <times></times>
        <ci>d</ci>
        <ci>r</ci>
       </apply>
      </apply>
     </apply>
     <apply>
      <divide></divide>
      <apply>
       <csymbol cd="ambiguous">superscript</csymbol>
       <ci>normal-â„“</ci>
       <cn type="integer">2</cn>
      </apply>
      <apply>
       <times></times>
       <ci>Î¼</ci>
       <apply>
        <csymbol cd="ambiguous">superscript</csymbol>
        <ci>r</ci>
        <cn type="integer">3</cn>
       </apply>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \mu\ddot{r}=-\frac{dU}{dr}+\frac{\ell^{2}}{\mu r^{3}}.\,
  </annotation>
 </semantics>
</math>

</p>

<p>which is the equation of motion for a one-dimensional problem in which a particle of mass <em>Î¼</em> is subjected to the inward central force âˆ’d<em>U</em>/d<em>r</em> and a second outward force, called in this context the <a href="centrifugal_force" title="wikilink">centrifugal force</a>:</p>

<p>

<math display="block" id="Lagrangian_mechanics:109">
 <semantics>
  <mrow>
   <mrow>
    <msub>
     <mi>F</mi>
     <mi>cf</mi>
    </msub>
    <mo>=</mo>
    <mrow>
     <mi>Î¼</mi>
     <mi>r</mi>
     <msup>
      <mover accent="true">
       <mi>Î¸</mi>
       <mo>Ë™</mo>
      </mover>
      <mn>2</mn>
     </msup>
    </mrow>
    <mo>=</mo>
    <mfrac>
     <msup>
      <mi mathvariant="normal">â„“</mi>
      <mn>2</mn>
     </msup>
     <mrow>
      <mi>Î¼</mi>
      <msup>
       <mi>r</mi>
       <mn>3</mn>
      </msup>
     </mrow>
    </mfrac>
   </mrow>
   <mo>.</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <and></and>
    <apply>
     <eq></eq>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <ci>F</ci>
      <ci>cf</ci>
     </apply>
     <apply>
      <times></times>
      <ci>Î¼</ci>
      <ci>r</ci>
      <apply>
       <csymbol cd="ambiguous">superscript</csymbol>
       <apply>
        <ci>normal-Ë™</ci>
        <ci>Î¸</ci>
       </apply>
       <cn type="integer">2</cn>
      </apply>
     </apply>
    </apply>
    <apply>
     <eq></eq>
     <share href="#.cmml">
     </share>
     <apply>
      <divide></divide>
      <apply>
       <csymbol cd="ambiguous">superscript</csymbol>
       <ci>normal-â„“</ci>
       <cn type="integer">2</cn>
      </apply>
      <apply>
       <times></times>
       <ci>Î¼</ci>
       <apply>
        <csymbol cd="ambiguous">superscript</csymbol>
        <ci>r</ci>
        <cn type="integer">3</cn>
       </apply>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   F_{\mathrm{cf}}=\mu r\dot{\theta}^{2}=\frac{\ell^{2}}{\mu r^{3}}.\,
  </annotation>
 </semantics>
</math>

</p>

<p>Of course, if one remains entirely within the one-dimensional formulation, <em>â„“</em> enters only as some imposed parameter of the external outward force, and its interpretation as angular momentum depends upon the more general two-dimensional problem from which the one-dimensional problem originated.</p>

<p>If one arrives at this equation using Newtonian mechanics in a co-rotating frame, the interpretation is evident as the centrifugal force in that frame due to the rotation of the frame itself. If one arrives at this equation directly by using the generalized coordinates (<em>r</em>, <em>Î¸</em>) and simply following the Lagrangian formulation without thinking about frames at all, the interpretation is that the centrifugal force is an outgrowth of <em>using polar coordinates</em>. As Hildebrand says:<a class="footnoteRef" href="#fn31" id="fnref31"><sup>31</sup></a> "Since such quantities are not true physical forces, they are often called <em>inertia forces</em>. Their presence or absence depends, not upon the particular problem at hand, but <em>upon the coordinate system chosen</em>." In particular, if Cartesian coordinates are chosen, the centrifugal force disappears, and the formulation involves only the central force itself, which provides the <a href="centripetal_force" title="wikilink">centripetal force</a> for a curved motion.</p>

<p>This viewpoint, that fictitious forces originate in the choice of coordinates, often is expressed by users of the Lagrangian method. This view arises naturally in the Lagrangian approach, because the frame of reference is (possibly unconsciously) selected by the choice of coordinates.<ref name="example"></ref></p>

<p>For example, see  for a comparison of Lagrangians in an inertial and in a noninertial frame of reference. See also the discussion of "total" and "updated" Lagrangian formulations in   Unfortunately, this usage of "inertial force" conflicts with the Newtonian idea of an inertial force. In the Newtonian view, an inertial force originates in the acceleration of the frame of observation (the fact that it is not an <a href="inertial_frame_of_reference" title="wikilink">inertial frame of reference</a>), not in the choice of coordinate system. To keep matters clear, it is safest to refer to the Lagrangian inertial forces as <em>generalized</em> inertial forces, to distinguish them from the Newtonian vector inertial forces. That is, one should avoid following Hildebrand when he says (p.Â 155) "we deal <em>always</em> with <em>generalized</em> forces, velocities accelerations, and momenta. For brevity, the adjective "generalized" will be omitted frequently."</p>

<p>It is known that the Lagrangian of a system is not unique. Within the Lagrangian formalism the Newtonian fictitious forces can be identified by the existence of alternative Lagrangians in which the fictitious forces disappear, sometimes found by exploiting the symmetry of the system.<a class="footnoteRef" href="#fn32" id="fnref32"><sup>32</sup></a></p>
<h2 id="examples-in-specific-coordinate-systems">Examples in specific coordinate systems</h2>
<h3 id="in-cartesian-coordinates">In Cartesian coordinates</h3>

<p>Suppose we have a <a href="three-dimensional_space" title="wikilink">three-dimensional space</a> in which a particle of mass <em>m</em> moves under the influence of a <a href="conservative_force" title="wikilink">conservative force</a> 

<math display="inline" id="Lagrangian_mechanics:110">
 <semantics>
  <mi>ğ…</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>ğ…</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \mathbf{F}
  </annotation>
 </semantics>
</math>

. Since the force is conservative, it corresponds to a potential energy function 

<math display="inline" id="Lagrangian_mechanics:111">
 <semantics>
  <mrow>
   <mi>V</mi>
   <mrow>
    <mo stretchy="false">(</mo>
    <mi>ğ±</mi>
    <mo stretchy="false">)</mo>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <times></times>
    <ci>V</ci>
    <ci>ğ±</ci>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   V(\mathbf{x})
  </annotation>
 </semantics>
</math>

 given by 

<math display="inline" id="Lagrangian_mechanics:112">
 <semantics>
  <mrow>
   <mi>ğ…</mi>
   <mo>=</mo>
   <mrow>
    <mo>-</mo>
    <mrow>
     <mrow>
      <mo>âˆ‡</mo>
      <mi>V</mi>
     </mrow>
     <mrow>
      <mo stretchy="false">(</mo>
      <mi>ğ±</mi>
      <mo stretchy="false">)</mo>
     </mrow>
    </mrow>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <ci>ğ…</ci>
    <apply>
     <minus></minus>
     <apply>
      <times></times>
      <apply>
       <ci>normal-âˆ‡</ci>
       <ci>V</ci>
      </apply>
      <ci>ğ±</ci>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \mathbf{F}=-\nabla V(\mathbf{x})
  </annotation>
 </semantics>
</math>

. The Lagrangian of the particle can be written</p>

<p>

<math display="block" id="Lagrangian_mechanics:113">
 <semantics>
  <mrow>
   <mrow>
    <mrow>
     <mi>L</mi>
     <mrow>
      <mo stretchy="false">(</mo>
      <mi>ğ±</mi>
      <mo>,</mo>
      <mover accent="true">
       <mi>ğ±</mi>
       <mo>Ë™</mo>
      </mover>
      <mo stretchy="false">)</mo>
     </mrow>
    </mrow>
    <mo>=</mo>
    <mrow>
     <mrow>
      <mfrac>
       <mn>1</mn>
       <mn>2</mn>
      </mfrac>
      <mi>m</mi>
      <msup>
       <mover accent="true">
        <mi>ğ±</mi>
        <mo>Ë™</mo>
       </mover>
       <mn>2</mn>
      </msup>
     </mrow>
     <mo>-</mo>
     <mrow>
      <mi>V</mi>
      <mrow>
       <mo stretchy="false">(</mo>
       <mi>ğ±</mi>
       <mo stretchy="false">)</mo>
      </mrow>
     </mrow>
    </mrow>
   </mrow>
   <mo>.</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <times></times>
     <ci>L</ci>
     <interval closure="open">
      <ci>ğ±</ci>
      <apply>
       <ci>normal-Ë™</ci>
       <ci>ğ±</ci>
      </apply>
     </interval>
    </apply>
    <apply>
     <minus></minus>
     <apply>
      <times></times>
      <apply>
       <divide></divide>
       <cn type="integer">1</cn>
       <cn type="integer">2</cn>
      </apply>
      <ci>m</ci>
      <apply>
       <csymbol cd="ambiguous">superscript</csymbol>
       <apply>
        <ci>normal-Ë™</ci>
        <ci>ğ±</ci>
       </apply>
       <cn type="integer">2</cn>
      </apply>
     </apply>
     <apply>
      <times></times>
      <ci>V</ci>
      <ci>ğ±</ci>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   L(\mathbf{x},\dot{\mathbf{x}})=\frac{1}{2}m\dot{\mathbf{x}}^{2}-V(\mathbf{x}).
  </annotation>
 </semantics>
</math>

</p>

<p>The equations of motion for the particle are found by applying the <a href="Eulerâ€“Lagrange_equation" title="wikilink">Eulerâ€“Lagrange equation</a></p>

<p>

<math display="block" id="Lagrangian_mechanics:114">
 <semantics>
  <mrow>
   <mrow>
    <mrow>
     <mrow>
      <mfrac>
       <mi mathvariant="normal">d</mi>
       <mrow>
        <mi mathvariant="normal">d</mi>
        <mi>t</mi>
       </mrow>
      </mfrac>
      <mrow>
       <mo>(</mo>
       <mfrac>
        <mrow>
         <mo>âˆ‚</mo>
         <mi>L</mi>
        </mrow>
        <mrow>
         <mo>âˆ‚</mo>
         <msub>
          <mover accent="true">
           <mi>x</mi>
           <mo>Ë™</mo>
          </mover>
          <mi>i</mi>
         </msub>
        </mrow>
       </mfrac>
       <mo>)</mo>
      </mrow>
     </mrow>
     <mo>-</mo>
     <mfrac>
      <mrow>
       <mo>âˆ‚</mo>
       <mi>L</mi>
      </mrow>
      <mrow>
       <mo>âˆ‚</mo>
       <msub>
        <mi>x</mi>
        <mi>i</mi>
       </msub>
      </mrow>
     </mfrac>
    </mrow>
    <mo>=</mo>
    <mn>0</mn>
   </mrow>
   <mo>,</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <minus></minus>
     <apply>
      <times></times>
      <apply>
       <divide></divide>
       <ci>normal-d</ci>
       <apply>
        <times></times>
        <ci>normal-d</ci>
        <ci>t</ci>
       </apply>
      </apply>
      <apply>
       <divide></divide>
       <apply>
        <partialdiff></partialdiff>
        <ci>L</ci>
       </apply>
       <apply>
        <partialdiff></partialdiff>
        <apply>
         <csymbol cd="ambiguous">subscript</csymbol>
         <apply>
          <ci>normal-Ë™</ci>
          <ci>x</ci>
         </apply>
         <ci>i</ci>
        </apply>
       </apply>
      </apply>
     </apply>
     <apply>
      <divide></divide>
      <apply>
       <partialdiff></partialdiff>
       <ci>L</ci>
      </apply>
      <apply>
       <partialdiff></partialdiff>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>x</ci>
        <ci>i</ci>
       </apply>
      </apply>
     </apply>
    </apply>
    <cn type="integer">0</cn>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \frac{\mathrm{d}}{\mathrm{d}t}\left(\frac{\partial L}{\partial\dot{x}_{i}}%
\right)-\frac{\partial L}{\partial x_{i}}=0,
  </annotation>
 </semantics>
</math>

 where <em>i</em> = 1, 2, 3.</p>

<p>Then</p>

<p>

<math display="block" id="Lagrangian_mechanics:115">
 <semantics>
  <mrow>
   <mrow>
    <mfrac>
     <mrow>
      <mo>âˆ‚</mo>
      <mi>L</mi>
     </mrow>
     <mrow>
      <mo>âˆ‚</mo>
      <msub>
       <mi>x</mi>
       <mi>i</mi>
      </msub>
     </mrow>
    </mfrac>
    <mo>=</mo>
    <mrow>
     <mo>-</mo>
     <mfrac>
      <mrow>
       <mo>âˆ‚</mo>
       <mi>V</mi>
      </mrow>
      <mrow>
       <mo>âˆ‚</mo>
       <msub>
        <mi>x</mi>
        <mi>i</mi>
       </msub>
      </mrow>
     </mfrac>
    </mrow>
   </mrow>
   <mo>,</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <divide></divide>
     <apply>
      <partialdiff></partialdiff>
      <ci>L</ci>
     </apply>
     <apply>
      <partialdiff></partialdiff>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>x</ci>
       <ci>i</ci>
      </apply>
     </apply>
    </apply>
    <apply>
     <minus></minus>
     <apply>
      <divide></divide>
      <apply>
       <partialdiff></partialdiff>
       <ci>V</ci>
      </apply>
      <apply>
       <partialdiff></partialdiff>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>x</ci>
        <ci>i</ci>
       </apply>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \frac{\partial L}{\partial x_{i}}=-\frac{\partial V}{\partial x_{i}},
  </annotation>
 </semantics>
</math>

</p>

<p>

<math display="block" id="Lagrangian_mechanics:116">
 <semantics>
  <mrow>
   <mrow>
    <mfrac>
     <mrow>
      <mo>âˆ‚</mo>
      <mi>L</mi>
     </mrow>
     <mrow>
      <mo>âˆ‚</mo>
      <msub>
       <mover accent="true">
        <mi>x</mi>
        <mo>Ë™</mo>
       </mover>
       <mi>i</mi>
      </msub>
     </mrow>
    </mfrac>
    <mo>=</mo>
    <mrow>
     <mfrac>
      <mo rspace="5.8pt">âˆ‚</mo>
      <mrow>
       <mo>âˆ‚</mo>
       <msub>
        <mover accent="true">
         <mi>x</mi>
         <mo>Ë™</mo>
        </mover>
        <mi>i</mi>
       </msub>
      </mrow>
     </mfrac>
     <mrow>
      <mo>(</mo>
      <mrow>
       <mfrac>
        <mn>1</mn>
        <mn>2</mn>
       </mfrac>
       <mi>m</mi>
       <msup>
        <mover accent="true">
         <mi>ğ±</mi>
         <mo>Ë™</mo>
        </mover>
        <mn>2</mn>
       </msup>
      </mrow>
      <mo>)</mo>
     </mrow>
    </mrow>
    <mo>=</mo>
    <mrow>
     <mfrac>
      <mn>1</mn>
      <mn>2</mn>
     </mfrac>
     <mi>m</mi>
     <mfrac>
      <mo rspace="5.8pt">âˆ‚</mo>
      <mrow>
       <mo>âˆ‚</mo>
       <msub>
        <mover accent="true">
         <mi>x</mi>
         <mo>Ë™</mo>
        </mover>
        <mi>i</mi>
       </msub>
      </mrow>
     </mfrac>
     <mrow>
      <mo>(</mo>
      <msubsup>
       <mover accent="true">
        <mi>x</mi>
        <mo>Ë™</mo>
       </mover>
       <mi>i</mi>
       <mn>2</mn>
      </msubsup>
      <mo>)</mo>
     </mrow>
    </mrow>
    <mo>=</mo>
    <mrow>
     <mi>m</mi>
     <msub>
      <mover accent="true">
       <mi>x</mi>
       <mo>Ë™</mo>
      </mover>
      <mi>i</mi>
     </msub>
    </mrow>
   </mrow>
   <mo>,</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <and></and>
    <apply>
     <eq></eq>
     <apply>
      <divide></divide>
      <apply>
       <partialdiff></partialdiff>
       <ci>L</ci>
      </apply>
      <apply>
       <partialdiff></partialdiff>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <apply>
         <ci>normal-Ë™</ci>
         <ci>x</ci>
        </apply>
        <ci>i</ci>
       </apply>
      </apply>
     </apply>
     <apply>
      <times></times>
      <apply>
       <divide></divide>
       <partialdiff></partialdiff>
       <apply>
        <partialdiff></partialdiff>
        <apply>
         <csymbol cd="ambiguous">subscript</csymbol>
         <apply>
          <ci>normal-Ë™</ci>
          <ci>x</ci>
         </apply>
         <ci>i</ci>
        </apply>
       </apply>
      </apply>
      <apply>
       <times></times>
       <apply>
        <divide></divide>
        <cn type="integer">1</cn>
        <cn type="integer">2</cn>
       </apply>
       <ci>m</ci>
       <apply>
        <csymbol cd="ambiguous">superscript</csymbol>
        <apply>
         <ci>normal-Ë™</ci>
         <ci>ğ±</ci>
        </apply>
        <cn type="integer">2</cn>
       </apply>
      </apply>
     </apply>
    </apply>
    <apply>
     <eq></eq>
     <share href="#.cmml">
     </share>
     <apply>
      <times></times>
      <apply>
       <divide></divide>
       <cn type="integer">1</cn>
       <cn type="integer">2</cn>
      </apply>
      <ci>m</ci>
      <apply>
       <divide></divide>
       <partialdiff></partialdiff>
       <apply>
        <partialdiff></partialdiff>
        <apply>
         <csymbol cd="ambiguous">subscript</csymbol>
         <apply>
          <ci>normal-Ë™</ci>
          <ci>x</ci>
         </apply>
         <ci>i</ci>
        </apply>
       </apply>
      </apply>
      <apply>
       <csymbol cd="ambiguous">superscript</csymbol>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <apply>
         <ci>normal-Ë™</ci>
         <ci>x</ci>
        </apply>
        <ci>i</ci>
       </apply>
       <cn type="integer">2</cn>
      </apply>
     </apply>
    </apply>
    <apply>
     <eq></eq>
     <share href="#.cmml">
     </share>
     <apply>
      <times></times>
      <ci>m</ci>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <apply>
        <ci>normal-Ë™</ci>
        <ci>x</ci>
       </apply>
       <ci>i</ci>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \frac{\partial L}{\partial\dot{x}_{i}}=\frac{\partial~{}}{\partial\dot{x}_{i}}%
\left(\frac{1}{2}m\dot{\mathbf{x}}^{2}\right)=\frac{1}{2}m\frac{\partial~{}}{%
\partial\dot{x}_{i}}\left(\dot{x}_{i}^{2}\right)=m\dot{x}_{i},
  </annotation>
 </semantics>
</math>

 and</p>

<p>

<math display="block" id="Lagrangian_mechanics:117">
 <semantics>
  <mrow>
   <mrow>
    <mrow>
     <mfrac>
      <mi mathvariant="normal">d</mi>
      <mrow>
       <mi mathvariant="normal">d</mi>
       <mi>t</mi>
      </mrow>
     </mfrac>
     <mrow>
      <mo>(</mo>
      <mfrac>
       <mrow>
        <mo>âˆ‚</mo>
        <mi>L</mi>
       </mrow>
       <mrow>
        <mo>âˆ‚</mo>
        <msub>
         <mover accent="true">
          <mi>x</mi>
          <mo>Ë™</mo>
         </mover>
         <mi>i</mi>
        </msub>
       </mrow>
      </mfrac>
      <mo>)</mo>
     </mrow>
    </mrow>
    <mo>=</mo>
    <mrow>
     <mi>m</mi>
     <msub>
      <mover accent="true">
       <mi>x</mi>
       <mo>Â¨</mo>
      </mover>
      <mi>i</mi>
     </msub>
    </mrow>
   </mrow>
   <mo>.</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <times></times>
     <apply>
      <divide></divide>
      <ci>normal-d</ci>
      <apply>
       <times></times>
       <ci>normal-d</ci>
       <ci>t</ci>
      </apply>
     </apply>
     <apply>
      <divide></divide>
      <apply>
       <partialdiff></partialdiff>
       <ci>L</ci>
      </apply>
      <apply>
       <partialdiff></partialdiff>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <apply>
         <ci>normal-Ë™</ci>
         <ci>x</ci>
        </apply>
        <ci>i</ci>
       </apply>
      </apply>
     </apply>
    </apply>
    <apply>
     <times></times>
     <ci>m</ci>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <apply>
       <ci>normal-Â¨</ci>
       <ci>x</ci>
      </apply>
      <ci>i</ci>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \frac{\mathrm{d}}{\mathrm{d}t}\left(\frac{\partial L}{\partial\dot{x}_{i}}%
\right)=m\ddot{x}_{i}.
  </annotation>
 </semantics>
</math>

</p>

<p>Thus</p>

<p>

<math display="block" id="Lagrangian_mechanics:118">
 <semantics>
  <mrow>
   <mrow>
    <mrow>
     <mrow>
      <mi>m</mi>
      <mover accent="true">
       <mi>ğ±</mi>
       <mo>Â¨</mo>
      </mover>
     </mrow>
     <mo>+</mo>
     <mrow>
      <mo>âˆ‡</mo>
      <mi>V</mi>
     </mrow>
    </mrow>
    <mo>=</mo>
    <mn>0</mn>
   </mrow>
   <mo>,</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <plus></plus>
     <apply>
      <times></times>
      <ci>m</ci>
      <apply>
       <ci>normal-Â¨</ci>
       <ci>ğ±</ci>
      </apply>
     </apply>
     <apply>
      <ci>normal-âˆ‡</ci>
      <ci>V</ci>
     </apply>
    </apply>
    <cn type="integer">0</cn>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   m\ddot{\mathbf{x}}+\nabla V=0,
  </annotation>
 </semantics>
</math>

 which is <a href="Newton's_second_law_of_motion" title="wikilink">Newton's second law of motion</a> for a particle subject to a conservative force. Here the time derivative is written conventionally as a dot above the quantity being differentiated, and âˆ‡ is the <a href="del" title="wikilink"> del operator</a>.</p>
<h3 id="in-spherical-coordinates">In spherical coordinates</h3>

<p>Suppose we have a three-dimensional space using <a href="spherical_coordinates" title="wikilink">spherical coordinates</a> (<em>r, Î¸, Ï†</em>) with the Lagrangian</p>

<p>

<math display="block" id="Lagrangian_mechanics:119">
 <semantics>
  <mrow>
   <mrow>
    <mi>L</mi>
    <mo>=</mo>
    <mrow>
     <mrow>
      <mfrac>
       <mi>m</mi>
       <mn>2</mn>
      </mfrac>
      <mrow>
       <mo stretchy="false">(</mo>
       <mrow>
        <msup>
         <mover accent="true">
          <mi>r</mi>
          <mo>Ë™</mo>
         </mover>
         <mn>2</mn>
        </msup>
        <mo>+</mo>
        <mrow>
         <msup>
          <mi>r</mi>
          <mn>2</mn>
         </msup>
         <msup>
          <mover accent="true">
           <mi>Î¸</mi>
           <mo>Ë™</mo>
          </mover>
          <mn>2</mn>
         </msup>
        </mrow>
        <mo>+</mo>
        <mrow>
         <msup>
          <mi>r</mi>
          <mn>2</mn>
         </msup>
         <mrow>
          <msup>
           <mi>sin</mi>
           <mn>2</mn>
          </msup>
          <mrow>
           <mpadded width="+1.7pt">
            <mi>Î¸</mi>
           </mpadded>
           <msup>
            <mover accent="true">
             <mi>Ï†</mi>
             <mo>Ë™</mo>
            </mover>
            <mn>2</mn>
           </msup>
          </mrow>
         </mrow>
        </mrow>
       </mrow>
       <mo stretchy="false">)</mo>
      </mrow>
     </mrow>
     <mo>-</mo>
     <mrow>
      <mi>V</mi>
      <mrow>
       <mo stretchy="false">(</mo>
       <mi>r</mi>
       <mo stretchy="false">)</mo>
      </mrow>
     </mrow>
    </mrow>
   </mrow>
   <mo>.</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <ci>L</ci>
    <apply>
     <minus></minus>
     <apply>
      <times></times>
      <apply>
       <divide></divide>
       <ci>m</ci>
       <cn type="integer">2</cn>
      </apply>
      <apply>
       <plus></plus>
       <apply>
        <csymbol cd="ambiguous">superscript</csymbol>
        <apply>
         <ci>normal-Ë™</ci>
         <ci>r</ci>
        </apply>
        <cn type="integer">2</cn>
       </apply>
       <apply>
        <times></times>
        <apply>
         <csymbol cd="ambiguous">superscript</csymbol>
         <ci>r</ci>
         <cn type="integer">2</cn>
        </apply>
        <apply>
         <csymbol cd="ambiguous">superscript</csymbol>
         <apply>
          <ci>normal-Ë™</ci>
          <ci>Î¸</ci>
         </apply>
         <cn type="integer">2</cn>
        </apply>
       </apply>
       <apply>
        <times></times>
        <apply>
         <csymbol cd="ambiguous">superscript</csymbol>
         <ci>r</ci>
         <cn type="integer">2</cn>
        </apply>
        <apply>
         <apply>
          <csymbol cd="ambiguous">superscript</csymbol>
          <sin></sin>
          <cn type="integer">2</cn>
         </apply>
         <apply>
          <times></times>
          <ci>Î¸</ci>
          <apply>
           <csymbol cd="ambiguous">superscript</csymbol>
           <apply>
            <ci>normal-Ë™</ci>
            <ci>Ï†</ci>
           </apply>
           <cn type="integer">2</cn>
          </apply>
         </apply>
        </apply>
       </apply>
      </apply>
     </apply>
     <apply>
      <times></times>
      <ci>V</ci>
      <ci>r</ci>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   L=\frac{m}{2}(\dot{r}^{2}+r^{2}\dot{\theta}^{2}+r^{2}\sin^{2}\theta\,\dot{%
\varphi}^{2})-V(r).
  </annotation>
 </semantics>
</math>

</p>

<p>Then the Eulerâ€“Lagrange equations are:</p>

<p>

<math display="block" id="Lagrangian_mechanics:120">
 <semantics>
  <mrow>
   <mrow>
    <mrow>
     <mrow>
      <mrow>
       <mi>m</mi>
       <mover accent="true">
        <mi>r</mi>
        <mo>Â¨</mo>
       </mover>
      </mrow>
      <mo>-</mo>
      <mrow>
       <mi>m</mi>
       <mi>r</mi>
       <mrow>
        <mo stretchy="false">(</mo>
        <mrow>
         <msup>
          <mover accent="true">
           <mi>Î¸</mi>
           <mo>Ë™</mo>
          </mover>
          <mn>2</mn>
         </msup>
         <mo>+</mo>
         <mrow>
          <msup>
           <mi>sin</mi>
           <mn>2</mn>
          </msup>
          <mrow>
           <mpadded width="+1.7pt">
            <mi>Î¸</mi>
           </mpadded>
           <msup>
            <mover accent="true">
             <mi>Ï†</mi>
             <mo>Ë™</mo>
            </mover>
            <mn>2</mn>
           </msup>
          </mrow>
         </mrow>
        </mrow>
        <mo stretchy="false">)</mo>
       </mrow>
      </mrow>
     </mrow>
     <mo>+</mo>
     <msup>
      <mi>V</mi>
      <mo>â€²</mo>
     </msup>
    </mrow>
    <mo>=</mo>
    <mn>0</mn>
   </mrow>
   <mo>,</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <plus></plus>
     <apply>
      <minus></minus>
      <apply>
       <times></times>
       <ci>m</ci>
       <apply>
        <ci>normal-Â¨</ci>
        <ci>r</ci>
       </apply>
      </apply>
      <apply>
       <times></times>
       <ci>m</ci>
       <ci>r</ci>
       <apply>
        <plus></plus>
        <apply>
         <csymbol cd="ambiguous">superscript</csymbol>
         <apply>
          <ci>normal-Ë™</ci>
          <ci>Î¸</ci>
         </apply>
         <cn type="integer">2</cn>
        </apply>
        <apply>
         <apply>
          <csymbol cd="ambiguous">superscript</csymbol>
          <sin></sin>
          <cn type="integer">2</cn>
         </apply>
         <apply>
          <times></times>
          <ci>Î¸</ci>
          <apply>
           <csymbol cd="ambiguous">superscript</csymbol>
           <apply>
            <ci>normal-Ë™</ci>
            <ci>Ï†</ci>
           </apply>
           <cn type="integer">2</cn>
          </apply>
         </apply>
        </apply>
       </apply>
      </apply>
     </apply>
     <apply>
      <csymbol cd="ambiguous">superscript</csymbol>
      <ci>V</ci>
      <ci>normal-â€²</ci>
     </apply>
    </apply>
    <cn type="integer">0</cn>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   m\ddot{r}-mr(\dot{\theta}^{2}+\sin^{2}\theta\,\dot{\varphi}^{2})+V^{\prime}=0,
  </annotation>
 </semantics>
</math>

</p>

<p>

<math display="block" id="Lagrangian_mechanics:121">
 <semantics>
  <mrow>
   <mrow>
    <mrow>
     <mrow>
      <mfrac>
       <mi mathvariant="normal">d</mi>
       <mrow>
        <mi mathvariant="normal">d</mi>
        <mi>t</mi>
       </mrow>
      </mfrac>
      <mrow>
       <mo stretchy="false">(</mo>
       <mrow>
        <mi>m</mi>
        <msup>
         <mi>r</mi>
         <mn>2</mn>
        </msup>
        <mover accent="true">
         <mi>Î¸</mi>
         <mo>Ë™</mo>
        </mover>
       </mrow>
       <mo stretchy="false">)</mo>
      </mrow>
     </mrow>
     <mo>-</mo>
     <mrow>
      <mi>m</mi>
      <msup>
       <mi>r</mi>
       <mn>2</mn>
      </msup>
      <mrow>
       <mi>sin</mi>
       <mi>Î¸</mi>
      </mrow>
      <mrow>
       <mi>cos</mi>
       <mrow>
        <mpadded width="+1.7pt">
         <mi>Î¸</mi>
        </mpadded>
        <msup>
         <mover accent="true">
          <mi>Ï†</mi>
          <mo>Ë™</mo>
         </mover>
         <mn>2</mn>
        </msup>
       </mrow>
      </mrow>
     </mrow>
    </mrow>
    <mo>=</mo>
    <mn>0</mn>
   </mrow>
   <mo>,</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <minus></minus>
     <apply>
      <times></times>
      <apply>
       <divide></divide>
       <ci>normal-d</ci>
       <apply>
        <times></times>
        <ci>normal-d</ci>
        <ci>t</ci>
       </apply>
      </apply>
      <apply>
       <times></times>
       <ci>m</ci>
       <apply>
        <csymbol cd="ambiguous">superscript</csymbol>
        <ci>r</ci>
        <cn type="integer">2</cn>
       </apply>
       <apply>
        <ci>normal-Ë™</ci>
        <ci>Î¸</ci>
       </apply>
      </apply>
     </apply>
     <apply>
      <times></times>
      <ci>m</ci>
      <apply>
       <csymbol cd="ambiguous">superscript</csymbol>
       <ci>r</ci>
       <cn type="integer">2</cn>
      </apply>
      <apply>
       <sin></sin>
       <ci>Î¸</ci>
      </apply>
      <apply>
       <cos></cos>
       <apply>
        <times></times>
        <ci>Î¸</ci>
        <apply>
         <csymbol cd="ambiguous">superscript</csymbol>
         <apply>
          <ci>normal-Ë™</ci>
          <ci>Ï†</ci>
         </apply>
         <cn type="integer">2</cn>
        </apply>
       </apply>
      </apply>
     </apply>
    </apply>
    <cn type="integer">0</cn>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \frac{\mathrm{d}}{\mathrm{d}t}(mr^{2}\dot{\theta})-mr^{2}\sin\theta\cos\theta%
\,\dot{\varphi}^{2}=0,
  </annotation>
 </semantics>
</math>

</p>

<p>

<math display="block" id="Lagrangian_mechanics:122">
 <semantics>
  <mrow>
   <mrow>
    <mfrac>
     <mi mathvariant="normal">d</mi>
     <mrow>
      <mi mathvariant="normal">d</mi>
      <mi>t</mi>
     </mrow>
    </mfrac>
    <mrow>
     <mo stretchy="false">(</mo>
     <mrow>
      <mi>m</mi>
      <msup>
       <mi>r</mi>
       <mn>2</mn>
      </msup>
      <mrow>
       <msup>
        <mi>sin</mi>
        <mn>2</mn>
       </msup>
       <mrow>
        <mpadded width="+1.7pt">
         <mi>Î¸</mi>
        </mpadded>
        <mover accent="true">
         <mi>Ï†</mi>
         <mo>Ë™</mo>
        </mover>
       </mrow>
      </mrow>
     </mrow>
     <mo stretchy="false">)</mo>
    </mrow>
   </mrow>
   <mo>=</mo>
   <mn>0.</mn>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <times></times>
     <apply>
      <divide></divide>
      <ci>normal-d</ci>
      <apply>
       <times></times>
       <ci>normal-d</ci>
       <ci>t</ci>
      </apply>
     </apply>
     <apply>
      <times></times>
      <ci>m</ci>
      <apply>
       <csymbol cd="ambiguous">superscript</csymbol>
       <ci>r</ci>
       <cn type="integer">2</cn>
      </apply>
      <apply>
       <apply>
        <csymbol cd="ambiguous">superscript</csymbol>
        <sin></sin>
        <cn type="integer">2</cn>
       </apply>
       <apply>
        <times></times>
        <ci>Î¸</ci>
        <apply>
         <ci>normal-Ë™</ci>
         <ci>Ï†</ci>
        </apply>
       </apply>
      </apply>
     </apply>
    </apply>
    <cn type="float">0.</cn>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \frac{\mathrm{d}}{\mathrm{d}t}(mr^{2}\sin^{2}\theta\,\dot{\varphi})=0.
  </annotation>
 </semantics>
</math>

</p>

<p>Here the set of parameters <em>s<sub>i</sub></em> is just the time <em>t</em>, and the dynamical variables <em>Ï•<sub>i</sub></em>(<em>s</em>) are the trajectories 

<math display="inline" id="Lagrangian_mechanics:123">
 <semantics>
  <mrow>
   <mover accent="true">
    <mi>x</mi>
    <mo stretchy="false">â†’</mo>
   </mover>
   <mrow>
    <mo stretchy="false">(</mo>
    <mi>t</mi>
    <mo stretchy="false">)</mo>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <times></times>
    <apply>
     <ci>normal-â†’</ci>
     <ci>x</ci>
    </apply>
    <ci>t</ci>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \scriptstyle\vec{x}(t)
  </annotation>
 </semantics>
</math>

 of the particle.</p>

<p>Despite the use of standard variables such as <em>x</em>, the Lagrangian allows the use of any coordinates, which do not need to be <a href="Orthogonal_coordinates" title="wikilink">orthogonal</a>. These are "<a href="generalized_coordinates" title="wikilink">generalized coordinates</a>".</p>
<h2 id="test-particles-in-fields">Test particles in fields</h2>

<p>A test particle is a particle whose <a class="uri" href="mass" title="wikilink">mass</a> and <a href="electric_charge" title="wikilink">charge</a> are assumed to be so small that its effect on external system is insignificant. It is often a hypothetical simplified point particle with no properties other than mass and charge. Real particles like <a href="electron" title="wikilink">electrons</a> and <a href="up_quark" title="wikilink">up quarks</a> are more complex and have additional terms in their Lagrangians.</p>
<h3 id="classical-test-particle-with-newtonian-gravity">Classical test particle with Newtonian gravity</h3>

<p>Suppose we are given a particle with mass <em>m</em> kilograms, and position 

<math display="inline" id="Lagrangian_mechanics:124">
 <semantics>
  <mi>ğ±</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>ğ±</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \mathbf{x}
  </annotation>
 </semantics>
</math>

 meters in a Newtonian gravitation field with potential Î¦ in JÂ·kg<sup>âˆ’1</sup>. The particle's world line is parameterized by time <em>t</em> seconds. The particle's kinetic energy is:</p>

<p>

<math display="block" id="Lagrangian_mechanics:125">
 <semantics>
  <mrow>
   <mrow>
    <mi>T</mi>
    <mrow>
     <mo stretchy="false">(</mo>
     <mi>t</mi>
     <mo stretchy="false">)</mo>
    </mrow>
   </mrow>
   <mo>=</mo>
   <mrow>
    <mstyle displaystyle="false">
     <mfrac>
      <mn>1</mn>
      <mn>2</mn>
     </mfrac>
    </mstyle>
    <mi>m</mi>
    <msup>
     <mrow>
      <mo>|</mo>
      <mrow>
       <mover accent="true">
        <mi>ğ±</mi>
        <mo>Ë™</mo>
       </mover>
       <mrow>
        <mo stretchy="false">(</mo>
        <mi>t</mi>
        <mo stretchy="false">)</mo>
       </mrow>
      </mrow>
      <mo>|</mo>
     </mrow>
     <mn>2</mn>
    </msup>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <times></times>
     <ci>T</ci>
     <ci>t</ci>
    </apply>
    <apply>
     <times></times>
     <apply>
      <divide></divide>
      <cn type="integer">1</cn>
      <cn type="integer">2</cn>
     </apply>
     <ci>m</ci>
     <apply>
      <csymbol cd="ambiguous">superscript</csymbol>
      <apply>
       <abs></abs>
       <apply>
        <times></times>
        <apply>
         <ci>normal-Ë™</ci>
         <ci>ğ±</ci>
        </apply>
        <ci>t</ci>
       </apply>
      </apply>
      <cn type="integer">2</cn>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   T(t)={\tfrac{1}{2}}m\left|\dot{\mathbf{x}}(t)\right|^{2}
  </annotation>
 </semantics>
</math>

</p>

<p>and the particle's gravitational potential energy is:</p>

<p>

<math display="block" id="Lagrangian_mechanics:126">
 <semantics>
  <mrow>
   <mrow>
    <mrow>
     <mi>V</mi>
     <mrow>
      <mo stretchy="false">(</mo>
      <mi>t</mi>
      <mo stretchy="false">)</mo>
     </mrow>
    </mrow>
    <mo>=</mo>
    <mrow>
     <mi>m</mi>
     <mi mathvariant="normal">Î¦</mi>
     <mrow>
      <mo stretchy="false">(</mo>
      <mrow>
       <mi>ğ±</mi>
       <mrow>
        <mo stretchy="false">(</mo>
        <mi>t</mi>
        <mo stretchy="false">)</mo>
       </mrow>
      </mrow>
      <mo>,</mo>
      <mi>t</mi>
      <mo stretchy="false">)</mo>
     </mrow>
    </mrow>
   </mrow>
   <mo>.</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <times></times>
     <ci>V</ci>
     <ci>t</ci>
    </apply>
    <apply>
     <times></times>
     <ci>m</ci>
     <ci>normal-Î¦</ci>
     <interval closure="open">
      <apply>
       <times></times>
       <ci>ğ±</ci>
       <ci>t</ci>
      </apply>
      <ci>t</ci>
     </interval>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   V(t)=m\Phi(\mathbf{x}(t),t).
  </annotation>
 </semantics>
</math>

</p>

<p>Then its Lagrangian is <em>L</em> joules, where</p>

<p>

<math display="block" id="Lagrangian_mechanics:127">
 <semantics>
  <mrow>
   <mrow>
    <mrow>
     <mi>L</mi>
     <mrow>
      <mo stretchy="false">(</mo>
      <mi>t</mi>
      <mo stretchy="false">)</mo>
     </mrow>
    </mrow>
    <mo>=</mo>
    <mrow>
     <mrow>
      <mi>T</mi>
      <mrow>
       <mo stretchy="false">(</mo>
       <mi>t</mi>
       <mo stretchy="false">)</mo>
      </mrow>
     </mrow>
     <mo>-</mo>
     <mrow>
      <mi>V</mi>
      <mrow>
       <mo stretchy="false">(</mo>
       <mi>t</mi>
       <mo stretchy="false">)</mo>
      </mrow>
     </mrow>
    </mrow>
    <mo>=</mo>
    <mrow>
     <mrow>
      <mstyle displaystyle="false">
       <mfrac>
        <mn>1</mn>
        <mn>2</mn>
       </mfrac>
      </mstyle>
      <mi>m</mi>
      <msup>
       <mrow>
        <mo>|</mo>
        <mrow>
         <mover accent="true">
          <mi>ğ±</mi>
          <mo>Ë™</mo>
         </mover>
         <mrow>
          <mo stretchy="false">(</mo>
          <mi>t</mi>
          <mo stretchy="false">)</mo>
         </mrow>
        </mrow>
        <mo>|</mo>
       </mrow>
       <mn>2</mn>
      </msup>
     </mrow>
     <mo>-</mo>
     <mrow>
      <mi>m</mi>
      <mi mathvariant="normal">Î¦</mi>
      <mrow>
       <mo stretchy="false">(</mo>
       <mrow>
        <mi>ğ±</mi>
        <mrow>
         <mo stretchy="false">(</mo>
         <mi>t</mi>
         <mo stretchy="false">)</mo>
        </mrow>
       </mrow>
       <mo>,</mo>
       <mi>t</mi>
       <mo stretchy="false">)</mo>
      </mrow>
     </mrow>
    </mrow>
   </mrow>
   <mo>.</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <and></and>
    <apply>
     <eq></eq>
     <apply>
      <times></times>
      <ci>L</ci>
      <ci>t</ci>
     </apply>
     <apply>
      <minus></minus>
      <apply>
       <times></times>
       <ci>T</ci>
       <ci>t</ci>
      </apply>
      <apply>
       <times></times>
       <ci>V</ci>
       <ci>t</ci>
      </apply>
     </apply>
    </apply>
    <apply>
     <eq></eq>
     <share href="#.cmml">
     </share>
     <apply>
      <minus></minus>
      <apply>
       <times></times>
       <apply>
        <divide></divide>
        <cn type="integer">1</cn>
        <cn type="integer">2</cn>
       </apply>
       <ci>m</ci>
       <apply>
        <csymbol cd="ambiguous">superscript</csymbol>
        <apply>
         <abs></abs>
         <apply>
          <times></times>
          <apply>
           <ci>normal-Ë™</ci>
           <ci>ğ±</ci>
          </apply>
          <ci>t</ci>
         </apply>
        </apply>
        <cn type="integer">2</cn>
       </apply>
      </apply>
      <apply>
       <times></times>
       <ci>m</ci>
       <ci>normal-Î¦</ci>
       <interval closure="open">
        <apply>
         <times></times>
         <ci>ğ±</ci>
         <ci>t</ci>
        </apply>
        <ci>t</ci>
       </interval>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   L(t)=T(t)-V(t)={\tfrac{1}{2}}m\left|\dot{\mathbf{x}}(t)\right|^{2}-m\Phi(%
\mathbf{x}(t),t).
  </annotation>
 </semantics>
</math>

</p>

<p>Varying 

<math display="inline" id="Lagrangian_mechanics:128">
 <semantics>
  <mi>ğ±</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>ğ±</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \mathbf{x}
  </annotation>
 </semantics>
</math>

 in the integral (equivalent to the Eulerâ€“Lagrange differential equation), we get</p>

<p>

<math display="block" id="Lagrangian_mechanics:129">
 <semantics>
  <mrow>
   <mn>0</mn>
   <mo>=</mo>
   <mrow>
    <mi>Î´</mi>
    <mrow>
     <mo largeop="true" symmetric="true">âˆ«</mo>
     <mrow>
      <mi>L</mi>
      <mrow>
       <mo stretchy="false">(</mo>
       <mi>t</mi>
       <mo rspace="4.2pt" stretchy="false">)</mo>
      </mrow>
      <mi mathvariant="normal">d</mi>
      <mi>t</mi>
     </mrow>
    </mrow>
   </mrow>
   <mo>=</mo>
   <mrow>
    <mo largeop="true" symmetric="true">âˆ«</mo>
    <mrow>
     <mi>Î´</mi>
     <mi>L</mi>
     <mrow>
      <mo stretchy="false">(</mo>
      <mi>t</mi>
      <mo rspace="4.2pt" stretchy="false">)</mo>
     </mrow>
     <mi mathvariant="normal">d</mi>
     <mi>t</mi>
    </mrow>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <and></and>
    <apply>
     <eq></eq>
     <cn type="integer">0</cn>
     <apply>
      <times></times>
      <ci>Î´</ci>
      <apply>
       <int></int>
       <apply>
        <times></times>
        <ci>L</ci>
        <ci>t</ci>
        <ci>normal-d</ci>
        <ci>t</ci>
       </apply>
      </apply>
     </apply>
    </apply>
    <apply>
     <eq></eq>
     <share href="#.cmml">
     </share>
     <apply>
      <int></int>
      <apply>
       <times></times>
       <ci>Î´</ci>
       <ci>L</ci>
       <ci>t</ci>
       <ci>normal-d</ci>
       <ci>t</ci>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   0=\delta\int{L(t)\,\mathrm{d}t}=\int{\delta L(t)\,\mathrm{d}t}
  </annotation>
 </semantics>
</math>

</p>

<p>

<math display="block" id="Lagrangian_mechanics:130">
 <semantics>
  <mrow>
   <mrow>
    <mi></mi>
    <mo>=</mo>
    <mrow>
     <mo largeop="true" symmetric="true">âˆ«</mo>
     <mrow>
      <mrow>
       <mo stretchy="false">(</mo>
       <mrow>
        <mrow>
         <mrow>
          <mrow>
           <mi>m</mi>
           <mover accent="true">
            <mi>ğ±</mi>
            <mo>Ë™</mo>
           </mover>
           <mrow>
            <mo stretchy="false">(</mo>
            <mi>t</mi>
            <mo stretchy="false">)</mo>
           </mrow>
          </mrow>
          <mo>â‹…</mo>
          <mover accent="true">
           <mrow>
            <mi>Î´</mi>
            <mi>ğ±</mi>
           </mrow>
           <mo>Ë™</mo>
          </mover>
         </mrow>
         <mrow>
          <mo stretchy="false">(</mo>
          <mi>t</mi>
          <mo stretchy="false">)</mo>
         </mrow>
        </mrow>
        <mo>-</mo>
        <mrow>
         <mrow>
          <mrow>
           <mi>m</mi>
           <mrow>
            <mo>âˆ‡</mo>
            <mi mathvariant="normal">Î¦</mi>
           </mrow>
           <mrow>
            <mo stretchy="false">(</mo>
            <mrow>
             <mi>ğ±</mi>
             <mrow>
              <mo stretchy="false">(</mo>
              <mi>t</mi>
              <mo stretchy="false">)</mo>
             </mrow>
            </mrow>
            <mo>,</mo>
            <mi>t</mi>
            <mo stretchy="false">)</mo>
           </mrow>
          </mrow>
          <mo>â‹…</mo>
          <mi>Î´</mi>
         </mrow>
         <mi>ğ±</mi>
         <mrow>
          <mo stretchy="false">(</mo>
          <mi>t</mi>
          <mo stretchy="false">)</mo>
         </mrow>
        </mrow>
       </mrow>
       <mo rspace="4.2pt" stretchy="false">)</mo>
      </mrow>
      <mi mathvariant="normal">d</mi>
      <mi>t</mi>
     </mrow>
    </mrow>
   </mrow>
   <mo>.</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <csymbol cd="latexml">absent</csymbol>
    <apply>
     <int></int>
     <apply>
      <times></times>
      <apply>
       <minus></minus>
       <apply>
        <times></times>
        <apply>
         <ci>normal-â‹…</ci>
         <apply>
          <times></times>
          <ci>m</ci>
          <apply>
           <ci>normal-Ë™</ci>
           <ci>ğ±</ci>
          </apply>
          <ci>t</ci>
         </apply>
         <apply>
          <ci>normal-Ë™</ci>
          <apply>
           <times></times>
           <ci>Î´</ci>
           <ci>ğ±</ci>
          </apply>
         </apply>
        </apply>
        <ci>t</ci>
       </apply>
       <apply>
        <times></times>
        <apply>
         <ci>normal-â‹…</ci>
         <apply>
          <times></times>
          <ci>m</ci>
          <apply>
           <ci>normal-âˆ‡</ci>
           <ci>normal-Î¦</ci>
          </apply>
          <interval closure="open">
           <apply>
            <times></times>
            <ci>ğ±</ci>
            <ci>t</ci>
           </apply>
           <ci>t</ci>
          </interval>
         </apply>
         <ci>Î´</ci>
        </apply>
        <ci>ğ±</ci>
        <ci>t</ci>
       </apply>
      </apply>
      <ci>normal-d</ci>
      <ci>t</ci>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   =\int{(m\dot{\mathbf{x}}(t)\cdot\dot{\delta\mathbf{x}}(t)-m\nabla\Phi(\mathbf{%
x}(t),t)\cdot\delta\mathbf{x}(t))\,\mathrm{d}t}.
  </annotation>
 </semantics>
</math>

</p>

<p>Integrate the first term by parts and discard the total integral. Then divide out the variation to get</p>

<p>

<math display="block" id="Lagrangian_mechanics:131">
 <semantics>
  <mrow>
   <mn>0</mn>
   <mo>=</mo>
   <mrow>
    <mrow>
     <mo>-</mo>
     <mrow>
      <mi>m</mi>
      <mover accent="true">
       <mi>ğ±</mi>
       <mo>Â¨</mo>
      </mover>
      <mrow>
       <mo stretchy="false">(</mo>
       <mi>t</mi>
       <mo stretchy="false">)</mo>
      </mrow>
     </mrow>
    </mrow>
    <mo>-</mo>
    <mrow>
     <mi>m</mi>
     <mrow>
      <mo>âˆ‡</mo>
      <mi mathvariant="normal">Î¦</mi>
     </mrow>
     <mrow>
      <mo stretchy="false">(</mo>
      <mrow>
       <mi>ğ±</mi>
       <mrow>
        <mo stretchy="false">(</mo>
        <mi>t</mi>
        <mo stretchy="false">)</mo>
       </mrow>
      </mrow>
      <mo>,</mo>
      <mi>t</mi>
      <mo stretchy="false">)</mo>
     </mrow>
    </mrow>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <cn type="integer">0</cn>
    <apply>
     <minus></minus>
     <apply>
      <minus></minus>
      <apply>
       <times></times>
       <ci>m</ci>
       <apply>
        <ci>normal-Â¨</ci>
        <ci>ğ±</ci>
       </apply>
       <ci>t</ci>
      </apply>
     </apply>
     <apply>
      <times></times>
      <ci>m</ci>
      <apply>
       <ci>normal-âˆ‡</ci>
       <ci>normal-Î¦</ci>
      </apply>
      <interval closure="open">
       <apply>
        <times></times>
        <ci>ğ±</ci>
        <ci>t</ci>
       </apply>
       <ci>t</ci>
      </interval>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   0=-m\ddot{\mathbf{x}}(t)-m\nabla\Phi(\mathbf{x}(t),t)
  </annotation>
 </semantics>
</math>

</p>

<p>and thus</p>

<p>(t) = - m \nabla \Phi (\mathbf{x}(t),t)  |<mtpl><eqref>1<eqref></eqref></eqref></mtpl>}}</p>

<p>is the equation of motion â€“ two different expressions for the force.</p>
<h3 id="special-relativistic-test-particle-with-electromagnetism">Special relativistic test particle with electromagnetism</h3>

<p>In special relativity, the energy (rest energy plus kinetic energy) of a free test particle is</p>

<p>

<math display="block" id="Lagrangian_mechanics:132">
 <semantics>
  <mrow>
   <mrow>
    <mrow>
     <mi>m</mi>
     <msup>
      <mi>c</mi>
      <mn>2</mn>
     </msup>
     <mfrac>
      <mrow>
       <mi>d</mi>
       <mi>t</mi>
      </mrow>
      <mrow>
       <mi>d</mi>
       <mi>Ï„</mi>
      </mrow>
     </mfrac>
    </mrow>
    <mo>=</mo>
    <mfrac>
     <mrow>
      <mi>m</mi>
      <msup>
       <mi>c</mi>
       <mn>2</mn>
      </msup>
     </mrow>
     <msqrt>
      <mrow>
       <mn>1</mn>
       <mo>-</mo>
       <mfrac>
        <mrow>
         <msup>
          <mi>v</mi>
          <mn>2</mn>
         </msup>
         <mrow>
          <mo stretchy="false">(</mo>
          <mi>t</mi>
          <mo stretchy="false">)</mo>
         </mrow>
        </mrow>
        <msup>
         <mi>c</mi>
         <mn>2</mn>
        </msup>
       </mfrac>
      </mrow>
     </msqrt>
    </mfrac>
    <mo>=</mo>
    <mrow>
     <mrow>
      <mo>+</mo>
      <mrow>
       <mi>m</mi>
       <msup>
        <mi>c</mi>
        <mn>2</mn>
       </msup>
      </mrow>
     </mrow>
     <mo>+</mo>
     <mrow>
      <mfrac>
       <mn>1</mn>
       <mn>2</mn>
      </mfrac>
      <mi>m</mi>
      <msup>
       <mi>v</mi>
       <mn>2</mn>
      </msup>
      <mrow>
       <mo stretchy="false">(</mo>
       <mi>t</mi>
       <mo stretchy="false">)</mo>
      </mrow>
     </mrow>
     <mo>+</mo>
     <mrow>
      <mfrac>
       <mn>3</mn>
       <mn>8</mn>
      </mfrac>
      <mi>m</mi>
      <mfrac>
       <mrow>
        <msup>
         <mi>v</mi>
         <mn>4</mn>
        </msup>
        <mrow>
         <mo stretchy="false">(</mo>
         <mi>t</mi>
         <mo stretchy="false">)</mo>
        </mrow>
       </mrow>
       <msup>
        <mi>c</mi>
        <mn>2</mn>
       </msup>
      </mfrac>
     </mrow>
     <mo>+</mo>
     <mpadded width="+1.7pt">
      <mi mathvariant="normal">â€¦</mi>
     </mpadded>
    </mrow>
   </mrow>
   <mo>.</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <and></and>
    <apply>
     <eq></eq>
     <apply>
      <times></times>
      <ci>m</ci>
      <apply>
       <csymbol cd="ambiguous">superscript</csymbol>
       <ci>c</ci>
       <cn type="integer">2</cn>
      </apply>
      <apply>
       <divide></divide>
       <apply>
        <times></times>
        <ci>d</ci>
        <ci>t</ci>
       </apply>
       <apply>
        <times></times>
        <ci>d</ci>
        <ci>Ï„</ci>
       </apply>
      </apply>
     </apply>
     <apply>
      <divide></divide>
      <apply>
       <times></times>
       <ci>m</ci>
       <apply>
        <csymbol cd="ambiguous">superscript</csymbol>
        <ci>c</ci>
        <cn type="integer">2</cn>
       </apply>
      </apply>
      <apply>
       <root></root>
       <apply>
        <minus></minus>
        <cn type="integer">1</cn>
        <apply>
         <divide></divide>
         <apply>
          <times></times>
          <apply>
           <csymbol cd="ambiguous">superscript</csymbol>
           <ci>v</ci>
           <cn type="integer">2</cn>
          </apply>
          <ci>t</ci>
         </apply>
         <apply>
          <csymbol cd="ambiguous">superscript</csymbol>
          <ci>c</ci>
          <cn type="integer">2</cn>
         </apply>
        </apply>
       </apply>
      </apply>
     </apply>
    </apply>
    <apply>
     <eq></eq>
     <share href="#.cmml">
     </share>
     <apply>
      <plus></plus>
      <apply>
       <plus></plus>
       <apply>
        <times></times>
        <ci>m</ci>
        <apply>
         <csymbol cd="ambiguous">superscript</csymbol>
         <ci>c</ci>
         <cn type="integer">2</cn>
        </apply>
       </apply>
      </apply>
      <apply>
       <times></times>
       <apply>
        <divide></divide>
        <cn type="integer">1</cn>
        <cn type="integer">2</cn>
       </apply>
       <ci>m</ci>
       <apply>
        <csymbol cd="ambiguous">superscript</csymbol>
        <ci>v</ci>
        <cn type="integer">2</cn>
       </apply>
       <ci>t</ci>
      </apply>
      <apply>
       <times></times>
       <apply>
        <divide></divide>
        <cn type="integer">3</cn>
        <cn type="integer">8</cn>
       </apply>
       <ci>m</ci>
       <apply>
        <divide></divide>
        <apply>
         <times></times>
         <apply>
          <csymbol cd="ambiguous">superscript</csymbol>
          <ci>v</ci>
          <cn type="integer">4</cn>
         </apply>
         <ci>t</ci>
        </apply>
        <apply>
         <csymbol cd="ambiguous">superscript</csymbol>
         <ci>c</ci>
         <cn type="integer">2</cn>
        </apply>
       </apply>
      </apply>
      <ci>normal-â€¦</ci>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   mc^{2}\frac{dt}{d\tau}=\frac{mc^{2}}{\sqrt{1-\frac{v^{2}(t)}{c^{2}}}}=+mc^{2}+%
{1\over 2}mv^{2}(t)+{3\over 8}m\frac{v^{4}(t)}{c^{2}}+\dots\,.
  </annotation>
 </semantics>
</math>

</p>

<p>However, the term in the Lagrangian that gives rise to the derivative of the momentum is no longer the kinetic energy.</p>

<p>One possible Lagrangian</p>

<p>

<math display="block" id="Lagrangian_mechanics:133">
 <semantics>
  <mrow>
   <mrow>
    <mo>-</mo>
    <mrow>
     <mi>m</mi>
     <msup>
      <mi>c</mi>
      <mn>2</mn>
     </msup>
     <mfrac>
      <mrow>
       <mi>d</mi>
       <mi>Ï„</mi>
       <mrow>
        <mo stretchy="false">(</mo>
        <mi>t</mi>
        <mo stretchy="false">)</mo>
       </mrow>
      </mrow>
      <mrow>
       <mi>d</mi>
       <mi>t</mi>
      </mrow>
     </mfrac>
    </mrow>
   </mrow>
   <mo>=</mo>
   <mrow>
    <mo>-</mo>
    <mrow>
     <mi>m</mi>
     <msup>
      <mi>c</mi>
      <mn>2</mn>
     </msup>
     <msqrt>
      <mrow>
       <mn>1</mn>
       <mo>-</mo>
       <mfrac>
        <mrow>
         <msup>
          <mi>v</mi>
          <mn>2</mn>
         </msup>
         <mrow>
          <mo stretchy="false">(</mo>
          <mi>t</mi>
          <mo stretchy="false">)</mo>
         </mrow>
        </mrow>
        <msup>
         <mi>c</mi>
         <mn>2</mn>
        </msup>
       </mfrac>
      </mrow>
     </msqrt>
    </mrow>
   </mrow>
   <mo>=</mo>
   <mrow>
    <mrow>
     <mo>-</mo>
     <mrow>
      <mi>m</mi>
      <msup>
       <mi>c</mi>
       <mn>2</mn>
      </msup>
     </mrow>
    </mrow>
    <mo>+</mo>
    <mrow>
     <mfrac>
      <mn>1</mn>
      <mn>2</mn>
     </mfrac>
     <mi>m</mi>
     <msup>
      <mi>v</mi>
      <mn>2</mn>
     </msup>
     <mrow>
      <mo stretchy="false">(</mo>
      <mi>t</mi>
      <mo stretchy="false">)</mo>
     </mrow>
    </mrow>
    <mo>+</mo>
    <mrow>
     <mfrac>
      <mn>1</mn>
      <mn>8</mn>
     </mfrac>
     <mi>m</mi>
     <mfrac>
      <mrow>
       <msup>
        <mi>v</mi>
        <mn>4</mn>
       </msup>
       <mrow>
        <mo stretchy="false">(</mo>
        <mi>t</mi>
        <mo stretchy="false">)</mo>
       </mrow>
      </mrow>
      <msup>
       <mi>c</mi>
       <mn>2</mn>
      </msup>
     </mfrac>
    </mrow>
    <mo>+</mo>
    <mi mathvariant="normal">â€¦</mi>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <and></and>
    <apply>
     <eq></eq>
     <apply>
      <minus></minus>
      <apply>
       <times></times>
       <ci>m</ci>
       <apply>
        <csymbol cd="ambiguous">superscript</csymbol>
        <ci>c</ci>
        <cn type="integer">2</cn>
       </apply>
       <apply>
        <divide></divide>
        <apply>
         <times></times>
         <ci>d</ci>
         <ci>Ï„</ci>
         <ci>t</ci>
        </apply>
        <apply>
         <times></times>
         <ci>d</ci>
         <ci>t</ci>
        </apply>
       </apply>
      </apply>
     </apply>
     <apply>
      <minus></minus>
      <apply>
       <times></times>
       <ci>m</ci>
       <apply>
        <csymbol cd="ambiguous">superscript</csymbol>
        <ci>c</ci>
        <cn type="integer">2</cn>
       </apply>
       <apply>
        <root></root>
        <apply>
         <minus></minus>
         <cn type="integer">1</cn>
         <apply>
          <divide></divide>
          <apply>
           <times></times>
           <apply>
            <csymbol cd="ambiguous">superscript</csymbol>
            <ci>v</ci>
            <cn type="integer">2</cn>
           </apply>
           <ci>t</ci>
          </apply>
          <apply>
           <csymbol cd="ambiguous">superscript</csymbol>
           <ci>c</ci>
           <cn type="integer">2</cn>
          </apply>
         </apply>
        </apply>
       </apply>
      </apply>
     </apply>
    </apply>
    <apply>
     <eq></eq>
     <share href="#.cmml">
     </share>
     <apply>
      <plus></plus>
      <apply>
       <minus></minus>
       <apply>
        <times></times>
        <ci>m</ci>
        <apply>
         <csymbol cd="ambiguous">superscript</csymbol>
         <ci>c</ci>
         <cn type="integer">2</cn>
        </apply>
       </apply>
      </apply>
      <apply>
       <times></times>
       <apply>
        <divide></divide>
        <cn type="integer">1</cn>
        <cn type="integer">2</cn>
       </apply>
       <ci>m</ci>
       <apply>
        <csymbol cd="ambiguous">superscript</csymbol>
        <ci>v</ci>
        <cn type="integer">2</cn>
       </apply>
       <ci>t</ci>
      </apply>
      <apply>
       <times></times>
       <apply>
        <divide></divide>
        <cn type="integer">1</cn>
        <cn type="integer">8</cn>
       </apply>
       <ci>m</ci>
       <apply>
        <divide></divide>
        <apply>
         <times></times>
         <apply>
          <csymbol cd="ambiguous">superscript</csymbol>
          <ci>v</ci>
          <cn type="integer">4</cn>
         </apply>
         <ci>t</ci>
        </apply>
        <apply>
         <csymbol cd="ambiguous">superscript</csymbol>
         <ci>c</ci>
         <cn type="integer">2</cn>
        </apply>
       </apply>
      </apply>
      <ci>normal-â€¦</ci>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   -mc^{2}\frac{d\tau(t)}{dt}=-mc^{2}\sqrt{1-\frac{v^{2}(t)}{c^{2}}}=-mc^{2}+{1%
\over 2}mv^{2}(t)+{1\over 8}m\frac{v^{4}(t)}{c^{2}}+\dots
  </annotation>
 </semantics>
</math>

</p>

<p>where <em>c</em> is the vacuum <a href="speed_of_light" title="wikilink">speed of light</a> in mÂ·s<sup>âˆ’1</sup>, <em>Ï„</em> is the <a href="proper_time" title="wikilink">proper time</a> in seconds (i.e. time measured by a clock moving with the particle) and 

<math display="inline" id="Lagrangian_mechanics:134">
 <semantics>
  <mrow>
   <mrow>
    <mrow>
     <msup>
      <mi>v</mi>
      <mn>2</mn>
     </msup>
     <mrow>
      <mo stretchy="false">(</mo>
      <mi>t</mi>
      <mo stretchy="false">)</mo>
     </mrow>
    </mrow>
    <mo>=</mo>
    <mrow>
     <mrow>
      <mrow>
       <mover accent="true">
        <mi>ğ±</mi>
        <mo>Ë™</mo>
       </mover>
       <mrow>
        <mo stretchy="false">(</mo>
        <mi>t</mi>
        <mo stretchy="false">)</mo>
       </mrow>
      </mrow>
      <mo>â‹…</mo>
      <mover accent="true">
       <mi>ğ±</mi>
       <mo>Ë™</mo>
      </mover>
     </mrow>
     <mrow>
      <mo stretchy="false">(</mo>
      <mi>t</mi>
      <mo stretchy="false">)</mo>
     </mrow>
    </mrow>
   </mrow>
   <mo>.</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <times></times>
     <apply>
      <csymbol cd="ambiguous">superscript</csymbol>
      <ci>v</ci>
      <cn type="integer">2</cn>
     </apply>
     <ci>t</ci>
    </apply>
    <apply>
     <times></times>
     <apply>
      <ci>normal-â‹…</ci>
      <apply>
       <times></times>
       <apply>
        <ci>normal-Ë™</ci>
        <ci>ğ±</ci>
       </apply>
       <ci>t</ci>
      </apply>
      <apply>
       <ci>normal-Ë™</ci>
       <ci>ğ±</ci>
      </apply>
     </apply>
     <ci>t</ci>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \scriptstyle v^{2}(t)=\dot{\mathbf{x}}(t)\cdot\dot{\mathbf{x}}(t).
  </annotation>
 </semantics>
</math>

 The second term in the series is just the classical kinetic energy. Suppose the particle has electrical charge <em>q</em> coulombs and is in an electromagnetic field with <a href="scalar_potential" title="wikilink">scalar potential</a> Ï• volts (a volt is a joule per coulomb) and <a href="vector_potential" title="wikilink">vector potential</a> 

<math display="inline" id="Lagrangian_mechanics:135">
 <semantics>
  <mi>ğ€</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>ğ€</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \scriptstyle\mathbf{A}
  </annotation>
 </semantics>
</math>

 VÂ·sÂ·m<sup>âˆ’1</sup>. The Lagrangian of a special relativistic test particle in an electromagnetic field is:</p>

<p>

<math display="block" id="Lagrangian_mechanics:136">
 <semantics>
  <mrow>
   <mrow>
    <mrow>
     <mi>L</mi>
     <mrow>
      <mo stretchy="false">(</mo>
      <mi>t</mi>
      <mo stretchy="false">)</mo>
     </mrow>
    </mrow>
    <mo>=</mo>
    <mrow>
     <mrow>
      <mrow>
       <mo>-</mo>
       <mrow>
        <mi>m</mi>
        <msup>
         <mi>c</mi>
         <mn>2</mn>
        </msup>
        <msqrt>
         <mrow>
          <mn>1</mn>
          <mo>-</mo>
          <mfrac>
           <mrow>
            <msup>
             <mi>v</mi>
             <mn>2</mn>
            </msup>
            <mrow>
             <mo stretchy="false">(</mo>
             <mi>t</mi>
             <mo stretchy="false">)</mo>
            </mrow>
           </mrow>
           <msup>
            <mi>c</mi>
            <mn>2</mn>
           </msup>
          </mfrac>
         </mrow>
        </msqrt>
       </mrow>
      </mrow>
      <mo>-</mo>
      <mrow>
       <mi>q</mi>
       <mi>Ï•</mi>
       <mrow>
        <mo stretchy="false">(</mo>
        <mrow>
         <mi>ğ±</mi>
         <mrow>
          <mo stretchy="false">(</mo>
          <mi>t</mi>
          <mo stretchy="false">)</mo>
         </mrow>
        </mrow>
        <mo>,</mo>
        <mi>t</mi>
        <mo stretchy="false">)</mo>
       </mrow>
      </mrow>
     </mrow>
     <mo>+</mo>
     <mrow>
      <mrow>
       <mrow>
        <mi>q</mi>
        <mover accent="true">
         <mi>ğ±</mi>
         <mo>Ë™</mo>
        </mover>
        <mrow>
         <mo stretchy="false">(</mo>
         <mi>t</mi>
         <mo stretchy="false">)</mo>
        </mrow>
       </mrow>
       <mo>â‹…</mo>
       <mi>ğ€</mi>
      </mrow>
      <mrow>
       <mo stretchy="false">(</mo>
       <mrow>
        <mi>ğ±</mi>
        <mrow>
         <mo stretchy="false">(</mo>
         <mi>t</mi>
         <mo stretchy="false">)</mo>
        </mrow>
       </mrow>
       <mo>,</mo>
       <mi>t</mi>
       <mo stretchy="false">)</mo>
      </mrow>
     </mrow>
    </mrow>
   </mrow>
   <mo>.</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <times></times>
     <ci>L</ci>
     <ci>t</ci>
    </apply>
    <apply>
     <plus></plus>
     <apply>
      <minus></minus>
      <apply>
       <minus></minus>
       <apply>
        <times></times>
        <ci>m</ci>
        <apply>
         <csymbol cd="ambiguous">superscript</csymbol>
         <ci>c</ci>
         <cn type="integer">2</cn>
        </apply>
        <apply>
         <root></root>
         <apply>
          <minus></minus>
          <cn type="integer">1</cn>
          <apply>
           <divide></divide>
           <apply>
            <times></times>
            <apply>
             <csymbol cd="ambiguous">superscript</csymbol>
             <ci>v</ci>
             <cn type="integer">2</cn>
            </apply>
            <ci>t</ci>
           </apply>
           <apply>
            <csymbol cd="ambiguous">superscript</csymbol>
            <ci>c</ci>
            <cn type="integer">2</cn>
           </apply>
          </apply>
         </apply>
        </apply>
       </apply>
      </apply>
      <apply>
       <times></times>
       <ci>q</ci>
       <ci>Ï•</ci>
       <interval closure="open">
        <apply>
         <times></times>
         <ci>ğ±</ci>
         <ci>t</ci>
        </apply>
        <ci>t</ci>
       </interval>
      </apply>
     </apply>
     <apply>
      <times></times>
      <apply>
       <ci>normal-â‹…</ci>
       <apply>
        <times></times>
        <ci>q</ci>
        <apply>
         <ci>normal-Ë™</ci>
         <ci>ğ±</ci>
        </apply>
        <ci>t</ci>
       </apply>
       <ci>ğ€</ci>
      </apply>
      <interval closure="open">
       <apply>
        <times></times>
        <ci>ğ±</ci>
        <ci>t</ci>
       </apply>
       <ci>t</ci>
      </interval>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   L(t)=-mc^{2}\sqrt{1-\frac{v^{2}(t)}{c^{2}}}-q\phi(\mathbf{x}(t),t)+q\dot{%
\mathbf{x}}(t)\cdot\mathbf{A}(\mathbf{x}(t),t).
  </annotation>
 </semantics>
</math>

</p>

<p>Varying this with respect to 

<math display="inline" id="Lagrangian_mechanics:137">
 <semantics>
  <mi>ğ±</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>ğ±</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \mathbf{x}
  </annotation>
 </semantics>
</math>

, we get</p>

<p>

<math display="block" id="Lagrangian_mechanics:138">
 <semantics>
  <mrow>
   <mn>0</mn>
   <mo>=</mo>
   <mrow>
    <mrow>
     <mrow>
      <mo>-</mo>
      <mrow>
       <mfrac>
        <mi>d</mi>
        <mrow>
         <mi>d</mi>
         <mi>t</mi>
        </mrow>
       </mfrac>
       <mrow>
        <mo>(</mo>
        <mfrac>
         <mrow>
          <mi>m</mi>
          <mover accent="true">
           <mi>ğ±</mi>
           <mo>Ë™</mo>
          </mover>
          <mrow>
           <mo stretchy="false">(</mo>
           <mi>t</mi>
           <mo stretchy="false">)</mo>
          </mrow>
         </mrow>
         <msqrt>
          <mrow>
           <mn>1</mn>
           <mo>-</mo>
           <mfrac>
            <mrow>
             <msup>
              <mi>v</mi>
              <mn>2</mn>
             </msup>
             <mrow>
              <mo stretchy="false">(</mo>
              <mi>t</mi>
              <mo stretchy="false">)</mo>
             </mrow>
            </mrow>
            <msup>
             <mi>c</mi>
             <mn>2</mn>
            </msup>
           </mfrac>
          </mrow>
         </msqrt>
        </mfrac>
        <mo>)</mo>
       </mrow>
      </mrow>
     </mrow>
     <mo>-</mo>
     <mrow>
      <mi>q</mi>
      <mrow>
       <mo>âˆ‡</mo>
       <mi>Ï•</mi>
      </mrow>
      <mrow>
       <mo stretchy="false">(</mo>
       <mrow>
        <mi>ğ±</mi>
        <mrow>
         <mo stretchy="false">(</mo>
         <mi>t</mi>
         <mo stretchy="false">)</mo>
        </mrow>
       </mrow>
       <mo>,</mo>
       <mi>t</mi>
       <mo stretchy="false">)</mo>
      </mrow>
     </mrow>
     <mo>-</mo>
     <mrow>
      <mi>q</mi>
      <mfrac>
       <mrow>
        <mrow>
         <mo>âˆ‚</mo>
         <mi>ğ€</mi>
        </mrow>
        <mrow>
         <mo stretchy="false">(</mo>
         <mrow>
          <mi>ğ±</mi>
          <mrow>
           <mo stretchy="false">(</mo>
           <mi>t</mi>
           <mo stretchy="false">)</mo>
          </mrow>
         </mrow>
         <mo>,</mo>
         <mi>t</mi>
         <mo stretchy="false">)</mo>
        </mrow>
       </mrow>
       <mrow>
        <mo>âˆ‚</mo>
        <mi>t</mi>
       </mrow>
      </mfrac>
     </mrow>
     <mo>-</mo>
     <mrow>
      <mrow>
       <mrow>
        <mi>q</mi>
        <mover accent="true">
         <mi>ğ±</mi>
         <mo>Ë™</mo>
        </mover>
        <mrow>
         <mo stretchy="false">(</mo>
         <mi>t</mi>
         <mo stretchy="false">)</mo>
        </mrow>
       </mrow>
       <mo>â‹…</mo>
       <mrow>
        <mo>âˆ‡</mo>
        <mi>ğ€</mi>
       </mrow>
      </mrow>
      <mrow>
       <mo stretchy="false">(</mo>
       <mrow>
        <mi>ğ±</mi>
        <mrow>
         <mo stretchy="false">(</mo>
         <mi>t</mi>
         <mo stretchy="false">)</mo>
        </mrow>
       </mrow>
       <mo>,</mo>
       <mi>t</mi>
       <mo stretchy="false">)</mo>
      </mrow>
     </mrow>
    </mrow>
    <mo>+</mo>
    <mrow>
     <mrow>
      <mrow>
       <mi>q</mi>
       <mrow>
        <mo>âˆ‡</mo>
        <mi>ğ€</mi>
       </mrow>
       <mrow>
        <mo stretchy="false">(</mo>
        <mrow>
         <mi>ğ±</mi>
         <mrow>
          <mo stretchy="false">(</mo>
          <mi>t</mi>
          <mo stretchy="false">)</mo>
         </mrow>
        </mrow>
        <mo>,</mo>
        <mi>t</mi>
        <mo stretchy="false">)</mo>
       </mrow>
      </mrow>
      <mo>â‹…</mo>
      <mover accent="true">
       <mi>ğ±</mi>
       <mo>Ë™</mo>
      </mover>
     </mrow>
     <mrow>
      <mo stretchy="false">(</mo>
      <mi>t</mi>
      <mo stretchy="false">)</mo>
     </mrow>
    </mrow>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <cn type="integer">0</cn>
    <apply>
     <plus></plus>
     <apply>
      <minus></minus>
      <apply>
       <minus></minus>
       <apply>
        <times></times>
        <apply>
         <divide></divide>
         <ci>d</ci>
         <apply>
          <times></times>
          <ci>d</ci>
          <ci>t</ci>
         </apply>
        </apply>
        <apply>
         <divide></divide>
         <apply>
          <times></times>
          <ci>m</ci>
          <apply>
           <ci>normal-Ë™</ci>
           <ci>ğ±</ci>
          </apply>
          <ci>t</ci>
         </apply>
         <apply>
          <root></root>
          <apply>
           <minus></minus>
           <cn type="integer">1</cn>
           <apply>
            <divide></divide>
            <apply>
             <times></times>
             <apply>
              <csymbol cd="ambiguous">superscript</csymbol>
              <ci>v</ci>
              <cn type="integer">2</cn>
             </apply>
             <ci>t</ci>
            </apply>
            <apply>
             <csymbol cd="ambiguous">superscript</csymbol>
             <ci>c</ci>
             <cn type="integer">2</cn>
            </apply>
           </apply>
          </apply>
         </apply>
        </apply>
       </apply>
      </apply>
      <apply>
       <times></times>
       <ci>q</ci>
       <apply>
        <ci>normal-âˆ‡</ci>
        <ci>Ï•</ci>
       </apply>
       <interval closure="open">
        <apply>
         <times></times>
         <ci>ğ±</ci>
         <ci>t</ci>
        </apply>
        <ci>t</ci>
       </interval>
      </apply>
      <apply>
       <times></times>
       <ci>q</ci>
       <apply>
        <divide></divide>
        <apply>
         <times></times>
         <apply>
          <partialdiff></partialdiff>
          <ci>ğ€</ci>
         </apply>
         <interval closure="open">
          <apply>
           <times></times>
           <ci>ğ±</ci>
           <ci>t</ci>
          </apply>
          <ci>t</ci>
         </interval>
        </apply>
        <apply>
         <partialdiff></partialdiff>
         <ci>t</ci>
        </apply>
       </apply>
      </apply>
      <apply>
       <times></times>
       <apply>
        <ci>normal-â‹…</ci>
        <apply>
         <times></times>
         <ci>q</ci>
         <apply>
          <ci>normal-Ë™</ci>
          <ci>ğ±</ci>
         </apply>
         <ci>t</ci>
        </apply>
        <apply>
         <ci>normal-âˆ‡</ci>
         <ci>ğ€</ci>
        </apply>
       </apply>
       <interval closure="open">
        <apply>
         <times></times>
         <ci>ğ±</ci>
         <ci>t</ci>
        </apply>
        <ci>t</ci>
       </interval>
      </apply>
     </apply>
     <apply>
      <times></times>
      <apply>
       <ci>normal-â‹…</ci>
       <apply>
        <times></times>
        <ci>q</ci>
        <apply>
         <ci>normal-âˆ‡</ci>
         <ci>ğ€</ci>
        </apply>
        <interval closure="open">
         <apply>
          <times></times>
          <ci>ğ±</ci>
          <ci>t</ci>
         </apply>
         <ci>t</ci>
        </interval>
       </apply>
       <apply>
        <ci>normal-Ë™</ci>
        <ci>ğ±</ci>
       </apply>
      </apply>
      <ci>t</ci>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   0=-\frac{d}{dt}\left(\frac{m\dot{\mathbf{x}}(t)}{\sqrt{1-\frac{v^{2}(t)}{c^{2}%
}}}\right)-q\nabla\phi(\mathbf{x}(t),t)-q\frac{\partial\mathbf{A}(\mathbf{x}(t%
),t)}{\partial t}-q\dot{\mathbf{x}}(t)\cdot\nabla\mathbf{A}(\mathbf{x}(t),t)+q%
\nabla{\mathbf{A}}(\mathbf{x}(t),t)\cdot\dot{\mathbf{x}}(t)
  </annotation>
 </semantics>
</math>

</p>

<p>which is</p>

<p>

<math display="block" id="Lagrangian_mechanics:139">
 <semantics>
  <mrow>
   <mrow>
    <mfrac>
     <mi>d</mi>
     <mrow>
      <mi>d</mi>
      <mi>t</mi>
     </mrow>
    </mfrac>
    <mrow>
     <mo>(</mo>
     <mfrac>
      <mrow>
       <mi>m</mi>
       <mover accent="true">
        <mi>ğ±</mi>
        <mo>Ë™</mo>
       </mover>
       <mrow>
        <mo stretchy="false">(</mo>
        <mi>t</mi>
        <mo stretchy="false">)</mo>
       </mrow>
      </mrow>
      <msqrt>
       <mrow>
        <mn>1</mn>
        <mo>-</mo>
        <mfrac>
         <mrow>
          <msup>
           <mi>v</mi>
           <mn>2</mn>
          </msup>
          <mrow>
           <mo stretchy="false">(</mo>
           <mi>t</mi>
           <mo stretchy="false">)</mo>
          </mrow>
         </mrow>
         <msup>
          <mi>c</mi>
          <mn>2</mn>
         </msup>
        </mfrac>
       </mrow>
      </msqrt>
     </mfrac>
     <mo>)</mo>
    </mrow>
   </mrow>
   <mo>=</mo>
   <mrow>
    <mrow>
     <mi>q</mi>
     <mi>ğ„</mi>
     <mrow>
      <mo stretchy="false">(</mo>
      <mrow>
       <mi>ğ±</mi>
       <mrow>
        <mo stretchy="false">(</mo>
        <mi>t</mi>
        <mo stretchy="false">)</mo>
       </mrow>
      </mrow>
      <mo>,</mo>
      <mi>t</mi>
      <mo stretchy="false">)</mo>
     </mrow>
    </mrow>
    <mo>+</mo>
    <mrow>
     <mrow>
      <mrow>
       <mi>q</mi>
       <mover accent="true">
        <mi>ğ±</mi>
        <mo>Ë™</mo>
       </mover>
       <mrow>
        <mo stretchy="false">(</mo>
        <mi>t</mi>
        <mo stretchy="false">)</mo>
       </mrow>
      </mrow>
      <mo>Ã—</mo>
      <mi>ğ</mi>
     </mrow>
     <mrow>
      <mo stretchy="false">(</mo>
      <mrow>
       <mi>ğ±</mi>
       <mrow>
        <mo stretchy="false">(</mo>
        <mi>t</mi>
        <mo stretchy="false">)</mo>
       </mrow>
      </mrow>
      <mo>,</mo>
      <mi>t</mi>
      <mo stretchy="false">)</mo>
     </mrow>
    </mrow>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <times></times>
     <apply>
      <divide></divide>
      <ci>d</ci>
      <apply>
       <times></times>
       <ci>d</ci>
       <ci>t</ci>
      </apply>
     </apply>
     <apply>
      <divide></divide>
      <apply>
       <times></times>
       <ci>m</ci>
       <apply>
        <ci>normal-Ë™</ci>
        <ci>ğ±</ci>
       </apply>
       <ci>t</ci>
      </apply>
      <apply>
       <root></root>
       <apply>
        <minus></minus>
        <cn type="integer">1</cn>
        <apply>
         <divide></divide>
         <apply>
          <times></times>
          <apply>
           <csymbol cd="ambiguous">superscript</csymbol>
           <ci>v</ci>
           <cn type="integer">2</cn>
          </apply>
          <ci>t</ci>
         </apply>
         <apply>
          <csymbol cd="ambiguous">superscript</csymbol>
          <ci>c</ci>
          <cn type="integer">2</cn>
         </apply>
        </apply>
       </apply>
      </apply>
     </apply>
    </apply>
    <apply>
     <plus></plus>
     <apply>
      <times></times>
      <ci>q</ci>
      <ci>ğ„</ci>
      <interval closure="open">
       <apply>
        <times></times>
        <ci>ğ±</ci>
        <ci>t</ci>
       </apply>
       <ci>t</ci>
      </interval>
     </apply>
     <apply>
      <times></times>
      <apply>
       <times></times>
       <apply>
        <times></times>
        <ci>q</ci>
        <apply>
         <ci>normal-Ë™</ci>
         <ci>ğ±</ci>
        </apply>
        <ci>t</ci>
       </apply>
       <ci>ğ</ci>
      </apply>
      <interval closure="open">
       <apply>
        <times></times>
        <ci>ğ±</ci>
        <ci>t</ci>
       </apply>
       <ci>t</ci>
      </interval>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \frac{d}{dt}\left(\frac{m\dot{\mathbf{x}}(t)}{\sqrt{1-\frac{v^{2}(t)}{c^{2}}}}%
\right)=q\mathbf{E}(\mathbf{x}(t),t)+q\dot{\mathbf{x}}(t)\times\mathbf{B}(%
\mathbf{x}(t),t)
  </annotation>
 </semantics>
</math>

</p>

<p>which is the equation for the <a href="Lorentz_force" title="wikilink">Lorentz force</a>, where:</p>

<p>

<math display="block" id="Lagrangian_mechanics:140">
 <semantics>
  <mrow>
   <mrow>
    <mi>ğ„</mi>
    <mrow>
     <mo stretchy="false">(</mo>
     <mi>ğ±</mi>
     <mo>,</mo>
     <mi>t</mi>
     <mo stretchy="false">)</mo>
    </mrow>
   </mrow>
   <mo>=</mo>
   <mrow>
    <mrow>
     <mo>-</mo>
     <mrow>
      <mrow>
       <mo>âˆ‡</mo>
       <mi>Ï•</mi>
      </mrow>
      <mrow>
       <mo stretchy="false">(</mo>
       <mi>ğ±</mi>
       <mo>,</mo>
       <mi>t</mi>
       <mo stretchy="false">)</mo>
      </mrow>
     </mrow>
    </mrow>
    <mo>-</mo>
    <mfrac>
     <mrow>
      <mrow>
       <mo>âˆ‚</mo>
       <mi>ğ€</mi>
      </mrow>
      <mrow>
       <mo stretchy="false">(</mo>
       <mi>ğ±</mi>
       <mo>,</mo>
       <mi>t</mi>
       <mo stretchy="false">)</mo>
      </mrow>
     </mrow>
     <mrow>
      <mo>âˆ‚</mo>
      <mi>t</mi>
     </mrow>
    </mfrac>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <times></times>
     <ci>ğ„</ci>
     <interval closure="open">
      <ci>ğ±</ci>
      <ci>t</ci>
     </interval>
    </apply>
    <apply>
     <minus></minus>
     <apply>
      <minus></minus>
      <apply>
       <times></times>
       <apply>
        <ci>normal-âˆ‡</ci>
        <ci>Ï•</ci>
       </apply>
       <interval closure="open">
        <ci>ğ±</ci>
        <ci>t</ci>
       </interval>
      </apply>
     </apply>
     <apply>
      <divide></divide>
      <apply>
       <times></times>
       <apply>
        <partialdiff></partialdiff>
        <ci>ğ€</ci>
       </apply>
       <interval closure="open">
        <ci>ğ±</ci>
        <ci>t</ci>
       </interval>
      </apply>
      <apply>
       <partialdiff></partialdiff>
       <ci>t</ci>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \mathbf{E}(\mathbf{x},t)=-\nabla\phi(\mathbf{x},t)-\frac{\partial\mathbf{A}(%
\mathbf{x},t)}{\partial t}
  </annotation>
 </semantics>
</math>

</p>

<p>

<math display="block" id="Lagrangian_mechanics:141">
 <semantics>
  <mrow>
   <mrow>
    <mi>ğ</mi>
    <mrow>
     <mo stretchy="false">(</mo>
     <mi>ğ±</mi>
     <mo>,</mo>
     <mi>t</mi>
     <mo stretchy="false">)</mo>
    </mrow>
   </mrow>
   <mo>=</mo>
   <mrow>
    <mrow>
     <mo>âˆ‡</mo>
     <mo>Ã—</mo>
     <mi>ğ€</mi>
    </mrow>
    <mrow>
     <mo stretchy="false">(</mo>
     <mi>ğ±</mi>
     <mo>,</mo>
     <mi>t</mi>
     <mo stretchy="false">)</mo>
    </mrow>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <times></times>
     <ci>ğ</ci>
     <interval closure="open">
      <ci>ğ±</ci>
      <ci>t</ci>
     </interval>
    </apply>
    <apply>
     <times></times>
     <apply>
      <times></times>
      <ci>normal-âˆ‡</ci>
      <ci>ğ€</ci>
     </apply>
     <interval closure="open">
      <ci>ğ±</ci>
      <ci>t</ci>
     </interval>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \mathbf{B}(\mathbf{x},t)=\nabla\times\mathbf{A}(\mathbf{x},t)
  </annotation>
 </semantics>
</math>

</p>

<p>are the fields and potentials.</p>

<p>An alternative Lagrangian for a special relativistic test particle is</p>

<p>

<math display="block" id="Lagrangian_mechanics:142">
 <semantics>
  <mrow>
   <mrow>
    <mi>L</mi>
    <mrow>
     <mo stretchy="false">(</mo>
     <mi>Ï„</mi>
     <mo stretchy="false">)</mo>
    </mrow>
   </mrow>
   <mo>=</mo>
   <mrow>
    <mrow>
     <mfrac>
      <mn>1</mn>
      <mn>2</mn>
     </mfrac>
     <mi>m</mi>
     <msup>
      <mi>u</mi>
      <mi>Î¼</mi>
     </msup>
     <mrow>
      <mo stretchy="false">(</mo>
      <mi>Ï„</mi>
      <mo stretchy="false">)</mo>
     </mrow>
     <msub>
      <mi>u</mi>
      <mi>Î¼</mi>
     </msub>
     <mrow>
      <mo stretchy="false">(</mo>
      <mi>Ï„</mi>
      <mo stretchy="false">)</mo>
     </mrow>
    </mrow>
    <mo>+</mo>
    <mrow>
     <mi>q</mi>
     <msup>
      <mi>u</mi>
      <mi>Î¼</mi>
     </msup>
     <mrow>
      <mo stretchy="false">(</mo>
      <mi>Ï„</mi>
      <mo stretchy="false">)</mo>
     </mrow>
     <msub>
      <mi>A</mi>
      <mi>Î¼</mi>
     </msub>
     <mrow>
      <mo stretchy="false">(</mo>
      <mi>x</mi>
      <mo stretchy="false">)</mo>
     </mrow>
    </mrow>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <times></times>
     <ci>L</ci>
     <ci>Ï„</ci>
    </apply>
    <apply>
     <plus></plus>
     <apply>
      <times></times>
      <apply>
       <divide></divide>
       <cn type="integer">1</cn>
       <cn type="integer">2</cn>
      </apply>
      <ci>m</ci>
      <apply>
       <csymbol cd="ambiguous">superscript</csymbol>
       <ci>u</ci>
       <ci>Î¼</ci>
      </apply>
      <ci>Ï„</ci>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>u</ci>
       <ci>Î¼</ci>
      </apply>
      <ci>Ï„</ci>
     </apply>
     <apply>
      <times></times>
      <ci>q</ci>
      <apply>
       <csymbol cd="ambiguous">superscript</csymbol>
       <ci>u</ci>
       <ci>Î¼</ci>
      </apply>
      <ci>Ï„</ci>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>A</ci>
       <ci>Î¼</ci>
      </apply>
      <ci>x</ci>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   L(\tau)=\frac{1}{2}mu^{\mu}(\tau)u_{\mu}(\tau)+qu^{\mu}(\tau)A_{\mu}(x)
  </annotation>
 </semantics>
</math>

</p>

<p>where <em>u<sup>Î¼</sup></em> = <em>dx<sup>Î¼</sup></em>/<em>dÏ„</em> is the <a class="uri" href="four-velocity" title="wikilink">four-velocity</a> of the test particle.</p>

<p>The Euler-Lagrange equations</p>

<p>

<math display="block" id="Lagrangian_mechanics:143">
 <semantics>
  <mrow>
   <mrow>
    <mfrac>
     <mrow>
      <mo>âˆ‚</mo>
      <mi>L</mi>
     </mrow>
     <mrow>
      <mo>âˆ‚</mo>
      <msup>
       <mi>x</mi>
       <mi>Î½</mi>
      </msup>
     </mrow>
    </mfrac>
    <mo>-</mo>
    <mrow>
     <mfrac>
      <mi>d</mi>
      <mrow>
       <mi>d</mi>
       <mi>Ï„</mi>
      </mrow>
     </mfrac>
     <mfrac>
      <mrow>
       <mo>âˆ‚</mo>
       <mi>L</mi>
      </mrow>
      <mrow>
       <mo>âˆ‚</mo>
       <msup>
        <mi>u</mi>
        <mi>Î½</mi>
       </msup>
      </mrow>
     </mfrac>
    </mrow>
   </mrow>
   <mo>=</mo>
   <mn>0</mn>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <minus></minus>
     <apply>
      <divide></divide>
      <apply>
       <partialdiff></partialdiff>
       <ci>L</ci>
      </apply>
      <apply>
       <partialdiff></partialdiff>
       <apply>
        <csymbol cd="ambiguous">superscript</csymbol>
        <ci>x</ci>
        <ci>Î½</ci>
       </apply>
      </apply>
     </apply>
     <apply>
      <times></times>
      <apply>
       <divide></divide>
       <ci>d</ci>
       <apply>
        <times></times>
        <ci>d</ci>
        <ci>Ï„</ci>
       </apply>
      </apply>
      <apply>
       <divide></divide>
       <apply>
        <partialdiff></partialdiff>
        <ci>L</ci>
       </apply>
       <apply>
        <partialdiff></partialdiff>
        <apply>
         <csymbol cd="ambiguous">superscript</csymbol>
         <ci>u</ci>
         <ci>Î½</ci>
        </apply>
       </apply>
      </apply>
     </apply>
    </apply>
    <cn type="integer">0</cn>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \frac{\partial L}{\partial x^{\nu}}-\frac{d}{d\tau}\frac{\partial L}{\partial u%
^{\nu}}=0
  </annotation>
 </semantics>
</math>

</p>

<p>become</p>

<p>

<math display="block" id="Lagrangian_mechanics:144">
 <semantics>
  <mrow>
   <mrow>
    <mi>q</mi>
    <msup>
     <mi>u</mi>
     <mi>Î¼</mi>
    </msup>
    <mfrac>
     <mrow>
      <mo>âˆ‚</mo>
      <msub>
       <mi>A</mi>
       <mi>Î¼</mi>
      </msub>
     </mrow>
     <mrow>
      <mo>âˆ‚</mo>
      <msup>
       <mi>x</mi>
       <mi>Î½</mi>
      </msup>
     </mrow>
    </mfrac>
   </mrow>
   <mo>=</mo>
   <mrow>
    <mfrac>
     <mi>d</mi>
     <mrow>
      <mi>d</mi>
      <mi>Ï„</mi>
     </mrow>
    </mfrac>
    <mrow>
     <mo stretchy="false">(</mo>
     <mrow>
      <mrow>
       <mi>m</mi>
       <msub>
        <mi>u</mi>
        <mi>Î½</mi>
       </msub>
      </mrow>
      <mo>+</mo>
      <mrow>
       <mi>q</mi>
       <msub>
        <mi>A</mi>
        <mi>Î½</mi>
       </msub>
      </mrow>
     </mrow>
     <mo stretchy="false">)</mo>
    </mrow>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <times></times>
     <ci>q</ci>
     <apply>
      <csymbol cd="ambiguous">superscript</csymbol>
      <ci>u</ci>
      <ci>Î¼</ci>
     </apply>
     <apply>
      <divide></divide>
      <apply>
       <partialdiff></partialdiff>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>A</ci>
        <ci>Î¼</ci>
       </apply>
      </apply>
      <apply>
       <partialdiff></partialdiff>
       <apply>
        <csymbol cd="ambiguous">superscript</csymbol>
        <ci>x</ci>
        <ci>Î½</ci>
       </apply>
      </apply>
     </apply>
    </apply>
    <apply>
     <times></times>
     <apply>
      <divide></divide>
      <ci>d</ci>
      <apply>
       <times></times>
       <ci>d</ci>
       <ci>Ï„</ci>
      </apply>
     </apply>
     <apply>
      <plus></plus>
      <apply>
       <times></times>
       <ci>m</ci>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>u</ci>
        <ci>Î½</ci>
       </apply>
      </apply>
      <apply>
       <times></times>
       <ci>q</ci>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>A</ci>
        <ci>Î½</ci>
       </apply>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   qu^{\mu}\frac{\partial A_{\mu}}{\partial x^{\nu}}=\frac{d}{d\tau}(mu_{\nu}+qA_%
{\nu})
  </annotation>
 </semantics>
</math>

</p>
<h3 id="general-relativistic-test-particle">General relativistic test particle</h3>

<p>In <a href="general_relativity" title="wikilink">general relativity</a>, the first term generalizes (includes) both the classical kinetic energy and the interaction with the gravitational field. It becomes:<a class="footnoteRef" href="#fn33" id="fnref33"><sup>33</sup></a><a class="footnoteRef" href="#fn34" id="fnref34"><sup>34</sup></a></p>

<p>

<math display="block" id="Lagrangian_mechanics:145">
 <semantics>
  <mrow>
   <mrow>
    <mrow>
     <mo>-</mo>
     <mrow>
      <mi>m</mi>
      <msup>
       <mi>c</mi>
       <mn>2</mn>
      </msup>
      <mfrac>
       <mrow>
        <mi>d</mi>
        <mi>Ï„</mi>
        <mrow>
         <mo stretchy="false">(</mo>
         <mi>t</mi>
         <mo stretchy="false">)</mo>
        </mrow>
       </mrow>
       <mrow>
        <mi>d</mi>
        <mi>t</mi>
       </mrow>
      </mfrac>
     </mrow>
    </mrow>
    <mo>=</mo>
    <mrow>
     <mo>-</mo>
     <mrow>
      <mi>m</mi>
      <msup>
       <mi>c</mi>
       <mn>2</mn>
      </msup>
      <msqrt>
       <mrow>
        <mo>-</mo>
        <mrow>
         <msup>
          <mi>c</mi>
          <mrow>
           <mo>-</mo>
           <mn>2</mn>
          </mrow>
         </msup>
         <msub>
          <mi>g</mi>
          <mrow>
           <mi>Î¼</mi>
           <mi>Î½</mi>
          </mrow>
         </msub>
         <mrow>
          <mo stretchy="false">(</mo>
          <mrow>
           <mi>x</mi>
           <mrow>
            <mo stretchy="false">(</mo>
            <mi>t</mi>
            <mo stretchy="false">)</mo>
           </mrow>
          </mrow>
          <mo stretchy="false">)</mo>
         </mrow>
         <mfrac>
          <mrow>
           <mi>d</mi>
           <msup>
            <mi>x</mi>
            <mi>Î¼</mi>
           </msup>
           <mrow>
            <mo stretchy="false">(</mo>
            <mi>t</mi>
            <mo stretchy="false">)</mo>
           </mrow>
          </mrow>
          <mrow>
           <mi>d</mi>
           <mi>t</mi>
          </mrow>
         </mfrac>
         <mfrac>
          <mrow>
           <mi>d</mi>
           <msup>
            <mi>x</mi>
            <mi>Î½</mi>
           </msup>
           <mrow>
            <mo stretchy="false">(</mo>
            <mi>t</mi>
            <mo stretchy="false">)</mo>
           </mrow>
          </mrow>
          <mrow>
           <mi>d</mi>
           <mi>t</mi>
          </mrow>
         </mfrac>
        </mrow>
       </mrow>
      </msqrt>
     </mrow>
    </mrow>
   </mrow>
   <mo>.</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <minus></minus>
     <apply>
      <times></times>
      <ci>m</ci>
      <apply>
       <csymbol cd="ambiguous">superscript</csymbol>
       <ci>c</ci>
       <cn type="integer">2</cn>
      </apply>
      <apply>
       <divide></divide>
       <apply>
        <times></times>
        <ci>d</ci>
        <ci>Ï„</ci>
        <ci>t</ci>
       </apply>
       <apply>
        <times></times>
        <ci>d</ci>
        <ci>t</ci>
       </apply>
      </apply>
     </apply>
    </apply>
    <apply>
     <minus></minus>
     <apply>
      <times></times>
      <ci>m</ci>
      <apply>
       <csymbol cd="ambiguous">superscript</csymbol>
       <ci>c</ci>
       <cn type="integer">2</cn>
      </apply>
      <apply>
       <root></root>
       <apply>
        <minus></minus>
        <apply>
         <times></times>
         <apply>
          <csymbol cd="ambiguous">superscript</csymbol>
          <ci>c</ci>
          <apply>
           <minus></minus>
           <cn type="integer">2</cn>
          </apply>
         </apply>
         <apply>
          <csymbol cd="ambiguous">subscript</csymbol>
          <ci>g</ci>
          <apply>
           <times></times>
           <ci>Î¼</ci>
           <ci>Î½</ci>
          </apply>
         </apply>
         <apply>
          <times></times>
          <ci>x</ci>
          <ci>t</ci>
         </apply>
         <apply>
          <divide></divide>
          <apply>
           <times></times>
           <ci>d</ci>
           <apply>
            <csymbol cd="ambiguous">superscript</csymbol>
            <ci>x</ci>
            <ci>Î¼</ci>
           </apply>
           <ci>t</ci>
          </apply>
          <apply>
           <times></times>
           <ci>d</ci>
           <ci>t</ci>
          </apply>
         </apply>
         <apply>
          <divide></divide>
          <apply>
           <times></times>
           <ci>d</ci>
           <apply>
            <csymbol cd="ambiguous">superscript</csymbol>
            <ci>x</ci>
            <ci>Î½</ci>
           </apply>
           <ci>t</ci>
          </apply>
          <apply>
           <times></times>
           <ci>d</ci>
           <ci>t</ci>
          </apply>
         </apply>
        </apply>
       </apply>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   -mc^{2}\frac{d\tau(t)}{dt}=-mc^{2}\sqrt{-c^{-2}g_{\mu\nu}(x(t))\frac{dx^{\mu}(%
t)}{dt}\frac{dx^{\nu}(t)}{dt}}.
  </annotation>
 </semantics>
</math>

</p>

<p>The Lagrangian of a general relativistic test particle in an electromagnetic field is:</p>

<p>

<math display="block" id="Lagrangian_mechanics:146">
 <semantics>
  <mrow>
   <mrow>
    <mrow>
     <mi>L</mi>
     <mrow>
      <mo stretchy="false">(</mo>
      <mi>t</mi>
      <mo stretchy="false">)</mo>
     </mrow>
    </mrow>
    <mo>=</mo>
    <mrow>
     <mrow>
      <mo>-</mo>
      <mrow>
       <mi>m</mi>
       <msup>
        <mi>c</mi>
        <mn>2</mn>
       </msup>
       <msqrt>
        <mrow>
         <mo>-</mo>
         <mrow>
          <msup>
           <mi>c</mi>
           <mrow>
            <mo>-</mo>
            <mn>2</mn>
           </mrow>
          </msup>
          <msub>
           <mi>g</mi>
           <mrow>
            <mi>Î¼</mi>
            <mi>Î½</mi>
           </mrow>
          </msub>
          <mrow>
           <mo stretchy="false">(</mo>
           <mrow>
            <mi>x</mi>
            <mrow>
             <mo stretchy="false">(</mo>
             <mi>t</mi>
             <mo stretchy="false">)</mo>
            </mrow>
           </mrow>
           <mo stretchy="false">)</mo>
          </mrow>
          <mfrac>
           <mrow>
            <mi>d</mi>
            <msup>
             <mi>x</mi>
             <mi>Î¼</mi>
            </msup>
            <mrow>
             <mo stretchy="false">(</mo>
             <mi>t</mi>
             <mo stretchy="false">)</mo>
            </mrow>
           </mrow>
           <mrow>
            <mi>d</mi>
            <mi>t</mi>
           </mrow>
          </mfrac>
          <mfrac>
           <mrow>
            <mi>d</mi>
            <msup>
             <mi>x</mi>
             <mi>Î½</mi>
            </msup>
            <mrow>
             <mo stretchy="false">(</mo>
             <mi>t</mi>
             <mo stretchy="false">)</mo>
            </mrow>
           </mrow>
           <mrow>
            <mi>d</mi>
            <mi>t</mi>
           </mrow>
          </mfrac>
         </mrow>
        </mrow>
       </msqrt>
      </mrow>
     </mrow>
     <mo>+</mo>
     <mrow>
      <mi>q</mi>
      <mfrac>
       <mrow>
        <mi>d</mi>
        <msup>
         <mi>x</mi>
         <mi>Î¼</mi>
        </msup>
        <mrow>
         <mo stretchy="false">(</mo>
         <mi>t</mi>
         <mo stretchy="false">)</mo>
        </mrow>
       </mrow>
       <mrow>
        <mi>d</mi>
        <mi>t</mi>
       </mrow>
      </mfrac>
      <msub>
       <mi>A</mi>
       <mi>Î¼</mi>
      </msub>
      <mrow>
       <mo stretchy="false">(</mo>
       <mrow>
        <mi>x</mi>
        <mrow>
         <mo stretchy="false">(</mo>
         <mi>t</mi>
         <mo stretchy="false">)</mo>
        </mrow>
       </mrow>
       <mo stretchy="false">)</mo>
      </mrow>
     </mrow>
    </mrow>
   </mrow>
   <mo>.</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <times></times>
     <ci>L</ci>
     <ci>t</ci>
    </apply>
    <apply>
     <plus></plus>
     <apply>
      <minus></minus>
      <apply>
       <times></times>
       <ci>m</ci>
       <apply>
        <csymbol cd="ambiguous">superscript</csymbol>
        <ci>c</ci>
        <cn type="integer">2</cn>
       </apply>
       <apply>
        <root></root>
        <apply>
         <minus></minus>
         <apply>
          <times></times>
          <apply>
           <csymbol cd="ambiguous">superscript</csymbol>
           <ci>c</ci>
           <apply>
            <minus></minus>
            <cn type="integer">2</cn>
           </apply>
          </apply>
          <apply>
           <csymbol cd="ambiguous">subscript</csymbol>
           <ci>g</ci>
           <apply>
            <times></times>
            <ci>Î¼</ci>
            <ci>Î½</ci>
           </apply>
          </apply>
          <apply>
           <times></times>
           <ci>x</ci>
           <ci>t</ci>
          </apply>
          <apply>
           <divide></divide>
           <apply>
            <times></times>
            <ci>d</ci>
            <apply>
             <csymbol cd="ambiguous">superscript</csymbol>
             <ci>x</ci>
             <ci>Î¼</ci>
            </apply>
            <ci>t</ci>
           </apply>
           <apply>
            <times></times>
            <ci>d</ci>
            <ci>t</ci>
           </apply>
          </apply>
          <apply>
           <divide></divide>
           <apply>
            <times></times>
            <ci>d</ci>
            <apply>
             <csymbol cd="ambiguous">superscript</csymbol>
             <ci>x</ci>
             <ci>Î½</ci>
            </apply>
            <ci>t</ci>
           </apply>
           <apply>
            <times></times>
            <ci>d</ci>
            <ci>t</ci>
           </apply>
          </apply>
         </apply>
        </apply>
       </apply>
      </apply>
     </apply>
     <apply>
      <times></times>
      <ci>q</ci>
      <apply>
       <divide></divide>
       <apply>
        <times></times>
        <ci>d</ci>
        <apply>
         <csymbol cd="ambiguous">superscript</csymbol>
         <ci>x</ci>
         <ci>Î¼</ci>
        </apply>
        <ci>t</ci>
       </apply>
       <apply>
        <times></times>
        <ci>d</ci>
        <ci>t</ci>
       </apply>
      </apply>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>A</ci>
       <ci>Î¼</ci>
      </apply>
      <apply>
       <times></times>
       <ci>x</ci>
       <ci>t</ci>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   L(t)=-mc^{2}\sqrt{-c^{-2}g_{\mu\nu}(x(t))\frac{dx^{\mu}(t)}{dt}\frac{dx^{\nu}(%
t)}{dt}}+q\frac{dx^{\mu}(t)}{dt}A_{\mu}(x(t)).
  </annotation>
 </semantics>
</math>

</p>

<p>If the four spacetime coordinates <em>x</em><sup>Âµ</sup> are given in arbitrary units (i.e. unitless), then <em>g</em><sub>ÂµÎ½</sub> in m<sup>2</sup> is the rank 2 symmetric <a href="metric_tensor" title="wikilink">metric tensor</a> which is also the gravitational potential. Also, <em>A</em><sub>Âµ</sub> in VÂ·s is the electromagnetic 4-vector potential.</p>

<p>More generally, suppose the Lagrangian is that of a single particle plus an interaction term <em>L</em><sub>I</sub></p>

<p>

<math display="block" id="Lagrangian_mechanics:147">
 <semantics>
  <mrow>
   <mrow>
    <mi>L</mi>
    <mo>=</mo>
    <mrow>
     <mrow>
      <mo>-</mo>
      <mrow>
       <mi>m</mi>
       <msup>
        <mi>c</mi>
        <mn>2</mn>
       </msup>
       <mfrac>
        <mrow>
         <mi>d</mi>
         <mi>Ï„</mi>
        </mrow>
        <mrow>
         <mi>d</mi>
         <mi>t</mi>
        </mrow>
       </mfrac>
      </mrow>
     </mrow>
     <mo>+</mo>
     <mpadded width="+1.7pt">
      <msub>
       <mi>L</mi>
       <mi>I</mi>
      </msub>
     </mpadded>
    </mrow>
   </mrow>
   <mo>.</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <ci>L</ci>
    <apply>
     <plus></plus>
     <apply>
      <minus></minus>
      <apply>
       <times></times>
       <ci>m</ci>
       <apply>
        <csymbol cd="ambiguous">superscript</csymbol>
        <ci>c</ci>
        <cn type="integer">2</cn>
       </apply>
       <apply>
        <divide></divide>
        <apply>
         <times></times>
         <ci>d</ci>
         <ci>Ï„</ci>
        </apply>
        <apply>
         <times></times>
         <ci>d</ci>
         <ci>t</ci>
        </apply>
       </apply>
      </apply>
     </apply>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <ci>L</ci>
      <ci>I</ci>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   L=-mc^{2}\frac{d\tau}{dt}+L_{I}\,.
  </annotation>
 </semantics>
</math>

</p>

<p>Varying this with respect to the position of the particle <em>x</em><sup>Î±</sup> as a function of time <em>t</em> gives</p>

<p>

<math display="block" id="Lagrangian_mechanics:148">
 <semantics>
  <mrow>
   <mrow>
    <mrow>
     <mi>Î´</mi>
     <mi>L</mi>
    </mrow>
    <mo>=</mo>
    <mrow>
     <mrow>
      <mi>m</mi>
      <mfrac>
       <mrow>
        <mi>d</mi>
        <mi>t</mi>
       </mrow>
       <mrow>
        <mn>2</mn>
        <mi>d</mi>
        <mi>Ï„</mi>
       </mrow>
      </mfrac>
      <mi>Î´</mi>
      <mrow>
       <mo>(</mo>
       <mrow>
        <msub>
         <mi>g</mi>
         <mrow>
          <mi>Î¼</mi>
          <mi>Î½</mi>
         </mrow>
        </msub>
        <mfrac>
         <mrow>
          <mi>d</mi>
          <msup>
           <mi>x</mi>
           <mi>Î¼</mi>
          </msup>
         </mrow>
         <mrow>
          <mi>d</mi>
          <mi>t</mi>
         </mrow>
        </mfrac>
        <mfrac>
         <mrow>
          <mi>d</mi>
          <msup>
           <mi>x</mi>
           <mi>Î½</mi>
          </msup>
         </mrow>
         <mrow>
          <mi>d</mi>
          <mi>t</mi>
         </mrow>
        </mfrac>
       </mrow>
       <mo>)</mo>
      </mrow>
     </mrow>
     <mo>+</mo>
     <mrow>
      <mi>Î´</mi>
      <mpadded width="+1.7pt">
       <msub>
        <mi>L</mi>
        <mi>I</mi>
       </msub>
      </mpadded>
     </mrow>
    </mrow>
   </mrow>
   <mo>.</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <times></times>
     <ci>Î´</ci>
     <ci>L</ci>
    </apply>
    <apply>
     <plus></plus>
     <apply>
      <times></times>
      <ci>m</ci>
      <apply>
       <divide></divide>
       <apply>
        <times></times>
        <ci>d</ci>
        <ci>t</ci>
       </apply>
       <apply>
        <times></times>
        <cn type="integer">2</cn>
        <ci>d</ci>
        <ci>Ï„</ci>
       </apply>
      </apply>
      <ci>Î´</ci>
      <apply>
       <times></times>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>g</ci>
        <apply>
         <times></times>
         <ci>Î¼</ci>
         <ci>Î½</ci>
        </apply>
       </apply>
       <apply>
        <divide></divide>
        <apply>
         <times></times>
         <ci>d</ci>
         <apply>
          <csymbol cd="ambiguous">superscript</csymbol>
          <ci>x</ci>
          <ci>Î¼</ci>
         </apply>
        </apply>
        <apply>
         <times></times>
         <ci>d</ci>
         <ci>t</ci>
        </apply>
       </apply>
       <apply>
        <divide></divide>
        <apply>
         <times></times>
         <ci>d</ci>
         <apply>
          <csymbol cd="ambiguous">superscript</csymbol>
          <ci>x</ci>
          <ci>Î½</ci>
         </apply>
        </apply>
        <apply>
         <times></times>
         <ci>d</ci>
         <ci>t</ci>
        </apply>
       </apply>
      </apply>
     </apply>
     <apply>
      <times></times>
      <ci>Î´</ci>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>L</ci>
       <ci>I</ci>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \delta L=m\frac{dt}{2d\tau}\delta\left(g_{\mu\nu}\frac{dx^{\mu}}{dt}\frac{dx^{%
\nu}}{dt}\right)+\delta L_{I}\,.
  </annotation>
 </semantics>
</math>

</p>

<p>

<math display="block" id="Lagrangian_mechanics:149">
 <semantics>
  <mrow>
   <mrow>
    <mrow>
     <mi>Î´</mi>
     <mi>L</mi>
    </mrow>
    <mo>=</mo>
    <mrow>
     <mrow>
      <mi>m</mi>
      <mfrac>
       <mrow>
        <mi>d</mi>
        <mi>t</mi>
       </mrow>
       <mrow>
        <mn>2</mn>
        <mi>d</mi>
        <mi>Ï„</mi>
       </mrow>
      </mfrac>
      <mrow>
       <mo>(</mo>
       <mrow>
        <mrow>
         <msub>
          <mi>g</mi>
          <mrow>
           <mrow>
            <mi>Î¼</mi>
            <mi>Î½</mi>
           </mrow>
           <mo>,</mo>
           <mi>Î±</mi>
          </mrow>
         </msub>
         <mi>Î´</mi>
         <msup>
          <mi>x</mi>
          <mi>Î±</mi>
         </msup>
         <mfrac>
          <mrow>
           <mi>d</mi>
           <msup>
            <mi>x</mi>
            <mi>Î¼</mi>
           </msup>
          </mrow>
          <mrow>
           <mi>d</mi>
           <mi>t</mi>
          </mrow>
         </mfrac>
         <mfrac>
          <mrow>
           <mi>d</mi>
           <msup>
            <mi>x</mi>
            <mi>Î½</mi>
           </msup>
          </mrow>
          <mrow>
           <mi>d</mi>
           <mi>t</mi>
          </mrow>
         </mfrac>
        </mrow>
        <mo>+</mo>
        <mrow>
         <mn>2</mn>
         <msub>
          <mi>g</mi>
          <mrow>
           <mi>Î±</mi>
           <mi>Î½</mi>
          </mrow>
         </msub>
         <mfrac>
          <mrow>
           <mi>d</mi>
           <mi>Î´</mi>
           <msup>
            <mi>x</mi>
            <mi>Î±</mi>
           </msup>
          </mrow>
          <mrow>
           <mi>d</mi>
           <mi>t</mi>
          </mrow>
         </mfrac>
         <mfrac>
          <mrow>
           <mi>d</mi>
           <msup>
            <mi>x</mi>
            <mi>Î½</mi>
           </msup>
          </mrow>
          <mrow>
           <mi>d</mi>
           <mi>t</mi>
          </mrow>
         </mfrac>
        </mrow>
       </mrow>
       <mo>)</mo>
      </mrow>
     </mrow>
     <mo>+</mo>
     <mrow>
      <mfrac>
       <mrow>
        <mo>âˆ‚</mo>
        <msub>
         <mi>L</mi>
         <mi>I</mi>
        </msub>
       </mrow>
       <mrow>
        <mo>âˆ‚</mo>
        <msup>
         <mi>x</mi>
         <mi>Î±</mi>
        </msup>
       </mrow>
      </mfrac>
      <mi>Î´</mi>
      <msup>
       <mi>x</mi>
       <mi>Î±</mi>
      </msup>
     </mrow>
     <mo>+</mo>
     <mrow>
      <mfrac>
       <mrow>
        <mo>âˆ‚</mo>
        <msub>
         <mi>L</mi>
         <mi>I</mi>
        </msub>
       </mrow>
       <mrow>
        <mo>âˆ‚</mo>
        <mfrac>
         <mrow>
          <mi>d</mi>
          <msup>
           <mi>x</mi>
           <mi>Î±</mi>
          </msup>
         </mrow>
         <mrow>
          <mi>d</mi>
          <mi>t</mi>
         </mrow>
        </mfrac>
       </mrow>
      </mfrac>
      <mpadded width="+1.7pt">
       <mfrac>
        <mrow>
         <mi>d</mi>
         <mi>Î´</mi>
         <msup>
          <mi>x</mi>
          <mi>Î±</mi>
         </msup>
        </mrow>
        <mrow>
         <mi>d</mi>
         <mi>t</mi>
        </mrow>
       </mfrac>
      </mpadded>
     </mrow>
    </mrow>
   </mrow>
   <mo>.</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <times></times>
     <ci>Î´</ci>
     <ci>L</ci>
    </apply>
    <apply>
     <plus></plus>
     <apply>
      <times></times>
      <ci>m</ci>
      <apply>
       <divide></divide>
       <apply>
        <times></times>
        <ci>d</ci>
        <ci>t</ci>
       </apply>
       <apply>
        <times></times>
        <cn type="integer">2</cn>
        <ci>d</ci>
        <ci>Ï„</ci>
       </apply>
      </apply>
      <apply>
       <plus></plus>
       <apply>
        <times></times>
        <apply>
         <csymbol cd="ambiguous">subscript</csymbol>
         <ci>g</ci>
         <list>
          <apply>
           <times></times>
           <ci>Î¼</ci>
           <ci>Î½</ci>
          </apply>
          <ci>Î±</ci>
         </list>
        </apply>
        <ci>Î´</ci>
        <apply>
         <csymbol cd="ambiguous">superscript</csymbol>
         <ci>x</ci>
         <ci>Î±</ci>
        </apply>
        <apply>
         <divide></divide>
         <apply>
          <times></times>
          <ci>d</ci>
          <apply>
           <csymbol cd="ambiguous">superscript</csymbol>
           <ci>x</ci>
           <ci>Î¼</ci>
          </apply>
         </apply>
         <apply>
          <times></times>
          <ci>d</ci>
          <ci>t</ci>
         </apply>
        </apply>
        <apply>
         <divide></divide>
         <apply>
          <times></times>
          <ci>d</ci>
          <apply>
           <csymbol cd="ambiguous">superscript</csymbol>
           <ci>x</ci>
           <ci>Î½</ci>
          </apply>
         </apply>
         <apply>
          <times></times>
          <ci>d</ci>
          <ci>t</ci>
         </apply>
        </apply>
       </apply>
       <apply>
        <times></times>
        <cn type="integer">2</cn>
        <apply>
         <csymbol cd="ambiguous">subscript</csymbol>
         <ci>g</ci>
         <apply>
          <times></times>
          <ci>Î±</ci>
          <ci>Î½</ci>
         </apply>
        </apply>
        <apply>
         <divide></divide>
         <apply>
          <times></times>
          <ci>d</ci>
          <ci>Î´</ci>
          <apply>
           <csymbol cd="ambiguous">superscript</csymbol>
           <ci>x</ci>
           <ci>Î±</ci>
          </apply>
         </apply>
         <apply>
          <times></times>
          <ci>d</ci>
          <ci>t</ci>
         </apply>
        </apply>
        <apply>
         <divide></divide>
         <apply>
          <times></times>
          <ci>d</ci>
          <apply>
           <csymbol cd="ambiguous">superscript</csymbol>
           <ci>x</ci>
           <ci>Î½</ci>
          </apply>
         </apply>
         <apply>
          <times></times>
          <ci>d</ci>
          <ci>t</ci>
         </apply>
        </apply>
       </apply>
      </apply>
     </apply>
     <apply>
      <times></times>
      <apply>
       <divide></divide>
       <apply>
        <partialdiff></partialdiff>
        <apply>
         <csymbol cd="ambiguous">subscript</csymbol>
         <ci>L</ci>
         <ci>I</ci>
        </apply>
       </apply>
       <apply>
        <partialdiff></partialdiff>
        <apply>
         <csymbol cd="ambiguous">superscript</csymbol>
         <ci>x</ci>
         <ci>Î±</ci>
        </apply>
       </apply>
      </apply>
      <ci>Î´</ci>
      <apply>
       <csymbol cd="ambiguous">superscript</csymbol>
       <ci>x</ci>
       <ci>Î±</ci>
      </apply>
     </apply>
     <apply>
      <times></times>
      <apply>
       <divide></divide>
       <apply>
        <partialdiff></partialdiff>
        <apply>
         <csymbol cd="ambiguous">subscript</csymbol>
         <ci>L</ci>
         <ci>I</ci>
        </apply>
       </apply>
       <apply>
        <partialdiff></partialdiff>
        <apply>
         <divide></divide>
         <apply>
          <times></times>
          <ci>d</ci>
          <apply>
           <csymbol cd="ambiguous">superscript</csymbol>
           <ci>x</ci>
           <ci>Î±</ci>
          </apply>
         </apply>
         <apply>
          <times></times>
          <ci>d</ci>
          <ci>t</ci>
         </apply>
        </apply>
       </apply>
      </apply>
      <apply>
       <divide></divide>
       <apply>
        <times></times>
        <ci>d</ci>
        <ci>Î´</ci>
        <apply>
         <csymbol cd="ambiguous">superscript</csymbol>
         <ci>x</ci>
         <ci>Î±</ci>
        </apply>
       </apply>
       <apply>
        <times></times>
        <ci>d</ci>
        <ci>t</ci>
       </apply>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \delta L=m\frac{dt}{2d\tau}\left(g_{\mu\nu,\alpha}\delta x^{\alpha}\frac{dx^{%
\mu}}{dt}\frac{dx^{\nu}}{dt}+2g_{\alpha\nu}\frac{d\delta x^{\alpha}}{dt}\frac{%
dx^{\nu}}{dt}\right)+\frac{\partial L_{I}}{\partial x^{\alpha}}\delta x^{%
\alpha}+\frac{\partial L_{I}}{\partial\frac{dx^{\alpha}}{dt}}\frac{d\delta x^{%
\alpha}}{dt}\,.
  </annotation>
 </semantics>
</math>

</p>

<p>

<math display="block" id="Lagrangian_mechanics:150">
 <semantics>
  <mrow>
   <mrow>
    <mrow>
     <mi>Î´</mi>
     <mi>L</mi>
    </mrow>
    <mo>=</mo>
    <mrow>
     <mrow>
      <mrow>
       <mrow>
        <mrow>
         <mfrac>
          <mn>1</mn>
          <mn>2</mn>
         </mfrac>
         <mi>m</mi>
         <msub>
          <mi>g</mi>
          <mrow>
           <mrow>
            <mi>Î¼</mi>
            <mi>Î½</mi>
           </mrow>
           <mo>,</mo>
           <mi>Î±</mi>
          </mrow>
         </msub>
         <mi>Î´</mi>
         <msup>
          <mi>x</mi>
          <mi>Î±</mi>
         </msup>
         <mfrac>
          <mrow>
           <mi>d</mi>
           <msup>
            <mi>x</mi>
            <mi>Î¼</mi>
           </msup>
          </mrow>
          <mrow>
           <mi>d</mi>
           <mi>Ï„</mi>
          </mrow>
         </mfrac>
         <mfrac>
          <mrow>
           <mi>d</mi>
           <msup>
            <mi>x</mi>
            <mi>Î½</mi>
           </msup>
          </mrow>
          <mrow>
           <mi>d</mi>
           <mi>t</mi>
          </mrow>
         </mfrac>
        </mrow>
        <mo>-</mo>
        <mrow>
         <mfrac>
          <mi>d</mi>
          <mrow>
           <mi>d</mi>
           <mi>t</mi>
          </mrow>
         </mfrac>
         <mrow>
          <mo>(</mo>
          <mrow>
           <mi>m</mi>
           <msub>
            <mi>g</mi>
            <mrow>
             <mi>Î±</mi>
             <mi>Î½</mi>
            </mrow>
           </msub>
           <mfrac>
            <mrow>
             <mi>d</mi>
             <msup>
              <mi>x</mi>
              <mi>Î½</mi>
             </msup>
            </mrow>
            <mrow>
             <mi>d</mi>
             <mi>Ï„</mi>
            </mrow>
           </mfrac>
          </mrow>
          <mo>)</mo>
         </mrow>
         <mi>Î´</mi>
         <msup>
          <mi>x</mi>
          <mi>Î±</mi>
         </msup>
        </mrow>
       </mrow>
       <mo>+</mo>
       <mrow>
        <mfrac>
         <mrow>
          <mo>âˆ‚</mo>
          <msub>
           <mi>L</mi>
           <mi>I</mi>
          </msub>
         </mrow>
         <mrow>
          <mo>âˆ‚</mo>
          <msup>
           <mi>x</mi>
           <mi>Î±</mi>
          </msup>
         </mrow>
        </mfrac>
        <mi>Î´</mi>
        <msup>
         <mi>x</mi>
         <mi>Î±</mi>
        </msup>
       </mrow>
      </mrow>
      <mo>-</mo>
      <mrow>
       <mfrac>
        <mi>d</mi>
        <mrow>
         <mi>d</mi>
         <mi>t</mi>
        </mrow>
       </mfrac>
       <mrow>
        <mo>(</mo>
        <mfrac>
         <mrow>
          <mo>âˆ‚</mo>
          <msub>
           <mi>L</mi>
           <mi>I</mi>
          </msub>
         </mrow>
         <mrow>
          <mo>âˆ‚</mo>
          <mfrac>
           <mrow>
            <mi>d</mi>
            <msup>
             <mi>x</mi>
             <mi>Î±</mi>
            </msup>
           </mrow>
           <mrow>
            <mi>d</mi>
            <mi>t</mi>
           </mrow>
          </mfrac>
         </mrow>
        </mfrac>
        <mo>)</mo>
       </mrow>
       <mi>Î´</mi>
       <msup>
        <mi>x</mi>
        <mi>Î±</mi>
       </msup>
      </mrow>
     </mrow>
     <mo>+</mo>
     <mpadded width="+1.7pt">
      <mfrac>
       <mrow>
        <mi>d</mi>
        <mrow>
         <mo stretchy="false">(</mo>
         <mi mathvariant="normal">â€¦</mi>
         <mo stretchy="false">)</mo>
        </mrow>
       </mrow>
       <mrow>
        <mi>d</mi>
        <mi>t</mi>
       </mrow>
      </mfrac>
     </mpadded>
    </mrow>
   </mrow>
   <mo>.</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <times></times>
     <ci>Î´</ci>
     <ci>L</ci>
    </apply>
    <apply>
     <plus></plus>
     <apply>
      <minus></minus>
      <apply>
       <plus></plus>
       <apply>
        <minus></minus>
        <apply>
         <times></times>
         <apply>
          <divide></divide>
          <cn type="integer">1</cn>
          <cn type="integer">2</cn>
         </apply>
         <ci>m</ci>
         <apply>
          <csymbol cd="ambiguous">subscript</csymbol>
          <ci>g</ci>
          <list>
           <apply>
            <times></times>
            <ci>Î¼</ci>
            <ci>Î½</ci>
           </apply>
           <ci>Î±</ci>
          </list>
         </apply>
         <ci>Î´</ci>
         <apply>
          <csymbol cd="ambiguous">superscript</csymbol>
          <ci>x</ci>
          <ci>Î±</ci>
         </apply>
         <apply>
          <divide></divide>
          <apply>
           <times></times>
           <ci>d</ci>
           <apply>
            <csymbol cd="ambiguous">superscript</csymbol>
            <ci>x</ci>
            <ci>Î¼</ci>
           </apply>
          </apply>
          <apply>
           <times></times>
           <ci>d</ci>
           <ci>Ï„</ci>
          </apply>
         </apply>
         <apply>
          <divide></divide>
          <apply>
           <times></times>
           <ci>d</ci>
           <apply>
            <csymbol cd="ambiguous">superscript</csymbol>
            <ci>x</ci>
            <ci>Î½</ci>
           </apply>
          </apply>
          <apply>
           <times></times>
           <ci>d</ci>
           <ci>t</ci>
          </apply>
         </apply>
        </apply>
        <apply>
         <times></times>
         <apply>
          <divide></divide>
          <ci>d</ci>
          <apply>
           <times></times>
           <ci>d</ci>
           <ci>t</ci>
          </apply>
         </apply>
         <apply>
          <times></times>
          <ci>m</ci>
          <apply>
           <csymbol cd="ambiguous">subscript</csymbol>
           <ci>g</ci>
           <apply>
            <times></times>
            <ci>Î±</ci>
            <ci>Î½</ci>
           </apply>
          </apply>
          <apply>
           <divide></divide>
           <apply>
            <times></times>
            <ci>d</ci>
            <apply>
             <csymbol cd="ambiguous">superscript</csymbol>
             <ci>x</ci>
             <ci>Î½</ci>
            </apply>
           </apply>
           <apply>
            <times></times>
            <ci>d</ci>
            <ci>Ï„</ci>
           </apply>
          </apply>
         </apply>
         <ci>Î´</ci>
         <apply>
          <csymbol cd="ambiguous">superscript</csymbol>
          <ci>x</ci>
          <ci>Î±</ci>
         </apply>
        </apply>
       </apply>
       <apply>
        <times></times>
        <apply>
         <divide></divide>
         <apply>
          <partialdiff></partialdiff>
          <apply>
           <csymbol cd="ambiguous">subscript</csymbol>
           <ci>L</ci>
           <ci>I</ci>
          </apply>
         </apply>
         <apply>
          <partialdiff></partialdiff>
          <apply>
           <csymbol cd="ambiguous">superscript</csymbol>
           <ci>x</ci>
           <ci>Î±</ci>
          </apply>
         </apply>
        </apply>
        <ci>Î´</ci>
        <apply>
         <csymbol cd="ambiguous">superscript</csymbol>
         <ci>x</ci>
         <ci>Î±</ci>
        </apply>
       </apply>
      </apply>
      <apply>
       <times></times>
       <apply>
        <divide></divide>
        <ci>d</ci>
        <apply>
         <times></times>
         <ci>d</ci>
         <ci>t</ci>
        </apply>
       </apply>
       <apply>
        <divide></divide>
        <apply>
         <partialdiff></partialdiff>
         <apply>
          <csymbol cd="ambiguous">subscript</csymbol>
          <ci>L</ci>
          <ci>I</ci>
         </apply>
        </apply>
        <apply>
         <partialdiff></partialdiff>
         <apply>
          <divide></divide>
          <apply>
           <times></times>
           <ci>d</ci>
           <apply>
            <csymbol cd="ambiguous">superscript</csymbol>
            <ci>x</ci>
            <ci>Î±</ci>
           </apply>
          </apply>
          <apply>
           <times></times>
           <ci>d</ci>
           <ci>t</ci>
          </apply>
         </apply>
        </apply>
       </apply>
       <ci>Î´</ci>
       <apply>
        <csymbol cd="ambiguous">superscript</csymbol>
        <ci>x</ci>
        <ci>Î±</ci>
       </apply>
      </apply>
     </apply>
     <apply>
      <divide></divide>
      <apply>
       <times></times>
       <ci>d</ci>
       <ci>normal-â€¦</ci>
      </apply>
      <apply>
       <times></times>
       <ci>d</ci>
       <ci>t</ci>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \delta L=\frac{1}{2}mg_{\mu\nu,\alpha}\delta x^{\alpha}\frac{dx^{\mu}}{d\tau}%
\frac{dx^{\nu}}{dt}-\frac{d}{dt}\left(mg_{\alpha\nu}\frac{dx^{\nu}}{d\tau}%
\right)\delta x^{\alpha}+\frac{\partial L_{I}}{\partial x^{\alpha}}\delta x^{%
\alpha}-\frac{d}{dt}\left(\frac{\partial L_{I}}{\partial\frac{dx^{\alpha}}{dt}%
}\right)\delta x^{\alpha}+\frac{d(...)}{dt}\,.
  </annotation>
 </semantics>
</math>

</p>

<p>This gives the equation of motion</p>

<p>

<math display="block" id="Lagrangian_mechanics:151">
 <semantics>
  <mrow>
   <mn>0</mn>
   <mo>=</mo>
   <mrow>
    <mrow>
     <mrow>
      <mfrac>
       <mn>1</mn>
       <mn>2</mn>
      </mfrac>
      <mi>m</mi>
      <msub>
       <mi>g</mi>
       <mrow>
        <mrow>
         <mi>Î¼</mi>
         <mi>Î½</mi>
        </mrow>
        <mo>,</mo>
        <mi>Î±</mi>
       </mrow>
      </msub>
      <mfrac>
       <mrow>
        <mi>d</mi>
        <msup>
         <mi>x</mi>
         <mi>Î¼</mi>
        </msup>
       </mrow>
       <mrow>
        <mi>d</mi>
        <mi>Ï„</mi>
       </mrow>
      </mfrac>
      <mfrac>
       <mrow>
        <mi>d</mi>
        <msup>
         <mi>x</mi>
         <mi>Î½</mi>
        </msup>
       </mrow>
       <mrow>
        <mi>d</mi>
        <mi>t</mi>
       </mrow>
      </mfrac>
     </mrow>
     <mo>-</mo>
     <mrow>
      <mfrac>
       <mi>d</mi>
       <mrow>
        <mi>d</mi>
        <mi>t</mi>
       </mrow>
      </mfrac>
      <mrow>
       <mo>(</mo>
       <mrow>
        <mi>m</mi>
        <msub>
         <mi>g</mi>
         <mrow>
          <mi>Î±</mi>
          <mi>Î½</mi>
         </mrow>
        </msub>
        <mfrac>
         <mrow>
          <mi>d</mi>
          <msup>
           <mi>x</mi>
           <mi>Î½</mi>
          </msup>
         </mrow>
         <mrow>
          <mi>d</mi>
          <mi>Ï„</mi>
         </mrow>
        </mfrac>
       </mrow>
       <mo>)</mo>
      </mrow>
     </mrow>
    </mrow>
    <mo>+</mo>
    <msub>
     <mi>f</mi>
     <mi>Î±</mi>
    </msub>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <cn type="integer">0</cn>
    <apply>
     <plus></plus>
     <apply>
      <minus></minus>
      <apply>
       <times></times>
       <apply>
        <divide></divide>
        <cn type="integer">1</cn>
        <cn type="integer">2</cn>
       </apply>
       <ci>m</ci>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>g</ci>
        <list>
         <apply>
          <times></times>
          <ci>Î¼</ci>
          <ci>Î½</ci>
         </apply>
         <ci>Î±</ci>
        </list>
       </apply>
       <apply>
        <divide></divide>
        <apply>
         <times></times>
         <ci>d</ci>
         <apply>
          <csymbol cd="ambiguous">superscript</csymbol>
          <ci>x</ci>
          <ci>Î¼</ci>
         </apply>
        </apply>
        <apply>
         <times></times>
         <ci>d</ci>
         <ci>Ï„</ci>
        </apply>
       </apply>
       <apply>
        <divide></divide>
        <apply>
         <times></times>
         <ci>d</ci>
         <apply>
          <csymbol cd="ambiguous">superscript</csymbol>
          <ci>x</ci>
          <ci>Î½</ci>
         </apply>
        </apply>
        <apply>
         <times></times>
         <ci>d</ci>
         <ci>t</ci>
        </apply>
       </apply>
      </apply>
      <apply>
       <times></times>
       <apply>
        <divide></divide>
        <ci>d</ci>
        <apply>
         <times></times>
         <ci>d</ci>
         <ci>t</ci>
        </apply>
       </apply>
       <apply>
        <times></times>
        <ci>m</ci>
        <apply>
         <csymbol cd="ambiguous">subscript</csymbol>
         <ci>g</ci>
         <apply>
          <times></times>
          <ci>Î±</ci>
          <ci>Î½</ci>
         </apply>
        </apply>
        <apply>
         <divide></divide>
         <apply>
          <times></times>
          <ci>d</ci>
          <apply>
           <csymbol cd="ambiguous">superscript</csymbol>
           <ci>x</ci>
           <ci>Î½</ci>
          </apply>
         </apply>
         <apply>
          <times></times>
          <ci>d</ci>
          <ci>Ï„</ci>
         </apply>
        </apply>
       </apply>
      </apply>
     </apply>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <ci>f</ci>
      <ci>Î±</ci>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   0=\frac{1}{2}mg_{\mu\nu,\alpha}\frac{dx^{\mu}}{d\tau}\frac{dx^{\nu}}{dt}-\frac%
{d}{dt}\left(mg_{\alpha\nu}\frac{dx^{\nu}}{d\tau}\right)+f_{\alpha}
  </annotation>
 </semantics>
</math>

 where</p>

<p>

<math display="block" id="Lagrangian_mechanics:152">
 <semantics>
  <mrow>
   <msub>
    <mi>f</mi>
    <mi>Î±</mi>
   </msub>
   <mo>=</mo>
   <mrow>
    <mfrac>
     <mrow>
      <mo>âˆ‚</mo>
      <msub>
       <mi>L</mi>
       <mi>I</mi>
      </msub>
     </mrow>
     <mrow>
      <mo>âˆ‚</mo>
      <msup>
       <mi>x</mi>
       <mi>Î±</mi>
      </msup>
     </mrow>
    </mfrac>
    <mo>-</mo>
    <mrow>
     <mfrac>
      <mi>d</mi>
      <mrow>
       <mi>d</mi>
       <mi>t</mi>
      </mrow>
     </mfrac>
     <mrow>
      <mo>(</mo>
      <mfrac>
       <mrow>
        <mo>âˆ‚</mo>
        <msub>
         <mi>L</mi>
         <mi>I</mi>
        </msub>
       </mrow>
       <mrow>
        <mo>âˆ‚</mo>
        <mfrac>
         <mrow>
          <mi>d</mi>
          <msup>
           <mi>x</mi>
           <mi>Î±</mi>
          </msup>
         </mrow>
         <mrow>
          <mi>d</mi>
          <mi>t</mi>
         </mrow>
        </mfrac>
       </mrow>
      </mfrac>
      <mo>)</mo>
     </mrow>
    </mrow>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <csymbol cd="ambiguous">subscript</csymbol>
     <ci>f</ci>
     <ci>Î±</ci>
    </apply>
    <apply>
     <minus></minus>
     <apply>
      <divide></divide>
      <apply>
       <partialdiff></partialdiff>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>L</ci>
        <ci>I</ci>
       </apply>
      </apply>
      <apply>
       <partialdiff></partialdiff>
       <apply>
        <csymbol cd="ambiguous">superscript</csymbol>
        <ci>x</ci>
        <ci>Î±</ci>
       </apply>
      </apply>
     </apply>
     <apply>
      <times></times>
      <apply>
       <divide></divide>
       <ci>d</ci>
       <apply>
        <times></times>
        <ci>d</ci>
        <ci>t</ci>
       </apply>
      </apply>
      <apply>
       <divide></divide>
       <apply>
        <partialdiff></partialdiff>
        <apply>
         <csymbol cd="ambiguous">subscript</csymbol>
         <ci>L</ci>
         <ci>I</ci>
        </apply>
       </apply>
       <apply>
        <partialdiff></partialdiff>
        <apply>
         <divide></divide>
         <apply>
          <times></times>
          <ci>d</ci>
          <apply>
           <csymbol cd="ambiguous">superscript</csymbol>
           <ci>x</ci>
           <ci>Î±</ci>
          </apply>
         </apply>
         <apply>
          <times></times>
          <ci>d</ci>
          <ci>t</ci>
         </apply>
        </apply>
       </apply>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   f_{\alpha}=\frac{\partial L_{I}}{\partial x^{\alpha}}-\frac{d}{dt}\left(\frac{%
\partial L_{I}}{\partial\frac{dx^{\alpha}}{dt}}\right)
  </annotation>
 </semantics>
</math>

 is the non-gravitational force on the particle. (For <em>m</em> to be independent of time, we must have 

<math display="inline" id="Lagrangian_mechanics:153">
 <semantics>
  <mrow>
   <mrow>
    <msub>
     <mi>f</mi>
     <mi>Î±</mi>
    </msub>
    <mfrac>
     <mrow>
      <mi>d</mi>
      <msup>
       <mi>x</mi>
       <mi>Î±</mi>
      </msup>
     </mrow>
     <mrow>
      <mi>d</mi>
      <mi>t</mi>
     </mrow>
    </mfrac>
   </mrow>
   <mo>=</mo>
   <mn>0</mn>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <times></times>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <ci>f</ci>
      <ci>Î±</ci>
     </apply>
     <apply>
      <divide></divide>
      <apply>
       <times></times>
       <ci>d</ci>
       <apply>
        <csymbol cd="ambiguous">superscript</csymbol>
        <ci>x</ci>
        <ci>Î±</ci>
       </apply>
      </apply>
      <apply>
       <times></times>
       <ci>d</ci>
       <ci>t</ci>
      </apply>
     </apply>
    </apply>
    <cn type="integer">0</cn>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   f_{\alpha}\tfrac{dx^{\alpha}}{dt}=0
  </annotation>
 </semantics>
</math>

.)</p>

<p>Rearranging gets the force equation</p>

<p>

<math display="block" id="Lagrangian_mechanics:154">
 <semantics>
  <mrow>
   <mrow>
    <mfrac>
     <mi>d</mi>
     <mrow>
      <mi>d</mi>
      <mi>t</mi>
     </mrow>
    </mfrac>
    <mrow>
     <mo>(</mo>
     <mrow>
      <mi>m</mi>
      <mfrac>
       <mrow>
        <mi>d</mi>
        <msup>
         <mi>x</mi>
         <mi>Î½</mi>
        </msup>
       </mrow>
       <mrow>
        <mi>d</mi>
        <mi>Ï„</mi>
       </mrow>
      </mfrac>
     </mrow>
     <mo>)</mo>
    </mrow>
   </mrow>
   <mo>=</mo>
   <mrow>
    <mrow>
     <mo>-</mo>
     <mrow>
      <mi>m</mi>
      <msubsup>
       <mi mathvariant="normal">Î“</mi>
       <mrow>
        <mi>Î¼</mi>
        <mi>Ïƒ</mi>
       </mrow>
       <mi>Î½</mi>
      </msubsup>
      <mfrac>
       <mrow>
        <mi>d</mi>
        <msup>
         <mi>x</mi>
         <mi>Î¼</mi>
        </msup>
       </mrow>
       <mrow>
        <mi>d</mi>
        <mi>Ï„</mi>
       </mrow>
      </mfrac>
      <mfrac>
       <mrow>
        <mi>d</mi>
        <msup>
         <mi>x</mi>
         <mi>Ïƒ</mi>
        </msup>
       </mrow>
       <mrow>
        <mi>d</mi>
        <mi>t</mi>
       </mrow>
      </mfrac>
     </mrow>
    </mrow>
    <mo>+</mo>
    <mrow>
     <msup>
      <mi>g</mi>
      <mrow>
       <mi>Î½</mi>
       <mi>Î±</mi>
      </mrow>
     </msup>
     <msub>
      <mi>f</mi>
      <mi>Î±</mi>
     </msub>
    </mrow>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <times></times>
     <apply>
      <divide></divide>
      <ci>d</ci>
      <apply>
       <times></times>
       <ci>d</ci>
       <ci>t</ci>
      </apply>
     </apply>
     <apply>
      <times></times>
      <ci>m</ci>
      <apply>
       <divide></divide>
       <apply>
        <times></times>
        <ci>d</ci>
        <apply>
         <csymbol cd="ambiguous">superscript</csymbol>
         <ci>x</ci>
         <ci>Î½</ci>
        </apply>
       </apply>
       <apply>
        <times></times>
        <ci>d</ci>
        <ci>Ï„</ci>
       </apply>
      </apply>
     </apply>
    </apply>
    <apply>
     <plus></plus>
     <apply>
      <minus></minus>
      <apply>
       <times></times>
       <ci>m</ci>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <apply>
         <csymbol cd="ambiguous">superscript</csymbol>
         <ci>normal-Î“</ci>
         <ci>Î½</ci>
        </apply>
        <apply>
         <times></times>
         <ci>Î¼</ci>
         <ci>Ïƒ</ci>
        </apply>
       </apply>
       <apply>
        <divide></divide>
        <apply>
         <times></times>
         <ci>d</ci>
         <apply>
          <csymbol cd="ambiguous">superscript</csymbol>
          <ci>x</ci>
          <ci>Î¼</ci>
         </apply>
        </apply>
        <apply>
         <times></times>
         <ci>d</ci>
         <ci>Ï„</ci>
        </apply>
       </apply>
       <apply>
        <divide></divide>
        <apply>
         <times></times>
         <ci>d</ci>
         <apply>
          <csymbol cd="ambiguous">superscript</csymbol>
          <ci>x</ci>
          <ci>Ïƒ</ci>
         </apply>
        </apply>
        <apply>
         <times></times>
         <ci>d</ci>
         <ci>t</ci>
        </apply>
       </apply>
      </apply>
     </apply>
     <apply>
      <times></times>
      <apply>
       <csymbol cd="ambiguous">superscript</csymbol>
       <ci>g</ci>
       <apply>
        <times></times>
        <ci>Î½</ci>
        <ci>Î±</ci>
       </apply>
      </apply>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>f</ci>
       <ci>Î±</ci>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \frac{d}{dt}\left(m\frac{dx^{\nu}}{d\tau}\right)=-m\Gamma^{\nu}_{\mu\sigma}%
\frac{dx^{\mu}}{d\tau}\frac{dx^{\sigma}}{dt}+g^{\nu\alpha}f_{\alpha}
  </annotation>
 </semantics>
</math>

 where Î“ is the <a href="Christoffel_symbol" title="wikilink">Christoffel symbol</a> which is the gravitational force field.</p>

<p>If we let</p>

<p>

<math display="block" id="Lagrangian_mechanics:155">
 <semantics>
  <mrow>
   <msup>
    <mi>p</mi>
    <mi>Î½</mi>
   </msup>
   <mo>=</mo>
   <mrow>
    <mi>m</mi>
    <mfrac>
     <mrow>
      <mi>d</mi>
      <msup>
       <mi>x</mi>
       <mi>Î½</mi>
      </msup>
     </mrow>
     <mrow>
      <mi>d</mi>
      <mi>Ï„</mi>
     </mrow>
    </mfrac>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <csymbol cd="ambiguous">superscript</csymbol>
     <ci>p</ci>
     <ci>Î½</ci>
    </apply>
    <apply>
     <times></times>
     <ci>m</ci>
     <apply>
      <divide></divide>
      <apply>
       <times></times>
       <ci>d</ci>
       <apply>
        <csymbol cd="ambiguous">superscript</csymbol>
        <ci>x</ci>
        <ci>Î½</ci>
       </apply>
      </apply>
      <apply>
       <times></times>
       <ci>d</ci>
       <ci>Ï„</ci>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   p^{\nu}=m\frac{dx^{\nu}}{d\tau}
  </annotation>
 </semantics>
</math>

 be the (kinetic) linear momentum for a particle with mass, then</p>

<p>

<math display="block" id="Lagrangian_mechanics:156">
 <semantics>
  <mrow>
   <mfrac>
    <mrow>
     <mi>d</mi>
     <msup>
      <mi>p</mi>
      <mi>Î½</mi>
     </msup>
    </mrow>
    <mrow>
     <mi>d</mi>
     <mi>t</mi>
    </mrow>
   </mfrac>
   <mo>=</mo>
   <mrow>
    <mrow>
     <mo>-</mo>
     <mrow>
      <msubsup>
       <mi mathvariant="normal">Î“</mi>
       <mrow>
        <mi>Î¼</mi>
        <mi>Ïƒ</mi>
       </mrow>
       <mi>Î½</mi>
      </msubsup>
      <msup>
       <mi>p</mi>
       <mi>Î¼</mi>
      </msup>
      <mfrac>
       <mrow>
        <mi>d</mi>
        <msup>
         <mi>x</mi>
         <mi>Ïƒ</mi>
        </msup>
       </mrow>
       <mrow>
        <mi>d</mi>
        <mi>t</mi>
       </mrow>
      </mfrac>
     </mrow>
    </mrow>
    <mo>+</mo>
    <mrow>
     <msup>
      <mi>g</mi>
      <mrow>
       <mi>Î½</mi>
       <mi>Î±</mi>
      </mrow>
     </msup>
     <msub>
      <mi>f</mi>
      <mi>Î±</mi>
     </msub>
    </mrow>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <divide></divide>
     <apply>
      <times></times>
      <ci>d</ci>
      <apply>
       <csymbol cd="ambiguous">superscript</csymbol>
       <ci>p</ci>
       <ci>Î½</ci>
      </apply>
     </apply>
     <apply>
      <times></times>
      <ci>d</ci>
      <ci>t</ci>
     </apply>
    </apply>
    <apply>
     <plus></plus>
     <apply>
      <minus></minus>
      <apply>
       <times></times>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <apply>
         <csymbol cd="ambiguous">superscript</csymbol>
         <ci>normal-Î“</ci>
         <ci>Î½</ci>
        </apply>
        <apply>
         <times></times>
         <ci>Î¼</ci>
         <ci>Ïƒ</ci>
        </apply>
       </apply>
       <apply>
        <csymbol cd="ambiguous">superscript</csymbol>
        <ci>p</ci>
        <ci>Î¼</ci>
       </apply>
       <apply>
        <divide></divide>
        <apply>
         <times></times>
         <ci>d</ci>
         <apply>
          <csymbol cd="ambiguous">superscript</csymbol>
          <ci>x</ci>
          <ci>Ïƒ</ci>
         </apply>
        </apply>
        <apply>
         <times></times>
         <ci>d</ci>
         <ci>t</ci>
        </apply>
       </apply>
      </apply>
     </apply>
     <apply>
      <times></times>
      <apply>
       <csymbol cd="ambiguous">superscript</csymbol>
       <ci>g</ci>
       <apply>
        <times></times>
        <ci>Î½</ci>
        <ci>Î±</ci>
       </apply>
      </apply>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>f</ci>
       <ci>Î±</ci>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \frac{dp^{\nu}}{dt}=-\Gamma^{\nu}_{\mu\sigma}p^{\mu}\frac{dx^{\sigma}}{dt}+g^{%
\nu\alpha}f_{\alpha}
  </annotation>
 </semantics>
</math>

 and</p>

<p>

<math display="block" id="Lagrangian_mechanics:157">
 <semantics>
  <mrow>
   <mfrac>
    <mrow>
     <mi>d</mi>
     <msup>
      <mi>x</mi>
      <mi>Î½</mi>
     </msup>
    </mrow>
    <mrow>
     <mi>d</mi>
     <mi>t</mi>
    </mrow>
   </mfrac>
   <mo>=</mo>
   <mfrac>
    <msup>
     <mi>p</mi>
     <mi>Î½</mi>
    </msup>
    <msup>
     <mi>p</mi>
     <mn>0</mn>
    </msup>
   </mfrac>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <divide></divide>
     <apply>
      <times></times>
      <ci>d</ci>
      <apply>
       <csymbol cd="ambiguous">superscript</csymbol>
       <ci>x</ci>
       <ci>Î½</ci>
      </apply>
     </apply>
     <apply>
      <times></times>
      <ci>d</ci>
      <ci>t</ci>
     </apply>
    </apply>
    <apply>
     <divide></divide>
     <apply>
      <csymbol cd="ambiguous">superscript</csymbol>
      <ci>p</ci>
      <ci>Î½</ci>
     </apply>
     <apply>
      <csymbol cd="ambiguous">superscript</csymbol>
      <ci>p</ci>
      <cn type="integer">0</cn>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \frac{dx^{\nu}}{dt}=\frac{p^{\nu}}{p^{0}}
  </annotation>
 </semantics>
</math>

 hold even for a massless particle.</p>
<h2 id="lagrangian-mechanics-in-other-contexts">Lagrangian mechanics in other contexts</h2>

<p>The <a href="Hamiltonian_mechanics" title="wikilink">Hamiltonian</a>, denoted by <em>H</em>, is obtained by performing a <a href="Legendre_transformation" title="wikilink">Legendre transformation</a> on the Lagrangian, which introduces new variables, canonically conjugate to the original variables. This doubles the number of variables, but makes differential equations first order. The Hamiltonian is the basis for an alternative formulation of classical mechanics known as <a href="Hamiltonian_mechanics" title="wikilink">Hamiltonian mechanics</a>. It is a particularly ubiquitous quantity in <a href="quantum_mechanics" title="wikilink">quantum mechanics</a> (see <a href="Hamiltonian_(quantum_mechanics)" title="wikilink">Hamiltonian (quantum mechanics)</a>).</p>

<p>In 1948, <a href="Richard_Feynman" title="wikilink">Feynman</a> discovered the <a href="path_integral_formulation" title="wikilink">path integral formulation</a> extending the <a href="principle_of_least_action" title="wikilink">principle of least action</a> to <a href="quantum_mechanics" title="wikilink">quantum mechanics</a> for <a class="uri" href="electrons" title="wikilink">electrons</a> and <a class="uri" href="photons" title="wikilink">photons</a>. In this formulation, particles travel every possible path between the initial and final states; the probability of a specific final state is obtained by summing over all possible trajectories leading to it. In the classical regime, the path integral formulation cleanly reproduces Hamilton's principle, and <a href="Fermat's_principle" title="wikilink">Fermat's principle</a> in <a class="uri" href="optics" title="wikilink">optics</a>.</p>

<p><a class="uri" href="Dissipation" title="wikilink">Dissipation</a> (i.e. non-conservative systems) can also be treated with an effective Lagrangian formulated by a certain doubling of the degrees of freedom; see.<a class="footnoteRef" href="#fn35" id="fnref35"><sup>35</sup></a><a class="footnoteRef" href="#fn36" id="fnref36"><sup>36</sup></a><a class="footnoteRef" href="#fn37" id="fnref37"><sup>37</sup></a><a class="footnoteRef" href="#fn38" id="fnref38"><sup>38</sup></a></p>
<h2 id="uses-in-engineering">Uses in Engineering</h2>

<p>Circa 1963 Lagrangians were a general part of the engineering curriculum, but a quarter of a century later, even with the ascendency of <a href="dynamical_system" title="wikilink">dynamical systems</a>, they were dropped as requirements for some engineering programs, and are generally considered to be the domain of theoretical dynamics. Circa 2003 this changed dramatically, and Lagrangians are not only a required part of many ME and EE graduate-level curricula, but also find applications in finance, economics, and biology, mainly as the basis of the formulation of various path integral schemes to facilitate the solution of parabolic partial differential equations via random walks.</p>

<p>Circa 2013, Lagrangians find their way into hundreds of direct engineering solutions, including <a class="uri" href="robotics" title="wikilink">robotics</a>, turbulent flow analysis (<a href="Lagrangian_and_Eulerian_specification_of_the_flow_field" title="wikilink">Lagrangian and Eulerian specification of the flow field</a>), <a href="signal_processing" title="wikilink">signal processing</a>, microscopic component contact and <a class="uri" href="nanotechnology" title="wikilink">nanotechnology</a> (superlinear convergent augmented Lagrangians), gyroscopic forcing and dissipation, <a class="uri" href="semi-infinite" title="wikilink">semi-infinite</a> supercomputing (which also involve <a href="Lagrange_multipliers" title="wikilink">Lagrange multipliers</a> in the subfield of <a href="semi-infinite_programming" title="wikilink">semi-infinite programming</a>), <a href="chemical_engineering" title="wikilink">chemical engineering</a> (specific heat linear Lagrangian interpolation in reaction planning), civil engineering (dynamic analysis of traffic flows), optics engineering and design (Lagrangian and <a href="Hamiltonian_optics" title="wikilink">Hamiltonian optics</a>) aerospace (Lagrangian interpolation), force stepping integrators, and even <a class="uri" href="airbag" title="wikilink">airbag</a> deployment (coupled Eulerian-Lagrangians as well as SELMâ€”the <a href="stochastic_Eulerian_Lagrangian_method" title="wikilink">stochastic Eulerian Lagrangian method</a>).<a class="footnoteRef" href="#fn39" id="fnref39"><sup>39</sup></a></p>
<h2 id="see-also">See also</h2>
<ul>
<li><a href="Canonical_coordinates" title="wikilink">Canonical coordinates</a></li>
<li><a href="Functional_derivative" title="wikilink">Functional derivative</a></li>
<li><a href="Generalized_coordinates" title="wikilink">Generalized coordinates</a></li>
<li><a href="Hamiltonian_mechanics" title="wikilink">Hamiltonian mechanics</a></li>
<li><a href="Hamiltonian_optics" title="wikilink">Hamiltonian optics</a></li>
<li><a href="Lagrangian_analysis" title="wikilink">Lagrangian analysis</a> (applications of Lagrangian mechanics)</li>
<li><a href="Lagrangian_point" title="wikilink">Lagrangian point</a></li>
<li><a href="Lagrangian_systemâ€" title="wikilink">Lagrangian systemâ€</a></li>
<li><a href="Non-autonomous_mechanics" title="wikilink">Non-autonomous mechanics</a></li>
<li><a href="Restricted_three-body_problem" title="wikilink">Restricted three-body problem</a></li>
<li><a href="Plateau's_problem" title="wikilink">Plateau's problem</a></li>
</ul>
<h2 id="references">References</h2>
<h2 id="further-reading">Further reading</h2>
<ul>
<li><a href="Lev_Landau" title="wikilink">Landau, L.D.</a> and <a href="Evgeny_Lifshitz" title="wikilink">Lifshitz, E.M.</a> <em>Mechanics</em>, Pergamon Press.</li>
<li>Gupta, Kiran Chandra, <em>Classical mechanics of particles and rigid bodies</em> (Wiley, 1988).</li>
<li><a href="Classical_Mechanics_(book)" title="wikilink">Goldstein, Herbert, <em>Classical Mechanics</em>, Addison Wesley</a>.</li>
<li>Cassel, Kevin W.: Variational Methods with Applications in Science and Engineering, Cambridge University Press, 2013.</li>
</ul>
<h2 id="external-links">External links</h2>
<ul>
<li>Tong, David, <a href="http://www.damtp.cam.ac.uk/user/tong/dynamics.html">Classical Dynamics</a> Cambridge lecture notes</li>
<li><a href="http://www.eftaylor.com/software/ActionApplets/LeastAction.html">Principle of least action interactive</a> Excellent interactive explanation/webpage</li>
<li><a href="http://portail.mathdoc.fr/cgi-bin/oetoc?id=OE_LAGRANGE__1">Joseph Louis de Lagrange - Å’uvres complÃ¨tes</a> (Gallica-Math)</li>
</ul>

<p>"</p>

<p><a href="Category:Lagrangian_mechanics" title="wikilink">*</a> <a href="Category:Concepts_in_physics" title="wikilink">Category:Concepts in physics</a> <a href="Category:Lagrangian_mechanics" title="wikilink">Category:Lagrangian mechanics</a> <a href="Category:Dynamical_systems" title="wikilink">Category:Dynamical systems</a> <a href="Category:Mathematical_and_quantitative_methods_(economics)" title="wikilink">Category:Mathematical and quantitative methods (economics)</a></p>
<section class="footnotes">
<hr/>
<ol>
<li id="fn1"><a href="#fnref1">â†©</a></li>
<li id="fn2"><a class="uri" href="http://williamhoover.info/Scans1990s/1995-10.pdf">http://williamhoover.info/Scans1990s/1995-10.pdf</a><a href="#fnref2">â†©</a></li>
<li id="fn3"><a href="#fnref3">â†©</a></li>
<li id="fn4"><a href="#fnref4">â†©</a></li>
<li id="fn5"><a href="#fnref5">â†©</a></li>
<li id="fn6"><a href="#fnref6">â†©</a></li>
<li id="fn7"></li>
<li id="fn8"><a href="#fnref8">â†©</a></li>
<li id="fn9"></li>
<li id="fn10"></li>
<li id="fn11"><a href="#fnref11">â†©</a></li>
<li id="fn12"></li>
<li id="fn13"></li>
<li id="fn14"></li>
<li id="fn15">Analytical Mechanics, L.N. Hand, J.D. Finch, Cambridge University Press, 2008, ISBN 978-0-521-57572-0<a href="#fnref15">â†©</a></li>
<li id="fn16"></li>
<li id="fn17">Torby1984, p.270<a href="#fnref17">â†©</a></li>
<li id="fn18"></li>
<li id="fn19"><a href="#fnref19">â†©</a></li>
<li id="fn20"><a href="#fnref20">â†©</a></li>
<li id="fn21"></li>
<li id="fn22">The Road to Reality, Roger Penrose, Vintage books, 2007, ISBN 0-679-77631-1<a href="#fnref22">â†©</a></li>
<li id="fn23"></li>
<li id="fn24"></li>
<li id="fn25">"The Principle of Least Action" Richard Feynman<a href="#fnref25">â†©</a></li>
<li id="fn26">Classical Mechanics, T.W.B. Kibble, European Physics Series, McGraw-Hill (UK), 1973, ISBN 0-07-084018-0<a href="#fnref26">â†©</a></li>
<li id="fn27">Analytical Mechanics, L.N. Hand, J.D. Finch, Cambridge University Press, 2008, ISBN 978-0-521-57572-0<a href="#fnref27">â†©</a></li>
<li id="fn28"><a href="#fnref28">â†©</a></li>
<li id="fn29">The Lagrangian also can be written explicitly for a rotating frame. See <a href="#fnref29">â†©</a></li>
<li id="fn30"><a href="#fnref30">â†©</a></li>
<li id="fn31"><a href="#fnref31">â†©</a></li>
<li id="fn32"><a href="#fnref32">â†©</a></li>
<li id="fn33"><a href="Lev_Davidovich_Landau" title="wikilink">Lev Davidovich Landau</a> &amp; <a href="Evgeny_Mikhailovich_Lifshitz" title="wikilink">Evgeny Mikhailovich Lifshitz</a>, <em>The Classical Theory of Fields</em>, (1975), Elsevier Ltd., ISBN 978-0-7506-2768-9, page 26<a href="#fnref33">â†©</a></li>
<li id="fn34">Noel A. Doughty, <em>Lagrangian Interaction</em>, (1990), Addison-Wesley Publishers Ltd., ISBN 0-201-41625-5, pages 310<a href="#fnref34">â†©</a></li>
<li id="fn35"><a href="#fnref35">â†©</a></li>
<li id="fn36"><a href="#fnref36">â†©</a></li>
<li id="fn37"><a href="#fnref37">â†©</a></li>
<li id="fn38"><a href="#fnref38">â†©</a></li>
<li id="fn39"><a href="#fnref39">â†©</a></li>
</ol>
</section>
</body>
</html>
