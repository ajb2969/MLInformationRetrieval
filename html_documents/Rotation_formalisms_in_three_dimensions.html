<html lang="en">
<head>
<meta charset="utf-8"/>
<title offset="1420">Rotation formalisms in three dimensions</title>
<script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_SVG.js" type="text/javascript">
</script>
</head>
<body>
<h1>Rotation formalisms in three dimensions</h1>
<hr/>

<p>In <a class="uri" href="geometry" title="wikilink">geometry</a>, various <strong>formalisms</strong> exist to express a <a href="rotation_(mathematics)" title="wikilink">rotation</a> in three <a href="dimension_(vector_space)" title="wikilink">dimensions</a> as a mathematical <a href="transformation_(geometry)" title="wikilink">transformation</a>. In physics, this concept is applied to <a href="classical_mechanics" title="wikilink">classical mechanics</a> where rotational (or angular) <a class="uri" href="kinematics" title="wikilink">kinematics</a> is the science of <a href="quantity" title="wikilink">quantitative</a> description of a purely rotational <a href="motion_(physics)" title="wikilink">motion</a>. The <a href="orientation_(geometry)" title="wikilink">orientation</a> of an object at a given instant is described with the same tools, as it is defined as an imaginary rotation from a reference placement in space, rather than an actually observed rotation from a previous placement in space.</p>

<p>According to <a href="Euler's_rotation_theorem" title="wikilink">Euler's rotation theorem</a> the rotation of a <a href="rigid_body" title="wikilink">rigid body</a> (or three-dimensional <a href="coordinate_system" title="wikilink">coordinate system</a> with the fixed <a href="origin_(mathematics)" title="wikilink">origin</a>) is described by a single rotation about some axis. Such a rotation may be uniquely described by a minimum of three <a href="real_number" title="wikilink">real</a> parameters. However, for various reasons, there are several ways to represent it. Many of these representations use more than the necessary minimum of three parameters, although each of them still has only three <a href="degrees_of_freedom_(mechanics)" title="wikilink">degrees of freedom</a>.</p>

<p>An example where rotation representation is used is in <a href="computer_vision" title="wikilink">computer vision</a>, where an <a href="automation" title="wikilink">automated</a> observer needs to track a target. Let's consider a rigid body, with three <a href="orthonormal_basis" title="wikilink">orthogonal unit vectors</a> fixed to its body (representing the three axes of the object's local <a href="Cartesian_coordinate_system" title="wikilink">coordinate system</a>). The basic problem is to specify the orientation of these three <a href="unit_vector" title="wikilink">unit vectors</a>, and hence the rigid body, with respect to the observer's coordinate system, regarded as a reference placement in space.</p>
<h2 id="rotations-and-motions">Rotations and motions</h2>

<p>Rotation formalisms are focused on proper (<a href="orientation_(vector_space)" title="wikilink">orientation-preserving</a>) motions of the <a href="Euclidean_space" title="wikilink">Euclidean space</a> with <a href="stabilizer_(group_theory)" title="wikilink">one fixed point</a>, that a <em>rotation</em> refers to. Although physical motions with a fixed point are an important case (such as ones described in the <a href="center-of-mass_frame" title="wikilink">center-of-mass frame</a>, or motions of a <a href="joint_(mechanics)" title="wikilink">joint</a>), this approach creates a knowledge about all motions. Any proper motion of the Euclidean space decomposes to a rotation around the origin and a <a href="translation_(geometry)" title="wikilink">translation</a>. Whichever the order of their <a href="function_composition" title="wikilink">composition</a> will be, the "pure" rotation component wouldn't change, uniquely determined by the complete motion.</p>

<p>One can also understand "pure" rotations as <a href="linear_map" title="wikilink">linear maps</a> in a <a href="vector_space" title="wikilink">vector space</a> equipped with Euclidean structure, not as maps of <a href="point_(geometry)" title="wikilink">points</a> of a corresponding <a href="affine_space" title="wikilink">affine space</a>. In other words, a rotation formalism captures only the rotational part of a motion, that contains three degrees of freedom, and ignores the translational part, that contains another three.</p>
<h2 id="formalism-alternatives">Formalism alternatives</h2>
<h3 id="rotation-matrix">Rotation matrix</h3>

<p>The above-mentioned triad of <a href="unit_vector" title="wikilink">unit vectors</a> is also called a <a href="basis_(linear_algebra)" title="wikilink">basis</a>. Specifying <a href="real_coordinate_space" title="wikilink">the coordinates</a> (<em>components</em>) of vectors of this basis in its current (rotated) position, in terms of the reference (non-rotated) coordinate axes, will completely describe the rotation. The three unit vectors, 

<math display="inline" id="Rotation_formalisms_in_three_dimensions:0">
 <semantics>
  <mover accent="true">
   <mi>𝐮</mi>
   <mo stretchy="false">^</mo>
  </mover>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <ci>normal-^</ci>
    <ci>𝐮</ci>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \scriptstyle\hat{\mathbf{u}}
  </annotation>
 </semantics>
</math>

, 

<math display="inline" id="Rotation_formalisms_in_three_dimensions:1">
 <semantics>
  <mover accent="true">
   <mi>𝐯</mi>
   <mo stretchy="false">^</mo>
  </mover>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <ci>normal-^</ci>
    <ci>𝐯</ci>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \scriptstyle\hat{\mathbf{v}}
  </annotation>
 </semantics>
</math>

 and 

<math display="inline" id="Rotation_formalisms_in_three_dimensions:2">
 <semantics>
  <mover accent="true">
   <mi>𝐰</mi>
   <mo stretchy="false">^</mo>
  </mover>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <ci>normal-^</ci>
    <ci>𝐰</ci>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \scriptstyle\hat{\mathbf{w}}
  </annotation>
 </semantics>
</math>

, that form the rotated basis each consist of 3 coordinates, yielding a total of 9 parameters.</p>

<p>These parameters can be written as the elements of a  matrix <strong>A</strong>, called a <strong>rotation matrix</strong>. Typically, the coordinates of each of these vectors are arranged along a column of the matrix (however, beware that an alternative definition of rotation matrix exists and is widely used, where the vectors coordinates defined above are arranged by rows<a class="footnoteRef" href="#fn1" id="fnref1"><sup>1</sup></a>)</p>

<p>

<math display="block" id="Rotation_formalisms_in_three_dimensions:3">
 <semantics>
  <mrow>
   <mi>𝐀</mi>
   <mo>=</mo>
   <mrow>
    <mo>[</mo>
    <mtable displaystyle="true">
     <mtr>
      <mtd columnalign="center">
       <msub>
        <mover accent="true">
         <mi>𝐮</mi>
         <mo stretchy="false">^</mo>
        </mover>
        <mi>x</mi>
       </msub>
      </mtd>
      <mtd columnalign="center">
       <msub>
        <mover accent="true">
         <mi>𝐯</mi>
         <mo stretchy="false">^</mo>
        </mover>
        <mi>x</mi>
       </msub>
      </mtd>
      <mtd columnalign="center">
       <msub>
        <mover accent="true">
         <mi>𝐰</mi>
         <mo stretchy="false">^</mo>
        </mover>
        <mi>x</mi>
       </msub>
      </mtd>
     </mtr>
     <mtr>
      <mtd columnalign="center">
       <msub>
        <mover accent="true">
         <mi>𝐮</mi>
         <mo stretchy="false">^</mo>
        </mover>
        <mi>y</mi>
       </msub>
      </mtd>
      <mtd columnalign="center">
       <msub>
        <mover accent="true">
         <mi>𝐯</mi>
         <mo stretchy="false">^</mo>
        </mover>
        <mi>y</mi>
       </msub>
      </mtd>
      <mtd columnalign="center">
       <msub>
        <mover accent="true">
         <mi>𝐰</mi>
         <mo stretchy="false">^</mo>
        </mover>
        <mi>y</mi>
       </msub>
      </mtd>
     </mtr>
     <mtr>
      <mtd columnalign="center">
       <msub>
        <mover accent="true">
         <mi>𝐮</mi>
         <mo stretchy="false">^</mo>
        </mover>
        <mi>z</mi>
       </msub>
      </mtd>
      <mtd columnalign="center">
       <msub>
        <mover accent="true">
         <mi>𝐯</mi>
         <mo stretchy="false">^</mo>
        </mover>
        <mi>z</mi>
       </msub>
      </mtd>
      <mtd columnalign="center">
       <msub>
        <mover accent="true">
         <mi>𝐰</mi>
         <mo stretchy="false">^</mo>
        </mover>
        <mi>z</mi>
       </msub>
      </mtd>
     </mtr>
    </mtable>
    <mo>]</mo>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <ci>𝐀</ci>
    <apply>
     <csymbol cd="latexml">delimited-[]</csymbol>
     <matrix>
      <matrixrow>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <apply>
         <ci>normal-^</ci>
         <ci>𝐮</ci>
        </apply>
        <ci>x</ci>
       </apply>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <apply>
         <ci>normal-^</ci>
         <ci>𝐯</ci>
        </apply>
        <ci>x</ci>
       </apply>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <apply>
         <ci>normal-^</ci>
         <ci>𝐰</ci>
        </apply>
        <ci>x</ci>
       </apply>
      </matrixrow>
      <matrixrow>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <apply>
         <ci>normal-^</ci>
         <ci>𝐮</ci>
        </apply>
        <ci>y</ci>
       </apply>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <apply>
         <ci>normal-^</ci>
         <ci>𝐯</ci>
        </apply>
        <ci>y</ci>
       </apply>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <apply>
         <ci>normal-^</ci>
         <ci>𝐰</ci>
        </apply>
        <ci>y</ci>
       </apply>
      </matrixrow>
      <matrixrow>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <apply>
         <ci>normal-^</ci>
         <ci>𝐮</ci>
        </apply>
        <ci>z</ci>
       </apply>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <apply>
         <ci>normal-^</ci>
         <ci>𝐯</ci>
        </apply>
        <ci>z</ci>
       </apply>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <apply>
         <ci>normal-^</ci>
         <ci>𝐰</ci>
        </apply>
        <ci>z</ci>
       </apply>
      </matrixrow>
     </matrix>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \mathbf{A}=\left[{\begin{array}[]{ccc}\hat{\mathbf{u}}_{x}&\hat{\mathbf{v}}_{x%
}&\hat{\mathbf{w}}_{x}\\
\hat{\mathbf{u}}_{y}&\hat{\mathbf{v}}_{y}&\hat{\mathbf{w}}_{y}\\
\hat{\mathbf{u}}_{z}&\hat{\mathbf{v}}_{z}&\hat{\mathbf{w}}_{z}\\
\end{array}}\right]
  </annotation>
 </semantics>
</math>

</p>

<p>The elements of the rotation matrix are not all independent—as Euler's rotation theorem dictates, the rotation matrix has only three degrees of freedom.</p>

<p>The rotation matrix has the following properties:</p>
<ul>
<li><strong>A</strong> is a real, <a href="orthogonal_matrix" title="wikilink">orthogonal matrix</a>, hence each of its rows or columns represents a <a href="unit_vector" title="wikilink">unit vector</a>.</li>
<li>The <a class="uri" href="eigenvalues" title="wikilink">eigenvalues</a> of <strong>A</strong> are</li>
</ul>
<dl>
<dd><dl>
<dd>

<math display="inline" id="Rotation_formalisms_in_three_dimensions:4">
 <semantics>
  <mrow>
   <mrow>
    <mo stretchy="false">{</mo>
    <mn>1</mn>
    <mo>,</mo>
    <msup>
     <mi>e</mi>
     <mrow>
      <mo>±</mo>
      <mrow>
       <mi>i</mi>
       <mi>θ</mi>
      </mrow>
     </mrow>
    </msup>
    <mo stretchy="false">}</mo>
   </mrow>
   <mo>=</mo>
   <mrow>
    <mo stretchy="false">{</mo>
    <mn>1</mn>
    <mo rspace="7.5pt">,</mo>
    <mrow>
     <mrow>
      <mi>cos</mi>
      <mrow>
       <mo stretchy="false">(</mo>
       <mi>θ</mi>
       <mo stretchy="false">)</mo>
      </mrow>
     </mrow>
     <mo>+</mo>
     <mrow>
      <mi>i</mi>
      <mrow>
       <mi>sin</mi>
       <mrow>
        <mo stretchy="false">(</mo>
        <mi>θ</mi>
        <mo stretchy="false">)</mo>
       </mrow>
      </mrow>
     </mrow>
    </mrow>
    <mo rspace="7.5pt">,</mo>
    <mrow>
     <mrow>
      <mi>cos</mi>
      <mrow>
       <mo stretchy="false">(</mo>
       <mi>θ</mi>
       <mo stretchy="false">)</mo>
      </mrow>
     </mrow>
     <mo>-</mo>
     <mrow>
      <mi>i</mi>
      <mrow>
       <mi>sin</mi>
       <mrow>
        <mo stretchy="false">(</mo>
        <mi>θ</mi>
        <mo stretchy="false">)</mo>
       </mrow>
      </mrow>
     </mrow>
    </mrow>
    <mo stretchy="false">}</mo>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <set>
     <cn type="integer">1</cn>
     <apply>
      <csymbol cd="ambiguous">superscript</csymbol>
      <ci>e</ci>
      <apply>
       <csymbol cd="latexml">plus-or-minus</csymbol>
       <apply>
        <times></times>
        <ci>i</ci>
        <ci>θ</ci>
       </apply>
      </apply>
     </apply>
    </set>
    <set>
     <cn type="integer">1</cn>
     <apply>
      <plus></plus>
      <apply>
       <cos></cos>
       <ci>θ</ci>
      </apply>
      <apply>
       <times></times>
       <ci>i</ci>
       <apply>
        <sin></sin>
        <ci>θ</ci>
       </apply>
      </apply>
     </apply>
     <apply>
      <minus></minus>
      <apply>
       <cos></cos>
       <ci>θ</ci>
      </apply>
      <apply>
       <times></times>
       <ci>i</ci>
       <apply>
        <sin></sin>
        <ci>θ</ci>
       </apply>
      </apply>
     </apply>
    </set>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \{1,e^{\pm i\theta}\}=\{1,\ \cos(\theta)+i\sin(\theta),\ \cos(\theta)-i\sin(%
\theta)\}
  </annotation>
 </semantics>
</math>


</dd>
</dl>
</dd>
<dd>where <em>i</em> is the standard <a href="imaginary_unit" title="wikilink">imaginary unit</a> with the property <em>i</em><sup>2</sup> = −1
</dd>
</dl>
<ul>
<li>The <a class="uri" href="determinant" title="wikilink">determinant</a> of <strong>A</strong> is +1, equivalent to the product of its eigenvalues.</li>
<li>The <a href="Trace_(linear_algebra)" title="wikilink">trace</a> of <strong>A</strong> is 

<math display="inline" id="Rotation_formalisms_in_three_dimensions:5">
 <semantics>
  <mrow>
   <mpadded width="+1.7pt">
    <mn>1</mn>
   </mpadded>
   <mo>+</mo>
   <mrow>
    <mn>2</mn>
    <mrow>
     <mi>cos</mi>
     <mrow>
      <mo stretchy="false">(</mo>
      <mi>θ</mi>
      <mo stretchy="false">)</mo>
     </mrow>
    </mrow>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <plus></plus>
    <cn type="integer">1</cn>
    <apply>
     <times></times>
     <cn type="float">2</cn>
     <apply>
      <cos></cos>
      <ci>θ</ci>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \scriptstyle 1\,+\,2\cos(\theta)
  </annotation>
 </semantics>
</math>

, equivalent to the sum of its eigenvalues.</li>
</ul>

<p>The angle 

<math display="inline" id="Rotation_formalisms_in_three_dimensions:6">
 <semantics>
  <mi>θ</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>θ</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \scriptstyle\theta
  </annotation>
 </semantics>
</math>

 which appears in the eigenvalue expression corresponds to the angle of the Euler axis and angle representation. The <a class="uri" href="eigenvector" title="wikilink">eigenvector</a> corresponding to the eigenvalue of 1 is the accompanying Euler axis, since the axis is the only (nonzero) vector which remains unchanged by left-multiplying (rotating) it with the rotation matrix.</p>

<p>The above properties are equivalent to:</p>

<p>

<math display="inline" id="Rotation_formalisms_in_three_dimensions:7">
 <semantics>
  <mrow>
   <mrow>
    <mo stretchy="false">|</mo>
    <mover accent="true">
     <mi>𝐮</mi>
     <mo stretchy="false">^</mo>
    </mover>
    <mo stretchy="false">|</mo>
   </mrow>
   <mo>=</mo>
   <mrow>
    <mo stretchy="false">|</mo>
    <mover accent="true">
     <mi>𝐯</mi>
     <mo stretchy="false">^</mo>
    </mover>
    <mo stretchy="false">|</mo>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <abs></abs>
     <apply>
      <ci>normal-^</ci>
      <ci>𝐮</ci>
     </apply>
    </apply>
    <apply>
     <abs></abs>
     <apply>
      <ci>normal-^</ci>
      <ci>𝐯</ci>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \displaystyle|\hat{\mathbf{u}}|=|\hat{\mathbf{v}}|
  </annotation>
 </semantics>
</math>


 which is another way of stating that 

<math display="inline" id="Rotation_formalisms_in_three_dimensions:8">
 <semantics>
  <mrow>
   <mo stretchy="false">(</mo>
   <mover accent="true">
    <mi>𝐮</mi>
    <mo stretchy="false">^</mo>
   </mover>
   <mo rspace="4.2pt">,</mo>
   <mover accent="true">
    <mi>𝐯</mi>
    <mo stretchy="false">^</mo>
   </mover>
   <mo rspace="4.2pt">,</mo>
   <mover accent="true">
    <mi>𝐰</mi>
    <mo stretchy="false">^</mo>
   </mover>
   <mo stretchy="false">)</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <vector>
    <apply>
     <ci>normal-^</ci>
     <ci>𝐮</ci>
    </apply>
    <apply>
     <ci>normal-^</ci>
     <ci>𝐯</ci>
    </apply>
    <apply>
     <ci>normal-^</ci>
     <ci>𝐰</ci>
    </apply>
   </vector>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   (\hat{\mathbf{u}},\,\hat{\mathbf{v}},\,\hat{\mathbf{w}})
  </annotation>
 </semantics>
</math>

 form a 3D <a href="orthonormal_basis" title="wikilink">orthonormal basis</a>. These statements comprise a total of 6 conditions (the cross product contains 3), leaving the rotation matrix with just 3 degrees of freedom, as required.</p>

<p>Two successive rotations represented by matrices 

<math display="inline" id="Rotation_formalisms_in_three_dimensions:9">
 <semantics>
  <msub>
   <mi>𝐀</mi>
   <mn>1</mn>
  </msub>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <csymbol cd="ambiguous">subscript</csymbol>
    <ci>𝐀</ci>
    <cn type="integer">1</cn>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \scriptstyle\mathbf{A}_{1}
  </annotation>
 </semantics>
</math>

 and 

<math display="inline" id="Rotation_formalisms_in_three_dimensions:10">
 <semantics>
  <msub>
   <mi>𝐀</mi>
   <mn>2</mn>
  </msub>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <csymbol cd="ambiguous">subscript</csymbol>
    <ci>𝐀</ci>
    <cn type="integer">2</cn>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \scriptstyle\mathbf{A}_{2}
  </annotation>
 </semantics>
</math>

 are easily combined as elements of a group,</p>

<p>

<math display="block" id="Rotation_formalisms_in_three_dimensions:11">
 <semantics>
  <mrow>
   <mpadded width="+2.8pt">
    <msub>
     <mi>𝐀</mi>
     <mtext>total</mtext>
    </msub>
   </mpadded>
   <mo rspace="5.3pt">=</mo>
   <mrow>
    <msub>
     <mi>𝐀</mi>
     <mn>2</mn>
    </msub>
    <msub>
     <mi>𝐀</mi>
     <mn>1</mn>
    </msub>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <csymbol cd="ambiguous">subscript</csymbol>
     <ci>𝐀</ci>
     <mtext>total</mtext>
    </apply>
    <apply>
     <times></times>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <ci>𝐀</ci>
      <cn type="integer">2</cn>
     </apply>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <ci>𝐀</ci>
      <cn type="integer">1</cn>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \scriptstyle\mathbf{A}_{\text{total}}\;=\;\mathbf{A}_{2}\mathbf{A}_{1}
  </annotation>
 </semantics>
</math>

 (Note the order, since the vector being rotated is multiplied from the right). The ease by which vectors can be rotated using a rotation matrix, as well as the ease of combining successive rotations, make the rotation matrix a useful and popular way to represent rotations, even though it is less concise than other representations.</p>
<h3 id="euler-axis-and-angle-rotation-vector">Euler axis and angle (rotation vector)</h3>

<p>  From <a href="Euler's_rotation_theorem" title="wikilink">Euler's rotation theorem</a> we know that any rotation can be expressed as a single rotation about some axis. The axis is the unit vector (unique except for sign) which remains unchanged by the rotation. The magnitude of the angle is also unique, with its sign being determined by the sign of the rotation axis.</p>

<p>The axis can be represented as a three-dimensional <a href="unit_vector" title="wikilink">unit vector</a> 

<math display="inline" id="Rotation_formalisms_in_three_dimensions:12">
 <semantics>
  <mrow>
   <mpadded width="+2.8pt">
    <mover accent="true">
     <mi>𝐞</mi>
     <mo stretchy="false">^</mo>
    </mover>
   </mpadded>
   <mo rspace="5.3pt">=</mo>
   <msup>
    <mrow>
     <mo stretchy="false">[</mo>
     <mrow>
      <mpadded width="+5pt">
       <msub>
        <mi>e</mi>
        <mi>x</mi>
       </msub>
      </mpadded>
      <mpadded width="+5pt">
       <msub>
        <mi>e</mi>
        <mi>y</mi>
       </msub>
      </mpadded>
      <msub>
       <mi>e</mi>
       <mi>z</mi>
      </msub>
     </mrow>
     <mo stretchy="false">]</mo>
    </mrow>
    <mi mathvariant="normal">T</mi>
   </msup>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <ci>normal-^</ci>
     <ci>𝐞</ci>
    </apply>
    <apply>
     <csymbol cd="ambiguous">superscript</csymbol>
     <apply>
      <csymbol cd="latexml">delimited-[]</csymbol>
      <apply>
       <times></times>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>e</ci>
        <ci>x</ci>
       </apply>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>e</ci>
        <ci>y</ci>
       </apply>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>e</ci>
        <ci>z</ci>
       </apply>
      </apply>
     </apply>
     <ci>normal-T</ci>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \scriptstyle\hat{\mathbf{e}}\;=\;[e_{x}\ e_{y}\ e_{z}]^{\mathrm{T}}
  </annotation>
 </semantics>
</math>

, and the angle by a scalar 

<math display="inline" id="Rotation_formalisms_in_three_dimensions:13">
 <semantics>
  <mi>θ</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>θ</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \scriptstyle\theta
  </annotation>
 </semantics>
</math>

.</p>

<p>Since the axis is normalized, it has only two <a href="Degrees_of_freedom_(mechanics)" title="wikilink">degrees of freedom</a>. The angle adds the third degree of freedom to this rotation representation.</p>

<p>One may wish to express rotation as a <strong>rotation vector</strong>, or <strong>Euler vector</strong>, an un-normalized three-dimensional vector the direction of which specifies the axis, and the length of which is <em>θ</em>,</p>

<p>

<math display="block" id="Rotation_formalisms_in_three_dimensions:14">
 <semantics>
  <mrow>
   <mrow>
    <mi>𝐫</mi>
    <mo>=</mo>
    <mrow>
     <mi>θ</mi>
     <mpadded width="+3.3pt">
      <mover accent="true">
       <mi>𝐞</mi>
       <mo stretchy="false">^</mo>
      </mover>
     </mpadded>
    </mrow>
   </mrow>
   <mo>.</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <ci>𝐫</ci>
    <apply>
     <times></times>
     <ci>θ</ci>
     <apply>
      <ci>normal-^</ci>
      <ci>𝐞</ci>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \mathbf{r}=\theta\hat{\mathbf{e}}~{}.
  </annotation>
 </semantics>
</math>

</p>

<p>The rotation vector is in some contexts useful, as it represents a three-dimensional rotation with only three <a href="scalar_(mathematics)" title="wikilink">scalar</a> values (its components), representing the three degrees of freedom. This is also true for representations based on sequences of three Euler angles (see below).</p>

<p>If the rotation angle 

<math display="inline" id="Rotation_formalisms_in_three_dimensions:15">
 <semantics>
  <mi>θ</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>θ</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \scriptstyle\theta
  </annotation>
 </semantics>
</math>

 is zero, the axis is not uniquely defined. Combining two successive rotations, each represented by an Euler axis and angle, is not straightforward, and in fact does not satisfy the law of vector addition, which shows that finite rotations are not really vectors at all. It is best to employ the rotation matrix or quaternion notation, calculate the product, and then convert back to Euler axis and angle.</p>
<h3 id="euler-rotations">Euler rotations</h3>

<p>  The idea behind Euler rotations is to split the complete rotation of the coordinate system into three simpler constitutive rotations, called <a class="uri" href="Precession" title="wikilink">Precession</a>, <a class="uri" href="Nutation" title="wikilink">Nutation</a>, and <a href="rotation" title="wikilink">intrinsic rotation</a>, being each one of them an increment on one of the <a href="Euler_angles" title="wikilink">Euler angles</a>. Notice that the outer matrix will represent a rotation around one of the axes of the reference frame, and the inner matrix represents a rotation around one of the moving frame axis. The middle matrix represent a rotation around an intermediate axis called <strong>line of nodes</strong>.</p>

<p>Unfortunately, the definition of Euler angles is not unique and in the literature many different conventions are used. These conventions depend on the axes about which the rotations are carried out, and their sequence (since rotations are not <a href="commutativity" title="wikilink">commutative</a>).</p>

<p>The convention being used is usually indicated by specifying the axes about which the consecutive rotations (before being composed) take place, referring to them by index (1, 2, 3) or letter (X, Y, Z). The engineering and robotics communities typically use 3-1-3 Euler angles. Notice that after composing the independent rotations, they do not rotate about their axis anymore. The most external matrix rotates the other two, leaving the second rotation matrix over the line of nodes, and the third one in a frame comoving with the body. There are  = 27 possible combinations of three basic rotations but only  = 12 of them can be used for representing arbitrary 3D rotations as Euler angles. These 12 combinations avoid consecutive rotations around the same axis (such as XXY) which would reduce the degrees of freedom that can be represented.</p>

<p>Therefore Euler angles are never expressed in terms of the external frame, or in terms of the co-moving rotated body frame, but in a mixture. Other conventions (e.g., <a href="rotation_matrix" title="wikilink">rotation matrix</a> or <a href="Quaternions_and_spatial_rotation" title="wikilink">quaternions</a>) are used to avoid this problem.</p>

<p>In <a class="uri" href="aviation" title="wikilink">aviation</a> orientation of the aircraft is usually expressed as <a href="Euler_angles#Intrinsic_rotations" title="wikilink">intrinsic</a> <a href="Euler_angles#Tait.E2.80.93Bryan_angles" title="wikilink">Tait-Bryan angles</a> following z-y’-x″ convention, which are called <strong><a href="Course_(navigation)#Aircraft_heading" title="wikilink">heading</a>, <a href="Elevation_(ballistics)" title="wikilink">elevation</a> and <a href="Banked_turn" title="wikilink">bank</a></strong>, or <strong><a href="Yaw_(rotation)" title="wikilink">yaw</a>, <a href="Pitching_moment" title="wikilink">pitch</a> and roll</strong>.</p>
<h3 id="quaternions">Quaternions</h3>

<p><a href="Quaternion" title="wikilink">Quaternions</a>, that form a four-dimensional <a href="vector_space" title="wikilink">vector space</a>, have proven very useful in representing rotations due to several advantages above the other representations mentioned in this article.</p>

<p>A quaternion representation of rotation is written as a <a class="uri" href="versor" title="wikilink">versor</a> (normalized quaternion)</p>

<p>

<math display="block" id="Rotation_formalisms_in_three_dimensions:16">
 <semantics>
  <mrow>
   <mover accent="true">
    <mi>𝐪</mi>
    <mo stretchy="false">^</mo>
   </mover>
   <mo>=</mo>
   <mrow>
    <mrow>
     <mi>𝐢</mi>
     <msub>
      <mi>q</mi>
      <mi>i</mi>
     </msub>
    </mrow>
    <mo>+</mo>
    <mrow>
     <mi>𝐣</mi>
     <msub>
      <mi>q</mi>
      <mi>j</mi>
     </msub>
    </mrow>
    <mo>+</mo>
    <mrow>
     <mi>𝐤</mi>
     <msub>
      <mi>q</mi>
      <mi>k</mi>
     </msub>
    </mrow>
    <mo>+</mo>
    <msub>
     <mi>q</mi>
     <mi>r</mi>
    </msub>
   </mrow>
   <mo>=</mo>
   <msup>
    <mrow>
     <mo stretchy="false">[</mo>
     <mrow>
      <mpadded width="+5pt">
       <msub>
        <mi>q</mi>
        <mi>i</mi>
       </msub>
      </mpadded>
      <mpadded width="+5pt">
       <msub>
        <mi>q</mi>
        <mi>j</mi>
       </msub>
      </mpadded>
      <mpadded width="+5pt">
       <msub>
        <mi>q</mi>
        <mi>k</mi>
       </msub>
      </mpadded>
      <msub>
       <mi>q</mi>
       <mi>r</mi>
      </msub>
     </mrow>
     <mo stretchy="false">]</mo>
    </mrow>
    <mi mathvariant="normal">T</mi>
   </msup>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <and></and>
    <apply>
     <eq></eq>
     <apply>
      <ci>normal-^</ci>
      <ci>𝐪</ci>
     </apply>
     <apply>
      <plus></plus>
      <apply>
       <times></times>
       <ci>𝐢</ci>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>q</ci>
        <ci>i</ci>
       </apply>
      </apply>
      <apply>
       <times></times>
       <ci>𝐣</ci>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>q</ci>
        <ci>j</ci>
       </apply>
      </apply>
      <apply>
       <times></times>
       <ci>𝐤</ci>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>q</ci>
        <ci>k</ci>
       </apply>
      </apply>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>q</ci>
       <ci>r</ci>
      </apply>
     </apply>
    </apply>
    <apply>
     <eq></eq>
     <share href="#.cmml">
     </share>
     <apply>
      <csymbol cd="ambiguous">superscript</csymbol>
      <apply>
       <csymbol cd="latexml">delimited-[]</csymbol>
       <apply>
        <times></times>
        <apply>
         <csymbol cd="ambiguous">subscript</csymbol>
         <ci>q</ci>
         <ci>i</ci>
        </apply>
        <apply>
         <csymbol cd="ambiguous">subscript</csymbol>
         <ci>q</ci>
         <ci>j</ci>
        </apply>
        <apply>
         <csymbol cd="ambiguous">subscript</csymbol>
         <ci>q</ci>
         <ci>k</ci>
        </apply>
        <apply>
         <csymbol cd="ambiguous">subscript</csymbol>
         <ci>q</ci>
         <ci>r</ci>
        </apply>
       </apply>
      </apply>
      <ci>normal-T</ci>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \hat{\mathbf{q}}=\mathbf{i}q_{i}+\mathbf{j}q_{j}+\mathbf{k}q_{k}+q_{r}=[q_{i}%
\ q_{j}\ q_{k}\ q_{r}]^{\mathrm{T}}
  </annotation>
 </semantics>
</math>

</p>

<p>The above definition stores quaternion as an array following the convention used in (Wertz 1980) and (Markley 2003). An alternative definition used for example in (Coutsias 1999) and (Schmidt 2001) defines the "scalar" term as the first quaternion element, with the other elements shifted down one position.</p>

<p>In terms of the Euler axis</p>

<p>

<math display="block" id="Rotation_formalisms_in_three_dimensions:17">
 <semantics>
  <mrow>
   <mover accent="true">
    <mi>𝐞</mi>
    <mo stretchy="false">^</mo>
   </mover>
   <mo>=</mo>
   <msup>
    <mrow>
     <mo stretchy="false">[</mo>
     <mrow>
      <mpadded width="+5pt">
       <msub>
        <mi>e</mi>
        <mi>x</mi>
       </msub>
      </mpadded>
      <mpadded width="+5pt">
       <msub>
        <mi>e</mi>
        <mi>y</mi>
       </msub>
      </mpadded>
      <msub>
       <mi>e</mi>
       <mi>z</mi>
      </msub>
     </mrow>
     <mo stretchy="false">]</mo>
    </mrow>
    <mi mathvariant="normal">T</mi>
   </msup>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <ci>normal-^</ci>
     <ci>𝐞</ci>
    </apply>
    <apply>
     <csymbol cd="ambiguous">superscript</csymbol>
     <apply>
      <csymbol cd="latexml">delimited-[]</csymbol>
      <apply>
       <times></times>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>e</ci>
        <ci>x</ci>
       </apply>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>e</ci>
        <ci>y</ci>
       </apply>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>e</ci>
        <ci>z</ci>
       </apply>
      </apply>
     </apply>
     <ci>normal-T</ci>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \hat{\mathbf{e}}=[e_{x}\ e_{y}\ e_{z}]^{\mathrm{T}}
  </annotation>
 </semantics>
</math>

</p>

<p>and angle</p>

<p>

<math display="block" id="Rotation_formalisms_in_three_dimensions:18">
 <semantics>
  <mi>θ</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>θ</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \theta
  </annotation>
 </semantics>
</math>

</p>

<p>this versor's components are expressed as follows:</p>

<p>

<math display="inline" id="Rotation_formalisms_in_three_dimensions:19">
 <semantics>
  <msub>
   <mi>q</mi>
   <mi>i</mi>
  </msub>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <csymbol cd="ambiguous">subscript</csymbol>
    <ci>q</ci>
    <ci>i</ci>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \displaystyle q_{i}
  </annotation>
 </semantics>
</math>


</p>

<p>Inspection shows that the quaternion parametrization obeys the following constraint:</p>

<p>

<math display="block" id="Rotation_formalisms_in_three_dimensions:20">
 <semantics>
  <mrow>
   <mrow>
    <msubsup>
     <mi>q</mi>
     <mi>i</mi>
     <mn>2</mn>
    </msubsup>
    <mo>+</mo>
    <msubsup>
     <mi>q</mi>
     <mi>j</mi>
     <mn>2</mn>
    </msubsup>
    <mo>+</mo>
    <msubsup>
     <mi>q</mi>
     <mi>k</mi>
     <mn>2</mn>
    </msubsup>
    <mo>+</mo>
    <msubsup>
     <mi>q</mi>
     <mi>r</mi>
     <mn>2</mn>
    </msubsup>
   </mrow>
   <mo>=</mo>
   <mn>1</mn>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <plus></plus>
     <apply>
      <csymbol cd="ambiguous">superscript</csymbol>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>q</ci>
       <ci>i</ci>
      </apply>
      <cn type="integer">2</cn>
     </apply>
     <apply>
      <csymbol cd="ambiguous">superscript</csymbol>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>q</ci>
       <ci>j</ci>
      </apply>
      <cn type="integer">2</cn>
     </apply>
     <apply>
      <csymbol cd="ambiguous">superscript</csymbol>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>q</ci>
       <ci>k</ci>
      </apply>
      <cn type="integer">2</cn>
     </apply>
     <apply>
      <csymbol cd="ambiguous">superscript</csymbol>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>q</ci>
       <ci>r</ci>
      </apply>
      <cn type="integer">2</cn>
     </apply>
    </apply>
    <cn type="integer">1</cn>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   q_{i}^{2}+q_{j}^{2}+q_{k}^{2}+q_{r}^{2}=1
  </annotation>
 </semantics>
</math>

</p>

<p>The last term (in our definition) is often called the scalar term, which has its origin in quaternions when understood as the mathematical extension of the complex numbers, written as</p>

<p>

<math display="block" id="Rotation_formalisms_in_three_dimensions:21">
 <semantics>
  <mrow>
   <mi>a</mi>
   <mo>+</mo>
   <mrow>
    <mi>b</mi>
    <mi>i</mi>
   </mrow>
   <mo>+</mo>
   <mrow>
    <mi>c</mi>
    <mi>j</mi>
   </mrow>
   <mo>+</mo>
   <mrow>
    <mi>d</mi>
    <mi>k</mi>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <plus></plus>
    <ci>a</ci>
    <apply>
     <times></times>
     <ci>b</ci>
     <ci>i</ci>
    </apply>
    <apply>
     <times></times>
     <ci>c</ci>
     <ci>j</ci>
    </apply>
    <apply>
     <times></times>
     <ci>d</ci>
     <ci>k</ci>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   a+bi+cj+dk
  </annotation>
 </semantics>
</math>

 with 

<math display="inline" id="Rotation_formalisms_in_three_dimensions:22">
 <semantics>
  <mrow>
   <mrow>
    <mo stretchy="false">{</mo>
    <mi>a</mi>
    <mo>,</mo>
    <mi>b</mi>
    <mo>,</mo>
    <mi>c</mi>
    <mo>,</mo>
    <mi>d</mi>
    <mo stretchy="false">}</mo>
   </mrow>
   <mo>∈</mo>
   <mi>ℝ</mi>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <in></in>
    <set>
     <ci>a</ci>
     <ci>b</ci>
     <ci>c</ci>
     <ci>d</ci>
    </set>
    <ci>ℝ</ci>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \{a,b,c,d\}\in\mathbb{R}
  </annotation>
 </semantics>
</math>

</p>

<p>and where 

<math display="inline" id="Rotation_formalisms_in_three_dimensions:23">
 <semantics>
  <mrow>
   <mo stretchy="false">{</mo>
   <mi>i</mi>
   <mo rspace="4.2pt">,</mo>
   <mi>j</mi>
   <mo rspace="4.2pt">,</mo>
   <mi>k</mi>
   <mo stretchy="false">}</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <set>
    <ci>i</ci>
    <ci>j</ci>
    <ci>k</ci>
   </set>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \scriptstyle\{i,\,j,\,k\}
  </annotation>
 </semantics>
</math>

 are the <a href="hypercomplex_number" title="wikilink">hypercomplex numbers</a> satisfying</p>

<p>

<math display="block" id="Rotation_formalisms_in_three_dimensions:24">
 <semantics>
  <mtable displaystyle="true">
   <mtr>
    <mtd columnalign="left">
     <msup>
      <mi>i</mi>
      <mn>2</mn>
     </msup>
    </mtd>
    <mtd columnalign="center">
     <mo>=</mo>
    </mtd>
    <mtd columnalign="left">
     <msup>
      <mi>j</mi>
      <mn>2</mn>
     </msup>
    </mtd>
    <mtd columnalign="right">
     <mo>=</mo>
    </mtd>
    <mtd columnalign="left">
     <msup>
      <mi>k</mi>
      <mn>2</mn>
     </msup>
    </mtd>
    <mtd columnalign="center">
     <mo>=</mo>
    </mtd>
    <mtd columnalign="left">
     <mrow>
      <mo>-</mo>
      <mn>1</mn>
     </mrow>
    </mtd>
   </mtr>
   <mtr>
    <mtd columnalign="left">
     <mrow>
      <mi>i</mi>
      <mi>j</mi>
     </mrow>
    </mtd>
    <mtd columnalign="center">
     <mo>=</mo>
    </mtd>
    <mtd columnalign="left">
     <mrow>
      <mo>-</mo>
      <mrow>
       <mi>j</mi>
       <mi>i</mi>
      </mrow>
     </mrow>
    </mtd>
    <mtd columnalign="right">
     <mo>=</mo>
    </mtd>
    <mtd columnalign="left">
     <mi>k</mi>
    </mtd>
    <mtd></mtd>
    <mtd></mtd>
   </mtr>
   <mtr>
    <mtd columnalign="left">
     <mrow>
      <mi>j</mi>
      <mi>k</mi>
     </mrow>
    </mtd>
    <mtd columnalign="center">
     <mo>=</mo>
    </mtd>
    <mtd columnalign="left">
     <mrow>
      <mo>-</mo>
      <mrow>
       <mi>k</mi>
       <mi>j</mi>
      </mrow>
     </mrow>
    </mtd>
    <mtd columnalign="right">
     <mo>=</mo>
    </mtd>
    <mtd columnalign="left">
     <mi>i</mi>
    </mtd>
    <mtd></mtd>
    <mtd></mtd>
   </mtr>
   <mtr>
    <mtd columnalign="left">
     <mrow>
      <mi>k</mi>
      <mi>i</mi>
     </mrow>
    </mtd>
    <mtd columnalign="center">
     <mo>=</mo>
    </mtd>
    <mtd columnalign="left">
     <mrow>
      <mo>-</mo>
      <mrow>
       <mi>i</mi>
       <mi>k</mi>
      </mrow>
     </mrow>
    </mtd>
    <mtd columnalign="right">
     <mo>=</mo>
    </mtd>
    <mtd columnalign="left">
     <mi>j</mi>
    </mtd>
    <mtd></mtd>
    <mtd></mtd>
   </mtr>
  </mtable>
  <annotation-xml encoding="MathML-Content">
   <matrix>
    <matrixrow>
     <apply>
      <csymbol cd="ambiguous">superscript</csymbol>
      <ci>i</ci>
      <cn type="integer">2</cn>
     </apply>
     <eq></eq>
     <apply>
      <csymbol cd="ambiguous">superscript</csymbol>
      <ci>j</ci>
      <cn type="integer">2</cn>
     </apply>
     <eq></eq>
     <apply>
      <csymbol cd="ambiguous">superscript</csymbol>
      <ci>k</ci>
      <cn type="integer">2</cn>
     </apply>
     <eq></eq>
     <apply>
      <minus></minus>
      <cn type="integer">1</cn>
     </apply>
    </matrixrow>
    <matrixrow>
     <apply>
      <times></times>
      <ci>i</ci>
      <ci>j</ci>
     </apply>
     <eq></eq>
     <apply>
      <minus></minus>
      <apply>
       <times></times>
       <ci>j</ci>
       <ci>i</ci>
      </apply>
     </apply>
     <eq></eq>
     <ci>k</ci>
     <cerror>
      <csymbol cd="ambiguous">missing-subexpression</csymbol>
     </cerror>
     <cerror>
      <csymbol cd="ambiguous">missing-subexpression</csymbol>
     </cerror>
    </matrixrow>
    <matrixrow>
     <apply>
      <times></times>
      <ci>j</ci>
      <ci>k</ci>
     </apply>
     <eq></eq>
     <apply>
      <minus></minus>
      <apply>
       <times></times>
       <ci>k</ci>
       <ci>j</ci>
      </apply>
     </apply>
     <eq></eq>
     <ci>i</ci>
     <cerror>
      <csymbol cd="ambiguous">missing-subexpression</csymbol>
     </cerror>
     <cerror>
      <csymbol cd="ambiguous">missing-subexpression</csymbol>
     </cerror>
    </matrixrow>
    <matrixrow>
     <apply>
      <times></times>
      <ci>k</ci>
      <ci>i</ci>
     </apply>
     <eq></eq>
     <apply>
      <minus></minus>
      <apply>
       <times></times>
       <ci>i</ci>
       <ci>k</ci>
      </apply>
     </apply>
     <eq></eq>
     <ci>j</ci>
     <cerror>
      <csymbol cd="ambiguous">missing-subexpression</csymbol>
     </cerror>
     <cerror>
      <csymbol cd="ambiguous">missing-subexpression</csymbol>
     </cerror>
    </matrixrow>
   </matrix>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \begin{array}[]{lclrlcl}i^{2}&=&j^{2}&=&k^{2}&=&-1\\
ij&=&-ji&=&k&&\\
jk&=&-kj&=&i&&\\
ki&=&-ik&=&j&&\end{array}
  </annotation>
 </semantics>
</math>

</p>

<p>Quaternion multiplication, that is used to specify a <a href="function_composition" title="wikilink">composite</a> rotation, is performed in the same manner as multiplication of <a href="complex_numbers" title="wikilink">complex numbers</a>, except that the order of elements must be taken into account, since multiplication is not commutative. In matrix notation we can write quaternion multiplication as</p>

<p>

<math display="block" id="Rotation_formalisms_in_three_dimensions:25">
 <semantics>
  <mrow>
   <mrow>
    <mover accent="true">
     <mi>𝐪</mi>
     <mo stretchy="false">~</mo>
    </mover>
    <mo>⊗</mo>
    <mi>𝐪</mi>
   </mrow>
   <mo>=</mo>
   <mrow>
    <mrow>
     <mo>[</mo>
     <mtable displaystyle="true">
      <mtr>
       <mtd columnalign="right">
        <msub>
         <mi>q</mi>
         <mi>r</mi>
        </msub>
       </mtd>
       <mtd columnalign="right">
        <msub>
         <mi>q</mi>
         <mi>k</mi>
        </msub>
       </mtd>
       <mtd columnalign="right">
        <mrow>
         <mo>-</mo>
         <msub>
          <mi>q</mi>
          <mi>j</mi>
         </msub>
        </mrow>
       </mtd>
       <mtd columnalign="right">
        <msub>
         <mi>q</mi>
         <mi>i</mi>
        </msub>
       </mtd>
      </mtr>
      <mtr>
       <mtd columnalign="right">
        <mrow>
         <mo>-</mo>
         <msub>
          <mi>q</mi>
          <mi>k</mi>
         </msub>
        </mrow>
       </mtd>
       <mtd columnalign="right">
        <msub>
         <mi>q</mi>
         <mi>r</mi>
        </msub>
       </mtd>
       <mtd columnalign="right">
        <msub>
         <mi>q</mi>
         <mi>i</mi>
        </msub>
       </mtd>
       <mtd columnalign="right">
        <msub>
         <mi>q</mi>
         <mi>j</mi>
        </msub>
       </mtd>
      </mtr>
      <mtr>
       <mtd columnalign="right">
        <msub>
         <mi>q</mi>
         <mi>j</mi>
        </msub>
       </mtd>
       <mtd columnalign="right">
        <mrow>
         <mo>-</mo>
         <msub>
          <mi>q</mi>
          <mi>i</mi>
         </msub>
        </mrow>
       </mtd>
       <mtd columnalign="right">
        <msub>
         <mi>q</mi>
         <mi>r</mi>
        </msub>
       </mtd>
       <mtd columnalign="right">
        <msub>
         <mi>q</mi>
         <mi>k</mi>
        </msub>
       </mtd>
      </mtr>
      <mtr>
       <mtd columnalign="right">
        <mrow>
         <mo>-</mo>
         <msub>
          <mi>q</mi>
          <mi>i</mi>
         </msub>
        </mrow>
       </mtd>
       <mtd columnalign="right">
        <mrow>
         <mo>-</mo>
         <msub>
          <mi>q</mi>
          <mi>j</mi>
         </msub>
        </mrow>
       </mtd>
       <mtd columnalign="right">
        <mrow>
         <mo>-</mo>
         <msub>
          <mi>q</mi>
          <mi>k</mi>
         </msub>
        </mrow>
       </mtd>
       <mtd columnalign="right">
        <msub>
         <mi>q</mi>
         <mi>r</mi>
        </msub>
       </mtd>
      </mtr>
     </mtable>
     <mo>]</mo>
    </mrow>
    <mrow>
     <mo>[</mo>
     <mtable displaystyle="true">
      <mtr>
       <mtd columnalign="center">
        <msub>
         <mover accent="true">
          <mi>q</mi>
          <mo stretchy="false">~</mo>
         </mover>
         <mi>i</mi>
        </msub>
       </mtd>
      </mtr>
      <mtr>
       <mtd columnalign="center">
        <msub>
         <mover accent="true">
          <mi>q</mi>
          <mo stretchy="false">~</mo>
         </mover>
         <mi>j</mi>
        </msub>
       </mtd>
      </mtr>
      <mtr>
       <mtd columnalign="center">
        <msub>
         <mover accent="true">
          <mi>q</mi>
          <mo stretchy="false">~</mo>
         </mover>
         <mi>k</mi>
        </msub>
       </mtd>
      </mtr>
      <mtr>
       <mtd columnalign="center">
        <msub>
         <mover accent="true">
          <mi>q</mi>
          <mo stretchy="false">~</mo>
         </mover>
         <mi>r</mi>
        </msub>
       </mtd>
      </mtr>
     </mtable>
     <mo>]</mo>
    </mrow>
   </mrow>
   <mo>=</mo>
   <mrow>
    <mrow>
     <mo>[</mo>
     <mtable displaystyle="true">
      <mtr>
       <mtd columnalign="right">
        <msub>
         <mover accent="true">
          <mi>q</mi>
          <mo stretchy="false">~</mo>
         </mover>
         <mi>r</mi>
        </msub>
       </mtd>
       <mtd columnalign="right">
        <mrow>
         <mo>-</mo>
         <msub>
          <mover accent="true">
           <mi>q</mi>
           <mo stretchy="false">~</mo>
          </mover>
          <mi>k</mi>
         </msub>
        </mrow>
       </mtd>
       <mtd columnalign="right">
        <msub>
         <mover accent="true">
          <mi>q</mi>
          <mo stretchy="false">~</mo>
         </mover>
         <mi>j</mi>
        </msub>
       </mtd>
       <mtd columnalign="right">
        <msub>
         <mover accent="true">
          <mi>q</mi>
          <mo stretchy="false">~</mo>
         </mover>
         <mi>i</mi>
        </msub>
       </mtd>
      </mtr>
      <mtr>
       <mtd columnalign="right">
        <msub>
         <mover accent="true">
          <mi>q</mi>
          <mo stretchy="false">~</mo>
         </mover>
         <mi>k</mi>
        </msub>
       </mtd>
       <mtd columnalign="right">
        <msub>
         <mover accent="true">
          <mi>q</mi>
          <mo stretchy="false">~</mo>
         </mover>
         <mi>r</mi>
        </msub>
       </mtd>
       <mtd columnalign="right">
        <mrow>
         <mo>-</mo>
         <msub>
          <mover accent="true">
           <mi>q</mi>
           <mo stretchy="false">~</mo>
          </mover>
          <mi>i</mi>
         </msub>
        </mrow>
       </mtd>
       <mtd columnalign="right">
        <msub>
         <mover accent="true">
          <mi>q</mi>
          <mo stretchy="false">~</mo>
         </mover>
         <mi>j</mi>
        </msub>
       </mtd>
      </mtr>
      <mtr>
       <mtd columnalign="right">
        <mrow>
         <mo>-</mo>
         <msub>
          <mover accent="true">
           <mi>q</mi>
           <mo stretchy="false">~</mo>
          </mover>
          <mi>j</mi>
         </msub>
        </mrow>
       </mtd>
       <mtd columnalign="right">
        <msub>
         <mover accent="true">
          <mi>q</mi>
          <mo stretchy="false">~</mo>
         </mover>
         <mi>i</mi>
        </msub>
       </mtd>
       <mtd columnalign="right">
        <msub>
         <mover accent="true">
          <mi>q</mi>
          <mo stretchy="false">~</mo>
         </mover>
         <mi>r</mi>
        </msub>
       </mtd>
       <mtd columnalign="right">
        <msub>
         <mover accent="true">
          <mi>q</mi>
          <mo stretchy="false">~</mo>
         </mover>
         <mi>k</mi>
        </msub>
       </mtd>
      </mtr>
      <mtr>
       <mtd columnalign="right">
        <mrow>
         <mo>-</mo>
         <msub>
          <mover accent="true">
           <mi>q</mi>
           <mo stretchy="false">~</mo>
          </mover>
          <mi>i</mi>
         </msub>
        </mrow>
       </mtd>
       <mtd columnalign="right">
        <mrow>
         <mo>-</mo>
         <msub>
          <mover accent="true">
           <mi>q</mi>
           <mo stretchy="false">~</mo>
          </mover>
          <mi>j</mi>
         </msub>
        </mrow>
       </mtd>
       <mtd columnalign="right">
        <mrow>
         <mo>-</mo>
         <msub>
          <mover accent="true">
           <mi>q</mi>
           <mo stretchy="false">~</mo>
          </mover>
          <mi>k</mi>
         </msub>
        </mrow>
       </mtd>
       <mtd columnalign="right">
        <msub>
         <mover accent="true">
          <mi>q</mi>
          <mo stretchy="false">~</mo>
         </mover>
         <mi>r</mi>
        </msub>
       </mtd>
      </mtr>
     </mtable>
     <mo>]</mo>
    </mrow>
    <mrow>
     <mo>[</mo>
     <mtable displaystyle="true">
      <mtr>
       <mtd columnalign="center">
        <msub>
         <mi>q</mi>
         <mi>i</mi>
        </msub>
       </mtd>
      </mtr>
      <mtr>
       <mtd columnalign="center">
        <msub>
         <mi>q</mi>
         <mi>j</mi>
        </msub>
       </mtd>
      </mtr>
      <mtr>
       <mtd columnalign="center">
        <msub>
         <mi>q</mi>
         <mi>k</mi>
        </msub>
       </mtd>
      </mtr>
      <mtr>
       <mtd columnalign="center">
        <msub>
         <mi>q</mi>
         <mi>r</mi>
        </msub>
       </mtd>
      </mtr>
     </mtable>
     <mo>]</mo>
    </mrow>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <and></and>
    <apply>
     <eq></eq>
     <apply>
      <csymbol cd="latexml">tensor-product</csymbol>
      <apply>
       <ci>normal-~</ci>
       <ci>𝐪</ci>
      </apply>
      <ci>𝐪</ci>
     </apply>
     <apply>
      <times></times>
      <apply>
       <csymbol cd="latexml">delimited-[]</csymbol>
       <matrix>
        <matrixrow>
         <apply>
          <csymbol cd="ambiguous">subscript</csymbol>
          <ci>q</ci>
          <ci>r</ci>
         </apply>
         <apply>
          <csymbol cd="ambiguous">subscript</csymbol>
          <ci>q</ci>
          <ci>k</ci>
         </apply>
         <apply>
          <minus></minus>
          <apply>
           <csymbol cd="ambiguous">subscript</csymbol>
           <ci>q</ci>
           <ci>j</ci>
          </apply>
         </apply>
         <apply>
          <csymbol cd="ambiguous">subscript</csymbol>
          <ci>q</ci>
          <ci>i</ci>
         </apply>
        </matrixrow>
        <matrixrow>
         <apply>
          <minus></minus>
          <apply>
           <csymbol cd="ambiguous">subscript</csymbol>
           <ci>q</ci>
           <ci>k</ci>
          </apply>
         </apply>
         <apply>
          <csymbol cd="ambiguous">subscript</csymbol>
          <ci>q</ci>
          <ci>r</ci>
         </apply>
         <apply>
          <csymbol cd="ambiguous">subscript</csymbol>
          <ci>q</ci>
          <ci>i</ci>
         </apply>
         <apply>
          <csymbol cd="ambiguous">subscript</csymbol>
          <ci>q</ci>
          <ci>j</ci>
         </apply>
        </matrixrow>
        <matrixrow>
         <apply>
          <csymbol cd="ambiguous">subscript</csymbol>
          <ci>q</ci>
          <ci>j</ci>
         </apply>
         <apply>
          <minus></minus>
          <apply>
           <csymbol cd="ambiguous">subscript</csymbol>
           <ci>q</ci>
           <ci>i</ci>
          </apply>
         </apply>
         <apply>
          <csymbol cd="ambiguous">subscript</csymbol>
          <ci>q</ci>
          <ci>r</ci>
         </apply>
         <apply>
          <csymbol cd="ambiguous">subscript</csymbol>
          <ci>q</ci>
          <ci>k</ci>
         </apply>
        </matrixrow>
        <matrixrow>
         <apply>
          <minus></minus>
          <apply>
           <csymbol cd="ambiguous">subscript</csymbol>
           <ci>q</ci>
           <ci>i</ci>
          </apply>
         </apply>
         <apply>
          <minus></minus>
          <apply>
           <csymbol cd="ambiguous">subscript</csymbol>
           <ci>q</ci>
           <ci>j</ci>
          </apply>
         </apply>
         <apply>
          <minus></minus>
          <apply>
           <csymbol cd="ambiguous">subscript</csymbol>
           <ci>q</ci>
           <ci>k</ci>
          </apply>
         </apply>
         <apply>
          <csymbol cd="ambiguous">subscript</csymbol>
          <ci>q</ci>
          <ci>r</ci>
         </apply>
        </matrixrow>
       </matrix>
      </apply>
      <apply>
       <csymbol cd="latexml">delimited-[]</csymbol>
       <matrix>
        <matrixrow>
         <apply>
          <csymbol cd="ambiguous">subscript</csymbol>
          <apply>
           <ci>normal-~</ci>
           <ci>q</ci>
          </apply>
          <ci>i</ci>
         </apply>
        </matrixrow>
        <matrixrow>
         <apply>
          <csymbol cd="ambiguous">subscript</csymbol>
          <apply>
           <ci>normal-~</ci>
           <ci>q</ci>
          </apply>
          <ci>j</ci>
         </apply>
        </matrixrow>
        <matrixrow>
         <apply>
          <csymbol cd="ambiguous">subscript</csymbol>
          <apply>
           <ci>normal-~</ci>
           <ci>q</ci>
          </apply>
          <ci>k</ci>
         </apply>
        </matrixrow>
        <matrixrow>
         <apply>
          <csymbol cd="ambiguous">subscript</csymbol>
          <apply>
           <ci>normal-~</ci>
           <ci>q</ci>
          </apply>
          <ci>r</ci>
         </apply>
        </matrixrow>
       </matrix>
      </apply>
     </apply>
    </apply>
    <apply>
     <eq></eq>
     <share href="#.cmml">
     </share>
     <apply>
      <times></times>
      <apply>
       <csymbol cd="latexml">delimited-[]</csymbol>
       <matrix>
        <matrixrow>
         <apply>
          <csymbol cd="ambiguous">subscript</csymbol>
          <apply>
           <ci>normal-~</ci>
           <ci>q</ci>
          </apply>
          <ci>r</ci>
         </apply>
         <apply>
          <minus></minus>
          <apply>
           <csymbol cd="ambiguous">subscript</csymbol>
           <apply>
            <ci>normal-~</ci>
            <ci>q</ci>
           </apply>
           <ci>k</ci>
          </apply>
         </apply>
         <apply>
          <csymbol cd="ambiguous">subscript</csymbol>
          <apply>
           <ci>normal-~</ci>
           <ci>q</ci>
          </apply>
          <ci>j</ci>
         </apply>
         <apply>
          <csymbol cd="ambiguous">subscript</csymbol>
          <apply>
           <ci>normal-~</ci>
           <ci>q</ci>
          </apply>
          <ci>i</ci>
         </apply>
        </matrixrow>
        <matrixrow>
         <apply>
          <csymbol cd="ambiguous">subscript</csymbol>
          <apply>
           <ci>normal-~</ci>
           <ci>q</ci>
          </apply>
          <ci>k</ci>
         </apply>
         <apply>
          <csymbol cd="ambiguous">subscript</csymbol>
          <apply>
           <ci>normal-~</ci>
           <ci>q</ci>
          </apply>
          <ci>r</ci>
         </apply>
         <apply>
          <minus></minus>
          <apply>
           <csymbol cd="ambiguous">subscript</csymbol>
           <apply>
            <ci>normal-~</ci>
            <ci>q</ci>
           </apply>
           <ci>i</ci>
          </apply>
         </apply>
         <apply>
          <csymbol cd="ambiguous">subscript</csymbol>
          <apply>
           <ci>normal-~</ci>
           <ci>q</ci>
          </apply>
          <ci>j</ci>
         </apply>
        </matrixrow>
        <matrixrow>
         <apply>
          <minus></minus>
          <apply>
           <csymbol cd="ambiguous">subscript</csymbol>
           <apply>
            <ci>normal-~</ci>
            <ci>q</ci>
           </apply>
           <ci>j</ci>
          </apply>
         </apply>
         <apply>
          <csymbol cd="ambiguous">subscript</csymbol>
          <apply>
           <ci>normal-~</ci>
           <ci>q</ci>
          </apply>
          <ci>i</ci>
         </apply>
         <apply>
          <csymbol cd="ambiguous">subscript</csymbol>
          <apply>
           <ci>normal-~</ci>
           <ci>q</ci>
          </apply>
          <ci>r</ci>
         </apply>
         <apply>
          <csymbol cd="ambiguous">subscript</csymbol>
          <apply>
           <ci>normal-~</ci>
           <ci>q</ci>
          </apply>
          <ci>k</ci>
         </apply>
        </matrixrow>
        <matrixrow>
         <apply>
          <minus></minus>
          <apply>
           <csymbol cd="ambiguous">subscript</csymbol>
           <apply>
            <ci>normal-~</ci>
            <ci>q</ci>
           </apply>
           <ci>i</ci>
          </apply>
         </apply>
         <apply>
          <minus></minus>
          <apply>
           <csymbol cd="ambiguous">subscript</csymbol>
           <apply>
            <ci>normal-~</ci>
            <ci>q</ci>
           </apply>
           <ci>j</ci>
          </apply>
         </apply>
         <apply>
          <minus></minus>
          <apply>
           <csymbol cd="ambiguous">subscript</csymbol>
           <apply>
            <ci>normal-~</ci>
            <ci>q</ci>
           </apply>
           <ci>k</ci>
          </apply>
         </apply>
         <apply>
          <csymbol cd="ambiguous">subscript</csymbol>
          <apply>
           <ci>normal-~</ci>
           <ci>q</ci>
          </apply>
          <ci>r</ci>
         </apply>
        </matrixrow>
       </matrix>
      </apply>
      <apply>
       <csymbol cd="latexml">delimited-[]</csymbol>
       <matrix>
        <matrixrow>
         <apply>
          <csymbol cd="ambiguous">subscript</csymbol>
          <ci>q</ci>
          <ci>i</ci>
         </apply>
        </matrixrow>
        <matrixrow>
         <apply>
          <csymbol cd="ambiguous">subscript</csymbol>
          <ci>q</ci>
          <ci>j</ci>
         </apply>
        </matrixrow>
        <matrixrow>
         <apply>
          <csymbol cd="ambiguous">subscript</csymbol>
          <ci>q</ci>
          <ci>k</ci>
         </apply>
        </matrixrow>
        <matrixrow>
         <apply>
          <csymbol cd="ambiguous">subscript</csymbol>
          <ci>q</ci>
          <ci>r</ci>
         </apply>
        </matrixrow>
       </matrix>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \tilde{\mathbf{q}}\otimes\mathbf{q}=\left[{\begin{array}[]{rrrr}q_{r}&q_{k}&-q%
_{j}&q_{i}\\
-q_{k}&q_{r}&q_{i}&q_{j}\\
q_{j}&-q_{i}&q_{r}&q_{k}\\
-q_{i}&-q_{j}&-q_{k}&q_{r}\end{array}}\right]\left[{\begin{array}[]{c}\tilde{q%
}_{i}\\
\tilde{q}_{j}\\
\tilde{q}_{k}\\
\tilde{q}_{r}\end{array}}\right]=\left[{\begin{array}[]{rrrr}\tilde{q}_{r}&-%
\tilde{q}_{k}&\tilde{q}_{j}&\tilde{q}_{i}\\
\tilde{q}_{k}&\tilde{q}_{r}&-\tilde{q}_{i}&\tilde{q}_{j}\\
-\tilde{q}_{j}&\tilde{q}_{i}&\tilde{q}_{r}&\tilde{q}_{k}\\
-\tilde{q}_{i}&-\tilde{q}_{j}&-\tilde{q}_{k}&\tilde{q}_{r}\end{array}}\right]%
\left[{\begin{array}[]{c}q_{i}\\
q_{j}\\
q_{k}\\
q_{r}\end{array}}\right]
  </annotation>
 </semantics>
</math>

</p>

<p>Combining two consecutive quaternion rotations is therefore just as simple as using the rotation matrix. Remember that two successive rotation matrices, 

<math display="inline" id="Rotation_formalisms_in_three_dimensions:26">
 <semantics>
  <msub>
   <mi>𝐀</mi>
   <mn>1</mn>
  </msub>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <csymbol cd="ambiguous">subscript</csymbol>
    <ci>𝐀</ci>
    <cn type="integer">1</cn>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \scriptstyle\mathbf{A}_{1}
  </annotation>
 </semantics>
</math>

 followed by 

<math display="inline" id="Rotation_formalisms_in_three_dimensions:27">
 <semantics>
  <msub>
   <mi>𝐀</mi>
   <mn>2</mn>
  </msub>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <csymbol cd="ambiguous">subscript</csymbol>
    <ci>𝐀</ci>
    <cn type="integer">2</cn>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \scriptstyle\mathbf{A}_{2}
  </annotation>
 </semantics>
</math>

, are combined as follows:</p>

<p>

<math display="block" id="Rotation_formalisms_in_three_dimensions:28">
 <semantics>
  <mrow>
   <msub>
    <mi>𝐀</mi>
    <mn>3</mn>
   </msub>
   <mo>=</mo>
   <mrow>
    <msub>
     <mi>𝐀</mi>
     <mn>2</mn>
    </msub>
    <msub>
     <mi>𝐀</mi>
     <mn>1</mn>
    </msub>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <csymbol cd="ambiguous">subscript</csymbol>
     <ci>𝐀</ci>
     <cn type="integer">3</cn>
    </apply>
    <apply>
     <times></times>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <ci>𝐀</ci>
      <cn type="integer">2</cn>
     </apply>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <ci>𝐀</ci>
      <cn type="integer">1</cn>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \mathbf{A}_{3}=\mathbf{A}_{2}\mathbf{A}_{1}
  </annotation>
 </semantics>
</math>

</p>

<p>We can represent this with quaternion parameters in a similarly concise way:</p>

<p>

<math display="block" id="Rotation_formalisms_in_three_dimensions:29">
 <semantics>
  <mrow>
   <msub>
    <mi>𝐪</mi>
    <mn>3</mn>
   </msub>
   <mo>=</mo>
   <mrow>
    <msub>
     <mi>𝐪</mi>
     <mn>2</mn>
    </msub>
    <mo>⊗</mo>
    <msub>
     <mi>𝐪</mi>
     <mn>1</mn>
    </msub>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <csymbol cd="ambiguous">subscript</csymbol>
     <ci>𝐪</ci>
     <cn type="integer">3</cn>
    </apply>
    <apply>
     <csymbol cd="latexml">tensor-product</csymbol>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <ci>𝐪</ci>
      <cn type="integer">2</cn>
     </apply>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <ci>𝐪</ci>
      <cn type="integer">1</cn>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \mathbf{q}_{3}=\mathbf{q}_{2}\otimes\mathbf{q}_{1}
  </annotation>
 </semantics>
</math>

</p>

<p>Quaternions are a very popular parametrization due to the following properties:</p>
<ul>
<li>More compact than the matrix representation and less susceptible to <a href="round-off_error" title="wikilink">round-off errors</a></li>
<li>The quaternion elements vary continuously over the unit sphere in 

<math display="inline" id="Rotation_formalisms_in_three_dimensions:30">
 <semantics>
  <msup>
   <mi>ℝ</mi>
   <mn>4</mn>
  </msup>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <csymbol cd="ambiguous">superscript</csymbol>
    <ci>ℝ</ci>
    <cn type="integer">4</cn>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \scriptstyle\mathbb{R}^{4}
  </annotation>
 </semantics>
</math>

, (denoted by 

<math display="inline" id="Rotation_formalisms_in_three_dimensions:31">
 <semantics>
  <msup>
   <mi>S</mi>
   <mn>3</mn>
  </msup>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <csymbol cd="ambiguous">superscript</csymbol>
    <ci>S</ci>
    <cn type="integer">3</cn>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \scriptstyle S^{3}
  </annotation>
 </semantics>
</math>

) as the orientation changes, avoiding <a href="classification_of_discontinuities" title="wikilink">discontinuous</a> jumps (inherent to three-dimensional parameterizations)</li>
<li>Expression of the rotation matrix in terms of quaternion parameters involves no <a href="trigonometric_function" title="wikilink">trigonometric functions</a></li>
<li>It is simple to combine two individual rotations represented as quaternions using a quaternion product</li>
</ul>

<p>Like rotation matrices, quaternions must sometimes be re-normalized due to rounding errors, to make sure that they correspond to valid rotations. The computational cost of re-normalizing a quaternion, however, is much less than for normalizing a  matrix.</p>
<h3 id="rodrigues-parameters-and-gibbs-representation">Rodrigues parameters and Gibbs representation</h3>

<p>Rodrigues parameters can be expressed in terms of Euler axis and angle as follows,<a class="footnoteRef" href="#fn2" id="fnref2"><sup>2</sup></a></p>

<p>

<math display="block" id="Rotation_formalisms_in_three_dimensions:32">
 <semantics>
  <mrow>
   <mi>𝐫</mi>
   <mo>=</mo>
   <mrow>
    <mover accent="true">
     <mi>𝐞</mi>
     <mo stretchy="false">^</mo>
    </mover>
    <mi>θ</mi>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <ci>𝐫</ci>
    <apply>
     <times></times>
     <apply>
      <ci>normal-^</ci>
      <ci>𝐞</ci>
     </apply>
     <ci>θ</ci>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \mathbf{r}=\hat{\mathbf{e}}\theta
  </annotation>
 </semantics>
</math>

</p>

<p>This has a discontinuity at 180° (π radians): each vector, <strong>r</strong>, with a norm of 

<math display="inline" id="Rotation_formalisms_in_three_dimensions:33">
 <semantics>
  <mi>π</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>π</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   π
  </annotation>
 </semantics>
</math>

 radians represent the same rotation as −<strong>r</strong>.</p>

<p>Similarly, the Gibbs representation can be expressed as follows,</p>

<p>

<math display="block" id="Rotation_formalisms_in_three_dimensions:34">
 <semantics>
  <mrow>
   <mi>𝐠</mi>
   <mo>=</mo>
   <mrow>
    <mover accent="true">
     <mi>𝐞</mi>
     <mo stretchy="false">^</mo>
    </mover>
    <mrow>
     <mi>tan</mi>
     <mrow>
      <mo>(</mo>
      <mfrac>
       <mi>θ</mi>
       <mn>2</mn>
      </mfrac>
      <mo>)</mo>
     </mrow>
    </mrow>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <ci>𝐠</ci>
    <apply>
     <times></times>
     <apply>
      <ci>normal-^</ci>
      <ci>𝐞</ci>
     </apply>
     <apply>
      <tan></tan>
      <apply>
       <divide></divide>
       <ci>θ</ci>
       <cn type="integer">2</cn>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \mathbf{g}=\hat{\mathbf{e}}\tan\left(\frac{\theta}{2}\right)
  </annotation>
 </semantics>
</math>

 A rotation <strong>g</strong> followed by a rotation <strong>f</strong> in the Gibbs representation has the form</p>

<p>

<math display="block" id="Rotation_formalisms_in_three_dimensions:35">
 <semantics>
  <mrow>
   <mrow>
    <mrow>
     <mo stretchy="false">(</mo>
     <mi>𝐠</mi>
     <mo>,</mo>
     <mi>𝐟</mi>
     <mo stretchy="false">)</mo>
    </mrow>
    <mo>=</mo>
    <mpadded width="+3.3pt">
     <mfrac>
      <mrow>
       <mrow>
        <mi>𝐠</mi>
        <mo>+</mo>
        <mi>𝐟</mi>
       </mrow>
       <mo>-</mo>
       <mrow>
        <mi>𝐟</mi>
        <mo>×</mo>
        <mi>𝐠</mi>
       </mrow>
      </mrow>
      <mrow>
       <mn>1</mn>
       <mo>-</mo>
       <mrow>
        <mi>𝐠</mi>
        <mo>⋅</mo>
        <mi>𝐟</mi>
       </mrow>
      </mrow>
     </mfrac>
    </mpadded>
   </mrow>
   <mo>.</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <interval closure="open">
     <ci>𝐠</ci>
     <ci>𝐟</ci>
    </interval>
    <apply>
     <divide></divide>
     <apply>
      <minus></minus>
      <apply>
       <plus></plus>
       <ci>𝐠</ci>
       <ci>𝐟</ci>
      </apply>
      <apply>
       <times></times>
       <ci>𝐟</ci>
       <ci>𝐠</ci>
      </apply>
     </apply>
     <apply>
      <minus></minus>
      <cn type="integer">1</cn>
      <apply>
       <ci>normal-⋅</ci>
       <ci>𝐠</ci>
       <ci>𝐟</ci>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   (\mathbf{g},\mathbf{f})=\frac{\mathbf{g}+\mathbf{f}-\mathbf{f}\times\mathbf{g}%
}{1-\mathbf{g}\cdot\mathbf{f}}~{}.
  </annotation>
 </semantics>
</math>

</p>

<p>The <strong>Gibbs vector</strong> has the advantage (or disadvantage, depending on context) that 180° rotations cannot be represented in it. (Even using <a href="floating_point" title="wikilink">floating point</a> numbers that include infinity, rotation direction cannot be well-defined; for example, naively a 180° rotation about the axis (1, 1, 0) would be 

<math display="inline" id="Rotation_formalisms_in_three_dimensions:36">
 <semantics>
  <mrow>
   <mo stretchy="false">(</mo>
   <mi mathvariant="normal">∞</mi>
   <mo rspace="4.2pt">,</mo>
   <mi mathvariant="normal">∞</mi>
   <mo>,</mo>
   <mn>0</mn>
   <mo stretchy="false">)</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <vector>
    <infinity></infinity>
    <infinity></infinity>
    <cn type="float">0</cn>
   </vector>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \scriptstyle(\infty,\,\infty,\,0)
  </annotation>
 </semantics>
</math>

, which is the same representation as 180° rotation about (1, 0.0001, 0).)</p>

<p>Modified Rodrigues parameters (MRPs) can be expressed in terms of Euler axis and angle by</p>

<p>

<math display="block" id="Rotation_formalisms_in_three_dimensions:37">
 <semantics>
  <mrow>
   <mrow>
    <mi>𝐩</mi>
    <mo>=</mo>
    <mrow>
     <mover accent="true">
      <mi>𝐞</mi>
      <mo stretchy="false">^</mo>
     </mover>
     <mrow>
      <mi>tan</mi>
      <mrow>
       <mo>(</mo>
       <mfrac>
        <mi>θ</mi>
        <mn>4</mn>
       </mfrac>
       <mo rspace="5.8pt">)</mo>
      </mrow>
     </mrow>
    </mrow>
   </mrow>
   <mo>.</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <ci>𝐩</ci>
    <apply>
     <times></times>
     <apply>
      <ci>normal-^</ci>
      <ci>𝐞</ci>
     </apply>
     <apply>
      <tan></tan>
      <apply>
       <divide></divide>
       <ci>θ</ci>
       <cn type="integer">4</cn>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \mathbf{p}=\hat{\mathbf{e}}\tan\left(\frac{\theta}{4}\right)~{}.
  </annotation>
 </semantics>
</math>

</p>

<p>The modified Rodrigues parameterization shares many characteristics with the rotation vector parametrization, including the occurrence of discontinuous jumps in the parameter space when incrementing the rotation.</p>
<h3 id="cayleyklein-parameters">Cayley–Klein parameters</h3>

<p>See definition at <a href="http://mathworld.wolfram.com/Cayley-KleinParameters.html">Wolfram Mathworld</a>.</p>
<h3 id="higher-dimensional-analogues">Higher-dimensional analogues</h3>
<h2 id="conversion-formulae-between-formalisms">Conversion formulae between formalisms</h2>
<h3 id="rotation-matrix-euler-angles">Rotation matrix ↔ Euler angles</h3>

<p>The Euler angles 

<math display="inline" id="Rotation_formalisms_in_three_dimensions:38">
 <semantics>
  <mrow>
   <mo stretchy="false">(</mo>
   <mi>ϕ</mi>
   <mo rspace="4.2pt">,</mo>
   <mi>θ</mi>
   <mo rspace="4.2pt">,</mo>
   <mi>ψ</mi>
   <mo stretchy="false">)</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <vector>
    <ci>ϕ</ci>
    <ci>θ</ci>
    <ci>ψ</ci>
   </vector>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \scriptstyle(\phi,\,\theta,\,\psi)
  </annotation>
 </semantics>
</math>

 can be extracted from the rotation matrix 

<math display="inline" id="Rotation_formalisms_in_three_dimensions:39">
 <semantics>
  <mi>𝐀</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>𝐀</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \scriptstyle\mathbf{A}
  </annotation>
 </semantics>
</math>

 by inspecting the rotation matrix in analytical form.</p>
<h4 id="rotation-matrix-euler-angles-z-x-z-extrinsic">Rotation matrix → Euler angles (z-x-z extrinsic)</h4>

<p>Using the x-convention, the 3-1-3 <a href="Euler_angles#Extrinsic_rotations" title="wikilink">extrinsic</a> Euler angles 

<math display="inline" id="Rotation_formalisms_in_three_dimensions:40">
 <semantics>
  <mi>ϕ</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>ϕ</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \scriptstyle\phi
  </annotation>
 </semantics>
</math>

, 

<math display="inline" id="Rotation_formalisms_in_three_dimensions:41">
 <semantics>
  <mi>θ</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>θ</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \scriptstyle\theta
  </annotation>
 </semantics>
</math>

 and 

<math display="inline" id="Rotation_formalisms_in_three_dimensions:42">
 <semantics>
  <mi>ψ</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>ψ</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \scriptstyle\psi
  </annotation>
 </semantics>
</math>

 (around the 

<math display="inline" id="Rotation_formalisms_in_three_dimensions:43">
 <semantics>
  <mi>Z</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>Z</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \scriptstyle Z
  </annotation>
 </semantics>
</math>

, 

<math display="inline" id="Rotation_formalisms_in_three_dimensions:44">
 <semantics>
  <mi>X</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>X</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \scriptstyle X
  </annotation>
 </semantics>
</math>

 and again the 

<math display="inline" id="Rotation_formalisms_in_three_dimensions:45">
 <semantics>
  <mi>Z</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>Z</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \scriptstyle Z
  </annotation>
 </semantics>
</math>

-axis) can be obtained as follows:</p>

<p>

<math display="inline" id="Rotation_formalisms_in_three_dimensions:46">
 <semantics>
  <mi>ϕ</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>ϕ</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \displaystyle\phi
  </annotation>
 </semantics>
</math>


</p>

<p>Note that 

<math display="inline" id="Rotation_formalisms_in_three_dimensions:47">
 <semantics>
  <mrow>
   <mo>arctan2</mo>
   <mrow>
    <mo stretchy="false">(</mo>
    <mi>a</mi>
    <mo rspace="4.2pt">,</mo>
    <mi>b</mi>
    <mo stretchy="false">)</mo>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <ci>arctan2</ci>
    <ci>a</ci>
    <ci>b</ci>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \scriptstyle\operatorname{arctan2}(a,\,b)
  </annotation>
 </semantics>
</math>

 is equivalent to 

<math display="inline" id="Rotation_formalisms_in_three_dimensions:48">
 <semantics>
  <mrow>
   <mi>arctan</mi>
   <mrow>
    <mo stretchy="false">(</mo>
    <mrow>
     <mi>a</mi>
     <mo>/</mo>
     <mi>b</mi>
    </mrow>
    <mo stretchy="false">)</mo>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <arctan></arctan>
    <apply>
     <divide></divide>
     <ci>a</ci>
     <ci>b</ci>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \scriptstyle\arctan(a/b)
  </annotation>
 </semantics>
</math>


 where it also takes into account the <a href="Cartesian_coordinate_system#Cartesian_coordinates_in_two_dimensions" title="wikilink">quadrant</a> that the point 

<math display="inline" id="Rotation_formalisms_in_three_dimensions:49">
 <semantics>
  <mrow>
   <mo stretchy="false">(</mo>
   <mi>a</mi>
   <mo rspace="4.2pt">,</mo>
   <mi>b</mi>
   <mo stretchy="false">)</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <interval closure="open">
    <ci>a</ci>
    <ci>b</ci>
   </interval>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \scriptstyle(a,\,b)
  </annotation>
 </semantics>
</math>

 is in; see <a class="uri" href="atan2" title="wikilink">atan2</a>.</p>

<p>When implementing the conversion, one has to take into account several situations:<a class="footnoteRef" href="#fn3" id="fnref3"><sup>3</sup></a></p>
<ul>
<li>There are generally two solutions in (−π, π]<sup>3</sup> interval. The above formula works only when 

<math display="inline" id="Rotation_formalisms_in_three_dimensions:50">
 <semantics>
  <mi>θ</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>θ</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \theta
  </annotation>
 </semantics>
</math>

 is from the interval [0, π)<sup>3</sup>.</li>
<li>For special case 

<math display="inline" id="Rotation_formalisms_in_three_dimensions:51">
 <semantics>
  <mrow>
   <mpadded width="+2.8pt">
    <msub>
     <mi>A</mi>
     <mn>33</mn>
    </msub>
   </mpadded>
   <mo>=</mo>
   <mn>0</mn>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <csymbol cd="ambiguous">subscript</csymbol>
     <ci>A</ci>
     <cn type="integer">33</cn>
    </apply>
    <cn type="float">0</cn>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \scriptstyle A_{33}\;=\;0
  </annotation>
 </semantics>
</math>

, 

<math display="inline" id="Rotation_formalisms_in_three_dimensions:52">
 <semantics>
  <mrow>
   <mi>ϕ</mi>
   <mo rspace="4.2pt">,</mo>
   <mi>ψ</mi>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <list>
    <ci>ϕ</ci>
    <ci>ψ</ci>
   </list>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \scriptstyle\phi,\,\psi
  </annotation>
 </semantics>
</math>

 shall be derived from 

<math display="inline" id="Rotation_formalisms_in_three_dimensions:53">
 <semantics>
  <mrow>
   <msub>
    <mi>A</mi>
    <mn>11</mn>
   </msub>
   <mo rspace="4.2pt">,</mo>
   <msub>
    <mi>A</mi>
    <mn>12</mn>
   </msub>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <list>
    <apply>
     <csymbol cd="ambiguous">subscript</csymbol>
     <ci>A</ci>
     <cn type="integer">11</cn>
    </apply>
    <apply>
     <csymbol cd="ambiguous">subscript</csymbol>
     <ci>A</ci>
     <cn type="integer">12</cn>
    </apply>
   </list>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \scriptstyle A_{11},\,A_{12}
  </annotation>
 </semantics>
</math>


.</li>
<li>There is infinitely many but countably many solutions outside of interval (−π, π]<sup>3</sup>.</li>
<li>Whether all mathematical solutions apply for given application depends on the situation.</li>
</ul>
<h4 id="euler-angles-x-y-z-extrinsic-rotation-matrix">Euler angles (x-y-z extrinsic) → Rotation matrix</h4>

<p>The rotation matrix 

<math display="inline" id="Rotation_formalisms_in_three_dimensions:54">
 <semantics>
  <mi>𝐀</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>𝐀</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \scriptstyle\mathbf{A}
  </annotation>
 </semantics>
</math>

 is generated from the 1-2-3 <a href="Euler_angles#Extrinsic_rotations" title="wikilink">extrinsic</a> Euler angles by multiplying the three matrices generated by rotations about the axes.</p>

<p>

<math display="block" id="Rotation_formalisms_in_three_dimensions:55">
 <semantics>
  <mrow>
   <mi>𝐀</mi>
   <mo>=</mo>
   <mrow>
    <msub>
     <mi>𝐀</mi>
     <mn>3</mn>
    </msub>
    <msub>
     <mi>𝐀</mi>
     <mn>2</mn>
    </msub>
    <msub>
     <mi>𝐀</mi>
     <mn>1</mn>
    </msub>
   </mrow>
   <mo>=</mo>
   <mrow>
    <msub>
     <mi>𝐀</mi>
     <mi>Z</mi>
    </msub>
    <msub>
     <mi>𝐀</mi>
     <mi>Y</mi>
    </msub>
    <msub>
     <mi>𝐀</mi>
     <mi>X</mi>
    </msub>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <and></and>
    <apply>
     <eq></eq>
     <ci>𝐀</ci>
     <apply>
      <times></times>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>𝐀</ci>
       <cn type="integer">3</cn>
      </apply>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>𝐀</ci>
       <cn type="integer">2</cn>
      </apply>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>𝐀</ci>
       <cn type="integer">1</cn>
      </apply>
     </apply>
    </apply>
    <apply>
     <eq></eq>
     <share href="#.cmml">
     </share>
     <apply>
      <times></times>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>𝐀</ci>
       <ci>Z</ci>
      </apply>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>𝐀</ci>
       <ci>Y</ci>
      </apply>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>𝐀</ci>
       <ci>X</ci>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \mathbf{A}=\mathbf{A}_{3}\mathbf{A}_{2}\mathbf{A}_{1}=\mathbf{A}_{Z}\mathbf{A}%
_{Y}\mathbf{A}_{X}
  </annotation>
 </semantics>
</math>

</p>

<p>The axes of the rotation depend on the specific convention being used. For the <em>x</em>-convention the rotations are about the 

<math display="inline" id="Rotation_formalisms_in_three_dimensions:56">
 <semantics>
  <mi>X</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>X</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \scriptstyle X
  </annotation>
 </semantics>
</math>

, 

<math display="inline" id="Rotation_formalisms_in_three_dimensions:57">
 <semantics>
  <mi>Y</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>Y</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \scriptstyle Y
  </annotation>
 </semantics>
</math>

 and 

<math display="inline" id="Rotation_formalisms_in_three_dimensions:58">
 <semantics>
  <mi>Z</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>Z</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \scriptstyle Z
  </annotation>
 </semantics>
</math>


 axes with angles 

<math display="inline" id="Rotation_formalisms_in_three_dimensions:59">
 <semantics>
  <mi>ϕ</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>ϕ</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \scriptstyle\phi
  </annotation>
 </semantics>
</math>

, 

<math display="inline" id="Rotation_formalisms_in_three_dimensions:60">
 <semantics>
  <mi>θ</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>θ</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \scriptstyle\theta
  </annotation>
 </semantics>
</math>

 and 

<math display="inline" id="Rotation_formalisms_in_three_dimensions:61">
 <semantics>
  <mi>ψ</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>ψ</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \scriptstyle\psi
  </annotation>
 </semantics>
</math>

, the individual matrices are as follows:</p>

<p>

<math display="inline" id="Rotation_formalisms_in_three_dimensions:62">
 <semantics>
  <msub>
   <mi>𝐀</mi>
   <mi>X</mi>
  </msub>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <csymbol cd="ambiguous">subscript</csymbol>
    <ci>𝐀</ci>
    <ci>X</ci>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \displaystyle\mathbf{A}_{X}
  </annotation>
 </semantics>
</math>


</p>

<p>This yields</p>

<p>

<math display="block" id="Rotation_formalisms_in_three_dimensions:63">
 <semantics>
  <mtable displaystyle="true">
   <mtr>
    <mtd columnalign="left">
     <mi>𝐀</mi>
    </mtd>
    <mtd columnalign="center">
     <mo>=</mo>
    </mtd>
    <mtd columnalign="left">
     <mrow>
      <mo>[</mo>
      <mtable displaystyle="true">
       <mtr>
        <mtd columnalign="center">
         <mrow>
          <mrow>
           <mi>cos</mi>
           <mi>θ</mi>
          </mrow>
          <mrow>
           <mi>cos</mi>
           <mi>ψ</mi>
          </mrow>
         </mrow>
        </mtd>
        <mtd columnalign="center">
         <mrow>
          <mrow>
           <mrow>
            <mi>cos</mi>
            <mi>ϕ</mi>
           </mrow>
           <mrow>
            <mi>sin</mi>
            <mi>ψ</mi>
           </mrow>
          </mrow>
          <mo>+</mo>
          <mrow>
           <mrow>
            <mi>sin</mi>
            <mi>ϕ</mi>
           </mrow>
           <mrow>
            <mi>sin</mi>
            <mi>θ</mi>
           </mrow>
           <mrow>
            <mi>cos</mi>
            <mi>ψ</mi>
           </mrow>
          </mrow>
         </mrow>
        </mtd>
        <mtd columnalign="center">
         <mrow>
          <mrow>
           <mrow>
            <mi>sin</mi>
            <mi>ϕ</mi>
           </mrow>
           <mrow>
            <mi>sin</mi>
            <mi>ψ</mi>
           </mrow>
          </mrow>
          <mo>-</mo>
          <mrow>
           <mrow>
            <mi>cos</mi>
            <mi>ϕ</mi>
           </mrow>
           <mrow>
            <mi>sin</mi>
            <mi>θ</mi>
           </mrow>
           <mrow>
            <mi>cos</mi>
            <mi>ψ</mi>
           </mrow>
          </mrow>
         </mrow>
        </mtd>
       </mtr>
       <mtr>
        <mtd columnalign="center">
         <mrow>
          <mo>-</mo>
          <mrow>
           <mrow>
            <mi>cos</mi>
            <mi>θ</mi>
           </mrow>
           <mrow>
            <mi>sin</mi>
            <mi>ψ</mi>
           </mrow>
          </mrow>
         </mrow>
        </mtd>
        <mtd columnalign="center">
         <mrow>
          <mrow>
           <mrow>
            <mi>cos</mi>
            <mi>ϕ</mi>
           </mrow>
           <mrow>
            <mi>cos</mi>
            <mi>ψ</mi>
           </mrow>
          </mrow>
          <mo>-</mo>
          <mrow>
           <mrow>
            <mi>sin</mi>
            <mi>ϕ</mi>
           </mrow>
           <mrow>
            <mi>sin</mi>
            <mi>θ</mi>
           </mrow>
           <mrow>
            <mi>sin</mi>
            <mi>ψ</mi>
           </mrow>
          </mrow>
         </mrow>
        </mtd>
        <mtd columnalign="center">
         <mrow>
          <mrow>
           <mrow>
            <mi>sin</mi>
            <mi>ϕ</mi>
           </mrow>
           <mrow>
            <mi>cos</mi>
            <mi>ψ</mi>
           </mrow>
          </mrow>
          <mo>+</mo>
          <mrow>
           <mrow>
            <mi>cos</mi>
            <mi>ϕ</mi>
           </mrow>
           <mrow>
            <mi>sin</mi>
            <mi>θ</mi>
           </mrow>
           <mrow>
            <mi>sin</mi>
            <mi>ψ</mi>
           </mrow>
          </mrow>
         </mrow>
        </mtd>
       </mtr>
       <mtr>
        <mtd columnalign="center">
         <mrow>
          <mi>sin</mi>
          <mi>θ</mi>
         </mrow>
        </mtd>
        <mtd columnalign="center">
         <mrow>
          <mo>-</mo>
          <mrow>
           <mrow>
            <mi>sin</mi>
            <mi>ϕ</mi>
           </mrow>
           <mrow>
            <mi>cos</mi>
            <mi>θ</mi>
           </mrow>
          </mrow>
         </mrow>
        </mtd>
        <mtd columnalign="center">
         <mrow>
          <mrow>
           <mi>cos</mi>
           <mi>ϕ</mi>
          </mrow>
          <mrow>
           <mi>cos</mi>
           <mi>θ</mi>
          </mrow>
         </mrow>
        </mtd>
       </mtr>
      </mtable>
      <mo>]</mo>
     </mrow>
    </mtd>
   </mtr>
  </mtable>
  <annotation-xml encoding="MathML-Content">
   <matrix>
    <matrixrow>
     <ci>𝐀</ci>
     <eq></eq>
     <matrix>
      <matrixrow>
       <apply>
        <times></times>
        <apply>
         <cos></cos>
         <ci>θ</ci>
        </apply>
        <apply>
         <cos></cos>
         <ci>ψ</ci>
        </apply>
       </apply>
       <apply>
        <plus></plus>
        <apply>
         <times></times>
         <apply>
          <cos></cos>
          <ci>ϕ</ci>
         </apply>
         <apply>
          <sin></sin>
          <ci>ψ</ci>
         </apply>
        </apply>
        <apply>
         <times></times>
         <apply>
          <sin></sin>
          <ci>ϕ</ci>
         </apply>
         <apply>
          <sin></sin>
          <ci>θ</ci>
         </apply>
         <apply>
          <cos></cos>
          <ci>ψ</ci>
         </apply>
        </apply>
       </apply>
       <apply>
        <minus></minus>
        <apply>
         <times></times>
         <apply>
          <sin></sin>
          <ci>ϕ</ci>
         </apply>
         <apply>
          <sin></sin>
          <ci>ψ</ci>
         </apply>
        </apply>
        <apply>
         <times></times>
         <apply>
          <cos></cos>
          <ci>ϕ</ci>
         </apply>
         <apply>
          <sin></sin>
          <ci>θ</ci>
         </apply>
         <apply>
          <cos></cos>
          <ci>ψ</ci>
         </apply>
        </apply>
       </apply>
      </matrixrow>
      <matrixrow>
       <apply>
        <minus></minus>
        <apply>
         <times></times>
         <apply>
          <cos></cos>
          <ci>θ</ci>
         </apply>
         <apply>
          <sin></sin>
          <ci>ψ</ci>
         </apply>
        </apply>
       </apply>
       <apply>
        <minus></minus>
        <apply>
         <times></times>
         <apply>
          <cos></cos>
          <ci>ϕ</ci>
         </apply>
         <apply>
          <cos></cos>
          <ci>ψ</ci>
         </apply>
        </apply>
        <apply>
         <times></times>
         <apply>
          <sin></sin>
          <ci>ϕ</ci>
         </apply>
         <apply>
          <sin></sin>
          <ci>θ</ci>
         </apply>
         <apply>
          <sin></sin>
          <ci>ψ</ci>
         </apply>
        </apply>
       </apply>
       <apply>
        <plus></plus>
        <apply>
         <times></times>
         <apply>
          <sin></sin>
          <ci>ϕ</ci>
         </apply>
         <apply>
          <cos></cos>
          <ci>ψ</ci>
         </apply>
        </apply>
        <apply>
         <times></times>
         <apply>
          <cos></cos>
          <ci>ϕ</ci>
         </apply>
         <apply>
          <sin></sin>
          <ci>θ</ci>
         </apply>
         <apply>
          <sin></sin>
          <ci>ψ</ci>
         </apply>
        </apply>
       </apply>
      </matrixrow>
      <matrixrow>
       <apply>
        <sin></sin>
        <ci>θ</ci>
       </apply>
       <apply>
        <minus></minus>
        <apply>
         <times></times>
         <apply>
          <sin></sin>
          <ci>ϕ</ci>
         </apply>
         <apply>
          <cos></cos>
          <ci>θ</ci>
         </apply>
        </apply>
       </apply>
       <apply>
        <times></times>
        <apply>
         <cos></cos>
         <ci>ϕ</ci>
        </apply>
        <apply>
         <cos></cos>
         <ci>θ</ci>
        </apply>
       </apply>
      </matrixrow>
     </matrix>
    </matrixrow>
   </matrix>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \begin{array}[]{lcl}\mathbf{A}&=&\begin{bmatrix}\cos\theta\cos\psi&\cos\phi%
\sin\psi+\sin\phi\sin\theta\cos\psi&\sin\phi\sin\psi-\cos\phi\sin\theta\cos%
\psi\\
-\cos\theta\sin\psi&\cos\phi\cos\psi-\sin\phi\sin\theta\sin\psi&\sin\phi\cos%
\psi+\cos\phi\sin\theta\sin\psi\\
\sin\theta&-\sin\phi\cos\theta&\cos\phi\cos\theta\\
\end{bmatrix}\end{array}
  </annotation>
 </semantics>
</math>

 Note: This is valid for a <a href="Right-hand_rule" title="wikilink">right-hand</a> system, which is the convention used in almost all engineering and physics disciplines.</p>
<h3 id="rotation-matrix-euler-axisangle">Rotation matrix ↔ Euler axis/angle</h3>

<p>If the Euler angle 

<math display="inline" id="Rotation_formalisms_in_three_dimensions:64">
 <semantics>
  <mi>θ</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>θ</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \scriptstyle\theta
  </annotation>
 </semantics>
</math>

 is not a multiple of 

<math display="inline" id="Rotation_formalisms_in_three_dimensions:65">
 <semantics>
  <mi>π</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>π</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \scriptstyle\pi
  </annotation>
 </semantics>
</math>

, the Euler axis 

<math display="inline" id="Rotation_formalisms_in_three_dimensions:66">
 <semantics>
  <mrow>
   <mpadded width="+2.8pt">
    <mover accent="true">
     <mi>𝐞</mi>
     <mo stretchy="false">^</mo>
    </mover>
   </mpadded>
   <mo rspace="5.3pt">=</mo>
   <msup>
    <mrow>
     <mo stretchy="false">[</mo>
     <mrow>
      <mpadded width="+5pt">
       <msub>
        <mi>e</mi>
        <mn>1</mn>
       </msub>
      </mpadded>
      <mpadded width="+5pt">
       <msub>
        <mi>e</mi>
        <mn>2</mn>
       </msub>
      </mpadded>
      <msub>
       <mi>e</mi>
       <mn>3</mn>
      </msub>
     </mrow>
     <mo stretchy="false">]</mo>
    </mrow>
    <mi mathvariant="normal">T</mi>
   </msup>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <ci>normal-^</ci>
     <ci>𝐞</ci>
    </apply>
    <apply>
     <csymbol cd="ambiguous">superscript</csymbol>
     <apply>
      <csymbol cd="latexml">delimited-[]</csymbol>
      <apply>
       <times></times>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>e</ci>
        <cn type="integer">1</cn>
       </apply>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>e</ci>
        <cn type="integer">2</cn>
       </apply>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>e</ci>
        <cn type="integer">3</cn>
       </apply>
      </apply>
     </apply>
     <ci>normal-T</ci>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \scriptstyle\hat{\mathbf{e}}\;=\;[e_{1}\ e_{2}\ e_{3}]^{\mathrm{T}}
  </annotation>
 </semantics>
</math>


 and angle 

<math display="inline" id="Rotation_formalisms_in_three_dimensions:67">
 <semantics>
  <mi>θ</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>θ</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \scriptstyle\theta
  </annotation>
 </semantics>
</math>

 can be computed from the elements of the rotation matrix 

<math display="inline" id="Rotation_formalisms_in_three_dimensions:68">
 <semantics>
  <mi>𝐀</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>𝐀</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \scriptstyle\mathbf{A}
  </annotation>
 </semantics>
</math>

 as follows:</p>

<p>

<math display="inline" id="Rotation_formalisms_in_three_dimensions:69">
 <semantics>
  <mi>θ</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>θ</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \displaystyle\theta
  </annotation>
 </semantics>
</math>


</p>

<p>Alternatively, the following method can be used:</p>

<p>Eigen-decomposition of the rotation matrix yields the eigenvalues 1, and 

<math display="inline" id="Rotation_formalisms_in_three_dimensions:70">
 <semantics>
  <mrow>
   <mrow>
    <mi>cos</mi>
    <mi>θ</mi>
   </mrow>
   <mo>±</mo>
   <mrow>
    <mi>i</mi>
    <mrow>
     <mi>sin</mi>
     <mi>θ</mi>
    </mrow>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <csymbol cd="latexml">plus-or-minus</csymbol>
    <apply>
     <cos></cos>
     <ci>θ</ci>
    </apply>
    <apply>
     <times></times>
     <ci>i</ci>
     <apply>
      <sin></sin>
      <ci>θ</ci>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \scriptstyle\cos\theta\pm i\sin\theta
  </annotation>
 </semantics>
</math>


. The Euler axis is the eigenvector corresponding to the eigenvalue of 1, and the 

<math display="inline" id="Rotation_formalisms_in_three_dimensions:71">
 <semantics>
  <mi>θ</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>θ</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \scriptstyle\theta
  </annotation>
 </semantics>
</math>

 can be computed from the remaining eigenvalues.</p>

<p>The Euler axis can be also found using Singular Value Decomposition since it is the normalized vector spanning the null-space of the matrix 

<math display="inline" id="Rotation_formalisms_in_three_dimensions:72">
 <semantics>
  <mrow>
   <mpadded width="+1.7pt">
    <mi>I</mi>
   </mpadded>
   <mo rspace="4.2pt">-</mo>
   <mi>A</mi>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <minus></minus>
    <ci>I</ci>
    <ci>A</ci>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \scriptstyle I\,-\,A
  </annotation>
 </semantics>
</math>

.</p>

<p>To convert the other way the rotation matrix corresponding to an Euler axis 

<math display="inline" id="Rotation_formalisms_in_three_dimensions:73">
 <semantics>
  <mrow>
   <mpadded width="+2.8pt">
    <mover accent="true">
     <mi>𝐞</mi>
     <mo stretchy="false">^</mo>
    </mover>
   </mpadded>
   <mo rspace="5.3pt">=</mo>
   <msup>
    <mrow>
     <mo stretchy="false">[</mo>
     <mrow>
      <mpadded width="+5pt">
       <msub>
        <mi>e</mi>
        <mn>1</mn>
       </msub>
      </mpadded>
      <mpadded width="+5pt">
       <msub>
        <mi>e</mi>
        <mn>2</mn>
       </msub>
      </mpadded>
      <msub>
       <mi>e</mi>
       <mn>3</mn>
      </msub>
     </mrow>
     <mo stretchy="false">]</mo>
    </mrow>
    <mi mathvariant="normal">T</mi>
   </msup>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <ci>normal-^</ci>
     <ci>𝐞</ci>
    </apply>
    <apply>
     <csymbol cd="ambiguous">superscript</csymbol>
     <apply>
      <csymbol cd="latexml">delimited-[]</csymbol>
      <apply>
       <times></times>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>e</ci>
        <cn type="integer">1</cn>
       </apply>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>e</ci>
        <cn type="integer">2</cn>
       </apply>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>e</ci>
        <cn type="integer">3</cn>
       </apply>
      </apply>
     </apply>
     <ci>normal-T</ci>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \scriptstyle\hat{\mathbf{e}}\;=\;[e_{1}\ e_{2}\ e_{3}]^{\mathrm{T}}
  </annotation>
 </semantics>
</math>

 and angle 

<math display="inline" id="Rotation_formalisms_in_three_dimensions:74">
 <semantics>
  <mi>θ</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>θ</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \scriptstyle\theta
  </annotation>
 </semantics>
</math>

 can be computed according to the <a href="Rodrigues'_rotation_formula" title="wikilink">Rodrigues' rotation formula</a> (with appropriate modification) as follows:</p>

<p>

<math display="block" id="Rotation_formalisms_in_three_dimensions:75">
 <semantics>
  <mrow>
   <mi>𝐀</mi>
   <mo>=</mo>
   <mrow>
    <mrow>
     <msub>
      <mi>𝐈</mi>
      <mn>3</mn>
     </msub>
     <mrow>
      <mi>cos</mi>
      <mi>θ</mi>
     </mrow>
    </mrow>
    <mo>+</mo>
    <mrow>
     <mrow>
      <mo stretchy="false">(</mo>
      <mrow>
       <mn>1</mn>
       <mo>-</mo>
       <mrow>
        <mi>cos</mi>
        <mi>θ</mi>
       </mrow>
      </mrow>
      <mo stretchy="false">)</mo>
     </mrow>
     <mover accent="true">
      <mi>𝐞</mi>
      <mo stretchy="false">^</mo>
     </mover>
     <msup>
      <mover accent="true">
       <mi>𝐞</mi>
       <mo stretchy="false">^</mo>
      </mover>
      <mi mathvariant="normal">T</mi>
     </msup>
    </mrow>
    <mo>+</mo>
    <mrow>
     <msub>
      <mrow>
       <mo stretchy="false">[</mo>
       <mover accent="true">
        <mi>𝐞</mi>
        <mo stretchy="false">^</mo>
       </mover>
       <mo stretchy="false">]</mo>
      </mrow>
      <mo>×</mo>
     </msub>
     <mrow>
      <mi>sin</mi>
      <mi>θ</mi>
     </mrow>
    </mrow>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <ci>𝐀</ci>
    <apply>
     <plus></plus>
     <apply>
      <times></times>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>𝐈</ci>
       <cn type="integer">3</cn>
      </apply>
      <apply>
       <cos></cos>
       <ci>θ</ci>
      </apply>
     </apply>
     <apply>
      <times></times>
      <apply>
       <minus></minus>
       <cn type="integer">1</cn>
       <apply>
        <cos></cos>
        <ci>θ</ci>
       </apply>
      </apply>
      <apply>
       <ci>normal-^</ci>
       <ci>𝐞</ci>
      </apply>
      <apply>
       <csymbol cd="ambiguous">superscript</csymbol>
       <apply>
        <ci>normal-^</ci>
        <ci>𝐞</ci>
       </apply>
       <ci>normal-T</ci>
      </apply>
     </apply>
     <apply>
      <times></times>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <apply>
        <csymbol cd="latexml">delimited-[]</csymbol>
        <apply>
         <ci>normal-^</ci>
         <ci>𝐞</ci>
        </apply>
       </apply>
       <times></times>
      </apply>
      <apply>
       <sin></sin>
       <ci>θ</ci>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \mathbf{A}=\mathbf{I}_{3}\cos\theta+(1-\cos\theta)\hat{\mathbf{e}}\hat{\mathbf%
{e}}^{\mathrm{T}}+[\hat{\mathbf{e}}]_{\times}\sin\theta
  </annotation>
 </semantics>
</math>

</p>

<p>with 

<math display="inline" id="Rotation_formalisms_in_three_dimensions:76">
 <semantics>
  <msub>
   <mi>𝐈</mi>
   <mn>3</mn>
  </msub>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <csymbol cd="ambiguous">subscript</csymbol>
    <ci>𝐈</ci>
    <cn type="integer">3</cn>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \scriptstyle\mathbf{I}_{3}
  </annotation>
 </semantics>
</math>

 the  <a href="identity_matrix" title="wikilink">identity matrix</a>, and</p>

<p>

<math display="block" id="Rotation_formalisms_in_three_dimensions:77">
 <semantics>
  <mrow>
   <msub>
    <mrow>
     <mo stretchy="false">[</mo>
     <mover accent="true">
      <mi>𝐞</mi>
      <mo stretchy="false">^</mo>
     </mover>
     <mo stretchy="false">]</mo>
    </mrow>
    <mo>×</mo>
   </msub>
   <mo>=</mo>
   <mrow>
    <mo>[</mo>
    <mtable displaystyle="true">
     <mtr>
      <mtd columnalign="center">
       <mn>0</mn>
      </mtd>
      <mtd columnalign="center">
       <mrow>
        <mo>-</mo>
        <msub>
         <mi>e</mi>
         <mn>3</mn>
        </msub>
       </mrow>
      </mtd>
      <mtd columnalign="center">
       <msub>
        <mi>e</mi>
        <mn>2</mn>
       </msub>
      </mtd>
     </mtr>
     <mtr>
      <mtd columnalign="center">
       <msub>
        <mi>e</mi>
        <mn>3</mn>
       </msub>
      </mtd>
      <mtd columnalign="center">
       <mn>0</mn>
      </mtd>
      <mtd columnalign="center">
       <mrow>
        <mo>-</mo>
        <msub>
         <mi>e</mi>
         <mn>1</mn>
        </msub>
       </mrow>
      </mtd>
     </mtr>
     <mtr>
      <mtd columnalign="center">
       <mrow>
        <mo>-</mo>
        <msub>
         <mi>e</mi>
         <mn>2</mn>
        </msub>
       </mrow>
      </mtd>
      <mtd columnalign="center">
       <msub>
        <mi>e</mi>
        <mn>1</mn>
       </msub>
      </mtd>
      <mtd columnalign="center">
       <mn>0</mn>
      </mtd>
     </mtr>
    </mtable>
    <mo>]</mo>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <csymbol cd="ambiguous">subscript</csymbol>
     <apply>
      <csymbol cd="latexml">delimited-[]</csymbol>
      <apply>
       <ci>normal-^</ci>
       <ci>𝐞</ci>
      </apply>
     </apply>
     <times></times>
    </apply>
    <apply>
     <csymbol cd="latexml">delimited-[]</csymbol>
     <matrix>
      <matrixrow>
       <cn type="integer">0</cn>
       <apply>
        <minus></minus>
        <apply>
         <csymbol cd="ambiguous">subscript</csymbol>
         <ci>e</ci>
         <cn type="integer">3</cn>
        </apply>
       </apply>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>e</ci>
        <cn type="integer">2</cn>
       </apply>
      </matrixrow>
      <matrixrow>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>e</ci>
        <cn type="integer">3</cn>
       </apply>
       <cn type="integer">0</cn>
       <apply>
        <minus></minus>
        <apply>
         <csymbol cd="ambiguous">subscript</csymbol>
         <ci>e</ci>
         <cn type="integer">1</cn>
        </apply>
       </apply>
      </matrixrow>
      <matrixrow>
       <apply>
        <minus></minus>
        <apply>
         <csymbol cd="ambiguous">subscript</csymbol>
         <ci>e</ci>
         <cn type="integer">2</cn>
        </apply>
       </apply>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>e</ci>
        <cn type="integer">1</cn>
       </apply>
       <cn type="integer">0</cn>
      </matrixrow>
     </matrix>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   [\hat{\mathbf{e}}]_{\times}=\left[\begin{array}[]{ccc}0&-e_{3}&e_{2}\\
e_{3}&0&-e_{1}\\
-e_{2}&e_{1}&0\end{array}\right]
  </annotation>
 </semantics>
</math>

</p>

<p>is the <a href="Cross_product#Conversion_to_matrix_multiplication" title="wikilink">cross-product matrix</a>.</p>

<p>This expands to...</p>

<p>

<math display="block" id="Rotation_formalisms_in_three_dimensions:78">
 <semantics>
  <mrow>
   <msub>
    <mi>A</mi>
    <mn>11</mn>
   </msub>
   <mo>=</mo>
   <mrow>
    <mrow>
     <mrow>
      <mo stretchy="false">(</mo>
      <mrow>
       <mn>1</mn>
       <mo>-</mo>
       <mrow>
        <mi>cos</mi>
        <mi>θ</mi>
       </mrow>
      </mrow>
      <mo stretchy="false">)</mo>
     </mrow>
     <msubsup>
      <mi>e</mi>
      <mn>1</mn>
      <mn>2</mn>
     </msubsup>
    </mrow>
    <mo>+</mo>
    <mrow>
     <mi>cos</mi>
     <mi>θ</mi>
    </mrow>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <csymbol cd="ambiguous">subscript</csymbol>
     <ci>A</ci>
     <cn type="integer">11</cn>
    </apply>
    <apply>
     <plus></plus>
     <apply>
      <times></times>
      <apply>
       <minus></minus>
       <cn type="integer">1</cn>
       <apply>
        <cos></cos>
        <ci>θ</ci>
       </apply>
      </apply>
      <apply>
       <csymbol cd="ambiguous">superscript</csymbol>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>e</ci>
        <cn type="integer">1</cn>
       </apply>
       <cn type="integer">2</cn>
      </apply>
     </apply>
     <apply>
      <cos></cos>
      <ci>θ</ci>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   A_{11}=(1-\cos\theta)e_{1}^{2}+\cos\theta
  </annotation>
 </semantics>
</math>

</p>

<p>

<math display="block" id="Rotation_formalisms_in_three_dimensions:79">
 <semantics>
  <mrow>
   <msub>
    <mi>A</mi>
    <mn>12</mn>
   </msub>
   <mo>=</mo>
   <mrow>
    <mrow>
     <mrow>
      <mo stretchy="false">(</mo>
      <mrow>
       <mn>1</mn>
       <mo>-</mo>
       <mrow>
        <mi>cos</mi>
        <mi>θ</mi>
       </mrow>
      </mrow>
      <mo stretchy="false">)</mo>
     </mrow>
     <msub>
      <mi>e</mi>
      <mn>1</mn>
     </msub>
     <msub>
      <mi>e</mi>
      <mn>2</mn>
     </msub>
    </mrow>
    <mo>-</mo>
    <mrow>
     <msub>
      <mi>e</mi>
      <mn>3</mn>
     </msub>
     <mrow>
      <mi>sin</mi>
      <mi>θ</mi>
     </mrow>
    </mrow>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <csymbol cd="ambiguous">subscript</csymbol>
     <ci>A</ci>
     <cn type="integer">12</cn>
    </apply>
    <apply>
     <minus></minus>
     <apply>
      <times></times>
      <apply>
       <minus></minus>
       <cn type="integer">1</cn>
       <apply>
        <cos></cos>
        <ci>θ</ci>
       </apply>
      </apply>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>e</ci>
       <cn type="integer">1</cn>
      </apply>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>e</ci>
       <cn type="integer">2</cn>
      </apply>
     </apply>
     <apply>
      <times></times>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>e</ci>
       <cn type="integer">3</cn>
      </apply>
      <apply>
       <sin></sin>
       <ci>θ</ci>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   A_{12}=(1-\cos\theta)e_{1}e_{2}-e_{3}\sin\theta
  </annotation>
 </semantics>
</math>

</p>

<p>

<math display="block" id="Rotation_formalisms_in_three_dimensions:80">
 <semantics>
  <mrow>
   <msub>
    <mi>A</mi>
    <mn>13</mn>
   </msub>
   <mo>=</mo>
   <mrow>
    <mrow>
     <mrow>
      <mo stretchy="false">(</mo>
      <mrow>
       <mn>1</mn>
       <mo>-</mo>
       <mrow>
        <mi>cos</mi>
        <mi>θ</mi>
       </mrow>
      </mrow>
      <mo stretchy="false">)</mo>
     </mrow>
     <msub>
      <mi>e</mi>
      <mn>1</mn>
     </msub>
     <msub>
      <mi>e</mi>
      <mn>3</mn>
     </msub>
    </mrow>
    <mo>+</mo>
    <mrow>
     <msub>
      <mi>e</mi>
      <mn>2</mn>
     </msub>
     <mrow>
      <mi>sin</mi>
      <mi>θ</mi>
     </mrow>
    </mrow>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <csymbol cd="ambiguous">subscript</csymbol>
     <ci>A</ci>
     <cn type="integer">13</cn>
    </apply>
    <apply>
     <plus></plus>
     <apply>
      <times></times>
      <apply>
       <minus></minus>
       <cn type="integer">1</cn>
       <apply>
        <cos></cos>
        <ci>θ</ci>
       </apply>
      </apply>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>e</ci>
       <cn type="integer">1</cn>
      </apply>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>e</ci>
       <cn type="integer">3</cn>
      </apply>
     </apply>
     <apply>
      <times></times>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>e</ci>
       <cn type="integer">2</cn>
      </apply>
      <apply>
       <sin></sin>
       <ci>θ</ci>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   A_{13}=(1-\cos\theta)e_{1}e_{3}+e_{2}\sin\theta
  </annotation>
 </semantics>
</math>

</p>

<p>

<math display="block" id="Rotation_formalisms_in_three_dimensions:81">
 <semantics>
  <mrow>
   <msub>
    <mi>A</mi>
    <mn>21</mn>
   </msub>
   <mo>=</mo>
   <mrow>
    <mrow>
     <mrow>
      <mo stretchy="false">(</mo>
      <mrow>
       <mn>1</mn>
       <mo>-</mo>
       <mrow>
        <mi>cos</mi>
        <mi>θ</mi>
       </mrow>
      </mrow>
      <mo stretchy="false">)</mo>
     </mrow>
     <msub>
      <mi>e</mi>
      <mn>2</mn>
     </msub>
     <msub>
      <mi>e</mi>
      <mn>1</mn>
     </msub>
    </mrow>
    <mo>+</mo>
    <mrow>
     <msub>
      <mi>e</mi>
      <mn>3</mn>
     </msub>
     <mrow>
      <mi>sin</mi>
      <mi>θ</mi>
     </mrow>
    </mrow>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <csymbol cd="ambiguous">subscript</csymbol>
     <ci>A</ci>
     <cn type="integer">21</cn>
    </apply>
    <apply>
     <plus></plus>
     <apply>
      <times></times>
      <apply>
       <minus></minus>
       <cn type="integer">1</cn>
       <apply>
        <cos></cos>
        <ci>θ</ci>
       </apply>
      </apply>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>e</ci>
       <cn type="integer">2</cn>
      </apply>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>e</ci>
       <cn type="integer">1</cn>
      </apply>
     </apply>
     <apply>
      <times></times>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>e</ci>
       <cn type="integer">3</cn>
      </apply>
      <apply>
       <sin></sin>
       <ci>θ</ci>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   A_{21}=(1-\cos\theta)e_{2}e_{1}+e_{3}\sin\theta
  </annotation>
 </semantics>
</math>

</p>

<p>

<math display="block" id="Rotation_formalisms_in_three_dimensions:82">
 <semantics>
  <mrow>
   <msub>
    <mi>A</mi>
    <mn>22</mn>
   </msub>
   <mo>=</mo>
   <mrow>
    <mrow>
     <mrow>
      <mo stretchy="false">(</mo>
      <mrow>
       <mn>1</mn>
       <mo>-</mo>
       <mrow>
        <mi>cos</mi>
        <mi>θ</mi>
       </mrow>
      </mrow>
      <mo stretchy="false">)</mo>
     </mrow>
     <msubsup>
      <mi>e</mi>
      <mn>2</mn>
      <mn>2</mn>
     </msubsup>
    </mrow>
    <mo>+</mo>
    <mrow>
     <mi>cos</mi>
     <mi>θ</mi>
    </mrow>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <csymbol cd="ambiguous">subscript</csymbol>
     <ci>A</ci>
     <cn type="integer">22</cn>
    </apply>
    <apply>
     <plus></plus>
     <apply>
      <times></times>
      <apply>
       <minus></minus>
       <cn type="integer">1</cn>
       <apply>
        <cos></cos>
        <ci>θ</ci>
       </apply>
      </apply>
      <apply>
       <csymbol cd="ambiguous">superscript</csymbol>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>e</ci>
        <cn type="integer">2</cn>
       </apply>
       <cn type="integer">2</cn>
      </apply>
     </apply>
     <apply>
      <cos></cos>
      <ci>θ</ci>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   A_{22}=(1-\cos\theta)e_{2}^{2}+\cos\theta
  </annotation>
 </semantics>
</math>

</p>

<p>

<math display="block" id="Rotation_formalisms_in_three_dimensions:83">
 <semantics>
  <mrow>
   <msub>
    <mi>A</mi>
    <mn>23</mn>
   </msub>
   <mo>=</mo>
   <mrow>
    <mrow>
     <mrow>
      <mo stretchy="false">(</mo>
      <mrow>
       <mn>1</mn>
       <mo>-</mo>
       <mrow>
        <mi>cos</mi>
        <mi>θ</mi>
       </mrow>
      </mrow>
      <mo stretchy="false">)</mo>
     </mrow>
     <msub>
      <mi>e</mi>
      <mn>2</mn>
     </msub>
     <msub>
      <mi>e</mi>
      <mn>3</mn>
     </msub>
    </mrow>
    <mo>-</mo>
    <mrow>
     <msub>
      <mi>e</mi>
      <mn>1</mn>
     </msub>
     <mrow>
      <mi>sin</mi>
      <mi>θ</mi>
     </mrow>
    </mrow>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <csymbol cd="ambiguous">subscript</csymbol>
     <ci>A</ci>
     <cn type="integer">23</cn>
    </apply>
    <apply>
     <minus></minus>
     <apply>
      <times></times>
      <apply>
       <minus></minus>
       <cn type="integer">1</cn>
       <apply>
        <cos></cos>
        <ci>θ</ci>
       </apply>
      </apply>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>e</ci>
       <cn type="integer">2</cn>
      </apply>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>e</ci>
       <cn type="integer">3</cn>
      </apply>
     </apply>
     <apply>
      <times></times>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>e</ci>
       <cn type="integer">1</cn>
      </apply>
      <apply>
       <sin></sin>
       <ci>θ</ci>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   A_{23}=(1-\cos\theta)e_{2}e_{3}-e_{1}\sin\theta
  </annotation>
 </semantics>
</math>

</p>

<p>

<math display="block" id="Rotation_formalisms_in_three_dimensions:84">
 <semantics>
  <mrow>
   <msub>
    <mi>A</mi>
    <mn>31</mn>
   </msub>
   <mo>=</mo>
   <mrow>
    <mrow>
     <mrow>
      <mo stretchy="false">(</mo>
      <mrow>
       <mn>1</mn>
       <mo>-</mo>
       <mrow>
        <mi>cos</mi>
        <mi>θ</mi>
       </mrow>
      </mrow>
      <mo stretchy="false">)</mo>
     </mrow>
     <msub>
      <mi>e</mi>
      <mn>3</mn>
     </msub>
     <msub>
      <mi>e</mi>
      <mn>1</mn>
     </msub>
    </mrow>
    <mo>-</mo>
    <mrow>
     <msub>
      <mi>e</mi>
      <mn>2</mn>
     </msub>
     <mrow>
      <mi>sin</mi>
      <mi>θ</mi>
     </mrow>
    </mrow>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <csymbol cd="ambiguous">subscript</csymbol>
     <ci>A</ci>
     <cn type="integer">31</cn>
    </apply>
    <apply>
     <minus></minus>
     <apply>
      <times></times>
      <apply>
       <minus></minus>
       <cn type="integer">1</cn>
       <apply>
        <cos></cos>
        <ci>θ</ci>
       </apply>
      </apply>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>e</ci>
       <cn type="integer">3</cn>
      </apply>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>e</ci>
       <cn type="integer">1</cn>
      </apply>
     </apply>
     <apply>
      <times></times>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>e</ci>
       <cn type="integer">2</cn>
      </apply>
      <apply>
       <sin></sin>
       <ci>θ</ci>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   A_{31}=(1-\cos\theta)e_{3}e_{1}-e_{2}\sin\theta
  </annotation>
 </semantics>
</math>

</p>

<p>

<math display="block" id="Rotation_formalisms_in_three_dimensions:85">
 <semantics>
  <mrow>
   <msub>
    <mi>A</mi>
    <mn>32</mn>
   </msub>
   <mo>=</mo>
   <mrow>
    <mrow>
     <mrow>
      <mo stretchy="false">(</mo>
      <mrow>
       <mn>1</mn>
       <mo>-</mo>
       <mrow>
        <mi>cos</mi>
        <mi>θ</mi>
       </mrow>
      </mrow>
      <mo stretchy="false">)</mo>
     </mrow>
     <msub>
      <mi>e</mi>
      <mn>3</mn>
     </msub>
     <msub>
      <mi>e</mi>
      <mn>2</mn>
     </msub>
    </mrow>
    <mo>+</mo>
    <mrow>
     <msub>
      <mi>e</mi>
      <mn>1</mn>
     </msub>
     <mrow>
      <mi>sin</mi>
      <mi>θ</mi>
     </mrow>
    </mrow>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <csymbol cd="ambiguous">subscript</csymbol>
     <ci>A</ci>
     <cn type="integer">32</cn>
    </apply>
    <apply>
     <plus></plus>
     <apply>
      <times></times>
      <apply>
       <minus></minus>
       <cn type="integer">1</cn>
       <apply>
        <cos></cos>
        <ci>θ</ci>
       </apply>
      </apply>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>e</ci>
       <cn type="integer">3</cn>
      </apply>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>e</ci>
       <cn type="integer">2</cn>
      </apply>
     </apply>
     <apply>
      <times></times>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>e</ci>
       <cn type="integer">1</cn>
      </apply>
      <apply>
       <sin></sin>
       <ci>θ</ci>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   A_{32}=(1-\cos\theta)e_{3}e_{2}+e_{1}\sin\theta
  </annotation>
 </semantics>
</math>

</p>

<p>

<math display="block" id="Rotation_formalisms_in_three_dimensions:86">
 <semantics>
  <mrow>
   <msub>
    <mi>A</mi>
    <mn>33</mn>
   </msub>
   <mo>=</mo>
   <mrow>
    <mrow>
     <mrow>
      <mo stretchy="false">(</mo>
      <mrow>
       <mn>1</mn>
       <mo>-</mo>
       <mrow>
        <mi>cos</mi>
        <mi>θ</mi>
       </mrow>
      </mrow>
      <mo stretchy="false">)</mo>
     </mrow>
     <msubsup>
      <mi>e</mi>
      <mn>3</mn>
      <mn>2</mn>
     </msubsup>
    </mrow>
    <mo>+</mo>
    <mrow>
     <mi>cos</mi>
     <mi>θ</mi>
    </mrow>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <csymbol cd="ambiguous">subscript</csymbol>
     <ci>A</ci>
     <cn type="integer">33</cn>
    </apply>
    <apply>
     <plus></plus>
     <apply>
      <times></times>
      <apply>
       <minus></minus>
       <cn type="integer">1</cn>
       <apply>
        <cos></cos>
        <ci>θ</ci>
       </apply>
      </apply>
      <apply>
       <csymbol cd="ambiguous">superscript</csymbol>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>e</ci>
        <cn type="integer">3</cn>
       </apply>
       <cn type="integer">2</cn>
      </apply>
     </apply>
     <apply>
      <cos></cos>
      <ci>θ</ci>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   A_{33}=(1-\cos\theta)e_{3}^{2}+\cos\theta
  </annotation>
 </semantics>
</math>

 </p>
<h3 id="rotation-matrix-quaternion">Rotation matrix ↔ quaternion</h3>

<p>When computing a quaternion from the rotation matrix there is a sign ambiguity, since 

<math display="inline" id="Rotation_formalisms_in_three_dimensions:87">
 <semantics>
  <mi>𝐪</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>𝐪</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \scriptstyle\mathbf{q}
  </annotation>
 </semantics>
</math>

 and 

<math display="inline" id="Rotation_formalisms_in_three_dimensions:88">
 <semantics>
  <mrow>
   <mo>-</mo>
   <mi>𝐪</mi>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <minus></minus>
    <ci>𝐪</ci>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \scriptstyle-\mathbf{q}
  </annotation>
 </semantics>
</math>

 represent the same rotation.</p>

<p>One way of computing the quaternion 

<math display="inline" id="Rotation_formalisms_in_three_dimensions:89">
 <semantics>
  <mrow>
   <mpadded width="+2.8pt">
    <mi>𝐪</mi>
   </mpadded>
   <mo rspace="5.3pt">=</mo>
   <msup>
    <mrow>
     <mo stretchy="false">[</mo>
     <mrow>
      <mpadded width="+5pt">
       <msub>
        <mi>q</mi>
        <mi>i</mi>
       </msub>
      </mpadded>
      <mpadded width="+5pt">
       <msub>
        <mi>q</mi>
        <mi>j</mi>
       </msub>
      </mpadded>
      <mpadded width="+5pt">
       <msub>
        <mi>q</mi>
        <mi>k</mi>
       </msub>
      </mpadded>
      <msub>
       <mi>q</mi>
       <mi>r</mi>
      </msub>
     </mrow>
     <mo stretchy="false">]</mo>
    </mrow>
    <mi mathvariant="normal">T</mi>
   </msup>
   <mo>=</mo>
   <mrow>
    <mrow>
     <mi>𝐢</mi>
     <msub>
      <mi>q</mi>
      <mi>i</mi>
     </msub>
    </mrow>
    <mo>+</mo>
    <mrow>
     <mi>𝐣</mi>
     <msub>
      <mi>q</mi>
      <mi>j</mi>
     </msub>
    </mrow>
    <mo>+</mo>
    <mrow>
     <mi>𝐤</mi>
     <msub>
      <mi>q</mi>
      <mi>k</mi>
     </msub>
    </mrow>
    <mo>+</mo>
    <msub>
     <mi>q</mi>
     <mi>r</mi>
    </msub>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <and></and>
    <apply>
     <eq></eq>
     <ci>𝐪</ci>
     <apply>
      <csymbol cd="ambiguous">superscript</csymbol>
      <apply>
       <csymbol cd="latexml">delimited-[]</csymbol>
       <apply>
        <times></times>
        <apply>
         <csymbol cd="ambiguous">subscript</csymbol>
         <ci>q</ci>
         <ci>i</ci>
        </apply>
        <apply>
         <csymbol cd="ambiguous">subscript</csymbol>
         <ci>q</ci>
         <ci>j</ci>
        </apply>
        <apply>
         <csymbol cd="ambiguous">subscript</csymbol>
         <ci>q</ci>
         <ci>k</ci>
        </apply>
        <apply>
         <csymbol cd="ambiguous">subscript</csymbol>
         <ci>q</ci>
         <ci>r</ci>
        </apply>
       </apply>
      </apply>
      <ci>normal-T</ci>
     </apply>
    </apply>
    <apply>
     <eq></eq>
     <share href="#.cmml">
     </share>
     <apply>
      <plus></plus>
      <apply>
       <times></times>
       <ci>𝐢</ci>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>q</ci>
        <ci>i</ci>
       </apply>
      </apply>
      <apply>
       <times></times>
       <ci>𝐣</ci>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>q</ci>
        <ci>j</ci>
       </apply>
      </apply>
      <apply>
       <times></times>
       <ci>𝐤</ci>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>q</ci>
        <ci>k</ci>
       </apply>
      </apply>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>q</ci>
       <ci>r</ci>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \scriptstyle\mathbf{q}\;=\;[q_{i}\ q_{j}\ q_{k}\ q_{r}]^{\mathrm{T}}=\mathbf{i%
}q_{i}+\mathbf{j}q_{j}+\mathbf{k}q_{k}+q_{r}
  </annotation>
 </semantics>
</math>

 from the rotation matrix 

<math display="inline" id="Rotation_formalisms_in_three_dimensions:90">
 <semantics>
  <mi>𝐀</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>𝐀</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \scriptstyle\mathbf{A}
  </annotation>
 </semantics>
</math>


 is as follows:</p>

<p>

<math display="inline" id="Rotation_formalisms_in_three_dimensions:91">
 <semantics>
  <msub>
   <mi>q</mi>
   <mi>r</mi>
  </msub>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <csymbol cd="ambiguous">subscript</csymbol>
    <ci>q</ci>
    <ci>r</ci>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \displaystyle q_{r}
  </annotation>
 </semantics>
</math>


</p>

<p>There are three other mathematically equivalent ways to compute 

<math display="inline" id="Rotation_formalisms_in_three_dimensions:92">
 <semantics>
  <mi>𝐪</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>𝐪</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \scriptstyle\mathbf{q}
  </annotation>
 </semantics>
</math>

. Numerical inaccuracy can be reduced by avoiding situations in which the denominator is close to zero. One of the other three methods looks as follows:<a class="footnoteRef" href="#fn4" id="fnref4"><sup>4</sup></a></p>

<p>

<math display="inline" id="Rotation_formalisms_in_three_dimensions:93">
 <semantics>
  <msub>
   <mi>q</mi>
   <mi>i</mi>
  </msub>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <csymbol cd="ambiguous">subscript</csymbol>
    <ci>q</ci>
    <ci>i</ci>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \displaystyle q_{i}
  </annotation>
 </semantics>
</math>


</p>

<p>The rotation matrix corresponding to the quaternion 

<math display="inline" id="Rotation_formalisms_in_three_dimensions:94">
 <semantics>
  <mrow>
   <mpadded width="+2.8pt">
    <mi>𝐪</mi>
   </mpadded>
   <mo rspace="5.3pt">=</mo>
   <msup>
    <mrow>
     <mo stretchy="false">[</mo>
     <mrow>
      <mpadded width="+5pt">
       <msub>
        <mi>q</mi>
        <mi>i</mi>
       </msub>
      </mpadded>
      <mpadded width="+5pt">
       <msub>
        <mi>q</mi>
        <mi>j</mi>
       </msub>
      </mpadded>
      <mpadded width="+5pt">
       <msub>
        <mi>q</mi>
        <mi>k</mi>
       </msub>
      </mpadded>
      <msub>
       <mi>q</mi>
       <mi>r</mi>
      </msub>
     </mrow>
     <mo stretchy="false">]</mo>
    </mrow>
    <mi mathvariant="normal">T</mi>
   </msup>
   <mo>=</mo>
   <mrow>
    <mrow>
     <mi>𝐢</mi>
     <msub>
      <mi>q</mi>
      <mi>i</mi>
     </msub>
    </mrow>
    <mo>+</mo>
    <mrow>
     <mi>𝐣</mi>
     <msub>
      <mi>q</mi>
      <mi>j</mi>
     </msub>
    </mrow>
    <mo>+</mo>
    <mrow>
     <mi>𝐤</mi>
     <msub>
      <mi>q</mi>
      <mi>k</mi>
     </msub>
    </mrow>
    <mo>+</mo>
    <msub>
     <mi>q</mi>
     <mi>r</mi>
    </msub>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <and></and>
    <apply>
     <eq></eq>
     <ci>𝐪</ci>
     <apply>
      <csymbol cd="ambiguous">superscript</csymbol>
      <apply>
       <csymbol cd="latexml">delimited-[]</csymbol>
       <apply>
        <times></times>
        <apply>
         <csymbol cd="ambiguous">subscript</csymbol>
         <ci>q</ci>
         <ci>i</ci>
        </apply>
        <apply>
         <csymbol cd="ambiguous">subscript</csymbol>
         <ci>q</ci>
         <ci>j</ci>
        </apply>
        <apply>
         <csymbol cd="ambiguous">subscript</csymbol>
         <ci>q</ci>
         <ci>k</ci>
        </apply>
        <apply>
         <csymbol cd="ambiguous">subscript</csymbol>
         <ci>q</ci>
         <ci>r</ci>
        </apply>
       </apply>
      </apply>
      <ci>normal-T</ci>
     </apply>
    </apply>
    <apply>
     <eq></eq>
     <share href="#.cmml">
     </share>
     <apply>
      <plus></plus>
      <apply>
       <times></times>
       <ci>𝐢</ci>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>q</ci>
        <ci>i</ci>
       </apply>
      </apply>
      <apply>
       <times></times>
       <ci>𝐣</ci>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>q</ci>
        <ci>j</ci>
       </apply>
      </apply>
      <apply>
       <times></times>
       <ci>𝐤</ci>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>q</ci>
        <ci>k</ci>
       </apply>
      </apply>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>q</ci>
       <ci>r</ci>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \scriptstyle\mathbf{q}\;=\;[q_{i}\ q_{j}\ q_{k}\ q_{r}]^{\mathrm{T}}=\mathbf{i%
}q_{i}+\mathbf{j}q_{j}+\mathbf{k}q_{k}+q_{r}
  </annotation>
 </semantics>
</math>

 can be computed as follows:</p>

<p>

<math display="block" id="Rotation_formalisms_in_three_dimensions:95">
 <semantics>
  <mrow>
   <mi>𝐀</mi>
   <mo>=</mo>
   <mrow>
    <mrow>
     <mrow>
      <mrow>
       <mo stretchy="false">(</mo>
       <mrow>
        <msubsup>
         <mi>q</mi>
         <mi>r</mi>
         <mn>2</mn>
        </msubsup>
        <mo>-</mo>
        <mrow>
         <msup>
          <mover accent="true">
           <mi>𝐪</mi>
           <mo stretchy="false">ˇ</mo>
          </mover>
          <mi mathvariant="normal">T</mi>
         </msup>
         <mover accent="true">
          <mi>𝐪</mi>
          <mo stretchy="false">ˇ</mo>
         </mover>
        </mrow>
       </mrow>
       <mo stretchy="false">)</mo>
      </mrow>
      <msub>
       <mi>𝐈</mi>
       <mn>3</mn>
      </msub>
     </mrow>
     <mo>+</mo>
     <mrow>
      <mn>2</mn>
      <mover accent="true">
       <mi>𝐪</mi>
       <mo stretchy="false">ˇ</mo>
      </mover>
      <msup>
       <mover accent="true">
        <mi>𝐪</mi>
        <mo stretchy="false">ˇ</mo>
       </mover>
       <mi mathvariant="normal">T</mi>
      </msup>
     </mrow>
    </mrow>
    <mo>-</mo>
    <mrow>
     <mn>2</mn>
     <msub>
      <mi>q</mi>
      <mi>r</mi>
     </msub>
     <mi class="ltx_font_mathcaligraphic">𝒬</mi>
    </mrow>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <ci>𝐀</ci>
    <apply>
     <minus></minus>
     <apply>
      <plus></plus>
      <apply>
       <times></times>
       <apply>
        <minus></minus>
        <apply>
         <csymbol cd="ambiguous">superscript</csymbol>
         <apply>
          <csymbol cd="ambiguous">subscript</csymbol>
          <ci>q</ci>
          <ci>r</ci>
         </apply>
         <cn type="integer">2</cn>
        </apply>
        <apply>
         <times></times>
         <apply>
          <csymbol cd="ambiguous">superscript</csymbol>
          <apply>
           <ci>normal-ˇ</ci>
           <ci>𝐪</ci>
          </apply>
          <ci>normal-T</ci>
         </apply>
         <apply>
          <ci>normal-ˇ</ci>
          <ci>𝐪</ci>
         </apply>
        </apply>
       </apply>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>𝐈</ci>
        <cn type="integer">3</cn>
       </apply>
      </apply>
      <apply>
       <times></times>
       <cn type="integer">2</cn>
       <apply>
        <ci>normal-ˇ</ci>
        <ci>𝐪</ci>
       </apply>
       <apply>
        <csymbol cd="ambiguous">superscript</csymbol>
        <apply>
         <ci>normal-ˇ</ci>
         <ci>𝐪</ci>
        </apply>
        <ci>normal-T</ci>
       </apply>
      </apply>
     </apply>
     <apply>
      <times></times>
      <cn type="integer">2</cn>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>q</ci>
       <ci>r</ci>
      </apply>
      <ci>𝒬</ci>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \mathbf{A}=(q_{r}^{2}-\check{\mathbf{q}}^{\mathrm{T}}\check{\mathbf{q}})%
\mathbf{I}_{3}+2\check{\mathbf{q}}\check{\mathbf{q}}^{\mathrm{T}}-2q_{r}%
\mathbf{\mathcal{Q}}
  </annotation>
 </semantics>
</math>

</p>

<p>with 

<math display="inline" id="Rotation_formalisms_in_three_dimensions:96">
 <semantics>
  <msub>
   <mi>𝐈</mi>
   <mn>3</mn>
  </msub>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <csymbol cd="ambiguous">subscript</csymbol>
    <ci>𝐈</ci>
    <cn type="integer">3</cn>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \scriptstyle\mathbf{I}_{3}
  </annotation>
 </semantics>
</math>

 the  identity matrix, and</p>

<p>

<math display="block" id="Rotation_formalisms_in_three_dimensions:97">
 <semantics>
  <mrow>
   <mrow>
    <mover accent="true">
     <mi>𝐪</mi>
     <mo stretchy="false">ˇ</mo>
    </mover>
    <mo>=</mo>
    <mrow>
     <mo>[</mo>
     <mtable displaystyle="true">
      <mtr>
       <mtd columnalign="center">
        <msub>
         <mi>q</mi>
         <mi>i</mi>
        </msub>
       </mtd>
      </mtr>
      <mtr>
       <mtd columnalign="center">
        <msub>
         <mi>q</mi>
         <mi>j</mi>
        </msub>
       </mtd>
      </mtr>
      <mtr>
       <mtd columnalign="center">
        <msub>
         <mi>q</mi>
         <mi>k</mi>
        </msub>
       </mtd>
      </mtr>
     </mtable>
     <mo>]</mo>
    </mrow>
   </mrow>
   <mo rspace="17.5pt">,</mo>
   <mrow>
    <mi class="ltx_font_mathcaligraphic">𝒬</mi>
    <mo>=</mo>
    <mrow>
     <mo>[</mo>
     <mtable displaystyle="true">
      <mtr>
       <mtd columnalign="center">
        <mn>0</mn>
       </mtd>
       <mtd columnalign="center">
        <mrow>
         <mo>-</mo>
         <msub>
          <mi>q</mi>
          <mi>k</mi>
         </msub>
        </mrow>
       </mtd>
       <mtd columnalign="center">
        <msub>
         <mi>q</mi>
         <mi>j</mi>
        </msub>
       </mtd>
      </mtr>
      <mtr>
       <mtd columnalign="center">
        <msub>
         <mi>q</mi>
         <mi>k</mi>
        </msub>
       </mtd>
       <mtd columnalign="center">
        <mn>0</mn>
       </mtd>
       <mtd columnalign="center">
        <mrow>
         <mo>-</mo>
         <msub>
          <mi>q</mi>
          <mi>i</mi>
         </msub>
        </mrow>
       </mtd>
      </mtr>
      <mtr>
       <mtd columnalign="center">
        <mrow>
         <mo>-</mo>
         <msub>
          <mi>q</mi>
          <mi>j</mi>
         </msub>
        </mrow>
       </mtd>
       <mtd columnalign="center">
        <msub>
         <mi>q</mi>
         <mi>i</mi>
        </msub>
       </mtd>
       <mtd columnalign="center">
        <mn>0</mn>
       </mtd>
      </mtr>
     </mtable>
     <mo>]</mo>
    </mrow>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <csymbol cd="ambiguous">formulae-sequence</csymbol>
    <apply>
     <eq></eq>
     <apply>
      <ci>normal-ˇ</ci>
      <ci>𝐪</ci>
     </apply>
     <apply>
      <csymbol cd="latexml">delimited-[]</csymbol>
      <matrix>
       <matrixrow>
        <apply>
         <csymbol cd="ambiguous">subscript</csymbol>
         <ci>q</ci>
         <ci>i</ci>
        </apply>
       </matrixrow>
       <matrixrow>
        <apply>
         <csymbol cd="ambiguous">subscript</csymbol>
         <ci>q</ci>
         <ci>j</ci>
        </apply>
       </matrixrow>
       <matrixrow>
        <apply>
         <csymbol cd="ambiguous">subscript</csymbol>
         <ci>q</ci>
         <ci>k</ci>
        </apply>
       </matrixrow>
      </matrix>
     </apply>
    </apply>
    <apply>
     <eq></eq>
     <ci>𝒬</ci>
     <apply>
      <csymbol cd="latexml">delimited-[]</csymbol>
      <matrix>
       <matrixrow>
        <cn type="integer">0</cn>
        <apply>
         <minus></minus>
         <apply>
          <csymbol cd="ambiguous">subscript</csymbol>
          <ci>q</ci>
          <ci>k</ci>
         </apply>
        </apply>
        <apply>
         <csymbol cd="ambiguous">subscript</csymbol>
         <ci>q</ci>
         <ci>j</ci>
        </apply>
       </matrixrow>
       <matrixrow>
        <apply>
         <csymbol cd="ambiguous">subscript</csymbol>
         <ci>q</ci>
         <ci>k</ci>
        </apply>
        <cn type="integer">0</cn>
        <apply>
         <minus></minus>
         <apply>
          <csymbol cd="ambiguous">subscript</csymbol>
          <ci>q</ci>
          <ci>i</ci>
         </apply>
        </apply>
       </matrixrow>
       <matrixrow>
        <apply>
         <minus></minus>
         <apply>
          <csymbol cd="ambiguous">subscript</csymbol>
          <ci>q</ci>
          <ci>j</ci>
         </apply>
        </apply>
        <apply>
         <csymbol cd="ambiguous">subscript</csymbol>
         <ci>q</ci>
         <ci>i</ci>
        </apply>
        <cn type="integer">0</cn>
       </matrixrow>
      </matrix>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \check{\mathbf{q}}=\left[\begin{array}[]{c}q_{i}\\
q_{j}\\
q_{k}\end{array}\right],\ \ \ \mathbf{\mathcal{Q}}=\left[\begin{array}[]{ccc}0%
&-q_{k}&q_{j}\\
q_{k}&0&-q_{i}\\
-q_{j}&q_{i}&0\end{array}\right]
  </annotation>
 </semantics>
</math>

</p>

<p>which gives</p>

<p>

<math display="block" id="Rotation_formalisms_in_three_dimensions:98">
 <semantics>
  <mrow>
   <mi>𝐀</mi>
   <mo>=</mo>
   <mrow>
    <mo>[</mo>
    <mtable displaystyle="true">
     <mtr>
      <mtd columnalign="center">
       <mrow>
        <mn>1</mn>
        <mo>-</mo>
        <mrow>
         <mn>2</mn>
         <msubsup>
          <mi>q</mi>
          <mi>j</mi>
          <mn>2</mn>
         </msubsup>
        </mrow>
        <mo>-</mo>
        <mrow>
         <mn>2</mn>
         <msubsup>
          <mi>q</mi>
          <mi>k</mi>
          <mn>2</mn>
         </msubsup>
        </mrow>
       </mrow>
      </mtd>
      <mtd columnalign="center">
       <mrow>
        <mn>2</mn>
        <mrow>
         <mo stretchy="false">(</mo>
         <mrow>
          <mrow>
           <msub>
            <mi>q</mi>
            <mi>i</mi>
           </msub>
           <msub>
            <mi>q</mi>
            <mi>j</mi>
           </msub>
          </mrow>
          <mo>+</mo>
          <mrow>
           <msub>
            <mi>q</mi>
            <mi>k</mi>
           </msub>
           <msub>
            <mi>q</mi>
            <mi>r</mi>
           </msub>
          </mrow>
         </mrow>
         <mo stretchy="false">)</mo>
        </mrow>
       </mrow>
      </mtd>
      <mtd columnalign="center">
       <mrow>
        <mn>2</mn>
        <mrow>
         <mo stretchy="false">(</mo>
         <mrow>
          <mrow>
           <msub>
            <mi>q</mi>
            <mi>i</mi>
           </msub>
           <msub>
            <mi>q</mi>
            <mi>k</mi>
           </msub>
          </mrow>
          <mo>-</mo>
          <mrow>
           <msub>
            <mi>q</mi>
            <mi>j</mi>
           </msub>
           <msub>
            <mi>q</mi>
            <mi>r</mi>
           </msub>
          </mrow>
         </mrow>
         <mo stretchy="false">)</mo>
        </mrow>
       </mrow>
      </mtd>
     </mtr>
     <mtr>
      <mtd columnalign="center">
       <mrow>
        <mn>2</mn>
        <mrow>
         <mo stretchy="false">(</mo>
         <mrow>
          <mrow>
           <msub>
            <mi>q</mi>
            <mi>i</mi>
           </msub>
           <msub>
            <mi>q</mi>
            <mi>j</mi>
           </msub>
          </mrow>
          <mo>-</mo>
          <mrow>
           <msub>
            <mi>q</mi>
            <mi>k</mi>
           </msub>
           <msub>
            <mi>q</mi>
            <mi>r</mi>
           </msub>
          </mrow>
         </mrow>
         <mo stretchy="false">)</mo>
        </mrow>
       </mrow>
      </mtd>
      <mtd columnalign="center">
       <mrow>
        <mn>1</mn>
        <mo>-</mo>
        <mrow>
         <mn>2</mn>
         <msubsup>
          <mi>q</mi>
          <mi>i</mi>
          <mn>2</mn>
         </msubsup>
        </mrow>
        <mo>-</mo>
        <mrow>
         <mn>2</mn>
         <msubsup>
          <mi>q</mi>
          <mi>k</mi>
          <mn>2</mn>
         </msubsup>
        </mrow>
       </mrow>
      </mtd>
      <mtd columnalign="center">
       <mrow>
        <mn>2</mn>
        <mrow>
         <mo stretchy="false">(</mo>
         <mrow>
          <mrow>
           <msub>
            <mi>q</mi>
            <mi>i</mi>
           </msub>
           <msub>
            <mi>q</mi>
            <mi>r</mi>
           </msub>
          </mrow>
          <mo>+</mo>
          <mrow>
           <msub>
            <mi>q</mi>
            <mi>j</mi>
           </msub>
           <msub>
            <mi>q</mi>
            <mi>k</mi>
           </msub>
          </mrow>
         </mrow>
         <mo stretchy="false">)</mo>
        </mrow>
       </mrow>
      </mtd>
     </mtr>
     <mtr>
      <mtd columnalign="center">
       <mrow>
        <mn>2</mn>
        <mrow>
         <mo stretchy="false">(</mo>
         <mrow>
          <mrow>
           <msub>
            <mi>q</mi>
            <mi>i</mi>
           </msub>
           <msub>
            <mi>q</mi>
            <mi>k</mi>
           </msub>
          </mrow>
          <mo>+</mo>
          <mrow>
           <msub>
            <mi>q</mi>
            <mi>j</mi>
           </msub>
           <msub>
            <mi>q</mi>
            <mi>r</mi>
           </msub>
          </mrow>
         </mrow>
         <mo stretchy="false">)</mo>
        </mrow>
       </mrow>
      </mtd>
      <mtd columnalign="center">
       <mrow>
        <mn>2</mn>
        <mrow>
         <mo stretchy="false">(</mo>
         <mrow>
          <mrow>
           <msub>
            <mi>q</mi>
            <mi>j</mi>
           </msub>
           <msub>
            <mi>q</mi>
            <mi>k</mi>
           </msub>
          </mrow>
          <mo>-</mo>
          <mrow>
           <msub>
            <mi>q</mi>
            <mi>i</mi>
           </msub>
           <msub>
            <mi>q</mi>
            <mi>r</mi>
           </msub>
          </mrow>
         </mrow>
         <mo stretchy="false">)</mo>
        </mrow>
       </mrow>
      </mtd>
      <mtd columnalign="center">
       <mrow>
        <mn>1</mn>
        <mo>-</mo>
        <mrow>
         <mn>2</mn>
         <msubsup>
          <mi>q</mi>
          <mi>i</mi>
          <mn>2</mn>
         </msubsup>
        </mrow>
        <mo>-</mo>
        <mrow>
         <mn>2</mn>
         <msubsup>
          <mi>q</mi>
          <mi>j</mi>
          <mn>2</mn>
         </msubsup>
        </mrow>
       </mrow>
      </mtd>
     </mtr>
    </mtable>
    <mo>]</mo>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <ci>𝐀</ci>
    <apply>
     <csymbol cd="latexml">delimited-[]</csymbol>
     <matrix>
      <matrixrow>
       <apply>
        <minus></minus>
        <cn type="integer">1</cn>
        <apply>
         <times></times>
         <cn type="integer">2</cn>
         <apply>
          <csymbol cd="ambiguous">superscript</csymbol>
          <apply>
           <csymbol cd="ambiguous">subscript</csymbol>
           <ci>q</ci>
           <ci>j</ci>
          </apply>
          <cn type="integer">2</cn>
         </apply>
        </apply>
        <apply>
         <times></times>
         <cn type="integer">2</cn>
         <apply>
          <csymbol cd="ambiguous">superscript</csymbol>
          <apply>
           <csymbol cd="ambiguous">subscript</csymbol>
           <ci>q</ci>
           <ci>k</ci>
          </apply>
          <cn type="integer">2</cn>
         </apply>
        </apply>
       </apply>
       <apply>
        <times></times>
        <cn type="integer">2</cn>
        <apply>
         <plus></plus>
         <apply>
          <times></times>
          <apply>
           <csymbol cd="ambiguous">subscript</csymbol>
           <ci>q</ci>
           <ci>i</ci>
          </apply>
          <apply>
           <csymbol cd="ambiguous">subscript</csymbol>
           <ci>q</ci>
           <ci>j</ci>
          </apply>
         </apply>
         <apply>
          <times></times>
          <apply>
           <csymbol cd="ambiguous">subscript</csymbol>
           <ci>q</ci>
           <ci>k</ci>
          </apply>
          <apply>
           <csymbol cd="ambiguous">subscript</csymbol>
           <ci>q</ci>
           <ci>r</ci>
          </apply>
         </apply>
        </apply>
       </apply>
       <apply>
        <times></times>
        <cn type="integer">2</cn>
        <apply>
         <minus></minus>
         <apply>
          <times></times>
          <apply>
           <csymbol cd="ambiguous">subscript</csymbol>
           <ci>q</ci>
           <ci>i</ci>
          </apply>
          <apply>
           <csymbol cd="ambiguous">subscript</csymbol>
           <ci>q</ci>
           <ci>k</ci>
          </apply>
         </apply>
         <apply>
          <times></times>
          <apply>
           <csymbol cd="ambiguous">subscript</csymbol>
           <ci>q</ci>
           <ci>j</ci>
          </apply>
          <apply>
           <csymbol cd="ambiguous">subscript</csymbol>
           <ci>q</ci>
           <ci>r</ci>
          </apply>
         </apply>
        </apply>
       </apply>
      </matrixrow>
      <matrixrow>
       <apply>
        <times></times>
        <cn type="integer">2</cn>
        <apply>
         <minus></minus>
         <apply>
          <times></times>
          <apply>
           <csymbol cd="ambiguous">subscript</csymbol>
           <ci>q</ci>
           <ci>i</ci>
          </apply>
          <apply>
           <csymbol cd="ambiguous">subscript</csymbol>
           <ci>q</ci>
           <ci>j</ci>
          </apply>
         </apply>
         <apply>
          <times></times>
          <apply>
           <csymbol cd="ambiguous">subscript</csymbol>
           <ci>q</ci>
           <ci>k</ci>
          </apply>
          <apply>
           <csymbol cd="ambiguous">subscript</csymbol>
           <ci>q</ci>
           <ci>r</ci>
          </apply>
         </apply>
        </apply>
       </apply>
       <apply>
        <minus></minus>
        <cn type="integer">1</cn>
        <apply>
         <times></times>
         <cn type="integer">2</cn>
         <apply>
          <csymbol cd="ambiguous">superscript</csymbol>
          <apply>
           <csymbol cd="ambiguous">subscript</csymbol>
           <ci>q</ci>
           <ci>i</ci>
          </apply>
          <cn type="integer">2</cn>
         </apply>
        </apply>
        <apply>
         <times></times>
         <cn type="integer">2</cn>
         <apply>
          <csymbol cd="ambiguous">superscript</csymbol>
          <apply>
           <csymbol cd="ambiguous">subscript</csymbol>
           <ci>q</ci>
           <ci>k</ci>
          </apply>
          <cn type="integer">2</cn>
         </apply>
        </apply>
       </apply>
       <apply>
        <times></times>
        <cn type="integer">2</cn>
        <apply>
         <plus></plus>
         <apply>
          <times></times>
          <apply>
           <csymbol cd="ambiguous">subscript</csymbol>
           <ci>q</ci>
           <ci>i</ci>
          </apply>
          <apply>
           <csymbol cd="ambiguous">subscript</csymbol>
           <ci>q</ci>
           <ci>r</ci>
          </apply>
         </apply>
         <apply>
          <times></times>
          <apply>
           <csymbol cd="ambiguous">subscript</csymbol>
           <ci>q</ci>
           <ci>j</ci>
          </apply>
          <apply>
           <csymbol cd="ambiguous">subscript</csymbol>
           <ci>q</ci>
           <ci>k</ci>
          </apply>
         </apply>
        </apply>
       </apply>
      </matrixrow>
      <matrixrow>
       <apply>
        <times></times>
        <cn type="integer">2</cn>
        <apply>
         <plus></plus>
         <apply>
          <times></times>
          <apply>
           <csymbol cd="ambiguous">subscript</csymbol>
           <ci>q</ci>
           <ci>i</ci>
          </apply>
          <apply>
           <csymbol cd="ambiguous">subscript</csymbol>
           <ci>q</ci>
           <ci>k</ci>
          </apply>
         </apply>
         <apply>
          <times></times>
          <apply>
           <csymbol cd="ambiguous">subscript</csymbol>
           <ci>q</ci>
           <ci>j</ci>
          </apply>
          <apply>
           <csymbol cd="ambiguous">subscript</csymbol>
           <ci>q</ci>
           <ci>r</ci>
          </apply>
         </apply>
        </apply>
       </apply>
       <apply>
        <times></times>
        <cn type="integer">2</cn>
        <apply>
         <minus></minus>
         <apply>
          <times></times>
          <apply>
           <csymbol cd="ambiguous">subscript</csymbol>
           <ci>q</ci>
           <ci>j</ci>
          </apply>
          <apply>
           <csymbol cd="ambiguous">subscript</csymbol>
           <ci>q</ci>
           <ci>k</ci>
          </apply>
         </apply>
         <apply>
          <times></times>
          <apply>
           <csymbol cd="ambiguous">subscript</csymbol>
           <ci>q</ci>
           <ci>i</ci>
          </apply>
          <apply>
           <csymbol cd="ambiguous">subscript</csymbol>
           <ci>q</ci>
           <ci>r</ci>
          </apply>
         </apply>
        </apply>
       </apply>
       <apply>
        <minus></minus>
        <cn type="integer">1</cn>
        <apply>
         <times></times>
         <cn type="integer">2</cn>
         <apply>
          <csymbol cd="ambiguous">superscript</csymbol>
          <apply>
           <csymbol cd="ambiguous">subscript</csymbol>
           <ci>q</ci>
           <ci>i</ci>
          </apply>
          <cn type="integer">2</cn>
         </apply>
        </apply>
        <apply>
         <times></times>
         <cn type="integer">2</cn>
         <apply>
          <csymbol cd="ambiguous">superscript</csymbol>
          <apply>
           <csymbol cd="ambiguous">subscript</csymbol>
           <ci>q</ci>
           <ci>j</ci>
          </apply>
          <cn type="integer">2</cn>
         </apply>
        </apply>
       </apply>
      </matrixrow>
     </matrix>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \mathbf{A}=\left[\begin{array}[]{ccc}1-2q_{j}^{2}-2q_{k}^{2}&2(q_{i}q_{j}+q_{k%
}q_{r})&2(q_{i}q_{k}-q_{j}q_{r})\\
2(q_{i}q_{j}-q_{k}q_{r})&1-2q_{i}^{2}-2q_{k}^{2}&2(q_{i}q_{r}+q_{j}q_{k})\\
2(q_{i}q_{k}+q_{j}q_{r})&2(q_{j}q_{k}-q_{i}q_{r})&1-2q_{i}^{2}-2q_{j}^{2}\end{%
array}\right]
  </annotation>
 </semantics>
</math>

</p>

<p>or equivalently</p>

<p>

<math display="block" id="Rotation_formalisms_in_three_dimensions:99">
 <semantics>
  <mrow>
   <mi>𝐀</mi>
   <mo>=</mo>
   <mrow>
    <mo>[</mo>
    <mtable displaystyle="true">
     <mtr>
      <mtd columnalign="center">
       <mrow>
        <mrow>
         <mo>-</mo>
         <mn>1</mn>
        </mrow>
        <mo>+</mo>
        <mrow>
         <mn>2</mn>
         <msubsup>
          <mi>q</mi>
          <mi>i</mi>
          <mn>2</mn>
         </msubsup>
        </mrow>
        <mo>+</mo>
        <mrow>
         <mn>2</mn>
         <msubsup>
          <mi>q</mi>
          <mi>r</mi>
          <mn>2</mn>
         </msubsup>
        </mrow>
       </mrow>
      </mtd>
      <mtd columnalign="center">
       <mrow>
        <mn>2</mn>
        <mrow>
         <mo stretchy="false">(</mo>
         <mrow>
          <mrow>
           <msub>
            <mi>q</mi>
            <mi>i</mi>
           </msub>
           <msub>
            <mi>q</mi>
            <mi>j</mi>
           </msub>
          </mrow>
          <mo>+</mo>
          <mrow>
           <msub>
            <mi>q</mi>
            <mi>k</mi>
           </msub>
           <msub>
            <mi>q</mi>
            <mi>r</mi>
           </msub>
          </mrow>
         </mrow>
         <mo stretchy="false">)</mo>
        </mrow>
       </mrow>
      </mtd>
      <mtd columnalign="center">
       <mrow>
        <mn>2</mn>
        <mrow>
         <mo stretchy="false">(</mo>
         <mrow>
          <mrow>
           <msub>
            <mi>q</mi>
            <mi>i</mi>
           </msub>
           <msub>
            <mi>q</mi>
            <mi>k</mi>
           </msub>
          </mrow>
          <mo>-</mo>
          <mrow>
           <msub>
            <mi>q</mi>
            <mi>j</mi>
           </msub>
           <msub>
            <mi>q</mi>
            <mi>r</mi>
           </msub>
          </mrow>
         </mrow>
         <mo stretchy="false">)</mo>
        </mrow>
       </mrow>
      </mtd>
     </mtr>
     <mtr>
      <mtd columnalign="center">
       <mrow>
        <mn>2</mn>
        <mrow>
         <mo stretchy="false">(</mo>
         <msub>
          <mi>q</mi>
          <mi>i</mi>
         </msub>
         <msub>
          <mi>q</mi>
          <mi>j</mi>
         </msub>
         <mo>-</mo>
         <msub>
          <mi>q</mi>
          <mi>k</mi>
         </msub>
         <msub>
          <mi>q</mi>
          <mi>r</mi>
         </msub>
        </mrow>
       </mrow>
      </mtd>
      <mtd columnalign="center">
       <mrow>
        <mrow>
         <mo>-</mo>
         <mn>1</mn>
        </mrow>
        <mo>+</mo>
        <mrow>
         <mn>2</mn>
         <msubsup>
          <mi>q</mi>
          <mi>j</mi>
          <mn>2</mn>
         </msubsup>
        </mrow>
        <mo>+</mo>
        <mrow>
         <mn>2</mn>
         <msubsup>
          <mi>q</mi>
          <mi>r</mi>
          <mn>2</mn>
         </msubsup>
        </mrow>
       </mrow>
      </mtd>
      <mtd columnalign="center">
       <mrow>
        <mn>2</mn>
        <mrow>
         <mo stretchy="false">(</mo>
         <mrow>
          <mrow>
           <msub>
            <mi>q</mi>
            <mi>i</mi>
           </msub>
           <msub>
            <mi>q</mi>
            <mi>r</mi>
           </msub>
          </mrow>
          <mo>+</mo>
          <mrow>
           <msub>
            <mi>q</mi>
            <mi>j</mi>
           </msub>
           <msub>
            <mi>q</mi>
            <mi>k</mi>
           </msub>
          </mrow>
         </mrow>
         <mo stretchy="false">)</mo>
        </mrow>
       </mrow>
      </mtd>
     </mtr>
     <mtr>
      <mtd columnalign="center">
       <mrow>
        <mn>2</mn>
        <mrow>
         <mo stretchy="false">(</mo>
         <mrow>
          <mrow>
           <msub>
            <mi>q</mi>
            <mi>i</mi>
           </msub>
           <msub>
            <mi>q</mi>
            <mi>k</mi>
           </msub>
          </mrow>
          <mo>+</mo>
          <mrow>
           <msub>
            <mi>q</mi>
            <mi>j</mi>
           </msub>
           <msub>
            <mi>q</mi>
            <mi>r</mi>
           </msub>
          </mrow>
         </mrow>
         <mo stretchy="false">)</mo>
        </mrow>
       </mrow>
      </mtd>
      <mtd columnalign="center">
       <mrow>
        <mn>2</mn>
        <mrow>
         <mo stretchy="false">(</mo>
         <mrow>
          <mrow>
           <msub>
            <mi>q</mi>
            <mi>j</mi>
           </msub>
           <msub>
            <mi>q</mi>
            <mi>k</mi>
           </msub>
          </mrow>
          <mo>-</mo>
          <mrow>
           <msub>
            <mi>q</mi>
            <mi>i</mi>
           </msub>
           <msub>
            <mi>q</mi>
            <mi>r</mi>
           </msub>
          </mrow>
         </mrow>
         <mo stretchy="false">)</mo>
        </mrow>
       </mrow>
      </mtd>
      <mtd columnalign="center">
       <mrow>
        <mrow>
         <mo>-</mo>
         <mn>1</mn>
        </mrow>
        <mo>+</mo>
        <mrow>
         <mn>2</mn>
         <msubsup>
          <mi>q</mi>
          <mi>k</mi>
          <mn>2</mn>
         </msubsup>
        </mrow>
        <mo>+</mo>
        <mrow>
         <mn>2</mn>
         <msubsup>
          <mi>q</mi>
          <mi>r</mi>
          <mn>2</mn>
         </msubsup>
        </mrow>
       </mrow>
      </mtd>
     </mtr>
    </mtable>
    <mo>]</mo>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <ci>𝐀</ci>
    <apply>
     <csymbol cd="latexml">delimited-[]</csymbol>
     <matrix>
      <matrixrow>
       <apply>
        <plus></plus>
        <apply>
         <minus></minus>
         <cn type="integer">1</cn>
        </apply>
        <apply>
         <times></times>
         <cn type="integer">2</cn>
         <apply>
          <csymbol cd="ambiguous">superscript</csymbol>
          <apply>
           <csymbol cd="ambiguous">subscript</csymbol>
           <ci>q</ci>
           <ci>i</ci>
          </apply>
          <cn type="integer">2</cn>
         </apply>
        </apply>
        <apply>
         <times></times>
         <cn type="integer">2</cn>
         <apply>
          <csymbol cd="ambiguous">superscript</csymbol>
          <apply>
           <csymbol cd="ambiguous">subscript</csymbol>
           <ci>q</ci>
           <ci>r</ci>
          </apply>
          <cn type="integer">2</cn>
         </apply>
        </apply>
       </apply>
       <apply>
        <times></times>
        <cn type="integer">2</cn>
        <apply>
         <plus></plus>
         <apply>
          <times></times>
          <apply>
           <csymbol cd="ambiguous">subscript</csymbol>
           <ci>q</ci>
           <ci>i</ci>
          </apply>
          <apply>
           <csymbol cd="ambiguous">subscript</csymbol>
           <ci>q</ci>
           <ci>j</ci>
          </apply>
         </apply>
         <apply>
          <times></times>
          <apply>
           <csymbol cd="ambiguous">subscript</csymbol>
           <ci>q</ci>
           <ci>k</ci>
          </apply>
          <apply>
           <csymbol cd="ambiguous">subscript</csymbol>
           <ci>q</ci>
           <ci>r</ci>
          </apply>
         </apply>
        </apply>
       </apply>
       <apply>
        <times></times>
        <cn type="integer">2</cn>
        <apply>
         <minus></minus>
         <apply>
          <times></times>
          <apply>
           <csymbol cd="ambiguous">subscript</csymbol>
           <ci>q</ci>
           <ci>i</ci>
          </apply>
          <apply>
           <csymbol cd="ambiguous">subscript</csymbol>
           <ci>q</ci>
           <ci>k</ci>
          </apply>
         </apply>
         <apply>
          <times></times>
          <apply>
           <csymbol cd="ambiguous">subscript</csymbol>
           <ci>q</ci>
           <ci>j</ci>
          </apply>
          <apply>
           <csymbol cd="ambiguous">subscript</csymbol>
           <ci>q</ci>
           <ci>r</ci>
          </apply>
         </apply>
        </apply>
       </apply>
      </matrixrow>
      <matrixrow>
       <cerror>
        <csymbol cd="ambiguous">fragments</csymbol>
        <cn type="integer">2</cn>
        <cerror>
         <csymbol cd="ambiguous">fragments</csymbol>
         <ci>normal-(</ci>
         <apply>
          <csymbol cd="ambiguous">subscript</csymbol>
          <ci>q</ci>
          <ci>i</ci>
         </apply>
         <apply>
          <csymbol cd="ambiguous">subscript</csymbol>
          <ci>q</ci>
          <ci>j</ci>
         </apply>
         <minus></minus>
         <apply>
          <csymbol cd="ambiguous">subscript</csymbol>
          <ci>q</ci>
          <ci>k</ci>
         </apply>
         <apply>
          <csymbol cd="ambiguous">subscript</csymbol>
          <ci>q</ci>
          <ci>r</ci>
         </apply>
        </cerror>
       </cerror>
       <apply>
        <plus></plus>
        <apply>
         <minus></minus>
         <cn type="integer">1</cn>
        </apply>
        <apply>
         <times></times>
         <cn type="integer">2</cn>
         <apply>
          <csymbol cd="ambiguous">superscript</csymbol>
          <apply>
           <csymbol cd="ambiguous">subscript</csymbol>
           <ci>q</ci>
           <ci>j</ci>
          </apply>
          <cn type="integer">2</cn>
         </apply>
        </apply>
        <apply>
         <times></times>
         <cn type="integer">2</cn>
         <apply>
          <csymbol cd="ambiguous">superscript</csymbol>
          <apply>
           <csymbol cd="ambiguous">subscript</csymbol>
           <ci>q</ci>
           <ci>r</ci>
          </apply>
          <cn type="integer">2</cn>
         </apply>
        </apply>
       </apply>
       <apply>
        <times></times>
        <cn type="integer">2</cn>
        <apply>
         <plus></plus>
         <apply>
          <times></times>
          <apply>
           <csymbol cd="ambiguous">subscript</csymbol>
           <ci>q</ci>
           <ci>i</ci>
          </apply>
          <apply>
           <csymbol cd="ambiguous">subscript</csymbol>
           <ci>q</ci>
           <ci>r</ci>
          </apply>
         </apply>
         <apply>
          <times></times>
          <apply>
           <csymbol cd="ambiguous">subscript</csymbol>
           <ci>q</ci>
           <ci>j</ci>
          </apply>
          <apply>
           <csymbol cd="ambiguous">subscript</csymbol>
           <ci>q</ci>
           <ci>k</ci>
          </apply>
         </apply>
        </apply>
       </apply>
      </matrixrow>
      <matrixrow>
       <apply>
        <times></times>
        <cn type="integer">2</cn>
        <apply>
         <plus></plus>
         <apply>
          <times></times>
          <apply>
           <csymbol cd="ambiguous">subscript</csymbol>
           <ci>q</ci>
           <ci>i</ci>
          </apply>
          <apply>
           <csymbol cd="ambiguous">subscript</csymbol>
           <ci>q</ci>
           <ci>k</ci>
          </apply>
         </apply>
         <apply>
          <times></times>
          <apply>
           <csymbol cd="ambiguous">subscript</csymbol>
           <ci>q</ci>
           <ci>j</ci>
          </apply>
          <apply>
           <csymbol cd="ambiguous">subscript</csymbol>
           <ci>q</ci>
           <ci>r</ci>
          </apply>
         </apply>
        </apply>
       </apply>
       <apply>
        <times></times>
        <cn type="integer">2</cn>
        <apply>
         <minus></minus>
         <apply>
          <times></times>
          <apply>
           <csymbol cd="ambiguous">subscript</csymbol>
           <ci>q</ci>
           <ci>j</ci>
          </apply>
          <apply>
           <csymbol cd="ambiguous">subscript</csymbol>
           <ci>q</ci>
           <ci>k</ci>
          </apply>
         </apply>
         <apply>
          <times></times>
          <apply>
           <csymbol cd="ambiguous">subscript</csymbol>
           <ci>q</ci>
           <ci>i</ci>
          </apply>
          <apply>
           <csymbol cd="ambiguous">subscript</csymbol>
           <ci>q</ci>
           <ci>r</ci>
          </apply>
         </apply>
        </apply>
       </apply>
       <apply>
        <plus></plus>
        <apply>
         <minus></minus>
         <cn type="integer">1</cn>
        </apply>
        <apply>
         <times></times>
         <cn type="integer">2</cn>
         <apply>
          <csymbol cd="ambiguous">superscript</csymbol>
          <apply>
           <csymbol cd="ambiguous">subscript</csymbol>
           <ci>q</ci>
           <ci>k</ci>
          </apply>
          <cn type="integer">2</cn>
         </apply>
        </apply>
        <apply>
         <times></times>
         <cn type="integer">2</cn>
         <apply>
          <csymbol cd="ambiguous">superscript</csymbol>
          <apply>
           <csymbol cd="ambiguous">subscript</csymbol>
           <ci>q</ci>
           <ci>r</ci>
          </apply>
          <cn type="integer">2</cn>
         </apply>
        </apply>
       </apply>
      </matrixrow>
     </matrix>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \mathbf{A}=\left[\begin{array}[]{ccc}-1+2q_{i}^{2}+2q_{r}^{2}&2(q_{i}q_{j}+q_{%
k}q_{r})&2(q_{i}q_{k}-q_{j}q_{r})\\
2(q_{i}q_{j}-q_{k}q_{r}&-1+2q_{j}^{2}+2q_{r}^{2}&2(q_{i}q_{r}+q_{j}q_{k})\\
2(q_{i}q_{k}+q_{j}q_{r})&2(q_{j}q_{k}-q_{i}q_{r})&-1+2q_{k}^{2}+2q_{r}^{2}\end%
{array}\right]
  </annotation>
 </semantics>
</math>

</p>
<h3 id="euler-angles-quaternion">Euler angles ↔ Quaternion</h3>
<h4 id="euler-angles-z-x-z-extrinsic-quaternion">Euler angles (z-x-z extrinsic) → Quaternion</h4>

<p>We will consider the x-convention 3-1-3 <a href="Euler_angles#Extrinsic_rotations" title="wikilink">extrinsic Euler Angles</a> for the following algorithm. The terms of the algorithm depend on the convention used.</p>

<p>We can compute the quaternion 

<math display="inline" id="Rotation_formalisms_in_three_dimensions:100">
 <semantics>
  <mrow>
   <mi>𝐪</mi>
   <mo>=</mo>
   <msup>
    <mrow>
     <mo stretchy="false">[</mo>
     <mrow>
      <mpadded width="+5pt">
       <msub>
        <mi>q</mi>
        <mi>i</mi>
       </msub>
      </mpadded>
      <mpadded width="+5pt">
       <msub>
        <mi>q</mi>
        <mi>j</mi>
       </msub>
      </mpadded>
      <mpadded width="+5pt">
       <msub>
        <mi>q</mi>
        <mi>k</mi>
       </msub>
      </mpadded>
      <msub>
       <mi>q</mi>
       <mi>r</mi>
      </msub>
     </mrow>
     <mo stretchy="false">]</mo>
    </mrow>
    <mi mathvariant="normal">T</mi>
   </msup>
   <mo>=</mo>
   <mrow>
    <mrow>
     <mi>𝐢</mi>
     <msub>
      <mi>q</mi>
      <mi>i</mi>
     </msub>
    </mrow>
    <mo>+</mo>
    <mrow>
     <mi>𝐣</mi>
     <msub>
      <mi>q</mi>
      <mi>j</mi>
     </msub>
    </mrow>
    <mo>+</mo>
    <mrow>
     <mi>𝐤</mi>
     <msub>
      <mi>q</mi>
      <mi>k</mi>
     </msub>
    </mrow>
    <mo>+</mo>
    <msub>
     <mi>q</mi>
     <mi>r</mi>
    </msub>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <and></and>
    <apply>
     <eq></eq>
     <ci>𝐪</ci>
     <apply>
      <csymbol cd="ambiguous">superscript</csymbol>
      <apply>
       <csymbol cd="latexml">delimited-[]</csymbol>
       <apply>
        <times></times>
        <apply>
         <csymbol cd="ambiguous">subscript</csymbol>
         <ci>q</ci>
         <ci>i</ci>
        </apply>
        <apply>
         <csymbol cd="ambiguous">subscript</csymbol>
         <ci>q</ci>
         <ci>j</ci>
        </apply>
        <apply>
         <csymbol cd="ambiguous">subscript</csymbol>
         <ci>q</ci>
         <ci>k</ci>
        </apply>
        <apply>
         <csymbol cd="ambiguous">subscript</csymbol>
         <ci>q</ci>
         <ci>r</ci>
        </apply>
       </apply>
      </apply>
      <ci>normal-T</ci>
     </apply>
    </apply>
    <apply>
     <eq></eq>
     <share href="#.cmml">
     </share>
     <apply>
      <plus></plus>
      <apply>
       <times></times>
       <ci>𝐢</ci>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>q</ci>
        <ci>i</ci>
       </apply>
      </apply>
      <apply>
       <times></times>
       <ci>𝐣</ci>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>q</ci>
        <ci>j</ci>
       </apply>
      </apply>
      <apply>
       <times></times>
       <ci>𝐤</ci>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>q</ci>
        <ci>k</ci>
       </apply>
      </apply>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>q</ci>
       <ci>r</ci>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \scriptstyle\mathbf{q}=[q_{i}\ q_{j}\ q_{k}\ q_{r}]^{\mathrm{T}}=\mathbf{i}q_{%
i}+\mathbf{j}q_{j}+\mathbf{k}q_{k}+q_{r}
  </annotation>
 </semantics>
</math>

 from the Euler angles 

<math display="inline" id="Rotation_formalisms_in_three_dimensions:101">
 <semantics>
  <mrow>
   <mo stretchy="false">(</mo>
   <mi>ϕ</mi>
   <mo rspace="4.2pt">,</mo>
   <mi>θ</mi>
   <mo rspace="4.2pt">,</mo>
   <mi>ψ</mi>
   <mo stretchy="false">)</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <vector>
    <ci>ϕ</ci>
    <ci>θ</ci>
    <ci>ψ</ci>
   </vector>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \scriptstyle(\phi,\,\theta,\,\psi)
  </annotation>
 </semantics>
</math>

 as follows:</p>

<p>

<math display="inline" id="Rotation_formalisms_in_three_dimensions:102">
 <semantics>
  <msub>
   <mi>q</mi>
   <mi>i</mi>
  </msub>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <csymbol cd="ambiguous">subscript</csymbol>
    <ci>q</ci>
    <ci>i</ci>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \displaystyle q_{i}
  </annotation>
 </semantics>
</math>


</p>
<h4 id="euler-angles-z-y-x-intrinsic-quaternion">Euler angles (z-y’-x″ intrinsic) → Quaternion</h4>

<p>Quaternion equivalent to <a href="Yaw_(rotation)" title="wikilink">yaw</a> (

<math display="inline" id="Rotation_formalisms_in_three_dimensions:103">
 <semantics>
  <mi>ψ</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>ψ</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \psi
  </annotation>
 </semantics>
</math>

), <a href="Pitching_moment" title="wikilink">pitch</a> (

<math display="inline" id="Rotation_formalisms_in_three_dimensions:104">
 <semantics>
  <mi>θ</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>θ</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \theta
  </annotation>
 </semantics>
</math>

) and roll (

<math display="inline" id="Rotation_formalisms_in_three_dimensions:105">
 <semantics>
  <mi>ϕ</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>ϕ</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \phi
  </annotation>
 </semantics>
</math>

) angles or <a href="Euler_angles#Intrinsic_rotations" title="wikilink">intrinsic</a> <a href="Euler_angles#Tait.E2.80.93Bryan_angles" title="wikilink">Tait-Bryan angles</a> following z-y’-x″ convention, can be computed by</p>

<p>

<math display="inline" id="Rotation_formalisms_in_three_dimensions:106">
 <semantics>
  <msub>
   <mi>q</mi>
   <mi>i</mi>
  </msub>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <csymbol cd="ambiguous">subscript</csymbol>
    <ci>q</ci>
    <ci>i</ci>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \displaystyle q_{i}
  </annotation>
 </semantics>
</math>


</p>
<h4 id="quaternion-euler-angles-z-x-z-extrinsic">Quaternion → Euler angles (z-x-z extrinsic)</h4>

<p>Given the rotation quaternion 

<math display="inline" id="Rotation_formalisms_in_three_dimensions:107">
 <semantics>
  <mrow>
   <mi>𝐪</mi>
   <mo>=</mo>
   <msup>
    <mrow>
     <mo stretchy="false">[</mo>
     <mrow>
      <mpadded width="+5pt">
       <msub>
        <mi>q</mi>
        <mi>i</mi>
       </msub>
      </mpadded>
      <mpadded width="+5pt">
       <msub>
        <mi>q</mi>
        <mi>j</mi>
       </msub>
      </mpadded>
      <mpadded width="+5pt">
       <msub>
        <mi>q</mi>
        <mi>k</mi>
       </msub>
      </mpadded>
      <msub>
       <mi>q</mi>
       <mi>r</mi>
      </msub>
     </mrow>
     <mo stretchy="false">]</mo>
    </mrow>
    <mi mathvariant="normal">T</mi>
   </msup>
   <mo>=</mo>
   <mrow>
    <mrow>
     <mi>𝐢</mi>
     <msub>
      <mi>q</mi>
      <mi>i</mi>
     </msub>
    </mrow>
    <mo>+</mo>
    <mrow>
     <mi>𝐣</mi>
     <msub>
      <mi>q</mi>
      <mi>j</mi>
     </msub>
    </mrow>
    <mo>+</mo>
    <mrow>
     <mi>𝐤</mi>
     <msub>
      <mi>q</mi>
      <mi>k</mi>
     </msub>
    </mrow>
    <mo>+</mo>
    <msub>
     <mi>q</mi>
     <mi>r</mi>
    </msub>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <and></and>
    <apply>
     <eq></eq>
     <ci>𝐪</ci>
     <apply>
      <csymbol cd="ambiguous">superscript</csymbol>
      <apply>
       <csymbol cd="latexml">delimited-[]</csymbol>
       <apply>
        <times></times>
        <apply>
         <csymbol cd="ambiguous">subscript</csymbol>
         <ci>q</ci>
         <ci>i</ci>
        </apply>
        <apply>
         <csymbol cd="ambiguous">subscript</csymbol>
         <ci>q</ci>
         <ci>j</ci>
        </apply>
        <apply>
         <csymbol cd="ambiguous">subscript</csymbol>
         <ci>q</ci>
         <ci>k</ci>
        </apply>
        <apply>
         <csymbol cd="ambiguous">subscript</csymbol>
         <ci>q</ci>
         <ci>r</ci>
        </apply>
       </apply>
      </apply>
      <ci>normal-T</ci>
     </apply>
    </apply>
    <apply>
     <eq></eq>
     <share href="#.cmml">
     </share>
     <apply>
      <plus></plus>
      <apply>
       <times></times>
       <ci>𝐢</ci>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>q</ci>
        <ci>i</ci>
       </apply>
      </apply>
      <apply>
       <times></times>
       <ci>𝐣</ci>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>q</ci>
        <ci>j</ci>
       </apply>
      </apply>
      <apply>
       <times></times>
       <ci>𝐤</ci>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>q</ci>
        <ci>k</ci>
       </apply>
      </apply>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>q</ci>
       <ci>r</ci>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \scriptstyle\mathbf{q}=[q_{i}\ q_{j}\ q_{k}\ q_{r}]^{\mathrm{T}}=\mathbf{i}q_{%
i}+\mathbf{j}q_{j}+\mathbf{k}q_{k}+q_{r}
  </annotation>
 </semantics>
</math>

, the x-convention 3-1-3 <a href="Euler_angles#Extrinsic_rotations" title="wikilink">extrinsic Euler Angles</a> 

<math display="inline" id="Rotation_formalisms_in_three_dimensions:108">
 <semantics>
  <mrow>
   <mo stretchy="false">(</mo>
   <mi>ϕ</mi>
   <mo rspace="4.2pt">,</mo>
   <mi>θ</mi>
   <mo rspace="4.2pt">,</mo>
   <mi>ψ</mi>
   <mo stretchy="false">)</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <vector>
    <ci>ϕ</ci>
    <ci>θ</ci>
    <ci>ψ</ci>
   </vector>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \scriptstyle(\phi,\,\theta,\,\psi)
  </annotation>
 </semantics>
</math>

 can be computed by</p>

<p>

<math display="inline" id="Rotation_formalisms_in_three_dimensions:109">
 <semantics>
  <mi>ϕ</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>ϕ</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \displaystyle\phi
  </annotation>
 </semantics>
</math>


</p>
<h4 id="quaternion-euler-angles-z-y-x-intrinsic">Quaternion → Euler angles (z-y’-x″ intrinsic)</h4>

<p>Given the rotation quaternion 

<math display="inline" id="Rotation_formalisms_in_three_dimensions:110">
 <semantics>
  <mrow>
   <mi>𝐪</mi>
   <mo>=</mo>
   <mrow>
    <mrow>
     <mi>𝐢</mi>
     <msub>
      <mi>q</mi>
      <mi>i</mi>
     </msub>
    </mrow>
    <mo>+</mo>
    <mrow>
     <mi>𝐣</mi>
     <msub>
      <mi>q</mi>
      <mi>j</mi>
     </msub>
    </mrow>
    <mo>+</mo>
    <mrow>
     <mi>𝐤</mi>
     <msub>
      <mi>q</mi>
      <mi>k</mi>
     </msub>
    </mrow>
    <mo>+</mo>
    <msub>
     <mi>q</mi>
     <mi>r</mi>
    </msub>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <ci>𝐪</ci>
    <apply>
     <plus></plus>
     <apply>
      <times></times>
      <ci>𝐢</ci>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>q</ci>
       <ci>i</ci>
      </apply>
     </apply>
     <apply>
      <times></times>
      <ci>𝐣</ci>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>q</ci>
       <ci>j</ci>
      </apply>
     </apply>
     <apply>
      <times></times>
      <ci>𝐤</ci>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>q</ci>
       <ci>k</ci>
      </apply>
     </apply>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <ci>q</ci>
      <ci>r</ci>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \scriptstyle\mathbf{q}=\mathbf{i}q_{i}+\mathbf{j}q_{j}+\mathbf{k}q_{k}+q_{r}
  </annotation>
 </semantics>
</math>

, <a href="Yaw_(rotation)" title="wikilink">yaw</a>, <a href="Pitching_moment" title="wikilink">pitch</a> and roll angles or <a href="Euler_angles#Intrinsic_rotations" title="wikilink">intrinsic</a> <a href="Euler_angles#Tait.E2.80.93Bryan_angles" title="wikilink">Tait-Bryan angles</a> following z-y’-x″ convention, can be computed by</p>

<p>

<math display="inline" id="Rotation_formalisms_in_three_dimensions:111">
 <semantics>
  <mrow>
   <mi>y</mi>
   <mi>a</mi>
   <mi>w</mi>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <times></times>
    <ci>y</ci>
    <ci>a</ci>
    <ci>w</ci>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \displaystyle yaw
  </annotation>
 </semantics>
</math>


</p>
<h3 id="euler-axisangle-quaternion">Euler axis/angle ↔ quaternion</h3>

<p>Given the Euler axis 

<math display="inline" id="Rotation_formalisms_in_three_dimensions:112">
 <semantics>
  <mover accent="true">
   <mi>𝐞</mi>
   <mo stretchy="false">^</mo>
  </mover>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <ci>normal-^</ci>
    <ci>𝐞</ci>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \scriptstyle\hat{\mathbf{e}}
  </annotation>
 </semantics>
</math>

 and angle 

<math display="inline" id="Rotation_formalisms_in_three_dimensions:113">
 <semantics>
  <mi>θ</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>θ</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \scriptstyle\theta
  </annotation>
 </semantics>
</math>

, the quaternion</p>

<p>

<math display="block" id="Rotation_formalisms_in_three_dimensions:114">
 <semantics>
  <mrow>
   <mi>𝐪</mi>
   <mo>=</mo>
   <msup>
    <mrow>
     <mo stretchy="false">[</mo>
     <mrow>
      <mpadded width="+5pt">
       <msub>
        <mi>q</mi>
        <mi>i</mi>
       </msub>
      </mpadded>
      <mpadded width="+5pt">
       <msub>
        <mi>q</mi>
        <mi>j</mi>
       </msub>
      </mpadded>
      <mpadded width="+5pt">
       <msub>
        <mi>q</mi>
        <mi>k</mi>
       </msub>
      </mpadded>
      <msub>
       <mi>q</mi>
       <mi>r</mi>
      </msub>
     </mrow>
     <mo stretchy="false">]</mo>
    </mrow>
    <mi mathvariant="normal">T</mi>
   </msup>
   <mo>=</mo>
   <mrow>
    <mrow>
     <mi>𝐢</mi>
     <msub>
      <mi>q</mi>
      <mi>i</mi>
     </msub>
    </mrow>
    <mo>+</mo>
    <mrow>
     <mi>𝐣</mi>
     <msub>
      <mi>q</mi>
      <mi>j</mi>
     </msub>
    </mrow>
    <mo>+</mo>
    <mrow>
     <mi>𝐤</mi>
     <msub>
      <mi>q</mi>
      <mi>k</mi>
     </msub>
    </mrow>
    <mo>+</mo>
    <msub>
     <mi>q</mi>
     <mi>r</mi>
    </msub>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <and></and>
    <apply>
     <eq></eq>
     <ci>𝐪</ci>
     <apply>
      <csymbol cd="ambiguous">superscript</csymbol>
      <apply>
       <csymbol cd="latexml">delimited-[]</csymbol>
       <apply>
        <times></times>
        <apply>
         <csymbol cd="ambiguous">subscript</csymbol>
         <ci>q</ci>
         <ci>i</ci>
        </apply>
        <apply>
         <csymbol cd="ambiguous">subscript</csymbol>
         <ci>q</ci>
         <ci>j</ci>
        </apply>
        <apply>
         <csymbol cd="ambiguous">subscript</csymbol>
         <ci>q</ci>
         <ci>k</ci>
        </apply>
        <apply>
         <csymbol cd="ambiguous">subscript</csymbol>
         <ci>q</ci>
         <ci>r</ci>
        </apply>
       </apply>
      </apply>
      <ci>normal-T</ci>
     </apply>
    </apply>
    <apply>
     <eq></eq>
     <share href="#.cmml">
     </share>
     <apply>
      <plus></plus>
      <apply>
       <times></times>
       <ci>𝐢</ci>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>q</ci>
        <ci>i</ci>
       </apply>
      </apply>
      <apply>
       <times></times>
       <ci>𝐣</ci>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>q</ci>
        <ci>j</ci>
       </apply>
      </apply>
      <apply>
       <times></times>
       <ci>𝐤</ci>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>q</ci>
        <ci>k</ci>
       </apply>
      </apply>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>q</ci>
       <ci>r</ci>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \mathbf{q}=[q_{i}\ q_{j}\ q_{k}\ q_{r}]^{\mathrm{T}}=\mathbf{i}q_{i}+\mathbf{j%
}q_{j}+\mathbf{k}q_{k}+q_{r}
  </annotation>
 </semantics>
</math>

</p>

<p>can be computed by</p>

<p>

<math display="inline" id="Rotation_formalisms_in_three_dimensions:115">
 <semantics>
  <msub>
   <mi>q</mi>
   <mi>i</mi>
  </msub>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <csymbol cd="ambiguous">subscript</csymbol>
    <ci>q</ci>
    <ci>i</ci>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \displaystyle q_{i}
  </annotation>
 </semantics>
</math>


</p>

<p>Given the rotation quaternion 

<math display="inline" id="Rotation_formalisms_in_three_dimensions:116">
 <semantics>
  <mrow>
   <mpadded width="+2.8pt">
    <mi>𝐪</mi>
   </mpadded>
   <mo rspace="5.3pt">=</mo>
   <msup>
    <mrow>
     <mo stretchy="false">[</mo>
     <mrow>
      <mpadded width="+5pt">
       <msub>
        <mi>q</mi>
        <mi>i</mi>
       </msub>
      </mpadded>
      <mpadded width="+5pt">
       <msub>
        <mi>q</mi>
        <mi>j</mi>
       </msub>
      </mpadded>
      <mpadded width="+5pt">
       <msub>
        <mi>q</mi>
        <mi>k</mi>
       </msub>
      </mpadded>
      <msub>
       <mi>q</mi>
       <mi>r</mi>
      </msub>
     </mrow>
     <mo stretchy="false">]</mo>
    </mrow>
    <mi mathvariant="normal">T</mi>
   </msup>
   <mo>=</mo>
   <mrow>
    <mrow>
     <mi>𝐢</mi>
     <msub>
      <mi>q</mi>
      <mi>i</mi>
     </msub>
    </mrow>
    <mo>+</mo>
    <mrow>
     <mi>𝐣</mi>
     <msub>
      <mi>q</mi>
      <mi>j</mi>
     </msub>
    </mrow>
    <mo>+</mo>
    <mrow>
     <mi>𝐤</mi>
     <msub>
      <mi>q</mi>
      <mi>k</mi>
     </msub>
    </mrow>
    <mo>+</mo>
    <msub>
     <mi>q</mi>
     <mi>r</mi>
    </msub>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <and></and>
    <apply>
     <eq></eq>
     <ci>𝐪</ci>
     <apply>
      <csymbol cd="ambiguous">superscript</csymbol>
      <apply>
       <csymbol cd="latexml">delimited-[]</csymbol>
       <apply>
        <times></times>
        <apply>
         <csymbol cd="ambiguous">subscript</csymbol>
         <ci>q</ci>
         <ci>i</ci>
        </apply>
        <apply>
         <csymbol cd="ambiguous">subscript</csymbol>
         <ci>q</ci>
         <ci>j</ci>
        </apply>
        <apply>
         <csymbol cd="ambiguous">subscript</csymbol>
         <ci>q</ci>
         <ci>k</ci>
        </apply>
        <apply>
         <csymbol cd="ambiguous">subscript</csymbol>
         <ci>q</ci>
         <ci>r</ci>
        </apply>
       </apply>
      </apply>
      <ci>normal-T</ci>
     </apply>
    </apply>
    <apply>
     <eq></eq>
     <share href="#.cmml">
     </share>
     <apply>
      <plus></plus>
      <apply>
       <times></times>
       <ci>𝐢</ci>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>q</ci>
        <ci>i</ci>
       </apply>
      </apply>
      <apply>
       <times></times>
       <ci>𝐣</ci>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>q</ci>
        <ci>j</ci>
       </apply>
      </apply>
      <apply>
       <times></times>
       <ci>𝐤</ci>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>q</ci>
        <ci>k</ci>
       </apply>
      </apply>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>q</ci>
       <ci>r</ci>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \scriptstyle\mathbf{q}\;=\;[q_{i}\ q_{j}\ q_{k}\ q_{r}]^{\mathrm{T}}=\mathbf{i%
}q_{i}+\mathbf{j}q_{j}+\mathbf{k}q_{k}+q_{r}
  </annotation>
 </semantics>
</math>

, define 

<math display="inline" id="Rotation_formalisms_in_three_dimensions:117">
 <semantics>
  <mrow>
   <mpadded width="+2.8pt">
    <mover accent="true">
     <mi>𝐪</mi>
     <mo stretchy="false">ˇ</mo>
    </mover>
   </mpadded>
   <mo rspace="5.3pt">=</mo>
   <msup>
    <mrow>
     <mo stretchy="false">[</mo>
     <mrow>
      <mpadded width="+5pt">
       <msub>
        <mi>q</mi>
        <mi>i</mi>
       </msub>
      </mpadded>
      <mpadded width="+5pt">
       <msub>
        <mi>q</mi>
        <mi>j</mi>
       </msub>
      </mpadded>
      <msub>
       <mi>q</mi>
       <mi>k</mi>
      </msub>
     </mrow>
     <mo stretchy="false">]</mo>
    </mrow>
    <mi mathvariant="normal">T</mi>
   </msup>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <ci>normal-ˇ</ci>
     <ci>𝐪</ci>
    </apply>
    <apply>
     <csymbol cd="ambiguous">superscript</csymbol>
     <apply>
      <csymbol cd="latexml">delimited-[]</csymbol>
      <apply>
       <times></times>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>q</ci>
        <ci>i</ci>
       </apply>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>q</ci>
        <ci>j</ci>
       </apply>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>q</ci>
        <ci>k</ci>
       </apply>
      </apply>
     </apply>
     <ci>normal-T</ci>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \scriptstyle\check{\mathbf{q}}\;=\;[q_{i}\ q_{j}\ q_{k}]^{\mathrm{T}}
  </annotation>
 </semantics>
</math>

. Then the Euler axis 

<math display="inline" id="Rotation_formalisms_in_three_dimensions:118">
 <semantics>
  <mover accent="true">
   <mi>𝐞</mi>
   <mo stretchy="false">^</mo>
  </mover>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <ci>normal-^</ci>
    <ci>𝐞</ci>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \scriptstyle\hat{\mathbf{e}}
  </annotation>
 </semantics>
</math>

 and angle 

<math display="inline" id="Rotation_formalisms_in_three_dimensions:119">
 <semantics>
  <mi>θ</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>θ</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \scriptstyle\theta
  </annotation>
 </semantics>
</math>

 can be computed by</p>

<p>

<math display="inline" id="Rotation_formalisms_in_three_dimensions:120">
 <semantics>
  <mover accent="true">
   <mi>𝐞</mi>
   <mo stretchy="false">^</mo>
  </mover>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <ci>normal-^</ci>
    <ci>𝐞</ci>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \displaystyle\hat{\mathbf{e}}
  </annotation>
 </semantics>
</math>


</p>
<h2 id="conversion-formulae-for-derivatives">Conversion formulae for derivatives</h2>
<h3 id="rotation-matrix-angular-velocities">Rotation matrix ↔ angular velocities</h3>

<p>The angular velocity vector 

<math display="inline" id="Rotation_formalisms_in_three_dimensions:121">
 <semantics>
  <mrow>
   <mpadded width="+2.8pt">
    <mi>ω</mi>
   </mpadded>
   <mo rspace="5.3pt">=</mo>
   <mrow>
    <mo stretchy="false">(</mo>
    <msub>
     <mi>ω</mi>
     <mi>x</mi>
    </msub>
    <mo rspace="4.2pt">,</mo>
    <msub>
     <mi>ω</mi>
     <mi>y</mi>
    </msub>
    <mo rspace="4.2pt">,</mo>
    <msub>
     <mi>ω</mi>
     <mi>z</mi>
    </msub>
    <mo stretchy="false">)</mo>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <ci>ω</ci>
    <vector>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <ci>ω</ci>
      <ci>x</ci>
     </apply>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <ci>ω</ci>
      <ci>y</ci>
     </apply>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <ci>ω</ci>
      <ci>z</ci>
     </apply>
    </vector>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \scriptstyle\mathbf{\omega}\;=\;(\omega_{x},\,\omega_{y},\,\omega_{z})
  </annotation>
 </semantics>
</math>

 can be extracted from the derivative of the rotation matrix 

<math display="inline" id="Rotation_formalisms_in_three_dimensions:122">
 <semantics>
  <mstyle scriptlevel="+1">
   <mfrac>
    <mrow>
     <mi>d</mi>
     <mi>𝐀</mi>
    </mrow>
    <mrow>
     <mi>d</mi>
     <mi>t</mi>
    </mrow>
   </mfrac>
  </mstyle>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <divide></divide>
    <apply>
     <times></times>
     <ci>d</ci>
     <ci>𝐀</ci>
    </apply>
    <apply>
     <times></times>
     <ci>d</ci>
     <ci>t</ci>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \scriptstyle\frac{d\mathbf{A}}{dt}
  </annotation>
 </semantics>
</math>

 by the following relation:</p>

<p>

<math display="block" id="Rotation_formalisms_in_three_dimensions:123">
 <semantics>
  <mrow>
   <msub>
    <mrow>
     <mo stretchy="false">[</mo>
     <mi>ω</mi>
     <mo stretchy="false">]</mo>
    </mrow>
    <mo>×</mo>
   </msub>
   <mo>=</mo>
   <mrow>
    <mo>[</mo>
    <mtable displaystyle="true">
     <mtr>
      <mtd columnalign="center">
       <mn>0</mn>
      </mtd>
      <mtd columnalign="center">
       <mrow>
        <mo>-</mo>
        <msub>
         <mi>ω</mi>
         <mi>z</mi>
        </msub>
       </mrow>
      </mtd>
      <mtd columnalign="center">
       <msub>
        <mi>ω</mi>
        <mi>y</mi>
       </msub>
      </mtd>
     </mtr>
     <mtr>
      <mtd columnalign="center">
       <msub>
        <mi>ω</mi>
        <mi>z</mi>
       </msub>
      </mtd>
      <mtd columnalign="center">
       <mn>0</mn>
      </mtd>
      <mtd columnalign="center">
       <mrow>
        <mo>-</mo>
        <msub>
         <mi>ω</mi>
         <mi>x</mi>
        </msub>
       </mrow>
      </mtd>
     </mtr>
     <mtr>
      <mtd columnalign="center">
       <mrow>
        <mo>-</mo>
        <msub>
         <mi>ω</mi>
         <mi>y</mi>
        </msub>
       </mrow>
      </mtd>
      <mtd columnalign="center">
       <msub>
        <mi>ω</mi>
        <mi>x</mi>
       </msub>
      </mtd>
      <mtd columnalign="center">
       <mn>0</mn>
      </mtd>
     </mtr>
    </mtable>
    <mo>]</mo>
   </mrow>
   <mo>=</mo>
   <mrow>
    <mfrac>
     <mrow>
      <mi>d</mi>
      <mi>𝐀</mi>
     </mrow>
     <mrow>
      <mi>d</mi>
      <mi>t</mi>
     </mrow>
    </mfrac>
    <msup>
     <mi>𝐀</mi>
     <mi mathvariant="normal">T</mi>
    </msup>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <and></and>
    <apply>
     <eq></eq>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <apply>
       <csymbol cd="latexml">delimited-[]</csymbol>
       <ci>ω</ci>
      </apply>
      <times></times>
     </apply>
     <apply>
      <csymbol cd="latexml">delimited-[]</csymbol>
      <matrix>
       <matrixrow>
        <cn type="integer">0</cn>
        <apply>
         <minus></minus>
         <apply>
          <csymbol cd="ambiguous">subscript</csymbol>
          <ci>ω</ci>
          <ci>z</ci>
         </apply>
        </apply>
        <apply>
         <csymbol cd="ambiguous">subscript</csymbol>
         <ci>ω</ci>
         <ci>y</ci>
        </apply>
       </matrixrow>
       <matrixrow>
        <apply>
         <csymbol cd="ambiguous">subscript</csymbol>
         <ci>ω</ci>
         <ci>z</ci>
        </apply>
        <cn type="integer">0</cn>
        <apply>
         <minus></minus>
         <apply>
          <csymbol cd="ambiguous">subscript</csymbol>
          <ci>ω</ci>
          <ci>x</ci>
         </apply>
        </apply>
       </matrixrow>
       <matrixrow>
        <apply>
         <minus></minus>
         <apply>
          <csymbol cd="ambiguous">subscript</csymbol>
          <ci>ω</ci>
          <ci>y</ci>
         </apply>
        </apply>
        <apply>
         <csymbol cd="ambiguous">subscript</csymbol>
         <ci>ω</ci>
         <ci>x</ci>
        </apply>
        <cn type="integer">0</cn>
       </matrixrow>
      </matrix>
     </apply>
    </apply>
    <apply>
     <eq></eq>
     <share href="#.cmml">
     </share>
     <apply>
      <times></times>
      <apply>
       <divide></divide>
       <apply>
        <times></times>
        <ci>d</ci>
        <ci>𝐀</ci>
       </apply>
       <apply>
        <times></times>
        <ci>d</ci>
        <ci>t</ci>
       </apply>
      </apply>
      <apply>
       <csymbol cd="ambiguous">superscript</csymbol>
       <ci>𝐀</ci>
       <ci>normal-T</ci>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   [\mathbf{\omega}]_{\times}=\left[\begin{array}[]{ccc}0&-\omega_{z}&\omega_{y}%
\\
\omega_{z}&0&-\omega_{x}\\
-\omega_{y}&\omega_{x}&0\end{array}\right]=\frac{d\mathbf{A}}{dt}\mathbf{A}^{%
\mathrm{T}}
  </annotation>
 </semantics>
</math>

</p>

<p>The derivation is adapted from <a class="footnoteRef" href="#fn5" id="fnref5"><sup>5</sup></a> as follows:</p>

<p>For any vector 

<math display="inline" id="Rotation_formalisms_in_three_dimensions:124">
 <semantics>
  <msub>
   <mi>r</mi>
   <mn>0</mn>
  </msub>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <csymbol cd="ambiguous">subscript</csymbol>
    <ci>r</ci>
    <cn type="integer">0</cn>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \scriptstyle r_{0}
  </annotation>
 </semantics>
</math>

 consider 

<math display="inline" id="Rotation_formalisms_in_three_dimensions:125">
 <semantics>
  <mrow>
   <mrow>
    <mi>r</mi>
    <mrow>
     <mo stretchy="false">(</mo>
     <mi>t</mi>
     <mo rspace="5.3pt" stretchy="false">)</mo>
    </mrow>
   </mrow>
   <mo rspace="5.3pt">=</mo>
   <mrow>
    <mi>𝐀</mi>
    <mrow>
     <mo stretchy="false">(</mo>
     <mi>t</mi>
     <mo stretchy="false">)</mo>
    </mrow>
    <msub>
     <mi>r</mi>
     <mn>0</mn>
    </msub>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <times></times>
     <ci>r</ci>
     <ci>t</ci>
    </apply>
    <apply>
     <times></times>
     <ci>𝐀</ci>
     <ci>t</ci>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <ci>r</ci>
      <cn type="integer">0</cn>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \scriptstyle r(t)\;=\;\mathbf{A}(t)r_{0}
  </annotation>
 </semantics>
</math>

 and differentiate it:</p>

<p>

<math display="block" id="Rotation_formalisms_in_three_dimensions:126">
 <semantics>
  <mrow>
   <mfrac>
    <mrow>
     <mi>d</mi>
     <mi>r</mi>
    </mrow>
    <mrow>
     <mi>d</mi>
     <mi>t</mi>
    </mrow>
   </mfrac>
   <mo>=</mo>
   <mrow>
    <mfrac>
     <mrow>
      <mi>d</mi>
      <mi>𝐀</mi>
     </mrow>
     <mrow>
      <mi>d</mi>
      <mi>t</mi>
     </mrow>
    </mfrac>
    <msub>
     <mi>r</mi>
     <mn>0</mn>
    </msub>
   </mrow>
   <mo>=</mo>
   <mrow>
    <mfrac>
     <mrow>
      <mi>d</mi>
      <mi>𝐀</mi>
     </mrow>
     <mrow>
      <mi>d</mi>
      <mi>t</mi>
     </mrow>
    </mfrac>
    <msup>
     <mi>𝐀</mi>
     <mi mathvariant="normal">T</mi>
    </msup>
    <mrow>
     <mo stretchy="false">(</mo>
     <mi>t</mi>
     <mo stretchy="false">)</mo>
    </mrow>
    <mi>r</mi>
    <mrow>
     <mo stretchy="false">(</mo>
     <mi>t</mi>
     <mo stretchy="false">)</mo>
    </mrow>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <and></and>
    <apply>
     <eq></eq>
     <apply>
      <divide></divide>
      <apply>
       <times></times>
       <ci>d</ci>
       <ci>r</ci>
      </apply>
      <apply>
       <times></times>
       <ci>d</ci>
       <ci>t</ci>
      </apply>
     </apply>
     <apply>
      <times></times>
      <apply>
       <divide></divide>
       <apply>
        <times></times>
        <ci>d</ci>
        <ci>𝐀</ci>
       </apply>
       <apply>
        <times></times>
        <ci>d</ci>
        <ci>t</ci>
       </apply>
      </apply>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>r</ci>
       <cn type="integer">0</cn>
      </apply>
     </apply>
    </apply>
    <apply>
     <eq></eq>
     <share href="#.cmml">
     </share>
     <apply>
      <times></times>
      <apply>
       <divide></divide>
       <apply>
        <times></times>
        <ci>d</ci>
        <ci>𝐀</ci>
       </apply>
       <apply>
        <times></times>
        <ci>d</ci>
        <ci>t</ci>
       </apply>
      </apply>
      <apply>
       <csymbol cd="ambiguous">superscript</csymbol>
       <ci>𝐀</ci>
       <ci>normal-T</ci>
      </apply>
      <ci>t</ci>
      <ci>r</ci>
      <ci>t</ci>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \frac{dr}{dt}=\frac{d\mathbf{A}}{dt}r_{0}=\frac{d\mathbf{A}}{dt}\mathbf{A}^{%
\mathrm{T}}(t)r(t)
  </annotation>
 </semantics>
</math>

</p>

<p>The derivative of a vector is the <a href="Velocity_vector" title="wikilink">linear velocity</a> of its tip. Since <em>A</em> is a rotation matrix, by definition the length of 

<math display="inline" id="Rotation_formalisms_in_three_dimensions:127">
 <semantics>
  <mrow>
   <mi>r</mi>
   <mrow>
    <mo stretchy="false">(</mo>
    <mi>t</mi>
    <mo stretchy="false">)</mo>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <times></times>
    <ci>r</ci>
    <ci>t</ci>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \scriptstyle r(t)
  </annotation>
 </semantics>
</math>

 is always equal to the length of 

<math display="inline" id="Rotation_formalisms_in_three_dimensions:128">
 <semantics>
  <msub>
   <mi>r</mi>
   <mn>0</mn>
  </msub>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <csymbol cd="ambiguous">subscript</csymbol>
    <ci>r</ci>
    <cn type="integer">0</cn>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \scriptstyle r_{0}
  </annotation>
 </semantics>
</math>

, and hence it does not change with time. Thus, when 

<math display="inline" id="Rotation_formalisms_in_three_dimensions:129">
 <semantics>
  <mrow>
   <mi>r</mi>
   <mrow>
    <mo stretchy="false">(</mo>
    <mi>t</mi>
    <mo stretchy="false">)</mo>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <times></times>
    <ci>r</ci>
    <ci>t</ci>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \scriptstyle r(t)
  </annotation>
 </semantics>
</math>

 rotates, its tip moves along a circle, and the linear velocity of its tip is tangential to the circle; i.e., always perpendicular to 

<math display="inline" id="Rotation_formalisms_in_three_dimensions:130">
 <semantics>
  <mrow>
   <mi>r</mi>
   <mrow>
    <mo stretchy="false">(</mo>
    <mi>t</mi>
    <mo stretchy="false">)</mo>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <times></times>
    <ci>r</ci>
    <ci>t</ci>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \scriptstyle r(t)
  </annotation>
 </semantics>
</math>

. In this specific case, the relationship between the linear velocity vector and the angular velocity vector is</p>

<p>

<math display="block" id="Rotation_formalisms_in_three_dimensions:131">
 <semantics>
  <mrow>
   <mfrac>
    <mrow>
     <mi>d</mi>
     <mi>r</mi>
    </mrow>
    <mrow>
     <mi>d</mi>
     <mi>t</mi>
    </mrow>
   </mfrac>
   <mo>=</mo>
   <mrow>
    <mrow>
     <mrow>
      <mi>ω</mi>
      <mrow>
       <mo stretchy="false">(</mo>
       <mi>t</mi>
       <mo stretchy="false">)</mo>
      </mrow>
     </mrow>
     <mo>×</mo>
     <mi>r</mi>
    </mrow>
    <mrow>
     <mo stretchy="false">(</mo>
     <mi>t</mi>
     <mo stretchy="false">)</mo>
    </mrow>
   </mrow>
   <mo>=</mo>
   <mrow>
    <msub>
     <mrow>
      <mo stretchy="false">[</mo>
      <mi>ω</mi>
      <mo stretchy="false">]</mo>
     </mrow>
     <mo>×</mo>
    </msub>
    <mi>r</mi>
    <mrow>
     <mo stretchy="false">(</mo>
     <mi>t</mi>
     <mo stretchy="false">)</mo>
    </mrow>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <and></and>
    <apply>
     <eq></eq>
     <apply>
      <divide></divide>
      <apply>
       <times></times>
       <ci>d</ci>
       <ci>r</ci>
      </apply>
      <apply>
       <times></times>
       <ci>d</ci>
       <ci>t</ci>
      </apply>
     </apply>
     <apply>
      <times></times>
      <apply>
       <times></times>
       <apply>
        <times></times>
        <ci>ω</ci>
        <ci>t</ci>
       </apply>
       <ci>r</ci>
      </apply>
      <ci>t</ci>
     </apply>
    </apply>
    <apply>
     <eq></eq>
     <share href="#.cmml">
     </share>
     <apply>
      <times></times>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <apply>
        <csymbol cd="latexml">delimited-[]</csymbol>
        <ci>ω</ci>
       </apply>
       <times></times>
      </apply>
      <ci>r</ci>
      <ci>t</ci>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \frac{dr}{dt}=\mathbf{\omega}(t)\times r(t)=[\mathbf{\omega}]_{\times}r(t)
  </annotation>
 </semantics>
</math>

 (see <a href="circular_motion" title="wikilink">circular motion</a> and <a href="Cross_product#Conversion_to_matrix_multiplication" title="wikilink">Cross product</a>).</p>

<p>By the <a href="transitive_relation" title="wikilink">transitivity</a> of the above-mentioned equations,</p>

<p>

<math display="block" id="Rotation_formalisms_in_three_dimensions:132">
 <semantics>
  <mrow>
   <mrow>
    <mfrac>
     <mrow>
      <mi>d</mi>
      <mi>𝐀</mi>
     </mrow>
     <mrow>
      <mi>d</mi>
      <mi>t</mi>
     </mrow>
    </mfrac>
    <msup>
     <mi>𝐀</mi>
     <mi mathvariant="normal">T</mi>
    </msup>
    <mrow>
     <mo stretchy="false">(</mo>
     <mi>t</mi>
     <mo stretchy="false">)</mo>
    </mrow>
    <mi>r</mi>
    <mrow>
     <mo stretchy="false">(</mo>
     <mi>t</mi>
     <mo stretchy="false">)</mo>
    </mrow>
   </mrow>
   <mo>=</mo>
   <mrow>
    <msub>
     <mrow>
      <mo stretchy="false">[</mo>
      <mi>ω</mi>
      <mo stretchy="false">]</mo>
     </mrow>
     <mo>×</mo>
    </msub>
    <mi>r</mi>
    <mrow>
     <mo stretchy="false">(</mo>
     <mi>t</mi>
     <mo stretchy="false">)</mo>
    </mrow>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <times></times>
     <apply>
      <divide></divide>
      <apply>
       <times></times>
       <ci>d</ci>
       <ci>𝐀</ci>
      </apply>
      <apply>
       <times></times>
       <ci>d</ci>
       <ci>t</ci>
      </apply>
     </apply>
     <apply>
      <csymbol cd="ambiguous">superscript</csymbol>
      <ci>𝐀</ci>
      <ci>normal-T</ci>
     </apply>
     <ci>t</ci>
     <ci>r</ci>
     <ci>t</ci>
    </apply>
    <apply>
     <times></times>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <apply>
       <csymbol cd="latexml">delimited-[]</csymbol>
       <ci>ω</ci>
      </apply>
      <times></times>
     </apply>
     <ci>r</ci>
     <ci>t</ci>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \frac{d\mathbf{A}}{dt}\mathbf{A}^{\mathrm{T}}(t)r(t)=[\mathbf{\omega}]_{\times%
}r(t)
  </annotation>
 </semantics>
</math>

</p>

<p>which implies (<a class="uri" href="Q.E.D." title="wikilink">Q.E.D.</a>),</p>

<p>

<math display="block" id="Rotation_formalisms_in_three_dimensions:133">
 <semantics>
  <mrow>
   <mrow>
    <mfrac>
     <mrow>
      <mi>d</mi>
      <mi>𝐀</mi>
     </mrow>
     <mrow>
      <mi>d</mi>
      <mi>t</mi>
     </mrow>
    </mfrac>
    <msup>
     <mi>𝐀</mi>
     <mi mathvariant="normal">T</mi>
    </msup>
    <mrow>
     <mo stretchy="false">(</mo>
     <mi>t</mi>
     <mo stretchy="false">)</mo>
    </mrow>
   </mrow>
   <mo>=</mo>
   <msub>
    <mrow>
     <mo stretchy="false">[</mo>
     <mi>ω</mi>
     <mo stretchy="false">]</mo>
    </mrow>
    <mo>×</mo>
   </msub>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <times></times>
     <apply>
      <divide></divide>
      <apply>
       <times></times>
       <ci>d</ci>
       <ci>𝐀</ci>
      </apply>
      <apply>
       <times></times>
       <ci>d</ci>
       <ci>t</ci>
      </apply>
     </apply>
     <apply>
      <csymbol cd="ambiguous">superscript</csymbol>
      <ci>𝐀</ci>
      <ci>normal-T</ci>
     </apply>
     <ci>t</ci>
    </apply>
    <apply>
     <csymbol cd="ambiguous">subscript</csymbol>
     <apply>
      <csymbol cd="latexml">delimited-[]</csymbol>
      <ci>ω</ci>
     </apply>
     <times></times>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \frac{d\mathbf{A}}{dt}\mathbf{A}^{\mathrm{T}}(t)=[\mathbf{\omega}]_{\times}
  </annotation>
 </semantics>
</math>

</p>
<h3 id="quaternion-angular-velocities">Quaternion ↔ angular velocities</h3>

<p>The angular velocity vector 

<math display="inline" id="Rotation_formalisms_in_three_dimensions:134">
 <semantics>
  <mrow>
   <mpadded width="+2.8pt">
    <mi>ω</mi>
   </mpadded>
   <mo rspace="5.3pt">=</mo>
   <mrow>
    <mo stretchy="false">(</mo>
    <msub>
     <mi>ω</mi>
     <mi>x</mi>
    </msub>
    <mo rspace="4.2pt">,</mo>
    <msub>
     <mi>ω</mi>
     <mi>y</mi>
    </msub>
    <mo rspace="4.2pt">,</mo>
    <msub>
     <mi>ω</mi>
     <mi>z</mi>
    </msub>
    <mo stretchy="false">)</mo>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <ci>ω</ci>
    <vector>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <ci>ω</ci>
      <ci>x</ci>
     </apply>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <ci>ω</ci>
      <ci>y</ci>
     </apply>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <ci>ω</ci>
      <ci>z</ci>
     </apply>
    </vector>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \scriptstyle\mathbf{\omega}\;=\;(\omega_{x},\,\omega_{y},\,\omega_{z})
  </annotation>
 </semantics>
</math>

 can be obtained from the derivative of the quaternion 

<math display="inline" id="Rotation_formalisms_in_three_dimensions:135">
 <semantics>
  <mstyle scriptlevel="+1">
   <mfrac>
    <mrow>
     <mi>d</mi>
     <mi>𝐪</mi>
    </mrow>
    <mrow>
     <mi>d</mi>
     <mi>t</mi>
    </mrow>
   </mfrac>
  </mstyle>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <divide></divide>
    <apply>
     <times></times>
     <ci>d</ci>
     <ci>𝐪</ci>
    </apply>
    <apply>
     <times></times>
     <ci>d</ci>
     <ci>t</ci>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \scriptstyle\frac{d\mathbf{q}}{dt}
  </annotation>
 </semantics>
</math>

 as follows:<a class="footnoteRef" href="#fn6" id="fnref6"><sup>6</sup></a></p>

<p>

<math display="block" id="Rotation_formalisms_in_three_dimensions:136">
 <semantics>
  <mrow>
   <mrow>
    <mo>[</mo>
    <mtable displaystyle="true">
     <mtr>
      <mtd columnalign="center">
       <mn>0</mn>
      </mtd>
     </mtr>
     <mtr>
      <mtd columnalign="center">
       <msub>
        <mi>ω</mi>
        <mi>x</mi>
       </msub>
      </mtd>
     </mtr>
     <mtr>
      <mtd columnalign="center">
       <msub>
        <mi>ω</mi>
        <mi>y</mi>
       </msub>
      </mtd>
     </mtr>
     <mtr>
      <mtd columnalign="center">
       <msub>
        <mi>ω</mi>
        <mi>z</mi>
       </msub>
      </mtd>
     </mtr>
    </mtable>
    <mo>]</mo>
   </mrow>
   <mo>=</mo>
   <mrow>
    <mrow>
     <mn>2</mn>
     <mfrac>
      <mrow>
       <mi>d</mi>
       <mi>𝐪</mi>
      </mrow>
      <mrow>
       <mi>d</mi>
       <mi>t</mi>
      </mrow>
     </mfrac>
    </mrow>
    <mo>⊗</mo>
    <mover accent="true">
     <mi>𝐪</mi>
     <mo stretchy="false">~</mo>
    </mover>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <csymbol cd="latexml">delimited-[]</csymbol>
     <matrix>
      <matrixrow>
       <cn type="integer">0</cn>
      </matrixrow>
      <matrixrow>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>ω</ci>
        <ci>x</ci>
       </apply>
      </matrixrow>
      <matrixrow>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>ω</ci>
        <ci>y</ci>
       </apply>
      </matrixrow>
      <matrixrow>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>ω</ci>
        <ci>z</ci>
       </apply>
      </matrixrow>
     </matrix>
    </apply>
    <apply>
     <csymbol cd="latexml">tensor-product</csymbol>
     <apply>
      <times></times>
      <cn type="integer">2</cn>
      <apply>
       <divide></divide>
       <apply>
        <times></times>
        <ci>d</ci>
        <ci>𝐪</ci>
       </apply>
       <apply>
        <times></times>
        <ci>d</ci>
        <ci>t</ci>
       </apply>
      </apply>
     </apply>
     <apply>
      <ci>normal-~</ci>
      <ci>𝐪</ci>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \left[{\begin{array}[]{c}0\\
\omega_{x}\\
\omega_{y}\\
\omega_{z}\end{array}}\right]=2\frac{d\mathbf{q}}{dt}\otimes\tilde{\mathbf{q}}
  </annotation>
 </semantics>
</math>

 where 

<math display="inline" id="Rotation_formalisms_in_three_dimensions:137">
 <semantics>
  <mover accent="true">
   <mi>𝐪</mi>
   <mo stretchy="false">~</mo>
  </mover>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <ci>normal-~</ci>
    <ci>𝐪</ci>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \tilde{\mathbf{q}}
  </annotation>
 </semantics>
</math>

 is the inverse of 

<math display="inline" id="Rotation_formalisms_in_three_dimensions:138">
 <semantics>
  <mi>𝐪</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>𝐪</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \mathbf{q}
  </annotation>
 </semantics>
</math>

.</p>

<p>Conversely, the derivative of the quaternion is</p>

<p>

<math display="block" id="Rotation_formalisms_in_three_dimensions:139">
 <semantics>
  <mrow>
   <mfrac>
    <mrow>
     <mi>d</mi>
     <mi>𝐪</mi>
    </mrow>
    <mrow>
     <mi>d</mi>
     <mi>t</mi>
    </mrow>
   </mfrac>
   <mo>=</mo>
   <mrow>
    <mrow>
     <mfrac>
      <mn>1</mn>
      <mn>2</mn>
     </mfrac>
     <mrow>
      <mo>[</mo>
      <mtable displaystyle="true">
       <mtr>
        <mtd columnalign="center">
         <mn>0</mn>
        </mtd>
       </mtr>
       <mtr>
        <mtd columnalign="center">
         <msub>
          <mi>ω</mi>
          <mi>x</mi>
         </msub>
        </mtd>
       </mtr>
       <mtr>
        <mtd columnalign="center">
         <msub>
          <mi>ω</mi>
          <mi>y</mi>
         </msub>
        </mtd>
       </mtr>
       <mtr>
        <mtd columnalign="center">
         <msub>
          <mi>ω</mi>
          <mi>z</mi>
         </msub>
        </mtd>
       </mtr>
      </mtable>
      <mo>]</mo>
     </mrow>
    </mrow>
    <mo>⊗</mo>
    <mi>𝐪</mi>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <divide></divide>
     <apply>
      <times></times>
      <ci>d</ci>
      <ci>𝐪</ci>
     </apply>
     <apply>
      <times></times>
      <ci>d</ci>
      <ci>t</ci>
     </apply>
    </apply>
    <apply>
     <csymbol cd="latexml">tensor-product</csymbol>
     <apply>
      <times></times>
      <apply>
       <divide></divide>
       <cn type="integer">1</cn>
       <cn type="integer">2</cn>
      </apply>
      <apply>
       <csymbol cd="latexml">delimited-[]</csymbol>
       <matrix>
        <matrixrow>
         <cn type="integer">0</cn>
        </matrixrow>
        <matrixrow>
         <apply>
          <csymbol cd="ambiguous">subscript</csymbol>
          <ci>ω</ci>
          <ci>x</ci>
         </apply>
        </matrixrow>
        <matrixrow>
         <apply>
          <csymbol cd="ambiguous">subscript</csymbol>
          <ci>ω</ci>
          <ci>y</ci>
         </apply>
        </matrixrow>
        <matrixrow>
         <apply>
          <csymbol cd="ambiguous">subscript</csymbol>
          <ci>ω</ci>
          <ci>z</ci>
         </apply>
        </matrixrow>
       </matrix>
      </apply>
     </apply>
     <ci>𝐪</ci>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \frac{d\mathbf{q}}{dt}=\frac{1}{2}\left[{\begin{array}[]{c}0\\
\omega_{x}\\
\omega_{y}\\
\omega_{z}\end{array}}\right]\otimes\mathbf{q}
  </annotation>
 </semantics>
</math>

</p>
<h2 id="rotors-in-a-geometric-algebra">Rotors in a geometric algebra</h2>

<p>The formalism of <a href="geometric_algebra" title="wikilink">geometric algebra</a> (GA) provides an extension and interpretation of the quaternion method. Central to GA is the geometric product of vectors, an extension of the traditional <a href="inner_product" title="wikilink">inner</a> and <a href="cross_product" title="wikilink">cross products</a>, given by</p>

<p>

<math display="block" id="Rotation_formalisms_in_three_dimensions:140">
 <semantics>
  <mrow>
   <mrow>
    <mi>a</mi>
    <mi>b</mi>
   </mrow>
   <mo>=</mo>
   <mrow>
    <mrow>
     <mrow>
      <mi>a</mi>
      <mo>⋅</mo>
      <mi>b</mi>
     </mrow>
     <mo>+</mo>
     <mi>a</mi>
    </mrow>
    <mo>∧</mo>
    <mi>b</mi>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <times></times>
     <ci>a</ci>
     <ci>b</ci>
    </apply>
    <apply>
     <and></and>
     <apply>
      <plus></plus>
      <apply>
       <ci>normal-⋅</ci>
       <ci>a</ci>
       <ci>b</ci>
      </apply>
      <ci>a</ci>
     </apply>
     <ci>b</ci>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   ab=a\cdot b+a\wedge b
  </annotation>
 </semantics>
</math>

</p>

<p>where the symbol 

<math display="inline" id="Rotation_formalisms_in_three_dimensions:141">
 <semantics>
  <mo>∧</mo>
  <annotation-xml encoding="MathML-Content">
   <and></and>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \scriptstyle\wedge
  </annotation>
 </semantics>
</math>

 denotes the <a href="outer_product" title="wikilink">outer product</a>. This product of vectors 

<math display="inline" id="Rotation_formalisms_in_three_dimensions:142">
 <semantics>
  <mrow>
   <mi>a</mi>
   <mo rspace="4.2pt">,</mo>
   <mi>b</mi>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <list>
    <ci>a</ci>
    <ci>b</ci>
   </list>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \scriptstyle a,\,b
  </annotation>
 </semantics>
</math>

 produces two terms: a scalar part from the inner product and a <a class="uri" href="bivector" title="wikilink">bivector</a> part from the outer product. This bivector describes the plane perpendicular to what the cross product of the vectors would return.</p>

<p>Bivectors in GA have some unusual properties compared to vectors. Under the geometric product, bivectors have negative square: the bivector 

<math display="inline" id="Rotation_formalisms_in_three_dimensions:143">
 <semantics>
  <mrow>
   <mover accent="true">
    <mi>x</mi>
    <mo stretchy="false">^</mo>
   </mover>
   <mover accent="true">
    <mi>y</mi>
    <mo stretchy="false">^</mo>
   </mover>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <times></times>
    <apply>
     <ci>normal-^</ci>
     <ci>x</ci>
    </apply>
    <apply>
     <ci>normal-^</ci>
     <ci>y</ci>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \scriptstyle\hat{x}\hat{y}
  </annotation>
 </semantics>
</math>

 describes the 

<math display="inline" id="Rotation_formalisms_in_three_dimensions:144">
 <semantics>
  <mrow>
   <mi>x</mi>
   <mi>y</mi>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <times></times>
    <ci>x</ci>
    <ci>y</ci>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \scriptstyle xy
  </annotation>
 </semantics>
</math>

-plane. Its square is 

<math display="inline" id="Rotation_formalisms_in_three_dimensions:145">
 <semantics>
  <mrow>
   <mpadded width="+2.8pt">
    <msup>
     <mrow>
      <mo stretchy="false">(</mo>
      <mrow>
       <mover accent="true">
        <mi>x</mi>
        <mo stretchy="false">^</mo>
       </mover>
       <mover accent="true">
        <mi>y</mi>
        <mo stretchy="false">^</mo>
       </mover>
      </mrow>
      <mo stretchy="false">)</mo>
     </mrow>
     <mn>2</mn>
    </msup>
   </mpadded>
   <mo rspace="5.3pt">=</mo>
   <mrow>
    <mover accent="true">
     <mi>x</mi>
     <mo stretchy="false">^</mo>
    </mover>
    <mover accent="true">
     <mi>y</mi>
     <mo stretchy="false">^</mo>
    </mover>
    <mover accent="true">
     <mi>x</mi>
     <mo stretchy="false">^</mo>
    </mover>
    <mover accent="true">
     <mi>y</mi>
     <mo stretchy="false">^</mo>
    </mover>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <csymbol cd="ambiguous">superscript</csymbol>
     <apply>
      <times></times>
      <apply>
       <ci>normal-^</ci>
       <ci>x</ci>
      </apply>
      <apply>
       <ci>normal-^</ci>
       <ci>y</ci>
      </apply>
     </apply>
     <cn type="integer">2</cn>
    </apply>
    <apply>
     <times></times>
     <apply>
      <ci>normal-^</ci>
      <ci>x</ci>
     </apply>
     <apply>
      <ci>normal-^</ci>
      <ci>y</ci>
     </apply>
     <apply>
      <ci>normal-^</ci>
      <ci>x</ci>
     </apply>
     <apply>
      <ci>normal-^</ci>
      <ci>y</ci>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \scriptstyle(\hat{x}\hat{y})^{2}\;=\;\hat{x}\hat{y}\hat{x}\hat{y}
  </annotation>
 </semantics>
</math>

. Because the unit basis vectors are orthogonal to each other, the geometric product reduces to the antisymmetric outer product – 

<math display="inline" id="Rotation_formalisms_in_three_dimensions:146">
 <semantics>
  <mover accent="true">
   <mi>x</mi>
   <mo stretchy="false">^</mo>
  </mover>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <ci>normal-^</ci>
    <ci>x</ci>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \scriptstyle\hat{x}
  </annotation>
 </semantics>
</math>

 and 

<math display="inline" id="Rotation_formalisms_in_three_dimensions:147">
 <semantics>
  <mover accent="true">
   <mi>y</mi>
   <mo stretchy="false">^</mo>
  </mover>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <ci>normal-^</ci>
    <ci>y</ci>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \scriptstyle\hat{y}
  </annotation>
 </semantics>
</math>

 can be swapped freely at the cost of a factor of −1. The square reduces to 

<math display="inline" id="Rotation_formalisms_in_three_dimensions:148">
 <semantics>
  <mrow>
   <mrow>
    <mo>-</mo>
    <mrow>
     <mover accent="true">
      <mi>x</mi>
      <mo stretchy="false">^</mo>
     </mover>
     <mover accent="true">
      <mi>x</mi>
      <mo stretchy="false">^</mo>
     </mover>
     <mover accent="true">
      <mi>y</mi>
      <mo stretchy="false">^</mo>
     </mover>
     <mpadded width="+2.8pt">
      <mover accent="true">
       <mi>y</mi>
       <mo stretchy="false">^</mo>
      </mover>
     </mpadded>
    </mrow>
   </mrow>
   <mo rspace="5.3pt">=</mo>
   <mrow>
    <mo>-</mo>
    <mn>1</mn>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <minus></minus>
     <apply>
      <times></times>
      <apply>
       <ci>normal-^</ci>
       <ci>x</ci>
      </apply>
      <apply>
       <ci>normal-^</ci>
       <ci>x</ci>
      </apply>
      <apply>
       <ci>normal-^</ci>
       <ci>y</ci>
      </apply>
      <apply>
       <ci>normal-^</ci>
       <ci>y</ci>
      </apply>
     </apply>
    </apply>
    <apply>
     <minus></minus>
     <cn type="integer">1</cn>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \scriptstyle-\hat{x}\hat{x}\hat{y}\hat{y}\;=\;-1
  </annotation>
 </semantics>
</math>

 since the basis vectors themselves square to +1.</p>

<p>This result holds generally for all bivectors, and as a result the bivector plays a role similar to the <a href="imaginary_unit" title="wikilink">imaginary unit</a>. Geometric algebra uses bivectors in its analogue to the quaternion, the <em>rotor,</em> given by 

<math display="inline" id="Rotation_formalisms_in_three_dimensions:149">
 <semantics>
  <mrow>
   <mpadded width="+2.8pt">
    <mi>R</mi>
   </mpadded>
   <mo rspace="5.3pt">=</mo>
   <mrow>
    <mi>exp</mi>
    <mrow>
     <mo>(</mo>
     <mstyle scriptlevel="+1">
      <mfrac>
       <mrow>
        <mo>-</mo>
        <mrow>
         <mover accent="true">
          <mi>B</mi>
          <mo stretchy="false">^</mo>
         </mover>
         <mi>θ</mi>
        </mrow>
       </mrow>
       <mn>2</mn>
      </mfrac>
     </mstyle>
     <mo rspace="5.3pt">)</mo>
    </mrow>
   </mrow>
   <mo rspace="5.3pt">=</mo>
   <mrow>
    <mrow>
     <mi>cos</mi>
     <mpadded width="+1.7pt">
      <mstyle scriptlevel="+1">
       <mfrac>
        <mi>θ</mi>
        <mn>2</mn>
       </mfrac>
      </mstyle>
     </mpadded>
    </mrow>
    <mo rspace="4.2pt">-</mo>
    <mrow>
     <mover accent="true">
      <mi>B</mi>
      <mo stretchy="false">^</mo>
     </mover>
     <mrow>
      <mi>sin</mi>
      <mstyle scriptlevel="+1">
       <mfrac>
        <mi>θ</mi>
        <mn>2</mn>
       </mfrac>
      </mstyle>
     </mrow>
    </mrow>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <and></and>
    <apply>
     <eq></eq>
     <ci>R</ci>
     <apply>
      <exp></exp>
      <apply>
       <divide></divide>
       <apply>
        <minus></minus>
        <apply>
         <times></times>
         <apply>
          <ci>normal-^</ci>
          <ci>B</ci>
         </apply>
         <ci>θ</ci>
        </apply>
       </apply>
       <cn type="integer">2</cn>
      </apply>
     </apply>
    </apply>
    <apply>
     <eq></eq>
     <share href="#.cmml">
     </share>
     <apply>
      <minus></minus>
      <apply>
       <cos></cos>
       <apply>
        <divide></divide>
        <ci>θ</ci>
        <cn type="integer">2</cn>
       </apply>
      </apply>
      <apply>
       <times></times>
       <apply>
        <ci>normal-^</ci>
        <ci>B</ci>
       </apply>
       <apply>
        <sin></sin>
        <apply>
         <divide></divide>
         <ci>θ</ci>
         <cn type="integer">2</cn>
        </apply>
       </apply>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \scriptstyle R\;=\;\exp\left(\frac{-\hat{B}\theta}{2}\right)\;=\;\cos\frac{%
\theta}{2}\,-\,\hat{B}\sin\frac{\theta}{2}
  </annotation>
 </semantics>
</math>

, where 

<math display="inline" id="Rotation_formalisms_in_three_dimensions:150">
 <semantics>
  <mover accent="true">
   <mi>B</mi>
   <mo stretchy="false">^</mo>
  </mover>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <ci>normal-^</ci>
    <ci>B</ci>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \scriptstyle\hat{B}
  </annotation>
 </semantics>
</math>

 is a unit bivector that describes the <a href="plane_of_rotation" title="wikilink">plane of rotation</a>. Because 

<math display="inline" id="Rotation_formalisms_in_three_dimensions:151">
 <semantics>
  <mover accent="true">
   <mi>B</mi>
   <mo stretchy="false">^</mo>
  </mover>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <ci>normal-^</ci>
    <ci>B</ci>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \scriptstyle\hat{B}
  </annotation>
 </semantics>
</math>

 squares to −1, the <a href="power_series" title="wikilink">power series</a> expansion of 

<math display="inline" id="Rotation_formalisms_in_three_dimensions:152">
 <semantics>
  <mi>R</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>R</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \scriptstyle R
  </annotation>
 </semantics>
</math>

 generates the <a href="trigonometric_function" title="wikilink">trigonometric functions</a>. The rotation formula that maps a vector 

<math display="inline" id="Rotation_formalisms_in_three_dimensions:153">
 <semantics>
  <mi>a</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>a</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \scriptstyle a
  </annotation>
 </semantics>
</math>

 to a rotated vector 

<math display="inline" id="Rotation_formalisms_in_three_dimensions:154">
 <semantics>
  <mi>b</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>b</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \scriptstyle b
  </annotation>
 </semantics>
</math>

 is then</p>

<p>

<math display="block" id="Rotation_formalisms_in_three_dimensions:155">
 <semantics>
  <mrow>
   <mi>b</mi>
   <mo>=</mo>
   <mrow>
    <mi>R</mi>
    <mi>a</mi>
    <msup>
     <mi>R</mi>
     <mo>†</mo>
    </msup>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <ci>b</ci>
    <apply>
     <times></times>
     <ci>R</ci>
     <ci>a</ci>
     <apply>
      <csymbol cd="ambiguous">superscript</csymbol>
      <ci>R</ci>
      <ci>normal-†</ci>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   b=RaR^{\dagger}
  </annotation>
 </semantics>
</math>

</p>

<p>where 

<math display="inline" id="Rotation_formalisms_in_three_dimensions:156">
 <semantics>
  <mrow>
   <mpadded width="+2.8pt">
    <msup>
     <mi>R</mi>
     <mo>†</mo>
    </msup>
   </mpadded>
   <mo rspace="5.3pt">=</mo>
   <mrow>
    <mi>exp</mi>
    <mrow>
     <mo>(</mo>
     <mrow>
      <mstyle scriptlevel="+1">
       <mfrac>
        <mn>1</mn>
        <mn>2</mn>
       </mfrac>
      </mstyle>
      <mover accent="true">
       <mi>B</mi>
       <mo stretchy="false">^</mo>
      </mover>
      <mi>θ</mi>
     </mrow>
     <mo rspace="5.3pt">)</mo>
    </mrow>
   </mrow>
   <mo rspace="5.3pt">=</mo>
   <mrow>
    <mrow>
     <mi>cos</mi>
     <mrow>
      <mstyle scriptlevel="+1">
       <mfrac>
        <mn>1</mn>
        <mn>2</mn>
       </mfrac>
      </mstyle>
      <mpadded width="+1.7pt">
       <mi>θ</mi>
      </mpadded>
     </mrow>
    </mrow>
    <mo rspace="4.2pt">+</mo>
    <mrow>
     <mover accent="true">
      <mi>B</mi>
      <mo stretchy="false">^</mo>
     </mover>
     <mrow>
      <mi>sin</mi>
      <mrow>
       <mstyle scriptlevel="+1">
        <mfrac>
         <mn>1</mn>
         <mn>2</mn>
        </mfrac>
       </mstyle>
       <mi>θ</mi>
      </mrow>
     </mrow>
    </mrow>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <and></and>
    <apply>
     <eq></eq>
     <apply>
      <csymbol cd="ambiguous">superscript</csymbol>
      <ci>R</ci>
      <ci>normal-†</ci>
     </apply>
     <apply>
      <exp></exp>
      <apply>
       <times></times>
       <apply>
        <divide></divide>
        <cn type="integer">1</cn>
        <cn type="integer">2</cn>
       </apply>
       <apply>
        <ci>normal-^</ci>
        <ci>B</ci>
       </apply>
       <ci>θ</ci>
      </apply>
     </apply>
    </apply>
    <apply>
     <eq></eq>
     <share href="#.cmml">
     </share>
     <apply>
      <plus></plus>
      <apply>
       <cos></cos>
       <apply>
        <times></times>
        <apply>
         <divide></divide>
         <cn type="integer">1</cn>
         <cn type="integer">2</cn>
        </apply>
        <ci>θ</ci>
       </apply>
      </apply>
      <apply>
       <times></times>
       <apply>
        <ci>normal-^</ci>
        <ci>B</ci>
       </apply>
       <apply>
        <sin></sin>
        <apply>
         <times></times>
         <apply>
          <divide></divide>
          <cn type="integer">1</cn>
          <cn type="integer">2</cn>
         </apply>
         <ci>θ</ci>
        </apply>
       </apply>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \scriptstyle R^{\dagger}\;=\;\exp\left(\frac{1}{2}\hat{B}\theta\right)\;=\;%
\cos\frac{1}{2}\theta\,+\,\hat{B}\sin\frac{1}{2}\theta
  </annotation>
 </semantics>
</math>

 is the <em>reverse</em> of 

<math display="inline" id="Rotation_formalisms_in_three_dimensions:157">
 <semantics>
  <mi>R</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>R</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \scriptstyle R
  </annotation>
 </semantics>
</math>

 (reversing the order of the vectors in 

<math display="inline" id="Rotation_formalisms_in_three_dimensions:158">
 <semantics>
  <mi>B</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>B</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \scriptstyle B
  </annotation>
 </semantics>
</math>

 is equivalent to changing its sign).</p>

<p><strong>Example.</strong> A rotation about the axis 

<math display="inline" id="Rotation_formalisms_in_three_dimensions:159">
 <semantics>
  <mrow>
   <mpadded width="+2.8pt">
    <mover accent="true">
     <mi>v</mi>
     <mo stretchy="false">^</mo>
    </mover>
   </mpadded>
   <mo rspace="5.3pt">=</mo>
   <mrow>
    <mstyle scriptlevel="+1">
     <mfrac>
      <mn>1</mn>
      <msqrt>
       <mn>3</mn>
      </msqrt>
     </mfrac>
    </mstyle>
    <mrow>
     <mo stretchy="false">(</mo>
     <mrow>
      <mpadded width="+1.7pt">
       <mover accent="true">
        <mi>x</mi>
        <mo stretchy="false">^</mo>
       </mover>
      </mpadded>
      <mo rspace="4.2pt">+</mo>
      <mpadded width="+1.7pt">
       <mover accent="true">
        <mi>y</mi>
        <mo stretchy="false">^</mo>
       </mover>
      </mpadded>
      <mo rspace="4.2pt">+</mo>
      <mover accent="true">
       <mi>z</mi>
       <mo stretchy="false">^</mo>
      </mover>
     </mrow>
     <mo stretchy="false">)</mo>
    </mrow>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <ci>normal-^</ci>
     <ci>v</ci>
    </apply>
    <apply>
     <times></times>
     <apply>
      <divide></divide>
      <cn type="integer">1</cn>
      <apply>
       <root></root>
       <cn type="integer">3</cn>
      </apply>
     </apply>
     <apply>
      <plus></plus>
      <apply>
       <ci>normal-^</ci>
       <ci>x</ci>
      </apply>
      <apply>
       <ci>normal-^</ci>
       <ci>y</ci>
      </apply>
      <apply>
       <ci>normal-^</ci>
       <ci>z</ci>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \scriptstyle\hat{v}\;=\;\frac{1}{\sqrt{3}}(\hat{x}\,+\,\hat{y}\,+\,\hat{z})
  </annotation>
 </semantics>
</math>

 can be accomplished by converting 

<math display="inline" id="Rotation_formalisms_in_three_dimensions:160">
 <semantics>
  <mover accent="true">
   <mi>v</mi>
   <mo stretchy="false">^</mo>
  </mover>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <ci>normal-^</ci>
    <ci>v</ci>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \scriptstyle\hat{v}
  </annotation>
 </semantics>
</math>

 to its dual bivector, 

<math display="inline" id="Rotation_formalisms_in_three_dimensions:161">
 <semantics>
  <mrow>
   <mpadded width="+2.8pt">
    <mover accent="true">
     <mi>B</mi>
     <mo stretchy="false">^</mo>
    </mover>
   </mpadded>
   <mo rspace="5.3pt">=</mo>
   <mrow>
    <mover accent="true">
     <mi>x</mi>
     <mo stretchy="false">^</mo>
    </mover>
    <mover accent="true">
     <mi>y</mi>
     <mo stretchy="false">^</mo>
    </mover>
    <mover accent="true">
     <mi>z</mi>
     <mo stretchy="false">^</mo>
    </mover>
    <mpadded width="+2.8pt">
     <mover accent="true">
      <mi>v</mi>
      <mo stretchy="false">^</mo>
     </mover>
    </mpadded>
   </mrow>
   <mo rspace="5.3pt">=</mo>
   <mrow>
    <mi>i</mi>
    <mover accent="true">
     <mi>v</mi>
     <mo stretchy="false">^</mo>
    </mover>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <and></and>
    <apply>
     <eq></eq>
     <apply>
      <ci>normal-^</ci>
      <ci>B</ci>
     </apply>
     <apply>
      <times></times>
      <apply>
       <ci>normal-^</ci>
       <ci>x</ci>
      </apply>
      <apply>
       <ci>normal-^</ci>
       <ci>y</ci>
      </apply>
      <apply>
       <ci>normal-^</ci>
       <ci>z</ci>
      </apply>
      <apply>
       <ci>normal-^</ci>
       <ci>v</ci>
      </apply>
     </apply>
    </apply>
    <apply>
     <eq></eq>
     <share href="#.cmml">
     </share>
     <apply>
      <times></times>
      <ci>i</ci>
      <apply>
       <ci>normal-^</ci>
       <ci>v</ci>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \scriptstyle\hat{B}\;=\;\hat{x}\hat{y}\hat{z}\hat{v}\;=\;i\hat{v}
  </annotation>
 </semantics>
</math>

, where 

<math display="inline" id="Rotation_formalisms_in_three_dimensions:162">
 <semantics>
  <mrow>
   <mpadded width="+2.8pt">
    <mi>i</mi>
   </mpadded>
   <mo rspace="5.3pt">=</mo>
   <mrow>
    <mover accent="true">
     <mi>x</mi>
     <mo stretchy="false">^</mo>
    </mover>
    <mover accent="true">
     <mi>y</mi>
     <mo stretchy="false">^</mo>
    </mover>
    <mover accent="true">
     <mi>z</mi>
     <mo stretchy="false">^</mo>
    </mover>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <ci>i</ci>
    <apply>
     <times></times>
     <apply>
      <ci>normal-^</ci>
      <ci>x</ci>
     </apply>
     <apply>
      <ci>normal-^</ci>
      <ci>y</ci>
     </apply>
     <apply>
      <ci>normal-^</ci>
      <ci>z</ci>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \scriptstyle i\;=\;\hat{x}\hat{y}\hat{z}
  </annotation>
 </semantics>
</math>

 is the unit volume element, the only trivector (pseudoscalar) in three-dimensional space. The result is 

<math display="inline" id="Rotation_formalisms_in_three_dimensions:163">
 <semantics>
  <mrow>
   <mpadded width="+2.8pt">
    <mover accent="true">
     <mi>B</mi>
     <mo stretchy="false">^</mo>
    </mover>
   </mpadded>
   <mo rspace="5.3pt">=</mo>
   <mrow>
    <mstyle scriptlevel="+1">
     <mfrac>
      <mn>1</mn>
      <msqrt>
       <mn>3</mn>
      </msqrt>
     </mfrac>
    </mstyle>
    <mrow>
     <mo stretchy="false">(</mo>
     <mrow>
      <mrow>
       <mover accent="true">
        <mi>y</mi>
        <mo stretchy="false">^</mo>
       </mover>
       <mpadded width="+1.7pt">
        <mover accent="true">
         <mi>z</mi>
         <mo stretchy="false">^</mo>
        </mover>
       </mpadded>
      </mrow>
      <mo rspace="4.2pt">+</mo>
      <mrow>
       <mover accent="true">
        <mi>z</mi>
        <mo stretchy="false">^</mo>
       </mover>
       <mpadded width="+1.7pt">
        <mover accent="true">
         <mi>x</mi>
         <mo stretchy="false">^</mo>
        </mover>
       </mpadded>
      </mrow>
      <mo rspace="4.2pt">+</mo>
      <mrow>
       <mover accent="true">
        <mi>x</mi>
        <mo stretchy="false">^</mo>
       </mover>
       <mover accent="true">
        <mi>y</mi>
        <mo stretchy="false">^</mo>
       </mover>
      </mrow>
     </mrow>
     <mo stretchy="false">)</mo>
    </mrow>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <ci>normal-^</ci>
     <ci>B</ci>
    </apply>
    <apply>
     <times></times>
     <apply>
      <divide></divide>
      <cn type="integer">1</cn>
      <apply>
       <root></root>
       <cn type="integer">3</cn>
      </apply>
     </apply>
     <apply>
      <plus></plus>
      <apply>
       <times></times>
       <apply>
        <ci>normal-^</ci>
        <ci>y</ci>
       </apply>
       <apply>
        <ci>normal-^</ci>
        <ci>z</ci>
       </apply>
      </apply>
      <apply>
       <times></times>
       <apply>
        <ci>normal-^</ci>
        <ci>z</ci>
       </apply>
       <apply>
        <ci>normal-^</ci>
        <ci>x</ci>
       </apply>
      </apply>
      <apply>
       <times></times>
       <apply>
        <ci>normal-^</ci>
        <ci>x</ci>
       </apply>
       <apply>
        <ci>normal-^</ci>
        <ci>y</ci>
       </apply>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \scriptstyle\hat{B}\;=\;\frac{1}{\sqrt{3}}(\hat{y}\hat{z}\,+\,\hat{z}\hat{x}\,%
+\,\hat{x}\hat{y})
  </annotation>
 </semantics>
</math>

. In three-dimensional space, however, it is often simpler to leave the expression for 

<math display="inline" id="Rotation_formalisms_in_three_dimensions:164">
 <semantics>
  <mrow>
   <mpadded width="+2.8pt">
    <mover accent="true">
     <mi>B</mi>
     <mo stretchy="false">^</mo>
    </mover>
   </mpadded>
   <mo rspace="5.3pt">=</mo>
   <mrow>
    <mi>i</mi>
    <mover accent="true">
     <mi>v</mi>
     <mo stretchy="false">^</mo>
    </mover>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <ci>normal-^</ci>
     <ci>B</ci>
    </apply>
    <apply>
     <times></times>
     <ci>i</ci>
     <apply>
      <ci>normal-^</ci>
      <ci>v</ci>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \scriptstyle\hat{B}\;=\;i\hat{v}
  </annotation>
 </semantics>
</math>

, using the fact that 

<math display="inline" id="Rotation_formalisms_in_three_dimensions:165">
 <semantics>
  <mi>i</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>i</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \scriptstyle i
  </annotation>
 </semantics>
</math>

 commutes with all objects in 3D and also squares to −1. A rotation of the 

<math display="inline" id="Rotation_formalisms_in_three_dimensions:166">
 <semantics>
  <mover accent="true">
   <mi>x</mi>
   <mo stretchy="false">^</mo>
  </mover>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <ci>normal-^</ci>
    <ci>x</ci>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \scriptstyle\hat{x}
  </annotation>
 </semantics>
</math>

 vector in this plane by an angle 

<math display="inline" id="Rotation_formalisms_in_three_dimensions:167">
 <semantics>
  <mi>θ</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>θ</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \scriptstyle\theta
  </annotation>
 </semantics>
</math>

 is then</p>

<p>

<math display="block" id="Rotation_formalisms_in_three_dimensions:168">
 <semantics>
  <mrow>
   <msup>
    <mover accent="true">
     <mi>x</mi>
     <mo stretchy="false">^</mo>
    </mover>
    <mo>′</mo>
   </msup>
   <mo>=</mo>
   <mrow>
    <mi>R</mi>
    <mover accent="true">
     <mi>x</mi>
     <mo stretchy="false">^</mo>
    </mover>
    <msup>
     <mi>R</mi>
     <mo>†</mo>
    </msup>
   </mrow>
   <mo>=</mo>
   <mrow>
    <msup>
     <mi>e</mi>
     <mrow>
      <mo>-</mo>
      <mrow>
       <mi>i</mi>
       <mover accent="true">
        <mi>v</mi>
        <mo stretchy="false">^</mo>
       </mover>
       <mfrac>
        <mi>θ</mi>
        <mn>2</mn>
       </mfrac>
      </mrow>
     </mrow>
    </msup>
    <mover accent="true">
     <mi>x</mi>
     <mo stretchy="false">^</mo>
    </mover>
    <msup>
     <mi>e</mi>
     <mrow>
      <mi>i</mi>
      <mover accent="true">
       <mi>v</mi>
       <mo stretchy="false">^</mo>
      </mover>
      <mfrac>
       <mi>θ</mi>
       <mn>2</mn>
      </mfrac>
     </mrow>
    </msup>
   </mrow>
   <mo>=</mo>
   <mrow>
    <mrow>
     <mover accent="true">
      <mi>x</mi>
      <mo stretchy="false">^</mo>
     </mover>
     <mrow>
      <msup>
       <mi>cos</mi>
       <mn>2</mn>
      </msup>
      <mfrac>
       <mi>θ</mi>
       <mn>2</mn>
      </mfrac>
     </mrow>
    </mrow>
    <mo>+</mo>
    <mrow>
     <mi>i</mi>
     <mrow>
      <mo stretchy="false">(</mo>
      <mrow>
       <mrow>
        <mover accent="true">
         <mi>x</mi>
         <mo stretchy="false">^</mo>
        </mover>
        <mover accent="true">
         <mi>v</mi>
         <mo stretchy="false">^</mo>
        </mover>
       </mrow>
       <mo>-</mo>
       <mrow>
        <mover accent="true">
         <mi>v</mi>
         <mo stretchy="false">^</mo>
        </mover>
        <mover accent="true">
         <mi>x</mi>
         <mo stretchy="false">^</mo>
        </mover>
       </mrow>
      </mrow>
      <mo stretchy="false">)</mo>
     </mrow>
     <mrow>
      <mi>cos</mi>
      <mfrac>
       <mi>θ</mi>
       <mn>2</mn>
      </mfrac>
     </mrow>
     <mrow>
      <mi>sin</mi>
      <mfrac>
       <mi>θ</mi>
       <mn>2</mn>
      </mfrac>
     </mrow>
    </mrow>
    <mo>+</mo>
    <mrow>
     <mover accent="true">
      <mi>v</mi>
      <mo stretchy="false">^</mo>
     </mover>
     <mover accent="true">
      <mi>x</mi>
      <mo stretchy="false">^</mo>
     </mover>
     <mover accent="true">
      <mi>v</mi>
      <mo stretchy="false">^</mo>
     </mover>
     <mrow>
      <msup>
       <mi>sin</mi>
       <mn>2</mn>
      </msup>
      <mfrac>
       <mi>θ</mi>
       <mn>2</mn>
      </mfrac>
     </mrow>
    </mrow>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <and></and>
    <apply>
     <eq></eq>
     <apply>
      <csymbol cd="ambiguous">superscript</csymbol>
      <apply>
       <ci>normal-^</ci>
       <ci>x</ci>
      </apply>
      <ci>normal-′</ci>
     </apply>
     <apply>
      <times></times>
      <ci>R</ci>
      <apply>
       <ci>normal-^</ci>
       <ci>x</ci>
      </apply>
      <apply>
       <csymbol cd="ambiguous">superscript</csymbol>
       <ci>R</ci>
       <ci>normal-†</ci>
      </apply>
     </apply>
    </apply>
    <apply>
     <eq></eq>
     <share href="#.cmml">
     </share>
     <apply>
      <times></times>
      <apply>
       <csymbol cd="ambiguous">superscript</csymbol>
       <ci>e</ci>
       <apply>
        <minus></minus>
        <apply>
         <times></times>
         <ci>i</ci>
         <apply>
          <ci>normal-^</ci>
          <ci>v</ci>
         </apply>
         <apply>
          <divide></divide>
          <ci>θ</ci>
          <cn type="integer">2</cn>
         </apply>
        </apply>
       </apply>
      </apply>
      <apply>
       <ci>normal-^</ci>
       <ci>x</ci>
      </apply>
      <apply>
       <csymbol cd="ambiguous">superscript</csymbol>
       <ci>e</ci>
       <apply>
        <times></times>
        <ci>i</ci>
        <apply>
         <ci>normal-^</ci>
         <ci>v</ci>
        </apply>
        <apply>
         <divide></divide>
         <ci>θ</ci>
         <cn type="integer">2</cn>
        </apply>
       </apply>
      </apply>
     </apply>
    </apply>
    <apply>
     <eq></eq>
     <share href="#.cmml">
     </share>
     <apply>
      <plus></plus>
      <apply>
       <times></times>
       <apply>
        <ci>normal-^</ci>
        <ci>x</ci>
       </apply>
       <apply>
        <apply>
         <csymbol cd="ambiguous">superscript</csymbol>
         <cos></cos>
         <cn type="integer">2</cn>
        </apply>
        <apply>
         <divide></divide>
         <ci>θ</ci>
         <cn type="integer">2</cn>
        </apply>
       </apply>
      </apply>
      <apply>
       <times></times>
       <ci>i</ci>
       <apply>
        <minus></minus>
        <apply>
         <times></times>
         <apply>
          <ci>normal-^</ci>
          <ci>x</ci>
         </apply>
         <apply>
          <ci>normal-^</ci>
          <ci>v</ci>
         </apply>
        </apply>
        <apply>
         <times></times>
         <apply>
          <ci>normal-^</ci>
          <ci>v</ci>
         </apply>
         <apply>
          <ci>normal-^</ci>
          <ci>x</ci>
         </apply>
        </apply>
       </apply>
       <apply>
        <cos></cos>
        <apply>
         <divide></divide>
         <ci>θ</ci>
         <cn type="integer">2</cn>
        </apply>
       </apply>
       <apply>
        <sin></sin>
        <apply>
         <divide></divide>
         <ci>θ</ci>
         <cn type="integer">2</cn>
        </apply>
       </apply>
      </apply>
      <apply>
       <times></times>
       <apply>
        <ci>normal-^</ci>
        <ci>v</ci>
       </apply>
       <apply>
        <ci>normal-^</ci>
        <ci>x</ci>
       </apply>
       <apply>
        <ci>normal-^</ci>
        <ci>v</ci>
       </apply>
       <apply>
        <apply>
         <csymbol cd="ambiguous">superscript</csymbol>
         <sin></sin>
         <cn type="integer">2</cn>
        </apply>
        <apply>
         <divide></divide>
         <ci>θ</ci>
         <cn type="integer">2</cn>
        </apply>
       </apply>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \hat{x}^{\prime}=R\hat{x}R^{\dagger}=e^{-i\hat{v}\frac{\theta}{2}}\hat{x}e^{i%
\hat{v}\frac{\theta}{2}}=\hat{x}\cos^{2}\frac{\theta}{2}+i(\hat{x}\hat{v}-\hat%
{v}\hat{x})\cos\frac{\theta}{2}\sin\frac{\theta}{2}+\hat{v}\hat{x}\hat{v}\sin^%
{2}\frac{\theta}{2}
  </annotation>
 </semantics>
</math>

</p>

<p>Recognizing that 

<math display="inline" id="Rotation_formalisms_in_three_dimensions:169">
 <semantics>
  <mrow>
   <mrow>
    <mi>i</mi>
    <mrow>
     <mo stretchy="false">(</mo>
     <mrow>
      <mrow>
       <mover accent="true">
        <mi>x</mi>
        <mo stretchy="false">^</mo>
       </mover>
       <mpadded width="+1.7pt">
        <mover accent="true">
         <mi>v</mi>
         <mo stretchy="false">^</mo>
        </mover>
       </mpadded>
      </mrow>
      <mo rspace="4.2pt">-</mo>
      <mrow>
       <mover accent="true">
        <mi>v</mi>
        <mo stretchy="false">^</mo>
       </mover>
       <mover accent="true">
        <mi>x</mi>
        <mo stretchy="false">^</mo>
       </mover>
      </mrow>
     </mrow>
     <mo rspace="5.3pt" stretchy="false">)</mo>
    </mrow>
   </mrow>
   <mo>=</mo>
   <mrow>
    <mn>2</mn>
    <mi>i</mi>
    <mrow>
     <mo stretchy="false">(</mo>
     <mrow>
      <mpadded width="+1.7pt">
       <mover accent="true">
        <mi>x</mi>
        <mo stretchy="false">^</mo>
       </mover>
      </mpadded>
      <mo rspace="4.2pt">∧</mo>
      <mover accent="true">
       <mi>v</mi>
       <mo stretchy="false">^</mo>
      </mover>
     </mrow>
     <mo stretchy="false">)</mo>
    </mrow>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <times></times>
     <ci>i</ci>
     <apply>
      <minus></minus>
      <apply>
       <times></times>
       <apply>
        <ci>normal-^</ci>
        <ci>x</ci>
       </apply>
       <apply>
        <ci>normal-^</ci>
        <ci>v</ci>
       </apply>
      </apply>
      <apply>
       <times></times>
       <apply>
        <ci>normal-^</ci>
        <ci>v</ci>
       </apply>
       <apply>
        <ci>normal-^</ci>
        <ci>x</ci>
       </apply>
      </apply>
     </apply>
    </apply>
    <apply>
     <times></times>
     <cn type="float">2</cn>
     <ci>i</ci>
     <apply>
      <and></and>
      <apply>
       <ci>normal-^</ci>
       <ci>x</ci>
      </apply>
      <apply>
       <ci>normal-^</ci>
       <ci>v</ci>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \scriptstyle i(\hat{x}\hat{v}\,-\,\hat{v}\hat{x})\;=\;2i(\hat{x}\,\wedge\,\hat%
{v})
  </annotation>
 </semantics>
</math>

 and that 

<math display="inline" id="Rotation_formalisms_in_three_dimensions:170">
 <semantics>
  <mrow>
   <mo>-</mo>
   <mrow>
    <mover accent="true">
     <mi>v</mi>
     <mo stretchy="false">^</mo>
    </mover>
    <mover accent="true">
     <mi>x</mi>
     <mo stretchy="false">^</mo>
    </mover>
    <mover accent="true">
     <mi>v</mi>
     <mo stretchy="false">^</mo>
    </mover>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <minus></minus>
    <apply>
     <times></times>
     <apply>
      <ci>normal-^</ci>
      <ci>v</ci>
     </apply>
     <apply>
      <ci>normal-^</ci>
      <ci>x</ci>
     </apply>
     <apply>
      <ci>normal-^</ci>
      <ci>v</ci>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \scriptstyle-\hat{v}\hat{x}\hat{v}
  </annotation>
 </semantics>
</math>

 is the reflection of 

<math display="inline" id="Rotation_formalisms_in_three_dimensions:171">
 <semantics>
  <mover accent="true">
   <mi>x</mi>
   <mo stretchy="false">^</mo>
  </mover>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <ci>normal-^</ci>
    <ci>x</ci>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \scriptstyle\hat{x}
  </annotation>
 </semantics>
</math>

 about the plane perpendicular to 

<math display="inline" id="Rotation_formalisms_in_three_dimensions:172">
 <semantics>
  <mover accent="true">
   <mi>v</mi>
   <mo stretchy="false">^</mo>
  </mover>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <ci>normal-^</ci>
    <ci>v</ci>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \scriptstyle\hat{v}
  </annotation>
 </semantics>
</math>

 gives a geometric interpretation to the rotation operation: the rotation preserves the components that are parallel to 

<math display="inline" id="Rotation_formalisms_in_three_dimensions:173">
 <semantics>
  <mover accent="true">
   <mi>v</mi>
   <mo stretchy="false">^</mo>
  </mover>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <ci>normal-^</ci>
    <ci>v</ci>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \scriptstyle\hat{v}
  </annotation>
 </semantics>
</math>

 and changes only those that are perpendicular. The terms are then computed:</p>

<p>

<math display="inline" id="Rotation_formalisms_in_three_dimensions:174">
 <semantics>
  <mrow>
   <mover accent="true">
    <mi>v</mi>
    <mo stretchy="false">^</mo>
   </mover>
   <mover accent="true">
    <mi>x</mi>
    <mo stretchy="false">^</mo>
   </mover>
   <mover accent="true">
    <mi>v</mi>
    <mo stretchy="false">^</mo>
   </mover>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <times></times>
    <apply>
     <ci>normal-^</ci>
     <ci>v</ci>
    </apply>
    <apply>
     <ci>normal-^</ci>
     <ci>x</ci>
    </apply>
    <apply>
     <ci>normal-^</ci>
     <ci>v</ci>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \displaystyle\hat{v}\hat{x}\hat{v}
  </annotation>
 </semantics>
</math>


</p>

<p>The result of the rotation is then</p>

<p>

<math display="block" id="Rotation_formalisms_in_three_dimensions:175">
 <semantics>
  <mrow>
   <msup>
    <mover accent="true">
     <mi>x</mi>
     <mo stretchy="false">^</mo>
    </mover>
    <mo>′</mo>
   </msup>
   <mo>=</mo>
   <mrow>
    <mrow>
     <mover accent="true">
      <mi>x</mi>
      <mo stretchy="false">^</mo>
     </mover>
     <mrow>
      <mo>(</mo>
      <mrow>
       <mrow>
        <msup>
         <mi>cos</mi>
         <mn>2</mn>
        </msup>
        <mfrac>
         <mi>θ</mi>
         <mn>2</mn>
        </mfrac>
       </mrow>
       <mo>-</mo>
       <mrow>
        <mfrac>
         <mn>1</mn>
         <mn>3</mn>
        </mfrac>
        <mrow>
         <msup>
          <mi>sin</mi>
          <mn>2</mn>
         </msup>
         <mfrac>
          <mi>θ</mi>
          <mn>2</mn>
         </mfrac>
        </mrow>
       </mrow>
      </mrow>
      <mo>)</mo>
     </mrow>
    </mrow>
    <mo>+</mo>
    <mrow>
     <mfrac>
      <mn>2</mn>
      <mn>3</mn>
     </mfrac>
     <mover accent="true">
      <mi>y</mi>
      <mo stretchy="false">^</mo>
     </mover>
     <mrow>
      <mi>sin</mi>
      <mfrac>
       <mi>θ</mi>
       <mn>2</mn>
      </mfrac>
     </mrow>
     <mrow>
      <mo>(</mo>
      <mrow>
       <mrow>
        <mi>sin</mi>
        <mfrac>
         <mi>θ</mi>
         <mn>2</mn>
        </mfrac>
       </mrow>
       <mo>+</mo>
       <mrow>
        <msqrt>
         <mn>3</mn>
        </msqrt>
        <mrow>
         <mi>cos</mi>
         <mfrac>
          <mi>θ</mi>
          <mn>2</mn>
         </mfrac>
        </mrow>
       </mrow>
      </mrow>
      <mo>)</mo>
     </mrow>
    </mrow>
    <mo>+</mo>
    <mrow>
     <mfrac>
      <mn>2</mn>
      <mn>3</mn>
     </mfrac>
     <mover accent="true">
      <mi>z</mi>
      <mo stretchy="false">^</mo>
     </mover>
     <mrow>
      <mi>sin</mi>
      <mfrac>
       <mi>θ</mi>
       <mn>2</mn>
      </mfrac>
     </mrow>
     <mrow>
      <mo>(</mo>
      <mrow>
       <mrow>
        <mi>sin</mi>
        <mfrac>
         <mi>θ</mi>
         <mn>2</mn>
        </mfrac>
       </mrow>
       <mo>-</mo>
       <mrow>
        <msqrt>
         <mn>3</mn>
        </msqrt>
        <mrow>
         <mi>cos</mi>
         <mfrac>
          <mi>θ</mi>
          <mn>2</mn>
         </mfrac>
        </mrow>
       </mrow>
      </mrow>
      <mo>)</mo>
     </mrow>
    </mrow>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <csymbol cd="ambiguous">superscript</csymbol>
     <apply>
      <ci>normal-^</ci>
      <ci>x</ci>
     </apply>
     <ci>normal-′</ci>
    </apply>
    <apply>
     <plus></plus>
     <apply>
      <times></times>
      <apply>
       <ci>normal-^</ci>
       <ci>x</ci>
      </apply>
      <apply>
       <minus></minus>
       <apply>
        <apply>
         <csymbol cd="ambiguous">superscript</csymbol>
         <cos></cos>
         <cn type="integer">2</cn>
        </apply>
        <apply>
         <divide></divide>
         <ci>θ</ci>
         <cn type="integer">2</cn>
        </apply>
       </apply>
       <apply>
        <times></times>
        <apply>
         <divide></divide>
         <cn type="integer">1</cn>
         <cn type="integer">3</cn>
        </apply>
        <apply>
         <apply>
          <csymbol cd="ambiguous">superscript</csymbol>
          <sin></sin>
          <cn type="integer">2</cn>
         </apply>
         <apply>
          <divide></divide>
          <ci>θ</ci>
          <cn type="integer">2</cn>
         </apply>
        </apply>
       </apply>
      </apply>
     </apply>
     <apply>
      <times></times>
      <apply>
       <divide></divide>
       <cn type="integer">2</cn>
       <cn type="integer">3</cn>
      </apply>
      <apply>
       <ci>normal-^</ci>
       <ci>y</ci>
      </apply>
      <apply>
       <sin></sin>
       <apply>
        <divide></divide>
        <ci>θ</ci>
        <cn type="integer">2</cn>
       </apply>
      </apply>
      <apply>
       <plus></plus>
       <apply>
        <sin></sin>
        <apply>
         <divide></divide>
         <ci>θ</ci>
         <cn type="integer">2</cn>
        </apply>
       </apply>
       <apply>
        <times></times>
        <apply>
         <root></root>
         <cn type="integer">3</cn>
        </apply>
        <apply>
         <cos></cos>
         <apply>
          <divide></divide>
          <ci>θ</ci>
          <cn type="integer">2</cn>
         </apply>
        </apply>
       </apply>
      </apply>
     </apply>
     <apply>
      <times></times>
      <apply>
       <divide></divide>
       <cn type="integer">2</cn>
       <cn type="integer">3</cn>
      </apply>
      <apply>
       <ci>normal-^</ci>
       <ci>z</ci>
      </apply>
      <apply>
       <sin></sin>
       <apply>
        <divide></divide>
        <ci>θ</ci>
        <cn type="integer">2</cn>
       </apply>
      </apply>
      <apply>
       <minus></minus>
       <apply>
        <sin></sin>
        <apply>
         <divide></divide>
         <ci>θ</ci>
         <cn type="integer">2</cn>
        </apply>
       </apply>
       <apply>
        <times></times>
        <apply>
         <root></root>
         <cn type="integer">3</cn>
        </apply>
        <apply>
         <cos></cos>
         <apply>
          <divide></divide>
          <ci>θ</ci>
          <cn type="integer">2</cn>
         </apply>
        </apply>
       </apply>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \hat{x}^{\prime}=\hat{x}\left(\cos^{2}\frac{\theta}{2}-\frac{1}{3}\sin^{2}%
\frac{\theta}{2}\right)+\frac{2}{3}\hat{y}\sin\frac{\theta}{2}\left(\sin\frac{%
\theta}{2}+\sqrt{3}\cos\frac{\theta}{2}\right)+\frac{2}{3}\hat{z}\sin\frac{%
\theta}{2}\left(\sin\frac{\theta}{2}-\sqrt{3}\cos\frac{\theta}{2}\right)
  </annotation>
 </semantics>
</math>

</p>

<p>A simple check on this result is the angle 

<math display="inline" id="Rotation_formalisms_in_three_dimensions:176">
 <semantics>
  <mrow>
   <mpadded width="+2.8pt">
    <mi>θ</mi>
   </mpadded>
   <mo rspace="5.3pt">=</mo>
   <mrow>
    <mstyle scriptlevel="+1">
     <mfrac>
      <mn>2</mn>
      <mn>3</mn>
     </mfrac>
    </mstyle>
    <mi>π</mi>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <ci>θ</ci>
    <apply>
     <times></times>
     <apply>
      <divide></divide>
      <cn type="integer">2</cn>
      <cn type="integer">3</cn>
     </apply>
     <ci>π</ci>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \scriptstyle\theta\;=\;\frac{2}{3}\pi
  </annotation>
 </semantics>
</math>

. Such a rotation should map the 

<math display="inline" id="Rotation_formalisms_in_three_dimensions:177">
 <semantics>
  <mover accent="true">
   <mi>x</mi>
   <mo stretchy="false">^</mo>
  </mover>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <ci>normal-^</ci>
    <ci>x</ci>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \scriptstyle\hat{x}
  </annotation>
 </semantics>
</math>

 to 

<math display="inline" id="Rotation_formalisms_in_three_dimensions:178">
 <semantics>
  <mover accent="true">
   <mi>y</mi>
   <mo stretchy="false">^</mo>
  </mover>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <ci>normal-^</ci>
    <ci>y</ci>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \scriptstyle\hat{y}
  </annotation>
 </semantics>
</math>

. Indeed, the rotation reduces to</p>

<p>

<math display="inline" id="Rotation_formalisms_in_three_dimensions:179">
 <semantics>
  <msup>
   <mover accent="true">
    <mi>x</mi>
    <mo stretchy="false">^</mo>
   </mover>
   <mo>′</mo>
  </msup>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <csymbol cd="ambiguous">superscript</csymbol>
    <apply>
     <ci>normal-^</ci>
     <ci>x</ci>
    </apply>
    <ci>normal-′</ci>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \displaystyle\hat{x}^{\prime}
  </annotation>
 </semantics>
</math>


</p>

<p>exactly as expected. This rotation formula is valid not only for vectors but for any <a class="uri" href="multivector" title="wikilink">multivector</a>. In addition, when Euler angles are used, the complexity of the operation is much reduced. Compounded rotations come from multiplying the rotors, so the total rotor from Euler angles is</p>

<p>

<math display="block" id="Rotation_formalisms_in_three_dimensions:180">
 <semantics>
  <mrow>
   <mi>R</mi>
   <mo>=</mo>
   <mrow>
    <msub>
     <mi>R</mi>
     <msup>
      <mi>γ</mi>
      <mo>′</mo>
     </msup>
    </msub>
    <msub>
     <mi>R</mi>
     <msup>
      <mi>β</mi>
      <mo>′</mo>
     </msup>
    </msub>
    <msub>
     <mi>R</mi>
     <mi>α</mi>
    </msub>
   </mrow>
   <mo>=</mo>
   <mrow>
    <mrow>
     <mi>exp</mi>
     <mrow>
      <mo>(</mo>
      <mfrac>
       <mrow>
        <mo>-</mo>
        <mrow>
         <mi>i</mi>
         <msup>
          <mover accent="true">
           <mi>z</mi>
           <mo stretchy="false">^</mo>
          </mover>
          <mo>′</mo>
         </msup>
         <mi>γ</mi>
        </mrow>
       </mrow>
       <mn>2</mn>
      </mfrac>
      <mo>)</mo>
     </mrow>
    </mrow>
    <mrow>
     <mi>exp</mi>
     <mrow>
      <mo>(</mo>
      <mfrac>
       <mrow>
        <mo>-</mo>
        <mrow>
         <mi>i</mi>
         <msup>
          <mover accent="true">
           <mi>x</mi>
           <mo stretchy="false">^</mo>
          </mover>
          <mo>′</mo>
         </msup>
         <mi>β</mi>
        </mrow>
       </mrow>
       <mn>2</mn>
      </mfrac>
      <mo>)</mo>
     </mrow>
    </mrow>
    <mrow>
     <mi>exp</mi>
     <mrow>
      <mo>(</mo>
      <mfrac>
       <mrow>
        <mo>-</mo>
        <mrow>
         <mi>i</mi>
         <mover accent="true">
          <mi>z</mi>
          <mo stretchy="false">^</mo>
         </mover>
         <mi>α</mi>
        </mrow>
       </mrow>
       <mn>2</mn>
      </mfrac>
      <mo>)</mo>
     </mrow>
    </mrow>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <and></and>
    <apply>
     <eq></eq>
     <ci>R</ci>
     <apply>
      <times></times>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>R</ci>
       <apply>
        <csymbol cd="ambiguous">superscript</csymbol>
        <ci>γ</ci>
        <ci>normal-′</ci>
       </apply>
      </apply>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>R</ci>
       <apply>
        <csymbol cd="ambiguous">superscript</csymbol>
        <ci>β</ci>
        <ci>normal-′</ci>
       </apply>
      </apply>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>R</ci>
       <ci>α</ci>
      </apply>
     </apply>
    </apply>
    <apply>
     <eq></eq>
     <share href="#.cmml">
     </share>
     <apply>
      <times></times>
      <apply>
       <exp></exp>
       <apply>
        <divide></divide>
        <apply>
         <minus></minus>
         <apply>
          <times></times>
          <ci>i</ci>
          <apply>
           <csymbol cd="ambiguous">superscript</csymbol>
           <apply>
            <ci>normal-^</ci>
            <ci>z</ci>
           </apply>
           <ci>normal-′</ci>
          </apply>
          <ci>γ</ci>
         </apply>
        </apply>
        <cn type="integer">2</cn>
       </apply>
      </apply>
      <apply>
       <exp></exp>
       <apply>
        <divide></divide>
        <apply>
         <minus></minus>
         <apply>
          <times></times>
          <ci>i</ci>
          <apply>
           <csymbol cd="ambiguous">superscript</csymbol>
           <apply>
            <ci>normal-^</ci>
            <ci>x</ci>
           </apply>
           <ci>normal-′</ci>
          </apply>
          <ci>β</ci>
         </apply>
        </apply>
        <cn type="integer">2</cn>
       </apply>
      </apply>
      <apply>
       <exp></exp>
       <apply>
        <divide></divide>
        <apply>
         <minus></minus>
         <apply>
          <times></times>
          <ci>i</ci>
          <apply>
           <ci>normal-^</ci>
           <ci>z</ci>
          </apply>
          <ci>α</ci>
         </apply>
        </apply>
        <cn type="integer">2</cn>
       </apply>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   R=R_{\gamma^{\prime}}R_{\beta^{\prime}}R_{\alpha}=\exp\left(\frac{-i\hat{z}^{%
\prime}\gamma}{2}\right)\exp\left(\frac{-i\hat{x}^{\prime}\beta}{2}\right)\exp%
\left(\frac{-i\hat{z}\alpha}{2}\right)
  </annotation>
 </semantics>
</math>

</p>

<p>but 

<math display="inline" id="Rotation_formalisms_in_three_dimensions:181">
 <semantics>
  <mrow>
   <mpadded width="+2.8pt">
    <msup>
     <mover accent="true">
      <mi>x</mi>
      <mo stretchy="false">^</mo>
     </mover>
     <mo>′</mo>
    </msup>
   </mpadded>
   <mo rspace="5.3pt">=</mo>
   <mrow>
    <msub>
     <mi>R</mi>
     <mi>α</mi>
    </msub>
    <mover accent="true">
     <mi>x</mi>
     <mo stretchy="false">^</mo>
    </mover>
    <msubsup>
     <mi>R</mi>
     <mi>α</mi>
     <mo>†</mo>
    </msubsup>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <csymbol cd="ambiguous">superscript</csymbol>
     <apply>
      <ci>normal-^</ci>
      <ci>x</ci>
     </apply>
     <ci>normal-′</ci>
    </apply>
    <apply>
     <times></times>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <ci>R</ci>
      <ci>α</ci>
     </apply>
     <apply>
      <ci>normal-^</ci>
      <ci>x</ci>
     </apply>
     <apply>
      <csymbol cd="ambiguous">superscript</csymbol>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>R</ci>
       <ci>α</ci>
      </apply>
      <ci>normal-†</ci>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \scriptstyle\hat{x}^{\prime}\;=\;R_{\alpha}\hat{x}R_{\alpha}^{\dagger}
  </annotation>
 </semantics>
</math>

 and 

<math display="inline" id="Rotation_formalisms_in_three_dimensions:182">
 <semantics>
  <mrow>
   <mpadded width="+2.8pt">
    <msup>
     <mover accent="true">
      <mi>z</mi>
      <mo stretchy="false">^</mo>
     </mover>
     <mo>′</mo>
    </msup>
   </mpadded>
   <mo rspace="5.3pt">=</mo>
   <mrow>
    <msub>
     <mi>R</mi>
     <msup>
      <mi>β</mi>
      <mo>′</mo>
     </msup>
    </msub>
    <mover accent="true">
     <mi>z</mi>
     <mo stretchy="false">^</mo>
    </mover>
    <msubsup>
     <mi>R</mi>
     <msup>
      <mi>β</mi>
      <mo>′</mo>
     </msup>
     <mo>†</mo>
    </msubsup>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <csymbol cd="ambiguous">superscript</csymbol>
     <apply>
      <ci>normal-^</ci>
      <ci>z</ci>
     </apply>
     <ci>normal-′</ci>
    </apply>
    <apply>
     <times></times>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <ci>R</ci>
      <apply>
       <csymbol cd="ambiguous">superscript</csymbol>
       <ci>β</ci>
       <ci>normal-′</ci>
      </apply>
     </apply>
     <apply>
      <ci>normal-^</ci>
      <ci>z</ci>
     </apply>
     <apply>
      <csymbol cd="ambiguous">superscript</csymbol>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>R</ci>
       <apply>
        <csymbol cd="ambiguous">superscript</csymbol>
        <ci>β</ci>
        <ci>normal-′</ci>
       </apply>
      </apply>
      <ci>normal-†</ci>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \scriptstyle\hat{z}^{\prime}\;=\;R_{\beta^{\prime}}\hat{z}R_{\beta^{\prime}}^{\dagger}
  </annotation>
 </semantics>
</math>

. These rotors come back out of the exponentials like so:</p>

<p>

<math display="block" id="Rotation_formalisms_in_three_dimensions:183">
 <semantics>
  <mrow>
   <msub>
    <mi>R</mi>
    <msup>
     <mi>β</mi>
     <mo>′</mo>
    </msup>
   </msub>
   <mo>=</mo>
   <mrow>
    <mrow>
     <mi>cos</mi>
     <mfrac>
      <mi>β</mi>
      <mn>2</mn>
     </mfrac>
    </mrow>
    <mo>-</mo>
    <mrow>
     <mi>i</mi>
     <msub>
      <mi>R</mi>
      <mi>α</mi>
     </msub>
     <mover accent="true">
      <mi>x</mi>
      <mo stretchy="false">^</mo>
     </mover>
     <msubsup>
      <mi>R</mi>
      <mi>α</mi>
      <mo>†</mo>
     </msubsup>
     <mrow>
      <mi>sin</mi>
      <mfrac>
       <mi>β</mi>
       <mn>2</mn>
      </mfrac>
     </mrow>
    </mrow>
   </mrow>
   <mo>=</mo>
   <mrow>
    <msub>
     <mi>R</mi>
     <mi>α</mi>
    </msub>
    <msub>
     <mi>R</mi>
     <mi>β</mi>
    </msub>
    <msubsup>
     <mi>R</mi>
     <mi>α</mi>
     <mo>†</mo>
    </msubsup>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <and></and>
    <apply>
     <eq></eq>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <ci>R</ci>
      <apply>
       <csymbol cd="ambiguous">superscript</csymbol>
       <ci>β</ci>
       <ci>normal-′</ci>
      </apply>
     </apply>
     <apply>
      <minus></minus>
      <apply>
       <cos></cos>
       <apply>
        <divide></divide>
        <ci>β</ci>
        <cn type="integer">2</cn>
       </apply>
      </apply>
      <apply>
       <times></times>
       <ci>i</ci>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>R</ci>
        <ci>α</ci>
       </apply>
       <apply>
        <ci>normal-^</ci>
        <ci>x</ci>
       </apply>
       <apply>
        <csymbol cd="ambiguous">superscript</csymbol>
        <apply>
         <csymbol cd="ambiguous">subscript</csymbol>
         <ci>R</ci>
         <ci>α</ci>
        </apply>
        <ci>normal-†</ci>
       </apply>
       <apply>
        <sin></sin>
        <apply>
         <divide></divide>
         <ci>β</ci>
         <cn type="integer">2</cn>
        </apply>
       </apply>
      </apply>
     </apply>
    </apply>
    <apply>
     <eq></eq>
     <share href="#.cmml">
     </share>
     <apply>
      <times></times>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>R</ci>
       <ci>α</ci>
      </apply>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>R</ci>
       <ci>β</ci>
      </apply>
      <apply>
       <csymbol cd="ambiguous">superscript</csymbol>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>R</ci>
        <ci>α</ci>
       </apply>
       <ci>normal-†</ci>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   R_{\beta^{\prime}}=\cos\frac{\beta}{2}-iR_{\alpha}\hat{x}R_{\alpha}^{\dagger}%
\sin\frac{\beta}{2}=R_{\alpha}R_{\beta}R_{\alpha}^{\dagger}
  </annotation>
 </semantics>
</math>

</p>

<p>where 

<math display="inline" id="Rotation_formalisms_in_three_dimensions:184">
 <semantics>
  <msub>
   <mi>R</mi>
   <mi>β</mi>
  </msub>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <csymbol cd="ambiguous">subscript</csymbol>
    <ci>R</ci>
    <ci>β</ci>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \scriptstyle R_{\beta}
  </annotation>
 </semantics>
</math>

 refers to rotation in the original coordinates. Similarly for the 

<math display="inline" id="Rotation_formalisms_in_three_dimensions:185">
 <semantics>
  <mi>γ</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>γ</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \scriptstyle\gamma
  </annotation>
 </semantics>
</math>

 rotation, 

<math display="inline" id="Rotation_formalisms_in_three_dimensions:186">
 <semantics>
  <mrow>
   <mpadded width="+2.8pt">
    <msub>
     <mi>R</mi>
     <msup>
      <mi>γ</mi>
      <mo>′</mo>
     </msup>
    </msub>
   </mpadded>
   <mo rspace="5.3pt">=</mo>
   <mrow>
    <msub>
     <mi>R</mi>
     <msup>
      <mi>β</mi>
      <mo>′</mo>
     </msup>
    </msub>
    <msub>
     <mi>R</mi>
     <mi>γ</mi>
    </msub>
    <mpadded width="+2.8pt">
     <msubsup>
      <mi>R</mi>
      <msup>
       <mi>β</mi>
       <mo>′</mo>
      </msup>
      <mo>†</mo>
     </msubsup>
    </mpadded>
   </mrow>
   <mo rspace="5.3pt">=</mo>
   <mrow>
    <msub>
     <mi>R</mi>
     <mi>α</mi>
    </msub>
    <msub>
     <mi>R</mi>
     <mi>β</mi>
    </msub>
    <msubsup>
     <mi>R</mi>
     <mi>α</mi>
     <mo>†</mo>
    </msubsup>
    <msub>
     <mi>R</mi>
     <mi>γ</mi>
    </msub>
    <msub>
     <mi>R</mi>
     <mi>α</mi>
    </msub>
    <msubsup>
     <mi>R</mi>
     <mi>β</mi>
     <mo>†</mo>
    </msubsup>
    <msubsup>
     <mi>R</mi>
     <mi>α</mi>
     <mo>†</mo>
    </msubsup>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <and></and>
    <apply>
     <eq></eq>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <ci>R</ci>
      <apply>
       <csymbol cd="ambiguous">superscript</csymbol>
       <ci>γ</ci>
       <ci>normal-′</ci>
      </apply>
     </apply>
     <apply>
      <times></times>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>R</ci>
       <apply>
        <csymbol cd="ambiguous">superscript</csymbol>
        <ci>β</ci>
        <ci>normal-′</ci>
       </apply>
      </apply>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>R</ci>
       <ci>γ</ci>
      </apply>
      <apply>
       <csymbol cd="ambiguous">superscript</csymbol>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>R</ci>
        <apply>
         <csymbol cd="ambiguous">superscript</csymbol>
         <ci>β</ci>
         <ci>normal-′</ci>
        </apply>
       </apply>
       <ci>normal-†</ci>
      </apply>
     </apply>
    </apply>
    <apply>
     <eq></eq>
     <share href="#.cmml">
     </share>
     <apply>
      <times></times>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>R</ci>
       <ci>α</ci>
      </apply>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>R</ci>
       <ci>β</ci>
      </apply>
      <apply>
       <csymbol cd="ambiguous">superscript</csymbol>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>R</ci>
        <ci>α</ci>
       </apply>
       <ci>normal-†</ci>
      </apply>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>R</ci>
       <ci>γ</ci>
      </apply>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>R</ci>
       <ci>α</ci>
      </apply>
      <apply>
       <csymbol cd="ambiguous">superscript</csymbol>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>R</ci>
        <ci>β</ci>
       </apply>
       <ci>normal-†</ci>
      </apply>
      <apply>
       <csymbol cd="ambiguous">superscript</csymbol>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>R</ci>
        <ci>α</ci>
       </apply>
       <ci>normal-†</ci>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \scriptstyle R_{\gamma^{\prime}}\;=\;R_{\beta^{\prime}}R_{\gamma}R_{\beta^{%
\prime}}^{\dagger}\;=\;R_{\alpha}R_{\beta}R_{\alpha}^{\dagger}R_{\gamma}R_{%
\alpha}R_{\beta}^{\dagger}R_{\alpha}^{\dagger}
  </annotation>
 </semantics>
</math>

. Noting that 

<math display="inline" id="Rotation_formalisms_in_three_dimensions:187">
 <semantics>
  <msub>
   <mi>R</mi>
   <mi>γ</mi>
  </msub>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <csymbol cd="ambiguous">subscript</csymbol>
    <ci>R</ci>
    <ci>γ</ci>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \scriptstyle R_{\gamma}
  </annotation>
 </semantics>
</math>

 and 

<math display="inline" id="Rotation_formalisms_in_three_dimensions:188">
 <semantics>
  <msub>
   <mi>R</mi>
   <mi>α</mi>
  </msub>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <csymbol cd="ambiguous">subscript</csymbol>
    <ci>R</ci>
    <ci>α</ci>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \scriptstyle R_{\alpha}
  </annotation>
 </semantics>
</math>


 commute (rotations in the same plane must commute), and the total rotor becomes</p>

<p>

<math display="block" id="Rotation_formalisms_in_three_dimensions:189">
 <semantics>
  <mrow>
   <mi>R</mi>
   <mo>=</mo>
   <mrow>
    <msub>
     <mi>R</mi>
     <mi>α</mi>
    </msub>
    <msub>
     <mi>R</mi>
     <mi>β</mi>
    </msub>
    <msub>
     <mi>R</mi>
     <mi>γ</mi>
    </msub>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <ci>R</ci>
    <apply>
     <times></times>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <ci>R</ci>
      <ci>α</ci>
     </apply>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <ci>R</ci>
      <ci>β</ci>
     </apply>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <ci>R</ci>
      <ci>γ</ci>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   R=R_{\alpha}R_{\beta}R_{\gamma}
  </annotation>
 </semantics>
</math>

</p>

<p>Thus, the compounded rotations of Euler angles become a series of equivalent rotations in the original fixed frame.</p>

<p>While rotors in geometric algebra work almost identically to quaternions in three dimensions, the power of this formalism is its generality: this method is appropriate and valid in spaces with any number of dimensions. In 3D, rotations have three degrees of freedom, a degree for each linearly independent plane (bivector) the rotation can take place in. It has been known that pairs of quaternions can be used to generate rotations in 4D, yielding six degrees of freedom, and the geometric algebra approach verifies this result: in 4D, there are six linearly independent bivectors that can be used as the generators of rotations.</p>
<h2 id="see-also">See also</h2>
<ul>
<li><a href="Euler_filter" title="wikilink">Euler filter</a></li>
<li><a href="Orientation_(geometry)" title="wikilink">Orientation (geometry)</a></li>
<li><a href="Rotation_around_a_fixed_axis" title="wikilink">Rotation around a fixed axis</a></li>
<li><a href="Three-dimensional_rotation_operator" title="wikilink">Three-dimensional rotation operator</a></li>
</ul>
<h2 id="references">References</h2>
<ul>
<li>Evangelos A. Coutsias and Louis Romero, (1999) <em>The Quaternions with an application to Rigid Body Dynamics</em>, Department of Mathematics and Statistics, <a href="University_of_New_Mexico" title="wikilink">University of New Mexico</a>.</li>
<li>F. Landis Markley, (2003) <em>Attitude Error Representations for Kalman Filtering</em>, Journal of Guidance, Control and Dynamics.</li>
<li>H. Goldstein, (1980) <em>Classical Mechanics</em>, 2nd. ed., Addison–Wesley. ISBN 0-201-02918-9</li>
<li>James R. Wertz, (1980) <em>Spacecraft Attitude Determination and Control</em>, <a href="D._Reidel" title="wikilink">D. Reidel</a> Publishing Company. ISBN 90-277-1204-2</li>
<li>J. Schmidt and H. Niemann, (2001) <em>Using Quaternions for Parametrizing 3-D Rotations in Unconstrained Nonlinear Optimization</em>, Vision, Modeling and Visualization (VMV01).</li>
<li>Lev D. Landau and E. M. Lifshitz, (1976) <em>Mechanics</em>, 3rd. ed., <a href="Pergamon_Press" title="wikilink">Pergamon Press</a>. ISBN 0-08-021022-8 (hardcover) and ISBN 0-08-029141-4 (softcover).</li>
<li>Klumpp, A. R., <em>Singularity-Free Extraction of a Quaternion from a Direction-Cosine Matrix</em>, Journal of Spacecraft and Rockets, vol. 13, Dec. 1976, p. 754, 755.</li>
<li>C. Doran and A. Lasenby, (2003) <em>Geometric Algebra for Physicists</em>, Cambridge University Press. ISBN 978-0-521-71595-9</li>
</ul>
<h2 id="external-links">External links</h2>
<ul>
<li><a href="http://www.euclideanspace.com/maths/geometry/rotations/index.htm">EuclideanSpace</a> has a wealth of information on rotation representation</li>
<li><a href="http://www.j3d.org/matrix_faq/matrfaq_latest.html#Q36">Q36. How do I generate a rotation matrix from Euler angles?</a> and <a href="http://www.j3d.org/matrix_faq/matrfaq_latest.html#Q37">Q37. How do I convert a rotation matrix to Euler angles?</a> — The Matrix and Quaternions FAQ</li>
<li><a href="http://www.mrao.cam.ac.uk/~clifford/introduction/intro/node9.html#SECTION00030000000000000000">Imaginary numbers are not Real – the Geometric Algebra of Spacetime</a> – Section "Rotations and Geometric Algebra" derives and applies the rotor description of rotations</li>
<li><a href="http://www.starlino.com/dcm_tutorial.html">Starlino's DCM Tutorial</a> – Direction cosine matrix theory tutorial and applications. Space orientation estimation algorithm using accelerometer, gyroscope and magnetometer IMU devices. Using complimentary filter (popular alternative to Kalman filter) with DCM matrix.</li>
</ul>

<p>"</p>

<p><a class="uri" href="Category:Rotation" title="wikilink">Category:Rotation</a> <a href="Category:Orientation_(geometry)" title="wikilink">Category:Orientation (geometry)</a> <a href="Category:Rotation_in_three_dimensions" title="wikilink"> </a> <a href="Category:Euclidean_symmetries" title="wikilink">Category:Euclidean symmetries</a></p>
<section class="footnotes">
<hr/>
<ol>
<li id="fn1">Rotation Matrix, <a class="uri" href="http://mathworld.wolfram.com/RotationMatrix.html">http://mathworld.wolfram.com/RotationMatrix.html</a><a href="#fnref1">↩</a></li>
<li id="fn2">cf. J Willard Gibbs (1884). <em>Elements of Vector Analysis</em>, New Haven, p. 67<a href="#fnref2">↩</a></li>
<li id="fn3"><a href="http://cmp.felk.cvut.cz/cmp/courses/ROB/roblec/serial-noteeng.pdf">Direct and inverse kinematics</a> lecture notes, page 5<a href="#fnref3">↩</a></li>
<li id="fn4"><a href="#fnref4">↩</a></li>
<li id="fn5"><a href="http://www.euclideanspace.com/physics/kinematics/angularvelocity/mark.htm">1</a> Physics - Mark Ioffe - W(t) in terms of matrices<a href="#fnref5">↩</a></li>
<li id="fn6"><a href="http://www.euclideanspace.com/physics/kinematics/angularvelocity/">2</a> Physics - Kinematics - Angular Velocity<a href="#fnref6">↩</a></li>
</ol>
</section>
</body>
</html>
