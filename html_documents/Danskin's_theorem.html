<html lang="en">
<head>
<meta charset="utf-8"/>
<title offset="1293">Danskin's theorem</title>
<script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_SVG.js" type="text/javascript">
</script>
</head>
<body>
<h1>Danskin's theorem</h1>
<hr/>

<p>In <a href="convex_analysis" title="wikilink">convex analysis</a>, <strong>Danskin's theorem</strong> is a <a class="uri" href="theorem" title="wikilink">theorem</a> which provides information about the <a href="derivative" title="wikilink">derivatives</a> of a <a href="function_(mathematics)" title="wikilink">function</a> of the form</p>

<p>

<math display="block" id="Danskin's_theorem:0">
 <semantics>
  <mrow>
   <mrow>
    <mrow>
     <mi>f</mi>
     <mrow>
      <mo stretchy="false">(</mo>
      <mi>x</mi>
      <mo stretchy="false">)</mo>
     </mrow>
    </mrow>
    <mo>=</mo>
    <mrow>
     <mrow>
      <munder>
       <mi>max</mi>
       <mrow>
        <mi>z</mi>
        <mo>∈</mo>
        <mi>Z</mi>
       </mrow>
      </munder>
      <mi>ϕ</mi>
     </mrow>
     <mrow>
      <mo stretchy="false">(</mo>
      <mi>x</mi>
      <mo>,</mo>
      <mi>z</mi>
      <mo stretchy="false">)</mo>
     </mrow>
    </mrow>
   </mrow>
   <mo>.</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <times></times>
     <ci>f</ci>
     <ci>x</ci>
    </apply>
    <apply>
     <times></times>
     <apply>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <max></max>
       <apply>
        <in></in>
        <ci>z</ci>
        <ci>Z</ci>
       </apply>
      </apply>
      <ci>ϕ</ci>
     </apply>
     <interval closure="open">
      <ci>x</ci>
      <ci>z</ci>
     </interval>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   f(x)=\max_{z\in Z}\phi(x,z).
  </annotation>
 </semantics>
</math>

</p>

<p>The theorem has applications in <a href="optimization_(mathematics)" title="wikilink">optimization</a>, where it sometimes is used to solve <a class="uri" href="minimax" title="wikilink">minimax</a> problems. The original theorem by J. M. Danskin, given in his 1967, monograph "The Theory of Max-Min and its Applications to Weapons Allocation Problems," Springer, NY, provides a formula for the directional derivative of the maximum of a (not necessarily convex) directionally differentiable function. When adapted to the case of a convex function, this formula yields the following theorem given in somewhat more general form as Proposition A.22 in the 1971 Ph.D. Thesis by D. P. Bertsekas, "Control of Uncertain Systems with a Set-Membership Description of the Uncertainty". A proof of the following version can be found in the 1999 book "Nonlinear Programming" by Bertsekas (Section B.5).</p>
<h2 id="statement">Statement</h2>

<p>The theorem applies to the following situation. Suppose 

<math display="inline" id="Danskin's_theorem:1">
 <semantics>
  <mrow>
   <mi>ϕ</mi>
   <mrow>
    <mo stretchy="false">(</mo>
    <mi>x</mi>
    <mo>,</mo>
    <mi>z</mi>
    <mo stretchy="false">)</mo>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <times></times>
    <ci>ϕ</ci>
    <interval closure="open">
     <ci>x</ci>
     <ci>z</ci>
    </interval>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \phi(x,z)
  </annotation>
 </semantics>
</math>

 is a <a href="continuous_function" title="wikilink">continuous function</a> of two arguments,</p>

<p>

<math display="block" id="Danskin's_theorem:2">
 <semantics>
  <mrow>
   <mi>ϕ</mi>
   <mo>:</mo>
   <mrow>
    <mrow>
     <msup>
      <mi>ℝ</mi>
      <mi>n</mi>
     </msup>
     <mo>×</mo>
     <mi>Z</mi>
    </mrow>
    <mo>→</mo>
    <mi>ℝ</mi>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <ci>normal-:</ci>
    <ci>ϕ</ci>
    <apply>
     <ci>normal-→</ci>
     <apply>
      <times></times>
      <apply>
       <csymbol cd="ambiguous">superscript</csymbol>
       <ci>ℝ</ci>
       <ci>n</ci>
      </apply>
      <ci>Z</ci>
     </apply>
     <ci>ℝ</ci>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \phi:{\mathbb{R}}^{n}\times Z\rightarrow{\mathbb{R}}
  </annotation>
 </semantics>
</math>

 where 

<math display="inline" id="Danskin's_theorem:3">
 <semantics>
  <mrow>
   <mi>Z</mi>
   <mo>⊂</mo>
   <msup>
    <mi>ℝ</mi>
    <mi>m</mi>
   </msup>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <subset></subset>
    <ci>Z</ci>
    <apply>
     <csymbol cd="ambiguous">superscript</csymbol>
     <ci>ℝ</ci>
     <ci>m</ci>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   Z\subset{\mathbb{R}}^{m}
  </annotation>
 </semantics>
</math>

 is a <a href="compact_set" title="wikilink">compact set</a>. Further assume that 

<math display="inline" id="Danskin's_theorem:4">
 <semantics>
  <mrow>
   <mi>ϕ</mi>
   <mrow>
    <mo stretchy="false">(</mo>
    <mi>x</mi>
    <mo>,</mo>
    <mi>z</mi>
    <mo stretchy="false">)</mo>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <times></times>
    <ci>ϕ</ci>
    <interval closure="open">
     <ci>x</ci>
     <ci>z</ci>
    </interval>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \phi(x,z)
  </annotation>
 </semantics>
</math>

 is <a href="convex_function" title="wikilink">convex</a> in 

<math display="inline" id="Danskin's_theorem:5">
 <semantics>
  <mi>x</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>x</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   x
  </annotation>
 </semantics>
</math>

 for every 

<math display="inline" id="Danskin's_theorem:6">
 <semantics>
  <mrow>
   <mi>z</mi>
   <mo>∈</mo>
   <mi>Z</mi>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <in></in>
    <ci>z</ci>
    <ci>Z</ci>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   z\in Z
  </annotation>
 </semantics>
</math>

.</p>

<p>Under these conditions, Danskin's theorem provides conclusions regarding the <a class="uri" href="differentiability" title="wikilink">differentiability</a> of the function</p>

<p>

<math display="block" id="Danskin's_theorem:7">
 <semantics>
  <mrow>
   <mrow>
    <mrow>
     <mi>f</mi>
     <mrow>
      <mo stretchy="false">(</mo>
      <mi>x</mi>
      <mo stretchy="false">)</mo>
     </mrow>
    </mrow>
    <mo>=</mo>
    <mrow>
     <mrow>
      <munder>
       <mi>max</mi>
       <mrow>
        <mi>z</mi>
        <mo>∈</mo>
        <mi>Z</mi>
       </mrow>
      </munder>
      <mi>ϕ</mi>
     </mrow>
     <mrow>
      <mo stretchy="false">(</mo>
      <mi>x</mi>
      <mo>,</mo>
      <mi>z</mi>
      <mo stretchy="false">)</mo>
     </mrow>
    </mrow>
   </mrow>
   <mo>.</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <times></times>
     <ci>f</ci>
     <ci>x</ci>
    </apply>
    <apply>
     <times></times>
     <apply>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <max></max>
       <apply>
        <in></in>
        <ci>z</ci>
        <ci>Z</ci>
       </apply>
      </apply>
      <ci>ϕ</ci>
     </apply>
     <interval closure="open">
      <ci>x</ci>
      <ci>z</ci>
     </interval>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   f(x)=\max_{z\in Z}\phi(x,z).
  </annotation>
 </semantics>
</math>

 To state these results, we define the set of maximizing points 

<math display="inline" id="Danskin's_theorem:8">
 <semantics>
  <mrow>
   <msub>
    <mi>Z</mi>
    <mn>0</mn>
   </msub>
   <mrow>
    <mo stretchy="false">(</mo>
    <mi>x</mi>
    <mo stretchy="false">)</mo>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <times></times>
    <apply>
     <csymbol cd="ambiguous">subscript</csymbol>
     <ci>Z</ci>
     <cn type="integer">0</cn>
    </apply>
    <ci>x</ci>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   Z_{0}(x)
  </annotation>
 </semantics>
</math>

 as</p>

<p>

<math display="block" id="Danskin's_theorem:9">
 <semantics>
  <mrow>
   <mrow>
    <mrow>
     <msub>
      <mi>Z</mi>
      <mn>0</mn>
     </msub>
     <mrow>
      <mo stretchy="false">(</mo>
      <mi>x</mi>
      <mo stretchy="false">)</mo>
     </mrow>
    </mrow>
    <mo>=</mo>
    <mrow>
     <mo>{</mo>
     <mover accent="true">
      <mi>z</mi>
      <mo>¯</mo>
     </mover>
     <mo>:</mo>
     <mrow>
      <mrow>
       <mi>ϕ</mi>
       <mrow>
        <mo stretchy="false">(</mo>
        <mi>x</mi>
        <mo>,</mo>
        <mover accent="true">
         <mi>z</mi>
         <mo>¯</mo>
        </mover>
        <mo stretchy="false">)</mo>
       </mrow>
      </mrow>
      <mo>=</mo>
      <mrow>
       <mrow>
        <munder>
         <mi>max</mi>
         <mrow>
          <mi>z</mi>
          <mo>∈</mo>
          <mi>Z</mi>
         </mrow>
        </munder>
        <mi>ϕ</mi>
       </mrow>
       <mrow>
        <mo stretchy="false">(</mo>
        <mi>x</mi>
        <mo>,</mo>
        <mi>z</mi>
        <mo stretchy="false">)</mo>
       </mrow>
      </mrow>
     </mrow>
     <mo>}</mo>
    </mrow>
   </mrow>
   <mo>.</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <times></times>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <ci>Z</ci>
      <cn type="integer">0</cn>
     </apply>
     <ci>x</ci>
    </apply>
    <apply>
     <csymbol cd="latexml">conditional-set</csymbol>
     <apply>
      <ci>normal-¯</ci>
      <ci>z</ci>
     </apply>
     <apply>
      <eq></eq>
      <apply>
       <times></times>
       <ci>ϕ</ci>
       <interval closure="open">
        <ci>x</ci>
        <apply>
         <ci>normal-¯</ci>
         <ci>z</ci>
        </apply>
       </interval>
      </apply>
      <apply>
       <times></times>
       <apply>
        <apply>
         <csymbol cd="ambiguous">subscript</csymbol>
         <max></max>
         <apply>
          <in></in>
          <ci>z</ci>
          <ci>Z</ci>
         </apply>
        </apply>
        <ci>ϕ</ci>
       </apply>
       <interval closure="open">
        <ci>x</ci>
        <ci>z</ci>
       </interval>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   Z_{0}(x)=\left\{\overline{z}:\phi(x,\overline{z})=\max_{z\in Z}\phi(x,z)\right\}.
  </annotation>
 </semantics>
</math>

</p>

<p>Danskin's theorem then provides the following results.</p>
<dl>
<dt>Convexity</dt>
<dd>

<math display="inline" id="Danskin's_theorem:10">
 <semantics>
  <mrow>
   <mi>f</mi>
   <mrow>
    <mo stretchy="false">(</mo>
    <mi>x</mi>
    <mo stretchy="false">)</mo>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <times></times>
    <ci>f</ci>
    <ci>x</ci>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   f(x)
  </annotation>
 </semantics>
</math>

 is <a href="convex_function" title="wikilink">convex</a>.
</dd>
<dt>Directional derivatives</dt>
<dd>The <a href="directional_derivative" title="wikilink">directional derivative</a> of 

<math display="inline" id="Danskin's_theorem:11">
 <semantics>
  <mrow>
   <mi>f</mi>
   <mrow>
    <mo stretchy="false">(</mo>
    <mi>x</mi>
    <mo stretchy="false">)</mo>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <times></times>
    <ci>f</ci>
    <ci>x</ci>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   f(x)
  </annotation>
 </semantics>
</math>

 in the direction 

<math display="inline" id="Danskin's_theorem:12">
 <semantics>
  <mi>y</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>y</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   y
  </annotation>
 </semantics>
</math>

, denoted 

<math display="inline" id="Danskin's_theorem:13">
 <semantics>
  <mrow>
   <mpadded width="+5pt">
    <msub>
     <mi>D</mi>
     <mi>y</mi>
    </msub>
   </mpadded>
   <mi>f</mi>
   <mrow>
    <mo stretchy="false">(</mo>
    <mi>x</mi>
    <mo stretchy="false">)</mo>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <times></times>
    <apply>
     <csymbol cd="ambiguous">subscript</csymbol>
     <ci>D</ci>
     <ci>y</ci>
    </apply>
    <ci>f</ci>
    <ci>x</ci>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   D_{y}\ f(x)
  </annotation>
 </semantics>
</math>

, is given by

<p>

<math display="block" id="Danskin's_theorem:14">
 <semantics>
  <mrow>
   <mrow>
    <mrow>
     <msub>
      <mi>D</mi>
      <mi>y</mi>
     </msub>
     <mi>f</mi>
     <mrow>
      <mo stretchy="false">(</mo>
      <mi>x</mi>
      <mo stretchy="false">)</mo>
     </mrow>
    </mrow>
    <mo>=</mo>
    <mrow>
     <mrow>
      <munder>
       <mi>max</mi>
       <mrow>
        <mi>z</mi>
        <mo>∈</mo>
        <mrow>
         <msub>
          <mi>Z</mi>
          <mn>0</mn>
         </msub>
         <mrow>
          <mo stretchy="false">(</mo>
          <mi>x</mi>
          <mo stretchy="false">)</mo>
         </mrow>
        </mrow>
       </mrow>
      </munder>
      <msup>
       <mi>ϕ</mi>
       <mo>′</mo>
      </msup>
     </mrow>
     <mrow>
      <mo stretchy="false">(</mo>
      <mi>x</mi>
      <mo>,</mo>
      <mi>z</mi>
      <mo>;</mo>
      <mi>y</mi>
      <mo stretchy="false">)</mo>
     </mrow>
    </mrow>
   </mrow>
   <mo>,</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <times></times>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <ci>D</ci>
      <ci>y</ci>
     </apply>
     <ci>f</ci>
     <ci>x</ci>
    </apply>
    <apply>
     <times></times>
     <apply>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <max></max>
       <apply>
        <in></in>
        <ci>z</ci>
        <apply>
         <times></times>
         <apply>
          <csymbol cd="ambiguous">subscript</csymbol>
          <ci>Z</ci>
          <cn type="integer">0</cn>
         </apply>
         <ci>x</ci>
        </apply>
       </apply>
      </apply>
      <apply>
       <csymbol cd="ambiguous">superscript</csymbol>
       <ci>ϕ</ci>
       <ci>normal-′</ci>
      </apply>
     </apply>
     <vector>
      <ci>x</ci>
      <ci>z</ci>
      <ci>y</ci>
     </vector>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   D_{y}f(x)=\max_{z\in Z_{0}(x)}\phi^{\prime}(x,z;y),
  </annotation>
 </semantics>
</math>

</p>
</dd>
<dd>where 

<math display="inline" id="Danskin's_theorem:15">
 <semantics>
  <mrow>
   <msup>
    <mi>ϕ</mi>
    <mo>′</mo>
   </msup>
   <mrow>
    <mo stretchy="false">(</mo>
    <mi>x</mi>
    <mo>,</mo>
    <mi>z</mi>
    <mo>;</mo>
    <mi>y</mi>
    <mo stretchy="false">)</mo>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <times></times>
    <apply>
     <csymbol cd="ambiguous">superscript</csymbol>
     <ci>ϕ</ci>
     <ci>normal-′</ci>
    </apply>
    <vector>
     <ci>x</ci>
     <ci>z</ci>
     <ci>y</ci>
    </vector>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \phi^{\prime}(x,z;y)
  </annotation>
 </semantics>
</math>

 is the directional derivative of the function 

<math display="inline" id="Danskin's_theorem:16">
 <semantics>
  <mrow>
   <mi>ϕ</mi>
   <mrow>
    <mo stretchy="false">(</mo>
    <mo>⋅</mo>
    <mo>,</mo>
    <mi>z</mi>
    <mo stretchy="false">)</mo>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <times></times>
    <ci>ϕ</ci>
    <interval closure="open">
     <ci>normal-⋅</ci>
     <ci>z</ci>
    </interval>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \phi(\cdot,z)
  </annotation>
 </semantics>
</math>

 at 

<math display="inline" id="Danskin's_theorem:17">
 <semantics>
  <mi>x</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>x</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   x
  </annotation>
 </semantics>
</math>

 in the direction 

<math display="inline" id="Danskin's_theorem:18">
 <semantics>
  <mi>y</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>y</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   y
  </annotation>
 </semantics>
</math>

.
</dd>
<dt>Derivative</dt>
<dd>

<math display="inline" id="Danskin's_theorem:19">
 <semantics>
  <mrow>
   <mi>f</mi>
   <mrow>
    <mo stretchy="false">(</mo>
    <mi>x</mi>
    <mo stretchy="false">)</mo>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <times></times>
    <ci>f</ci>
    <ci>x</ci>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   f(x)
  </annotation>
 </semantics>
</math>

 is <a class="uri" href="differentiable" title="wikilink">differentiable</a> at 

<math display="inline" id="Danskin's_theorem:20">
 <semantics>
  <mi>x</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>x</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   x
  </annotation>
 </semantics>
</math>

 if 

<math display="inline" id="Danskin's_theorem:21">
 <semantics>
  <mrow>
   <msub>
    <mi>Z</mi>
    <mn>0</mn>
   </msub>
   <mrow>
    <mo stretchy="false">(</mo>
    <mi>x</mi>
    <mo stretchy="false">)</mo>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <times></times>
    <apply>
     <csymbol cd="ambiguous">subscript</csymbol>
     <ci>Z</ci>
     <cn type="integer">0</cn>
    </apply>
    <ci>x</ci>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   Z_{0}(x)
  </annotation>
 </semantics>
</math>

 consists of a single element 

<math display="inline" id="Danskin's_theorem:22">
 <semantics>
  <mover accent="true">
   <mi>z</mi>
   <mo>¯</mo>
  </mover>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <ci>normal-¯</ci>
    <ci>z</ci>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \overline{z}
  </annotation>
 </semantics>
</math>

. In this case, the <a class="uri" href="derivative" title="wikilink">derivative</a> of 

<math display="inline" id="Danskin's_theorem:23">
 <semantics>
  <mrow>
   <mi>f</mi>
   <mrow>
    <mo stretchy="false">(</mo>
    <mi>x</mi>
    <mo stretchy="false">)</mo>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <times></times>
    <ci>f</ci>
    <ci>x</ci>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   f(x)
  </annotation>
 </semantics>
</math>

 (or the <a class="uri" href="gradient" title="wikilink">gradient</a> of 

<math display="inline" id="Danskin's_theorem:24">
 <semantics>
  <mrow>
   <mi>f</mi>
   <mrow>
    <mo stretchy="false">(</mo>
    <mi>x</mi>
    <mo stretchy="false">)</mo>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <times></times>
    <ci>f</ci>
    <ci>x</ci>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   f(x)
  </annotation>
 </semantics>
</math>

 if 

<math display="inline" id="Danskin's_theorem:25">
 <semantics>
  <mi>x</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>x</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   x
  </annotation>
 </semantics>
</math>

 is a vector) is given by

<p>

<math display="block" id="Danskin's_theorem:26">
 <semantics>
  <mrow>
   <mrow>
    <mfrac>
     <mrow>
      <mo>∂</mo>
      <mi>f</mi>
     </mrow>
     <mrow>
      <mo>∂</mo>
      <mi>x</mi>
     </mrow>
    </mfrac>
    <mo>=</mo>
    <mfrac>
     <mrow>
      <mrow>
       <mo>∂</mo>
       <mi>ϕ</mi>
      </mrow>
      <mrow>
       <mo stretchy="false">(</mo>
       <mi>x</mi>
       <mo>,</mo>
       <mover accent="true">
        <mi>z</mi>
        <mo>¯</mo>
       </mover>
       <mo stretchy="false">)</mo>
      </mrow>
     </mrow>
     <mrow>
      <mo>∂</mo>
      <mi>x</mi>
     </mrow>
    </mfrac>
   </mrow>
   <mo>.</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <divide></divide>
     <apply>
      <partialdiff></partialdiff>
      <ci>f</ci>
     </apply>
     <apply>
      <partialdiff></partialdiff>
      <ci>x</ci>
     </apply>
    </apply>
    <apply>
     <divide></divide>
     <apply>
      <times></times>
      <apply>
       <partialdiff></partialdiff>
       <ci>ϕ</ci>
      </apply>
      <interval closure="open">
       <ci>x</ci>
       <apply>
        <ci>normal-¯</ci>
        <ci>z</ci>
       </apply>
      </interval>
     </apply>
     <apply>
      <partialdiff></partialdiff>
      <ci>x</ci>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \frac{\partial f}{\partial x}=\frac{\partial\phi(x,\overline{z})}{\partial x}.
  </annotation>
 </semantics>
</math>

</p>
</dd>
<dt>Subdifferential</dt>
<dd>If 

<math display="inline" id="Danskin's_theorem:27">
 <semantics>
  <mrow>
   <mi>ϕ</mi>
   <mrow>
    <mo stretchy="false">(</mo>
    <mi>x</mi>
    <mo>,</mo>
    <mi>z</mi>
    <mo stretchy="false">)</mo>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <times></times>
    <ci>ϕ</ci>
    <interval closure="open">
     <ci>x</ci>
     <ci>z</ci>
    </interval>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \phi(x,z)
  </annotation>
 </semantics>
</math>

 is differentiable with respect to 

<math display="inline" id="Danskin's_theorem:28">
 <semantics>
  <mi>x</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>x</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   x
  </annotation>
 </semantics>
</math>

 for all 

<math display="inline" id="Danskin's_theorem:29">
 <semantics>
  <mrow>
   <mi>z</mi>
   <mo>∈</mo>
   <mi>Z</mi>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <in></in>
    <ci>z</ci>
    <ci>Z</ci>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   z\in Z
  </annotation>
 </semantics>
</math>

, and if 

<math display="inline" id="Danskin's_theorem:30">
 <semantics>
  <mrow>
   <mrow>
    <mo>∂</mo>
    <mi>ϕ</mi>
   </mrow>
   <mo>/</mo>
   <mrow>
    <mo>∂</mo>
    <mi>x</mi>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <divide></divide>
    <apply>
     <partialdiff></partialdiff>
     <ci>ϕ</ci>
    </apply>
    <apply>
     <partialdiff></partialdiff>
     <ci>x</ci>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \partial\phi/\partial x
  </annotation>
 </semantics>
</math>

 is continuous with respect to 

<math display="inline" id="Danskin's_theorem:31">
 <semantics>
  <mi>z</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>z</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   z
  </annotation>
 </semantics>
</math>

 for all 

<math display="inline" id="Danskin's_theorem:32">
 <semantics>
  <mi>x</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>x</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   x
  </annotation>
 </semantics>
</math>

, then the <a class="uri" href="subdifferential" title="wikilink">subdifferential</a> of 

<math display="inline" id="Danskin's_theorem:33">
 <semantics>
  <mrow>
   <mi>f</mi>
   <mrow>
    <mo stretchy="false">(</mo>
    <mi>x</mi>
    <mo stretchy="false">)</mo>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <times></times>
    <ci>f</ci>
    <ci>x</ci>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   f(x)
  </annotation>
 </semantics>
</math>

 is given by

<p>

<math display="block" id="Danskin's_theorem:34">
 <semantics>
  <mrow>
   <mrow>
    <mrow>
     <mo>∂</mo>
     <mi>f</mi>
    </mrow>
    <mrow>
     <mo stretchy="false">(</mo>
     <mi>x</mi>
     <mo stretchy="false">)</mo>
    </mrow>
   </mrow>
   <mo>=</mo>
   <mrow>
    <mi>conv</mi>
    <mrow>
     <mo>{</mo>
     <mfrac>
      <mrow>
       <mrow>
        <mo>∂</mo>
        <mi>ϕ</mi>
       </mrow>
       <mrow>
        <mo stretchy="false">(</mo>
        <mi>x</mi>
        <mo>,</mo>
        <mi>z</mi>
        <mo stretchy="false">)</mo>
       </mrow>
      </mrow>
      <mrow>
       <mo>∂</mo>
       <mi>x</mi>
      </mrow>
     </mfrac>
     <mo>:</mo>
     <mrow>
      <mi>z</mi>
      <mo>∈</mo>
      <mrow>
       <msub>
        <mi>Z</mi>
        <mn>0</mn>
       </msub>
       <mrow>
        <mo stretchy="false">(</mo>
        <mi>x</mi>
        <mo stretchy="false">)</mo>
       </mrow>
      </mrow>
     </mrow>
     <mo>}</mo>
    </mrow>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <times></times>
     <apply>
      <partialdiff></partialdiff>
      <ci>f</ci>
     </apply>
     <ci>x</ci>
    </apply>
    <apply>
     <times></times>
     <ci>conv</ci>
     <apply>
      <csymbol cd="latexml">conditional-set</csymbol>
      <apply>
       <divide></divide>
       <apply>
        <times></times>
        <apply>
         <partialdiff></partialdiff>
         <ci>ϕ</ci>
        </apply>
        <interval closure="open">
         <ci>x</ci>
         <ci>z</ci>
        </interval>
       </apply>
       <apply>
        <partialdiff></partialdiff>
        <ci>x</ci>
       </apply>
      </apply>
      <apply>
       <in></in>
       <ci>z</ci>
       <apply>
        <times></times>
        <apply>
         <csymbol cd="ambiguous">subscript</csymbol>
         <ci>Z</ci>
         <cn type="integer">0</cn>
        </apply>
        <ci>x</ci>
       </apply>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \partial f(x)=\mathrm{conv}\left\{\frac{\partial\phi(x,z)}{\partial x}:z\in Z_%
{0}(x)\right\}
  </annotation>
 </semantics>
</math>

</p>
</dd>
<dd>where 

<math display="inline" id="Danskin's_theorem:35">
 <semantics>
  <mi>conv</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>conv</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \mathrm{conv}
  </annotation>
 </semantics>
</math>

 indicates the <a href="convex_hull" title="wikilink">convex hull</a> operation.
</dd>
<dt>Extension</dt>
</dl>

<p>The 1971 Ph.D. Thesis by Bertsekas <a class="footnoteRef" href="#fn1" id="fnref1"><sup>1</sup></a> (Proposition A.22) proves a more general result, which does not require that 

<math display="inline" id="Danskin's_theorem:36">
 <semantics>
  <mrow>
   <mi>ϕ</mi>
   <mrow>
    <mo stretchy="false">(</mo>
    <mo>⋅</mo>
    <mo>,</mo>
    <mi>z</mi>
    <mo stretchy="false">)</mo>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <times></times>
    <ci>ϕ</ci>
    <interval closure="open">
     <ci>normal-⋅</ci>
     <ci>z</ci>
    </interval>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \phi(\cdot,z)
  </annotation>
 </semantics>
</math>

 is differentiable. Instead it assumes that 

<math display="inline" id="Danskin's_theorem:37">
 <semantics>
  <mrow>
   <mi>ϕ</mi>
   <mrow>
    <mo stretchy="false">(</mo>
    <mo>⋅</mo>
    <mo>,</mo>
    <mi>z</mi>
    <mo stretchy="false">)</mo>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <times></times>
    <ci>ϕ</ci>
    <interval closure="open">
     <ci>normal-⋅</ci>
     <ci>z</ci>
    </interval>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \phi(\cdot,z)
  </annotation>
 </semantics>
</math>

 is an extended real-valued closed proper convex function for each 

<math display="inline" id="Danskin's_theorem:38">
 <semantics>
  <mi>z</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>z</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   z
  </annotation>
 </semantics>
</math>

 in the compact set 

<math display="inline" id="Danskin's_theorem:39">
 <semantics>
  <mi>Z</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>Z</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   Z
  </annotation>
 </semantics>
</math>

, that 

<math display="inline" id="Danskin's_theorem:40">
 <semantics>
  <mrow>
   <mi>i</mi>
   <mi>n</mi>
   <mi>t</mi>
   <mrow>
    <mo stretchy="false">(</mo>
    <mrow>
     <mi>d</mi>
     <mi>o</mi>
     <mi>m</mi>
     <mrow>
      <mo stretchy="false">(</mo>
      <mi>f</mi>
      <mo stretchy="false">)</mo>
     </mrow>
    </mrow>
    <mo stretchy="false">)</mo>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <times></times>
    <ci>i</ci>
    <ci>n</ci>
    <ci>t</ci>
    <apply>
     <times></times>
     <ci>d</ci>
     <ci>o</ci>
     <ci>m</ci>
     <ci>f</ci>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   int(dom(f))
  </annotation>
 </semantics>
</math>

, the interior of the effective domain of 

<math display="inline" id="Danskin's_theorem:41">
 <semantics>
  <mi>f</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>f</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   f
  </annotation>
 </semantics>
</math>

, is nonempty, and that 

<math display="inline" id="Danskin's_theorem:42">
 <semantics>
  <mi>ϕ</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>ϕ</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \phi
  </annotation>
 </semantics>
</math>

 is continuous on the set 

<math display="inline" id="Danskin's_theorem:43">
 <semantics>
  <mrow>
   <mrow>
    <mi>i</mi>
    <mi>n</mi>
    <mi>t</mi>
    <mrow>
     <mo stretchy="false">(</mo>
     <mrow>
      <mi>d</mi>
      <mi>o</mi>
      <mi>m</mi>
      <mrow>
       <mo stretchy="false">(</mo>
       <mi>f</mi>
       <mo stretchy="false">)</mo>
      </mrow>
     </mrow>
     <mo stretchy="false">)</mo>
    </mrow>
   </mrow>
   <mo>×</mo>
   <mi>Z</mi>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <times></times>
    <apply>
     <times></times>
     <ci>i</ci>
     <ci>n</ci>
     <ci>t</ci>
     <apply>
      <times></times>
      <ci>d</ci>
      <ci>o</ci>
      <ci>m</ci>
      <ci>f</ci>
     </apply>
    </apply>
    <ci>Z</ci>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   int(dom(f))\times Z
  </annotation>
 </semantics>
</math>

. Then for all 

<math display="inline" id="Danskin's_theorem:44">
 <semantics>
  <mi>x</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>x</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   x
  </annotation>
 </semantics>
</math>

 in 

<math display="inline" id="Danskin's_theorem:45">
 <semantics>
  <mrow>
   <mi>i</mi>
   <mi>n</mi>
   <mi>t</mi>
   <mrow>
    <mo stretchy="false">(</mo>
    <mrow>
     <mi>d</mi>
     <mi>o</mi>
     <mi>m</mi>
     <mrow>
      <mo stretchy="false">(</mo>
      <mi>f</mi>
      <mo stretchy="false">)</mo>
     </mrow>
    </mrow>
    <mo stretchy="false">)</mo>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <times></times>
    <ci>i</ci>
    <ci>n</ci>
    <ci>t</ci>
    <apply>
     <times></times>
     <ci>d</ci>
     <ci>o</ci>
     <ci>m</ci>
     <ci>f</ci>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   int(dom(f))
  </annotation>
 </semantics>
</math>

, the subdifferential of 

<math display="inline" id="Danskin's_theorem:46">
 <semantics>
  <mi>f</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>f</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   f
  </annotation>
 </semantics>
</math>

 at 

<math display="inline" id="Danskin's_theorem:47">
 <semantics>
  <mi>x</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>x</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   x
  </annotation>
 </semantics>
</math>

 is given by</p>
<dl>
<dd><dl>
<dd>

<math display="inline" id="Danskin's_theorem:48">
 <semantics>
  <mrow>
   <mrow>
    <mrow>
     <mo>∂</mo>
     <mi>f</mi>
    </mrow>
    <mrow>
     <mo stretchy="false">(</mo>
     <mi>x</mi>
     <mo stretchy="false">)</mo>
    </mrow>
   </mrow>
   <mo>=</mo>
   <mrow>
    <mi>conv</mi>
    <mrow>
     <mo>{</mo>
     <mrow>
      <mrow>
       <mo>∂</mo>
       <mi>ϕ</mi>
      </mrow>
      <mrow>
       <mo stretchy="false">(</mo>
       <mi>x</mi>
       <mo>,</mo>
       <mi>z</mi>
       <mo stretchy="false">)</mo>
      </mrow>
     </mrow>
     <mo>:</mo>
     <mrow>
      <mi>z</mi>
      <mo>∈</mo>
      <mrow>
       <msub>
        <mi>Z</mi>
        <mn>0</mn>
       </msub>
       <mrow>
        <mo stretchy="false">(</mo>
        <mi>x</mi>
        <mo stretchy="false">)</mo>
       </mrow>
      </mrow>
     </mrow>
     <mo>}</mo>
    </mrow>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <times></times>
     <apply>
      <partialdiff></partialdiff>
      <ci>f</ci>
     </apply>
     <ci>x</ci>
    </apply>
    <apply>
     <times></times>
     <ci>conv</ci>
     <apply>
      <csymbol cd="latexml">conditional-set</csymbol>
      <apply>
       <times></times>
       <apply>
        <partialdiff></partialdiff>
        <ci>ϕ</ci>
       </apply>
       <interval closure="open">
        <ci>x</ci>
        <ci>z</ci>
       </interval>
      </apply>
      <apply>
       <in></in>
       <ci>z</ci>
       <apply>
        <times></times>
        <apply>
         <csymbol cd="ambiguous">subscript</csymbol>
         <ci>Z</ci>
         <cn type="integer">0</cn>
        </apply>
        <ci>x</ci>
       </apply>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \partial f(x)=\mathrm{conv}\left\{\partial\phi(x,z):z\in Z_{0}(x)\right\}
  </annotation>
 </semantics>
</math>


</dd>
</dl>
</dd>
</dl>

<p>where 

<math display="inline" id="Danskin's_theorem:49">
 <semantics>
  <mrow>
   <mrow>
    <mo>∂</mo>
    <mi>ϕ</mi>
   </mrow>
   <mrow>
    <mo stretchy="false">(</mo>
    <mi>x</mi>
    <mo>,</mo>
    <mi>z</mi>
    <mo stretchy="false">)</mo>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <times></times>
    <apply>
     <partialdiff></partialdiff>
     <ci>ϕ</ci>
    </apply>
    <interval closure="open">
     <ci>x</ci>
     <ci>z</ci>
    </interval>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \partial\phi(x,z)
  </annotation>
 </semantics>
</math>

 is the subdifferential of 

<math display="inline" id="Danskin's_theorem:50">
 <semantics>
  <mrow>
   <mi>ϕ</mi>
   <mrow>
    <mo stretchy="false">(</mo>
    <mo>⋅</mo>
    <mo>,</mo>
    <mi>z</mi>
    <mo stretchy="false">)</mo>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <times></times>
    <ci>ϕ</ci>
    <interval closure="open">
     <ci>normal-⋅</ci>
     <ci>z</ci>
    </interval>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \phi(\cdot,z)
  </annotation>
 </semantics>
</math>

 at 

<math display="inline" id="Danskin's_theorem:51">
 <semantics>
  <mi>x</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>x</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   x
  </annotation>
 </semantics>
</math>

 for any 

<math display="inline" id="Danskin's_theorem:52">
 <semantics>
  <mi>z</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>z</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   z
  </annotation>
 </semantics>
</math>

 in 

<math display="inline" id="Danskin's_theorem:53">
 <semantics>
  <mi>Z</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>Z</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   Z
  </annotation>
 </semantics>
</math>

.</p>
<h2 id="see-also">See also</h2>
<ul>
<li><a href="Maximum_theorem" title="wikilink">Maximum theorem</a></li>
<li><a href="Envelope_theorem" title="wikilink">Envelope theorem</a></li>
<li><a href="Hotellings_Lemma" title="wikilink">Hotellings Lemma</a></li>
</ul>
<h2 id="references">References</h2>
<ul>
<li></li>
<li></li>
<li></li>
</ul>

<p>"</p>

<p><a href="Category:Convex_analysis" title="wikilink">Category:Convex analysis</a> <a href="Category:Mathematical_optimization" title="wikilink">Category:Mathematical optimization</a> <a href="Category:Theorems_in_analysis" title="wikilink">Category:Theorems in analysis</a> <a href="Category:Convex_optimization" title="wikilink">Category:Convex optimization</a></p>
<section class="footnotes">
<hr/>
<ol>
<li id="fn1"><a href="http://web.mit.edu/dimitrib/www/phdthesis.pdf">Ph.D. Thesis by D. P. Bertsekas</a><a href="#fnref1">↩</a></li>
</ol>
</section>
</body>
</html>
