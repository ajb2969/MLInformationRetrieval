<html lang="en">
<head>
<meta charset="utf-8"/>
<title offset="1922">Mason's gain formula</title>
<script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_SVG.js" type="text/javascript">
</script>
</head>
<body>
<h1>Mason's gain formula</h1>
<hr>'''Mason's gain formula''' (MGF) is a method for finding the
<p><a href="transfer_function" title="wikilink"><code>transfer</code> <code>function</code></a><code> of a linear </code><a href="signal-flow_graph" title="wikilink"><code>signal-flow</code> <code>graph</code></a><code> (SFG).  The formula was derived by </code><a href="Samuel_Jefferson_Mason" title="wikilink"><code>Samuel</code> <code>Jefferson</code> <code>Mason</code></a><code>,</code><a class="footnoteRef" href="#fn1" id="fnref1"><sup>1</sup></a><code> whom it is also named after. MGF is an alternate method to finding the transfer function algebraically by labeling each signal, writing down the equation for how that signal depends on other signals, and then solving the multiple equations for the output signal in terms of the input signal.  MGF provides a step by step method to obtain the transfer function from a SFG.  Often, MGF can be determined by inspection of the SFG.  The method can easily handle SFGs with many variables and loops including loops with inner loops.  MGF comes up often in  the context of </code><a href="control_system" title="wikilink"><code>control</code> <code>systems</code></a><code> and digital filters because control systems and digital filters are often represented by SFGs.</code></p>
<h2 id="formula">Formula</h2>

<p>The gain formula is as follows:</p>

<p>

<math display="block" id="Mason's_gain_formula:0">
 <semantics>
  <mrow>
   <mi>G</mi>
   <mo>=</mo>
   <mfrac>
    <msub>
     <mi>y</mi>
     <mtext>out</mtext>
    </msub>
    <msub>
     <mi>y</mi>
     <mtext>in</mtext>
    </msub>
   </mfrac>
   <mo>=</mo>
   <mfrac>
    <mrow>
     <msubsup>
      <mo largeop="true" symmetric="true">∑</mo>
      <mrow>
       <mi>k</mi>
       <mo>=</mo>
       <mn>1</mn>
      </mrow>
      <mi>N</mi>
     </msubsup>
     <mrow>
      <msub>
       <mi>G</mi>
       <mi>k</mi>
      </msub>
      <msub>
       <mi mathvariant="normal">Δ</mi>
       <mi>k</mi>
      </msub>
     </mrow>
    </mrow>
    <mpadded width="+5pt">
     <mi mathvariant="normal">Δ</mi>
    </mpadded>
   </mfrac>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <and></and>
    <apply>
     <eq></eq>
     <ci>G</ci>
     <apply>
      <divide></divide>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>y</ci>
       <mtext>out</mtext>
      </apply>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>y</ci>
       <mtext>in</mtext>
      </apply>
     </apply>
    </apply>
    <apply>
     <eq></eq>
     <share href="#.cmml">
     </share>
     <apply>
      <divide></divide>
      <apply>
       <apply>
        <csymbol cd="ambiguous">superscript</csymbol>
        <apply>
         <csymbol cd="ambiguous">subscript</csymbol>
         <sum></sum>
         <apply>
          <eq></eq>
          <ci>k</ci>
          <cn type="integer">1</cn>
         </apply>
        </apply>
        <ci>N</ci>
       </apply>
       <apply>
        <times></times>
        <apply>
         <csymbol cd="ambiguous">subscript</csymbol>
         <ci>G</ci>
         <ci>k</ci>
        </apply>
        <apply>
         <csymbol cd="ambiguous">subscript</csymbol>
         <ci>normal-Δ</ci>
         <ci>k</ci>
        </apply>
       </apply>
      </apply>
      <ci>normal-Δ</ci>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   G=\frac{y_{\text{out}}}{y_{\text{in}}}=\frac{\sum_{k=1}^{N}{G_{k}\Delta_{k}}}{%
\Delta\ }
  </annotation>
 </semantics>
</math>

</p>

<p>

<math display="block" id="Mason's_gain_formula:1">
 <semantics>
  <mrow>
   <mi mathvariant="normal">Δ</mi>
   <mo>=</mo>
   <mrow>
    <mrow>
     <mrow>
      <mrow>
       <mn>1</mn>
       <mo>-</mo>
       <mrow>
        <mo largeop="true" movablelimits="false" symmetric="true">∑</mo>
        <msub>
         <mi>L</mi>
         <mi>i</mi>
        </msub>
       </mrow>
      </mrow>
      <mo>+</mo>
      <mrow>
       <mo largeop="true" movablelimits="false" symmetric="true">∑</mo>
       <mrow>
        <msub>
         <mi>L</mi>
         <mi>i</mi>
        </msub>
        <msub>
         <mi>L</mi>
         <mi>j</mi>
        </msub>
       </mrow>
      </mrow>
     </mrow>
     <mo>-</mo>
     <mrow>
      <mo largeop="true" movablelimits="false" symmetric="true">∑</mo>
      <mrow>
       <msub>
        <mi>L</mi>
        <mi>i</mi>
       </msub>
       <msub>
        <mi>L</mi>
        <mi>j</mi>
       </msub>
       <msub>
        <mi>L</mi>
        <mi>k</mi>
       </msub>
      </mrow>
     </mrow>
    </mrow>
    <mo>+</mo>
    <mi mathvariant="normal">⋯</mi>
    <mo>+</mo>
    <mrow>
     <msup>
      <mrow>
       <mo stretchy="false">(</mo>
       <mrow>
        <mo>-</mo>
        <mn>1</mn>
       </mrow>
       <mo stretchy="false">)</mo>
      </mrow>
      <mi>m</mi>
     </msup>
     <mrow>
      <mo largeop="true" movablelimits="false" symmetric="true">∑</mo>
      <mi mathvariant="normal">⋯</mi>
     </mrow>
    </mrow>
    <mo>+</mo>
    <mi mathvariant="normal">⋯</mi>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <ci>normal-Δ</ci>
    <apply>
     <plus></plus>
     <apply>
      <minus></minus>
      <apply>
       <plus></plus>
       <apply>
        <minus></minus>
        <cn type="integer">1</cn>
        <apply>
         <sum></sum>
         <apply>
          <csymbol cd="ambiguous">subscript</csymbol>
          <ci>L</ci>
          <ci>i</ci>
         </apply>
        </apply>
       </apply>
       <apply>
        <sum></sum>
        <apply>
         <times></times>
         <apply>
          <csymbol cd="ambiguous">subscript</csymbol>
          <ci>L</ci>
          <ci>i</ci>
         </apply>
         <apply>
          <csymbol cd="ambiguous">subscript</csymbol>
          <ci>L</ci>
          <ci>j</ci>
         </apply>
        </apply>
       </apply>
      </apply>
      <apply>
       <sum></sum>
       <apply>
        <times></times>
        <apply>
         <csymbol cd="ambiguous">subscript</csymbol>
         <ci>L</ci>
         <ci>i</ci>
        </apply>
        <apply>
         <csymbol cd="ambiguous">subscript</csymbol>
         <ci>L</ci>
         <ci>j</ci>
        </apply>
        <apply>
         <csymbol cd="ambiguous">subscript</csymbol>
         <ci>L</ci>
         <ci>k</ci>
        </apply>
       </apply>
      </apply>
     </apply>
     <ci>normal-⋯</ci>
     <apply>
      <times></times>
      <apply>
       <csymbol cd="ambiguous">superscript</csymbol>
       <apply>
        <minus></minus>
        <cn type="integer">1</cn>
       </apply>
       <ci>m</ci>
      </apply>
      <apply>
       <sum></sum>
       <ci>normal-⋯</ci>
      </apply>
     </apply>
     <ci>normal-⋯</ci>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \Delta=1-\sum L_{i}+\sum L_{i}L_{j}-\sum L_{i}L_{j}L_{k}+\cdots+(-1)^{m}\sum%
\cdots+\cdots
  </annotation>
 </semantics>
</math>

</p>

<p>where:</p>
<ul>
<li>Δ = the determinant of the graph.</li>
<li><em>y</em><sub>in</sub> = input-node variable</li>
<li><em>y</em><sub>out</sub> = output-node variable</li>
<li><em>G</em> = complete gain between <em>y</em><sub>in</sub> and <em>y</em><sub>out</sub></li>
<li><em>N</em> = total number of forward paths between <em>y</em><sub>in</sub> and <em>y</em><sub>out</sub></li>
<li><em>G</em><sub><em>k</em></sub> = path gain of the <em>k</em>th forward path between <em>y</em><sub>in</sub> and <em>y</em><sub>out</sub></li>
<li><em>L</em><sub><em>i</em></sub> = loop gain of each closed loop in the system</li>
<li><em>L</em><sub><em>i</em></sub><em>L</em><sub><em>j</em></sub> = product of the loop gains of any two non-touching loops (no common nodes)</li>
<li><em>L</em><sub><em>i</em></sub><em>L</em><sub><em>j</em></sub><em>L</em><sub><em>k</em></sub> = product of the loop gains of any three pairwise nontouching loops</li>
<li>Δ<sub><em>k</em></sub> = the cofactor value of Δ for the <em>k</em><sup>th</sup> forward path, with the loops touching the <em>k</em><sup>th</sup> forward path removed. *</li>
</ul>
<h3 id="definitions">definitions<a class="footnoteRef" href="#fn2" id="fnref2"><sup>2</sup></a></h3>
<ul>
<li>Path: a continuous set of branches traversed in the direction that they indicate.</li>
<li>Forward path: A path from an input node to an output node in which no node is touched more than once.</li>
<li>Loop: A path that originates and ends on the same node in which no node is touched more than once.</li>
<li>Path gain: the product of the gains of all the branches in the path.</li>
<li>Loop gain: the product of the gains of all the branches in the loop.</li>
</ul>
<h3 id="procedure">Procedure</h3>

<p>To use this technique,</p>
<ol>
<li>Make a list of all forward paths, and their gains, and label these <em>G</em><sub><em>k</em></sub>.</li>
<li>Make a list of all the loops and their gains, and label these <em>L</em><sub><em>i</em></sub> (for <em>i</em> loops). Make a list of all pairs of non-touching loops, and the products of their gains (<em>L</em><sub><em>i</em></sub><em>L</em><sub><em>j</em></sub>). Make a list of all pairwise non-touching loops taken three at a time (<em>L</em><sub><em>i</em></sub><em>L</em><sub><em>j</em></sub><em>L</em><sub><em>k</em></sub>), then four at a time, and so forth, until there are no more.</li>
<li>Compute the determinant Δ and cofactors Δ<sub><em>k</em></sub>.</li>
<li>Apply the formula.</li>
</ol>
<h2 id="examples">Examples</h2>
<h3 id="circuit-containing-two-port">Circuit containing two-port</h3>
<figure><b>(Figure)</b>
<figcaption>lrft|thumb|400px| Signal flow graph of a circuit containing a two port. The forward path from input to output is shown in a different color.</figcaption>
</figure>

<p>The transfer function from <strong>V<sub>in</sub></strong> to <strong>V<sub>2</sub></strong> is desired.</p>

<p>There is only one forward path:</p>

<p>:* <strong>V<sub>in</sub></strong> to <strong>V<sub>1</sub></strong> to <strong>I<sub>2</sub></strong> to <strong>V<sub>2</sub></strong> with gain 

<math display="inline" id="Mason's_gain_formula:2">
 <semantics>
  <mrow>
   <msub>
    <mi>G</mi>
    <mn>1</mn>
   </msub>
   <mo>=</mo>
   <mrow>
    <mo>-</mo>
    <mrow>
     <msub>
      <mi>y</mi>
      <mn>21</mn>
     </msub>
     <mpadded width="+1.7pt">
      <msub>
       <mi>R</mi>
       <mi>L</mi>
      </msub>
     </mpadded>
    </mrow>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <csymbol cd="ambiguous">subscript</csymbol>
     <ci>G</ci>
     <cn type="integer">1</cn>
    </apply>
    <apply>
     <minus></minus>
     <apply>
      <times></times>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>y</ci>
       <cn type="integer">21</cn>
      </apply>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>R</ci>
       <ci>L</ci>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   G_{1}=-y_{21}R_{L}\,
  </annotation>
 </semantics>
</math>

</p>

<p>There are three loops:</p>

<p>:* <strong>V<sub>1</sub></strong> to <strong>I<sub>1</sub></strong> to <strong>V<sub>1</sub></strong> with gain 

<math display="inline" id="Mason's_gain_formula:3">
 <semantics>
  <mrow>
   <msub>
    <mi>L</mi>
    <mn>1</mn>
   </msub>
   <mo>=</mo>
   <mrow>
    <mo>-</mo>
    <mrow>
     <msub>
      <mi>R</mi>
      <mrow>
       <mi>i</mi>
       <mi>n</mi>
      </mrow>
     </msub>
     <mpadded width="+1.7pt">
      <msub>
       <mi>y</mi>
       <mn>11</mn>
      </msub>
     </mpadded>
    </mrow>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <csymbol cd="ambiguous">subscript</csymbol>
     <ci>L</ci>
     <cn type="integer">1</cn>
    </apply>
    <apply>
     <minus></minus>
     <apply>
      <times></times>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>R</ci>
       <apply>
        <times></times>
        <ci>i</ci>
        <ci>n</ci>
       </apply>
      </apply>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>y</ci>
       <cn type="integer">11</cn>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   L_{1}=-R_{in}y_{11}\,
  </annotation>
 </semantics>
</math>

</p>

<p>:* <strong>V<sub>2</sub></strong> to <strong>I<sub>2</sub></strong> to <strong>V<sub>2</sub></strong> with gain 

<math display="inline" id="Mason's_gain_formula:4">
 <semantics>
  <mrow>
   <msub>
    <mi>L</mi>
    <mn>2</mn>
   </msub>
   <mo>=</mo>
   <mrow>
    <mo>-</mo>
    <mrow>
     <msub>
      <mi>R</mi>
      <mi>L</mi>
     </msub>
     <mpadded width="+1.7pt">
      <msub>
       <mi>y</mi>
       <mn>22</mn>
      </msub>
     </mpadded>
    </mrow>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <csymbol cd="ambiguous">subscript</csymbol>
     <ci>L</ci>
     <cn type="integer">2</cn>
    </apply>
    <apply>
     <minus></minus>
     <apply>
      <times></times>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>R</ci>
       <ci>L</ci>
      </apply>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>y</ci>
       <cn type="integer">22</cn>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   L_{2}=-R_{L}y_{22}\,
  </annotation>
 </semantics>
</math>

</p>

<p>:* <strong>V<sub>1</sub></strong> to <strong>I<sub>2</sub></strong> to <strong>V<sub>2</sub></strong> to <strong>I<sub>1</sub></strong> to <strong>V<sub>1</sub></strong> with gain 

<math display="inline" id="Mason's_gain_formula:5">
 <semantics>
  <mrow>
   <msub>
    <mi>L</mi>
    <mn>3</mn>
   </msub>
   <mo>=</mo>
   <mrow>
    <msub>
     <mi>y</mi>
     <mn>21</mn>
    </msub>
    <msub>
     <mi>R</mi>
     <mi>L</mi>
    </msub>
    <msub>
     <mi>y</mi>
     <mn>12</mn>
    </msub>
    <mpadded width="+1.7pt">
     <msub>
      <mi>R</mi>
      <mrow>
       <mi>i</mi>
       <mi>n</mi>
      </mrow>
     </msub>
    </mpadded>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <csymbol cd="ambiguous">subscript</csymbol>
     <ci>L</ci>
     <cn type="integer">3</cn>
    </apply>
    <apply>
     <times></times>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <ci>y</ci>
      <cn type="integer">21</cn>
     </apply>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <ci>R</ci>
      <ci>L</ci>
     </apply>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <ci>y</ci>
      <cn type="integer">12</cn>
     </apply>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <ci>R</ci>
      <apply>
       <times></times>
       <ci>i</ci>
       <ci>n</ci>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   L_{3}=y_{21}R_{L}y_{12}R_{in}\,
  </annotation>
 </semantics>
</math>

</p>

<p>

<math display="block" id="Mason's_gain_formula:6">
 <semantics>
  <mrow>
   <mi mathvariant="normal">Δ</mi>
   <mo>=</mo>
   <mrow>
    <mrow>
     <mn>1</mn>
     <mo>-</mo>
     <mrow>
      <mo stretchy="false">(</mo>
      <mrow>
       <msub>
        <mi>L</mi>
        <mn>1</mn>
       </msub>
       <mo>+</mo>
       <msub>
        <mi>L</mi>
        <mn>2</mn>
       </msub>
       <mo>+</mo>
       <msub>
        <mi>L</mi>
        <mn>3</mn>
       </msub>
      </mrow>
      <mo stretchy="false">)</mo>
     </mrow>
    </mrow>
    <mo>+</mo>
    <mrow>
     <mo stretchy="false">(</mo>
     <mrow>
      <msub>
       <mi>L</mi>
       <mn>1</mn>
      </msub>
      <msub>
       <mi>L</mi>
       <mn>2</mn>
      </msub>
     </mrow>
     <mo rspace="4.2pt" stretchy="false">)</mo>
    </mrow>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <ci>normal-Δ</ci>
    <apply>
     <plus></plus>
     <apply>
      <minus></minus>
      <cn type="integer">1</cn>
      <apply>
       <plus></plus>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>L</ci>
        <cn type="integer">1</cn>
       </apply>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>L</ci>
        <cn type="integer">2</cn>
       </apply>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>L</ci>
        <cn type="integer">3</cn>
       </apply>
      </apply>
     </apply>
     <apply>
      <times></times>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>L</ci>
       <cn type="integer">1</cn>
      </apply>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>L</ci>
       <cn type="integer">2</cn>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \Delta=1-(L_{1}+L_{2}+L_{3})+(L_{1}L_{2})\,
  </annotation>
 </semantics>
</math>

 note: <strong>L<sub>1</sub></strong> and <strong>L<sub>2</sub></strong> do not touch each other whereas <strong>L<sub>3</sub></strong> touches both of the other loops.</p>

<p>

<math display="block" id="Mason's_gain_formula:7">
 <semantics>
  <mrow>
   <msub>
    <mi mathvariant="normal">Δ</mi>
    <mn>1</mn>
   </msub>
   <mo>=</mo>
   <mpadded width="+1.7pt">
    <mn>1</mn>
   </mpadded>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <csymbol cd="ambiguous">subscript</csymbol>
     <ci>normal-Δ</ci>
     <cn type="integer">1</cn>
    </apply>
    <cn type="integer">1</cn>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \Delta_{1}=1\,
  </annotation>
 </semantics>
</math>

 note: the forward path touches all the loops so all that is left is <strong>1</strong>.</p>

<p>

<math display="block" id="Mason's_gain_formula:8">
 <semantics>
  <mrow>
   <mi>G</mi>
   <mo>=</mo>
   <mfrac>
    <mrow>
     <msub>
      <mi>G</mi>
      <mn>1</mn>
     </msub>
     <msub>
      <mi mathvariant="normal">Δ</mi>
      <mn>1</mn>
     </msub>
    </mrow>
    <mi mathvariant="normal">Δ</mi>
   </mfrac>
   <mo>=</mo>
   <mpadded width="+1.7pt">
    <mfrac>
     <mrow>
      <mo>-</mo>
      <mrow>
       <msub>
        <mi>y</mi>
        <mn>21</mn>
       </msub>
       <msub>
        <mi>R</mi>
        <mi>L</mi>
       </msub>
      </mrow>
     </mrow>
     <mrow>
      <mrow>
       <mrow>
        <mn>1</mn>
        <mo>+</mo>
        <mrow>
         <msub>
          <mi>R</mi>
          <mrow>
           <mi>i</mi>
           <mi>n</mi>
          </mrow>
         </msub>
         <msub>
          <mi>y</mi>
          <mn>11</mn>
         </msub>
        </mrow>
        <mo>+</mo>
        <mrow>
         <msub>
          <mi>R</mi>
          <mi>L</mi>
         </msub>
         <msub>
          <mi>y</mi>
          <mn>22</mn>
         </msub>
        </mrow>
       </mrow>
       <mo>-</mo>
       <mrow>
        <msub>
         <mi>y</mi>
         <mn>21</mn>
        </msub>
        <msub>
         <mi>R</mi>
         <mi>L</mi>
        </msub>
        <msub>
         <mi>y</mi>
         <mn>12</mn>
        </msub>
        <msub>
         <mi>R</mi>
         <mrow>
          <mi>i</mi>
          <mi>n</mi>
         </mrow>
        </msub>
       </mrow>
      </mrow>
      <mo>+</mo>
      <mrow>
       <msub>
        <mi>R</mi>
        <mrow>
         <mi>i</mi>
         <mi>n</mi>
        </mrow>
       </msub>
       <msub>
        <mi>y</mi>
        <mn>11</mn>
       </msub>
       <msub>
        <mi>R</mi>
        <mi>L</mi>
       </msub>
       <msub>
        <mi>y</mi>
        <mn>22</mn>
       </msub>
      </mrow>
     </mrow>
    </mfrac>
   </mpadded>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <and></and>
    <apply>
     <eq></eq>
     <ci>G</ci>
     <apply>
      <divide></divide>
      <apply>
       <times></times>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>G</ci>
        <cn type="integer">1</cn>
       </apply>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>normal-Δ</ci>
        <cn type="integer">1</cn>
       </apply>
      </apply>
      <ci>normal-Δ</ci>
     </apply>
    </apply>
    <apply>
     <eq></eq>
     <share href="#.cmml">
     </share>
     <apply>
      <divide></divide>
      <apply>
       <minus></minus>
       <apply>
        <times></times>
        <apply>
         <csymbol cd="ambiguous">subscript</csymbol>
         <ci>y</ci>
         <cn type="integer">21</cn>
        </apply>
        <apply>
         <csymbol cd="ambiguous">subscript</csymbol>
         <ci>R</ci>
         <ci>L</ci>
        </apply>
       </apply>
      </apply>
      <apply>
       <plus></plus>
       <apply>
        <minus></minus>
        <apply>
         <plus></plus>
         <cn type="integer">1</cn>
         <apply>
          <times></times>
          <apply>
           <csymbol cd="ambiguous">subscript</csymbol>
           <ci>R</ci>
           <apply>
            <times></times>
            <ci>i</ci>
            <ci>n</ci>
           </apply>
          </apply>
          <apply>
           <csymbol cd="ambiguous">subscript</csymbol>
           <ci>y</ci>
           <cn type="integer">11</cn>
          </apply>
         </apply>
         <apply>
          <times></times>
          <apply>
           <csymbol cd="ambiguous">subscript</csymbol>
           <ci>R</ci>
           <ci>L</ci>
          </apply>
          <apply>
           <csymbol cd="ambiguous">subscript</csymbol>
           <ci>y</ci>
           <cn type="integer">22</cn>
          </apply>
         </apply>
        </apply>
        <apply>
         <times></times>
         <apply>
          <csymbol cd="ambiguous">subscript</csymbol>
          <ci>y</ci>
          <cn type="integer">21</cn>
         </apply>
         <apply>
          <csymbol cd="ambiguous">subscript</csymbol>
          <ci>R</ci>
          <ci>L</ci>
         </apply>
         <apply>
          <csymbol cd="ambiguous">subscript</csymbol>
          <ci>y</ci>
          <cn type="integer">12</cn>
         </apply>
         <apply>
          <csymbol cd="ambiguous">subscript</csymbol>
          <ci>R</ci>
          <apply>
           <times></times>
           <ci>i</ci>
           <ci>n</ci>
          </apply>
         </apply>
        </apply>
       </apply>
       <apply>
        <times></times>
        <apply>
         <csymbol cd="ambiguous">subscript</csymbol>
         <ci>R</ci>
         <apply>
          <times></times>
          <ci>i</ci>
          <ci>n</ci>
         </apply>
        </apply>
        <apply>
         <csymbol cd="ambiguous">subscript</csymbol>
         <ci>y</ci>
         <cn type="integer">11</cn>
        </apply>
        <apply>
         <csymbol cd="ambiguous">subscript</csymbol>
         <ci>R</ci>
         <ci>L</ci>
        </apply>
        <apply>
         <csymbol cd="ambiguous">subscript</csymbol>
         <ci>y</ci>
         <cn type="integer">22</cn>
        </apply>
       </apply>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   G=\frac{G_{1}\Delta_{1}}{\Delta}=\frac{-y_{21}R_{L}}{1+R_{in}y_{11}+R_{L}y_{22%
}-y_{21}R_{L}y_{12}R_{in}+R_{in}y_{11}R_{L}y_{22}}\,
  </annotation>
 </semantics>
</math>

 {{-}}</p>
<h3 id="digital-iir-biquad-filter">Digital IIR biquad filter</h3>
<figure><b>(Figure)</b>
<figcaption> The signal flow graph (SFG) for a digital infinite impulse response bi-quad filter. This SFG has three forward paths and two loops.</figcaption>
</figure>

<p><a href="Digital_filter" title="wikilink">Digital filters</a> are often diagramed as signal flow graphs.</p>
<dl>
<dd>There are two loops
<ul>
<li>

<math display="inline" id="Mason's_gain_formula:9">
 <semantics>
  <mrow>
   <msub>
    <mi>L</mi>
    <mn>1</mn>
   </msub>
   <mo>=</mo>
   <mrow>
    <mo>-</mo>
    <mrow>
     <msub>
      <mi>a</mi>
      <mn>1</mn>
     </msub>
     <mpadded width="+1.7pt">
      <msup>
       <mi>Z</mi>
       <mrow>
        <mo>-</mo>
        <mn>1</mn>
       </mrow>
      </msup>
     </mpadded>
    </mrow>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <csymbol cd="ambiguous">subscript</csymbol>
     <ci>L</ci>
     <cn type="integer">1</cn>
    </apply>
    <apply>
     <minus></minus>
     <apply>
      <times></times>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>a</ci>
       <cn type="integer">1</cn>
      </apply>
      <apply>
       <csymbol cd="ambiguous">superscript</csymbol>
       <ci>Z</ci>
       <apply>
        <minus></minus>
        <cn type="integer">1</cn>
       </apply>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   L_{1}=-a_{1}Z^{-1}\,
  </annotation>
 </semantics>
</math>

</li>
<li>

<math display="inline" id="Mason's_gain_formula:10">
 <semantics>
  <mrow>
   <msub>
    <mi>L</mi>
    <mn>2</mn>
   </msub>
   <mo>=</mo>
   <mrow>
    <mo>-</mo>
    <mrow>
     <msub>
      <mi>a</mi>
      <mn>2</mn>
     </msub>
     <mpadded width="+1.7pt">
      <msup>
       <mi>Z</mi>
       <mrow>
        <mo>-</mo>
        <mn>2</mn>
       </mrow>
      </msup>
     </mpadded>
    </mrow>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <csymbol cd="ambiguous">subscript</csymbol>
     <ci>L</ci>
     <cn type="integer">2</cn>
    </apply>
    <apply>
     <minus></minus>
     <apply>
      <times></times>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>a</ci>
       <cn type="integer">2</cn>
      </apply>
      <apply>
       <csymbol cd="ambiguous">superscript</csymbol>
       <ci>Z</ci>
       <apply>
        <minus></minus>
        <cn type="integer">2</cn>
       </apply>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   L_{2}=-a_{2}Z^{-2}\,
  </annotation>
 </semantics>
</math>

</li>
</ul>
</dd>
</dl>

<p>

<math display="block" id="Mason's_gain_formula:11">
 <semantics>
  <mrow>
   <mi mathvariant="normal">Δ</mi>
   <mo>=</mo>
   <mrow>
    <mn>1</mn>
    <mo>-</mo>
    <mrow>
     <mo stretchy="false">(</mo>
     <mrow>
      <msub>
       <mi>L</mi>
       <mn>1</mn>
      </msub>
      <mo>+</mo>
      <msub>
       <mi>L</mi>
       <mn>2</mn>
      </msub>
     </mrow>
     <mo rspace="4.2pt" stretchy="false">)</mo>
    </mrow>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <ci>normal-Δ</ci>
    <apply>
     <minus></minus>
     <cn type="integer">1</cn>
     <apply>
      <plus></plus>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>L</ci>
       <cn type="integer">1</cn>
      </apply>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>L</ci>
       <cn type="integer">2</cn>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \Delta=1-(L_{1}+L_{2})\,
  </annotation>
 </semantics>
</math>

 Note, the two loops touch so there is no term for their product.</p>
<dl>
<dd>There are three forward paths
<ul>
<li>

<math display="inline" id="Mason's_gain_formula:12">
 <semantics>
  <mrow>
   <msub>
    <mi>G</mi>
    <mn>0</mn>
   </msub>
   <mo>=</mo>
   <mpadded width="+1.7pt">
    <msub>
     <mi>b</mi>
     <mn>0</mn>
    </msub>
   </mpadded>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <csymbol cd="ambiguous">subscript</csymbol>
     <ci>G</ci>
     <cn type="integer">0</cn>
    </apply>
    <apply>
     <csymbol cd="ambiguous">subscript</csymbol>
     <ci>b</ci>
     <cn type="integer">0</cn>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   G_{0}=b_{0}\,
  </annotation>
 </semantics>
</math>

</li>
<li>

<math display="inline" id="Mason's_gain_formula:13">
 <semantics>
  <mrow>
   <msub>
    <mi>G</mi>
    <mn>1</mn>
   </msub>
   <mo>=</mo>
   <mrow>
    <msub>
     <mi>b</mi>
     <mn>1</mn>
    </msub>
    <mpadded width="+1.7pt">
     <msup>
      <mi>Z</mi>
      <mrow>
       <mo>-</mo>
       <mn>1</mn>
      </mrow>
     </msup>
    </mpadded>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <csymbol cd="ambiguous">subscript</csymbol>
     <ci>G</ci>
     <cn type="integer">1</cn>
    </apply>
    <apply>
     <times></times>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <ci>b</ci>
      <cn type="integer">1</cn>
     </apply>
     <apply>
      <csymbol cd="ambiguous">superscript</csymbol>
      <ci>Z</ci>
      <apply>
       <minus></minus>
       <cn type="integer">1</cn>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   G_{1}=b_{1}Z^{-1}\,
  </annotation>
 </semantics>
</math>

</li>
<li>

<math display="inline" id="Mason's_gain_formula:14">
 <semantics>
  <mrow>
   <msub>
    <mi>G</mi>
    <mn>2</mn>
   </msub>
   <mo>=</mo>
   <mrow>
    <msub>
     <mi>b</mi>
     <mn>2</mn>
    </msub>
    <mpadded width="+1.7pt">
     <msup>
      <mi>Z</mi>
      <mrow>
       <mo>-</mo>
       <mn>2</mn>
      </mrow>
     </msup>
    </mpadded>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <csymbol cd="ambiguous">subscript</csymbol>
     <ci>G</ci>
     <cn type="integer">2</cn>
    </apply>
    <apply>
     <times></times>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <ci>b</ci>
      <cn type="integer">2</cn>
     </apply>
     <apply>
      <csymbol cd="ambiguous">superscript</csymbol>
      <ci>Z</ci>
      <apply>
       <minus></minus>
       <cn type="integer">2</cn>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   G_{2}=b_{2}Z^{-2}\,
  </annotation>
 </semantics>
</math>

</li>
</ul>
</dd>
</dl>
<dl>
<dd>All the forward paths touch all the loops so 

<math display="inline" id="Mason's_gain_formula:15">
 <semantics>
  <mrow>
   <msub>
    <mi mathvariant="normal">Δ</mi>
    <mn>0</mn>
   </msub>
   <mo>=</mo>
   <msub>
    <mi mathvariant="normal">Δ</mi>
    <mn>1</mn>
   </msub>
   <mo>=</mo>
   <msub>
    <mi mathvariant="normal">Δ</mi>
    <mn>2</mn>
   </msub>
   <mo>=</mo>
   <mpadded width="+1.7pt">
    <mn>1</mn>
   </mpadded>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <and></and>
    <apply>
     <eq></eq>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <ci>normal-Δ</ci>
      <cn type="integer">0</cn>
     </apply>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <ci>normal-Δ</ci>
      <cn type="integer">1</cn>
     </apply>
    </apply>
    <apply>
     <eq></eq>
     <share href="#.cmml">
     </share>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <ci>normal-Δ</ci>
      <cn type="integer">2</cn>
     </apply>
    </apply>
    <apply>
     <eq></eq>
     <share href="#.cmml">
     </share>
     <cn type="integer">1</cn>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \Delta_{0}=\Delta_{1}=\Delta_{2}=1\,
  </annotation>
 </semantics>
</math>


</dd>
</dl>

<p>

<math display="block" id="Mason's_gain_formula:16">
 <semantics>
  <mrow>
   <mi>G</mi>
   <mo>=</mo>
   <mpadded width="+1.7pt">
    <mfrac>
     <mrow>
      <mrow>
       <msub>
        <mi>G</mi>
        <mn>0</mn>
       </msub>
       <msub>
        <mi mathvariant="normal">Δ</mi>
        <mn>0</mn>
       </msub>
      </mrow>
      <mo>+</mo>
      <mrow>
       <msub>
        <mi>G</mi>
        <mn>1</mn>
       </msub>
       <msub>
        <mi mathvariant="normal">Δ</mi>
        <mn>1</mn>
       </msub>
      </mrow>
      <mo>+</mo>
      <mrow>
       <msub>
        <mi>G</mi>
        <mn>2</mn>
       </msub>
       <msub>
        <mi mathvariant="normal">Δ</mi>
        <mn>2</mn>
       </msub>
      </mrow>
     </mrow>
     <mi mathvariant="normal">Δ</mi>
    </mfrac>
   </mpadded>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <ci>G</ci>
    <apply>
     <divide></divide>
     <apply>
      <plus></plus>
      <apply>
       <times></times>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>G</ci>
        <cn type="integer">0</cn>
       </apply>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>normal-Δ</ci>
        <cn type="integer">0</cn>
       </apply>
      </apply>
      <apply>
       <times></times>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>G</ci>
        <cn type="integer">1</cn>
       </apply>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>normal-Δ</ci>
        <cn type="integer">1</cn>
       </apply>
      </apply>
      <apply>
       <times></times>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>G</ci>
        <cn type="integer">2</cn>
       </apply>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>normal-Δ</ci>
        <cn type="integer">2</cn>
       </apply>
      </apply>
     </apply>
     <ci>normal-Δ</ci>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   G=\frac{G_{0}\Delta_{0}+G_{1}\Delta_{1}+G_{2}\Delta_{2}}{\Delta}\,
  </annotation>
 </semantics>
</math>

</p>

<p>

<math display="block" id="Mason's_gain_formula:17">
 <semantics>
  <mrow>
   <mi>G</mi>
   <mo>=</mo>
   <mpadded width="+1.7pt">
    <mfrac>
     <mrow>
      <msub>
       <mi>b</mi>
       <mn>0</mn>
      </msub>
      <mo>+</mo>
      <mrow>
       <msub>
        <mi>b</mi>
        <mn>1</mn>
       </msub>
       <msup>
        <mi>Z</mi>
        <mrow>
         <mo>-</mo>
         <mn>1</mn>
        </mrow>
       </msup>
      </mrow>
      <mo>+</mo>
      <mrow>
       <msub>
        <mi>b</mi>
        <mn>2</mn>
       </msub>
       <msup>
        <mi>Z</mi>
        <mrow>
         <mo>-</mo>
         <mn>2</mn>
        </mrow>
       </msup>
      </mrow>
     </mrow>
     <mrow>
      <mn>1</mn>
      <mo>+</mo>
      <mrow>
       <msub>
        <mi>a</mi>
        <mn>1</mn>
       </msub>
       <msup>
        <mi>Z</mi>
        <mrow>
         <mo>-</mo>
         <mn>1</mn>
        </mrow>
       </msup>
      </mrow>
      <mo>+</mo>
      <mrow>
       <msub>
        <mi>a</mi>
        <mn>2</mn>
       </msub>
       <msup>
        <mi>Z</mi>
        <mrow>
         <mo>-</mo>
         <mn>2</mn>
        </mrow>
       </msup>
      </mrow>
     </mrow>
    </mfrac>
   </mpadded>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <ci>G</ci>
    <apply>
     <divide></divide>
     <apply>
      <plus></plus>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>b</ci>
       <cn type="integer">0</cn>
      </apply>
      <apply>
       <times></times>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>b</ci>
        <cn type="integer">1</cn>
       </apply>
       <apply>
        <csymbol cd="ambiguous">superscript</csymbol>
        <ci>Z</ci>
        <apply>
         <minus></minus>
         <cn type="integer">1</cn>
        </apply>
       </apply>
      </apply>
      <apply>
       <times></times>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>b</ci>
        <cn type="integer">2</cn>
       </apply>
       <apply>
        <csymbol cd="ambiguous">superscript</csymbol>
        <ci>Z</ci>
        <apply>
         <minus></minus>
         <cn type="integer">2</cn>
        </apply>
       </apply>
      </apply>
     </apply>
     <apply>
      <plus></plus>
      <cn type="integer">1</cn>
      <apply>
       <times></times>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>a</ci>
        <cn type="integer">1</cn>
       </apply>
       <apply>
        <csymbol cd="ambiguous">superscript</csymbol>
        <ci>Z</ci>
        <apply>
         <minus></minus>
         <cn type="integer">1</cn>
        </apply>
       </apply>
      </apply>
      <apply>
       <times></times>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>a</ci>
        <cn type="integer">2</cn>
       </apply>
       <apply>
        <csymbol cd="ambiguous">superscript</csymbol>
        <ci>Z</ci>
        <apply>
         <minus></minus>
         <cn type="integer">2</cn>
        </apply>
       </apply>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   G=\frac{b_{0}+b_{1}Z^{-1}+b_{2}Z^{-2}}{1+a_{1}Z^{-1}+a_{2}Z^{-2}}\,
  </annotation>
 </semantics>
</math>

 {{-}}</p>
<h3 id="servo">Servo</h3>
<figure><b>(Figure)</b>
<figcaption> Angular position servo and signal flow graph. θ<sub>C</sub> = desired angle command, θ<sub>L</sub> = actual load angle, K<sub>P</sub> = position loop gain, V<sub>ωC</sub> = velocity command, V<sub>ωM</sub> = motor velocity sense voltage, K<sub>V</sub> = velocity loop gain, V<sub>IC</sub> = current command, V<sub>IM</sub> = current sense voltage, K<sub>C</sub> = current loop gain, V<sub>A</sub> = power amplifier output voltage, V<sub>M</sub> = effective voltage across the inductance, L<sub>M</sub> = motor inductance, I<sub>M</sub> = motor current, R<sub>M</sub> = motor resistance, R<sub>S</sub> = current sense resistance, K<sub>M</sub> = motor torque constant (Nm/amp), T = torque, M = moment of inertia of all rotating components α = angular acceleration, ω = angular velocity, β = mechanical damping, G<sub>M</sub> = motor back EMF constant, G<sub>T</sub> = tachometer conversion gain constant,. There is one forward path (shown in a different color) and six feedback loops. The drive shaft assumed to be stiff enough to not treat as a spring. Constants are shown in black and variables in purple.</figcaption>
</figure>

<p>The signal flow graph has six loops. They are:</p>

<p>:*

<math display="inline" id="Mason's_gain_formula:18">
 <semantics>
  <mrow>
   <msub>
    <mi>L</mi>
    <mn>0</mn>
   </msub>
   <mo>=</mo>
   <mrow>
    <mo>-</mo>
    <mpadded width="+1.7pt">
     <mfrac>
      <mi>β</mi>
      <mrow>
       <mi>s</mi>
       <mi>M</mi>
      </mrow>
     </mfrac>
    </mpadded>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <csymbol cd="ambiguous">subscript</csymbol>
     <ci>L</ci>
     <cn type="integer">0</cn>
    </apply>
    <apply>
     <minus></minus>
     <apply>
      <divide></divide>
      <ci>β</ci>
      <apply>
       <times></times>
       <ci>s</ci>
       <ci>M</ci>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   L_{0}=-\frac{\beta}{sM}\,
  </annotation>
 </semantics>
</math>

</p>

<p>:*

<math display="inline" id="Mason's_gain_formula:19">
 <semantics>
  <mrow>
   <msub>
    <mi>L</mi>
    <mn>1</mn>
   </msub>
   <mo>=</mo>
   <mpadded width="+1.7pt">
    <mfrac>
     <mrow>
      <mo>-</mo>
      <mrow>
       <mo stretchy="false">(</mo>
       <mrow>
        <msub>
         <mi>R</mi>
         <mi>M</mi>
        </msub>
        <mo>+</mo>
        <msub>
         <mi>R</mi>
         <mi>S</mi>
        </msub>
       </mrow>
       <mo stretchy="false">)</mo>
      </mrow>
     </mrow>
     <mrow>
      <mi>s</mi>
      <msub>
       <mi>L</mi>
       <mi>M</mi>
      </msub>
     </mrow>
    </mfrac>
   </mpadded>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <csymbol cd="ambiguous">subscript</csymbol>
     <ci>L</ci>
     <cn type="integer">1</cn>
    </apply>
    <apply>
     <divide></divide>
     <apply>
      <minus></minus>
      <apply>
       <plus></plus>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>R</ci>
        <ci>M</ci>
       </apply>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>R</ci>
        <ci>S</ci>
       </apply>
      </apply>
     </apply>
     <apply>
      <times></times>
      <ci>s</ci>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>L</ci>
       <ci>M</ci>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   L_{1}=\frac{-(R_{M}+R_{S})}{sL_{M}}\,
  </annotation>
 </semantics>
</math>

</p>

<p>:*

<math display="inline" id="Mason's_gain_formula:20">
 <semantics>
  <mrow>
   <msub>
    <mi>L</mi>
    <mn>2</mn>
   </msub>
   <mo rspace="4.2pt">=</mo>
   <mfrac>
    <mrow>
     <mo>-</mo>
     <mrow>
      <msub>
       <mi>G</mi>
       <mi>M</mi>
      </msub>
      <msub>
       <mi>K</mi>
       <mi>M</mi>
      </msub>
     </mrow>
    </mrow>
    <mrow>
     <msup>
      <mi>s</mi>
      <mn>2</mn>
     </msup>
     <msub>
      <mi>L</mi>
      <mi>M</mi>
     </msub>
     <mi>M</mi>
    </mrow>
   </mfrac>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <csymbol cd="ambiguous">subscript</csymbol>
     <ci>L</ci>
     <cn type="integer">2</cn>
    </apply>
    <apply>
     <divide></divide>
     <apply>
      <minus></minus>
      <apply>
       <times></times>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>G</ci>
        <ci>M</ci>
       </apply>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>K</ci>
        <ci>M</ci>
       </apply>
      </apply>
     </apply>
     <apply>
      <times></times>
      <apply>
       <csymbol cd="ambiguous">superscript</csymbol>
       <ci>s</ci>
       <cn type="integer">2</cn>
      </apply>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>L</ci>
       <ci>M</ci>
      </apply>
      <ci>M</ci>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   L_{2}=\,\frac{-G_{M}K_{M}}{s^{2}L_{M}M}
  </annotation>
 </semantics>
</math>

</p>

<p>:*

<math display="inline" id="Mason's_gain_formula:21">
 <semantics>
  <mrow>
   <msub>
    <mi>L</mi>
    <mn>3</mn>
   </msub>
   <mo>=</mo>
   <mpadded width="+1.7pt">
    <mfrac>
     <mrow>
      <mo>-</mo>
      <mrow>
       <msub>
        <mi>K</mi>
        <mi>C</mi>
       </msub>
       <msub>
        <mi>R</mi>
        <mi>S</mi>
       </msub>
      </mrow>
     </mrow>
     <mrow>
      <mi>s</mi>
      <msub>
       <mi>L</mi>
       <mi>M</mi>
      </msub>
     </mrow>
    </mfrac>
   </mpadded>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <csymbol cd="ambiguous">subscript</csymbol>
     <ci>L</ci>
     <cn type="integer">3</cn>
    </apply>
    <apply>
     <divide></divide>
     <apply>
      <minus></minus>
      <apply>
       <times></times>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>K</ci>
        <ci>C</ci>
       </apply>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>R</ci>
        <ci>S</ci>
       </apply>
      </apply>
     </apply>
     <apply>
      <times></times>
      <ci>s</ci>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>L</ci>
       <ci>M</ci>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   L_{3}=\frac{-K_{C}R_{S}}{sL_{M}}\,
  </annotation>
 </semantics>
</math>

</p>

<p>:*

<math display="inline" id="Mason's_gain_formula:22">
 <semantics>
  <mrow>
   <msub>
    <mi>L</mi>
    <mn>4</mn>
   </msub>
   <mo>=</mo>
   <mpadded width="+1.7pt">
    <mfrac>
     <mrow>
      <mo>-</mo>
      <mrow>
       <msub>
        <mi>K</mi>
        <mi>V</mi>
       </msub>
       <msub>
        <mi>K</mi>
        <mi>C</mi>
       </msub>
       <msub>
        <mi>K</mi>
        <mi>M</mi>
       </msub>
       <msub>
        <mi>G</mi>
        <mi>T</mi>
       </msub>
      </mrow>
     </mrow>
     <mrow>
      <msup>
       <mi>s</mi>
       <mn>2</mn>
      </msup>
      <msub>
       <mi>L</mi>
       <mi>M</mi>
      </msub>
      <mi>M</mi>
     </mrow>
    </mfrac>
   </mpadded>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <csymbol cd="ambiguous">subscript</csymbol>
     <ci>L</ci>
     <cn type="integer">4</cn>
    </apply>
    <apply>
     <divide></divide>
     <apply>
      <minus></minus>
      <apply>
       <times></times>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>K</ci>
        <ci>V</ci>
       </apply>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>K</ci>
        <ci>C</ci>
       </apply>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>K</ci>
        <ci>M</ci>
       </apply>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>G</ci>
        <ci>T</ci>
       </apply>
      </apply>
     </apply>
     <apply>
      <times></times>
      <apply>
       <csymbol cd="ambiguous">superscript</csymbol>
       <ci>s</ci>
       <cn type="integer">2</cn>
      </apply>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>L</ci>
       <ci>M</ci>
      </apply>
      <ci>M</ci>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   L_{4}=\frac{-K_{V}K_{C}K_{M}G_{T}}{s^{2}L_{M}M}\,
  </annotation>
 </semantics>
</math>

</p>

<p>:*

<math display="inline" id="Mason's_gain_formula:23">
 <semantics>
  <mrow>
   <msub>
    <mi>L</mi>
    <mn>5</mn>
   </msub>
   <mo>=</mo>
   <mpadded width="+1.7pt">
    <mfrac>
     <mrow>
      <mo>-</mo>
      <mrow>
       <msub>
        <mi>K</mi>
        <mi>P</mi>
       </msub>
       <msub>
        <mi>K</mi>
        <mi>V</mi>
       </msub>
       <msub>
        <mi>K</mi>
        <mi>C</mi>
       </msub>
       <msub>
        <mi>K</mi>
        <mi>M</mi>
       </msub>
      </mrow>
     </mrow>
     <mrow>
      <msup>
       <mi>s</mi>
       <mn>3</mn>
      </msup>
      <msub>
       <mi>L</mi>
       <mi>M</mi>
      </msub>
      <mi>M</mi>
     </mrow>
    </mfrac>
   </mpadded>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <csymbol cd="ambiguous">subscript</csymbol>
     <ci>L</ci>
     <cn type="integer">5</cn>
    </apply>
    <apply>
     <divide></divide>
     <apply>
      <minus></minus>
      <apply>
       <times></times>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>K</ci>
        <ci>P</ci>
       </apply>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>K</ci>
        <ci>V</ci>
       </apply>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>K</ci>
        <ci>C</ci>
       </apply>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>K</ci>
        <ci>M</ci>
       </apply>
      </apply>
     </apply>
     <apply>
      <times></times>
      <apply>
       <csymbol cd="ambiguous">superscript</csymbol>
       <ci>s</ci>
       <cn type="integer">3</cn>
      </apply>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>L</ci>
       <ci>M</ci>
      </apply>
      <ci>M</ci>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   L_{5}=\frac{-K_{P}K_{V}K_{C}K_{M}}{s^{3}L_{M}M}\,
  </annotation>
 </semantics>
</math>

</p>

<p>

<math display="block" id="Mason's_gain_formula:24">
 <semantics>
  <mrow>
   <mi mathvariant="normal">Δ</mi>
   <mo>=</mo>
   <mrow>
    <mrow>
     <mn>1</mn>
     <mo>-</mo>
     <mrow>
      <mo stretchy="false">(</mo>
      <mrow>
       <msub>
        <mi>L</mi>
        <mn>0</mn>
       </msub>
       <mo>+</mo>
       <msub>
        <mi>L</mi>
        <mn>1</mn>
       </msub>
       <mo>+</mo>
       <msub>
        <mi>L</mi>
        <mn>2</mn>
       </msub>
       <mo>+</mo>
       <msub>
        <mi>L</mi>
        <mn>3</mn>
       </msub>
       <mo>+</mo>
       <msub>
        <mi>L</mi>
        <mn>4</mn>
       </msub>
       <mo>+</mo>
       <msub>
        <mi>L</mi>
        <mn>5</mn>
       </msub>
      </mrow>
      <mo stretchy="false">)</mo>
     </mrow>
    </mrow>
    <mo>+</mo>
    <mrow>
     <mo stretchy="false">(</mo>
     <mrow>
      <mrow>
       <msub>
        <mi>L</mi>
        <mn>0</mn>
       </msub>
       <msub>
        <mi>L</mi>
        <mn>1</mn>
       </msub>
      </mrow>
      <mo>+</mo>
      <mrow>
       <msub>
        <mi>L</mi>
        <mn>0</mn>
       </msub>
       <msub>
        <mi>L</mi>
        <mn>3</mn>
       </msub>
      </mrow>
     </mrow>
     <mo rspace="4.2pt" stretchy="false">)</mo>
    </mrow>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <ci>normal-Δ</ci>
    <apply>
     <plus></plus>
     <apply>
      <minus></minus>
      <cn type="integer">1</cn>
      <apply>
       <plus></plus>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>L</ci>
        <cn type="integer">0</cn>
       </apply>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>L</ci>
        <cn type="integer">1</cn>
       </apply>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>L</ci>
        <cn type="integer">2</cn>
       </apply>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>L</ci>
        <cn type="integer">3</cn>
       </apply>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>L</ci>
        <cn type="integer">4</cn>
       </apply>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>L</ci>
        <cn type="integer">5</cn>
       </apply>
      </apply>
     </apply>
     <apply>
      <plus></plus>
      <apply>
       <times></times>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>L</ci>
        <cn type="integer">0</cn>
       </apply>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>L</ci>
        <cn type="integer">1</cn>
       </apply>
      </apply>
      <apply>
       <times></times>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>L</ci>
        <cn type="integer">0</cn>
       </apply>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>L</ci>
        <cn type="integer">3</cn>
       </apply>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \Delta=1-(L_{0}+L_{1}+L_{2}+L_{3}+L_{4}+L_{5})+(L_{0}L_{1}+L_{0}L_{3})\,
  </annotation>
 </semantics>
</math>

</p>

<p>There is one forward path:</p>

<p>:*

<math display="inline" id="Mason's_gain_formula:25">
 <semantics>
  <mrow>
   <msub>
    <mi>g</mi>
    <mn>0</mn>
   </msub>
   <mo>=</mo>
   <mpadded width="+1.7pt">
    <mfrac>
     <mrow>
      <mo>-</mo>
      <mrow>
       <msub>
        <mi>K</mi>
        <mi>P</mi>
       </msub>
       <msub>
        <mi>K</mi>
        <mi>V</mi>
       </msub>
       <msub>
        <mi>K</mi>
        <mi>C</mi>
       </msub>
       <msub>
        <mi>K</mi>
        <mi>M</mi>
       </msub>
      </mrow>
     </mrow>
     <mrow>
      <msup>
       <mi>s</mi>
       <mn>3</mn>
      </msup>
      <msub>
       <mi>L</mi>
       <mi>M</mi>
      </msub>
      <mi>M</mi>
     </mrow>
    </mfrac>
   </mpadded>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <csymbol cd="ambiguous">subscript</csymbol>
     <ci>g</ci>
     <cn type="integer">0</cn>
    </apply>
    <apply>
     <divide></divide>
     <apply>
      <minus></minus>
      <apply>
       <times></times>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>K</ci>
        <ci>P</ci>
       </apply>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>K</ci>
        <ci>V</ci>
       </apply>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>K</ci>
        <ci>C</ci>
       </apply>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>K</ci>
        <ci>M</ci>
       </apply>
      </apply>
     </apply>
     <apply>
      <times></times>
      <apply>
       <csymbol cd="ambiguous">superscript</csymbol>
       <ci>s</ci>
       <cn type="integer">3</cn>
      </apply>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>L</ci>
       <ci>M</ci>
      </apply>
      <ci>M</ci>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   g_{0}=\frac{-K_{P}K_{V}K_{C}K_{M}}{s^{3}L_{M}M}\,
  </annotation>
 </semantics>
</math>

</p>

<p>The forward path touches all the loops therefore the co-factor 

<math display="inline" id="Mason's_gain_formula:26">
 <semantics>
  <mrow>
   <msub>
    <mi mathvariant="normal">Δ</mi>
    <mn>0</mn>
   </msub>
   <mo>=</mo>
   <mn>1</mn>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <csymbol cd="ambiguous">subscript</csymbol>
     <ci>normal-Δ</ci>
     <cn type="integer">0</cn>
    </apply>
    <cn type="integer">1</cn>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \Delta_{0}=1
  </annotation>
 </semantics>
</math>

</p>

<p>And the gain from input to output is 

<math display="inline" id="Mason's_gain_formula:27">
 <semantics>
  <mrow>
   <mfrac>
    <msub>
     <mi>θ</mi>
     <mi>L</mi>
    </msub>
    <msub>
     <mi>θ</mi>
     <mi>C</mi>
    </msub>
   </mfrac>
   <mo>=</mo>
   <mpadded width="+1.7pt">
    <mfrac>
     <mrow>
      <msub>
       <mi>g</mi>
       <mn>0</mn>
      </msub>
      <msub>
       <mi mathvariant="normal">Δ</mi>
       <mn>0</mn>
      </msub>
     </mrow>
     <mi mathvariant="normal">Δ</mi>
    </mfrac>
   </mpadded>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <divide></divide>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <ci>θ</ci>
      <ci>L</ci>
     </apply>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <ci>θ</ci>
      <ci>C</ci>
     </apply>
    </apply>
    <apply>
     <divide></divide>
     <apply>
      <times></times>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>g</ci>
       <cn type="integer">0</cn>
      </apply>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>normal-Δ</ci>
       <cn type="integer">0</cn>
      </apply>
     </apply>
     <ci>normal-Δ</ci>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \frac{\theta_{L}}{\theta_{C}}=\frac{g_{0}\Delta_{0}}{\Delta}\,
  </annotation>
 </semantics>
</math>

 {{-}}</p>
<h2 id="equivalent-matrix-form">Equivalent matrix form</h2>

<p>Mason's rule can be stated in a simple matrix form. Assume 

<math display="inline" id="Mason's_gain_formula:28">
 <semantics>
  <mi>𝐓</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>𝐓</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \mathbf{T}
  </annotation>
 </semantics>
</math>

 is the transient matrix of the graph where 

<math display="inline" id="Mason's_gain_formula:29">
 <semantics>
  <mrow>
   <msub>
    <mi>t</mi>
    <mrow>
     <mi>n</mi>
     <mi>m</mi>
    </mrow>
   </msub>
   <mo>=</mo>
   <msub>
    <mrow>
     <mo>[</mo>
     <mi>𝐓</mi>
     <mo>]</mo>
    </mrow>
    <mrow>
     <mi>n</mi>
     <mi>m</mi>
    </mrow>
   </msub>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <csymbol cd="ambiguous">subscript</csymbol>
     <ci>t</ci>
     <apply>
      <times></times>
      <ci>n</ci>
      <ci>m</ci>
     </apply>
    </apply>
    <apply>
     <csymbol cd="ambiguous">subscript</csymbol>
     <apply>
      <csymbol cd="latexml">delimited-[]</csymbol>
      <ci>𝐓</ci>
     </apply>
     <apply>
      <times></times>
      <ci>n</ci>
      <ci>m</ci>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   t_{nm}=\left[\mathbf{T}\right]_{nm}
  </annotation>
 </semantics>
</math>

 is the sum transmittance of branches from node <em>m</em> toward node <em>n</em>. Then, the gain from node <em>m</em> to node <em>n</em> of the graph is equal to 

<math display="inline" id="Mason's_gain_formula:30">
 <semantics>
  <mrow>
   <msub>
    <mi>u</mi>
    <mrow>
     <mi>n</mi>
     <mi>m</mi>
    </mrow>
   </msub>
   <mo>=</mo>
   <msub>
    <mrow>
     <mo>[</mo>
     <mi>𝐔</mi>
     <mo>]</mo>
    </mrow>
    <mrow>
     <mi>n</mi>
     <mi>m</mi>
    </mrow>
   </msub>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <csymbol cd="ambiguous">subscript</csymbol>
     <ci>u</ci>
     <apply>
      <times></times>
      <ci>n</ci>
      <ci>m</ci>
     </apply>
    </apply>
    <apply>
     <csymbol cd="ambiguous">subscript</csymbol>
     <apply>
      <csymbol cd="latexml">delimited-[]</csymbol>
      <ci>𝐔</ci>
     </apply>
     <apply>
      <times></times>
      <ci>n</ci>
      <ci>m</ci>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   u_{nm}=\left[\mathbf{U}\right]_{nm}
  </annotation>
 </semantics>
</math>

, where</p>

<p>

<math display="block" id="Mason's_gain_formula:31">
 <semantics>
  <mrow>
   <mi>𝐔</mi>
   <mo>=</mo>
   <msup>
    <mrow>
     <mo>(</mo>
     <mrow>
      <mi>𝐈</mi>
      <mo>-</mo>
      <mi>𝐓</mi>
     </mrow>
     <mo>)</mo>
    </mrow>
    <mrow>
     <mo>-</mo>
     <mn>1</mn>
    </mrow>
   </msup>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <ci>𝐔</ci>
    <apply>
     <csymbol cd="ambiguous">superscript</csymbol>
     <apply>
      <minus></minus>
      <ci>𝐈</ci>
      <ci>𝐓</ci>
     </apply>
     <apply>
      <minus></minus>
      <cn type="integer">1</cn>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \mathbf{U}=\left(\mathbf{I}-\mathbf{T}\right)^{-1}
  </annotation>
 </semantics>
</math>

,</p>

<p>and 

<math display="inline" id="Mason's_gain_formula:32">
 <semantics>
  <mi>𝐈</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>𝐈</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \mathbf{I}
  </annotation>
 </semantics>
</math>

 is the identity matrix.</p>

<p>Mason's Rule is also particularly useful for deriving the z-domain transfer function of discrete networks that have inner feedback loops embedded within outer feedback loops (nested loops). If the discrete network can be drawn as a signal flow graph, then the application of Mason's Rule will give that network's z-domain H(z) transfer function.</p>
<h2 id="complexity-and-computational-applications">Complexity and Computational Applications</h2>

<p>Mason's Rule can grow factorially, because the enumeration of paths in a directed graph grows thusly. To see this consider the complete directed graph on 

<math display="inline" id="Mason's_gain_formula:33">
 <semantics>
  <mi>n</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>n</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   n
  </annotation>
 </semantics>
</math>

 vertices, having an edge between every pair of vertices. There is a path form 

<math display="inline" id="Mason's_gain_formula:34">
 <semantics>
  <msub>
   <mi>y</mi>
   <mrow>
    <mi>i</mi>
    <mi>n</mi>
   </mrow>
  </msub>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <csymbol cd="ambiguous">subscript</csymbol>
    <ci>y</ci>
    <apply>
     <times></times>
     <ci>i</ci>
     <ci>n</ci>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   y_{in}
  </annotation>
 </semantics>
</math>

 to 

<math display="inline" id="Mason's_gain_formula:35">
 <semantics>
  <msub>
   <mi>y</mi>
   <mrow>
    <mi>o</mi>
    <mi>u</mi>
    <mi>t</mi>
   </mrow>
  </msub>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <csymbol cd="ambiguous">subscript</csymbol>
    <ci>y</ci>
    <apply>
     <times></times>
     <ci>o</ci>
     <ci>u</ci>
     <ci>t</ci>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   y_{out}
  </annotation>
 </semantics>
</math>

 for each of the 

<math display="inline" id="Mason's_gain_formula:36">
 <semantics>
  <mrow>
   <mrow>
    <mo stretchy="false">(</mo>
    <mrow>
     <mi>n</mi>
     <mo>-</mo>
     <mn>2</mn>
    </mrow>
    <mo stretchy="false">)</mo>
   </mrow>
   <mo lspace="0pt" rspace="3.5pt">!</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <factorial></factorial>
    <apply>
     <minus></minus>
     <ci>n</ci>
     <cn type="integer">2</cn>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   (n-2)!
  </annotation>
 </semantics>
</math>

 permutations of the intermediate vertices. Thus <a href="Gaussian_elimination" title="wikilink">Gaussian elimination</a> is more efficient in the general case.</p>

<p>Yet Mason's rule characterizes the transfer functions of interconnected systems in a way which is simultaneously algebraic and combinatorial, allowing for general statements and other computations in algebraic systems theory. While numerous inverses occur during Gaussian eliminiation, Mason's rule naturally collects these into a single <a class="uri" href="quasi-inverse" title="wikilink">quasi-inverse</a>. General form is</p>
<dl>
<dd><dl>
<dd>

<math display="inline" id="Mason's_gain_formula:37">
 <semantics>
  <mrow>
   <mfrac>
    <mi>p</mi>
    <mrow>
     <mn>1</mn>
     <mo>-</mo>
     <mi>q</mi>
    </mrow>
   </mfrac>
   <mo>,</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <divide></divide>
    <ci>p</ci>
    <apply>
     <minus></minus>
     <cn type="integer">1</cn>
     <ci>q</ci>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \frac{p}{1-q},
  </annotation>
 </semantics>
</math>


</dd>
</dl>
</dd>
</dl>

<p>Where as described above, 

<math display="inline" id="Mason's_gain_formula:38">
 <semantics>
  <mi>q</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>q</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   q
  </annotation>
 </semantics>
</math>

 is a sum of cycle products, each of which typically falls into an <a href="Ideal_(ring_theory)" title="wikilink">ideal</a> (for example, the strictly causal operators). Fractions of this form form a <a class="uri" href="subring" title="wikilink">subring</a> 

<math display="inline" id="Mason's_gain_formula:39">
 <semantics>
  <mrow>
   <mi>R</mi>
   <msup>
    <mrow>
     <mo stretchy="false">(</mo>
     <mrow>
      <mn>1</mn>
      <mo>+</mo>
      <mrow>
       <mo stretchy="false">⟨</mo>
       <msub>
        <mi>L</mi>
        <mi>i</mi>
       </msub>
       <mo stretchy="false">⟩</mo>
      </mrow>
     </mrow>
     <mo stretchy="false">)</mo>
    </mrow>
    <mrow>
     <mo>-</mo>
     <mn>1</mn>
    </mrow>
   </msup>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <times></times>
    <ci>R</ci>
    <apply>
     <csymbol cd="ambiguous">superscript</csymbol>
     <apply>
      <plus></plus>
      <cn type="integer">1</cn>
      <apply>
       <csymbol cd="latexml">delimited-⟨⟩</csymbol>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>L</ci>
        <ci>i</ci>
       </apply>
      </apply>
     </apply>
     <apply>
      <minus></minus>
      <cn type="integer">1</cn>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   R(1+\langle L_{i}\rangle)^{-1}
  </annotation>
 </semantics>
</math>

 of the <a href="rational_function_field" title="wikilink">rational function field</a>. This observation carries over to the noncommutative case,<a class="footnoteRef" href="#fn3" id="fnref3"><sup>3</sup></a> even though Mason's rule itself must then be replaced by <a href="Noncommutative_signal-flow_graph#Return_Loop_Method" title="wikilink">Riegle's rule</a>.</p>
<h2 id="see-also">See also</h2>
<ul>
<li><a href="Signal-flow_graph" title="wikilink">Signal-flow graph</a></li>
<li><a href="Noncommutative_signal-flow_graph#Return_Loop_Method" title="wikilink">Riegle's rule</a></li>
</ul>
<h2 id="notes">Notes</h2>
<h2 id="references">References</h2>
<ul>
<li></li>
<li></li>
</ul>

<p>"</p>

<p><a href="Category:Control_theory" title="wikilink">Category:Control theory</a></p>
<section class="footnotes">
<hr/>
<ol>
<li id="fn1"><a href="#fnref1">↩</a></li>
<li id="fn2"><a href="#fnref2">↩</a></li>
<li id="fn3"><a href="#fnref3">↩</a></li>
</ol>
</section>
</hr></body>
</html>
