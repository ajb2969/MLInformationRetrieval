<html lang="en">
<head>
<meta charset="utf-8"/>
<title offset="1630">Conditioning (probability)</title>
<script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_SVG.js" type="text/javascript">
</script>
</head>
<body>
<h1>Conditioning (probability)</h1>
<hr/>

<p>Beliefs depend on the available information. This idea is formalized in <a href="probability_theory" title="wikilink">probability theory</a> by <strong>conditioning</strong>. Conditional <a href="probability" title="wikilink">probabilities</a>, conditional <a href="Expected_value" title="wikilink">expectations</a> and conditional <a href="Probability_distribution" title="wikilink">distributions</a> are treated on three levels: <a href="Discrete_probability_distribution" title="wikilink">discrete probabilities</a>, <a href="probability_density_function" title="wikilink">probability density functions</a>, and <a href="measure_theory" title="wikilink">measure theory</a>. Conditioning leads to a non-random result if the condition is completely specified; otherwise, if the condition is left random, the result of conditioning is also random.</p>

<p>This article concentrates on interrelations between various kinds of conditioning, shown mostly by examples. For systematic treatment (and corresponding literature) see more specialized articles mentioned below.</p>
<h2 id="conditioning-on-the-discrete-level">Conditioning on the discrete level</h2>

<p><strong>Example.</strong> A fair coin is tossed 10 times; the <a href="random_variable" title="wikilink">random variable</a> <em>X</em> is the number of heads in these 10 tosses, and <em>Y</em> ‚Äî the number of heads in the first 3 tosses. In spite of the fact that <em>Y</em> emerges before <em>X</em> it may happen that someone knows <em>X</em> but not <em>Y</em>.</p>
<h3 id="conditional-probability">Conditional probability</h3>

<p>Given that <em>X</em> = 1, the conditional probability of the event <em>Y</em> = 0 is P(<em>Y</em> = 0 | <em>X</em> = 1) = P(<em>Y</em> = 0, <em>X</em> = 1) / P(<em>X</em> = 1) = 0.7. More generally,</p>

<p>

<math display="block" id="Conditioning_(probability):0">
 <semantics>
  <mrow>
   <mi>‚Ñô</mi>
   <mrow>
    <mo stretchy="false">(</mo>
    <mi>Y</mi>
    <mo>=</mo>
    <mn>0</mn>
    <mo stretchy="false">|</mo>
    <mi>X</mi>
    <mo>=</mo>
    <mi>x</mi>
    <mo stretchy="false">)</mo>
   </mrow>
   <mo>=</mo>
   <mfrac>
    <mrow>
     <mo>(</mo>
     <mstyle scriptlevel="+1">
      <mtable columnspacing="0.4em" rowspacing="0.2ex">
       <mtr>
        <mtd>
         <mn>7</mn>
        </mtd>
       </mtr>
       <mtr>
        <mtd>
         <mi>x</mi>
        </mtd>
       </mtr>
      </mtable>
     </mstyle>
     <mo>)</mo>
    </mrow>
    <mrow>
     <mo>(</mo>
     <mstyle scriptlevel="+1">
      <mtable columnspacing="0.4em" rowspacing="0.2ex">
       <mtr>
        <mtd>
         <mn>10</mn>
        </mtd>
       </mtr>
       <mtr>
        <mtd>
         <mi>x</mi>
        </mtd>
       </mtr>
      </mtable>
     </mstyle>
     <mo>)</mo>
    </mrow>
   </mfrac>
   <mo>=</mo>
   <mfrac>
    <mrow>
     <mrow>
      <mn>7</mn>
      <mo lspace="0pt" rspace="3.5pt">!</mo>
     </mrow>
     <mrow>
      <mrow>
       <mo stretchy="false">(</mo>
       <mrow>
        <mn>10</mn>
        <mo>-</mo>
        <mi>x</mi>
       </mrow>
       <mo stretchy="false">)</mo>
      </mrow>
      <mo lspace="0pt" rspace="3.5pt">!</mo>
     </mrow>
    </mrow>
    <mrow>
     <mrow>
      <mrow>
       <mo stretchy="false">(</mo>
       <mrow>
        <mn>7</mn>
        <mo>-</mo>
        <mi>x</mi>
       </mrow>
       <mo stretchy="false">)</mo>
      </mrow>
      <mo lspace="0pt" rspace="3.5pt">!</mo>
     </mrow>
     <mrow>
      <mn>10</mn>
      <mo lspace="0pt" rspace="3.5pt">!</mo>
     </mrow>
    </mrow>
   </mfrac>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <cerror>
    <csymbol cd="ambiguous">fragments</csymbol>
    <csymbol cd="unknown">P</csymbol>
    <cerror>
     <csymbol cd="ambiguous">fragments</csymbol>
     <ci>normal-(</ci>
     <csymbol cd="unknown">Y</csymbol>
     <eq></eq>
     <cn type="integer">0</cn>
     <ci>normal-|</ci>
     <csymbol cd="unknown">X</csymbol>
     <eq></eq>
     <csymbol cd="unknown">x</csymbol>
     <ci>normal-)</ci>
    </cerror>
    <eq></eq>
    <apply>
     <divide></divide>
     <apply>
      <csymbol cd="latexml">binomial</csymbol>
      <cn type="integer">7</cn>
      <ci>x</ci>
     </apply>
     <apply>
      <csymbol cd="latexml">binomial</csymbol>
      <cn type="integer">10</cn>
      <ci>x</ci>
     </apply>
    </apply>
    <eq></eq>
    <apply>
     <divide></divide>
     <apply>
      <times></times>
      <apply>
       <factorial></factorial>
       <cn type="integer">7</cn>
      </apply>
      <apply>
       <factorial></factorial>
       <apply>
        <minus></minus>
        <cn type="integer">10</cn>
        <ci>x</ci>
       </apply>
      </apply>
     </apply>
     <apply>
      <times></times>
      <apply>
       <factorial></factorial>
       <apply>
        <minus></minus>
        <cn type="integer">7</cn>
        <ci>x</ci>
       </apply>
      </apply>
      <apply>
       <factorial></factorial>
       <cn type="integer">10</cn>
      </apply>
     </apply>
    </apply>
   </cerror>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \mathbb{P}(Y=0|X=x)=\frac{{\left({{7}\atop{x}}\right)}}{{\left({{10}\atop{x}}%
\right)}}=\frac{7!(10-x)!}{(7-x)!10!}
  </annotation>
 </semantics>
</math>

</p>

<p>for <em>x</em> = 0, 1, 2, 3, 4, 5, 6, 7; otherwise (for <em>x</em> = 8, 9, 10), P ( <em>Y</em> = 0 | <em>X</em> = <em>x</em> ) = 0. One may also treat the conditional probability as a random variable, ‚Äî a function of the random variable <em>X</em>, namely,</p>

<p>

<math display="block" id="Conditioning_(probability):1">
 <semantics>
  <mrow>
   <mi>‚Ñô</mi>
   <mrow>
    <mo stretchy="false">(</mo>
    <mi>Y</mi>
    <mo>=</mo>
    <mn>0</mn>
    <mo stretchy="false">|</mo>
    <mi>X</mi>
    <mo stretchy="false">)</mo>
   </mrow>
   <mo>=</mo>
   <mrow>
    <mo>{</mo>
    <mtable displaystyle="true">
     <mtr>
      <mtd columnalign="left">
       <mrow>
        <mrow>
         <mo>(</mo>
         <mstyle displaystyle="false">
          <mstyle scriptlevel="+1">
           <mtable columnspacing="0.4em" rowspacing="0.2ex">
            <mtr>
             <mtd>
              <mn>7</mn>
             </mtd>
            </mtr>
            <mtr>
             <mtd>
              <mi>X</mi>
             </mtd>
            </mtr>
           </mtable>
          </mstyle>
         </mstyle>
         <mo>)</mo>
        </mrow>
        <mo>/</mo>
        <mrow>
         <mo>(</mo>
         <mstyle displaystyle="false">
          <mstyle scriptlevel="+1">
           <mtable columnspacing="0.4em" rowspacing="0.2ex">
            <mtr>
             <mtd>
              <mn>10</mn>
             </mtd>
            </mtr>
            <mtr>
             <mtd>
              <mi>X</mi>
             </mtd>
            </mtr>
           </mtable>
          </mstyle>
         </mstyle>
         <mo>)</mo>
        </mrow>
       </mrow>
      </mtd>
      <mtd columnalign="left">
       <mrow>
        <mrow>
         <mrow>
          <mtext>for</mtext>
          <mi>X</mi>
         </mrow>
         <mo>‚â§</mo>
         <mn>7</mn>
        </mrow>
        <mo>,</mo>
       </mrow>
      </mtd>
     </mtr>
     <mtr>
      <mtd columnalign="left">
       <mn>0</mn>
      </mtd>
      <mtd columnalign="left">
       <mrow>
        <mrow>
         <mtext>for</mtext>
         <mi>X</mi>
        </mrow>
        <mo>></mo>
        <mn>7.</mn>
       </mrow>
      </mtd>
     </mtr>
    </mtable>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <cerror>
    <csymbol cd="ambiguous">fragments</csymbol>
    <csymbol cd="unknown">P</csymbol>
    <cerror>
     <csymbol cd="ambiguous">fragments</csymbol>
     <ci>normal-(</ci>
     <csymbol cd="unknown">Y</csymbol>
     <eq></eq>
     <cn type="integer">0</cn>
     <ci>normal-|</ci>
     <csymbol cd="unknown">X</csymbol>
     <ci>normal-)</ci>
    </cerror>
    <eq></eq>
    <apply>
     <csymbol cd="latexml">cases</csymbol>
     <apply>
      <divide></divide>
      <apply>
       <csymbol cd="latexml">binomial</csymbol>
       <cn type="integer">7</cn>
       <ci>X</ci>
      </apply>
      <apply>
       <csymbol cd="latexml">binomial</csymbol>
       <cn type="integer">10</cn>
       <ci>X</ci>
      </apply>
     </apply>
     <apply>
      <leq></leq>
      <apply>
       <times></times>
       <mtext>for</mtext>
       <ci>X</ci>
      </apply>
      <cn type="integer">7</cn>
     </apply>
     <cn type="integer">0</cn>
     <apply>
      <gt></gt>
      <apply>
       <times></times>
       <mtext>for</mtext>
       <ci>X</ci>
      </apply>
      <cn type="float">7.</cn>
     </apply>
    </apply>
   </cerror>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \mathbb{P}(Y=0|X)=\begin{cases}{\left({{7}\atop{X}}\right)}/{\left({{10}\atop{%
X}}\right)}&\text{for }X\leq 7,\\
0&\text{for }X>7.\end{cases}
  </annotation>
 </semantics>
</math>

</p>

<p>The <a href="expected_value" title="wikilink">expectation</a> of this random variable is equal to the (unconditional) probability,</p>

<p>

<math display="block" id="Conditioning_(probability):2">
 <semantics>
  <mrow>
   <mi>ùîº</mi>
   <mrow>
    <mo stretchy="false">(</mo>
    <mi>‚Ñô</mi>
    <mrow>
     <mo stretchy="false">(</mo>
     <mi>Y</mi>
     <mo>=</mo>
     <mn>0</mn>
     <mo stretchy="false">|</mo>
     <mi>X</mi>
     <mo stretchy="false">)</mo>
    </mrow>
    <mo stretchy="false">)</mo>
   </mrow>
   <mo>=</mo>
   <munder>
    <mo largeop="true" movablelimits="false" symmetric="true">‚àë</mo>
    <mi>x</mi>
   </munder>
   <mi>‚Ñô</mi>
   <mrow>
    <mo stretchy="false">(</mo>
    <mi>Y</mi>
    <mo>=</mo>
    <mn>0</mn>
    <mo stretchy="false">|</mo>
    <mi>X</mi>
    <mo>=</mo>
    <mi>x</mi>
    <mo stretchy="false">)</mo>
   </mrow>
   <mi>‚Ñô</mi>
   <mrow>
    <mo stretchy="false">(</mo>
    <mi>X</mi>
    <mo>=</mo>
    <mi>x</mi>
    <mo stretchy="false">)</mo>
   </mrow>
   <mo>=</mo>
   <mi>‚Ñô</mi>
   <mrow>
    <mo stretchy="false">(</mo>
    <mi>Y</mi>
    <mo>=</mo>
    <mn>0</mn>
    <mo stretchy="false">)</mo>
   </mrow>
   <mo>,</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <cerror>
    <csymbol cd="ambiguous">fragments</csymbol>
    <csymbol cd="unknown">E</csymbol>
    <cerror>
     <csymbol cd="ambiguous">fragments</csymbol>
     <ci>normal-(</ci>
     <csymbol cd="unknown">P</csymbol>
     <cerror>
      <csymbol cd="ambiguous">fragments</csymbol>
      <ci>normal-(</ci>
      <csymbol cd="unknown">Y</csymbol>
      <eq></eq>
      <cn type="integer">0</cn>
      <ci>normal-|</ci>
      <csymbol cd="unknown">X</csymbol>
      <ci>normal-)</ci>
     </cerror>
     <ci>normal-)</ci>
    </cerror>
    <eq></eq>
    <apply>
     <csymbol cd="ambiguous">subscript</csymbol>
     <sum></sum>
     <ci>x</ci>
    </apply>
    <csymbol cd="unknown">P</csymbol>
    <cerror>
     <csymbol cd="ambiguous">fragments</csymbol>
     <ci>normal-(</ci>
     <csymbol cd="unknown">Y</csymbol>
     <eq></eq>
     <cn type="integer">0</cn>
     <ci>normal-|</ci>
     <csymbol cd="unknown">X</csymbol>
     <eq></eq>
     <csymbol cd="unknown">x</csymbol>
     <ci>normal-)</ci>
    </cerror>
    <csymbol cd="unknown">P</csymbol>
    <cerror>
     <csymbol cd="ambiguous">fragments</csymbol>
     <ci>normal-(</ci>
     <csymbol cd="unknown">X</csymbol>
     <eq></eq>
     <csymbol cd="unknown">x</csymbol>
     <ci>normal-)</ci>
    </cerror>
    <eq></eq>
    <csymbol cd="unknown">P</csymbol>
    <cerror>
     <csymbol cd="ambiguous">fragments</csymbol>
     <ci>normal-(</ci>
     <csymbol cd="unknown">Y</csymbol>
     <eq></eq>
     <cn type="integer">0</cn>
     <ci>normal-)</ci>
    </cerror>
    <ci>normal-,</ci>
   </cerror>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \mathbb{E}(\mathbb{P}(Y=0|X))=\sum_{x}\mathbb{P}(Y=0|X=x)\mathbb{P}(X=x)=%
\mathbb{P}(Y=0),
  </annotation>
 </semantics>
</math>

</p>

<p>namely,</p>

<p>

<math display="block" id="Conditioning_(probability):3">
 <semantics>
  <mrow>
   <mrow>
    <mrow>
     <munderover>
      <mo largeop="true" movablelimits="false" symmetric="true">‚àë</mo>
      <mrow>
       <mi>x</mi>
       <mo>=</mo>
       <mn>0</mn>
      </mrow>
      <mn>7</mn>
     </munderover>
     <mrow>
      <mrow>
       <mfrac>
        <mrow>
         <mo>(</mo>
         <mstyle scriptlevel="+1">
          <mtable columnspacing="0.4em" rowspacing="0.2ex">
           <mtr>
            <mtd>
             <mn>7</mn>
            </mtd>
           </mtr>
           <mtr>
            <mtd>
             <mi>x</mi>
            </mtd>
           </mtr>
          </mtable>
         </mstyle>
         <mo>)</mo>
        </mrow>
        <mrow>
         <mo>(</mo>
         <mstyle scriptlevel="+1">
          <mtable columnspacing="0.4em" rowspacing="0.2ex">
           <mtr>
            <mtd>
             <mn>10</mn>
            </mtd>
           </mtr>
           <mtr>
            <mtd>
             <mi>x</mi>
            </mtd>
           </mtr>
          </mtable>
         </mstyle>
         <mo>)</mo>
        </mrow>
       </mfrac>
       <mo>‚ãÖ</mo>
       <mfrac>
        <mn>1</mn>
        <msup>
         <mn>2</mn>
         <mn>10</mn>
        </msup>
       </mfrac>
      </mrow>
      <mrow>
       <mo>(</mo>
       <mtable columnspacing="0.4em" rowspacing="0.2ex">
        <mtr>
         <mtd>
          <mn>10</mn>
         </mtd>
        </mtr>
        <mtr>
         <mtd>
          <mi>x</mi>
         </mtd>
        </mtr>
       </mtable>
       <mo>)</mo>
      </mrow>
     </mrow>
    </mrow>
    <mo>=</mo>
    <mfrac>
     <mn>1</mn>
     <mn>8</mn>
    </mfrac>
   </mrow>
   <mo>,</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <apply>
      <csymbol cd="ambiguous">superscript</csymbol>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <sum></sum>
       <apply>
        <eq></eq>
        <ci>x</ci>
        <cn type="integer">0</cn>
       </apply>
      </apply>
      <cn type="integer">7</cn>
     </apply>
     <apply>
      <times></times>
      <apply>
       <ci>normal-‚ãÖ</ci>
       <apply>
        <divide></divide>
        <apply>
         <csymbol cd="latexml">binomial</csymbol>
         <cn type="integer">7</cn>
         <ci>x</ci>
        </apply>
        <apply>
         <csymbol cd="latexml">binomial</csymbol>
         <cn type="integer">10</cn>
         <ci>x</ci>
        </apply>
       </apply>
       <apply>
        <divide></divide>
        <cn type="integer">1</cn>
        <apply>
         <csymbol cd="ambiguous">superscript</csymbol>
         <cn type="integer">2</cn>
         <cn type="integer">10</cn>
        </apply>
       </apply>
      </apply>
      <apply>
       <csymbol cd="latexml">binomial</csymbol>
       <cn type="integer">10</cn>
       <ci>x</ci>
      </apply>
     </apply>
    </apply>
    <apply>
     <divide></divide>
     <cn type="integer">1</cn>
     <cn type="integer">8</cn>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \sum_{x=0}^{7}\frac{{\left({{7}\atop{x}}\right)}}{{\left({{10}\atop{x}}\right)%
}}\cdot\frac{1}{2^{10}}{\left({{10}\atop{x}}\right)}=\frac{1}{8},
  </annotation>
 </semantics>
</math>

</p>

<p>which is an instance of the <a href="law_of_total_probability" title="wikilink">law of total probability</a> E ( P ( <em>A</em> | <em>X</em> ) ) = P ( <em>A</em> ).</p>

<p>Thus, P ( <em>Y</em> = 0 | <em>X</em> = 1 ) may be treated as the value of the random variable P ( <em>Y</em> = 0 | <em>X</em> ) corresponding to <em>X</em> = 1. <cite id="EP8">On the other hand, P(<em>Y</em> = 0 | <em>X</em> = 1) is well-defined irrespective of other possible values of <em>X</em>.</cite></p>
<h3 id="conditional-expectation">Conditional expectation</h3>

<p>Given that <em>X</em> = 1, the conditional expectation of the random variable <em>Y</em> is E ( <em>Y</em> | <em>X</em> = 1 ) = 0.3. More generally,</p>

<p>

<math display="block" id="Conditioning_(probability):4">
 <semantics>
  <mrow>
   <mi>ùîº</mi>
   <mrow>
    <mo stretchy="false">(</mo>
    <mi>Y</mi>
    <mo stretchy="false">|</mo>
    <mi>X</mi>
    <mo>=</mo>
    <mi>x</mi>
    <mo stretchy="false">)</mo>
   </mrow>
   <mo>=</mo>
   <mfrac>
    <mn>3</mn>
    <mn>10</mn>
   </mfrac>
   <mi>x</mi>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <cerror>
    <csymbol cd="ambiguous">fragments</csymbol>
    <csymbol cd="unknown">E</csymbol>
    <cerror>
     <csymbol cd="ambiguous">fragments</csymbol>
     <ci>normal-(</ci>
     <csymbol cd="unknown">Y</csymbol>
     <ci>normal-|</ci>
     <csymbol cd="unknown">X</csymbol>
     <eq></eq>
     <csymbol cd="unknown">x</csymbol>
     <ci>normal-)</ci>
    </cerror>
    <eq></eq>
    <apply>
     <divide></divide>
     <cn type="integer">3</cn>
     <cn type="integer">10</cn>
    </apply>
    <csymbol cd="unknown">x</csymbol>
   </cerror>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \mathbb{E}(Y|X=x)=\frac{3}{10}x
  </annotation>
 </semantics>
</math>

</p>

<p>for <em>x</em> = 0, ..., 10. (In this example it appears to be a linear function, but in general it is nonlinear.) One may also treat the conditional expectation as a random variable, ‚Äî a function of the random variable <em>X</em>, namely,</p>

<p>

<math display="block" id="Conditioning_(probability):5">
 <semantics>
  <mrow>
   <mi>ùîº</mi>
   <mrow>
    <mo stretchy="false">(</mo>
    <mi>Y</mi>
    <mo stretchy="false">|</mo>
    <mi>X</mi>
    <mo stretchy="false">)</mo>
   </mrow>
   <mo>=</mo>
   <mfrac>
    <mn>3</mn>
    <mn>10</mn>
   </mfrac>
   <mi>X</mi>
   <mo>.</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <cerror>
    <csymbol cd="ambiguous">fragments</csymbol>
    <csymbol cd="unknown">E</csymbol>
    <cerror>
     <csymbol cd="ambiguous">fragments</csymbol>
     <ci>normal-(</ci>
     <csymbol cd="unknown">Y</csymbol>
     <ci>normal-|</ci>
     <csymbol cd="unknown">X</csymbol>
     <ci>normal-)</ci>
    </cerror>
    <eq></eq>
    <apply>
     <divide></divide>
     <cn type="integer">3</cn>
     <cn type="integer">10</cn>
    </apply>
    <csymbol cd="unknown">X</csymbol>
    <ci>normal-.</ci>
   </cerror>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \mathbb{E}(Y|X)=\frac{3}{10}X.
  </annotation>
 </semantics>
</math>

</p>

<p>The expectation of this random variable is equal to the (unconditional) expectation of <em>Y</em>,</p>

<p>

<math display="block" id="Conditioning_(probability):6">
 <semantics>
  <mrow>
   <mi>ùîº</mi>
   <mrow>
    <mo stretchy="false">(</mo>
    <mi>ùîº</mi>
    <mrow>
     <mo stretchy="false">(</mo>
     <mi>Y</mi>
     <mo stretchy="false">|</mo>
     <mi>X</mi>
     <mo stretchy="false">)</mo>
    </mrow>
    <mo stretchy="false">)</mo>
   </mrow>
   <mo>=</mo>
   <munder>
    <mo largeop="true" movablelimits="false" symmetric="true">‚àë</mo>
    <mi>x</mi>
   </munder>
   <mi>ùîº</mi>
   <mrow>
    <mo stretchy="false">(</mo>
    <mi>Y</mi>
    <mo stretchy="false">|</mo>
    <mi>X</mi>
    <mo>=</mo>
    <mi>x</mi>
    <mo stretchy="false">)</mo>
   </mrow>
   <mi>‚Ñô</mi>
   <mrow>
    <mo stretchy="false">(</mo>
    <mi>X</mi>
    <mo>=</mo>
    <mi>x</mi>
    <mo stretchy="false">)</mo>
   </mrow>
   <mo>=</mo>
   <mi>ùîº</mi>
   <mrow>
    <mo stretchy="false">(</mo>
    <mi>Y</mi>
    <mo stretchy="false">)</mo>
   </mrow>
   <mo>,</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <cerror>
    <csymbol cd="ambiguous">fragments</csymbol>
    <csymbol cd="unknown">E</csymbol>
    <cerror>
     <csymbol cd="ambiguous">fragments</csymbol>
     <ci>normal-(</ci>
     <csymbol cd="unknown">E</csymbol>
     <cerror>
      <csymbol cd="ambiguous">fragments</csymbol>
      <ci>normal-(</ci>
      <csymbol cd="unknown">Y</csymbol>
      <ci>normal-|</ci>
      <csymbol cd="unknown">X</csymbol>
      <ci>normal-)</ci>
     </cerror>
     <ci>normal-)</ci>
    </cerror>
    <eq></eq>
    <apply>
     <csymbol cd="ambiguous">subscript</csymbol>
     <sum></sum>
     <ci>x</ci>
    </apply>
    <csymbol cd="unknown">E</csymbol>
    <cerror>
     <csymbol cd="ambiguous">fragments</csymbol>
     <ci>normal-(</ci>
     <csymbol cd="unknown">Y</csymbol>
     <ci>normal-|</ci>
     <csymbol cd="unknown">X</csymbol>
     <eq></eq>
     <csymbol cd="unknown">x</csymbol>
     <ci>normal-)</ci>
    </cerror>
    <csymbol cd="unknown">P</csymbol>
    <cerror>
     <csymbol cd="ambiguous">fragments</csymbol>
     <ci>normal-(</ci>
     <csymbol cd="unknown">X</csymbol>
     <eq></eq>
     <csymbol cd="unknown">x</csymbol>
     <ci>normal-)</ci>
    </cerror>
    <eq></eq>
    <csymbol cd="unknown">E</csymbol>
    <cerror>
     <csymbol cd="ambiguous">fragments</csymbol>
     <ci>normal-(</ci>
     <csymbol cd="unknown">Y</csymbol>
     <ci>normal-)</ci>
    </cerror>
    <ci>normal-,</ci>
   </cerror>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \mathbb{E}(\mathbb{E}(Y|X))=\sum_{x}\mathbb{E}(Y|X=x)\mathbb{P}(X=x)=\mathbb{E%
}(Y),
  </annotation>
 </semantics>
</math>

</p>

<p>namely,</p>

<p>

<math display="block" id="Conditioning_(probability):7">
 <semantics>
  <mrow>
   <mrow>
    <mrow>
     <munderover>
      <mo largeop="true" movablelimits="false" symmetric="true">‚àë</mo>
      <mrow>
       <mi>x</mi>
       <mo>=</mo>
       <mn>0</mn>
      </mrow>
      <mn>10</mn>
     </munderover>
     <mrow>
      <mrow>
       <mrow>
        <mstyle displaystyle="false">
         <mfrac>
          <mn>3</mn>
          <mn>10</mn>
         </mfrac>
        </mstyle>
        <mi>x</mi>
       </mrow>
       <mo>‚ãÖ</mo>
       <mstyle displaystyle="false">
        <mfrac>
         <mn>1</mn>
         <msup>
          <mn>2</mn>
          <mn>10</mn>
         </msup>
        </mfrac>
       </mstyle>
      </mrow>
      <mrow>
       <mo>(</mo>
       <mtable columnspacing="0.4em" rowspacing="0.2ex">
        <mtr>
         <mtd>
          <mn>10</mn>
         </mtd>
        </mtr>
        <mtr>
         <mtd>
          <mi>x</mi>
         </mtd>
        </mtr>
       </mtable>
       <mo>)</mo>
      </mrow>
     </mrow>
    </mrow>
    <mo>=</mo>
    <mstyle displaystyle="false">
     <mfrac>
      <mn>3</mn>
      <mn>2</mn>
     </mfrac>
    </mstyle>
   </mrow>
   <mo>,</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <apply>
      <csymbol cd="ambiguous">superscript</csymbol>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <sum></sum>
       <apply>
        <eq></eq>
        <ci>x</ci>
        <cn type="integer">0</cn>
       </apply>
      </apply>
      <cn type="integer">10</cn>
     </apply>
     <apply>
      <times></times>
      <apply>
       <ci>normal-‚ãÖ</ci>
       <apply>
        <times></times>
        <apply>
         <divide></divide>
         <cn type="integer">3</cn>
         <cn type="integer">10</cn>
        </apply>
        <ci>x</ci>
       </apply>
       <apply>
        <divide></divide>
        <cn type="integer">1</cn>
        <apply>
         <csymbol cd="ambiguous">superscript</csymbol>
         <cn type="integer">2</cn>
         <cn type="integer">10</cn>
        </apply>
       </apply>
      </apply>
      <apply>
       <csymbol cd="latexml">binomial</csymbol>
       <cn type="integer">10</cn>
       <ci>x</ci>
      </apply>
     </apply>
    </apply>
    <apply>
     <divide></divide>
     <cn type="integer">3</cn>
     <cn type="integer">2</cn>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \sum_{x=0}^{10}\tfrac{3}{10}x\cdot\tfrac{1}{2^{10}}{\left({{10}\atop{x}}\right%
)}=\tfrac{3}{2},
  </annotation>
 </semantics>
</math>

</p>

<p>or simply</p>

<p>

<math display="block" id="Conditioning_(probability):8">
 <semantics>
  <mrow>
   <mrow>
    <mrow>
     <mi>ùîº</mi>
     <mrow>
      <mo>(</mo>
      <mrow>
       <mstyle displaystyle="false">
        <mfrac>
         <mn>3</mn>
         <mn>10</mn>
        </mfrac>
       </mstyle>
       <mi>X</mi>
      </mrow>
      <mo>)</mo>
     </mrow>
    </mrow>
    <mo>=</mo>
    <mrow>
     <mstyle displaystyle="false">
      <mfrac>
       <mn>3</mn>
       <mn>10</mn>
      </mfrac>
     </mstyle>
     <mi>ùîº</mi>
     <mrow>
      <mo stretchy="false">(</mo>
      <mi>X</mi>
      <mo stretchy="false">)</mo>
     </mrow>
    </mrow>
    <mo>=</mo>
    <mrow>
     <mstyle displaystyle="false">
      <mfrac>
       <mn>3</mn>
       <mn>10</mn>
      </mfrac>
     </mstyle>
     <mo>‚ãÖ</mo>
     <mn>5</mn>
    </mrow>
    <mo>=</mo>
    <mstyle displaystyle="false">
     <mfrac>
      <mn>3</mn>
      <mn>2</mn>
     </mfrac>
    </mstyle>
   </mrow>
   <mo>,</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <and></and>
    <apply>
     <eq></eq>
     <apply>
      <times></times>
      <ci>ùîº</ci>
      <apply>
       <times></times>
       <apply>
        <divide></divide>
        <cn type="integer">3</cn>
        <cn type="integer">10</cn>
       </apply>
       <ci>X</ci>
      </apply>
     </apply>
     <apply>
      <times></times>
      <apply>
       <divide></divide>
       <cn type="integer">3</cn>
       <cn type="integer">10</cn>
      </apply>
      <ci>ùîº</ci>
      <ci>X</ci>
     </apply>
    </apply>
    <apply>
     <eq></eq>
     <share href="#.cmml">
     </share>
     <apply>
      <ci>normal-‚ãÖ</ci>
      <apply>
       <divide></divide>
       <cn type="integer">3</cn>
       <cn type="integer">10</cn>
      </apply>
      <cn type="integer">5</cn>
     </apply>
    </apply>
    <apply>
     <eq></eq>
     <share href="#.cmml">
     </share>
     <apply>
      <divide></divide>
      <cn type="integer">3</cn>
      <cn type="integer">2</cn>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \mathbb{E}\left(\tfrac{3}{10}X\right)=\tfrac{3}{10}\mathbb{E}(X)=\tfrac{3}{10}%
\cdot 5=\tfrac{3}{2},
  </annotation>
 </semantics>
</math>

</p>

<p>which is an instance of the <a href="law_of_total_expectation" title="wikilink">law of total expectation</a> E ( E ( <em>Y</em> | <em>X</em> ) ) = E ( <em>Y</em> ).</p>

<p>The random variable E(<em>Y</em> | <em>X</em>) is the best predictor of <em>Y</em> given <em>X</em>. That is, it minimizes the mean square error E ( <em>Y</em> - <em>f</em>(<em>X</em>) )<sup>2</sup> on the class of all random variables of the form <em>f</em>(<em>X</em>). This class of random variables remains intact if <em>X</em> is replaced, say, with 2<em>X</em>. Thus, E ( <em>Y</em> | 2<em>X</em> ) = E ( <em>Y</em> | <em>X</em> ). It does not mean that E (<em>Y</em> | 2<em>X</em> ) = 0.3 √ó 2<em>X</em>; rather, E ( <em>Y</em> | 2<em>X</em> ) = 0.15 √ó 2<em>X</em> = 0.3 <em>X</em>. In particular, E (<em>Y</em> | 2<em>X</em>=2) = 0.3. More generally, E (<em>Y</em> | <em>g</em>(<em>X</em>)) = E ( <em>Y</em> | <em>X</em> ) for every function <em>g</em> that is one-to-one on the set of all possible values of <em>X</em>. The values of <em>X</em> are irrelevant; what matters is the partition (denote it Œ±<sub><em>X</em></sub>)</p>

<p>

<math display="block" id="Conditioning_(probability):9">
 <semantics>
  <mrow>
   <mi mathvariant="normal">Œ©</mi>
   <mo>=</mo>
   <mrow>
    <mo stretchy="false">{</mo>
    <mi>X</mi>
    <mo>=</mo>
    <msub>
     <mi>x</mi>
     <mn>1</mn>
    </msub>
    <mo stretchy="false">}</mo>
   </mrow>
   <mo>‚äé</mo>
   <mrow>
    <mo stretchy="false">{</mo>
    <mi>X</mi>
    <mo>=</mo>
    <msub>
     <mi>x</mi>
     <mn>2</mn>
    </msub>
    <mo stretchy="false">}</mo>
   </mrow>
   <mo>‚äé</mo>
   <mi mathvariant="normal">‚Ä¶</mi>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <cerror>
    <csymbol cd="ambiguous">fragments</csymbol>
    <csymbol cd="unknown">Œ©</csymbol>
    <eq></eq>
    <cerror>
     <csymbol cd="ambiguous">fragments</csymbol>
     <ci>normal-{</ci>
     <csymbol cd="unknown">X</csymbol>
     <eq></eq>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <ci>x</ci>
      <cn type="integer">1</cn>
     </apply>
     <ci>normal-}</ci>
    </cerror>
    <ci>normal-‚äé</ci>
    <cerror>
     <csymbol cd="ambiguous">fragments</csymbol>
     <ci>normal-{</ci>
     <csymbol cd="unknown">X</csymbol>
     <eq></eq>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <ci>x</ci>
      <cn type="integer">2</cn>
     </apply>
     <ci>normal-}</ci>
    </cerror>
    <ci>normal-‚äé</ci>
    <ci>normal-‚Ä¶</ci>
   </cerror>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \Omega=\{X=x_{1}\}\uplus\{X=x_{2}\}\uplus\dots
  </annotation>
 </semantics>
</math>

 of the sample space Œ© into disjoint sets {<em>X</em> = <em>x<sub>n</sub></em>}. (Here 

<math display="inline" id="Conditioning_(probability):10">
 <semantics>
  <mrow>
   <msub>
    <mi>x</mi>
    <mn>1</mn>
   </msub>
   <mo>,</mo>
   <msub>
    <mi>x</mi>
    <mn>2</mn>
   </msub>
   <mo>,</mo>
   <mi mathvariant="normal">‚Ä¶</mi>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <list>
    <apply>
     <csymbol cd="ambiguous">subscript</csymbol>
     <ci>x</ci>
     <cn type="integer">1</cn>
    </apply>
    <apply>
     <csymbol cd="ambiguous">subscript</csymbol>
     <ci>x</ci>
     <cn type="integer">2</cn>
    </apply>
    <ci>normal-‚Ä¶</ci>
   </list>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   x_{1},x_{2},\dots
  </annotation>
 </semantics>
</math>

 are all possible values of <em>X</em>.) Given an arbitrary partition Œ± of Œ©, one may define the random variable E ( <em>Y</em> | Œ± ). Still, E ( E ( <em>Y</em> | Œ±)) = E ( <em>Y</em> ).</p>

<p>Conditional probability may be treated as a special case of conditional expectation. Namely, P ( <em>A</em> | <em>X</em> ) = E ( <em>Y</em> | <em>X</em> ) if <em>Y</em> is the <a href="indicator_function" title="wikilink">indicator</a> of <em>A</em>. Therefore the conditional probability also depends on the partition Œ±<sub><em>X</em></sub> generated by <em>X</em> rather than on <em>X</em> itself; P ( <em>A</em> | <em>g</em>(<em>X</em>) ) = P (<em>A</em> | <em>X</em>) = P (<em>A</em> | Œ±), Œ± = Œ±<sub><em>X</em></sub> = Œ±<sub><em>g</em>(<em>X</em>)</sub>.</p>

<p>On the other hand, conditioning on an event <em>B</em> is well-defined, provided that P (<em>B</em>) ‚â† 0, irrespective of any partition that may contain <em>B</em> as one of several parts.</p>
<h3 id="conditional-distribution">Conditional distribution</h3>

<p>Given <em>X</em> = x, the conditional distribution of <em>Y</em> is</p>

<p>

<math display="block" id="Conditioning_(probability):11">
 <semantics>
  <mrow>
   <mi>‚Ñô</mi>
   <mrow>
    <mo stretchy="false">(</mo>
    <mi>Y</mi>
    <mo>=</mo>
    <mi>y</mi>
    <mo stretchy="false">|</mo>
    <mi>X</mi>
    <mo>=</mo>
    <mi>x</mi>
    <mo stretchy="false">)</mo>
   </mrow>
   <mo>=</mo>
   <mfrac>
    <mrow>
     <mrow>
      <mo>(</mo>
      <mstyle scriptlevel="+1">
       <mtable columnspacing="0.4em" rowspacing="0.2ex">
        <mtr>
         <mtd>
          <mn>3</mn>
         </mtd>
        </mtr>
        <mtr>
         <mtd>
          <mi>y</mi>
         </mtd>
        </mtr>
       </mtable>
      </mstyle>
      <mo>)</mo>
     </mrow>
     <mrow>
      <mo>(</mo>
      <mstyle scriptlevel="+1">
       <mtable columnspacing="0.4em" rowspacing="0.2ex">
        <mtr>
         <mtd>
          <mn>7</mn>
         </mtd>
        </mtr>
        <mtr>
         <mtd>
          <mrow>
           <mi>x</mi>
           <mo>-</mo>
           <mi>y</mi>
          </mrow>
         </mtd>
        </mtr>
       </mtable>
      </mstyle>
      <mo>)</mo>
     </mrow>
    </mrow>
    <mrow>
     <mo>(</mo>
     <mstyle scriptlevel="+1">
      <mtable columnspacing="0.4em" rowspacing="0.2ex">
       <mtr>
        <mtd>
         <mn>10</mn>
        </mtd>
       </mtr>
       <mtr>
        <mtd>
         <mi>x</mi>
        </mtd>
       </mtr>
      </mtable>
     </mstyle>
     <mo>)</mo>
    </mrow>
   </mfrac>
   <mo>=</mo>
   <mfrac>
    <mrow>
     <mrow>
      <mo>(</mo>
      <mstyle scriptlevel="+1">
       <mtable columnspacing="0.4em" rowspacing="0.2ex">
        <mtr>
         <mtd>
          <mi>x</mi>
         </mtd>
        </mtr>
        <mtr>
         <mtd>
          <mi>y</mi>
         </mtd>
        </mtr>
       </mtable>
      </mstyle>
      <mo>)</mo>
     </mrow>
     <mrow>
      <mo>(</mo>
      <mstyle scriptlevel="+1">
       <mtable columnspacing="0.4em" rowspacing="0.2ex">
        <mtr>
         <mtd>
          <mrow>
           <mn>10</mn>
           <mo>-</mo>
           <mi>x</mi>
          </mrow>
         </mtd>
        </mtr>
        <mtr>
         <mtd>
          <mrow>
           <mn>3</mn>
           <mo>-</mo>
           <mi>y</mi>
          </mrow>
         </mtd>
        </mtr>
       </mtable>
      </mstyle>
      <mo>)</mo>
     </mrow>
    </mrow>
    <mrow>
     <mo>(</mo>
     <mstyle scriptlevel="+1">
      <mtable columnspacing="0.4em" rowspacing="0.2ex">
       <mtr>
        <mtd>
         <mn>10</mn>
        </mtd>
       </mtr>
       <mtr>
        <mtd>
         <mn>3</mn>
        </mtd>
       </mtr>
      </mtable>
     </mstyle>
     <mo>)</mo>
    </mrow>
   </mfrac>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <cerror>
    <csymbol cd="ambiguous">fragments</csymbol>
    <csymbol cd="unknown">P</csymbol>
    <cerror>
     <csymbol cd="ambiguous">fragments</csymbol>
     <ci>normal-(</ci>
     <csymbol cd="unknown">Y</csymbol>
     <eq></eq>
     <csymbol cd="unknown">y</csymbol>
     <ci>normal-|</ci>
     <csymbol cd="unknown">X</csymbol>
     <eq></eq>
     <csymbol cd="unknown">x</csymbol>
     <ci>normal-)</ci>
    </cerror>
    <eq></eq>
    <apply>
     <divide></divide>
     <apply>
      <times></times>
      <apply>
       <csymbol cd="latexml">binomial</csymbol>
       <cn type="integer">3</cn>
       <ci>y</ci>
      </apply>
      <apply>
       <csymbol cd="latexml">binomial</csymbol>
       <cn type="integer">7</cn>
       <apply>
        <minus></minus>
        <ci>x</ci>
        <ci>y</ci>
       </apply>
      </apply>
     </apply>
     <apply>
      <csymbol cd="latexml">binomial</csymbol>
      <cn type="integer">10</cn>
      <ci>x</ci>
     </apply>
    </apply>
    <eq></eq>
    <apply>
     <divide></divide>
     <apply>
      <times></times>
      <apply>
       <csymbol cd="latexml">binomial</csymbol>
       <ci>x</ci>
       <ci>y</ci>
      </apply>
      <apply>
       <csymbol cd="latexml">binomial</csymbol>
       <apply>
        <minus></minus>
        <cn type="integer">10</cn>
        <ci>x</ci>
       </apply>
       <apply>
        <minus></minus>
        <cn type="integer">3</cn>
        <ci>y</ci>
       </apply>
      </apply>
     </apply>
     <apply>
      <csymbol cd="latexml">binomial</csymbol>
      <cn type="integer">10</cn>
      <cn type="integer">3</cn>
     </apply>
    </apply>
   </cerror>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \mathbb{P}(Y=y|X=x)=\frac{{\left({{3}\atop{y}}\right)}{\left({{7}\atop{x-y}}%
\right)}}{{\left({{10}\atop{x}}\right)}}=\frac{{\left({{x}\atop{y}}\right)}{%
\left({{10-x}\atop{3-y}}\right)}}{{\left({{10}\atop{3}}\right)}}
  </annotation>
 </semantics>
</math>

</p>

<p>for 0 ‚â§ <em>y</em> ‚â§ min ( 3, <em>x</em> ). It is the <a href="hypergeometric_distribution" title="wikilink">hypergeometric distribution</a> H ( <em>x</em>; 3, 7 ), or equivalently, H ( 3; <em>x</em>, 10-<em>x</em> ). The corresponding expectation 0.3 <em>x</em>, obtained from the general formula</p>

<p>

<math display="block" id="Conditioning_(probability):12">
 <semantics>
  <mrow>
   <mi>n</mi>
   <mfrac>
    <mi>R</mi>
    <mrow>
     <mi>R</mi>
     <mo>+</mo>
     <mi>W</mi>
    </mrow>
   </mfrac>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <times></times>
    <ci>n</ci>
    <apply>
     <divide></divide>
     <ci>R</ci>
     <apply>
      <plus></plus>
      <ci>R</ci>
      <ci>W</ci>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   n\frac{R}{R+W}
  </annotation>
 </semantics>
</math>

</p>

<p>for H ( <em>n</em>; <em>R</em>, <em>W</em> ), is nothing but the conditional expectation E (<em>Y</em> | <em>X</em> = <em>x</em>) = 0.3 <em>x</em>.</p>

<p>Treating H ( <em>X</em>; 3, 7 ) as a random distribution (a random vector in the four-dimensional space of all measures on {0,1,2,3}), one may take its expectation, getting the unconditional distribution of <em>Y</em>, ‚Äî the <a href="binomial_distribution" title="wikilink">binomial distribution</a> Bin ( 3, 0.5 ). This fact amounts to the equality</p>

<p>

<math display="block" id="Conditioning_(probability):13">
 <semantics>
  <mrow>
   <munderover>
    <mo largeop="true" movablelimits="false" symmetric="true">‚àë</mo>
    <mrow>
     <mi>x</mi>
     <mo>=</mo>
     <mn>0</mn>
    </mrow>
    <mn>10</mn>
   </munderover>
   <mi>‚Ñô</mi>
   <mrow>
    <mo stretchy="false">(</mo>
    <mi>Y</mi>
    <mo>=</mo>
    <mi>y</mi>
    <mo stretchy="false">|</mo>
    <mi>X</mi>
    <mo>=</mo>
    <mi>x</mi>
    <mo stretchy="false">)</mo>
   </mrow>
   <mi>‚Ñô</mi>
   <mrow>
    <mo stretchy="false">(</mo>
    <mi>X</mi>
    <mo>=</mo>
    <mi>x</mi>
    <mo stretchy="false">)</mo>
   </mrow>
   <mo>=</mo>
   <mi>‚Ñô</mi>
   <mrow>
    <mo stretchy="false">(</mo>
    <mi>Y</mi>
    <mo>=</mo>
    <mi>y</mi>
    <mo stretchy="false">)</mo>
   </mrow>
   <mo>=</mo>
   <mfrac>
    <mn>1</mn>
    <msup>
     <mn>2</mn>
     <mn>3</mn>
    </msup>
   </mfrac>
   <mrow>
    <mo>(</mo>
    <mtable columnspacing="0.4em" rowspacing="0.2ex">
     <mtr>
      <mtd>
       <mn>3</mn>
      </mtd>
     </mtr>
     <mtr>
      <mtd>
       <mi>y</mi>
      </mtd>
     </mtr>
    </mtable>
    <mo>)</mo>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <cerror>
    <csymbol cd="ambiguous">fragments</csymbol>
    <apply>
     <csymbol cd="ambiguous">superscript</csymbol>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <sum></sum>
      <apply>
       <eq></eq>
       <ci>x</ci>
       <cn type="integer">0</cn>
      </apply>
     </apply>
     <cn type="integer">10</cn>
    </apply>
    <csymbol cd="unknown">P</csymbol>
    <cerror>
     <csymbol cd="ambiguous">fragments</csymbol>
     <ci>normal-(</ci>
     <csymbol cd="unknown">Y</csymbol>
     <eq></eq>
     <csymbol cd="unknown">y</csymbol>
     <ci>normal-|</ci>
     <csymbol cd="unknown">X</csymbol>
     <eq></eq>
     <csymbol cd="unknown">x</csymbol>
     <ci>normal-)</ci>
    </cerror>
    <csymbol cd="unknown">P</csymbol>
    <cerror>
     <csymbol cd="ambiguous">fragments</csymbol>
     <ci>normal-(</ci>
     <csymbol cd="unknown">X</csymbol>
     <eq></eq>
     <csymbol cd="unknown">x</csymbol>
     <ci>normal-)</ci>
    </cerror>
    <eq></eq>
    <csymbol cd="unknown">P</csymbol>
    <cerror>
     <csymbol cd="ambiguous">fragments</csymbol>
     <ci>normal-(</ci>
     <csymbol cd="unknown">Y</csymbol>
     <eq></eq>
     <csymbol cd="unknown">y</csymbol>
     <ci>normal-)</ci>
    </cerror>
    <eq></eq>
    <apply>
     <divide></divide>
     <cn type="integer">1</cn>
     <apply>
      <csymbol cd="ambiguous">superscript</csymbol>
      <cn type="integer">2</cn>
      <cn type="integer">3</cn>
     </apply>
    </apply>
    <apply>
     <csymbol cd="latexml">binomial</csymbol>
     <cn type="integer">3</cn>
     <ci>y</ci>
    </apply>
   </cerror>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \sum_{x=0}^{10}\mathbb{P}(Y=y|X=x)\mathbb{P}(X=x)=\mathbb{P}(Y=y)=\frac{1}{2^{%
3}}{\left({{3}\atop{y}}\right)}
  </annotation>
 </semantics>
</math>

</p>

<p>for <em>y</em> = 0,1,2,3; just the law of total probability.</p>
<h2 id="conditioning-on-the-level-of-densities">Conditioning on the level of densities</h2>

<p><strong>Example.</strong> A point of the sphere <em>x</em><sup>2</sup> + <em>y</em><sup>2</sup> + <em>z</em><sup>2</sup> = 1 is chosen at random according to the uniform distribution on the sphere.<a class="footnoteRef" href="#fn1" id="fnref1"><sup>1</sup></a><a class="footnoteRef" href="#fn2" id="fnref2"><sup>2</sup></a> The random variables <em>X</em>, <em>Y</em>, <em>Z</em> are the coordinates of the random point. The joint density of <em>X</em>, <em>Y</em>, <em>Z</em> does not exist (since the sphere is of zero volume), but the joint density <em>f</em><sub><em>X</em>,<em>Y</em></sub> of <em>X</em>, <em>Y</em> exists,</p>

<p>

<math display="block" id="Conditioning_(probability):14">
 <semantics>
  <mrow>
   <mrow>
    <msub>
     <mi>f</mi>
     <mrow>
      <mi>X</mi>
      <mo>,</mo>
      <mi>Y</mi>
     </mrow>
    </msub>
    <mrow>
     <mo stretchy="false">(</mo>
     <mi>x</mi>
     <mo>,</mo>
     <mi>y</mi>
     <mo stretchy="false">)</mo>
    </mrow>
   </mrow>
   <mo>=</mo>
   <mrow>
    <mo>{</mo>
    <mtable displaystyle="true">
     <mtr>
      <mtd columnalign="left">
       <mstyle displaystyle="false">
        <mfrac>
         <mn>1</mn>
         <mrow>
          <mn>2</mn>
          <mi>œÄ</mi>
          <msqrt>
           <mrow>
            <mn>1</mn>
            <mo>-</mo>
            <msup>
             <mi>x</mi>
             <mn>2</mn>
            </msup>
            <mo>-</mo>
            <msup>
             <mi>y</mi>
             <mn>2</mn>
            </msup>
           </mrow>
          </msqrt>
         </mrow>
        </mfrac>
       </mstyle>
      </mtd>
      <mtd columnalign="left">
       <mrow>
        <mrow>
         <mrow>
          <mrow>
           <mtext>if</mtext>
           <msup>
            <mi>x</mi>
            <mn>2</mn>
           </msup>
          </mrow>
          <mo>+</mo>
          <msup>
           <mi>y</mi>
           <mn>2</mn>
          </msup>
         </mrow>
         <mo><</mo>
         <mn>1</mn>
        </mrow>
        <mo>,</mo>
       </mrow>
      </mtd>
     </mtr>
     <mtr>
      <mtd columnalign="left">
       <mn>0</mn>
      </mtd>
      <mtd columnalign="left">
       <mrow>
        <mtext>otherwise</mtext>
        <mo>.</mo>
       </mrow>
      </mtd>
     </mtr>
    </mtable>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <times></times>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <ci>f</ci>
      <list>
       <ci>X</ci>
       <ci>Y</ci>
      </list>
     </apply>
     <interval closure="open">
      <ci>x</ci>
      <ci>y</ci>
     </interval>
    </apply>
    <apply>
     <csymbol cd="latexml">cases</csymbol>
     <apply>
      <divide></divide>
      <cn type="integer">1</cn>
      <apply>
       <times></times>
       <cn type="integer">2</cn>
       <ci>œÄ</ci>
       <apply>
        <root></root>
        <apply>
         <minus></minus>
         <cn type="integer">1</cn>
         <apply>
          <csymbol cd="ambiguous">superscript</csymbol>
          <ci>x</ci>
          <cn type="integer">2</cn>
         </apply>
         <apply>
          <csymbol cd="ambiguous">superscript</csymbol>
          <ci>y</ci>
          <cn type="integer">2</cn>
         </apply>
        </apply>
       </apply>
      </apply>
     </apply>
     <apply>
      <lt></lt>
      <apply>
       <plus></plus>
       <apply>
        <times></times>
        <mtext>if</mtext>
        <apply>
         <csymbol cd="ambiguous">superscript</csymbol>
         <ci>x</ci>
         <cn type="integer">2</cn>
        </apply>
       </apply>
       <apply>
        <csymbol cd="ambiguous">superscript</csymbol>
        <ci>y</ci>
        <cn type="integer">2</cn>
       </apply>
      </apply>
      <cn type="integer">1</cn>
     </apply>
     <cn type="integer">0</cn>
     <mtext>otherwise</mtext>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   f_{X,Y}(x,y)=\begin{cases}\frac{1}{2\pi\sqrt{1-x^{2}-y^{2}}}&\text{if }x^{2}+y%
^{2}<1,\\
0&\text{otherwise}.\end{cases}
  </annotation>
 </semantics>
</math>

</p>

<p>(The density is non-constant because of a non-constant angle between the sphere and the plane.<a class="footnoteRef" href="#fn3" id="fnref3"><sup>3</sup></a>) The density of <em>X</em> may be calculated by integration,</p>

<p>

<math display="block" id="Conditioning_(probability):15">
 <semantics>
  <mrow>
   <mrow>
    <mrow>
     <msub>
      <mi>f</mi>
      <mi>X</mi>
     </msub>
     <mrow>
      <mo stretchy="false">(</mo>
      <mi>x</mi>
      <mo stretchy="false">)</mo>
     </mrow>
    </mrow>
    <mo>=</mo>
    <mrow>
     <msubsup>
      <mo largeop="true" symmetric="true">‚à´</mo>
      <mrow>
       <mo>-</mo>
       <mi mathvariant="normal">‚àû</mi>
      </mrow>
      <mrow>
       <mo>+</mo>
       <mi mathvariant="normal">‚àû</mi>
      </mrow>
     </msubsup>
     <mrow>
      <msub>
       <mi>f</mi>
       <mrow>
        <mi>X</mi>
        <mo>,</mo>
        <mi>Y</mi>
       </mrow>
      </msub>
      <mrow>
       <mo stretchy="false">(</mo>
       <mi>x</mi>
       <mo>,</mo>
       <mi>y</mi>
       <mo rspace="4.2pt" stretchy="false">)</mo>
      </mrow>
      <mi mathvariant="normal">d</mi>
      <mi>y</mi>
     </mrow>
    </mrow>
    <mo>=</mo>
    <mrow>
     <msubsup>
      <mo largeop="true" symmetric="true">‚à´</mo>
      <mrow>
       <mo>-</mo>
       <msqrt>
        <mrow>
         <mn>1</mn>
         <mo>-</mo>
         <msup>
          <mi>x</mi>
          <mn>2</mn>
         </msup>
        </mrow>
       </msqrt>
      </mrow>
      <mrow>
       <mo>+</mo>
       <msqrt>
        <mrow>
         <mn>1</mn>
         <mo>-</mo>
         <msup>
          <mi>x</mi>
          <mn>2</mn>
         </msup>
        </mrow>
       </msqrt>
      </mrow>
     </msubsup>
     <mpadded width="+1.7pt">
      <mfrac>
       <mrow>
        <mi mathvariant="normal">d</mi>
        <mi>y</mi>
       </mrow>
       <mrow>
        <mn>2</mn>
        <mi>œÄ</mi>
        <msqrt>
         <mrow>
          <mn>1</mn>
          <mo>-</mo>
          <msup>
           <mi>x</mi>
           <mn>2</mn>
          </msup>
          <mo>-</mo>
          <msup>
           <mi>y</mi>
           <mn>2</mn>
          </msup>
         </mrow>
        </msqrt>
       </mrow>
      </mfrac>
     </mpadded>
    </mrow>
   </mrow>
   <mo>;</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <and></and>
    <apply>
     <eq></eq>
     <apply>
      <times></times>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>f</ci>
       <ci>X</ci>
      </apply>
      <ci>x</ci>
     </apply>
     <apply>
      <apply>
       <csymbol cd="ambiguous">superscript</csymbol>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <int></int>
        <apply>
         <minus></minus>
         <infinity></infinity>
        </apply>
       </apply>
       <apply>
        <plus></plus>
        <infinity></infinity>
       </apply>
      </apply>
      <apply>
       <times></times>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>f</ci>
        <list>
         <ci>X</ci>
         <ci>Y</ci>
        </list>
       </apply>
       <interval closure="open">
        <ci>x</ci>
        <ci>y</ci>
       </interval>
       <ci>normal-d</ci>
       <ci>y</ci>
      </apply>
     </apply>
    </apply>
    <apply>
     <eq></eq>
     <share href="#.cmml">
     </share>
     <apply>
      <apply>
       <csymbol cd="ambiguous">superscript</csymbol>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <int></int>
        <apply>
         <minus></minus>
         <apply>
          <root></root>
          <apply>
           <minus></minus>
           <cn type="integer">1</cn>
           <apply>
            <csymbol cd="ambiguous">superscript</csymbol>
            <ci>x</ci>
            <cn type="integer">2</cn>
           </apply>
          </apply>
         </apply>
        </apply>
       </apply>
       <apply>
        <plus></plus>
        <apply>
         <root></root>
         <apply>
          <minus></minus>
          <cn type="integer">1</cn>
          <apply>
           <csymbol cd="ambiguous">superscript</csymbol>
           <ci>x</ci>
           <cn type="integer">2</cn>
          </apply>
         </apply>
        </apply>
       </apply>
      </apply>
      <apply>
       <divide></divide>
       <apply>
        <times></times>
        <ci>normal-d</ci>
        <ci>y</ci>
       </apply>
       <apply>
        <times></times>
        <cn type="integer">2</cn>
        <ci>œÄ</ci>
        <apply>
         <root></root>
         <apply>
          <minus></minus>
          <cn type="integer">1</cn>
          <apply>
           <csymbol cd="ambiguous">superscript</csymbol>
           <ci>x</ci>
           <cn type="integer">2</cn>
          </apply>
          <apply>
           <csymbol cd="ambiguous">superscript</csymbol>
           <ci>y</ci>
           <cn type="integer">2</cn>
          </apply>
         </apply>
        </apply>
       </apply>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   f_{X}(x)=\int_{-\infty}^{+\infty}f_{X,Y}(x,y)\,\mathrm{d}y=\int_{-\sqrt{1-x^{2%
}}}^{+\sqrt{1-x^{2}}}\frac{\mathrm{d}y}{2\pi\sqrt{1-x^{2}-y^{2}}}\,;
  </annotation>
 </semantics>
</math>

</p>

<p>surprisingly, the result does not depend on <em>x</em> in (‚àí1,1),</p>

<p>

<math display="block" id="Conditioning_(probability):16">
 <semantics>
  <mrow>
   <mi>‚Ñô</mi>
   <mrow>
    <mo stretchy="false">(</mo>
    <mi>Y</mi>
    <mo>‚â§</mo>
    <mi>y</mi>
    <mo stretchy="false">|</mo>
    <mi>X</mi>
    <mo>=</mo>
    <mi>x</mi>
    <mo stretchy="false">)</mo>
   </mrow>
   <mo>=</mo>
   <mstyle displaystyle="false">
    <mfrac>
     <mn>1</mn>
     <mn>2</mn>
    </mfrac>
   </mstyle>
   <mo>+</mo>
   <mstyle displaystyle="false">
    <mfrac>
     <mn>1</mn>
     <mi>œÄ</mi>
    </mfrac>
   </mstyle>
   <mi>arcsin</mi>
   <mfrac>
    <mi>y</mi>
    <msqrt>
     <mrow>
      <mn>1</mn>
      <mo>-</mo>
      <msup>
       <mi>x</mi>
       <mn>2</mn>
      </msup>
     </mrow>
    </msqrt>
   </mfrac>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <cerror>
    <csymbol cd="ambiguous">fragments</csymbol>
    <csymbol cd="unknown">P</csymbol>
    <cerror>
     <csymbol cd="ambiguous">fragments</csymbol>
     <ci>normal-(</ci>
     <csymbol cd="unknown">Y</csymbol>
     <leq></leq>
     <csymbol cd="unknown">y</csymbol>
     <ci>normal-|</ci>
     <csymbol cd="unknown">X</csymbol>
     <eq></eq>
     <csymbol cd="unknown">x</csymbol>
     <ci>normal-)</ci>
    </cerror>
    <eq></eq>
    <apply>
     <divide></divide>
     <cn type="integer">1</cn>
     <cn type="integer">2</cn>
    </apply>
    <plus></plus>
    <apply>
     <divide></divide>
     <cn type="integer">1</cn>
     <ci>œÄ</ci>
    </apply>
    <arcsin></arcsin>
    <apply>
     <divide></divide>
     <ci>y</ci>
     <apply>
      <root></root>
      <apply>
       <minus></minus>
       <cn type="integer">1</cn>
       <apply>
        <csymbol cd="ambiguous">superscript</csymbol>
        <ci>x</ci>
        <cn type="integer">2</cn>
       </apply>
      </apply>
     </apply>
    </apply>
   </cerror>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \mathbb{P}(Y\leq y|X=x)=\tfrac{1}{2}+\tfrac{1}{\pi}\arcsin\frac{y}{\sqrt{1-x^{%
2}}}
  </annotation>
 </semantics>
</math>

 More generally,</p>

<p>

<math display="inline" id="Conditioning_(probability):17">
 <semantics>
  <mrow>
   <mrow>
    <mo>-</mo>
    <msqrt>
     <mrow>
      <mn>1</mn>
      <mo>-</mo>
      <msup>
       <mi>x</mi>
       <mn>2</mn>
      </msup>
     </mrow>
    </msqrt>
   </mrow>
   <mo><</mo>
   <mi>y</mi>
   <mo><</mo>
   <msqrt>
    <mrow>
     <mn>1</mn>
     <mo>-</mo>
     <msup>
      <mi>x</mi>
      <mn>2</mn>
     </msup>
    </mrow>
   </msqrt>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <and></and>
    <apply>
     <lt></lt>
     <apply>
      <minus></minus>
      <apply>
       <root></root>
       <apply>
        <minus></minus>
        <cn type="integer">1</cn>
        <apply>
         <csymbol cd="ambiguous">superscript</csymbol>
         <ci>x</ci>
         <cn type="integer">2</cn>
        </apply>
       </apply>
      </apply>
     </apply>
     <ci>y</ci>
    </apply>
    <apply>
     <lt></lt>
     <share href="#.cmml">
     </share>
     <apply>
      <root></root>
      <apply>
       <minus></minus>
       <cn type="integer">1</cn>
       <apply>
        <csymbol cd="ambiguous">superscript</csymbol>
        <ci>x</ci>
        <cn type="integer">2</cn>
       </apply>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \textstyle-\sqrt{1-x^{2}}<y<\sqrt{1-x^{2}}
  </annotation>
 </semantics>
</math>

 for all <em>x</em> and <em>y</em> such that ‚àí1 <em>X</em>(<em>x</em>) vanishes) and 

<math display="block" id="Conditioning_(probability):18">
 <semantics>
  <mrow>
   <mi>‚Ñô</mi>
   <mrow>
    <mo stretchy="false">(</mo>
    <mi>Y</mi>
    <mo>‚â§</mo>
    <mi>y</mi>
    <mo stretchy="false">|</mo>
    <mi>X</mi>
    <mo stretchy="false">)</mo>
   </mrow>
   <mo>=</mo>
   <mrow>
    <mo>{</mo>
    <mtable displaystyle="true">
     <mtr>
      <mtd columnalign="left">
       <mn>0</mn>
      </mtd>
      <mtd columnalign="left">
       <mrow>
        <mrow>
         <mrow>
          <mtext>for</mtext>
          <msup>
           <mi>X</mi>
           <mn>2</mn>
          </msup>
         </mrow>
         <mo>‚â•</mo>
         <mrow>
          <mn>1</mn>
          <mo>-</mo>
          <mrow>
           <msup>
            <mi>y</mi>
            <mn>2</mn>
           </msup>
           <mtext>and</mtext>
           <mi>y</mi>
          </mrow>
         </mrow>
         <mo><</mo>
         <mn>0</mn>
        </mrow>
        <mo>,</mo>
       </mrow>
      </mtd>
     </mtr>
     <mtr>
      <mtd columnalign="left">
       <mrow>
        <mstyle displaystyle="false">
         <mfrac>
          <mn>1</mn>
          <mn>2</mn>
         </mfrac>
        </mstyle>
        <mo>+</mo>
        <mrow>
         <mstyle displaystyle="false">
          <mfrac>
           <mn>1</mn>
           <mi>œÄ</mi>
          </mfrac>
         </mstyle>
         <mrow>
          <mi>arcsin</mi>
          <mstyle displaystyle="false">
           <mfrac>
            <mi>y</mi>
            <msqrt>
             <mrow>
              <mn>1</mn>
              <mo>-</mo>
              <msup>
               <mi>X</mi>
               <mn>2</mn>
              </msup>
             </mrow>
            </msqrt>
           </mfrac>
          </mstyle>
         </mrow>
        </mrow>
       </mrow>
      </mtd>
      <mtd columnalign="left">
       <mrow>
        <mrow>
         <mrow>
          <mtext>for</mtext>
          <msup>
           <mi>X</mi>
           <mn>2</mn>
          </msup>
         </mrow>
         <mo><</mo>
         <mrow>
          <mn>1</mn>
          <mo>-</mo>
          <msup>
           <mi>y</mi>
           <mn>2</mn>
          </msup>
         </mrow>
        </mrow>
        <mo>,</mo>
       </mrow>
      </mtd>
     </mtr>
     <mtr>
      <mtd columnalign="left">
       <mn>1</mn>
      </mtd>
      <mtd columnalign="left">
       <mrow>
        <mrow>
         <mtext>for</mtext>
         <msup>
          <mi>X</mi>
          <mn>2</mn>
         </msup>
        </mrow>
        <mo>‚â•</mo>
        <mrow>
         <mn>1</mn>
         <mo>-</mo>
         <mrow>
          <msup>
           <mi>y</mi>
           <mn>2</mn>
          </msup>
          <mtext>and</mtext>
          <mi>y</mi>
         </mrow>
        </mrow>
        <mo>></mo>
        <mn>0.</mn>
       </mrow>
      </mtd>
     </mtr>
    </mtable>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <cerror>
    <csymbol cd="ambiguous">fragments</csymbol>
    <csymbol cd="unknown">P</csymbol>
    <cerror>
     <csymbol cd="ambiguous">fragments</csymbol>
     <ci>normal-(</ci>
     <csymbol cd="unknown">Y</csymbol>
     <leq></leq>
     <csymbol cd="unknown">y</csymbol>
     <ci>normal-|</ci>
     <csymbol cd="unknown">X</csymbol>
     <ci>normal-)</ci>
    </cerror>
    <eq></eq>
    <apply>
     <csymbol cd="latexml">cases</csymbol>
     <cn type="integer">0</cn>
     <apply>
      <and></and>
      <apply>
       <geq></geq>
       <apply>
        <times></times>
        <mtext>for</mtext>
        <apply>
         <csymbol cd="ambiguous">superscript</csymbol>
         <ci>X</ci>
         <cn type="integer">2</cn>
        </apply>
       </apply>
       <apply>
        <minus></minus>
        <cn type="integer">1</cn>
        <apply>
         <times></times>
         <apply>
          <csymbol cd="ambiguous">superscript</csymbol>
          <ci>y</ci>
          <cn type="integer">2</cn>
         </apply>
         <mtext>and</mtext>
         <ci>y</ci>
        </apply>
       </apply>
      </apply>
      <apply>
       <lt></lt>
       <share href="#.cmml">
       </share>
       <cn type="integer">0</cn>
      </apply>
     </apply>
     <apply>
      <plus></plus>
      <apply>
       <divide></divide>
       <cn type="integer">1</cn>
       <cn type="integer">2</cn>
      </apply>
      <apply>
       <times></times>
       <apply>
        <divide></divide>
        <cn type="integer">1</cn>
        <ci>œÄ</ci>
       </apply>
       <apply>
        <arcsin></arcsin>
        <apply>
         <divide></divide>
         <ci>y</ci>
         <apply>
          <root></root>
          <apply>
           <minus></minus>
           <cn type="integer">1</cn>
           <apply>
            <csymbol cd="ambiguous">superscript</csymbol>
            <ci>X</ci>
            <cn type="integer">2</cn>
           </apply>
          </apply>
         </apply>
        </apply>
       </apply>
      </apply>
     </apply>
     <apply>
      <lt></lt>
      <apply>
       <times></times>
       <mtext>for</mtext>
       <apply>
        <csymbol cd="ambiguous">superscript</csymbol>
        <ci>X</ci>
        <cn type="integer">2</cn>
       </apply>
      </apply>
      <apply>
       <minus></minus>
       <cn type="integer">1</cn>
       <apply>
        <csymbol cd="ambiguous">superscript</csymbol>
        <ci>y</ci>
        <cn type="integer">2</cn>
       </apply>
      </apply>
     </apply>
     <cn type="integer">1</cn>
     <apply>
      <and></and>
      <apply>
       <geq></geq>
       <apply>
        <times></times>
        <mtext>for</mtext>
        <apply>
         <csymbol cd="ambiguous">superscript</csymbol>
         <ci>X</ci>
         <cn type="integer">2</cn>
        </apply>
       </apply>
       <apply>
        <minus></minus>
        <cn type="integer">1</cn>
        <apply>
         <times></times>
         <apply>
          <csymbol cd="ambiguous">superscript</csymbol>
          <ci>y</ci>
          <cn type="integer">2</cn>
         </apply>
         <mtext>and</mtext>
         <ci>y</ci>
        </apply>
       </apply>
      </apply>
      <apply>
       <gt></gt>
       <share href="#.cmml">
       </share>
       <cn type="float">0.</cn>
      </apply>
     </apply>
    </apply>
   </cerror>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \mathbb{P}(Y\leq y|X)=\begin{cases}0&\text{for }X^{2}\geq 1-y^{2}\text{ and }y%
<0,\\
\frac{1}{2}+\frac{1}{\pi}\arcsin\frac{y}{\sqrt{1-X^{2}}}&\text{for }X^{2}<1-y^%
{2},\\
1&\text{for }X^{2}\geq 1-y^{2}\text{ and }y>0.\end{cases}
  </annotation>
 </semantics>
</math>

 (otherwise the conditional probability degenerates to 0 or 1). One may also treat the conditional probability as a random variable, ‚Äî a function of the random variable <em>X</em>, namely,</p>

<p>

<math display="inline" id="Conditioning_(probability):19">
 <semantics>
  <mrow>
   <mi>ùîº</mi>
   <mrow>
    <mo stretchy="false">(</mo>
    <mi>‚Ñô</mi>
    <mrow>
     <mo stretchy="false">(</mo>
     <mi>Y</mi>
     <mo>‚â§</mo>
     <mi>y</mi>
     <mo stretchy="false">|</mo>
     <mi>X</mi>
     <mo stretchy="false">)</mo>
    </mrow>
    <mo stretchy="false">)</mo>
   </mrow>
   <mo>=</mo>
   <msubsup>
    <mo largeop="true" symmetric="true">‚à´</mo>
    <mrow>
     <mo>-</mo>
     <mi mathvariant="normal">‚àû</mi>
    </mrow>
    <mrow>
     <mo>+</mo>
     <mi mathvariant="normal">‚àû</mi>
    </mrow>
   </msubsup>
   <mi>‚Ñô</mi>
   <mrow>
    <mo stretchy="false">(</mo>
    <mi>Y</mi>
    <mo>‚â§</mo>
    <mi>y</mi>
    <mo stretchy="false">|</mo>
    <mi>X</mi>
    <mo>=</mo>
    <mi>x</mi>
    <mo stretchy="false">)</mo>
   </mrow>
   <msub>
    <mi>f</mi>
    <mi>X</mi>
   </msub>
   <mrow>
    <mo stretchy="false">(</mo>
    <mi>x</mi>
    <mo rspace="4.2pt" stretchy="false">)</mo>
   </mrow>
   <mi mathvariant="normal">d</mi>
   <mi>x</mi>
   <mo>=</mo>
   <mi>‚Ñô</mi>
   <mrow>
    <mo stretchy="false">(</mo>
    <mi>Y</mi>
    <mo>‚â§</mo>
    <mi>y</mi>
    <mo stretchy="false">)</mo>
   </mrow>
   <mo>,</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <cerror>
    <csymbol cd="ambiguous">fragments</csymbol>
    <csymbol cd="unknown">E</csymbol>
    <cerror>
     <csymbol cd="ambiguous">fragments</csymbol>
     <ci>normal-(</ci>
     <csymbol cd="unknown">P</csymbol>
     <cerror>
      <csymbol cd="ambiguous">fragments</csymbol>
      <ci>normal-(</ci>
      <csymbol cd="unknown">Y</csymbol>
      <leq></leq>
      <csymbol cd="unknown">y</csymbol>
      <ci>normal-|</ci>
      <csymbol cd="unknown">X</csymbol>
      <ci>normal-)</ci>
     </cerror>
     <ci>normal-)</ci>
    </cerror>
    <eq></eq>
    <apply>
     <csymbol cd="ambiguous">superscript</csymbol>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <int></int>
      <apply>
       <minus></minus>
       <infinity></infinity>
      </apply>
     </apply>
     <apply>
      <plus></plus>
      <infinity></infinity>
     </apply>
    </apply>
    <csymbol cd="unknown">P</csymbol>
    <cerror>
     <csymbol cd="ambiguous">fragments</csymbol>
     <ci>normal-(</ci>
     <csymbol cd="unknown">Y</csymbol>
     <leq></leq>
     <csymbol cd="unknown">y</csymbol>
     <ci>normal-|</ci>
     <csymbol cd="unknown">X</csymbol>
     <eq></eq>
     <csymbol cd="unknown">x</csymbol>
     <ci>normal-)</ci>
    </cerror>
    <apply>
     <csymbol cd="ambiguous">subscript</csymbol>
     <ci>f</ci>
     <ci>X</ci>
    </apply>
    <cerror>
     <csymbol cd="ambiguous">fragments</csymbol>
     <ci>normal-(</ci>
     <csymbol cd="unknown">x</csymbol>
     <ci>normal-)</ci>
    </cerror>
    <csymbol cd="unknown">d</csymbol>
    <csymbol cd="unknown">x</csymbol>
    <eq></eq>
    <csymbol cd="unknown">P</csymbol>
    <cerror>
     <csymbol cd="ambiguous">fragments</csymbol>
     <ci>normal-(</ci>
     <csymbol cd="unknown">Y</csymbol>
     <leq></leq>
     <csymbol cd="unknown">y</csymbol>
     <ci>normal-)</ci>
    </cerror>
    <ci>normal-,</ci>
   </cerror>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \mathbb{E}(\mathbb{P}(Y\leq y|X))=\int_{-\infty}^{+\infty}\mathbb{P}(Y\leq y|X%
=x)f_{X}(x)\,\mathrm{d}x=\mathbb{P}(Y\leq y),
  </annotation>
 </semantics>
</math>

 The expectation of this random variable is equal to the (unconditional) probability,</p>
<dl>
<dd><cite id="DPC8"> 

<math display="inline" id="Conditioning_(probability):20">
 <semantics>
  <mrow>
   <mo stretchy="false">|</mo>
   <mi>Z</mi>
   <mo stretchy="false">|</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <abs></abs>
    <ci>Z</ci>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \displaystyle|Z|
  </annotation>
 </semantics>
</math>


 </cite>
</dd>
</dl>

<p>which is an instance of the <a href="law_of_total_probability" title="wikilink">law of total probability</a> E ( P ( <em>A</em> | <em>X</em> ) ) = P ( <em>A</em> ).</p>
<h4 id="interpretation">Interpretation</h4>

<p>The conditional probability P ( <em>Y</em> ‚â§ 0.75 | <em>X</em> = 0.5 ) cannot be interpreted as P ( <em>Y</em> ‚â§ 0.75, <em>X</em> = 0.5 ) / P ( <em>X</em> = 0.5 ), since the latter gives 0/0. Accordingly, P ( <em>Y</em> ‚â§ 0.75 | <em>X</em> = 0.5 ) cannot be interpreted via empirical frequencies, since the exact value <em>X</em> = 0.5 has no chance to appear at random, not even once during an infinite sequence of independent trials.</p>

<p>The conditional probability can be interpreted as a limit,</p>
<dl>
<dd><cite id="DPI5"> <math> \begin{align}
</math></cite></dd>
</dl>

<p>\mathbb{P} (Y\le0.75 | X=0.5) &amp;= \lim_{\varepsilon\to0+} \mathbb{P} (Y\le0.75 | 0.5-\varepsilon<x <="" p="">
<h3 id="conditional-expectation-1">Conditional expectation</h3>

<p>The conditional expectation E ( <em>Y</em> | <em>X</em> = 0.5 ) is of little interest; it vanishes just by symmetry. It is more interesting to calculate E ( |<em>Z</em>| | <em>X</em> = 0.5 ) treating |<em>Z</em>| as a function of <em>X</em>, <em>Y</em>:</p>

<p>

<math display="block" id="Conditioning_(probability):21">
 <semantics>
  <mrow>
   <mi>ùîº</mi>
   <mrow>
    <mo stretchy="false">(</mo>
    <mo stretchy="false">|</mo>
    <mi>Z</mi>
    <mo stretchy="false">|</mo>
    <mo stretchy="false">|</mo>
    <mi>X</mi>
    <mo>=</mo>
    <mi>x</mi>
    <mo stretchy="false">)</mo>
   </mrow>
   <mo>=</mo>
   <mfrac>
    <mn>2</mn>
    <mi>œÄ</mi>
   </mfrac>
   <msqrt>
    <mrow>
     <mn>1</mn>
     <mo>-</mo>
     <msup>
      <mi>x</mi>
      <mn>2</mn>
     </msup>
    </mrow>
   </msqrt>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <cerror>
    <csymbol cd="ambiguous">fragments</csymbol>
    <csymbol cd="unknown">E</csymbol>
    <cerror>
     <csymbol cd="ambiguous">fragments</csymbol>
     <ci>normal-(</ci>
     <ci>normal-|</ci>
     <csymbol cd="unknown">Z</csymbol>
     <ci>normal-|</ci>
     <ci>normal-|</ci>
     <csymbol cd="unknown">X</csymbol>
     <eq></eq>
     <csymbol cd="unknown">x</csymbol>
     <ci>normal-)</ci>
    </cerror>
    <eq></eq>
    <apply>
     <divide></divide>
     <cn type="integer">2</cn>
     <ci>œÄ</ci>
    </apply>
    <apply>
     <root></root>
     <apply>
      <minus></minus>
      <cn type="integer">1</cn>
      <apply>
       <csymbol cd="ambiguous">superscript</csymbol>
       <ci>x</ci>
       <cn type="integer">2</cn>
      </apply>
     </apply>
    </apply>
   </cerror>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \mathbb{E}(|Z||X=x)=\frac{2}{\pi}\sqrt{1-x^{2}}
  </annotation>
 </semantics>
</math>

 More generally,</p>

<p>

<math display="block" id="Conditioning_(probability):22">
 <semantics>
  <mrow>
   <mi>ùîº</mi>
   <mrow>
    <mo stretchy="false">(</mo>
    <mi>ùîº</mi>
    <mrow>
     <mo stretchy="false">(</mo>
     <mo stretchy="false">|</mo>
     <mi>Z</mi>
     <mo stretchy="false">|</mo>
     <mo stretchy="false">|</mo>
     <mi>X</mi>
     <mo stretchy="false">)</mo>
    </mrow>
    <mo stretchy="false">)</mo>
   </mrow>
   <mo>=</mo>
   <msubsup>
    <mo largeop="true" symmetric="true">‚à´</mo>
    <mrow>
     <mo>-</mo>
     <mi mathvariant="normal">‚àû</mi>
    </mrow>
    <mrow>
     <mo>+</mo>
     <mi mathvariant="normal">‚àû</mi>
    </mrow>
   </msubsup>
   <mi>ùîº</mi>
   <mrow>
    <mo stretchy="false">(</mo>
    <mo stretchy="false">|</mo>
    <mi>Z</mi>
    <mo stretchy="false">|</mo>
    <mo stretchy="false">|</mo>
    <mi>X</mi>
    <mo>=</mo>
    <mi>x</mi>
    <mo stretchy="false">)</mo>
   </mrow>
   <msub>
    <mi>f</mi>
    <mi>X</mi>
   </msub>
   <mrow>
    <mo stretchy="false">(</mo>
    <mi>x</mi>
    <mo rspace="4.2pt" stretchy="false">)</mo>
   </mrow>
   <mi mathvariant="normal">d</mi>
   <mi>x</mi>
   <mo>=</mo>
   <mi>ùîº</mi>
   <mrow>
    <mo stretchy="false">(</mo>
    <mo stretchy="false">|</mo>
    <mi>Z</mi>
    <mo stretchy="false">|</mo>
    <mo stretchy="false">)</mo>
   </mrow>
   <mo>,</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <cerror>
    <csymbol cd="ambiguous">fragments</csymbol>
    <csymbol cd="unknown">E</csymbol>
    <cerror>
     <csymbol cd="ambiguous">fragments</csymbol>
     <ci>normal-(</ci>
     <csymbol cd="unknown">E</csymbol>
     <cerror>
      <csymbol cd="ambiguous">fragments</csymbol>
      <ci>normal-(</ci>
      <ci>normal-|</ci>
      <csymbol cd="unknown">Z</csymbol>
      <ci>normal-|</ci>
      <ci>normal-|</ci>
      <csymbol cd="unknown">X</csymbol>
      <ci>normal-)</ci>
     </cerror>
     <ci>normal-)</ci>
    </cerror>
    <eq></eq>
    <apply>
     <csymbol cd="ambiguous">superscript</csymbol>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <int></int>
      <apply>
       <minus></minus>
       <infinity></infinity>
      </apply>
     </apply>
     <apply>
      <plus></plus>
      <infinity></infinity>
     </apply>
    </apply>
    <csymbol cd="unknown">E</csymbol>
    <cerror>
     <csymbol cd="ambiguous">fragments</csymbol>
     <ci>normal-(</ci>
     <ci>normal-|</ci>
     <csymbol cd="unknown">Z</csymbol>
     <ci>normal-|</ci>
     <ci>normal-|</ci>
     <csymbol cd="unknown">X</csymbol>
     <eq></eq>
     <csymbol cd="unknown">x</csymbol>
     <ci>normal-)</ci>
    </cerror>
    <apply>
     <csymbol cd="ambiguous">subscript</csymbol>
     <ci>f</ci>
     <ci>X</ci>
    </apply>
    <cerror>
     <csymbol cd="ambiguous">fragments</csymbol>
     <ci>normal-(</ci>
     <csymbol cd="unknown">x</csymbol>
     <ci>normal-)</ci>
    </cerror>
    <csymbol cd="unknown">d</csymbol>
    <csymbol cd="unknown">x</csymbol>
    <eq></eq>
    <csymbol cd="unknown">E</csymbol>
    <cerror>
     <csymbol cd="ambiguous">fragments</csymbol>
     <ci>normal-(</ci>
     <ci>normal-|</ci>
     <csymbol cd="unknown">Z</csymbol>
     <ci>normal-|</ci>
     <ci>normal-)</ci>
    </cerror>
    <ci>normal-,</ci>
   </cerror>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \mathbb{E}(\mathbb{E}(|Z||X))=\int_{-\infty}^{+\infty}\mathbb{E}(|Z||X=x)f_{X}%
(x)\,\mathrm{d}x=\mathbb{E}(|Z|),
  </annotation>
 </semantics>
</math>

 for ‚àí1  \mathbb{E} ( |Z| | X ) = \frac2\pi \sqrt{1-X^2}.  The expectation of this random variable is equal to the (unconditional) expectation of |<em>Z</em>|,</p>

<p>

<math display="block" id="Conditioning_(probability):23">
 <semantics>
  <mrow>
   <mrow>
    <mrow>
     <msubsup>
      <mo largeop="true" symmetric="true">‚à´</mo>
      <mrow>
       <mo>-</mo>
       <mn>1</mn>
      </mrow>
      <mrow>
       <mo>+</mo>
       <mn>1</mn>
      </mrow>
     </msubsup>
     <mrow>
      <mrow>
       <mfrac>
        <mn>2</mn>
        <mi>œÄ</mi>
       </mfrac>
       <msqrt>
        <mrow>
         <mn>1</mn>
         <mo>-</mo>
         <msup>
          <mi>x</mi>
          <mn>2</mn>
         </msup>
        </mrow>
       </msqrt>
      </mrow>
      <mo>‚ãÖ</mo>
      <mfrac>
       <mrow>
        <mi mathvariant="normal">d</mi>
        <mi>x</mi>
       </mrow>
       <mn>2</mn>
      </mfrac>
     </mrow>
    </mrow>
    <mo>=</mo>
    <mstyle displaystyle="false">
     <mfrac>
      <mn>1</mn>
      <mn>2</mn>
     </mfrac>
    </mstyle>
   </mrow>
   <mo>,</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <apply>
      <csymbol cd="ambiguous">superscript</csymbol>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <int></int>
       <apply>
        <minus></minus>
        <cn type="integer">1</cn>
       </apply>
      </apply>
      <apply>
       <plus></plus>
       <cn type="integer">1</cn>
      </apply>
     </apply>
     <apply>
      <ci>normal-‚ãÖ</ci>
      <apply>
       <times></times>
       <apply>
        <divide></divide>
        <cn type="integer">2</cn>
        <ci>œÄ</ci>
       </apply>
       <apply>
        <root></root>
        <apply>
         <minus></minus>
         <cn type="integer">1</cn>
         <apply>
          <csymbol cd="ambiguous">superscript</csymbol>
          <ci>x</ci>
          <cn type="integer">2</cn>
         </apply>
        </apply>
       </apply>
      </apply>
      <apply>
       <divide></divide>
       <apply>
        <times></times>
        <ci>normal-d</ci>
        <ci>x</ci>
       </apply>
       <cn type="integer">2</cn>
      </apply>
     </apply>
    </apply>
    <apply>
     <divide></divide>
     <cn type="integer">1</cn>
     <cn type="integer">2</cn>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \int_{-1}^{+1}\frac{2}{\pi}\sqrt{1-x^{2}}\cdot\frac{\mathrm{d}x}{2}=\tfrac{1}{%
2},
  </annotation>
 </semantics>
</math>

 namely,</p>

<p>

<math display="block" id="Conditioning_(probability):24">
 <semantics>
  <mrow>
   <msub>
    <mi>F</mi>
    <mrow>
     <mi>Y</mi>
     <mo stretchy="false">|</mo>
     <mi>X</mi>
     <mo>=</mo>
     <mi>x</mi>
    </mrow>
   </msub>
   <mrow>
    <mo stretchy="false">(</mo>
    <mi>y</mi>
    <mo stretchy="false">)</mo>
   </mrow>
   <mo>=</mo>
   <mi>‚Ñô</mi>
   <mrow>
    <mo stretchy="false">(</mo>
    <mi>Y</mi>
    <mo>‚â§</mo>
    <mi>y</mi>
    <mo stretchy="false">|</mo>
    <mi>X</mi>
    <mo>=</mo>
    <mi>x</mi>
    <mo stretchy="false">)</mo>
   </mrow>
   <mo>=</mo>
   <mfrac>
    <mn>1</mn>
    <mn>2</mn>
   </mfrac>
   <mo>+</mo>
   <mfrac>
    <mn>1</mn>
    <mi>œÄ</mi>
   </mfrac>
   <mi>arcsin</mi>
   <mfrac>
    <mi>y</mi>
    <msqrt>
     <mrow>
      <mn>1</mn>
      <mo>-</mo>
      <msup>
       <mi>x</mi>
       <mn>2</mn>
      </msup>
     </mrow>
    </msqrt>
   </mfrac>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <cerror>
    <csymbol cd="ambiguous">fragments</csymbol>
    <apply>
     <csymbol cd="ambiguous">subscript</csymbol>
     <ci>F</ci>
     <cerror>
      <csymbol cd="ambiguous">fragments</csymbol>
      <csymbol cd="unknown">Y</csymbol>
      <ci>normal-|</ci>
      <csymbol cd="unknown">X</csymbol>
      <eq></eq>
      <csymbol cd="unknown">x</csymbol>
     </cerror>
    </apply>
    <cerror>
     <csymbol cd="ambiguous">fragments</csymbol>
     <ci>normal-(</ci>
     <csymbol cd="unknown">y</csymbol>
     <ci>normal-)</ci>
    </cerror>
    <eq></eq>
    <csymbol cd="unknown">P</csymbol>
    <cerror>
     <csymbol cd="ambiguous">fragments</csymbol>
     <ci>normal-(</ci>
     <csymbol cd="unknown">Y</csymbol>
     <leq></leq>
     <csymbol cd="unknown">y</csymbol>
     <ci>normal-|</ci>
     <csymbol cd="unknown">X</csymbol>
     <eq></eq>
     <csymbol cd="unknown">x</csymbol>
     <ci>normal-)</ci>
    </cerror>
    <eq></eq>
    <apply>
     <divide></divide>
     <cn type="integer">1</cn>
     <cn type="integer">2</cn>
    </apply>
    <plus></plus>
    <apply>
     <divide></divide>
     <cn type="integer">1</cn>
     <ci>œÄ</ci>
    </apply>
    <arcsin></arcsin>
    <apply>
     <divide></divide>
     <ci>y</ci>
     <apply>
      <root></root>
      <apply>
       <minus></minus>
       <cn type="integer">1</cn>
       <apply>
        <csymbol cd="ambiguous">superscript</csymbol>
        <ci>x</ci>
        <cn type="integer">2</cn>
       </apply>
      </apply>
     </apply>
    </apply>
   </cerror>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   F_{Y|X=x}(y)=\mathbb{P}(Y\leq y|X=x)=\frac{1}{2}+\frac{1}{\pi}\arcsin\frac{y}{%
\sqrt{1-x^{2}}}
  </annotation>
 </semantics>
</math>

 which is an instance of the <a href="law_of_total_expectation" title="wikilink">law of total expectation</a> E ( E ( <em>Y</em> | <em>X</em> ) ) = E ( <em>Y</em> ).</p>

<p>The random variable E(|<em>Z</em>| | <em>X</em>) is the best predictor of |<em>Z</em>| given <em>X</em>. That is, it minimizes the mean square error E ( |<em>Z</em>| - <em>f</em>(<em>X</em>) )<sup>2</sup> on the class of all random variables of the form <em>f</em>(<em>X</em>). Similarly to the discrete case, E ( |<em>Z</em>| | <em>g</em>(<em>X</em>) ) = E ( |<em>Z</em>| | <em>X</em> ) for every measurable function <em>g</em> that is one-to-one on (-1,1).</p>
<h3 id="conditional-distribution-1">Conditional distribution</h3>

<p>Given <em>X</em> = x, the conditional distribution of <em>Y</em>, given by the density <em>f</em><sub><em>Y</em>|<em>X</em>=<em>x</em></sub>(y), is the (rescaled) arcsin distribution; its cumulative distribution function is</p>

<p>

<math display="inline" id="Conditioning_(probability):25">
 <semantics>
  <msqrt>
   <mn>0.75</mn>
  </msqrt>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <root></root>
    <cn type="float">0.75</cn>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \sqrt{0.75}
  </annotation>
 </semantics>
</math>

 for all <em>x</em> and <em>y</em> such that <em>x</em><sup>2</sup> + <em>y</em><sup>2</sup>  \begin{align} &amp; \int_{-\infty}^{+\infty} f_{Y|X=x} (y) f_X(x) \, \mathrm{d}x = f_Y(y), \\ &amp; \int_{-\infty}^{+\infty} F_{Y|X=x} (y) f_X(x) \, \mathrm{d}x = F_Y(y), \end{align}  the latter being the instance of the law of total probability <a href="#DPC8" title="wikilink">mentioned above</a>.</p>
<h2 id="what-conditioning-is-not">What conditioning is not</h2>

<p>On the discrete level conditioning is possible only if the condition is of nonzero probability (one cannot divide by zero). On the level of densities, conditioning on <em>X</em> = <em>x</em> is possible even though P ( <em>X</em> = <em>x</em> ) = 0. This success may create the illusion that conditioning is <em>always</em> possible. Regretfully, it is not, for several reasons presented below.</p>
<h3 id="geometric-intuition-caution">Geometric intuition: caution</h3>

<p>The result P ( <em>Y</em> ‚â§ 0.75 | <em>X</em> = 0.5 ) = 5/6, mentioned above, is geometrically evident in the following sense. The points (<em>x</em>,<em>y</em>,<em>z</em>) of the sphere <em>x</em><sup>2</sup> + <em>y</em><sup>2</sup> + <em>z</em><sup>2</sup> = 1, satisfying the condition <em>x</em> = 0.5, are a circle <em>y</em><sup>2</sup> + <em>z</em><sup>2</sup> = 0.75 of radius 

<math display="inline" id="Conditioning_(probability):26">
 <semantics>
  <mrow>
   <mi>‚Ñô</mi>
   <mrow>
    <mo stretchy="false">(</mo>
    <mi>A</mi>
    <mo stretchy="false">|</mo>
    <mi>B</mi>
    <mo stretchy="false">)</mo>
   </mrow>
   <mo>=</mo>
   <mi>‚Ñô</mi>
   <mrow>
    <mo stretchy="false">(</mo>
    <mi>A</mi>
    <mo>‚à©</mo>
    <mi>B</mi>
    <mo stretchy="false">)</mo>
   </mrow>
   <mo>/</mo>
   <mi>‚Ñô</mi>
   <mrow>
    <mo stretchy="false">(</mo>
    <mi>B</mi>
    <mo stretchy="false">)</mo>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <cerror>
    <csymbol cd="ambiguous">fragments</csymbol>
    <csymbol cd="unknown">P</csymbol>
    <cerror>
     <csymbol cd="ambiguous">fragments</csymbol>
     <ci>normal-(</ci>
     <csymbol cd="unknown">A</csymbol>
     <ci>normal-|</ci>
     <csymbol cd="unknown">B</csymbol>
     <ci>normal-)</ci>
    </cerror>
    <eq></eq>
    <csymbol cd="unknown">P</csymbol>
    <cerror>
     <csymbol cd="ambiguous">fragments</csymbol>
     <ci>normal-(</ci>
     <csymbol cd="unknown">A</csymbol>
     <intersect></intersect>
     <csymbol cd="unknown">B</csymbol>
     <ci>normal-)</ci>
    </cerror>
    <divide></divide>
    <csymbol cd="unknown">P</csymbol>
    <cerror>
     <csymbol cd="ambiguous">fragments</csymbol>
     <ci>normal-(</ci>
     <csymbol cd="unknown">B</csymbol>
     <ci>normal-)</ci>
    </cerror>
   </cerror>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \textstyle\mathbb{P}(A|B)=\mathbb{P}(A\cap B)/\mathbb{P}(B)
  </annotation>
 </semantics>
</math>

 on the plane <em>x</em> = 0.5. The inequality <em>y</em> ‚â§ 0.75 holds on an arc. The length of the arc is 5/6 of the length of the circle, which is why the conditional probability is equal to 5/6.</p>

<p>This successful geometric explanation may create the illusion that the following question is trivial.</p>
<dl>
<dd>A point of a given sphere is chosen at random (uniformly). Given that the point lies on a given plane, what is its conditional distribution?
</dd>
</dl>

<p>It may seem evident that the conditional distribution must be uniform on the given circle (the intersection of the given sphere and the given plane). Sometimes it really is, but in general it is not. Especially, <em>Z</em> is distributed uniformly on (-1,+1) and independent of the ratio <em>Y</em>/<em>X</em>, thus, P ( <em>Z</em> ‚â§ 0.5 | <em>Y</em>/<em>X</em> ) = 0.75. On the other hand, the inequality <em>z</em> ‚â§ 0.5 holds on an arc of the circle <em>x</em><sup>2</sup> + <em>y</em><sup>2</sup> + <em>z</em><sup>2</sup> = 1, <em>y</em> = <em>cx</em> (for any given <em>c</em>). The length of the arc is 2/3 of the length of the circle. However, the conditional probability is 3/4, not 2/3. This is a manifestation of the classical Borel paradox.<a class="footnoteRef" href="#fn4" id="fnref4"><sup>4</sup></a><a class="footnoteRef" href="#fn5" id="fnref5"><sup>5</sup></a> <mtpl></mtpl></p>

<p>Another example. A <a href="Rotation_matrix#Uniform_random_rotation_matrices" title="wikilink">random rotation</a> of the three-dimensional space is a rotation by a random angle around a random axis. Geometric intuition suggests that the angle is independent of the axis and distributed uniformly. However, the latter is wrong; small values of the angle are less probable.</p>
<h3 id="the-limiting-procedure">The limiting procedure</h3>

<p>Given an event <em>B</em> of zero probability, the formula 

<math display="inline" id="Conditioning_(probability):27">
 <semantics>
  <mrow>
   <mi>‚Ñô</mi>
   <mrow>
    <mo stretchy="false">(</mo>
    <mi>A</mi>
    <mo stretchy="false">|</mo>
    <mi>B</mi>
    <mo stretchy="false">)</mo>
   </mrow>
   <mo>=</mo>
   <msub>
    <mo>lim</mo>
    <mrow>
     <mi>n</mi>
     <mo>‚Üí</mo>
     <mi mathvariant="normal">‚àû</mi>
    </mrow>
   </msub>
   <mi>‚Ñô</mi>
   <mrow>
    <mo stretchy="false">(</mo>
    <mi>A</mi>
    <mo>‚à©</mo>
    <msub>
     <mi>B</mi>
     <mi>n</mi>
    </msub>
    <mo stretchy="false">)</mo>
   </mrow>
   <mo>/</mo>
   <mi>‚Ñô</mi>
   <mrow>
    <mo stretchy="false">(</mo>
    <msub>
     <mi>B</mi>
     <mi>n</mi>
    </msub>
    <mo stretchy="false">)</mo>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <cerror>
    <csymbol cd="ambiguous">fragments</csymbol>
    <csymbol cd="unknown">P</csymbol>
    <cerror>
     <csymbol cd="ambiguous">fragments</csymbol>
     <ci>normal-(</ci>
     <csymbol cd="unknown">A</csymbol>
     <ci>normal-|</ci>
     <csymbol cd="unknown">B</csymbol>
     <ci>normal-)</ci>
    </cerror>
    <eq></eq>
    <apply>
     <csymbol cd="ambiguous">subscript</csymbol>
     <limit></limit>
     <apply>
      <ci>normal-‚Üí</ci>
      <ci>n</ci>
      <infinity></infinity>
     </apply>
    </apply>
    <csymbol cd="unknown">P</csymbol>
    <cerror>
     <csymbol cd="ambiguous">fragments</csymbol>
     <ci>normal-(</ci>
     <csymbol cd="unknown">A</csymbol>
     <intersect></intersect>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <ci>B</ci>
      <ci>n</ci>
     </apply>
     <ci>normal-)</ci>
    </cerror>
    <divide></divide>
    <csymbol cd="unknown">P</csymbol>
    <cerror>
     <csymbol cd="ambiguous">fragments</csymbol>
     <ci>normal-(</ci>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <ci>B</ci>
      <ci>n</ci>
     </apply>
     <ci>normal-)</ci>
    </cerror>
   </cerror>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \textstyle\mathbb{P}(A|B)=\lim_{n\to\infty}\mathbb{P}(A\cap B_{n})/\mathbb{P}(%
B_{n})
  </annotation>
 </semantics>
</math>

 is useless, however, one can try 

<math display="inline" id="Conditioning_(probability):28">
 <semantics>
  <mrow>
   <msub>
    <mi>B</mi>
    <mn>1</mn>
   </msub>
   <mo>‚äÉ</mo>
   <msub>
    <mi>B</mi>
    <mn>2</mn>
   </msub>
   <mo>‚äÉ</mo>
   <mi mathvariant="normal">‚Ä¶</mi>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <and></and>
    <apply>
     <csymbol cd="latexml">superset-of</csymbol>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <ci>B</ci>
      <cn type="integer">1</cn>
     </apply>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <ci>B</ci>
      <cn type="integer">2</cn>
     </apply>
    </apply>
    <apply>
     <csymbol cd="latexml">superset-of</csymbol>
     <share href="#.cmml">
     </share>
     <ci>normal-‚Ä¶</ci>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \textstyle B_{1}\supset B_{2}\supset\dots
  </annotation>
 </semantics>
</math>

 for an appropriate sequence of events <em>B</em><sub><em>n</em></sub> of nonzero probability such that <em>B</em><sub><em>n</em></sub> ‚Üì <em>B</em> (that is, 

<math display="inline" id="Conditioning_(probability):29">
 <semantics>
  <mrow>
   <mrow>
    <msub>
     <mi>B</mi>
     <mn>1</mn>
    </msub>
    <mo>‚à©</mo>
    <msub>
     <mi>B</mi>
     <mn>2</mn>
    </msub>
    <mo>‚à©</mo>
    <mi mathvariant="normal">‚Ä¶</mi>
   </mrow>
   <mo>=</mo>
   <mi>B</mi>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <intersect></intersect>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <ci>B</ci>
      <cn type="integer">1</cn>
     </apply>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <ci>B</ci>
      <cn type="integer">2</cn>
     </apply>
     <ci>normal-‚Ä¶</ci>
    </apply>
    <ci>B</ci>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \textstyle B_{1}\cap B_{2}\cap\dots=B
  </annotation>
 </semantics>
</math>

 and 

<math display="block" id="Conditioning_(probability):30">
 <semantics>
  <mrow>
   <mrow>
    <msub>
     <mi>f</mi>
     <mn>1</mn>
    </msub>
    <mrow>
     <mo stretchy="false">(</mo>
     <mi>y</mi>
     <mo stretchy="false">)</mo>
    </mrow>
   </mrow>
   <mo>=</mo>
   <mrow>
    <mo>{</mo>
    <mtable displaystyle="true">
     <mtr>
      <mtd columnalign="left">
       <mrow>
        <mn>3</mn>
        <mi>y</mi>
       </mrow>
      </mtd>
      <mtd columnalign="left">
       <mrow>
        <mrow>
         <mrow>
          <mtext>for</mtext>
          <mn>0</mn>
         </mrow>
         <mo>‚â§</mo>
         <mi>y</mi>
         <mo>‚â§</mo>
         <mrow>
          <mn>1</mn>
          <mo>/</mo>
          <mn>3</mn>
         </mrow>
        </mrow>
        <mo>,</mo>
       </mrow>
      </mtd>
     </mtr>
     <mtr>
      <mtd columnalign="left">
       <mrow>
        <mn>1.5</mn>
        <mrow>
         <mo stretchy="false">(</mo>
         <mrow>
          <mn>1</mn>
          <mo>-</mo>
          <mi>y</mi>
         </mrow>
         <mo stretchy="false">)</mo>
        </mrow>
       </mrow>
      </mtd>
      <mtd columnalign="left">
       <mrow>
        <mrow>
         <mrow>
          <mrow>
           <mtext>for</mtext>
           <mn>1</mn>
          </mrow>
          <mo>/</mo>
          <mn>3</mn>
         </mrow>
         <mo>‚â§</mo>
         <mi>y</mi>
         <mo>‚â§</mo>
         <mrow>
          <mn>2</mn>
          <mo>/</mo>
          <mn>3</mn>
         </mrow>
        </mrow>
        <mo>,</mo>
       </mrow>
      </mtd>
     </mtr>
     <mtr>
      <mtd columnalign="left">
       <mn>0.5</mn>
      </mtd>
      <mtd columnalign="left">
       <mrow>
        <mrow>
         <mrow>
          <mrow>
           <mtext>for</mtext>
           <mn>2</mn>
          </mrow>
          <mo>/</mo>
          <mn>3</mn>
         </mrow>
         <mo>‚â§</mo>
         <mi>y</mi>
         <mo>‚â§</mo>
         <mn>1</mn>
        </mrow>
        <mo>,</mo>
       </mrow>
      </mtd>
     </mtr>
    </mtable>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <times></times>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <ci>f</ci>
      <cn type="integer">1</cn>
     </apply>
     <ci>y</ci>
    </apply>
    <apply>
     <csymbol cd="latexml">cases</csymbol>
     <apply>
      <times></times>
      <cn type="integer">3</cn>
      <ci>y</ci>
     </apply>
     <apply>
      <and></and>
      <apply>
       <leq></leq>
       <apply>
        <times></times>
        <mtext>for</mtext>
        <cn type="integer">0</cn>
       </apply>
       <ci>y</ci>
      </apply>
      <apply>
       <leq></leq>
       <share href="#.cmml">
       </share>
       <apply>
        <divide></divide>
        <cn type="integer">1</cn>
        <cn type="integer">3</cn>
       </apply>
      </apply>
     </apply>
     <apply>
      <times></times>
      <cn type="float">1.5</cn>
      <apply>
       <minus></minus>
       <cn type="integer">1</cn>
       <ci>y</ci>
      </apply>
     </apply>
     <apply>
      <and></and>
      <apply>
       <leq></leq>
       <apply>
        <divide></divide>
        <apply>
         <times></times>
         <mtext>for</mtext>
         <cn type="integer">1</cn>
        </apply>
        <cn type="integer">3</cn>
       </apply>
       <ci>y</ci>
      </apply>
      <apply>
       <leq></leq>
       <share href="#.cmml">
       </share>
       <apply>
        <divide></divide>
        <cn type="integer">2</cn>
        <cn type="integer">3</cn>
       </apply>
      </apply>
     </apply>
     <cn type="float">0.5</cn>
     <apply>
      <and></and>
      <apply>
       <leq></leq>
       <apply>
        <divide></divide>
        <apply>
         <times></times>
         <mtext>for</mtext>
         <cn type="integer">2</cn>
        </apply>
        <cn type="integer">3</cn>
       </apply>
       <ci>y</ci>
      </apply>
      <apply>
       <leq></leq>
       <share href="#.cmml">
       </share>
       <cn type="integer">1</cn>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   f_{1}(y)=\begin{cases}3y&\text{for }0\leq y\leq 1/3,\\
1.5(1-y)&\text{for }1/3\leq y\leq 2/3,\\
0.5&\text{for }2/3\leq y\leq 1,\end{cases}
  </annotation>
 </semantics>
</math>

). One example is given <a href="#DPI5" title="wikilink">above</a>. Two more examples are <a href="Wiener_process#Related_processes" title="wikilink">Brownian bridge and Brownian excursion</a>.</p>

<p>In the latter two examples the law of total probability is irrelevant, since only a single event (the condition) is given. By contrast, in the example <a href="#DPI5" title="wikilink">above</a> the law of total probability <a href="#DPC8" title="wikilink">applies</a>, since the event <em>X</em> = 0.5 is included into a family of events <em>X</em> = <em>x</em> where <em>x</em> runs over (‚àí1,1), and these events are a partition of the probability space.</p>

<p>In order to avoid paradoxes (such as the <a href="Borel's_paradox" title="wikilink">Borel's paradox</a>), the following important distinction should be taken into account. If a given event is of nonzero probability then conditioning on it is well-defined (irrespective of any other events), as was noted <a href="#EP8" title="wikilink">above</a>. By contrast, if the given event is of zero probability then conditioning on it is ill-defined unless some additional input is provided. Wrong choice of this additional input leads to wrong conditional probabilities (expectations, distributions). In this sense, "<em>the concept of a conditional probability with regard to an isolated hypothesis whose probability equals 0 is inadmissible.</em>" (<a href="Andrey_Kolmogorov" title="wikilink">Kolmogorov</a>; quoted in <a class="footnoteRef" href="#fn6" id="fnref6"><sup>6</sup></a>).</p>

<p>The additional input may be (a) a symmetry (invariance group); (b) a sequence of events <em>B</em><sub><em>n</em></sub> such that <em>B</em><sub><em>n</em></sub> ‚Üì <em>B</em>, P ( <em>B</em><sub><em>n</em></sub> ) &gt; 0; (c) a partition containing the given event. Measure-theoretic conditioning (below) investigates Case (c), discloses its relation to (b) in general and to (a) when applicable.</p>

<p>Some events of zero probability are beyond the reach of conditioning. An example: let <em>X</em><sub><em>n</em></sub> be independent random variables distributed uniformly on (0,1), and <em>B</em> the event "<em>X</em><sub><em>n</em></sub> ‚Üí 0 as <em>n</em> ‚Üí ‚àû"; what about P ( <em>X</em><sub><em>n</em></sub> </p>
<h2 id="conditioning-on-the-level-of-measure-theory">Conditioning on the level of measure theory</h2>

<p><strong>Example.</strong> Let <em>Y</em> be a random variable distributed uniformly on (0,1), and <em>X</em> = <em>f</em>(<em>Y</em>) where <em>f</em> is a given function. Two cases are treated below: <em>f</em> = <em>f</em><sub>1</sub> and <em>f</em> = <em>f</em><sub>2</sub>, where <em>f</em><sub>1</sub> is the continuous piecewise-linear function</p>

<p>

<math display="block" id="Conditioning_(probability):31">
 <semantics>
  <mrow>
   <mi>I</mi>
   <mo>=</mo>
   <mrow>
    <mo>{</mo>
    <mtable displaystyle="true">
     <mtr>
      <mtd columnalign="left">
       <mn>1</mn>
      </mtd>
      <mtd columnalign="left">
       <mrow>
        <mrow>
         <mrow>
          <mtext>if</mtext>
          <mi>Y</mi>
         </mrow>
         <mo>‚â§</mo>
         <mrow>
          <mn>1</mn>
          <mo>/</mo>
          <mn>3</mn>
         </mrow>
        </mrow>
        <mo>,</mo>
       </mrow>
      </mtd>
     </mtr>
     <mtr>
      <mtd columnalign="left">
       <mn>0</mn>
      </mtd>
      <mtd columnalign="left">
       <mrow>
        <mtext>otherwise</mtext>
        <mo>,</mo>
       </mrow>
      </mtd>
     </mtr>
    </mtable>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <ci>I</ci>
    <apply>
     <csymbol cd="latexml">cases</csymbol>
     <cn type="integer">1</cn>
     <apply>
      <leq></leq>
      <apply>
       <times></times>
       <mtext>if</mtext>
       <ci>Y</ci>
      </apply>
      <apply>
       <divide></divide>
       <cn type="integer">1</cn>
       <cn type="integer">3</cn>
      </apply>
     </apply>
     <cn type="integer">0</cn>
     <mtext>otherwise</mtext>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   I=\begin{cases}1&\text{if }Y\leq 1/3,\\
0&\text{otherwise},\end{cases}
  </annotation>
 </semantics>
</math>

 and <em>f</em><sub>2</sub> is the <a href="Weierstrass_function" title="wikilink">Weierstrass function</a>.</p>
<h3 id="geometric-intuition-caution-1">Geometric intuition: caution</h3>

<p>Given <em>X</em> = 0.75, two values of <em>Y</em> are possible, 0.25 and 0.5. It may seem evident that both values are of conditional probability 0.5 just because one point is <a href="Congruence_(geometry)" title="wikilink">congruent</a> to another point. However, this is an illusion; see below.</p>
<h3 id="conditional-probability-1">Conditional probability</h3>

<p>The conditional probability P ( <em>Y</em> ‚â§ 1/3 | <em>X</em> ) may be defined as the best predictor of the indicator</p>

<p>

<math display="inline" id="Conditioning_(probability):32">
 <semantics>
  <mrow>
   <mi>ùîº</mi>
   <msup>
    <mrow>
     <mo stretchy="false">(</mo>
     <mrow>
      <mi>I</mi>
      <mo>-</mo>
      <mrow>
       <mi>g</mi>
       <mrow>
        <mo stretchy="false">(</mo>
        <mi>X</mi>
        <mo stretchy="false">)</mo>
       </mrow>
      </mrow>
     </mrow>
     <mo stretchy="false">)</mo>
    </mrow>
    <mn>2</mn>
   </msup>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <times></times>
    <ci>ùîº</ci>
    <apply>
     <csymbol cd="ambiguous">superscript</csymbol>
     <apply>
      <minus></minus>
      <ci>I</ci>
      <apply>
       <times></times>
       <ci>g</ci>
       <ci>X</ci>
      </apply>
     </apply>
     <cn type="integer">2</cn>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \displaystyle\mathbb{E}(I-g(X))^{2}
  </annotation>
 </semantics>
</math>


 given <em>X</em>. That is, it minimizes the mean square error E ( <em>I</em> - <em>g</em>(<em>X</em>) )<sup>2</sup> on the class of all random variables of the form <em>g</em> (<em>X</em>).</p>

<p>In the case <em>f</em> = <em>f</em><sub>1</sub> the corresponding function <em>g</em> = <em>g</em><sub>1</sub> may be calculated explicitly,<ref group="details"> Proof:</ref></p>

<p>

<math display="block" id="Conditioning_(probability):33">
 <semantics>
  <mrow>
   <mrow>
    <msub>
     <mi>g</mi>
     <mn>1</mn>
    </msub>
    <mrow>
     <mo stretchy="false">(</mo>
     <mi>x</mi>
     <mo stretchy="false">)</mo>
    </mrow>
   </mrow>
   <mo>=</mo>
   <mrow>
    <mo>{</mo>
    <mtable displaystyle="true">
     <mtr>
      <mtd columnalign="left">
       <mn>1</mn>
      </mtd>
      <mtd columnalign="left">
       <mrow>
        <mrow>
         <mrow>
          <mtext>for</mtext>
          <mn>0</mn>
         </mrow>
         <mo><</mo>
         <mi>x</mi>
         <mo><</mo>
         <mn>0.5</mn>
        </mrow>
        <mo>,</mo>
       </mrow>
      </mtd>
     </mtr>
     <mtr>
      <mtd columnalign="left">
       <mn>0</mn>
      </mtd>
      <mtd columnalign="left">
       <mrow>
        <mrow>
         <mrow>
          <mtext>for</mtext>
          <mi>x</mi>
         </mrow>
         <mo>=</mo>
         <mn>0.5</mn>
        </mrow>
        <mo>,</mo>
       </mrow>
      </mtd>
     </mtr>
     <mtr>
      <mtd columnalign="left">
       <mrow>
        <mn>1</mn>
        <mo>/</mo>
        <mn>3</mn>
       </mrow>
      </mtd>
      <mtd columnalign="left">
       <mrow>
        <mrow>
         <mtext>for</mtext>
         <mn>0.5</mn>
        </mrow>
        <mo><</mo>
        <mi>x</mi>
        <mo><</mo>
        <mn>1.</mn>
       </mrow>
      </mtd>
     </mtr>
    </mtable>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <times></times>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <ci>g</ci>
      <cn type="integer">1</cn>
     </apply>
     <ci>x</ci>
    </apply>
    <apply>
     <csymbol cd="latexml">cases</csymbol>
     <cn type="integer">1</cn>
     <apply>
      <and></and>
      <apply>
       <lt></lt>
       <apply>
        <times></times>
        <mtext>for</mtext>
        <cn type="integer">0</cn>
       </apply>
       <ci>x</ci>
      </apply>
      <apply>
       <lt></lt>
       <share href="#.cmml">
       </share>
       <cn type="float">0.5</cn>
      </apply>
     </apply>
     <cn type="integer">0</cn>
     <apply>
      <eq></eq>
      <apply>
       <times></times>
       <mtext>for</mtext>
       <ci>x</ci>
      </apply>
      <cn type="float">0.5</cn>
     </apply>
     <apply>
      <divide></divide>
      <cn type="integer">1</cn>
      <cn type="integer">3</cn>
     </apply>
     <apply>
      <and></and>
      <apply>
       <lt></lt>
       <apply>
        <times></times>
        <mtext>for</mtext>
        <cn type="float">0.5</cn>
       </apply>
       <ci>x</ci>
      </apply>
      <apply>
       <lt></lt>
       <share href="#.cmml">
       </share>
       <cn type="float">1.</cn>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   g_{1}(x)=\begin{cases}1&\text{for }0<x<0.5,\\
0&\text{for }x=0.5,\\
1/3&\text{for }0.5<x<1.\end{cases}
  </annotation>
 </semantics>
</math>

 it remains to note that (1‚àí<em>a</em> )<sup>2</sup> + 2<em>a</em><sup>2</sup> is minimal at <em>a</em> = 1/3.</p>

<p>

<math display="block" id="Conditioning_(probability):34">
 <semantics>
  <mrow>
   <msub>
    <mi>g</mi>
    <mn>1</mn>
   </msub>
   <mrow>
    <mo stretchy="false">(</mo>
    <mi>x</mi>
    <mo stretchy="false">)</mo>
   </mrow>
   <mo>=</mo>
   <munder>
    <mo movablelimits="false">lim</mo>
    <mrow>
     <mi>Œµ</mi>
     <mo>‚Üí</mo>
     <mrow>
      <mn>0</mn>
      <mo>+</mo>
     </mrow>
    </mrow>
   </munder>
   <mi>‚Ñô</mi>
   <mrow>
    <mo stretchy="false">(</mo>
    <mi>Y</mi>
    <mo>‚â§</mo>
    <mn>1</mn>
    <mo>/</mo>
    <mn>3</mn>
    <mo stretchy="false">|</mo>
    <mi>x</mi>
    <mo>-</mo>
    <mi>Œµ</mi>
    <mo>‚â§</mo>
    <mi>X</mi>
    <mo>‚â§</mo>
    <mi>x</mi>
    <mo>+</mo>
    <mi>Œµ</mi>
    <mo rspace="4.2pt" stretchy="false">)</mo>
   </mrow>
   <mo>,</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <cerror>
    <csymbol cd="ambiguous">fragments</csymbol>
    <apply>
     <csymbol cd="ambiguous">subscript</csymbol>
     <ci>g</ci>
     <cn type="integer">1</cn>
    </apply>
    <cerror>
     <csymbol cd="ambiguous">fragments</csymbol>
     <ci>normal-(</ci>
     <csymbol cd="unknown">x</csymbol>
     <ci>normal-)</ci>
    </cerror>
    <eq></eq>
    <apply>
     <csymbol cd="ambiguous">subscript</csymbol>
     <limit></limit>
     <apply>
      <ci>normal-‚Üí</ci>
      <ci>Œµ</ci>
      <apply>
       <csymbol cd="latexml">limit-from</csymbol>
       <cn type="integer">0</cn>
       <plus></plus>
      </apply>
     </apply>
    </apply>
    <csymbol cd="unknown">P</csymbol>
    <cerror>
     <csymbol cd="ambiguous">fragments</csymbol>
     <ci>normal-(</ci>
     <csymbol cd="unknown">Y</csymbol>
     <leq></leq>
     <cn type="integer">1</cn>
     <divide></divide>
     <cn type="integer">3</cn>
     <ci>normal-|</ci>
     <csymbol cd="unknown">x</csymbol>
     <minus></minus>
     <csymbol cd="unknown">Œµ</csymbol>
     <leq></leq>
     <csymbol cd="unknown">X</csymbol>
     <leq></leq>
     <csymbol cd="unknown">x</csymbol>
     <plus></plus>
     <csymbol cd="unknown">Œµ</csymbol>
     <ci>normal-)</ci>
    </cerror>
    <ci>normal-,</ci>
   </cerror>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   g_{1}(x)=\lim_{\varepsilon\to 0+}\mathbb{P}(Y\leq 1/3|x-\varepsilon\leq X\leq x%
+\varepsilon)\,,
  </annotation>
 </semantics>
</math>

</p>

<p>Alternatively, the limiting procedure may be used,</p>

<p>

<math display="block" id="Conditioning_(probability):35">
 <semantics>
  <mrow>
   <mn>1</mn>
   <mo>‚ãÖ</mo>
   <mi>‚Ñô</mi>
   <mrow>
    <mo stretchy="false">(</mo>
    <mi>X</mi>
    <mo><</mo>
    <mn>0.5</mn>
    <mo stretchy="false">)</mo>
   </mrow>
   <mo>+</mo>
   <mn>0</mn>
   <mo>‚ãÖ</mo>
   <mi>‚Ñô</mi>
   <mrow>
    <mo stretchy="false">(</mo>
    <mi>X</mi>
    <mo>=</mo>
    <mn>0.5</mn>
    <mo stretchy="false">)</mo>
   </mrow>
   <mo>+</mo>
   <mfrac>
    <mn>1</mn>
    <mn>3</mn>
   </mfrac>
   <mo>‚ãÖ</mo>
   <mi>‚Ñô</mi>
   <mrow>
    <mo stretchy="false">(</mo>
    <mi>X</mi>
    <mo>></mo>
    <mn>0.5</mn>
    <mo stretchy="false">)</mo>
   </mrow>
   <mo>=</mo>
   <mn>1</mn>
   <mo>‚ãÖ</mo>
   <mfrac>
    <mn>1</mn>
    <mn>6</mn>
   </mfrac>
   <mo>+</mo>
   <mn>0</mn>
   <mo>‚ãÖ</mo>
   <mfrac>
    <mn>1</mn>
    <mn>3</mn>
   </mfrac>
   <mo>+</mo>
   <mfrac>
    <mn>1</mn>
    <mn>3</mn>
   </mfrac>
   <mo>‚ãÖ</mo>
   <mrow>
    <mo>(</mo>
    <mfrac>
     <mn>1</mn>
     <mn>6</mn>
    </mfrac>
    <mo>+</mo>
    <mfrac>
     <mn>1</mn>
     <mn>3</mn>
    </mfrac>
    <mo>)</mo>
   </mrow>
   <mo>=</mo>
   <mfrac>
    <mn>1</mn>
    <mn>3</mn>
   </mfrac>
   <mo>,</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <cerror>
    <csymbol cd="ambiguous">fragments</csymbol>
    <cn type="integer">1</cn>
    <ci>normal-‚ãÖ</ci>
    <csymbol cd="unknown">P</csymbol>
    <cerror>
     <csymbol cd="ambiguous">fragments</csymbol>
     <ci>normal-(</ci>
     <csymbol cd="unknown">X</csymbol>
     <lt></lt>
     <cn type="float">0.5</cn>
     <ci>normal-)</ci>
    </cerror>
    <plus></plus>
    <cn type="integer">0</cn>
    <ci>normal-‚ãÖ</ci>
    <csymbol cd="unknown">P</csymbol>
    <cerror>
     <csymbol cd="ambiguous">fragments</csymbol>
     <ci>normal-(</ci>
     <csymbol cd="unknown">X</csymbol>
     <eq></eq>
     <cn type="float">0.5</cn>
     <ci>normal-)</ci>
    </cerror>
    <plus></plus>
    <apply>
     <divide></divide>
     <cn type="integer">1</cn>
     <cn type="integer">3</cn>
    </apply>
    <ci>normal-‚ãÖ</ci>
    <csymbol cd="unknown">P</csymbol>
    <cerror>
     <csymbol cd="ambiguous">fragments</csymbol>
     <ci>normal-(</ci>
     <csymbol cd="unknown">X</csymbol>
     <gt></gt>
     <cn type="float">0.5</cn>
     <ci>normal-)</ci>
    </cerror>
    <eq></eq>
    <cn type="integer">1</cn>
    <ci>normal-‚ãÖ</ci>
    <apply>
     <divide></divide>
     <cn type="integer">1</cn>
     <cn type="integer">6</cn>
    </apply>
    <plus></plus>
    <cn type="integer">0</cn>
    <ci>normal-‚ãÖ</ci>
    <apply>
     <divide></divide>
     <cn type="integer">1</cn>
     <cn type="integer">3</cn>
    </apply>
    <plus></plus>
    <apply>
     <divide></divide>
     <cn type="integer">1</cn>
     <cn type="integer">3</cn>
    </apply>
    <ci>normal-‚ãÖ</ci>
    <cerror>
     <csymbol cd="ambiguous">fragments</csymbol>
     <ci>normal-(</ci>
     <apply>
      <divide></divide>
      <cn type="integer">1</cn>
      <cn type="integer">6</cn>
     </apply>
     <plus></plus>
     <apply>
      <divide></divide>
      <cn type="integer">1</cn>
      <cn type="integer">3</cn>
     </apply>
     <ci>normal-)</ci>
    </cerror>
    <eq></eq>
    <apply>
     <divide></divide>
     <cn type="integer">1</cn>
     <cn type="integer">3</cn>
    </apply>
    <ci>normal-,</ci>
   </cerror>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   1\cdot\mathbb{P}(X<0.5)+0\cdot\mathbb{P}(X=0.5)+\frac{1}{3}\cdot\mathbb{P}(X>0%
.5)=1\cdot\frac{1}{6}+0\cdot\frac{1}{3}+\frac{1}{3}\cdot\left(\frac{1}{6}+%
\frac{1}{3}\right)=\frac{1}{3},
  </annotation>
 </semantics>
</math>

 giving the same result.</p>

<p>Thus, P ( <em>Y</em> ‚â§ 1/3 | <em>X</em> ) = <em>g</em><sub>1</sub> (<em>X</em>). The expectation of this random variable is equal to the (unconditional) probability, E ( P ( <em>Y</em> ‚â§ 1/3 | <em>X</em> ) ) = P ( <em>Y</em> ‚â§ 1/3 ), namely,</p>

<p>

<math display="block" id="Conditioning_(probability):36">
 <semantics>
  <mrow>
   <mrow>
    <mrow>
     <msubsup>
      <mo largeop="true" symmetric="true">‚à´</mo>
      <mn>0</mn>
      <mn>1</mn>
     </msubsup>
     <mrow>
      <msub>
       <mi>g</mi>
       <mn>2</mn>
      </msub>
      <mrow>
       <mo stretchy="false">(</mo>
       <mrow>
        <msub>
         <mi>f</mi>
         <mn>2</mn>
        </msub>
        <mrow>
         <mo stretchy="false">(</mo>
         <mi>y</mi>
         <mo stretchy="false">)</mo>
        </mrow>
       </mrow>
       <mo rspace="4.2pt" stretchy="false">)</mo>
      </mrow>
      <mi mathvariant="normal">d</mi>
      <mi>y</mi>
     </mrow>
    </mrow>
    <mo>=</mo>
    <mstyle displaystyle="false">
     <mfrac>
      <mn>1</mn>
      <mn>3</mn>
     </mfrac>
    </mstyle>
   </mrow>
   <mo>.</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <apply>
      <csymbol cd="ambiguous">superscript</csymbol>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <int></int>
       <cn type="integer">0</cn>
      </apply>
      <cn type="integer">1</cn>
     </apply>
     <apply>
      <times></times>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>g</ci>
       <cn type="integer">2</cn>
      </apply>
      <apply>
       <times></times>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>f</ci>
        <cn type="integer">2</cn>
       </apply>
       <ci>y</ci>
      </apply>
      <ci>normal-d</ci>
      <ci>y</ci>
     </apply>
    </apply>
    <apply>
     <divide></divide>
     <cn type="integer">1</cn>
     <cn type="integer">3</cn>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \int_{0}^{1}g_{2}(f_{2}(y))\,\mathrm{d}y=\tfrac{1}{3}.
  </annotation>
 </semantics>
</math>

 which is an instance of the <a href="law_of_total_probability" title="wikilink">law of total probability</a> E ( P ( <em>A</em> | <em>X</em> ) ) = P ( <em>A</em> ).</p>

<p>In the case <em>f</em> = <em>f</em><sub>2</sub> the corresponding function <em>g</em> = <em>g</em><sub>2</sub> probably cannot be calculated explicitly. Nevertheless it exists, and can be computed numerically. Indeed, the <a href="Lp_space#Hilbert_spaces" title="wikilink">space</a> L<sub>2</sub> (Œ©) of all square integrable random variables is a <a href="Hilbert_space" title="wikilink">Hilbert space</a>; the indicator <em>I</em> is a vector of this space; and random variables of the form <em>g</em> (<em>X</em>) are a (closed, linear) subspace. The <a href="Hilbert_space#Orthogonal_complements_and_projections" title="wikilink">orthogonal projection</a> of this vector to this subspace is well-defined. It can be computed numerically, using <a href="Galerkin_method" title="wikilink">finite-dimensional approximations</a> to the infinite-dimensional Hilbert space.</p>

<p>Once again, the expectation of the random variable P ( <em>Y</em> ‚â§ 1/3 | <em>X</em> ) = <em>g</em><sub>2</sub> (<em>X</em>) is equal to the (unconditional) probability, E ( P ( <em>Y</em> ‚â§ 1/3 | <em>X</em> ) ) = P ( <em>Y</em> ‚â§ 1/3 ), namely,</p>

<p>

<math display="block" id="Conditioning_(probability):37">
 <semantics>
  <mrow>
   <mrow>
    <mi>g</mi>
    <mo>=</mo>
    <mfrac>
     <mrow>
      <mi mathvariant="normal">d</mi>
      <mi>ŒΩ</mi>
     </mrow>
     <mrow>
      <mi mathvariant="normal">d</mi>
      <mi>Œº</mi>
     </mrow>
    </mfrac>
   </mrow>
   <mo>,</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <ci>g</ci>
    <apply>
     <divide></divide>
     <apply>
      <times></times>
      <ci>normal-d</ci>
      <ci>ŒΩ</ci>
     </apply>
     <apply>
      <times></times>
      <ci>normal-d</ci>
      <ci>Œº</ci>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   g=\frac{\mathrm{d}\nu}{\mathrm{d}\mu},
  </annotation>
 </semantics>
</math>

</p>

<p>However, the Hilbert space approach treats <em>g</em><sub>2</sub> as an equivalence class of functions rather than an individual function. Measurability of <em>g</em><sub>2</sub> is ensured, but continuity (or even <a href="Riemann_integrability" title="wikilink">Riemann integrability</a>) is not. The value <em>g</em><sub>2</sub> (0.5) is determined uniquely, since the point 0.5 is an atom of the distribution of <em>X</em>. Other values <em>x</em> are not atoms, thus, corresponding values <em>g</em><sub>2</sub> (<em>x</em>) are not determined uniquely. Once again, "<em>the concept of a conditional probability with regard to an isolated hypothesis whose probability equals 0 is inadmissible.</em>" (<a href="Andrey_Kolmogorov" title="wikilink">Kolmogorov</a>; quoted in <a class="footnoteRef" href="#fn7" id="fnref7"><sup>7</sup></a>).</p>

<p>Alternatively, the same function <em>g</em> (be it <em>g</em><sub>1</sub> or <em>g</em><sub>2</sub>) may be defined as the <a href="Radon‚ÄìNikodym_derivative" title="wikilink">Radon‚ÄìNikodym derivative</a></p>

<p>

<math display="inline" id="Conditioning_(probability):38">
 <semantics>
  <mrow>
   <mi>Œº</mi>
   <mrow>
    <mo stretchy="false">(</mo>
    <mi>B</mi>
    <mo stretchy="false">)</mo>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <times></times>
    <ci>Œº</ci>
    <ci>B</ci>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \displaystyle\mu(B)
  </annotation>
 </semantics>
</math>


 where measures Œº, ŒΩ are defined by</p>

<p>

<math display="inline" id="Conditioning_(probability):39">
 <semantics>
  <mrow>
   <mrow>
    <mi>B</mi>
    <mo>‚äÇ</mo>
    <mi>‚Ñù</mi>
   </mrow>
   <mo>.</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <subset></subset>
    <ci>B</ci>
    <ci>‚Ñù</ci>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   B\subset\mathbb{R}.
  </annotation>
 </semantics>
</math>

 for all Borel sets 

<math display="block" id="Conditioning_(probability):40">
 <semantics>
  <mrow>
   <mi>ŒΩ</mi>
   <mrow>
    <mo stretchy="false">(</mo>
    <mi>B</mi>
    <mo stretchy="false">)</mo>
   </mrow>
   <mo>=</mo>
   <mi>‚Ñô</mi>
   <mrow>
    <mo stretchy="false">(</mo>
    <mi>X</mi>
    <mo>‚àà</mo>
    <mi>B</mi>
    <mo stretchy="false">|</mo>
    <mi>Y</mi>
    <mo>‚â§</mo>
    <mstyle displaystyle="false">
     <mfrac>
      <mn>1</mn>
      <mn>3</mn>
     </mfrac>
    </mstyle>
    <mo stretchy="false">)</mo>
   </mrow>
   <mi>‚Ñô</mi>
   <mrow>
    <mo stretchy="false">(</mo>
    <mi>Y</mi>
    <mo>‚â§</mo>
    <mstyle displaystyle="false">
     <mfrac>
      <mn>1</mn>
      <mn>3</mn>
     </mfrac>
    </mstyle>
    <mo stretchy="false">)</mo>
   </mrow>
   <mo>=</mo>
   <mstyle displaystyle="false">
    <mfrac>
     <mn>1</mn>
     <mn>3</mn>
    </mfrac>
   </mstyle>
   <mi>‚Ñô</mi>
   <mrow>
    <mo stretchy="false">(</mo>
    <mi>X</mi>
    <mo>‚àà</mo>
    <mi>B</mi>
    <mo stretchy="false">|</mo>
    <mi>Y</mi>
    <mo>‚â§</mo>
    <mstyle displaystyle="false">
     <mfrac>
      <mn>1</mn>
      <mn>3</mn>
     </mfrac>
    </mstyle>
    <mo stretchy="false">)</mo>
   </mrow>
   <mo>.</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <cerror>
    <csymbol cd="ambiguous">fragments</csymbol>
    <csymbol cd="unknown">ŒΩ</csymbol>
    <cerror>
     <csymbol cd="ambiguous">fragments</csymbol>
     <ci>normal-(</ci>
     <csymbol cd="unknown">B</csymbol>
     <ci>normal-)</ci>
    </cerror>
    <eq></eq>
    <csymbol cd="unknown">P</csymbol>
    <cerror>
     <csymbol cd="ambiguous">fragments</csymbol>
     <ci>normal-(</ci>
     <csymbol cd="unknown">X</csymbol>
     <in></in>
     <csymbol cd="unknown">B</csymbol>
     <ci>normal-|</ci>
     <csymbol cd="unknown">Y</csymbol>
     <leq></leq>
     <apply>
      <divide></divide>
      <cn type="integer">1</cn>
      <cn type="integer">3</cn>
     </apply>
     <ci>normal-)</ci>
    </cerror>
    <csymbol cd="unknown">P</csymbol>
    <cerror>
     <csymbol cd="ambiguous">fragments</csymbol>
     <ci>normal-(</ci>
     <csymbol cd="unknown">Y</csymbol>
     <leq></leq>
     <apply>
      <divide></divide>
      <cn type="integer">1</cn>
      <cn type="integer">3</cn>
     </apply>
     <ci>normal-)</ci>
    </cerror>
    <eq></eq>
    <apply>
     <divide></divide>
     <cn type="integer">1</cn>
     <cn type="integer">3</cn>
    </apply>
    <csymbol cd="unknown">P</csymbol>
    <cerror>
     <csymbol cd="ambiguous">fragments</csymbol>
     <ci>normal-(</ci>
     <csymbol cd="unknown">X</csymbol>
     <in></in>
     <csymbol cd="unknown">B</csymbol>
     <ci>normal-|</ci>
     <csymbol cd="unknown">Y</csymbol>
     <leq></leq>
     <apply>
      <divide></divide>
      <cn type="integer">1</cn>
      <cn type="integer">3</cn>
     </apply>
     <ci>normal-)</ci>
    </cerror>
    <ci>normal-.</ci>
   </cerror>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \nu(B)=\mathbb{P}(X\in B|Y\leq\tfrac{1}{3})\mathbb{P}(Y\leq\tfrac{1}{3})=%
\tfrac{1}{3}\mathbb{P}(X\in B|Y\leq\tfrac{1}{3}).
  </annotation>
 </semantics>
</math>

 That is, Œº is the (unconditional) distribution of <em>X</em>, while ŒΩ is one third of its conditional distribution,</p>

<p>

<math display="inline" id="Conditioning_(probability):41">
 <semantics>
  <mrow>
   <mi>ùîº</mi>
   <msup>
    <mrow>
     <mo stretchy="false">(</mo>
     <mrow>
      <mi>Y</mi>
      <mo>-</mo>
      <mrow>
       <msub>
        <mi>h</mi>
        <mn>1</mn>
       </msub>
       <mrow>
        <mo stretchy="false">(</mo>
        <mi>X</mi>
        <mo stretchy="false">)</mo>
       </mrow>
      </mrow>
     </mrow>
     <mo stretchy="false">)</mo>
    </mrow>
    <mn>2</mn>
   </msup>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <times></times>
    <ci>ùîº</ci>
    <apply>
     <csymbol cd="ambiguous">superscript</csymbol>
     <apply>
      <minus></minus>
      <ci>Y</ci>
      <apply>
       <times></times>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>h</ci>
        <cn type="integer">1</cn>
       </apply>
       <ci>X</ci>
      </apply>
     </apply>
     <cn type="integer">2</cn>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \displaystyle\mathbb{E}(Y-h_{1}(X))^{2}
  </annotation>
 </semantics>
</math>


</p>

<p>Both approaches (via the Hilbert space, and via the Radon‚ÄìNikodym derivative) treat <em>g</em> as an equivalence class of functions; two functions <em>g</em> and <em>g‚Ä≤</em> are treated as equivalent, if <em>g</em> (<em>X</em>) = <em>g‚Ä≤</em> (<em>X</em>) almost surely. Accordingly, the conditional probability P ( <em>Y</em> ‚â§ 1/3 | <em>X</em> ) is treated as an equivalence class of random variables; as usual, two random variables are treated as equivalent if they are equal almost surely.</p>
<h3 id="conditional-expectation-2">Conditional expectation</h3>

<p>The conditional expectation E ( <em>Y</em> | <em>X</em> ) may be defined as the best predictor of <em>Y</em> given <em>X</em>. That is, it minimizes the mean square error E ( <em>Y</em> - <em>h</em>(<em>X</em>) )<sup>2</sup> on the class of all random variables of the form <em>h</em>(<em>X</em>).</p>

<p>In the case <em>f</em> = <em>f</em><sub>1</sub> the corresponding function <em>h</em> = <em>h</em><sub>1</sub> may be calculated explicitly,<ref group="details"> Proof:</ref></p>

<p>

<math display="block" id="Conditioning_(probability):42">
 <semantics>
  <mrow>
   <msup>
    <mrow>
     <mo>(</mo>
     <mrow>
      <mi>a</mi>
      <mo>-</mo>
      <mfrac>
       <mi>x</mi>
       <mn>3</mn>
      </mfrac>
     </mrow>
     <mo>)</mo>
    </mrow>
    <mn>2</mn>
   </msup>
   <mo>+</mo>
   <mrow>
    <mn>2</mn>
    <msup>
     <mrow>
      <mo>(</mo>
      <mrow>
       <mrow>
        <mi>a</mi>
        <mo>-</mo>
        <mn>1</mn>
       </mrow>
       <mo>+</mo>
       <mfrac>
        <mrow>
         <mn>2</mn>
         <mi>x</mi>
        </mrow>
        <mn>3</mn>
       </mfrac>
      </mrow>
      <mo>)</mo>
     </mrow>
     <mn>2</mn>
    </msup>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <plus></plus>
    <apply>
     <csymbol cd="ambiguous">superscript</csymbol>
     <apply>
      <minus></minus>
      <ci>a</ci>
      <apply>
       <divide></divide>
       <ci>x</ci>
       <cn type="integer">3</cn>
      </apply>
     </apply>
     <cn type="integer">2</cn>
    </apply>
    <apply>
     <times></times>
     <cn type="integer">2</cn>
     <apply>
      <csymbol cd="ambiguous">superscript</csymbol>
      <apply>
       <plus></plus>
       <apply>
        <minus></minus>
        <ci>a</ci>
        <cn type="integer">1</cn>
       </apply>
       <apply>
        <divide></divide>
        <apply>
         <times></times>
         <cn type="integer">2</cn>
         <ci>x</ci>
        </apply>
        <cn type="integer">3</cn>
       </apply>
      </apply>
      <cn type="integer">2</cn>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \left(a-\frac{x}{3}\right)^{2}+2\left(a-1+\frac{2x}{3}\right)^{2}
  </annotation>
 </semantics>
</math>

</p>

<p>it remains to note that</p>

<p>

<math display="inline" id="Conditioning_(probability):43">
 <semantics>
  <mrow>
   <mrow>
    <mi>a</mi>
    <mo>=</mo>
    <mfrac>
     <mrow>
      <mn>2</mn>
      <mo>-</mo>
      <mi>x</mi>
     </mrow>
     <mn>3</mn>
    </mfrac>
   </mrow>
   <mo>,</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <ci>a</ci>
    <apply>
     <divide></divide>
     <apply>
      <minus></minus>
      <cn type="integer">2</cn>
      <ci>x</ci>
     </apply>
     <cn type="integer">3</cn>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   a=\frac{2-x}{3},
  </annotation>
 </semantics>
</math>

 is minimal at 

<math display="inline" id="Conditioning_(probability):44">
 <semantics>
  <mrow>
   <mrow>
    <mfrac>
     <mn>1</mn>
     <mn>3</mn>
    </mfrac>
    <msup>
     <mi>a</mi>
     <mn>2</mn>
    </msup>
   </mrow>
   <mo>-</mo>
   <mrow>
    <mfrac>
     <mn>5</mn>
     <mn>9</mn>
    </mfrac>
    <mi>a</mi>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <minus></minus>
    <apply>
     <times></times>
     <apply>
      <divide></divide>
      <cn type="integer">1</cn>
      <cn type="integer">3</cn>
     </apply>
     <apply>
      <csymbol cd="ambiguous">superscript</csymbol>
      <ci>a</ci>
      <cn type="integer">2</cn>
     </apply>
    </apply>
    <apply>
     <times></times>
     <apply>
      <divide></divide>
      <cn type="integer">5</cn>
      <cn type="integer">9</cn>
     </apply>
     <ci>a</ci>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \frac{1}{3}a^{2}-\frac{5}{9}a
  </annotation>
 </semantics>
</math>

 and 

<math display="inline" id="Conditioning_(probability):45">
 <semantics>
  <mrow>
   <mrow>
    <mi>a</mi>
    <mo>=</mo>
    <mfrac>
     <mn>5</mn>
     <mn>6</mn>
    </mfrac>
   </mrow>
   <mo>.</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <ci>a</ci>
    <apply>
     <divide></divide>
     <cn type="integer">5</cn>
     <cn type="integer">6</cn>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   a=\tfrac{5}{6}.
  </annotation>
 </semantics>
</math>

 is minimal at 

<math display="block" id="Conditioning_(probability):46">
 <semantics>
  <mrow>
   <mrow>
    <msub>
     <mi>h</mi>
     <mn>1</mn>
    </msub>
    <mrow>
     <mo stretchy="false">(</mo>
     <mi>x</mi>
     <mo stretchy="false">)</mo>
    </mrow>
   </mrow>
   <mo>=</mo>
   <mrow>
    <mo>{</mo>
    <mtable displaystyle="true">
     <mtr>
      <mtd columnalign="left">
       <mrow>
        <mi>x</mi>
        <mo>/</mo>
        <mn>3</mn>
       </mrow>
      </mtd>
      <mtd columnalign="left">
       <mrow>
        <mrow>
         <mrow>
          <mtext>for</mtext>
          <mn>0</mn>
         </mrow>
         <mo><</mo>
         <mi>x</mi>
         <mo><</mo>
         <mn>0.5</mn>
        </mrow>
        <mo>,</mo>
       </mrow>
      </mtd>
     </mtr>
     <mtr>
      <mtd columnalign="left">
       <mrow>
        <mn>5</mn>
        <mo>/</mo>
        <mn>6</mn>
       </mrow>
      </mtd>
      <mtd columnalign="left">
       <mrow>
        <mrow>
         <mrow>
          <mtext>for</mtext>
          <mi>x</mi>
         </mrow>
         <mo>=</mo>
         <mn>0.5</mn>
        </mrow>
        <mo>,</mo>
       </mrow>
      </mtd>
     </mtr>
     <mtr>
      <mtd columnalign="left">
       <mrow>
        <mrow>
         <mo stretchy="false">(</mo>
         <mrow>
          <mn>2</mn>
          <mo>-</mo>
          <mi>x</mi>
         </mrow>
         <mo stretchy="false">)</mo>
        </mrow>
        <mo>/</mo>
        <mn>3</mn>
       </mrow>
      </mtd>
      <mtd columnalign="left">
       <mrow>
        <mrow>
         <mrow>
          <mtext>for</mtext>
          <mn>0.5</mn>
         </mrow>
         <mo><</mo>
         <mi>x</mi>
         <mo><</mo>
         <mn>1</mn>
        </mrow>
        <mo>,</mo>
       </mrow>
      </mtd>
     </mtr>
    </mtable>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <times></times>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <ci>h</ci>
      <cn type="integer">1</cn>
     </apply>
     <ci>x</ci>
    </apply>
    <apply>
     <csymbol cd="latexml">cases</csymbol>
     <apply>
      <divide></divide>
      <ci>x</ci>
      <cn type="integer">3</cn>
     </apply>
     <apply>
      <and></and>
      <apply>
       <lt></lt>
       <apply>
        <times></times>
        <mtext>for</mtext>
        <cn type="integer">0</cn>
       </apply>
       <ci>x</ci>
      </apply>
      <apply>
       <lt></lt>
       <share href="#.cmml">
       </share>
       <cn type="float">0.5</cn>
      </apply>
     </apply>
     <apply>
      <divide></divide>
      <cn type="integer">5</cn>
      <cn type="integer">6</cn>
     </apply>
     <apply>
      <eq></eq>
      <apply>
       <times></times>
       <mtext>for</mtext>
       <ci>x</ci>
      </apply>
      <cn type="float">0.5</cn>
     </apply>
     <apply>
      <divide></divide>
      <apply>
       <minus></minus>
       <cn type="integer">2</cn>
       <ci>x</ci>
      </apply>
      <cn type="integer">3</cn>
     </apply>
     <apply>
      <and></and>
      <apply>
       <lt></lt>
       <apply>
        <times></times>
        <mtext>for</mtext>
        <cn type="float">0.5</cn>
       </apply>
       <ci>x</ci>
      </apply>
      <apply>
       <lt></lt>
       <share href="#.cmml">
       </share>
       <cn type="integer">1</cn>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   h_{1}(x)=\begin{cases}x/3&\text{for }0<x<0.5,\\
5/6&\text{for }x=0.5,\\
(2-x)/3&\text{for }0.5<x<1,\end{cases}
  </annotation>
 </semantics>
</math>

</p>

<p>

<math display="block" id="Conditioning_(probability):47">
 <semantics>
  <mrow>
   <msub>
    <mi>h</mi>
    <mn>1</mn>
   </msub>
   <mrow>
    <mo stretchy="false">(</mo>
    <mi>x</mi>
    <mo stretchy="false">)</mo>
   </mrow>
   <mo>=</mo>
   <munder>
    <mo movablelimits="false">lim</mo>
    <mrow>
     <mi>Œµ</mi>
     <mo>‚Üí</mo>
     <mrow>
      <mn>0</mn>
      <mo>+</mo>
     </mrow>
    </mrow>
   </munder>
   <mi>ùîº</mi>
   <mrow>
    <mo stretchy="false">(</mo>
    <mi>Y</mi>
    <mo stretchy="false">|</mo>
    <mi>x</mi>
    <mo>-</mo>
    <mi>Œµ</mi>
    <mo>‚â§</mo>
    <mi>X</mi>
    <mo>‚â§</mo>
    <mi>x</mi>
    <mo>+</mo>
    <mi>Œµ</mi>
    <mo stretchy="false">)</mo>
   </mrow>
   <mo>,</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <cerror>
    <csymbol cd="ambiguous">fragments</csymbol>
    <apply>
     <csymbol cd="ambiguous">subscript</csymbol>
     <ci>h</ci>
     <cn type="integer">1</cn>
    </apply>
    <cerror>
     <csymbol cd="ambiguous">fragments</csymbol>
     <ci>normal-(</ci>
     <csymbol cd="unknown">x</csymbol>
     <ci>normal-)</ci>
    </cerror>
    <eq></eq>
    <apply>
     <csymbol cd="ambiguous">subscript</csymbol>
     <limit></limit>
     <apply>
      <ci>normal-‚Üí</ci>
      <ci>Œµ</ci>
      <apply>
       <csymbol cd="latexml">limit-from</csymbol>
       <cn type="integer">0</cn>
       <plus></plus>
      </apply>
     </apply>
    </apply>
    <csymbol cd="unknown">E</csymbol>
    <cerror>
     <csymbol cd="ambiguous">fragments</csymbol>
     <ci>normal-(</ci>
     <csymbol cd="unknown">Y</csymbol>
     <ci>normal-|</ci>
     <csymbol cd="unknown">x</csymbol>
     <minus></minus>
     <csymbol cd="unknown">Œµ</csymbol>
     <leq></leq>
     <csymbol cd="unknown">X</csymbol>
     <leq></leq>
     <csymbol cd="unknown">x</csymbol>
     <plus></plus>
     <csymbol cd="unknown">Œµ</csymbol>
     <ci>normal-)</ci>
    </cerror>
    <ci>normal-,</ci>
   </cerror>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   h_{1}(x)=\lim_{\varepsilon\to 0+}\mathbb{E}(Y|x-\varepsilon\leq X\leq x+%
\varepsilon),
  </annotation>
 </semantics>
</math>

</p>

<p>Alternatively, the limiting procedure may be used,</p>

<p>

<math display="inline" id="Conditioning_(probability):48">
 <semantics>
  <mrow>
   <mrow>
    <mstyle displaystyle="true">
     <msubsup>
      <mo largeop="true" symmetric="true">‚à´</mo>
      <mn>0</mn>
      <mn>1</mn>
     </msubsup>
    </mstyle>
    <mrow>
     <msub>
      <mi>h</mi>
      <mn>1</mn>
     </msub>
     <mrow>
      <mo stretchy="false">(</mo>
      <mrow>
       <msub>
        <mi>f</mi>
        <mn>1</mn>
       </msub>
       <mrow>
        <mo stretchy="false">(</mo>
        <mi>y</mi>
        <mo stretchy="false">)</mo>
       </mrow>
      </mrow>
      <mo rspace="4.2pt" stretchy="false">)</mo>
     </mrow>
     <mi mathvariant="normal">d</mi>
     <mi>y</mi>
    </mrow>
   </mrow>
   <mo>=</mo>
   <mrow>
    <mrow>
     <mstyle displaystyle="true">
      <msubsup>
       <mo largeop="true" symmetric="true">‚à´</mo>
       <mn>0</mn>
       <mrow>
        <mn>1</mn>
        <mo>/</mo>
        <mn>6</mn>
       </mrow>
      </msubsup>
     </mstyle>
     <mrow>
      <mpadded width="+1.7pt">
       <mstyle displaystyle="true">
        <mfrac>
         <mrow>
          <mn>3</mn>
          <mi>y</mi>
         </mrow>
         <mn>3</mn>
        </mfrac>
       </mstyle>
      </mpadded>
      <mi mathvariant="normal">d</mi>
      <mi>y</mi>
     </mrow>
    </mrow>
    <mo>+</mo>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <apply>
      <csymbol cd="ambiguous">superscript</csymbol>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <int></int>
       <cn type="integer">0</cn>
      </apply>
      <cn type="integer">1</cn>
     </apply>
     <apply>
      <times></times>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>h</ci>
       <cn type="integer">1</cn>
      </apply>
      <apply>
       <times></times>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>f</ci>
        <cn type="integer">1</cn>
       </apply>
       <ci>y</ci>
      </apply>
      <ci>normal-d</ci>
      <ci>y</ci>
     </apply>
    </apply>
    <apply>
     <csymbol cd="latexml">limit-from</csymbol>
     <apply>
      <apply>
       <csymbol cd="ambiguous">superscript</csymbol>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <int></int>
        <cn type="integer">0</cn>
       </apply>
       <apply>
        <divide></divide>
        <cn type="integer">1</cn>
        <cn type="integer">6</cn>
       </apply>
      </apply>
      <apply>
       <times></times>
       <apply>
        <divide></divide>
        <apply>
         <times></times>
         <cn type="integer">3</cn>
         <ci>y</ci>
        </apply>
        <cn type="integer">3</cn>
       </apply>
       <ci>normal-d</ci>
       <ci>y</ci>
      </apply>
     </apply>
     <plus></plus>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \displaystyle\int_{0}^{1}h_{1}(f_{1}(y))\,\mathrm{d}y=\int_{0}^{1/6}\frac{3y}{%
3}\,\mathrm{d}y+
  </annotation>
 </semantics>
</math>


 giving the same result.</p>

<p>Thus, E ( <em>Y</em> | <em>X</em> ) = <em>h</em><sub>1</sub> (<em>X</em>). The expectation of this random variable is equal to the (unconditional) expectation, E ( E ( <em>Y</em> | <em>X</em> ) ) = E ( <em>Y</em> ), namely,</p>

<p>

<math display="block" id="Conditioning_(probability):49">
 <semantics>
  <mrow>
   <mrow>
    <mi>h</mi>
    <mo>=</mo>
    <mpadded width="+1.7pt">
     <mfrac>
      <mrow>
       <mi mathvariant="normal">d</mi>
       <mi>ŒΩ</mi>
      </mrow>
      <mrow>
       <mi mathvariant="normal">d</mi>
       <mi>Œº</mi>
      </mrow>
     </mfrac>
    </mpadded>
   </mrow>
   <mo>,</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <ci>h</ci>
    <apply>
     <divide></divide>
     <apply>
      <times></times>
      <ci>normal-d</ci>
      <ci>ŒΩ</ci>
     </apply>
     <apply>
      <times></times>
      <ci>normal-d</ci>
      <ci>Œº</ci>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   h=\frac{\mathrm{d}\nu}{\mathrm{d}\mu}\,,
  </annotation>
 </semantics>
</math>

 which is an instance of the <a href="law_of_total_expectation" title="wikilink">law of total expectation</a> E ( E ( <em>Y</em> | <em>X</em> ) ) = E ( <em>Y</em> ).</p>

<p>In the case <em>f</em> = <em>f</em><sub>2</sub> the corresponding function <em>h</em> = <em>h</em><sub>2</sub> probably cannot be calculated explicitly. Nevertheless it exists, and can be computed numerically in the same way as <em>g</em><sub>2</sub> above, ‚Äî as the orthogonal projection in the Hilbert space. The law of total expectation holds, since the projection cannot change the scalar product by the constant 1 belonging to the subspace.</p>

<p>Alternatively, the same function <em>h</em> (be it <em>h</em><sub>1</sub> or <em>h</em><sub>2</sub>) may be defined as the <a href="Radon‚ÄìNikodym_derivative" title="wikilink">Radon‚ÄìNikodym derivative</a></p>

<p>

<math display="inline" id="Conditioning_(probability):50">
 <semantics>
  <mrow>
   <mi>Œº</mi>
   <mrow>
    <mo stretchy="false">(</mo>
    <mi>B</mi>
    <mo stretchy="false">)</mo>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <times></times>
    <ci>Œº</ci>
    <ci>B</ci>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \displaystyle\mu(B)
  </annotation>
 </semantics>
</math>


 where measures Œº, ŒΩ are defined by</p>

<p>

<math display="inline" id="Conditioning_(probability):51">
 <semantics>
  <mrow>
   <mrow>
    <mi>B</mi>
    <mo>‚äÇ</mo>
    <mi>‚Ñù</mi>
   </mrow>
   <mo>.</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <subset></subset>
    <ci>B</ci>
    <ci>‚Ñù</ci>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   B\subset\mathbb{R}.
  </annotation>
 </semantics>
</math>

 for all Borel sets 

<math display="block" id="Conditioning_(probability):52">
 <semantics>
  <mrow>
   <msub>
    <mi>F</mi>
    <mrow>
     <mi>Y</mi>
     <mo stretchy="false">|</mo>
     <mi>X</mi>
     <mo>=</mo>
     <mfrac>
      <mn>3</mn>
      <mn>4</mn>
     </mfrac>
    </mrow>
   </msub>
   <mrow>
    <mo stretchy="false">(</mo>
    <mi>y</mi>
    <mo stretchy="false">)</mo>
   </mrow>
   <mo>=</mo>
   <mi>‚Ñô</mi>
   <mrow>
    <mo>(</mo>
    <mi>Y</mi>
    <mo>‚â§</mo>
    <mi>y</mi>
    <mo stretchy="false">|</mo>
    <mi>X</mi>
    <mo>=</mo>
    <mstyle displaystyle="false">
     <mfrac>
      <mn>3</mn>
      <mn>4</mn>
     </mfrac>
    </mstyle>
    <mo>)</mo>
   </mrow>
   <mo>=</mo>
   <munder>
    <mo movablelimits="false">lim</mo>
    <mrow>
     <mi>Œµ</mi>
     <mo>‚Üí</mo>
     <msup>
      <mn>0</mn>
      <mo>+</mo>
     </msup>
    </mrow>
   </munder>
   <mi>‚Ñô</mi>
   <mrow>
    <mo>(</mo>
    <mi>Y</mi>
    <mo>‚â§</mo>
    <mi>y</mi>
    <mo stretchy="false">|</mo>
    <mstyle displaystyle="false">
     <mfrac>
      <mn>3</mn>
      <mn>4</mn>
     </mfrac>
    </mstyle>
    <mo>-</mo>
    <mi>Œµ</mi>
    <mo>‚â§</mo>
    <mi>X</mi>
    <mo>‚â§</mo>
    <mstyle displaystyle="false">
     <mfrac>
      <mn>3</mn>
      <mn>4</mn>
     </mfrac>
    </mstyle>
    <mo>+</mo>
    <mi>Œµ</mi>
    <mo>)</mo>
   </mrow>
   <mo>=</mo>
   <mrow>
    <mo>{</mo>
    <mtable displaystyle="true">
     <mtr>
      <mtd columnalign="left">
       <mn>0</mn>
      </mtd>
      <mtd columnalign="left">
       <mrow>
        <mrow>
         <mrow>
          <mtext>for</mtext>
          <mo>-</mo>
          <mi mathvariant="normal">‚àû</mi>
         </mrow>
         <mo><</mo>
         <mi>y</mi>
         <mo><</mo>
         <mstyle displaystyle="false">
          <mfrac>
           <mn>1</mn>
           <mn>4</mn>
          </mfrac>
         </mstyle>
        </mrow>
        <mo>,</mo>
       </mrow>
      </mtd>
     </mtr>
     <mtr>
      <mtd columnalign="left">
       <mstyle displaystyle="false">
        <mfrac>
         <mn>1</mn>
         <mn>6</mn>
        </mfrac>
       </mstyle>
      </mtd>
      <mtd columnalign="left">
       <mrow>
        <mrow>
         <mrow>
          <mtext>for</mtext>
          <mi>y</mi>
         </mrow>
         <mo>=</mo>
         <mstyle displaystyle="false">
          <mfrac>
           <mn>1</mn>
           <mn>4</mn>
          </mfrac>
         </mstyle>
        </mrow>
        <mo>,</mo>
       </mrow>
      </mtd>
     </mtr>
     <mtr>
      <mtd columnalign="left">
       <mstyle displaystyle="false">
        <mfrac>
         <mn>1</mn>
         <mn>3</mn>
        </mfrac>
       </mstyle>
      </mtd>
      <mtd columnalign="left">
       <mrow>
        <mrow>
         <mrow>
          <mtext>for</mtext>
          <mstyle displaystyle="false">
           <mfrac>
            <mn>1</mn>
            <mn>4</mn>
           </mfrac>
          </mstyle>
         </mrow>
         <mo><</mo>
         <mi>y</mi>
         <mo><</mo>
         <mstyle displaystyle="false">
          <mfrac>
           <mn>1</mn>
           <mn>2</mn>
          </mfrac>
         </mstyle>
        </mrow>
        <mo>,</mo>
       </mrow>
      </mtd>
     </mtr>
     <mtr>
      <mtd columnalign="left">
       <mstyle displaystyle="false">
        <mfrac>
         <mn>2</mn>
         <mn>3</mn>
        </mfrac>
       </mstyle>
      </mtd>
      <mtd columnalign="left">
       <mrow>
        <mrow>
         <mrow>
          <mtext>for</mtext>
          <mi>y</mi>
         </mrow>
         <mo>=</mo>
         <mstyle displaystyle="false">
          <mfrac>
           <mn>1</mn>
           <mn>2</mn>
          </mfrac>
         </mstyle>
        </mrow>
        <mo>,</mo>
       </mrow>
      </mtd>
     </mtr>
     <mtr>
      <mtd columnalign="left">
       <mn>1</mn>
      </mtd>
      <mtd columnalign="left">
       <mrow>
        <mrow>
         <mrow>
          <mtext>for</mtext>
          <mstyle displaystyle="false">
           <mfrac>
            <mn>1</mn>
            <mn>2</mn>
           </mfrac>
          </mstyle>
         </mrow>
         <mo><</mo>
         <mi>y</mi>
         <mo><</mo>
         <mi mathvariant="normal">‚àû</mi>
        </mrow>
        <mo>,</mo>
       </mrow>
      </mtd>
     </mtr>
    </mtable>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <cerror>
    <csymbol cd="ambiguous">fragments</csymbol>
    <apply>
     <csymbol cd="ambiguous">subscript</csymbol>
     <ci>F</ci>
     <cerror>
      <csymbol cd="ambiguous">fragments</csymbol>
      <csymbol cd="unknown">Y</csymbol>
      <ci>normal-|</ci>
      <csymbol cd="unknown">X</csymbol>
      <eq></eq>
      <apply>
       <divide></divide>
       <cn type="integer">3</cn>
       <cn type="integer">4</cn>
      </apply>
     </cerror>
    </apply>
    <cerror>
     <csymbol cd="ambiguous">fragments</csymbol>
     <ci>normal-(</ci>
     <csymbol cd="unknown">y</csymbol>
     <ci>normal-)</ci>
    </cerror>
    <eq></eq>
    <csymbol cd="unknown">P</csymbol>
    <cerror>
     <csymbol cd="ambiguous">fragments</csymbol>
     <ci>normal-(</ci>
     <csymbol cd="unknown">Y</csymbol>
     <leq></leq>
     <csymbol cd="unknown">y</csymbol>
     <ci>normal-|</ci>
     <csymbol cd="unknown">X</csymbol>
     <eq></eq>
     <apply>
      <divide></divide>
      <cn type="integer">3</cn>
      <cn type="integer">4</cn>
     </apply>
     <ci>normal-)</ci>
    </cerror>
    <eq></eq>
    <apply>
     <csymbol cd="ambiguous">subscript</csymbol>
     <limit></limit>
     <apply>
      <ci>normal-‚Üí</ci>
      <ci>Œµ</ci>
      <apply>
       <csymbol cd="ambiguous">superscript</csymbol>
       <cn type="integer">0</cn>
       <plus></plus>
      </apply>
     </apply>
    </apply>
    <csymbol cd="unknown">P</csymbol>
    <cerror>
     <csymbol cd="ambiguous">fragments</csymbol>
     <ci>normal-(</ci>
     <csymbol cd="unknown">Y</csymbol>
     <leq></leq>
     <csymbol cd="unknown">y</csymbol>
     <ci>normal-|</ci>
     <apply>
      <divide></divide>
      <cn type="integer">3</cn>
      <cn type="integer">4</cn>
     </apply>
     <minus></minus>
     <csymbol cd="unknown">Œµ</csymbol>
     <leq></leq>
     <csymbol cd="unknown">X</csymbol>
     <leq></leq>
     <apply>
      <divide></divide>
      <cn type="integer">3</cn>
      <cn type="integer">4</cn>
     </apply>
     <plus></plus>
     <csymbol cd="unknown">Œµ</csymbol>
     <ci>normal-)</ci>
    </cerror>
    <eq></eq>
    <apply>
     <csymbol cd="latexml">cases</csymbol>
     <cn type="integer">0</cn>
     <apply>
      <and></and>
      <apply>
       <lt></lt>
       <apply>
        <minus></minus>
        <mtext>for</mtext>
        <infinity></infinity>
       </apply>
       <ci>y</ci>
      </apply>
      <apply>
       <lt></lt>
       <share href="#.cmml">
       </share>
       <apply>
        <divide></divide>
        <cn type="integer">1</cn>
        <cn type="integer">4</cn>
       </apply>
      </apply>
     </apply>
     <apply>
      <divide></divide>
      <cn type="integer">1</cn>
      <cn type="integer">6</cn>
     </apply>
     <apply>
      <eq></eq>
      <apply>
       <times></times>
       <mtext>for</mtext>
       <ci>y</ci>
      </apply>
      <apply>
       <divide></divide>
       <cn type="integer">1</cn>
       <cn type="integer">4</cn>
      </apply>
     </apply>
     <apply>
      <divide></divide>
      <cn type="integer">1</cn>
      <cn type="integer">3</cn>
     </apply>
     <apply>
      <and></and>
      <apply>
       <lt></lt>
       <apply>
        <times></times>
        <mtext>for</mtext>
        <apply>
         <divide></divide>
         <cn type="integer">1</cn>
         <cn type="integer">4</cn>
        </apply>
       </apply>
       <ci>y</ci>
      </apply>
      <apply>
       <lt></lt>
       <share href="#.cmml">
       </share>
       <apply>
        <divide></divide>
        <cn type="integer">1</cn>
        <cn type="integer">2</cn>
       </apply>
      </apply>
     </apply>
     <apply>
      <divide></divide>
      <cn type="integer">2</cn>
      <cn type="integer">3</cn>
     </apply>
     <apply>
      <eq></eq>
      <apply>
       <times></times>
       <mtext>for</mtext>
       <ci>y</ci>
      </apply>
      <apply>
       <divide></divide>
       <cn type="integer">1</cn>
       <cn type="integer">2</cn>
      </apply>
     </apply>
     <cn type="integer">1</cn>
     <apply>
      <and></and>
      <apply>
       <lt></lt>
       <apply>
        <times></times>
        <mtext>for</mtext>
        <apply>
         <divide></divide>
         <cn type="integer">1</cn>
         <cn type="integer">2</cn>
        </apply>
       </apply>
       <ci>y</ci>
      </apply>
      <apply>
       <lt></lt>
       <share href="#.cmml">
       </share>
       <infinity></infinity>
      </apply>
     </apply>
    </apply>
   </cerror>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   F_{Y|X=\frac{3}{4}}(y)=\mathbb{P}\left(Y\leq y|X=\tfrac{3}{4}\right)=\lim_{%
\varepsilon\to 0^{+}}\mathbb{P}\left(Y\leq y|\tfrac{3}{4}-\varepsilon\leq X%
\leq\tfrac{3}{4}+\varepsilon\right)=\begin{cases}0&\text{for }-\infty<y<\tfrac%
{1}{4},\\
\tfrac{1}{6}&\text{for }y=\tfrac{1}{4},\\
\tfrac{1}{3}&\text{for }\tfrac{1}{4}<y<\tfrac{1}{2},\\
\tfrac{2}{3}&\text{for }y=\tfrac{1}{2},\\
1&\text{for }\tfrac{1}{2}<y<\infty,\end{cases}
  </annotation>
 </semantics>
</math>

 Here E ( <em>Y</em>; <em>A</em> ) is the restricted expectation, not to be confused with the conditional expectation E ( <em>Y</em> | <em>A</em> ) = E (<em>Y</em>; <em>A</em> ) / P ( <em>A</em> ).</p>
<h3 id="conditional-distribution-2">Conditional distribution</h3>

<p>In the case <em>f</em> = <em>f</em><sub>1</sub> the conditional <a href="cumulative_distribution_function" title="wikilink">cumulative distribution function</a> may be calculated explicitly, similarly to <em>g</em><sub>1</sub>. The limiting procedure gives</p>

<p>

<math display="block" id="Conditioning_(probability):53">
 <semantics>
  <mrow>
   <msub>
    <mi>F</mi>
    <mrow>
     <mi>Y</mi>
     <mo stretchy="false">|</mo>
     <mi>X</mi>
     <mo>=</mo>
     <mfrac>
      <mn>3</mn>
      <mn>4</mn>
     </mfrac>
    </mrow>
   </msub>
   <mrow>
    <mo stretchy="false">(</mo>
    <mi>y</mi>
    <mo stretchy="false">)</mo>
   </mrow>
   <mo>=</mo>
   <mi>‚Ñô</mi>
   <mrow>
    <mo>(</mo>
    <mi>Y</mi>
    <mo>‚â§</mo>
    <mi>y</mi>
    <mo stretchy="false">|</mo>
    <mi>X</mi>
    <mo>=</mo>
    <mstyle displaystyle="false">
     <mfrac>
      <mn>3</mn>
      <mn>4</mn>
     </mfrac>
    </mstyle>
    <mo>)</mo>
   </mrow>
   <mo>=</mo>
   <mrow>
    <mo>{</mo>
    <mtable displaystyle="true">
     <mtr>
      <mtd columnalign="left">
       <mn>0</mn>
      </mtd>
      <mtd columnalign="left">
       <mrow>
        <mrow>
         <mrow>
          <mtext>for</mtext>
          <mo>-</mo>
          <mi mathvariant="normal">‚àû</mi>
         </mrow>
         <mo><</mo>
         <mi>y</mi>
         <mo><</mo>
         <mstyle displaystyle="false">
          <mfrac>
           <mn>1</mn>
           <mn>4</mn>
          </mfrac>
         </mstyle>
        </mrow>
        <mo>,</mo>
       </mrow>
      </mtd>
     </mtr>
     <mtr>
      <mtd columnalign="left">
       <mstyle displaystyle="false">
        <mfrac>
         <mn>1</mn>
         <mn>3</mn>
        </mfrac>
       </mstyle>
      </mtd>
      <mtd columnalign="left">
       <mrow>
        <mrow>
         <mrow>
          <mtext>for</mtext>
          <mstyle displaystyle="false">
           <mfrac>
            <mn>1</mn>
            <mn>4</mn>
           </mfrac>
          </mstyle>
         </mrow>
         <mo>‚â§</mo>
         <mi>y</mi>
         <mo><</mo>
         <mstyle displaystyle="false">
          <mfrac>
           <mn>1</mn>
           <mn>2</mn>
          </mfrac>
         </mstyle>
        </mrow>
        <mo>,</mo>
       </mrow>
      </mtd>
     </mtr>
     <mtr>
      <mtd columnalign="left">
       <mn>1</mn>
      </mtd>
      <mtd columnalign="left">
       <mrow>
        <mrow>
         <mtext>for</mtext>
         <mstyle displaystyle="false">
          <mfrac>
           <mn>1</mn>
           <mn>2</mn>
          </mfrac>
         </mstyle>
        </mrow>
        <mo>‚â§</mo>
        <mi>y</mi>
        <mo><</mo>
        <mi mathvariant="normal">‚àû</mi>
       </mrow>
      </mtd>
     </mtr>
    </mtable>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <cerror>
    <csymbol cd="ambiguous">fragments</csymbol>
    <apply>
     <csymbol cd="ambiguous">subscript</csymbol>
     <ci>F</ci>
     <cerror>
      <csymbol cd="ambiguous">fragments</csymbol>
      <csymbol cd="unknown">Y</csymbol>
      <ci>normal-|</ci>
      <csymbol cd="unknown">X</csymbol>
      <eq></eq>
      <apply>
       <divide></divide>
       <cn type="integer">3</cn>
       <cn type="integer">4</cn>
      </apply>
     </cerror>
    </apply>
    <cerror>
     <csymbol cd="ambiguous">fragments</csymbol>
     <ci>normal-(</ci>
     <csymbol cd="unknown">y</csymbol>
     <ci>normal-)</ci>
    </cerror>
    <eq></eq>
    <csymbol cd="unknown">P</csymbol>
    <cerror>
     <csymbol cd="ambiguous">fragments</csymbol>
     <ci>normal-(</ci>
     <csymbol cd="unknown">Y</csymbol>
     <leq></leq>
     <csymbol cd="unknown">y</csymbol>
     <ci>normal-|</ci>
     <csymbol cd="unknown">X</csymbol>
     <eq></eq>
     <apply>
      <divide></divide>
      <cn type="integer">3</cn>
      <cn type="integer">4</cn>
     </apply>
     <ci>normal-)</ci>
    </cerror>
    <eq></eq>
    <apply>
     <csymbol cd="latexml">cases</csymbol>
     <cn type="integer">0</cn>
     <apply>
      <and></and>
      <apply>
       <lt></lt>
       <apply>
        <minus></minus>
        <mtext>for</mtext>
        <infinity></infinity>
       </apply>
       <ci>y</ci>
      </apply>
      <apply>
       <lt></lt>
       <share href="#.cmml">
       </share>
       <apply>
        <divide></divide>
        <cn type="integer">1</cn>
        <cn type="integer">4</cn>
       </apply>
      </apply>
     </apply>
     <apply>
      <divide></divide>
      <cn type="integer">1</cn>
      <cn type="integer">3</cn>
     </apply>
     <apply>
      <and></and>
      <apply>
       <leq></leq>
       <apply>
        <times></times>
        <mtext>for</mtext>
        <apply>
         <divide></divide>
         <cn type="integer">1</cn>
         <cn type="integer">4</cn>
        </apply>
       </apply>
       <ci>y</ci>
      </apply>
      <apply>
       <lt></lt>
       <share href="#.cmml">
       </share>
       <apply>
        <divide></divide>
        <cn type="integer">1</cn>
        <cn type="integer">2</cn>
       </apply>
      </apply>
     </apply>
     <cn type="integer">1</cn>
     <apply>
      <and></and>
      <apply>
       <leq></leq>
       <apply>
        <times></times>
        <mtext>for</mtext>
        <apply>
         <divide></divide>
         <cn type="integer">1</cn>
         <cn type="integer">2</cn>
        </apply>
       </apply>
       <ci>y</ci>
      </apply>
      <apply>
       <lt></lt>
       <share href="#.cmml">
       </share>
       <infinity></infinity>
      </apply>
     </apply>
    </apply>
   </cerror>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   F_{Y|X=\frac{3}{4}}(y)=\mathbb{P}\left(Y\leq y|X=\tfrac{3}{4}\right)=\begin{%
cases}0&\text{for }-\infty<y<\tfrac{1}{4},\\
\tfrac{1}{3}&\text{for }\tfrac{1}{4}\leq y<\tfrac{1}{2},\\
1&\text{for }\tfrac{1}{2}\leq y<\infty\end{cases}
  </annotation>
 </semantics>
</math>

 which cannot be correct, since a cumulative distribution function must be <a class="uri" href="right-continuous" title="wikilink">right-continuous</a>!</p>

<p>This paradoxical result is explained by measure theory as follows. For a given <em>y</em> the corresponding <em>F</em><sub><em>Y</em>|<em>X</em>=<em>x</em></sub>(<em>y</em>) = P ( <em>Y</em> ‚â§ <em>y</em> | <em>X</em> = <em>x</em> ) is well-defined (via the Hilbert space or the Radon‚ÄìNikodym derivative) as an equivalence class of functions (of <em>x</em>). Treated as a function of <em>y</em> for a given <em>x</em> it is ill-defined unless some additional input is provided. Namely, a function (of <em>x</em>) must be chosen within every (or at least almost every) equivalence class. Wrong choice leads to wrong conditional cumulative distribution functions.</p>

<p>A right choice can be made as follows. First, <em>F</em><sub><em>Y</em>|<em>X</em>=<em>x</em></sub>(<em>y</em>) = P (<em>Y</em> ‚â§ <em>y</em> | <em>X</em> = <em>x</em>) is considered for rational numbers <em>y</em> only. (Any other dense countable set may be used equally well.) Thus, only a countable set of equivalence classes is used; all choices of functions within these classes are mutually equivalent, and the corresponding function of rational <em>y</em> is well-defined (for almost every <em>x</em>). Second, the function is extended from rational numbers to real numbers by right continuity.</p>

<p>In general the conditional distribution is defined for almost all <em>x</em> (according to the distribution of <em>X</em>), but sometimes the result is continuous in <em>x</em>, in which case individual values are acceptable. In the considered example this is the case; the correct result for <em>x</em> = 0.75,</p>

<p><span class="LaTeX">$$F_{Y|X=\frac{3}{4}} (y) = \mathbb{P} \left  ( Y \le y | X = \tfrac{3}{4} \right ) = \begin{cases}
 0 &amp;\text{for } -\infty &lt; y &lt; \tfrac{1}{4},\\
\tfrac{1}{3} &amp;\text{for } \tfrac{1}{4}\le y &lt; \tfrac{1}{2},\\
 1 &amp;\text{for } \tfrac{1}{2} \le y &lt; \infty
\end{cases}$$</span> shows that the conditional distribution of <em>Y</em> given <em>X</em> = 0.75 consists of two atoms, at 0.25 and 0.5, of probabilities 1/3 and 2/3 respectively.</p>

<p>Similarly, the conditional distribution may be calculated for all <em>x</em> in (0, 0.5) or (0.5, 1).</p>

<p>The value <em>x</em> = 0.5 is an atom of the distribution of <em>X</em>, thus, the corresponding conditional distribution is well-defined and may be calculated by elementary means (the denominator does not vanish); the conditional distribution of <em>Y</em> given <em>X</em> = 0.5 is uniform on (2/3, 1). Measure theory leads to the same result.</p>

<p>The mixture of all conditional distributions is the (unconditional) distribution of <em>Y</em>.</p>

<p>The conditional expectation E ( <em>Y</em> | <em>X</em> = <em>x</em> ) is nothing but the expectation with respect to the conditional distribution.</p>

<p>In the case <em>f</em> = <em>f</em><sub>2</sub> the corresponding <em>F</em><sub><em>Y</em>|<em>X</em>=<em>x</em></sub>(y) = P(<em>Y</em> ‚â§ <em>y</em> | <em>X</em> = <em>x</em>) probably cannot be calculated explicitly. For a given <em>y</em> it is well-defined (via the Hilbert space or the Radon‚ÄìNikodym derivative) as an equivalence class of functions (of <em>x</em>). The right choice of functions within these equivalence classes may be made as above; it leads to correct conditional cumulative distribution functions, thus, conditional distributions. In general, conditional distributions need not be <a href="discrete_probability_distribution" title="wikilink">atomic</a> or <a href="Absolutely_continuous_random_variable" title="wikilink">absolutely continuous</a> (nor mixtures of both types). Probably, in the considered example they are <a href="Singular_distribution" title="wikilink">singular</a> (like the <a href="Cantor_distribution" title="wikilink">Cantor distribution</a>).</p>

<p>Once again, the mixture of all conditional distributions is the (unconditional) distribution, and the conditional expectation is the expectation with respect to the conditional distribution.</p>
<h2 id="technical-details">Technical details</h2>
<references group="details">
</references>
<h2 id="see-also">See also</h2>
<ul>
<li><a href="Conditional_probability" title="wikilink">Conditional probability</a></li>
<li><a href="Conditional_expectation" title="wikilink">Conditional expectation</a></li>
<li><a href="Conditional_probability_distribution" title="wikilink">Conditional probability distribution</a></li>
<li><a href="Joint_probability_distribution" title="wikilink">Joint probability distribution</a></li>
<li><a href="Borel's_paradox" title="wikilink">Borel's paradox</a></li>
<li><a href="Regular_conditional_probability" title="wikilink">Regular conditional probability</a></li>
<li><a href="Disintegration_theorem" title="wikilink">Disintegration theorem</a></li>
<li><a href="Law_of_total_variance" title="wikilink">Law of total variance</a></li>
<li><a href="Law_of_total_cumulance" title="wikilink">Law of total cumulance</a></li>
</ul>
<h2 id="notes">Notes</h2>
<references>
</references>
<h2 id="references">References</h2>
<ul>
<li></li>
<li></li>
</ul>

<p>"</p>

<p><a href="Category:Probability_theory" title="wikilink">Category:Probability theory</a></p>
<section class="footnotes">
<hr/>
<ol>
<li id="fn1"><a href="n-sphere#Generating_points_on_the_surface_of_the_n-ball" title="wikilink">n-sphere#Generating points on the surface of the n-ball</a><a href="#fnref1">‚Ü©</a></li>
<li id="fn2"><a href="http://en.wikibooks.org/wiki/Mathematica/Uniform_Spherical_Distribution">wikibooks: Uniform Spherical Distribution</a><a href="#fnref2">‚Ü©</a></li>
<li id="fn3"><a href="Area#General_formula" title="wikilink">Area#General formula</a><a href="#fnref3">‚Ü©</a></li>
<li id="fn4"><a href="#fnref4">‚Ü©</a></li>
<li id="fn5"><a href="#fnref5">‚Ü©</a></li>
<li id="fn6"></li>
<li id="fn7"></li>
</ol>
</section>
</x></p></body>
</html>
