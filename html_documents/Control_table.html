<html lang="en">
<head>
<meta charset="utf-8"/>
<title offset="1966">Control table</title>
<script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_SVG.js" type="text/javascript">
</script>
</head>
<body>
<h1>Control table</h1>
<style>
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
  margin: 0; padding: 0; vertical-align: baseline; border: none; }
<style>
table.sourceCode { width: 100%; line-height: 100%; }
td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; color: #aaaaaa; border-right: 1px solid #aaaaaa; }
td.sourceCode { padding-left: 5px; }
code > span.kw { color: #007020; font-weight: bold; } /* Keyword */
code > span.dt { color: #902000; } /* DataType */
code > span.dv { color: #40a070; } /* DecVal */
code > span.bn { color: #40a070; } /* BaseN */
code > span.fl { color: #40a070; } /* Float */
code > span.ch { color: #4070a0; } /* Char */
code > span.st { color: #4070a0; } /* String */
code > span.co { color: #60a0b0; font-style: italic; } /* Comment */
code > span.ot { color: #007020; } /* Other */
code > span.al { color: #ff0000; font-weight: bold; } /* Alert */
code > span.fu { color: #06287e; } /* Function */
code > span.er { color: #ff0000; font-weight: bold; } /* Error */
code > span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
code > span.cn { color: #880000; } /* Constant */
code > span.sc { color: #4070a0; } /* SpecialChar */
code > span.vs { color: #4070a0; } /* VerbatimString */
code > span.ss { color: #bb6688; } /* SpecialString */
code > span.im { } /* Import */
code > span.va { color: #19177c; } /* Variable */
code > span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code > span.op { color: #666666; } /* Operator */
code > span.bu { } /* BuiltIn */
code > span.ex { } /* Extension */
code > span.pp { color: #bc7a00; } /* Preprocessor */
code > span.at { color: #7d9029; } /* Attribute */
code > span.do { color: #ba2121; font-style: italic; } /* Documentation */
code > span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code > span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code > span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
  </style>
</body></html>
<body>
<hr/>

<p> <strong>Control tables</strong> are <a href="array_data_structure" title="wikilink">tables</a> that control the <a href="control_flow" title="wikilink">control flow</a> or play a major part in program control. There are no rigid rules about the structure or content of a control tableâ€”its qualifying attribute is its ability to direct <a href="control_flow" title="wikilink">control flow</a> in some way through "execution" by a <a href="Central_processing_unit" title="wikilink">processor</a> or <a href="Interpreter_(computing)" title="wikilink">interpreter</a>. The design of such tables is sometimes referred to as <strong>table-driven design</strong><a class="footnoteRef" href="#fn1" id="fnref1"><sup>1</sup></a><a class="footnoteRef" href="#fn2" id="fnref2"><sup>2</sup></a> (although this typically refers to generating code automatically from external tables rather than direct run-time tables). In some cases, control tables can be specific implementations of <a href="Finite-state_machine" title="wikilink">finite-state-machine</a>-based <a href="automata-based_programming" title="wikilink">automata-based programming</a>. If there are several hierarchical levels of control table they may behave in a manner equivalent to <a href="Hierarchical_state_machine" title="wikilink">UML state machines</a><a class="footnoteRef" href="#fn3" id="fnref3"><sup>3</sup></a></p>

<p>Control tables often have the equivalent of <a href="Conditional_(programming)" title="wikilink">conditional expressions</a> or <a href="subroutine" title="wikilink">function</a> <a href="Reference_(computer_science)" title="wikilink">references</a> embedded in them, usually implied by their relative column position in the <a href="association_list" title="wikilink">association list</a>. Control tables reduce the need for programming similar <a href="data_structures" title="wikilink">structures</a> or program statements over and over again. The two-dimensional nature of most tables makes them easier to view and update than the one-dimensional nature of program code. In some cases, non-programmers can be assigned to maintain the control tables.</p>
<h2 id="typical-usage">Typical usage</h2>
<ul>
<li>Transformation of input values to:
<ul>
<li>an <a href="Associative_array" title="wikilink">index</a>, for later branching or <a href="pointer_(computer_programming)" title="wikilink">pointer</a> <a href="lookup_table" title="wikilink">lookup</a></li>
<li>a program name, relative <a class="uri" href="subroutine" title="wikilink">subroutine</a> number, <a href="Label_(programming_language)" title="wikilink">program label</a> or program <a href="offset_(computer_science)" title="wikilink">offset</a>, to alter <a href="control_flow" title="wikilink">control flow</a></li>
</ul></li>
<li>Controlling a <a href="main_loop" title="wikilink">main loop</a> in <a href="event-driven_programming" title="wikilink">event-driven programming</a> using a <a href="control_variable" title="wikilink">control variable</a> for <a href="state_transition" title="wikilink">state transitions</a></li>
<li>Controlling the program cycle for <a href="Online_transaction_processing" title="wikilink">Online transaction processing</a> applications</li>
</ul>
<h2 id="more-advanced-usage">More advanced usage</h2>
<ul>
<li>Acting as virtual instructions for a <a href="virtual_machine" title="wikilink">virtual machine</a> processed by an <a href="Interpreter_(computing)" title="wikilink">interpreter</a></li>
</ul>
<dl>
<dd>similar to <a class="uri" href="bytecode" title="wikilink">bytecode</a> - but usually with operations implied by the table structure itself
</dd>
</dl>
<h2 id="table-structure">Table structure</h2>

<p>The tables can have multiple dimensions, of fixed or <a href="variable_length_code" title="wikilink">variable lengths</a> and are usually <a href="Software_portability" title="wikilink">portable</a> between <a href="computer_platform" title="wikilink">computer platforms</a>, requiring only a change to the interpreter, not the <a class="uri" href="algorithm" title="wikilink">algorithm</a> itself - the logic of which is essentially embodied within the table structure and content. The structure of the table may be similar to a <a href="Multimap_(data_structure)" title="wikilink">multimap</a> <a href="associative_array" title="wikilink">associative array</a>, where a data value (or combination of data values) may be mapped to one or more functions to be performed.</p>
<h3 id="one-dimensional-tables">One-dimensional tables</h3>

<p>In perhaps its simplest implementation, a control table may sometimes be a one-dimensional table for <em>directly</em> translating a <a href="raw_data" title="wikilink">raw data</a> value to a corresponding subroutine <a href="Offset_(computer_science)" title="wikilink">offset</a>, <a href="Array_data_structure" title="wikilink">index</a> or <a href="pointer_(computer_programming)" title="wikilink">pointer</a> using the raw data value either directly as the index to the array, or by performing some basic arithmetic on the data beforehand. This can be achieved in <a href="constant_time" title="wikilink">constant time</a> (without a <a href="linear_search" title="wikilink">linear search</a> or <a href="binary_search" title="wikilink">binary search</a> using a typical <a href="lookup_table" title="wikilink">lookup table</a> on an <a href="associative_array" title="wikilink">associative array</a>). In most <a href="Computer_architecture" title="wikilink">architectures</a>, this can be accomplished in two or three <a href="machine_instruction" title="wikilink">machine instructions</a> - without any comparisons or loops. The technique is known as a "<a href="trivial_hash_function" title="wikilink">trivial hash function</a>" or, when used specifically for branch tables, "<a href="double_dispatch" title="wikilink">double dispatch</a>". For this to be feasible, the range of all possible values of the data needs to be small (e.g. an <a class="uri" href="ASCII" title="wikilink">ASCII</a> or <a class="uri" href="EBCDIC" title="wikilink">EBCDIC</a> character value which have a range of <a class="uri" href="hexadecimal" title="wikilink">hexadecimal</a> '00' - 'FF'. If the actual range is <em>guaranteed</em> to be smaller than this, the array can be truncated to less than 256 bytes).</p>

<p><strong>Table to translate raw ASCII values (A,D,M,S) to new subroutine index (1,4,3,2) in <a href="constant_time" title="wikilink">constant time</a> using one-dimensional array</strong></p>

<p>(gaps in the range are shown as '..' for this example, meaning 'all hex values up to next row'. The first two columns are not part of the array)</p>
<table>
<thead>
<tr class="header">
<th style="text-align: left;">
<p><a class="uri" href="ASCII" title="wikilink">ASCII</a></p></th>
<th style="text-align: left;">
<p><a href="Hexadecimal" title="wikilink">Hex</a></p></th>
<th style="text-align: left;">
<p>Array</p></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">
<p><a href="Null_character" title="wikilink">null</a></p></td>
<td style="text-align: left;">
<p>00</p></td>
<td style="text-align: left;">
<p>00</p></td>
</tr>
<tr class="even">
<td style="text-align: left;">
<p>..</p></td>
<td style="text-align: left;">
<p>..</p></td>
<td style="text-align: left;">
<p>00</p></td>
</tr>
<tr class="odd">
<td style="text-align: left;">
<p><a class="uri" href="@" title="wikilink">@</a></p></td>
<td style="text-align: left;">
<p>40</p></td>
<td style="text-align: left;">
<p>00</p></td>
</tr>
<tr class="even">
<td style="text-align: left;">
<p>A</p></td>
<td style="text-align: left;">
<p>41</p></td>
<td style="text-align: left;">
<p><strong>01</strong></p></td>
</tr>
<tr class="odd">
<td style="text-align: left;">
<p>..</p></td>
<td style="text-align: left;">
<p>..</p></td>
<td style="text-align: left;">
<p>00</p></td>
</tr>
<tr class="even">
<td style="text-align: left;">
<p>D</p></td>
<td style="text-align: left;">
<p>44</p></td>
<td style="text-align: left;">
<p><strong>04</strong></p></td>
</tr>
<tr class="odd">
<td style="text-align: left;">
<p>..</p></td>
<td style="text-align: left;">
<p>..</p></td>
<td style="text-align: left;">
<p>00</p></td>
</tr>
<tr class="even">
<td style="text-align: left;">
<p>M</p></td>
<td style="text-align: left;">
<p>4D</p></td>
<td style="text-align: left;">
<p><strong>03</strong></p></td>
</tr>
<tr class="odd">
<td style="text-align: left;">
<p>..</p></td>
<td style="text-align: left;">
<p>..</p></td>
<td style="text-align: left;">
<p>00</p></td>
</tr>
<tr class="even">
<td style="text-align: left;">
<p>S</p></td>
<td style="text-align: left;">
<p>53</p></td>
<td style="text-align: left;">
<p><strong>02</strong></p></td>
</tr>
</tbody>
</table>

<p>In <a href="automata-based_programming" title="wikilink">automata-based programming</a> and <a href="pseudoconversational_transaction" title="wikilink">pseudoconversational transaction</a> processing, if the number of distinct program states is small, a "dense sequence" control variable can be used to efficiently dictate the entire flow of the main program loop.</p>

<p>A two byte raw data value would require a <em>minimum</em> table size of 65,534 bytes - to handle all input possibilities - whilst allowing just 256 different output values. However, this direct translation technique provides an extremely fast <a href="data_validation" title="wikilink">validation</a> &amp; conversion to a (relative) subroutine pointer if the <a href="heuristic" title="wikilink">heuristics</a>, together with sufficient fast access memory, permits its use.</p>
<h3 id="branch-tables">Branch tables</h3>

<p>A <a href="branch_table" title="wikilink">branch table</a> is a one-dimensional 'array' of contiguous <a href="machine_code" title="wikilink">machine code</a> <a href="Branch_(computer_science)" title="wikilink">branch/jump</a> instructions to effect a <a href="multiway_branch" title="wikilink">multiway branch</a> to a program label when branched into by an immediately preceding, and indexed branch. It is sometimes generated by an <a href="optimizing_compiler" title="wikilink">optimizing compiler</a> to execute a <a href="switch_statement" title="wikilink">switch statement</a> - provided that the input range is small and dense, with few gaps (as created by the previous array example) <a href="http://www.netrino.com/node/137">2</a>.</p>

<p>Although quite compact - compared to the multiple equivalent <code>If</code> statements - the branch instructions still carry some redundancy, since the branch <a class="uri" href="opcode" title="wikilink">opcode</a> and condition code mask are repeated alongside the branch offsets. Control tables containing only the offsets to the program labels can be constructed to overcome this redundancy (at least in assembly languages) and yet requiring only minor execution time <a href="computational_overhead" title="wikilink">overhead</a> compared to a conventional branch table.</p>
<h3 id="multi-dimensional-tables">Multi-dimensional tables</h3>

<p>More usually, a control table can be thought of as a <a href="Truth_table" title="wikilink">Truth table</a> or as an executable ("binary") implementation of a printed <a href="decision_table" title="wikilink">decision table</a> (or a <a href="Tree_(data_structure)" title="wikilink">tree</a> of decision tables, at several levels). They contain (often implied) <a href="Propositional_formula" title="wikilink">propositions</a>, together with one or more associated 'actions'. These actions are usually performed by generic or custom-built <a href="subroutine" title="wikilink">subroutines</a> that are called by an "<a href="Interpreter_(computing)" title="wikilink">interpreter</a>" program. The interpreter in this instance effectively functions as a <a href="virtual_machine" title="wikilink">virtual machine</a>, that 'executes' the control table entries and thus provides a higher level of <a href="Abstraction_(computer_science)" title="wikilink">abstraction</a> than the underlying code of the interpreter.</p>

<p>A control table can be constructed along similar lines to a language dependent <a href="switch_statement" title="wikilink">switch statement</a> but with the added possibility of testing for combinations of input values (using <a href="Boolean_algebra_(logic)" title="wikilink">boolean</a> style <a href="Logical_conjunction" title="wikilink">AND</a>/<a href="Logical_disjunction" title="wikilink">OR</a> conditions) and potentially calling multiple <a href="subroutine" title="wikilink">subroutines</a> (instead of just a single set of values and 'branch to' program labels). (The switch statement construct in any case may not be available, or has confusingly differing implementations in high level languages (<a href="High-level_programming_language" title="wikilink">HLL</a>). The control table concept, by comparison, has no intrinsic language dependencies, but might nevertheless be <em>implemented</em> differently according to the available data definition features of the chosen programming language.)</p>
<h3 id="table-content">Table content</h3>

<p>A control table essentially embodies the '<a class="uri" href="essence" title="wikilink">essence</a>' of a conventional program, stripped of its programming language syntax and platform dependent components (e.g. IF/THEN DO.., FOR.., DO WHILE.., SWITCH, GOTO, CALL) and 'condensed' to its variables (e.g. input1), values (e.g. 'A','S','M' and 'D'), and subroutine identities (e.g. 'Add','subtract,..' or #1, #2,..). The structure of the table itself typically <em>implies</em> the (default) logical operations involved - such as 'testing for equality', performing a subroutine and 'next operation' or following the default sequence (rather than these being explicitly stated within program statements - as required in other <a href="programming_paradigm" title="wikilink">programming paradigms</a>).</p>

<p>A multi-dimensional control table will normally, as a minimum, contain value/action pairs and may additionally contain operators and <a href="Type_system" title="wikilink">type</a> information such as, the location, size and format of input or output data, whether <a href="data_conversion" title="wikilink">data conversion</a> (or other <a href="run_time_(program_lifecycle_phase)" title="wikilink">run-time</a> processing nuances) is required before or after processing (if not already implicit in the function itself). The table may or may not contain <a href="array_index" title="wikilink">indexes</a> or relative or absolute <a href="pointer_(computer_programming)" title="wikilink">pointers</a> to generic or customized <a href="Language_primitive" title="wikilink">primitives</a> or <a href="subroutine" title="wikilink">subroutines</a> to be executed depending upon other values in the "row".</p>

<p>The table illustrated below applies only to 'input1' since no specific input is specified in the table.</p>

<p><strong>conditions and actions implied by structure</strong></p>

<p>::{| class="wikitable" | <strong>(implied) IF =</strong>|| <strong>(implied) perform</strong> |- | value|| action |- | value|| action |} (This side-by-side pairing of value and action has similarities to constructs in <a href="Event-driven_programming" title="wikilink">Event-driven programming</a>, namely 'event-detection' and 'event-handling' but without (necessarily) the <a href="Asynchronous_system" title="wikilink">asynchronous</a> nature of the event itself)</p>

<p>The variety of values that can be <a class="uri" href="encoded" title="wikilink">encoded</a> within a control table is largely dependent upon the <a href="computer_language" title="wikilink">computer language</a> used. <a href="Assembly_language" title="wikilink">Assembly language</a> provides the widest scope for <a href="data_types" title="wikilink">data types</a> including (for the actions), the option of directly executable <a href="machine_code" title="wikilink">machine code</a>. Typically a control table will contain values for each possible matching class of input together with a corresponding pointer to an action subroutine. Some languages claim not to support <a href="pointer_(computer_programming)" title="wikilink">pointers</a> (directly) but nevertheless can instead support an <a href="Array_data_structure" title="wikilink">index</a> which can be used to represent a 'relative subroutine number' to perform conditional execution, controlled by the value in the table entry (e.g. for use in an optimized <a href="Switch_statement" title="wikilink">SWITCH</a> statement - designed with zero gaps (i.e. a <a href="multiway_branch" title="wikilink">multiway branch</a>) ).</p>

<p>Comments positioned above each column (or even embedded textual documentation) can render a decision table 'human readable' even after 'condensing down' (encoding) to its essentials (and still broadly in-line with the original program specification - especially if a printed decision table, <a href="Enumeration" title="wikilink">enumerating</a> each unique action, is created before coding begins). The table entries can also optionally contain counters to collect run-time statistics for 'in-flight' or later optimization</p>
<h2 id="table-location">Table location</h2>

<p>Control tables can reside in <a href="Static_variables" title="wikilink">static</a> storage, on <a href="auxiliary_storage" title="wikilink">auxiliary storage</a>, such as a <a href="flat_file" title="wikilink">flat file</a> or on a <a class="uri" href="database" title="wikilink">database</a> or may alternatively be partially or entirely built dynamically at program <a href="booting" title="wikilink">initialization</a> time from parameters (which themselves may reside in a table). For optimum efficiency, the table should be memory resident when the interpreter begins to use it.</p>
<h2 id="the-interpreter-and-subroutines">The interpreter and subroutines</h2>

<p>The interpreter can be written in any suitable programming language including a <a href="high_level_language" title="wikilink">high level language</a>. A suitably designed <a href="Generic_programming" title="wikilink">generic</a> interpreter, together with a well chosen set of generic subroutines (able to process the most commonly occurring <a href="Language_primitive" title="wikilink">primitives</a>), would require additional conventional coding only for new custom subroutines (in addition to specifying the control table itself). The interpreter, optionally, may only apply to some well-defined sections of a complete application program (such as the <a href="Main_loop" title="wikilink">main control loop</a>) and not other, 'less conditional', sections (such as program initialization, termination and so on).</p>

<p>The interpreter does not need to be unduly complex, or produced by a programmer with the advanced knowledge of a compiler writer, and can be written just as any other application program - except that it is usually designed with efficiency in mind. Its primary function is to "execute" the table entries as a set of "instructions". There need be no requirement for parsing of control table entries and these should therefore be designed, as far as possible, to be 'execution ready', requiring only the "plugging in" of variables from the appropriate columns to the already compiled generic code of the interpreter. The <a href="Instruction_(computer_science)" title="wikilink">program instructions</a> are, in theory, infinitely <a class="uri" href="extensible" title="wikilink">extensible</a> and constitute (possibly arbitrary) values within the table that are meaningful only to the interpreter. The <a href="control_flow" title="wikilink">control flow</a> of the interpreter is normally by sequential processing of each table row but may be modified by specific actions in the table entries.</p>

<p>These arbitrary values can thus be designed with <a href="algorithmic" title="wikilink">efficiency</a> in mind - by selecting values that can be used as direct indexes to data or <a href="function_pointers" title="wikilink">function pointers</a>. For particular platforms/<a href="computer_language" title="wikilink">language</a>, they can be specifically designed to minimize <a href="instruction_path_length" title="wikilink">instruction path lengths</a> using <a href="branch_table" title="wikilink">branch table</a> values or even, in some cases such as in <a href="Just-in-time_compilation" title="wikilink">JIT</a> compilers, consist of directly executable <a href="machine_code" title="wikilink">machine code</a> "<a href="Snippet_(programming)" title="wikilink">snippets</a>" (or pointers to them).</p>

<p>The subroutines may be coded either in the same language as the interpreter itself or any other supported program language (provided that suitable inter-language 'Call' linkage mechanisms exist). The choice of language for the interpreter and/or subroutines will usually depend upon how portable it needs to be across various <a href="Platform_(computing)" title="wikilink">platforms</a>. There may be several versions of the interpreter to enhance the <a href="Porting" title="wikilink">portability</a> of a control table. A subordinate control table pointer may optionally substitute for a subroutine pointer in the 'action' column(s) if the interpreter supports this construct, representing a conditional 'drop' to a lower logical level, mimicking a conventional <a href="Structured_programming" title="wikilink">structured program</a> structure.</p>
<h2 id="performance-considerations">Performance considerations</h2>

<p>At first sight, the use of control tables would appear to add quite a lot to a program's <a href="Computational_overhead" title="wikilink">overhead</a>, requiring, as it does, an interpreter process before the 'native' programming language statements are executed. This however is not always the case. By separating (or 'encapsulating') the executable coding from the logic, as expressed in the table, it can be more readily targeted to perform its function most efficiently. This may be experienced most obviously in a <a class="uri" href="spreadsheet" title="wikilink">spreadsheet</a> application - where the underlying spreadsheet software transparently converts complex logical 'formulae' in the most efficient manner it is able, in order to display its results.</p>

<p>The examples below have been chosen partly to illustrate potential performance gains that may not only <em>compensate</em> significantly for the additional tier of abstraction, but also <em>improve</em> upon - what otherwise might have been - less efficient, less maintainable and lengthier code. Although the examples given are for a 'low level' <a href="assembly_language" title="wikilink">assembly language</a> and for the <a href="C_(language)" title="wikilink">C language</a>, it can be seen, in both cases, that very few lines of code are required to implement the control table approach and yet can achieve very significant <a href="constant_time" title="wikilink">constant time</a> performance improvements, reduce repetitive source coding and aid clarity, as compared with <a class="uri" href="verbose" title="wikilink">verbose</a> conventional program language constructs. See also the <a href="Control_table#Quotations" title="wikilink">quotationsby</a> <a href="Donald_Knuth" title="wikilink">Donald Knuth</a>, concerning tables and the efficiency of <a href="multiway_branch" title="wikilink">multiway branching</a> in this article.</p>
<h2 id="examples-of-control-tables">Examples of control tables</h2>

<p>The following examples are <a class="uri" href="arbitrary" title="wikilink">arbitrary</a> (and based upon just a single input for simplicity), however the intention is merely to demonstrate how control flow can be effected via the use of tables instead of regular program statements. It should be clear that this technique can easily be extended to deal with multiple inputs, either by increasing the number of columns or utilizing multiple table entries (with optional and/or operator). Similarly, by using (hierarchical) 'linked' control tables, <a href="structured_programming" title="wikilink">structured programming</a> can be accomplished (optionally using indentation to help highlight subordinate control tables).</p>

<p>"CT1" is an example of a control table that is a simple <a href="lookup_table" title="wikilink">lookup table</a>. The first column represents the input value to be tested (by an implied 'IF input1 = x') and, if TRUE, the corresponding 2nd column (the 'action') contains a subroutine address to perform by a <a href="System_call" title="wikilink">call</a> (or <a href="goto" title="wikilink">jump</a> to - similar to a <a href="Switch_statement" title="wikilink">SWITCH</a> statement). It is, in effect, a <a href="multiway_branch" title="wikilink">multiway branch</a> with return (a form of "<a href="dynamic_dispatch" title="wikilink">dynamic dispatch</a>"). The last entry is the default case where no match is found.</p>

<p><strong>CT1</strong></p>
<dl>
<dd>
<table>
<thead>
<tr class="header">
<th style="text-align: left;">
<p>input 1</p></th>
<th style="text-align: left;">
<p><a href="pointer_(computer_programming)" title="wikilink">pointer</a></p></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">
<p><strong>A</strong></p></td>
<td style="text-align: left;">
<p>--&gt;Add</p></td>
</tr>
<tr class="even">
<td style="text-align: left;">
<p><strong>S</strong></p></td>
<td style="text-align: left;">
<p>--&gt;Subtract</p></td>
</tr>
<tr class="odd">
<td style="text-align: left;">
<p><strong>M</strong></p></td>
<td style="text-align: left;">
<p>--&gt;Multiply</p></td>
</tr>
<tr class="even">
<td style="text-align: left;">
<p><strong>D</strong></p></td>
<td style="text-align: left;">
<p>--&gt;Divide</p></td>
</tr>
<tr class="odd">
<td style="text-align: left;">
<p><strong>?</strong></p></td>
<td style="text-align: left;">
<p>--&gt;Default</p></td>
</tr>
</tbody>
</table>
</dd>
</dl>

<p>For programming languages that support pointers within <a href="data_structure" title="wikilink">data structures</a> alongside other data values, the above table (CT1) can be used to direct <a href="control_flow" title="wikilink">control flow</a> to an appropriate <a href="subroutine" title="wikilink">subroutines</a> according to matching value from the table (without a column to indicate otherwise, equality is assumed in this simple case).</p>

<p><strong><a href="Assembly_language" title="wikilink">Assembly language</a> example</strong> for <a class="uri" href="IBM/360" title="wikilink">IBM/360</a> (maximum 16Mb address range) or <a class="uri" href="Z/Architecture" title="wikilink">Z/Architecture</a></p>

<p>No attempt is made to optimize the lookup in coding for this first example, and it uses instead a simple <a href="linear_search" title="wikilink">linear search</a> technique - purely to illustrate the concept and demonstrate fewer source lines. To handle all 256 different input values, approximately 265 lines of source code would be required (mainly single line table entries) whereas multiple 'compare and branch' would have normally required around 512 source lines (the size of the <a href="binary_file" title="wikilink">binary</a> is also approximately halved, each table entry requiring only 4 bytes instead of approximately 8 bytes for a series of 'compare immediate'/branch instructions (For larger input variables, the saving is even greater).</p>

<p><code>Â Â *Â ------------------Â interpreterÂ --------------------------------------------*</code><br/>
<code>Â Â Â Â Â Â Â Â Â Â Â LMÂ Â Â Â Â R14,R0,=A(4,CT1,N)Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â SetÂ R14=4,Â R15Â --&gt;Â table,Â andÂ R0Â =no.Â ofÂ entriesÂ inÂ tableÂ (N)</code><br/>
<code>Â Â TRYÂ Â Â Â Â Â CLCÂ Â Â Â INPUT1,0(R15)Â Â Â Â Â Â Â Â Â *********Â Â FoundÂ valueÂ inÂ tableÂ entryÂ ?</code><br/>
<code>Â Â Â Â Â Â Â Â Â Â Â BEÂ Â Â Â Â ACTIONÂ Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â *Â loopÂ Â *Â Â YES,Â LoadÂ registerÂ pointerÂ toÂ sub-routineÂ fromÂ table</code><br/>
<code>Â Â Â Â Â Â Â Â Â Â Â ARÂ Â Â Â Â R15,R14Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â *Â Â Â Â Â Â Â *Â Â NO,Â PointÂ toÂ nextÂ entryÂ inÂ CT1Â byÂ addingÂ R14Â (=4)</code><br/>
<code>Â Â Â Â Â Â Â Â Â Â Â BCTÂ Â Â Â R0,TRYÂ Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â *********Â Â BackÂ untilÂ countÂ exhausted,Â thenÂ dropÂ through</code><br/>
<code>Â Â .Â Â Â Â Â Â Â Â Â Â Â Â Â defaultÂ actionÂ Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â ...Â noneÂ ofÂ theÂ valuesÂ inÂ tableÂ match,Â doÂ somethingÂ else</code><br/>
<code>Â Â Â Â Â Â Â Â Â Â Â LAÂ Â Â Â Â R15,4(R15)Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â pointÂ toÂ defaultÂ entryÂ (beyondÂ tableÂ end)</code><br/>
<code>Â Â ACTIONÂ Â Â LÂ Â Â Â Â Â R15,0(R15)Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â getÂ pointerÂ intoÂ R15,fromÂ whereÂ R15Â points</code><br/>
<code>Â Â Â Â Â Â Â Â Â Â Â BALRÂ Â Â R14,R15Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â PerformÂ theÂ sub-routineÂ ("CALL"Â andÂ return)</code><br/>
<code>Â Â Â Â Â Â Â Â Â Â Â BÂ Â Â Â Â Â ENDÂ Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â goÂ terminateÂ thisÂ program</code><br/>
<code>Â Â *Â ------------------Â controlÂ tableÂ -----------------------------------------*</code><br/>
<code>Â Â *Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â |Â thisÂ columnÂ ofÂ allowableÂ EBCDICÂ orÂ ASCIIÂ valuesÂ isÂ testedÂ '='Â againstÂ variableÂ 'input1'</code><br/>
<code>Â Â *Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â |Â Â Â Â Â Â |Â thisÂ columnÂ isÂ theÂ 3-byteÂ addressÂ ofÂ theÂ appropriateÂ subroutine</code><br/>
<code>Â Â *Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â vÂ Â Â Â Â Â v</code><br/>
<code>Â Â </code><strong><code>CT1</code></strong><code>Â Â Â Â Â Â DCÂ Â Â Â Â C'A',AL3(ADD)Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â STARTÂ ofÂ ControlÂ TableÂ (4Â byteÂ entryÂ length)</code><br/>
<code>Â Â Â Â Â Â Â Â Â Â Â DCÂ Â Â Â Â C'S',AL3(SUBTRACT)</code><br/>
<code>Â Â Â Â Â Â Â Â Â Â Â DCÂ Â Â Â Â C'M',AL3(MULTIPLY)</code><br/>
<code>Â Â Â Â Â Â Â Â Â Â Â DCÂ Â Â Â Â C'D',AL3(DIVIDE)</code><br/>
<code>Â Â NÂ Â Â Â Â Â Â Â EQUÂ Â Â Â (*-CT1)/4Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â numberÂ ofÂ validÂ entriesÂ inÂ tableÂ (totalÂ lengthÂ /Â entryÂ length)</code><br/>
<code>Â Â Â Â Â Â Â Â Â Â Â DCÂ Â Â Â Â C'?',AL3(DEFAULT)Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â defaultÂ entryÂ -Â usedÂ onÂ dropÂ throughÂ toÂ catchÂ all</code><br/>
<code>Â Â INPUT1Â Â Â DSÂ Â Â Â Â CÂ Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â inputÂ variableÂ isÂ inÂ thisÂ variable</code><br/>
<code>Â Â *Â ------------------Â sub-routinesÂ ------------------------------------------*</code><br/>
<code>Â Â ADDÂ Â Â Â Â Â CSECTÂ Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â sub-routineÂ #1Â (shownÂ asÂ separateÂ CSECTÂ hereÂ butÂ might</code><br/>
<code>Â Â .Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â alternativelyÂ beÂ in-lineÂ code)</code><br/>
<code>Â Â .Â Â Â Â Â Â Â Â Â Â Â Â instruction(s)Â toÂ add</code><br/>
<code>Â Â Â Â Â Â Â Â Â Â Â BRÂ Â Â Â Â R14Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â return</code><br/>
<code>Â Â SUBTRACTÂ CSECTÂ Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â sub-routineÂ #2</code><br/>
<code>Â Â .Â Â Â Â Â Â Â Â Â Â Â Â instruction(s)Â toÂ subtract</code><br/>
<code>Â Â Â Â Â Â Â Â Â Â Â BRÂ Â Â Â Â R14Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â return</code><br/>
<code>Â Â .Â etc..</code></p>

<p>'''improving the performance of the interpreter in above example '''</p>
<dl>
<dd>To make a selection in the example above, the average <a href="instruction_path_length" title="wikilink">instruction path length</a> (excluding the subroutine code) is '4n/2 +3', but can easily be reduced, where n = 1 to 64, to a <a href="Linear_time" title="wikilink">constant time</a> 

<math display="inline" id="Control_table:0">
 <semantics>
  <mrow>
   <mi>O</mi>
   <mrow>
    <mo stretchy="false">(</mo>
    <mn>1</mn>
    <mo rspace="4.2pt" stretchy="false">)</mo>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <times></times>
    <ci>O</ci>
    <cn type="integer">1</cn>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   O(1)\,
  </annotation>
 </semantics>
</math>

 with a path length of '5' with <em>zero comparisons</em>, if a 256 byte translate table is first utilized to create a <em>direct</em> index to CT1 from the raw EBCDIC data. Where n = 6, this would then be equivalent to just 3 sequential compare &amp; branch instructions. However, where n&lt;=64, on average it would need approximately 13 <em>times</em> less instructions than using multiple compares. Where n=1 to 256, on average it would use approximately 42 <em>times</em> less instructions - since, in this case, one additional instruction would be required (to multiply the index by 4).
</dd>
</dl>

<p><strong>Improved interpreter</strong> (up to <strong>26 times less executed instructions</strong> than the above example on average, where n= 1 to 64 and up to 13 times less than would be needed using multiple comparisons).</p>

<p>To handle 64 different input values, approximately 85 lines of source code (or less) are required (mainly single line table entries) whereas multiple 'compare and branch' would require around 128 lines (the size of the <a href="binary_file" title="wikilink">binary</a> is also almost halved - despite the additional 256 byte table required to extract the 2nd index).</p>

<p><code>Â Â *Â ------------------Â interpreterÂ --------------------------------------------*</code><br/>
<code>Â Â Â Â Â Â Â Â Â Â Â SRÂ Â Â Â Â R14,R14Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â *********Â Â SetÂ R14=0</code><br/>
<code>Â Â CALCÂ Â Â Â Â ICÂ Â Â Â Â R14,INPUT1Â Â Â Â Â Â Â Â Â Â Â Â *Â calcÂ Â *Â Â putÂ EBCDICÂ byteÂ intoÂ loÂ orderÂ bitsÂ (24-31)Â ofÂ R14</code><br/>
<code>Â Â Â Â Â Â Â Â Â Â Â ICÂ Â Â Â Â R14,CT1X(R14)Â Â Â Â Â Â Â Â Â *Â Â Â Â Â Â Â *Â Â useÂ EBCDICÂ valueÂ asÂ indexÂ onÂ tableÂ 'CT1X'Â toÂ getÂ newÂ index</code><br/>
<code>Â Â FOUNDÂ Â Â Â LÂ Â Â Â Â Â R15,CT1(R14)Â Â Â Â Â Â Â Â Â Â *********Â Â getÂ pointerÂ toÂ subroutineÂ usingÂ indexÂ (0,4,Â 8Â etc.)</code><br/>
<code>Â Â Â Â Â Â Â Â Â Â Â BALRÂ Â Â R14,R15Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â PerformÂ theÂ sub-routineÂ ("CALL"Â andÂ returnÂ orÂ Default)</code><br/>
<code>Â Â Â Â Â Â Â Â Â Â Â BÂ Â Â Â Â Â ENDÂ Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â goÂ terminateÂ thisÂ program</code><br/>
<code>Â Â *Â ---------------Â additionalÂ translateÂ tableÂ (EBCDICÂ --&gt;Â pointerÂ tableÂ INDEX)Â Â 256Â bytes----*</code><br/>
<code>Â Â CT1XÂ Â Â Â Â DCÂ Â Â Â Â 12AL1(00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00)Â Â Â 12Â identicalÂ setsÂ ofÂ 16Â bytesÂ ofÂ x'00</code><br/>
<code>Â Â *Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â representingÂ X'00Â -Â x'BF'</code><br/>
<code>Â Â Â Â Â Â Â Â Â Â Â DCÂ Â Â Â Â AL1(00,</code><strong><code>04</code></strong><code>,00,00,</code><strong><code>16</code></strong><code>,00,00,00,00,00,00,00,00,00,00,00)Â Â Â Â Â Â ..x'C0'Â -Â X'CF'</code><br/>
<code>Â Â Â Â Â Â Â Â Â Â Â DCÂ Â Â Â Â AL1(00,00,00,00,</code><strong><code>12</code></strong><code>,00,00,00,00,00,00,00,00,00,00,00)Â Â Â Â Â Â ..x'D0'Â -Â X'DF'</code><br/>
<code>Â Â Â Â Â Â Â Â Â Â Â DCÂ Â Â Â Â AL1(00,00,</code><strong><code>08</code></strong><code>,00,00,00,00,00,00,00,00,00,00,00,00,00)Â Â Â Â Â Â ..x'E0'Â -Â X'EF'</code><br/>
<code>Â Â Â Â Â Â Â Â Â Â Â DCÂ Â Â Â Â AL1(00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00)Â Â Â Â Â Â ..x'F0'Â -Â X'FF'</code><br/>
<code>Â Â *Â theÂ assemblerÂ canÂ beÂ usedÂ toÂ automaticallyÂ calculateÂ theÂ indexÂ valuesÂ andÂ makeÂ theÂ valuesÂ moreÂ userÂ friendly</code><br/>
<code>Â Â *Â (forÂ e.g.Â '04'Â couldÂ beÂ replacedÂ withÂ theÂ symbolicÂ expressionÂ 'PADD-CT1'Â inÂ tableÂ CT1XÂ above)</code><br/>
<code>Â Â *Â modifiedÂ CT1Â (addedÂ aÂ defaultÂ actionÂ whenÂ indexÂ =Â 00,Â singleÂ dimension,Â fullÂ 31Â bitÂ address)</code><br/>
<code>Â Â </code><strong><code>CT1</code></strong><code>Â Â Â Â Â Â DCÂ Â Â Â Â A(DEFAULT)Â Â Â Â Â Â Â Â Â Â indexÂ Â Â Â Â Â Â =00Â Â Â Â Â Â STARTÂ ofÂ ControlÂ TableÂ (4Â byteÂ addressÂ constants)</code><br/>
<code>Â Â PADDÂ Â Â Â Â DCÂ Â Â Â Â A(ADD)Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â =04</code><br/>
<code>Â Â PSUBÂ Â Â Â Â DCÂ Â Â Â Â A(SUBTRACT)Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â =08</code><br/>
<code>Â Â PMULÂ Â Â Â Â DCÂ Â Â Â Â A(MULTIPLY)Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â =12</code><br/>
<code>Â Â PDIVÂ Â Â Â Â DCÂ Â Â Â Â A(DIVIDE)Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â =16</code><br/>
<code>Â Â *Â theÂ restÂ ofÂ theÂ codeÂ remainsÂ theÂ sameÂ asÂ firstÂ example</code></p>

<p><strong>Further improved interpreter</strong> (up to <strong>21 times less executed instructions (where n&gt;=64)</strong> than the first example on average and up to 42 <em>times</em> less than would be needed using multiple comparisons).</p>

<p>To handle 256 different input values, approximately 280 lines of source code or less, would be required (mainly single line table entries), whereas multiple 'compare and branch' would require around 512 lines (the size of the <a href="binary_file" title="wikilink">binary</a> is also almost halved once more).</p>

<p><code>Â Â *Â ------------------Â interpreterÂ --------------------------------------------*</code><br/>
<code>Â Â Â Â Â Â Â Â Â Â Â SRÂ Â Â Â Â R14,R14Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â *********Â Â SetÂ R14=0</code><br/>
<code>Â Â CALCÂ Â Â Â Â ICÂ Â Â Â Â R14,INPUT1Â Â Â Â Â Â Â Â Â Â Â Â *Â calcÂ Â *Â Â putÂ EBCDICÂ byteÂ intoÂ loÂ orderÂ bitsÂ (24-31)Â ofÂ R14</code><br/>
<code>Â Â Â Â Â Â Â Â Â Â Â ICÂ Â Â Â Â R14,CT1X(R14)Â Â Â Â Â Â Â Â Â *Â Â Â Â Â Â Â *Â Â useÂ EBCDICÂ valueÂ asÂ indexÂ onÂ tableÂ 'CT1X'Â toÂ getÂ newÂ index</code><br/>
<code>Â Â Â Â Â Â Â Â Â Â Â SLLÂ Â Â Â R14,2Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â *Â Â Â Â Â Â Â *Â Â </code><strong><code>multiply</code> <code>index</code> <code>by</code> <code>4</code> <code>(additional</code> <code>instruction)</code></strong><br/>
<code>Â Â FOUNDÂ Â Â Â LÂ Â Â Â Â Â R15,CT1(R14)Â Â Â Â Â Â Â Â Â Â *********Â Â getÂ pointerÂ toÂ subroutineÂ usingÂ indexÂ (0,4,Â 8Â etc.)</code><br/>
<code>Â Â Â Â Â Â Â Â Â Â Â BALRÂ Â Â R14,R15Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â PerformÂ theÂ sub-routineÂ ("CALL"Â andÂ returnÂ orÂ Default)</code><br/>
<code>Â Â Â Â Â Â Â Â Â Â Â BÂ Â Â Â Â Â ENDÂ Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â goÂ terminateÂ thisÂ program</code><br/>
<code>Â Â *Â ---------------Â additionalÂ translateÂ tableÂ (EBCDICÂ --&gt;Â pointerÂ tableÂ INDEX)Â Â 256Â bytes----*</code><br/>
<code>Â Â CT1XÂ Â Â Â Â DCÂ Â Â Â Â 12AL1(00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00)Â Â Â 12Â identicalÂ setsÂ ofÂ 16Â bytesÂ ofÂ x'00'</code><br/>
<code>Â Â *Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â representingÂ X'00Â -Â x'BF'</code><br/>
<code>Â Â Â Â Â Â Â Â Â Â Â DCÂ Â Â Â Â AL1(00,</code><strong><code>01</code></strong><code>,00,00,</code><strong><code>04</code></strong><code>,00,00,00,00,00,00,00,00,00,00,00)Â Â Â Â Â Â ..x'C0'Â -Â X'CF'</code><br/>
<code>Â Â Â Â Â Â Â Â Â Â Â DCÂ Â Â Â Â AL1(00,00,00,00,</code><strong><code>03</code></strong><code>,00,00,00,00,00,00,00,00,00,00,00)Â Â Â Â Â Â ..x'D0'Â -Â X'DF'</code><br/>
<code>Â Â Â Â Â Â Â Â Â Â Â DCÂ Â Â Â Â AL1(00,00,</code><strong><code>02</code></strong><code>,00,00,00,00,00,00,00,00,00,00,00,00,00)Â Â Â Â Â Â ..x'E0'Â -Â X'EF'</code><br/>
<code>Â Â Â Â Â Â Â Â Â Â Â DCÂ Â Â Â Â AL1(00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00)Â Â Â Â Â Â ..x'F0'Â -Â X'FF'</code><br/>
<code>Â Â *Â theÂ assemblerÂ canÂ beÂ usedÂ toÂ automaticallyÂ calculateÂ theÂ indexÂ valuesÂ andÂ makeÂ theÂ valuesÂ moreÂ userÂ friendly</code><br/>
<code>Â Â *Â (forÂ e.g.Â '01'Â couldÂ beÂ replacedÂ withÂ theÂ symbolicÂ expressionÂ 'PADD-CT1/4'Â inÂ tableÂ CT1XÂ above)</code><br/>
<code>Â Â *Â modifiedÂ CT1Â (indexÂ nowÂ basedÂ onÂ 0,1,2,3,4Â Â notÂ 0,4,8,12,16Â toÂ allowÂ allÂ 256Â variations)</code><br/>
<code>Â Â </code><strong><code>CT1</code></strong><code>Â Â Â Â Â Â DCÂ Â Â Â Â A(DEFAULT)Â Â Â Â Â Â Â Â Â Â indexÂ Â Â Â Â Â Â =00Â Â Â Â Â Â STARTÂ ofÂ ControlÂ TableÂ (4Â byteÂ addressÂ constants)</code><br/>
<code>Â Â PADDÂ Â Â Â Â DCÂ Â Â Â Â A(ADD)Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â =01</code><br/>
<code>Â Â PSUBÂ Â Â Â Â DCÂ Â Â Â Â A(SUBTRACT)Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â =02</code><br/>
<code>Â Â PMULÂ Â Â Â Â DCÂ Â Â Â Â A(MULTIPLY)Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â =03</code><br/>
<code>Â Â PDIVÂ Â Â Â Â DCÂ Â Â Â Â A(DIVIDE)Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â =04</code><br/>
<code>Â Â *Â theÂ restÂ ofÂ theÂ codeÂ remainsÂ theÂ sameÂ asÂ theÂ 2ndÂ example</code></p>

<p><strong><a href="C_(programming_language)" title="wikilink">C language</a> example</strong> This example in <a href="C_(programming_language)" title="wikilink">C</a> uses two tables, the first (CT1) is a simple <a href="linear_search" title="wikilink">linear search</a> one-dimensional lookup table - to obtain an index by matching the input (x), and the second, associated table (CT1p), is a table of addresses of labels to jump to.</p>
<div class="sourceCode"><pre class="sourceCode c"><code class="sourceCode c"> <span class="dt">static</span> <span class="dt">const</span> <span class="dt">char</span>  CT1[] = {  <span class="st">"A"</span>,   <span class="st">"S"</span>,        <span class="st">"M"</span>,        <span class="st">"D"</span> };                          <span class="co">/* permitted input  values */</span>
 <span class="dt">static</span> <span class="dt">const</span> <span class="dt">void</span> *CT1p[] = { &amp;&amp;Add;, &amp;&amp;Subtract;, &amp;&amp;Multiply;, &amp;&amp;Divide;, &amp;&amp;Default;};           <span class="co">/* labels to goto &amp; default*/</span>
 <span class="kw">for</span> (<span class="dt">int</span> i = <span class="dv">0</span>; i &lt; <span class="kw">sizeof</span>(CT1); i++)      <span class="co">/* loop thru ASCII values                                                    */</span>
   {<span class="kw">if</span> (x==CT1[i]) <span class="kw">goto</span> *CT1p[i]; }       <span class="co">/* found --&gt; appropriate label                                               */</span>
 <span class="kw">goto</span> *CT1p[i<span class="dv">+1</span>];                           <span class="co">/* not found --&gt; default label                                               */</span></code></pre></div>

<p>This can be made more efficient if a 256 byte table is used to translate the raw ASCII value (x) directly to a dense sequential index value for use in directly locating the branch address from CT1p (i.e. "<a href="index_mapping" title="wikilink">index mapping</a>" with a byte-wide array). It will then execute in <a href="constant_time" title="wikilink">constant time</a> for all possible values of x (If CT1p contained the names of functions instead of labels, the jump could be replaced with a dynamic function call, eliminating the switch-like goto - but decreasing performance by the additional cost of function <a href="Housekeeping_(computing)" title="wikilink">housekeeping</a>).</p>
<div class="sourceCode"><pre class="sourceCode c"><code class="sourceCode c"> <span class="dt">static</span> <span class="dt">const</span> <span class="dt">void</span> *CT1p[] = {&amp;&amp;Default;, &amp;&amp;Add;, &amp;&amp;Subtract;, &amp;&amp;Multiply;, &amp;&amp;Divide;};
 <span class="co">/* the 256 byte table, below, holds values (1,2,3,4), in corresponding ASCII positions (A,S,M,D), all others set to 0x00 */</span>
 <span class="dt">static</span> <span class="dt">const</span> <span class="dt">char</span> CT1x[]={
             <span class="ch">'\x00'</span>, <span class="ch">'\x00'</span>, <span class="ch">'\x00'</span>, <span class="ch">'\x00'</span>, <span class="ch">'\x00'</span>, <span class="ch">'\x00'</span>, <span class="ch">'\x00'</span>, <span class="ch">'\x00'</span>, <span class="ch">'\x00'</span>, <span class="ch">'\x00'</span>, <span class="ch">'\x00'</span>, <span class="ch">'\x00'</span>, <span class="ch">'\x00'</span>, <span class="ch">'\x00'</span>, <span class="ch">'\x00'</span>, <span class="ch">'\x00'</span>,
             <span class="ch">'\x00'</span>, <span class="ch">'\x00'</span>, <span class="ch">'\x00'</span>, <span class="ch">'\x00'</span>, <span class="ch">'\x00'</span>, <span class="ch">'\x00'</span>, <span class="ch">'\x00'</span>, <span class="ch">'\x00'</span>, <span class="ch">'\x00'</span>, <span class="ch">'\x00'</span>, <span class="ch">'\x00'</span>, <span class="ch">'\x00'</span>, <span class="ch">'\x00'</span>, <span class="ch">'\x00'</span>, <span class="ch">'\x00'</span>, <span class="ch">'\x00'</span>,
             <span class="ch">'\x00'</span>, <span class="ch">'\x00'</span>, <span class="ch">'\x00'</span>, <span class="ch">'\x00'</span>, <span class="ch">'\x00'</span>, <span class="ch">'\x00'</span>, <span class="ch">'\x00'</span>, <span class="ch">'\x00'</span>, <span class="ch">'\x00'</span>, <span class="ch">'\x00'</span>, <span class="ch">'\x00'</span>, <span class="ch">'\x00'</span>, <span class="ch">'\x00'</span>, <span class="ch">'\x00'</span>, <span class="ch">'\x00'</span>, <span class="ch">'\x00'</span>,
             <span class="ch">'\x00'</span>, <span class="ch">'\x00'</span>, <span class="ch">'\x00'</span>, <span class="ch">'\x00'</span>, <span class="ch">'\x00'</span>, <span class="ch">'\x00'</span>, <span class="ch">'\x00'</span>, <span class="ch">'\x00'</span>, <span class="ch">'\x00'</span>, <span class="ch">'\x00'</span>, <span class="ch">'\x00'</span>, <span class="ch">'\x00'</span>, <span class="ch">'\x00'</span>, <span class="ch">'\x00'</span>, <span class="ch">'\x00'</span>, <span class="ch">'\x00'</span>,
             <span class="ch">'\x00'</span>, <span class="ch">'\x01'</span>, <span class="ch">'\x00'</span>, <span class="ch">'\x00'</span>, <span class="ch">'\x04'</span>, <span class="ch">'\x00'</span>, <span class="ch">'\x00'</span>, <span class="ch">'\x00'</span>, <span class="ch">'\x00'</span>, <span class="ch">'\x00'</span>, <span class="ch">'\x00'</span>, <span class="ch">'\x00'</span>, <span class="ch">'\x00'</span>, <span class="ch">'\x03'</span>, <span class="ch">'\x00'</span>, <span class="ch">'\x00'</span>,
             <span class="ch">'\x00'</span>, <span class="ch">'\x00'</span>, <span class="ch">'\x00'</span>, <span class="ch">'\x02'</span>, <span class="ch">'\x00'</span>, <span class="ch">'\x00'</span>, <span class="ch">'\x00'</span>, <span class="ch">'\x00'</span>, <span class="ch">'\x00'</span>, <span class="ch">'\x00'</span>, <span class="ch">'\x00'</span>, <span class="ch">'\x00'</span>, <span class="ch">'\x00'</span>, <span class="ch">'\x00'</span>, <span class="ch">'\x00'</span>, <span class="ch">'\x00'</span>,
             <span class="ch">'\x00'</span>, <span class="ch">'\x00'</span>, <span class="ch">'\x00'</span>, <span class="ch">'\x00'</span>, <span class="ch">'\x00'</span>, <span class="ch">'\x00'</span>, <span class="ch">'\x00'</span>, <span class="ch">'\x00'</span>, <span class="ch">'\x00'</span>, <span class="ch">'\x00'</span>, <span class="ch">'\x00'</span>, <span class="ch">'\x00'</span>, <span class="ch">'\x00'</span>, <span class="ch">'\x00'</span>, <span class="ch">'\x00'</span>, <span class="ch">'\x00'</span>,
             <span class="ch">'\x00'</span>, <span class="ch">'\x00'</span>, <span class="ch">'\x00'</span>, <span class="ch">'\x00'</span>, <span class="ch">'\x00'</span>, <span class="ch">'\x00'</span>, <span class="ch">'\x00'</span>, <span class="ch">'\x00'</span>, <span class="ch">'\x00'</span>, <span class="ch">'\x00'</span>, <span class="ch">'\x00'</span>, <span class="ch">'\x00'</span>, <span class="ch">'\x00'</span>, <span class="ch">'\x00'</span>, <span class="ch">'\x00'</span>, <span class="ch">'\x00'</span>,
             <span class="ch">'\x00'</span>, <span class="ch">'\x00'</span>, <span class="ch">'\x00'</span>, <span class="ch">'\x00'</span>, <span class="ch">'\x00'</span>, <span class="ch">'\x00'</span>, <span class="ch">'\x00'</span>, <span class="ch">'\x00'</span>, <span class="ch">'\x00'</span>, <span class="ch">'\x00'</span>, <span class="ch">'\x00'</span>, <span class="ch">'\x00'</span>, <span class="ch">'\x00'</span>, <span class="ch">'\x00'</span>, <span class="ch">'\x00'</span>, <span class="ch">'\x00'</span>,
             <span class="ch">'\x00'</span>, <span class="ch">'\x00'</span>, <span class="ch">'\x00'</span>, <span class="ch">'\x00'</span>, <span class="ch">'\x00'</span>, <span class="ch">'\x00'</span>, <span class="ch">'\x00'</span>, <span class="ch">'\x00'</span>, <span class="ch">'\x00'</span>, <span class="ch">'\x00'</span>, <span class="ch">'\x00'</span>, <span class="ch">'\x00'</span>, <span class="ch">'\x00'</span>, <span class="ch">'\x00'</span>, <span class="ch">'\x00'</span>, <span class="ch">'\x00'</span>,
             <span class="ch">'\x00'</span>, <span class="ch">'\x00'</span>, <span class="ch">'\x00'</span>, <span class="ch">'\x00'</span>, <span class="ch">'\x00'</span>, <span class="ch">'\x00'</span>, <span class="ch">'\x00'</span>, <span class="ch">'\x00'</span>, <span class="ch">'\x00'</span>, <span class="ch">'\x00'</span>, <span class="ch">'\x00'</span>, <span class="ch">'\x00'</span>, <span class="ch">'\x00'</span>, <span class="ch">'\x00'</span>, <span class="ch">'\x00'</span>, <span class="ch">'\x00'</span>,
             <span class="ch">'\x00'</span>, <span class="ch">'\x00'</span>, <span class="ch">'\x00'</span>, <span class="ch">'\x00'</span>, <span class="ch">'\x00'</span>, <span class="ch">'\x00'</span>, <span class="ch">'\x00'</span>, <span class="ch">'\x00'</span>, <span class="ch">'\x00'</span>, <span class="ch">'\x00'</span>, <span class="ch">'\x00'</span>, <span class="ch">'\x00'</span>, <span class="ch">'\x00'</span>, <span class="ch">'\x00'</span>, <span class="ch">'\x00'</span>, <span class="ch">'\x00'</span>,
             <span class="ch">'\x00'</span>, <span class="ch">'\x00'</span>, <span class="ch">'\x00'</span>, <span class="ch">'\x00'</span>, <span class="ch">'\x00'</span>, <span class="ch">'\x00'</span>, <span class="ch">'\x00'</span>, <span class="ch">'\x00'</span>, <span class="ch">'\x00'</span>, <span class="ch">'\x00'</span>, <span class="ch">'\x00'</span>, <span class="ch">'\x00'</span>, <span class="ch">'\x00'</span>, <span class="ch">'\x00'</span>, <span class="ch">'\x00'</span>, <span class="ch">'\x00'</span>,
             <span class="ch">'\x00'</span>, <span class="ch">'\x00'</span>, <span class="ch">'\x00'</span>, <span class="ch">'\x00'</span>, <span class="ch">'\x03'</span>, <span class="ch">'\x00'</span>, <span class="ch">'\x00'</span>, <span class="ch">'\x00'</span>, <span class="ch">'\x00'</span>, <span class="ch">'\x00'</span>, <span class="ch">'\x00'</span>, <span class="ch">'\x00'</span>, <span class="ch">'\x00'</span>, <span class="ch">'\x00'</span>, <span class="ch">'\x00'</span>, <span class="ch">'\x00'</span>,
             <span class="ch">'\x00'</span>, <span class="ch">'\x00'</span>, <span class="ch">'\x00'</span>, <span class="ch">'\x00'</span>, <span class="ch">'\x00'</span>, <span class="ch">'\x00'</span>, <span class="ch">'\x00'</span>, <span class="ch">'\x00'</span>, <span class="ch">'\x00'</span>, <span class="ch">'\x00'</span>, <span class="ch">'\x00'</span>, <span class="ch">'\x00'</span>, <span class="ch">'\x00'</span>, <span class="ch">'\x00'</span>, <span class="ch">'\x00'</span>, <span class="ch">'\x00'</span>,
             <span class="ch">'\x00'</span>, <span class="ch">'\x00'</span>, <span class="ch">'\x00'</span>, <span class="ch">'\x00'</span>, <span class="ch">'\x00'</span>, <span class="ch">'\x00'</span>, <span class="ch">'\x00'</span>, <span class="ch">'\x00'</span>, <span class="ch">'\x00'</span>, <span class="ch">'\x00'</span>, <span class="ch">'\x00'</span>, <span class="ch">'\x00'</span>, <span class="ch">'\x00'</span>, <span class="ch">'\x00'</span>, <span class="ch">'\x00'</span>, <span class="ch">'\x00'</span>};
 <span class="co">/* the following code will execute in constant time, irrespective of the value of the input character (x)                    */</span>
 i = CT1x(x);            <span class="co">/* extract the correct subroutine index from table CT1x using its ASCII value as an index initially  */</span>
 <span class="kw">goto</span> *CT1p[i];          <span class="co">/* goto (Switch to) the label corresponding to the index (0=default,1= Add,2= Subtract,.) - see CT1p */</span></code></pre></div>

<p>The next example below illustrates how a similar effect can be achieved in languages that do <strong>not</strong> support pointer definitions in data structures but <strong>do</strong> support indexed branching to a subroutine - contained within a (<a href="zero-based" title="wikilink">0-based</a>) array of subroutine pointers. The table (CT2) is used to extract the index (from 2nd column) to the pointer array (CT2P). If pointer arrays are <em>not</em> supported, a SWITCH statement or equivalent can be used to alter the control flow to one of a sequence of program labels (e.g.: case0,case1,case2,case3,case4) which then either process the input directly, or else perform a call (with return) to the appropriate subroutine (default,Add,Subtract,Multiply or Divide,..) to deal with it.</p>

<p><strong>CT2</strong></p>
<dl>
<dd>
<table>
<thead>
<tr class="header">
<th style="text-align: left;">
<p>input 1</p></th>
<th style="text-align: left;">
<p><strong>subr #</strong></p></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">
<p><strong>A</strong></p></td>
<td style="text-align: left;">
<p><strong>1</strong></p></td>
</tr>
<tr class="even">
<td style="text-align: left;">
<p><strong>S</strong></p></td>
<td style="text-align: left;">
<p><strong>2</strong></p></td>
</tr>
<tr class="odd">
<td style="text-align: left;">
<p><strong>M</strong></p></td>
<td style="text-align: left;">
<p><strong>3</strong></p></td>
</tr>
<tr class="even">
<td style="text-align: left;">
<p><strong>D</strong></p></td>
<td style="text-align: left;">
<p><strong>4</strong></p></td>
</tr>
<tr class="odd">
<td style="text-align: left;">
<p><strong>?</strong></p></td>
<td style="text-align: left;">
<p><strong>0</strong></p></td>
</tr>
</tbody>
</table>
</dd>
</dl>

<p>As in above examples, it is possible to very efficiently translate the potential <a class="uri" href="ASCII" title="wikilink">ASCII</a> input values (A,S,M,D or unknown) into a pointer array index without actually using a table lookup, but is shown here as a table for consistency with the first example.</p>

<p>::<strong>CT2P</strong> pointer array</p>

<p>::{| class="wikitable" ! <a href="pointer_(computer_programming)" title="wikilink">pointer</a> <a href="Array_data_structure" title="wikilink">array</a>!! |- | <strong>--&gt;default</strong> |- | <strong>--&gt;Add</strong> |- | <strong>--&gt;Subtract</strong> |- | <strong>--&gt;Multiply</strong> |- | <strong>--&gt;Divide</strong> |- | <strong>--&gt;?other</strong> |}</p>

<p>Multi-dimensional control tables can be constructed (i.e. customized) that can be 'more complex' than the above examples that might test for multiple conditions on multiple inputs or perform more than one 'action', based on some matching criteria. An 'action' can include a pointer to another subordinate control table. The simple example below has had an <em>implicit</em> 'OR' condition incorporated as an extra column (to handle lower case input, however in this instance, this could equally have been handled simply by having an extra entry for each of the lower case characters specifying the same subroutine identifier as the upper case characters). An extra column to count the actual run-time events for each input as they occur is also included.</p>

<p><strong>CT3</strong></p>
<dl>
<dd>
<table>
<thead>
<tr class="header">
<th style="text-align: left;">
<p>input 1</p></th>
<th style="text-align: left;">
<p>alternate</p></th>
<th style="text-align: left;">
<p><strong>subr #</strong></p></th>
<th style="text-align: left;">
<p><strong>count</strong></p></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">
<p><strong>A</strong></p></td>
<td style="text-align: left;">
<p><strong>a</strong></p></td>
<td style="text-align: left;">
<p><strong>1</strong></p></td>
<td style="text-align: left;">
<p><strong>0</strong></p></td>
</tr>
<tr class="even">
<td style="text-align: left;">
<p><strong>S</strong></p></td>
<td style="text-align: left;">
<p><strong>s</strong></p></td>
<td style="text-align: left;">
<p><strong>2</strong></p></td>
<td style="text-align: left;">
<p><strong>0</strong></p></td>
</tr>
<tr class="odd">
<td style="text-align: left;">
<p><strong>M</strong></p></td>
<td style="text-align: left;">
<p><strong>m</strong></p></td>
<td style="text-align: left;">
<p><strong>3</strong></p></td>
<td style="text-align: left;">
<p><strong>0</strong></p></td>
</tr>
<tr class="even">
<td style="text-align: left;">
<p><strong>D</strong></p></td>
<td style="text-align: left;">
<p><strong>d</strong></p></td>
<td style="text-align: left;">
<p><strong>4</strong></p></td>
<td style="text-align: left;">
<p><strong>0</strong></p></td>
</tr>
<tr class="odd">
<td style="text-align: left;">
<p><strong>?</strong></p></td>
<td style="text-align: left;">
<p><strong>?</strong></p></td>
<td style="text-align: left;">
<p><strong>0</strong></p></td>
<td style="text-align: left;">
<p><strong>0</strong></p></td>
</tr>
</tbody>
</table>
</dd>
</dl>

<p>The control table entries are then much more similar to conditional statements in <a href="procedural_language" title="wikilink">procedural languages</a> but, crucially, without the actual (language dependent) conditional statements (i.e. instructions) being present (the generic code is <em>physically</em> in the interpreter that processes the table entries, not in the table itself - which simply embodies the program logic via its structure and values).</p>

<p>In tables such as these, where a series of similar table entries defines the entire logic, a table entry number or pointer may effectively take the place of a <a href="program_counter" title="wikilink">program counter</a> in more conventional programs and may be reset in an 'action', also specified in the table entry. The example below (CT4) shows how extending the earlier table, to include a 'next' entry (and/or including an 'alter flow' (<a href="Branch_(computer_science)" title="wikilink">jump</a>) subroutine) can create a <a href="Program_loop" title="wikilink">loop</a> (This example is actually not the most efficient way to construct such a control table but, by demonstrating a gradual 'evolution' from the first examples above, shows how additional columns can be used to modify behaviour.) The fifth column demonstrates that more than one action can be initiated with a single table entry - in this case an action to be performed <em>after</em> the normal processing of each entry ('-' values mean 'no conditions' or 'no action').</p>

<p><a href="Structured_programming" title="wikilink">Structured programming</a> or <a href="Structured_programming" title="wikilink">"Goto-less" code</a>, (incorporating the equivalent of '<a href="Do_while_loop" title="wikilink">DO WHILE</a>' or '<a href="for_loop" title="wikilink">for loop</a>' constructs), can also be accommodated with suitably designed and 'indented' control table structures.</p>

<p><strong>CT4</strong> (a complete 'program' to read input1 and process, repeating until 'E' encountered)</p>
<dl>
<dd>
<table>
<thead>
<tr class="header">
<th style="text-align: left;">
<p>input 1</p></th>
<th style="text-align: left;">
<p>alternate</p></th>
<th style="text-align: left;">
<p><strong>subr #</strong></p></th>
<th style="text-align: left;">
<p><strong>count</strong></p></th>
<th style="text-align: left;">
<p><strong>jump</strong></p></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">
<p><strong>-</strong></p></td>
<td style="text-align: left;">
<p><strong>-</strong></p></td>
<td style="text-align: left;">
<p><strong>5</strong></p></td>
<td style="text-align: left;">
<p><strong>0</strong></p></td>
<td style="text-align: left;">
<p><strong>-</strong></p></td>
</tr>
<tr class="even">
<td style="text-align: left;">
<p><strong>E</strong></p></td>
<td style="text-align: left;">
<p><strong>e</strong></p></td>
<td style="text-align: left;">
<p><strong>7</strong></p></td>
<td style="text-align: left;">
<p><strong>0</strong></p></td>
<td style="text-align: left;">
<p><strong>-</strong></p></td>
</tr>
<tr class="odd">
<td style="text-align: left;">
<p><strong>A</strong></p></td>
<td style="text-align: left;">
<p><strong>a</strong></p></td>
<td style="text-align: left;">
<p><strong>1</strong></p></td>
<td style="text-align: left;">
<p><strong>0</strong></p></td>
<td style="text-align: left;">
<p><strong>-</strong></p></td>
</tr>
<tr class="even">
<td style="text-align: left;">
<p><strong>S</strong></p></td>
<td style="text-align: left;">
<p><strong>s</strong></p></td>
<td style="text-align: left;">
<p><strong>2</strong></p></td>
<td style="text-align: left;">
<p><strong>0</strong></p></td>
<td style="text-align: left;">
<p><strong>-</strong></p></td>
</tr>
<tr class="odd">
<td style="text-align: left;">
<p><strong>M</strong></p></td>
<td style="text-align: left;">
<p><strong>m</strong></p></td>
<td style="text-align: left;">
<p><strong>3</strong></p></td>
<td style="text-align: left;">
<p><strong>0</strong></p></td>
<td style="text-align: left;">
<p><strong>-</strong></p></td>
</tr>
<tr class="even">
<td style="text-align: left;">
<p><strong>D</strong></p></td>
<td style="text-align: left;">
<p><strong>d</strong></p></td>
<td style="text-align: left;">
<p><strong>4</strong></p></td>
<td style="text-align: left;">
<p><strong>0</strong></p></td>
<td style="text-align: left;">
<p><strong>-</strong></p></td>
</tr>
<tr class="odd">
<td style="text-align: left;">
<p><strong>?</strong></p></td>
<td style="text-align: left;">
<p><strong>?</strong></p></td>
<td style="text-align: left;">
<p><strong>0</strong></p></td>
<td style="text-align: left;">
<p><strong>0</strong></p></td>
<td style="text-align: left;">
<p><strong>-</strong></p></td>
</tr>
<tr class="even">
<td style="text-align: left;">
<p><strong>-</strong></p></td>
<td style="text-align: left;">
<p><strong>-</strong></p></td>
<td style="text-align: left;">
<p><strong>6</strong></p></td>
<td style="text-align: left;">
<p><strong>0</strong></p></td>
<td style="text-align: left;">
<p><strong>1</strong></p></td>
</tr>
</tbody>
</table>
</dd>
</dl>

<p>::<strong>CT4P</strong> pointer array</p>

<p>::{| class="wikitable" ! <a href="pointer_(computer_programming)" title="wikilink">pointer</a> <a href="Array_data_structure" title="wikilink">array</a>!! |- | <strong>--&gt;Default</strong> |- | <strong>--&gt;Add</strong> |- | <strong>--&gt;Subtract</strong> |- | <strong>--&gt;Multiply</strong> |- | <strong>--&gt;Divide</strong> |- | <strong>--&gt;Read Input1</strong> |- | <strong>--&gt;Alter flow</strong> |- | <strong>--&gt;End</strong> |}</p>
<h3 id="table-driven-rating">Table-driven rating</h3>

<p>In the specialist field of <a href="telecommunications_rating" title="wikilink">telecommunications rating</a> (concerned with the determining the cost of a particular call), <strong>table-driven rating</strong> techniques illustrate the use of control tables in applications where the rules may change frequently because of market forces. The tables that determine the charges may be changed at short notice by non-programmers in many cases.<a class="footnoteRef" href="#fn4" id="fnref4"><sup>4</sup></a><a class="footnoteRef" href="#fn5" id="fnref5"><sup>5</sup></a></p>

<p>If the algorithms are not pre-built into the interpreter (and therefore require additional runtime interpretation of an expression held in the table), it is known as "Rule-based Rating" rather than table-driven rating (and consequently consumes significantly more overhead).</p>
<h3 id="spreadsheets">Spreadsheets</h3>

<p>A <a class="uri" href="spreadsheet" title="wikilink">spreadsheet</a> data sheet can be thought of as a two dimensional control table, with the non empty cells representing data to the underlying spreadsheet program (the interpreter). The cells containing formula are usually prefixed with an equals sign and simply designate a special type of data input that dictates the processing of other referenced cells - by altering the control flow within the interpreter. It is the externalization of formulae from the underlying interpreter that clearly identifies both spreadsheets, and the above cited "rule based rating" example as readily identifiable instances of the use of control tables by non programmers.</p>
<h2 id="programming-paradigm">Programming paradigm</h2>

<p>If the control tables technique could be said to belong to any particular <a href="programming_paradigm" title="wikilink">programming paradigm</a>, the closest analogy might be <a href="Automata-based_programming" title="wikilink">Automata-based programming</a> or <a href="Reflection_(computer_science)" title="wikilink">"reflective"</a> (a form of <a class="uri" href="metaprogramming" title="wikilink">metaprogramming</a> - since the table entries could be said to 'modify' the behaviour of the interpreter). The interpreter itself however, and the subroutines, can be programmed using any one of the available paradigms or even a mixture. The table itself can be essentially a collection of "<a href="raw_data" title="wikilink">raw data</a>" values that do not even need to be compiled and could be read in from an external source (except in specific, platform dependent, implementations using memory pointers directly for greater efficiency).</p>
<h2 id="analogy-to-bytecode-virtual-machine-instruction-set">Analogy to bytecode / virtual machine instruction set</h2>

<p>A multi-dimensional control table has some conceptual similarities to <a class="uri" href="bytecode" title="wikilink">bytecode</a> operating on a <a href="virtual_machine" title="wikilink">virtual machine</a>, in that a <a href="platform_dependent" title="wikilink">platform dependent</a> <a href="Interpreter_(computing)" title="wikilink">"interpreter"</a> program is usually required to perform the actual execution (that is largely conditionally determined by the tables content). There are also some conceptual similarities to the recent <a href="Common_Intermediate_Language" title="wikilink">Common Intermediate Language</a> (CIL) in the aim of creating a common intermediate 'instruction set' that is independent of platform (but unlike CIL, no pretentions to be used as a common resource for other languages). <a href="p-code_machine" title="wikilink">P-code</a> can also be considered a similar but earlier implementation with origins as far back as 1966.</p>
<h2 id="instruction-fetch">Instruction fetch</h2>

<p>When a multi-dimensional control table is used to determine program flow, the normal "hardware" <a href="Program_Counter" title="wikilink">Program Counter</a> function is effectively simulated with either a <a href="Pointer_(computer_programming)" title="wikilink">pointer</a> to the first (or next) table entry or else an <a href="array_index" title="wikilink">index</a> to it. "Fetching" the instruction involves decoding the <em>data</em> in that table entry - without necessarily copying all or some of the data within the entry first. Programming languages that are able to use <a href="Pointer_(computer_programming)" title="wikilink">pointers</a> have the dual advantage that less <a href="Computational_overhead" title="wikilink">overhead</a> is involved, both in accessing the contents and also advancing the counter to point to the next table entry after execution. Calculating the next 'instruction' address (i.e. table entry) can even be performed as an optional additional action of every individual table entry allowing <a href="Program_loops" title="wikilink">loops</a> and or <a href="Branch_(computer_science)" title="wikilink">jump</a> instructions at any stage.</p>
<h2 id="monitoring-control-table-execution">Monitoring control table execution</h2>

<p>The interpreter program can optionally save the program counter (and other relevant details depending upon instruction type) at each stage to record a full or partial trace of the actual program flow for <a class="uri" href="debugging" title="wikilink">debugging</a> purposes, <a href="Hot_spot_(computer_science)" title="wikilink">hot spot</a> detection, <a href="code_coverage" title="wikilink">code coverage</a> analysis and <a href="Profiling_(computer_programming)" title="wikilink">performance analysis</a> (see examples CT3 &amp; CT4 above).</p>
<h2 id="advantages">Advantages</h2>
<ul>
<li>clarity - <a href="Table_(information)" title="wikilink">Information tables</a> are <a href="Ubiquitous_computing" title="wikilink">ubiquitous</a> and mostly <a class="uri" href="inherently" title="wikilink">inherently</a> <a href="understanding" title="wikilink">understood</a> even by the <a href="general_public" title="wikilink">general public</a> (especially <a href="fault_diagnosis" title="wikilink">fault diagnostic</a> tables in <a href="User_guide" title="wikilink">product guides</a>)</li>
<li>portability - can be designed to be 100% language independent (and platform independent - except for the interpreter)</li>
<li>flexibility - ability to execute either <a href="Language_primitive" title="wikilink">primitives</a> or <a href="subroutine" title="wikilink">subroutines</a> transparently and be custom designed to suit the problem</li>
<li>compactness - table usually shows condition/action pairing side-by-side (without the usual platform/language implementation dependencies), often also resulting in
<ul>
<li><a href="binary_file" title="wikilink">binary file</a> - reduced in size through less duplication of instructions</li>
<li><a href="Source_code" title="wikilink">source</a> file - reduced in size through elimination of multiple conditional statements</li>
<li>improved program load (or download) speeds</li>
</ul></li>
<li>maintainability - tables often reduce the number of source lines needed to be maintained v. multiple compares</li>
<li>locality of reference - compact tables structures result in tables remaining in <a href="cache_(computing)" title="wikilink">cache</a></li>
<li>code re-use - the "interpreter" is usually reusable. Frequently it can be easily adapted to new programming tasks using precisely the same technique and can grow 'organically' becoming, in effect, a <a href="standard_library" title="wikilink">standard library</a> of tried and tested <a class="uri" href="subroutines" title="wikilink">subroutines</a>, controlled by the table definitions.</li>
<li><a href="algorithmic_efficiency" title="wikilink">efficiency</a> - systemwide optimization possible. Any performance improvement to the interpreter usually improves <em>all</em> applications using it (see examples in 'CT1' above).</li>
<li>extensible - new 'instructions' can be added - simply by extending the interpreter</li>
<li>interpreter can be written like an application program</li>
</ul>

<p>Optionally:-</p>
<ul>
<li>the interpreter can be <a href="Introspection" title="wikilink">introspective</a> and "self <a href="Optimization_(computer_science)" title="wikilink">optimize</a>" using runtime <a href="Software_metric" title="wikilink">metrics</a> collected within the table itself (see CT3 and CT4 - with entries that could be periodically sorted by descending count). The interpreter can also optionally choose the most efficient lookup technique dynamically from metrics gathered at run-time (e.g. size of array, range of values, sorted or unsorted)</li>
<li><a href="dynamic_dispatch" title="wikilink">dynamic dispatch</a> - common functions can be pre-loaded and less common functions fetched only on first encounter to reduce <a class="uri" href="memory" title="wikilink">memory</a> usage. In-table <a class="uri" href="memoization" title="wikilink">memoization</a> can be employed to achieve this.</li>
<li>The interpreter can have debugging, trace and monitor features built-in - that can then be switched on or off at will according to test or 'live' mode</li>
<li>control tables can be built 'on-the-fly' (according to some user input or from parameters) and then executed by the interpreter (without building code literally).</li>
</ul>
<h2 id="disadvantages">Disadvantages</h2>
<ul>
<li>training requirement - application programmers are not usually trained to produce generic solutions</li>
</ul>

<p>The following mainly apply to their use in multi-dimensional tables, not the one-dimensional tables discussed earlier.</p>
<ul>
<li><a href="Computational_overhead" title="wikilink">overhead</a> - some increase because of extra level of <a href="Indirection_(programming)" title="wikilink">indirection</a> caused by virtual instructions having to be 'interpreted' (this however can usually be more than offset by a well designed generic interpreter taking full advantage of efficient direct translate, search and conditional testing techniques that may not otherwise have been utilized)</li>
<li>Complex <a href="Expression_(programming)" title="wikilink">expressions</a> cannot always be used <em>directly</em> in data table entries for comparison purposes</li>
</ul>
<dl>
<dd>(these 'intermediate values' can however be calculated beforehand instead within a subroutine and their values referred to in the conditional table entries. Alternatively, a subroutine can perform the complete complex conditional test (as an unconditional 'action') and, by setting a <a href="Truth_bit" title="wikilink">truth flag</a> as its result, it can then be tested in the next table entry. See <a href="Structured_program_theorem" title="wikilink">Structured program theorem</a>)
</dd>
</dl>
<h2 id="quotations">Quotations</h2>
<h2 id="see-also">See also</h2>
<ul>
<li><a href="Automata-based_programming" title="wikilink">Automata-based programming</a></li>
<li><a href="Database-centric_architecture" title="wikilink">Database-centric architecture</a></li>
<li><a href="Data-driven_testing" title="wikilink">Data-driven testing</a></li>
<li><a href="Decision_table" title="wikilink">Decision table</a></li>
<li><a href="Finite-state_machine" title="wikilink">Finite-state machine</a></li>
<li><a href="Keyword-driven_testing" title="wikilink">Keyword-driven testing</a></li>
<li><a href="Pointer_(computer_programming)" title="wikilink">Pointer (computer programming)</a></li>
<li><a href="Switch_statement" title="wikilink">Switch statement</a> - <a href="multiway_branch" title="wikilink">multiway branching</a> to one of a number of <a href="Label_(programming_language)" title="wikilink">program labels</a>, depending upon a single input variable</li>
<li><a href="Threaded_code" title="wikilink">Threaded code</a></li>
<li><a href="Threaded_code#Token_threading" title="wikilink">Token threading</a></li>
</ul>
<h2 id="notes">Notes</h2>
<h2 id="references">References</h2>
<ul>
<li><a href="http://www.methodsandtools.com/archive/archive.php?id=39">Decision Table Based Methodology</a></li>
<li><a href="http://pplab.snu.ac.kr/courses/adv_pl05/papers/p261-knuth.pdf">Structured Programming with go to Statements</a> by <a href="Donald_Knuth" title="wikilink">Donald Knuth</a></li>
<li><a href="http://www.citeulike.org/user/derek_farn/article/2303550">Compiler code generation for multiway branch statements as a static search problem</a> 1I994, by David A. Spuler</li>
</ul>
<h2 id="external-links">External links</h2>
<ul>
<li><a href="http://www.microsoft.com/technet/scriptcenter/resources/pstips/jan08/pstip0111.mspx">Switch statement in Windows PowerShell</a> describes extensions to standard switch statement (providing some similar features to control tables)</li>
<li><a href="http://www.cs.auckland.ac.nz/~j-hamer/07.211/C/C-Lesson/C-LESSON.4">Control Table example in "C" language using pointers</a>, by Christopher Sawtell c1993, Department of Computer Science, <a href="University_of_Auckland" title="wikilink">University of Auckland</a></li>
<li><a href="http://www.dkl.com/html/CMFiles/53table_driven_design.pdf">Table driven design</a> by Wayne Cunneyworth of Data Kinetics</li>
<li><a href="http://commons.oreilly.com/wiki/index.php/From_Requirements_to_Tables_to_Code_and_Tests">From Requirements to Tables to Code and Tests</a> By George Brooke</li>
<li>[<a class="uri" href="http://portal.acm.org/citation.cfm?id=362041.362195&amp;coll">http://portal.acm.org/citation.cfm?id=362041.362195&amp;coll;</a>;=GUIDE&amp;dl;=GUIDE&amp;CFID;=60499203&amp;CFTOKEN;=67618699 Some comments on the use of ambiguous decision tables and their conversion to computer programs] by P. J. H. King and R. G. Johnson, Univ. of London, London, UK</li>
<li>[<a class="uri" href="http://portal.acm.org/citation.cfm?id=364113&amp;dl">http://portal.acm.org/citation.cfm?id=364113&amp;dl;</a>;=GUIDE&amp;coll;=GUIDE&amp;CFID;=60499203&amp;CFTOKEN;=67618699 Ambiguity in limited entry decision tables] by P. J. H. King</li>
<li>[<a class="uri" href="http://portal.acm.org/citation.cfm?id=365896&amp;dl">http://portal.acm.org/citation.cfm?id=365896&amp;dl;</a>;=GUIDE&amp;coll;=GUIDE&amp;CFID;=60499203&amp;CFTOKEN;=67618699 Conversion of decision tables to computer programs by rule mask techniques] by P. J. H. King</li>
<li><a href="http://ols.fedoraproject.org/GCC/Reprints-2008/sayle-reprint.pdf">A Superoptimizer Analysis of Multiway Branch Code Generation</a> section 3.9, page 16 index mapping</li>
<li><a href="http://www.netrino.com/node/137">Jump Tables via Function Pointer Arrays in C/C++</a> Jones, Nigel. "Arrays of Pointers to Functions <a href="http://www.rmbconsulting.us/Publications/PointerToFunction.pdf">3</a>" Embedded Systems Programming, May 1999.</li>
<li><a href="http://stats.grok.se/en/200912/control_table">Page view statistics for this article for December 2009</a></li>
</ul>
<ul>
<li><a href="http://is.ifmo.ru/download/modelingsoftwarewithfinitestatemachinesapracticalapproach.pdf">Modelling software with finite state machines - a practical approach</a></li>
<li>[<a class="uri" href="http://docs.google.com/viewer?a=v&amp;q">http://docs.google.com/viewer?a=v&amp;q;</a>;=cache:dytF6h4pD-4J:lss.fnal.gov/archive/tm/TM-1508.pdf+%22finite+state+table%22&amp;hl;=enâ‰·=uk&amp;pid;=bl&amp;srcid;=ADGEESgaFAmVjB_QzcxIn2MmK7N6QeffWYyHfUGTZG7zfB0DKoTaJUc2m_uncWXIteXNu_oCi570cGtCCjJeHYFUURZNoGdZMgn62OgTldHus4dTTN6BNt_vSce0jBoayojMcIGOfhcj&amp;sig;=AHIEtbQ_1D3cO9a-FChv2QDKZqlzZ4oT4Q Finite State Tables for General Computer Programming Applications January 1988] by Mark Leininger</li>
<li><a href="http://msdn.microsoft.com/en-us/library/aa561913%28v=bts.20%29.aspx">MSDN:Trigger-Based Event Processing</a></li>
<li><a href="http://c2.com/cgi/wiki?ControlTable">Control Table in c2.com</a></li>
</ul>

<p>"</p>

<p><a href="Category:Control_flow" title="wikilink"> </a> <a href="Category:Data_structures" title="wikilink">Category:Data structures</a> <a href="Category:Compiler_construction" title="wikilink">Category:Compiler construction</a></p>
<section class="footnotes">
<hr/>
<ol>
<li id="fn1"><em>Programs from decision tables</em>, Humby, E., 2007,Macdonald, 1973 ... Biggerstaff, Ted J. Englewood Cliffs, NJ : Prentice-Hall ISBN 0-444-19569-6<a href="#fnref1">â†©</a></li>
<li id="fn2"><a href="http://www.dkl.com/html/CMFiles/53table_driven_design.pdf">1</a><a href="#fnref2">â†©</a></li>
<li id="fn3"><a href="UML_state_machine#Hierarchically_nested_states" title="wikilink">UML state machine#Hierarchically nested states</a><a href="#fnref3">â†©</a></li>
<li id="fn4">Carl Wright, Service Level Corpo. (2002) <em><a href="http://www.servicelevel.net/rating_matters/newsletters/issue12.htm">Program Code Based vs. Table-driven vs. Rule-Based Rating</a></em>, Rating Matters issue n. 12, 13 November 2002 ISSN: 1532-1886<a href="#fnref4">â†©</a></li>
<li id="fn5">Brian E. Clauser, Melissa J. Margolis, Stephen G. Clyman, Linette P. Ross (1997) <em><a href="http://links.jstor.org/sici?sici=0022-0655%28199722%2934%3A2%3C141%3ADOASAF%3E2.0.CO%3B2-%23">Development of Automated Scoring Algorithms for Complex Performance Assessments: A Comparison of Two Approaches</a></em> Journal of Educational Measurement, Vol. 34, No. 2 (Summer, 1997), pp. 141-161<a href="#fnref5">â†©</a></li>
</ol>
</section>
</body>

