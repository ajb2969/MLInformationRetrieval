<html lang="en">
<head>
<meta charset="utf-8"/>
<title offset="650">Handshaking lemma</title>
<script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_SVG.js" type="text/javascript">
</script>
</head>
<body>
<h1>Handshaking lemma</h1>
<hr/>

<p> In <a href="graph_theory" title="wikilink">graph theory</a>, a branch of mathematics, the <strong>handshaking lemma</strong> is the statement that every finite <a href="undirected_graph" title="wikilink">undirected graph</a> has an even number of vertices with odd <a href="degree_(graph_theory)" title="wikilink">degree</a> (the number of edges touching the vertex). In more colloquial terms, in a party of people some of whom shake hands, an even number of people must have shaken an odd number of other people's hands.</p>

<p>The handshaking lemma is a consequence of the <strong>degree sum formula</strong> (also sometimes called the <strong>handshaking lemma</strong>),</p>

<p>

<math display="block" id="Handshaking_lemma:0">
 <semantics>
  <mrow>
   <mrow>
    <munder>
     <mo largeop="true" movablelimits="false" symmetric="true">∑</mo>
     <mrow>
      <mi>v</mi>
      <mo>∈</mo>
      <mi>V</mi>
     </mrow>
    </munder>
    <mrow>
     <mi>deg</mi>
     <mrow>
      <mo stretchy="false">(</mo>
      <mi>v</mi>
      <mo stretchy="false">)</mo>
     </mrow>
    </mrow>
   </mrow>
   <mo>=</mo>
   <mrow>
    <mn>2</mn>
    <mrow>
     <mo stretchy="false">|</mo>
     <mi>E</mi>
     <mo stretchy="false">|</mo>
    </mrow>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <sum></sum>
      <apply>
       <in></in>
       <ci>v</ci>
       <ci>V</ci>
      </apply>
     </apply>
     <apply>
      <csymbol cd="latexml">degree</csymbol>
      <ci>v</ci>
     </apply>
    </apply>
    <apply>
     <times></times>
     <cn type="integer">2</cn>
     <apply>
      <abs></abs>
      <ci>E</ci>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \sum_{v\in V}\deg(v)=2|E|
  </annotation>
 </semantics>
</math>

 for a graph with <a href="vertex_(graph_theory)" title="wikilink">vertex set</a> <em>V</em> and <a href="edge_(graph_theory)" title="wikilink">edge set</a> <em>E</em>. Both results were proven by  in his famous paper on the <a href="Seven_Bridges_of_Königsberg" title="wikilink">Seven Bridges of Königsberg</a> that began the study of graph theory.</p>

<p>The vertices of odd degree in a graph are sometimes called <strong>odd nodes</strong> or <strong>odd vertices</strong>; in this terminology, the handshaking lemma can be restated as the statement that every graph has an even number of odd nodes.</p>
<h2 id="proof">Proof</h2>

<p>Euler's proof of the degree sum formula uses the technique of <a href="Double_counting_(proof_technique)" title="wikilink">double counting</a>: he counts the number of incident pairs (<em>v</em>,<em>e</em>) where <em>e</em> is an edge and vertex <em>v</em> is one of its endpoints, in two different ways. Vertex <em>v</em> belongs to deg(<em>v</em>) pairs, where deg(<em>v</em>) (the <a href="degree_(graph_theory)" title="wikilink">degree</a> of <em>v</em>) is the number of edges incident to it. Therefore the number of incident pairs is the sum of the degrees. However, each edge in the graph belongs to exactly two incident pairs, one for each of its endpoints; therefore, the number of incident pairs is 2|<em>E</em>|. Since these two formulas count the same set of objects, they must have equal values.</p>

<p>In a sum of integers, the <a href="Parity_(mathematics)" title="wikilink">parity</a> of the sum is not affected by the even terms in the sum; the overall sum is even when there is an even number of odd terms, and odd when there is an odd number of odd terms. Since one side of the degree sum formula is the even number 2|<em>E</em>|, the sum on the other side must have an even number of odd terms; that is, there must be an even number of odd-degree vertices.</p>

<p>Alternatively, it is possible to use <a href="mathematical_induction" title="wikilink">mathematical induction</a> to prove that the number of odd-degree vertices is even, by removing one edge at a time from a given graph and using a <a href="case_analysis" title="wikilink">case analysis</a> on the degrees of its endpoints to determine the effect of this removal on the parity of the number of odd-degree vertices.</p>
<h2 id="regular-graphs">Regular graphs</h2>

<p>The degree sum formula implies that every <em>r</em>-<a href="regular_graph" title="wikilink">regular graph</a> with <em>n</em> vertices has <em>nr</em>/2 edges.<a class="footnoteRef" href="#fn1" id="fnref1"><sup>1</sup></a> In particular, if <em>r</em> is odd then the number of edges must be divisible by <em>r</em>.</p>
<h2 id="infinite-graphs">Infinite graphs</h2>

<p> The handshaking lemma does not apply to infinite graphs, even when they have only a finite number of odd-degree vertices. For instance, an infinite <a href="path_graph" title="wikilink">path graph</a> with one endpoint has only a single odd-degree vertex rather than having an even number of such vertices.</p>
<h2 id="exchange-graphs">Exchange graphs</h2>

<p>Several combinatorial structures listed by  may be shown to be even in number by relating them to the odd vertices in an appropriate "exchange graph".</p>

<p>For instance, as <a href="Cedric_Smith_(statistician)" title="wikilink">C. A. B. Smith</a> proved, in any <a href="cubic_graph" title="wikilink">cubic graph</a> <em>G</em> there must be an even number of <a href="Hamiltonian_cycle" title="wikilink">Hamiltonian cycles</a> through any fixed edge <em>uv</em>;  used a proof based on the handshaking lemma to extend this result to graphs <em>G</em> in which all vertices have odd degree. Thomason defines an exchange graph <em>H</em>, the vertices of which are in one-to-one correspondence with the Hamiltonian paths beginning at <em>u</em> and continuing through <em>v</em>. Two such paths <em>p</em><sub>1</sub> and <em>p</em><sub>2</sub> are connected by an edge in <em>H</em> if one may obtain <em>p</em><sub>2</sub> by adding a new edge to the end of <em>p</em><sub>1</sub> and removing another edge from the middle of <em>p</em><sub>1</sub>; this is a <a href="symmetric_relation" title="wikilink">symmetric relation</a>, so <em>H</em> is an undirected graph. If path <em>p</em> ends at vertex <em>w</em>, then the vertex corresponding to <em>p</em> in <em>H</em> has degree equal to the number of ways that <em>p</em> may be extended by an edge that does not connect back to <em>u</em>; that is, the degree of this vertex in <em>H</em> is either deg(<em>w</em>) − 1 (an even number) if <em>p</em> does not form part of a Hamiltonian cycle through <em>uv</em>, or deg(<em>w</em>) − 2 (an odd number) if <em>p</em> is part of a Hamiltonian cycle through <em>uv</em>. Since <em>H</em> has an even number of odd vertices, <em>G</em> must have an even number of Hamiltonian cycles through <em>uv</em>.</p>
<h2 id="computational-complexity">Computational complexity</h2>

<p>In connection with the exchange graph method for proving the existence of combinatorial structures, it is of interest to ask how efficiently these structures may be found. For instance, suppose one is given as input a Hamiltonian cycle in a cubic graph; it follows from Smith's theorem that there exists a second cycle. How quickly can this second cycle be found?  investigated the <a href="Computational_complexity_theory" title="wikilink">computational complexity</a> of questions such as this, or more generally of finding a second odd-degree vertex when one is given a single odd vertex in a large <a href="implicitly-defined_graph" title="wikilink">implicitly-defined graph</a>. He defined the <a href="complexity_class" title="wikilink">complexity class</a> <a href="PPA_(complexity)" title="wikilink">PPA</a> to encapsulate problems such as this one; a closely related class defined on directed graphs, <a href="PPAD_(complexity)" title="wikilink">PPAD</a>, has attracted significant attention in <a href="algorithmic_game_theory" title="wikilink">algorithmic game theory</a> because computing a <a href="Nash_equilibrium" title="wikilink">Nash equilibrium</a> is computationally equivalent to the hardest problems in this class.<a class="footnoteRef" href="#fn2" id="fnref2"><sup>2</sup></a></p>
<h2 id="other-applications">Other applications</h2>

<p>The handshaking lemma is also used in proofs of <a href="Sperner's_lemma" title="wikilink">Sperner's lemma</a> and of the piecewise linear case of the <a href="mountain_climbing_problem" title="wikilink">mountain climbing problem</a>.</p>
<h2 id="notes">Notes</h2>
<h2 id="references">References</h2>
<ul>
<li>

<p>.</p></li>
<li>

<p>. Reprinted and translated in .</p></li>
<li>

<p>.</p></li>
<li>

<p>.</p></li>
</ul>

<p>"</p>

<p><a href="Category:Graph_theory" title="wikilink">Category:Graph theory</a> <a class="uri" href="Category:Lemmas" title="wikilink">Category:Lemmas</a></p>
<section class="footnotes">
<hr/>
<ol>
<li id="fn1"><a href="#fnref1">↩</a></li>
<li id="fn2"><a href="#fnref2">↩</a></li>
</ol>
</section>
</body>
</html>
