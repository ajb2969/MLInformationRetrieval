<html lang="en">
<head>
<meta charset="utf-8"/>
<title offset="1858">Box counting</title>
<script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_SVG.js" type="text/javascript">
</script>
</head>
<body>
<h1>Box counting</h1>
<hr/>
<figure><b>(Figure)</b>
<figcaption>Figure 1. A 32-segment <a href="fractal#iterated" title="wikilink">quadric fractal</a> viewed through "boxes" of different sizes. The pattern illustrates <a href="self_similarity" title="wikilink">self similarity</a>.</figcaption>
</figure>

<p><strong>Box counting</strong> is a method of gathering <a href="#data" title="wikilink">data</a> for analyzing <a href="complex_systems" title="wikilink">complex patterns</a> by breaking a <a href="Data_set" title="wikilink">dataset</a>, object, image, etc. into smaller and smaller pieces, typically "box"-shaped, and analyzing the pieces at each smaller scale. The essence of the process has been compared to zooming in or out using optical or computer based methods to examine how observations of detail change with scale. In box counting, however, rather than changing the magnification or resolution of a lens, the investigator changes the <a href="#boxsize" title="wikilink">size of the element</a> used to inspect the object or pattern (see <a href="#32seg" title="wikilink">Figure 1</a>). Computer based box counting algorithms have been applied to patterns in 1-, 2-, and 3-dimensional spaces.<a class="footnoteRef" href="#fn1" id="fnref1"><sup>1</sup></a><a class="footnoteRef" href="#fn2" id="fnref2"><sup>2</sup></a> The technique is usually implemented in software for use on patterns <a href="#extracting_patterns" title="wikilink">extracted</a> from <a href="digital_media" title="wikilink">digital media</a>, although the <a href="#section_The_Method" title="wikilink">fundamental method</a> can be used to investigate some patterns physically. The technique arose out of and is used in <a href="fractal_analysis" title="wikilink">fractal analysis</a>. It also has application in related fields such as <a class="uri" href="lacunarity" title="wikilink">lacunarity</a> and <a class="uri" href="multifractal" title="wikilink">multifractal</a> analysis.<a class="footnoteRef" href="#fn3" id="fnref3"><sup>3</sup></a><a class="footnoteRef" href="#fn4" id="fnref4"><sup>4</sup></a></p>
<h2 id="the-method">The method</h2>

<p>Theoretically, the intent of box counting is to quantify <a class="uri" href="fractal" title="wikilink">fractal</a> scaling, but from a practical perspective this would require that the scaling be known ahead of time. This can be seen in <a href="#32seg" title="wikilink">Figure 1</a> where choosing boxes of the right relative sizes readily shows how the pattern repeats itself at smaller scales. In fractal analysis, however, the scaling factor is not always known ahead of time, so box counting algorithms attempt to find an optimized way of cutting a pattern up that will reveal the scaling factor. The fundamental method for doing this starts with a <a href="#box_size" title="wikilink">set of measuring elements</a>—<em>boxes</em>—consisting of an arbitrary number, called 

<math display="inline" id="Box_counting:0">
 <semantics>
  <merror class="ltx_ERROR undefined undefined">
   <mtext>\Epsilon</mtext>
  </merror>
  <annotation-xml encoding="MathML-Content">
   <mtext>\Epsilon</mtext>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \Epsilon
  </annotation>
 </semantics>
</math>

 here for convenience, of sizes or calibres, which we will call the set of 

<math display="inline" id="Box_counting:1">
 <semantics>
  <mi>ϵ</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>ϵ</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \epsilon
  </annotation>
 </semantics>
</math>

s. Then these 

<math display="inline" id="Box_counting:2">
 <semantics>
  <mi>ϵ</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>ϵ</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \epsilon
  </annotation>
 </semantics>
</math>

-sized boxes are applied to the pattern and counted. To do this, for each 

<math display="inline" id="Box_counting:3">
 <semantics>
  <mi>ϵ</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>ϵ</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \epsilon
  </annotation>
 </semantics>
</math>


 in 

<math display="inline" id="Box_counting:4">
 <semantics>
  <merror class="ltx_ERROR undefined undefined">
   <mtext>\Epsilon</mtext>
  </merror>
  <annotation-xml encoding="MathML-Content">
   <mtext>\Epsilon</mtext>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \Epsilon
  </annotation>
 </semantics>
</math>

, a measuring element that is typically a 2-dimensional square or 3-dimensional box with side length corresponding to 

<math display="inline" id="Box_counting:5">
 <semantics>
  <mi>ϵ</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>ϵ</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \epsilon
  </annotation>
 </semantics>
</math>

 is used to scan a pattern or data set (e.g., an image or object) according to a predetermined <a href="#scan" title="wikilink">scanning plan</a> to cover the relevant part of the data set, recording, i.e.,<em>counting</em>, for each step in the scan <a href="#data" title="wikilink">relevant features</a> captured within the measuring element.<a class="footnoteRef" href="#fn5" id="fnref5"><sup>5</sup></a><a class="footnoteRef" href="#fn6" id="fnref6"><sup>6</sup></a> </p>
<h3 id="the-data">The data</h3>

<p>The relevant features gathered during box counting depend on the subject being investigated and the type of analysis being done. Two well-studied subjects of box counting, for instance, are binary (meaning having only two colours, usually black and white)<a class="footnoteRef" href="#fn7" id="fnref7"><sup>7</sup></a> and gray-scale<a class="footnoteRef" href="#fn8" id="fnref8"><sup>8</sup></a> <a href="digital_image" title="wikilink">digital images</a> (i.e., jpgs, tiffs, etc.). Box counting is generally done on patterns <a href="#extracting_patterns" title="wikilink">extracted</a> from such still images in which case the raw information recorded is typically based on features of pixels such as a predetermined colour value or range of colours or intensities. When box counting is done to determine a <a href="fractal_dimension" title="wikilink">fractal dimension</a> known as the <a href="box_counting_dimension" title="wikilink">box counting dimension</a>, the information recorded is usually either yes or no as to whether or not the box contained any pixels of the predetermined colour or range (i.e., the number of boxes containing relevant pixels at each 

<math display="inline" id="Box_counting:6">
 <semantics>
  <mi>ϵ</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>ϵ</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \epsilon
  </annotation>
 </semantics>
</math>

 is counted). For other types of analysis, the data sought may be the number of pixels that fall within the measuring box,<a class="footnoteRef" href="#fn9" id="fnref9"><sup>9</sup></a> the range or average values of colours or intensities, the spatial arrangement amongst pixels within each box, or properties such as average speed (e.g., from particle flow).<a class="footnoteRef" href="#fn10" id="fnref10"><sup>10</sup></a><a class="footnoteRef" href="#fn11" id="fnref11"><sup>11</sup></a><a class="footnoteRef" href="#fn12" id="fnref12"><sup>12</sup></a><a class="footnoteRef" href="#fn13" id="fnref13"><sup>13</sup></a></p>
<h3 id="scan-types">Scan types</h3>

<p>Every box counting algorithm has a scanning plan that describes how the data will be gathered, in essence, how the box will be moved over the space containing the pattern. A variety of scanning strategies has been used in box counting algorithms, where a few basic approaches have been modified in order to address issues such as sampling, analysis methods, etc.</p>
<figure><b>(Figure)</b>
<figcaption>Figure 2a. Boxes laid over an image as a fixed grid.  </figcaption>
</figure>

<p> </p>
<h4 id="fixed-grid-scans">Fixed grid scans</h4>

<p>The traditional approach is to scan in a non-overlapping regular grid or lattice pattern.<a class="footnoteRef" href="#fn14" id="fnref14"><sup>14</sup></a><a class="footnoteRef" href="#fn15" id="fnref15"><sup>15</sup></a> To illustrate, <a href="#scanimages" title="wikilink">Figure 2a</a> shows the typical pattern used in software that calculates box counting dimensions from patterns extracted into binary digital images of contours such as the fractal contour illustrated in <a href="#32seg" title="wikilink">Figure 1</a> or the classic example of the coastline of Britain often used to explain the method of finding a <a href="box_counting_dimension" title="wikilink">box counting dimension</a>. The strategy simulates repeatedly laying a square box as though it were part of a grid overlaid on the image, such that the box for each 

<math display="inline" id="Box_counting:7">
 <semantics>
  <mi>ϵ</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>ϵ</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \epsilon
  </annotation>
 </semantics>
</math>

 never overlaps where it has previously been (see <a href="#grids" title="wikilink">Figure 4)</a>. This is done until the entire area of interest has been scanned using each 

<math display="inline" id="Box_counting:8">
 <semantics>
  <mi>ϵ</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>ϵ</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \epsilon
  </annotation>
 </semantics>
</math>


 and the <a href="#section_The_Data" title="wikilink">relevant information</a> has been recorded.<a class="footnoteRef" href="#fn16" id="fnref16"><sup>16</sup></a> <a class="footnoteRef" href="#fn17" id="fnref17"><sup>17</sup></a> When used to find a <a href="box_counting_dimension" title="wikilink">box counting dimension</a>, the method is modified to find an <a href="#grids" title="wikilink">optimal covering</a>.</p>
<h4 id="sliding-box-scans">Sliding box scans</h4>

<p>Another approach that has been used is a sliding box algorithm, in which each box is slid over the image overlapping the previous placement. <a href="#scanimages" title="wikilink">Figure 2b</a> illustrates the basic pattern of scanning using a sliding box. The fixed grid approach can be seen as a sliding box algorithm with the increments horizontally and vertically equal to 

<math display="inline" id="Box_counting:9">
 <semantics>
  <mi>ϵ</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>ϵ</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \epsilon
  </annotation>
 </semantics>
</math>

. Sliding box algorithms are often used for analyzing textures in <a class="uri" href="lacunarity" title="wikilink">lacunarity</a> analysis and have also been applied to <a href="multifractal_analysis" title="wikilink">multifractal analysis</a><a class="footnoteRef" href="#fn18" id="fnref18"><sup>18</sup></a><a class="footnoteRef" href="#fn19" id="fnref19"><sup>19</sup></a><a class="footnoteRef" href="#fn20" id="fnref20"><sup>20</sup></a><a class="footnoteRef" href="#fn21" id="fnref21"><sup>21</sup></a><a class="footnoteRef" href="#fn22" id="fnref22"><sup>22</sup></a></p>
<h4 id="subsampling-and-local-dimensions">Subsampling and local dimensions</h4>

<p>Box counting may also be used to determine local variation as opposed to global measures describing an entire pattern. Local variation can be assessed after the data have been gathered and analyzed (e.g., some software colour codes areas according to the fractal dimension for each subsample), but a third approach to box counting is to move the box according to some feature related to the pixels of interest. In <a href="local_connected_dimension" title="wikilink">local connected dimension</a> box counting algorithms, for instance, the box for each 

<math display="inline" id="Box_counting:10">
 <semantics>
  <mi>ϵ</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>ϵ</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \epsilon
  </annotation>
 </semantics>
</math>

 is centred on each pixel of interest, as illustrated in <a href="#scanimages" title="wikilink">Figure 2c</a>.<a class="footnoteRef" href="#fn23" id="fnref23"><sup>23</sup></a></p>
<h2 id="methodological-considerations">Methodological considerations</h2>

<p>The implementation of any box counting algorithm has to specify certain details such as how to determine the actual values in 

<math display="inline" id="Box_counting:11">
 <semantics>
  <merror class="ltx_ERROR undefined undefined">
   <mtext>\Epsilon</mtext>
  </merror>
  <annotation-xml encoding="MathML-Content">
   <mtext>\Epsilon</mtext>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \Epsilon
  </annotation>
 </semantics>
</math>

, including the minimum and maximum sizes to use and the method of incrementing between sizes. Many such details reflect practical matters such as the size of a digital image but also technical issues related to the specific analysis that will be performed on the data. Another issue that has received considerable attention is how to approximate the so-called "optimal covering" for determining <a href="box_counting_dimension" title="wikilink">box counting dimensions</a> and assessing <a href="multifractal_analysis" title="wikilink">multifractal scaling</a>.<a class="footnoteRef" href="#fn24" id="fnref24"><sup>24</sup></a><a class="footnoteRef" href="#fn25" id="fnref25"><sup>25</sup></a><a class="footnoteRef" href="#fn26" id="fnref26"><sup>26</sup></a><a class="footnoteRef" href="#fn27" id="fnref27"><sup>27</sup></a></p>
<h3 id="edge-effects">Edge effects</h3>

<p>One known issue in this respect is deciding what constitutes the edge of the useful information in a digital image, as the limits employed in the box counting strategy can affect the data gathered.</p>
<h3 id="scaling-box-size">Scaling box size</h3>

<p>The algorithm has to specify the type of increment to use between box sizes (e.g., linear vs exponential), which can have a profound effect on the results of a scan.</p>
<h3 id="grid-orientation">Grid orientation</h3>

<p>As <a href="#grids" title="wikilink">Figure 4</a> illustrates, the overall positioning of the boxes also influences the results of a box count. One approach in this respect is to scan from multiple orientations and use averaged or optimized data.<a class="footnoteRef" href="#fn28" id="fnref28"><sup>28</sup></a><a class="footnoteRef" href="#fn29" id="fnref29"><sup>29</sup></a></p>

<p>To address various methodological considerations, some software is written so users can specify many such details, and some includes methods such as smoothing the data after the fact to be more amenable to the type of analysis being done.<a class="footnoteRef" href="#fn30" id="fnref30"><sup>30</sup></a></p>
<h2 id="see-also">See also</h2>
<ul>
<li><a href="Fractal_analysis" title="wikilink">Fractal analysis</a></li>
<li><a href="Fractal_dimension" title="wikilink">Fractal dimension</a></li>
<li><a href="Minkowski–Bouligand_dimension" title="wikilink">Minkowski–Bouligand dimension</a></li>
<li><a class="uri" href="Multifractal" title="wikilink">Multifractal</a> analysis</li>
<li><a class="uri" href="Lacunarity" title="wikilink">Lacunarity</a></li>
</ul>
<h2 id="references">References</h2>

<p><a href="es:Conteo_de_cajas" title="wikilink">es:Conteo de cajas</a>"</p>

<p><a class="uri" href="Category:Fractals" title="wikilink">Category:Fractals</a></p>
<section class="footnotes">
<hr/>
<ol>
<li id="fn1"><a href="#fnref1">↩</a></li>
<li id="fn2"><a href="#fnref2">↩</a></li>
<li id="fn3"><a href="#fnref3">↩</a></li>
<li id="fn4"><a href="#fnref4">↩</a></li>
<li id="fn5"></li>
<li id="fn6"></li>
<li id="fn7"></li>
<li id="fn8"><a href="#fnref8">↩</a></li>
<li id="fn9"></li>
<li id="fn10"></li>
<li id="fn11"><a href="#fnref11">↩</a></li>
<li id="fn12"></li>
<li id="fn13"></li>
<li id="fn14"></li>
<li id="fn15"></li>
<li id="fn16"><a href="#fnref16">↩</a></li>
<li id="fn17"><a href="#fnref17">↩</a></li>
<li id="fn18"></li>
<li id="fn19"><a href="#fnref19">↩</a></li>
<li id="fn20"><a href="#fnref20">↩</a></li>
<li id="fn21"><a href="#fnref21">↩</a></li>
<li id="fn22"><a href="#fnref22">↩</a></li>
<li id="fn23"><a href="#fnref23">↩</a></li>
<li id="fn24"></li>
<li id="fn25"><a href="#fnref25">↩</a></li>
<li id="fn26"><a href="#fnref26">↩</a></li>
<li id="fn27"><a href="#fnref27">↩</a></li>
<li id="fn28"><a href="#fnref28">↩</a></li>
<li id="fn29"><a href="#fnref29">↩</a></li>
<li id="fn30"><a href="#fnref30">↩</a></li>
</ol>
</section>
</body>
</html>
