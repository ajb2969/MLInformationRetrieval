<html lang="en">
<head>
<meta charset="utf-8"/>
<title offset="1277">Poker Effective Hand Strength (EHS) algorithm</title>
<script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_SVG.js" type="text/javascript">
</script>
</head>
<body>
<h1>Poker Effective Hand Strength (EHS) algorithm</h1>
<hr/>

<p><strong>Effective Hand Strength (EHS)</strong> is a poker algorithm conceived by <a href="computer_scientists" title="wikilink">computer scientists</a> <a href="Darse_Billings" title="wikilink">Darse Billings</a>, <a href="Denis_Papp" title="wikilink">Denis Papp</a>, <a href="Jonathan_Schaeffer" title="wikilink">Jonathan Schaeffer</a> and <a href="Duane_Szafron" title="wikilink">Duane Szafron</a> that has been published for the first time in a </p>

<p>It has since then been considered as a reference in the realm of poker artificial intelligence and has been the basis of further research such as:</p>
<ul>
<li></li>
<li></li>
<li></li>
</ul>
<h2 id="algorithm">Algorithm</h2>

<p>The algorithm is a numerical approach to quantify the strength of a poker hand where its result expresses the strength of a particular hand in percentile (i.e. ranging from 0 to 1), compared to all other possible hands. The underlying assumption is that an Effective Hand Strength (EHS) is composed of the current Hand Strength (HS) and its potential to improve or deteriorate (PPOT and NPOT):</p>

<p>

<math display="block" id="Poker_Effective_Hand_Strength_(EHS)_algorithm:0">
 <semantics>
  <mrow>
   <mrow>
    <mi>E</mi>
    <mi>H</mi>
    <mi>S</mi>
   </mrow>
   <mo>=</mo>
   <mrow>
    <mrow>
     <mrow>
      <mi>H</mi>
      <mi>S</mi>
     </mrow>
     <mo>×</mo>
     <mrow>
      <mo stretchy="false">(</mo>
      <mrow>
       <mn>1</mn>
       <mo>-</mo>
       <mrow>
        <mi>N</mi>
        <mi>P</mi>
        <mi>O</mi>
        <mi>T</mi>
       </mrow>
      </mrow>
      <mo stretchy="false">)</mo>
     </mrow>
    </mrow>
    <mo>+</mo>
    <mrow>
     <mrow>
      <mrow>
       <mo stretchy="false">(</mo>
       <mrow>
        <mn>1</mn>
        <mo>-</mo>
        <mrow>
         <mi>H</mi>
         <mi>S</mi>
        </mrow>
       </mrow>
       <mo stretchy="false">)</mo>
      </mrow>
      <mo>×</mo>
      <mi>P</mi>
     </mrow>
     <mi>P</mi>
     <mi>O</mi>
     <mi>T</mi>
    </mrow>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <times></times>
     <ci>E</ci>
     <ci>H</ci>
     <ci>S</ci>
    </apply>
    <apply>
     <plus></plus>
     <apply>
      <times></times>
      <apply>
       <times></times>
       <ci>H</ci>
       <ci>S</ci>
      </apply>
      <apply>
       <minus></minus>
       <cn type="integer">1</cn>
       <apply>
        <times></times>
        <ci>N</ci>
        <ci>P</ci>
        <ci>O</ci>
        <ci>T</ci>
       </apply>
      </apply>
     </apply>
     <apply>
      <times></times>
      <apply>
       <times></times>
       <apply>
        <minus></minus>
        <cn type="integer">1</cn>
        <apply>
         <times></times>
         <ci>H</ci>
         <ci>S</ci>
        </apply>
       </apply>
       <ci>P</ci>
      </apply>
      <ci>P</ci>
      <ci>O</ci>
      <ci>T</ci>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   EHS=HS\times(1-NPOT)+(1-HS)\times PPOT
  </annotation>
 </semantics>
</math>

</p>

<p>where:</p>
<ul>
<li>

<math display="inline" id="Poker_Effective_Hand_Strength_(EHS)_algorithm:1">
 <semantics>
  <mrow>
   <mi>E</mi>
   <mi>H</mi>
   <mi>S</mi>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <times></times>
    <ci>E</ci>
    <ci>H</ci>
    <ci>S</ci>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   EHS
  </annotation>
 </semantics>
</math>

 is the Effective Hand Strength</li>
<li>

<math display="inline" id="Poker_Effective_Hand_Strength_(EHS)_algorithm:2">
 <semantics>
  <mrow>
   <mi>H</mi>
   <mi>S</mi>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <times></times>
    <ci>H</ci>
    <ci>S</ci>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   HS
  </annotation>
 </semantics>
</math>

 is the current Hand Strength (i.e. not taking into account potential to improve or deteriorate, depending on upcoming table cards</li>
<li>

<math display="inline" id="Poker_Effective_Hand_Strength_(EHS)_algorithm:3">
 <semantics>
  <mrow>
   <mi>N</mi>
   <mi>P</mi>
   <mi>O</mi>
   <mi>T</mi>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <times></times>
    <ci>N</ci>
    <ci>P</ci>
    <ci>O</ci>
    <ci>T</ci>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   NPOT
  </annotation>
 </semantics>
</math>

 is the Negative POTential (i.e. the probability that our current hand, if the strongest, deteriorates and becomes a losing hand)</li>
<li>

<math display="inline" id="Poker_Effective_Hand_Strength_(EHS)_algorithm:4">
 <semantics>
  <mrow>
   <mi>P</mi>
   <mi>P</mi>
   <mi>O</mi>
   <mi>T</mi>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <times></times>
    <ci>P</ci>
    <ci>P</ci>
    <ci>O</ci>
    <ci>T</ci>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   PPOT
  </annotation>
 </semantics>
</math>

 is the Positive POTential (i.e. the probability that our current hand, if losing, improves and becomes the winning hand)</li>
</ul>
<h2 id="pseudocode">Pseudocode</h2>

<p>Hand Strength (HS) will enumerate all possible opponent hand cards and count the occurrences where our hand is strongest (+50% of the cases where we are tied):</p>

<p><code>
HandStrength(ourcards, boardcards) {
:ahead = tied = behind = 0
:ourrank = Rank(ourcards, boardcards)
:for each case(oppcards) {
::opprank = Rank(oppcards, boardcards)
::if (ourrank&gt;opprank) ahead += 1
::else if (ourrank==opprank) tied += 1
::else behind += 1
:}
:handstrength=(ahead+tied/2)/(ahead+tied+behind)
:return(handstrength)
}
</code></p>

<p>In addition, EHS will consider the hand potential (i.e. its probabilities to improve or deteriorate):</p>

<p><code>
HandPotential(ourcards,boardcards){ // Hand potential array, each index represents ahead, tied, and behind.
:integer array HP[3][3] //initialize to 0
:integer array HPTotal[3] //initialize to 0
:ourrank = Rank(ourcards,boardcards)
://Consider all two card combinations of the remaining cards for the opponent.
:for each case(oppcards){
::opprank = Rank(oppcards,boardcards)
::if(ourrank&gt;opprank) index = ahead
::else if(ourrank=opprank) index = tied
::else index = behind
::HPTotal[index] += 1
::// All possible board cards to come.
::for each case(turn,river){ //Final 5-card board
:::board = [boardcards,turn,river]
:::ourbest = Rank(ourcards,board)
:::oppbest = Rank(oppcards,board)
:::if(ourbest&gt;oppbest) HP[index][ahead]+=1
:::else if(ourbest=oppbest) HP[index][tied]+=1
:::else HP[index][behind]+=1
::}
:}
://Ppot: were behind but moved ahead.
:Ppot = (HP[behind][ahead]+HP[behind][tied]/2+HP[tied][ahead]/2)/(HPTotal[behind]+HPTotal[tied])
://Npot: were ahead but fell behind.
:Npot = (HP[ahead][behind]+HP[tied][behind]/2+HP[ahead][tied]/2)/(HPTotal[ahead]+HPTotal[tied])
:return(Ppot,Npot)
}
</code></p>
<h2 id="applicability">Applicability</h2>

<p>EHS is applicable to a wide variety of poker games such as <a href="Texas_hold_'em_poker" title="wikilink">Texas hold 'em poker</a>, <a href="Omaha_hold_'em_poker" title="wikilink">Omaha hold 'em poker</a>, ...</p>

<p>Given the complexity of the algorithm, it can not be computed manually and has to be used in an Artificial Intelligence context.</p>

<p>"</p>

<p><a href="Category:Poker_probability" title="wikilink">Category:Poker probability</a></p>
</body>
</html>
