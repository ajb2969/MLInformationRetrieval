<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title offset="1056">Order of operations</title>
   <script type="text/javascript"
      src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_SVG.js">
    </script>
</head>
<body>
<h1>Order of operations</h1>
<hr/>
<p>In <a class="uri" href="mathematics" title="wikilink">mathematics</a> and <a href="computer_programming" title="wikilink">computer programming</a>, the <strong>order of operations</strong> (or <strong>operator precedence</strong>) is a collection of rules that define which procedures to perform first in order to evaluate a given <a href="Expression_(mathematics)" title="wikilink">mathematical expression</a>.</p>
<p>For example, in mathematics and most computer languages, multiplication precedes addition. Thus, in the expression 2 + 3 × 4, the answer is 14 (not 20). Brackets, <strong>(</strong> and <strong>)</strong>, <strong>{</strong> and <strong>}</strong>, or <strong>[</strong> and <strong>]</strong>—which have their own rules—can indicate an alternate order or reinforce the default order to avoid confusion, thus the preceding expression could be changed to (2 + 3) × 4 to produce 20, or 2 + (3 × 4) to produce 14 (the default if there are no brackets).</p>
<p>Since the introduction of modern algebraic notation, multiplication has taken precedence over addition.<a class="footnoteRef" href="#fn1" id="fnref1"><sup>1</sup></a> Thus 3 + 4 × 5 = 4 × 5 + 3 = 23. When exponents were first introduced in the 16th and 17th centuries, exponents took precedence over both addition and multiplication and could be placed only as a superscript to the right of their base. Thus 3 + 5<sup>2</sup> = 28 and 3 × 5<sup>2</sup> = 75. To change the order of operations, originally a <a href="vinculum_(symbol)" title="wikilink">vinculum</a> (an overline or underline) was used. Today, <a href="bracket_(mathematics)" title="wikilink">parentheses or brackets</a> are used to explicitly denote precedence by grouping parts of an expression that should be evaluated first. Thus, to force addition to precede multiplication, we write (2 + 3) × 4 = 20, and to force addition to precede exponentiation, we write (3 + 5)<sup>2</sup> = 64.</p>
<h2 id="definition">Definition</h2>
<p>The order of operations used throughout mathematics, science, technology and many computer <a href="programming_language" title="wikilink">programming languages</a> is expressed here:<a class="footnoteRef" href="#fn2" id="fnref2"><sup>2</sup></a></p>
<dl>
<dd><strong><a href="Exponentiation" title="wikilink">exponents</a></strong> and <strong><a href="Nth_root" title="wikilink">roots</a></strong>
</dd>
<dd><strong><a class="uri" href="multiplication" title="wikilink">multiplication</a></strong> and <strong><a href="Division_(mathematics)" title="wikilink">division</a></strong>
</dd>
<dd><strong><a class="uri" href="addition" title="wikilink">addition</a></strong> and <strong><a class="uri" href="subtraction" title="wikilink">subtraction</a></strong>
</dd>
</dl>
<p>This means that if a mathematical expression is preceded by one binary operator and followed by another, the operator higher on the list should be applied first. The <a href="Commutative_property" title="wikilink">commutative</a> and <a href="Associative_property" title="wikilink">associative</a> laws of addition and multiplication allow adding terms in any order, and multiplying factors in any order—but mixed operations must obey the standard order of operations.</p>
<p>It is helpful to treat division as multiplication by the reciprocal (multiplicative inverse) and subtraction as addition of the opposite (additive inverse). Thus 3/4 = 3 ÷ 4 = 3 • ¼; in other words the quotient of 3 and 4 equals the product of 3 and  ¼. Also 3 − 4 = 3 + (−4); in other words the difference of 3 and 4 equals the sum of positive three and negative four. With this understanding, we can think of 1 − 3 + 7 as the sum of 1, negative 3, and 7, and add in any order: (1 − 3) + 7 = −2 + 7 = 5 and in reverse order (7 − 3) + 1 = 4 + 1 = 5. The important thing is to keep the negative sign with the 3.</p>
<p>The root symbol, √, requires a symbol of grouping around the radicand. The usual symbol of grouping is a bar (called <a href="vinculum_(symbol)" title="wikilink">vinculum</a>) over the radicand. Other functions use parentheses around the input to avoid ambiguity. The parentheses are sometimes omitted if the input is a <a class="uri" href="monomial" title="wikilink">monomial</a>. Thus, sin x = sin(x), but sin x + y = sin(x) + y, because x + y is not a monomial. Some calculators and programming languages require parentheses around function inputs, some do not.</p>
<p>Stacked exponents are applied from the top down, i.e., from right to left.</p>
<p>Symbols of grouping can be used to override the usual order of operations. Grouped symbols can be treated as a single expression. Symbols of grouping can be removed using the associative and distributive laws, also they can be removed if the expression inside the symbol of grouping is sufficiently simplified so no ambiguity results from their removal.</p>
<h3 id="examples">Examples</h3>
<p><span class="LaTeX">$$\sqrt{1+3}+5=\sqrt4+5=2+5=7.\,$$</span></p>
<p>A horizontal fractional line also acts as a symbol of grouping:</p>
<p><span class="LaTeX">$$\frac{1+2}{3+4}+5=\frac37+5.$$</span></p>
<p>For ease in reading, other grouping symbols such as braces, sometimes called curly braces { }, or brackets, sometimes called square brackets [ ], are often used along with parentheses ( ). For example:</p>
<p><span class="LaTeX">$$[(1+2)-3]-(4-5) = [3-3]-(-1) = 1. \,$$</span></p>
<h3 id="exceptions">Exceptions</h3>
<p>There exist differing conventions concerning the unary operator − (usually read "minus"). In written or printed mathematics, the expression −3<sup>2</sup> is interpreted to mean −(3<sup>2</sup>) = −9,<a class="footnoteRef" href="#fn3" id="fnref3"><sup>3</sup></a> but in some applications and programming languages, notably the <a href="Microsoft_Office_Excel" title="wikilink">Microsoft Office Excel</a> (and other spreadsheet applications) and <a href="bc_programming_language" title="wikilink">the programming language bc</a>, unary operators have a higher priority than binary operators, that is, the unary minus (negation) has higher precedence than exponentiation, so in those languages −3<sup>2</sup> will be interpreted as (−3)<sup>2</sup> = 9.<a class="footnoteRef" href="#fn4" id="fnref4"><sup>4</sup></a> Note this does not apply to the binary operator −; for example while the formulas <code>=-2^2</code> and <code>=0+-2^2</code> return 4 in Microsoft Excel, the formula <code>=0-2^2</code> returns −4. In cases where there is the possibility that the notation might be misinterpreted, parentheses are usually used to clarify the intended meaning.</p>
<p>Similarly, there can be ambiguity in the use of the <a href="Slash_(punctuation)#Arithmetic" title="wikilink">slash</a> ('/') symbol in expressions such as 1/2<em>x</em>. If one rewrites this expression as 1 ÷ 2 × <em>x</em> and then interprets the division symbol as indicating multiplication by the reciprocal, this becomes:</p>
<p><span class="LaTeX">$$1 \div 2 \times x = 1 \times \tfrac{1}{2} \times x = \tfrac{1}{2}x.$$</span></p>
<p>Hence, with this interpretation we have that 1/2<em>x</em> is equal to (1/2)<em>x</em>, and not 1/(2<em>x</em>). However, in some of the academic literature, implied multiplication is interpreted as having higher precedence than division, so that 1/2<em>x</em> equals 1/(2<em>x</em>), not (1/2)<em>x</em>. For example, the manuscript submission instructions for the <em><a href="Physical_Review" title="wikilink">Physical Review</a></em> journals state that multiplication is of higher precedence than division with a slash,<a class="footnoteRef" href="#fn5" id="fnref5"><sup>5</sup></a> and this is also the convention observed in prominent physics textbooks such as the <em><a href="Course_of_Theoretical_Physics" title="wikilink">Course of Theoretical Physics</a></em> by <a href="Lev_Landau" title="wikilink">Landau</a> and <a href="Evgeny_Lifshitz" title="wikilink">Lifshitz</a> and the <em><a href="Feynman_Lectures_on_Physics" title="wikilink">Feynman Lectures on Physics</a></em>.<a class="footnoteRef" href="#fn6" id="fnref6"><sup>6</sup></a> <a href="Wolfram_Alpha" title="wikilink">Wolfram Alpha</a> changed in early 2013 to treat implied multiplication the same as explicit multiplication (formerly, implied multiplication without parentheses was assumed to bind more strongly than explicit multiplication). 2<em>x</em>/2<em>x</em>, 2*<em>x</em>/2*<em>x</em>, and 2(x)/2(x) now all yield x<sup>2</sup>.<a class="footnoteRef" href="#fn7" id="fnref7"><sup>7</sup></a> Newer TI calculators (TI 83 or later) also yield <em>x</em><sup>2</sup> in all three cases.</p>
<h2 id="mnemonics">Mnemonics</h2>
<p><a class="uri" href="Mnemonics" title="wikilink">Mnemonics</a> are often used to help students remember the rules, but the rules taught by the use of acronyms can be misleading. In the United States the acronym <em>PEMDAS</em> is common. It stands for <em>P</em>arentheses, <em>E</em>xponents, <em>M</em>ultiplication, <em>D</em>ivision, <em>A</em>ddition, <em>S</em>ubtraction. PEMDAS is often expanded to "Please Excuse My Dear Aunt Sally", with the first letter of each word creating the acronym PEMDAS. Canada uses <em>BEDMAS</em>, standing for <em>B</em>rackets, <em>E</em>xponents, <em>D</em>ivision, <em>M</em>ultiplication, <em>A</em>ddition, <em>S</em>ubtraction. Most common in the UK and Australia<a class="footnoteRef" href="#fn8" id="fnref8"><sup>8</sup></a> are <em>BODMAS</em> and <em>BIDMAS</em>. In some English speaking countries, <em>P</em>arentheses may be called <em>B</em>rackets, or symbols of inclusion and <em>E</em>xponents may be called either <em>I</em>ndices, <em>P</em>owers or <em>O</em>rders, which have the same precedence as <em>R</em>oots or <em>R</em>adicals. Since multiplication and division are of equal precedence, <em>M</em> and <em>D</em> are often interchanged, leading to such acronyms as <em>BOMDAS</em>. The original order of operations in most countries was <em>BODMAS</em>, which stands for <em>B</em>rackets, <em>O</em>rders, <em>D</em>ivision, <em>M</em>ultiplication, <em>A</em>ddition, <em>S</em>ubtraction. This mnemonic was common until exponentials were added into the mnemonic.</p>
<p>These mnemonics may be misleading when written this way, especially if the user is not aware that multiplication and division are of equal precedence, as are addition and subtraction. Using any of the above rules in the order "addition first, subtraction afterward" would also give the wrong answer to the problem:</p>
<dl>
<dd><dl>
<dd><span class="LaTeX">$10 - 3 + 2 \,$</span>.
</dd>
</dl>
</dd>
</dl>
<p>The correct answer is 9 (and not 5, which we get when we do the addition first and then the subtraction). The best way to understand a combination of addition and subtraction is to think of the subtraction as addition of a negative number. In this case, we see the problem as the sum of positive ten, negative three, and positive two:</p>
<dl>
<dd><dl>
<dd><span class="LaTeX">$10 + (-3) + 2 \,$</span>
</dd>
</dl>
</dd>
</dl>
<p>To emphasize that addition and subtraction have the same precedence (and multiplication and division have the same precedence) the mnemonic is sometimes written P E MD AS; or, simply as PEMA.</p>
<p>All of these acronyms conflate two different ideas, operations on the one hand and symbols of grouping on the other, which can lead to confusion.</p>
<h2 id="special-cases">Special cases</h2>
<p>If exponentiation is indicated by stacked symbols, the usual rule is to work from the top down, thus:</p>
<p><span class="LaTeX">$$a^{b^c} = a^{(b^c)}$$</span>,</p>
<p>which typically is not equal to <span class="LaTeX">$(a^b)^c$</span>. However, some computer systems may resolve the ambiguous expression differently. For example, <a href="Microsoft_Office_Excel" title="wikilink">Microsoft Office Excel</a> evaluates <em>a</em>^<em>b</em>^<em>c</em> as (<em>a</em>^<em>b</em>)^<em>c</em>, which is opposite of normally accepted convention of top-down order of execution for exponentiation. If a=4, p=3, and q=2, <span class="LaTeX">$a^{p^q}$</span> is evaluated to 4096 in Microsoft Excel 2013, the same as <span class="LaTeX">$(a^p)^q$</span>. The expression <span class="LaTeX">$a^{(p^q)}$</span>, on the other hand, results in 262144 using the same program.</p>
<h2 id="calculators">Calculators</h2>
<p>Different calculators follow different orders of operations. Most non-scientific calculators without a stack work left to right without any priority given to different operators, for example giving:</p>
<p><span class="LaTeX">$$1 + 2 \times 3 = 9, \;$$</span> while more sophisticated calculators will use a more standard priority, for example giving:</p>
<p><span class="LaTeX">$$1 + 2 \times 3 = 7. \;$$</span></p>
<p>The Microsoft <em><a href="Calculator_(Windows)" title="wikilink">Calculator</a></em> program uses the former in its standard view and the latter in its scientific and programmer views.</p>
<p>The non-scientific calculator expects two operands and an operator. When the next operator is pressed, the expression is immediately evaluated and the answer becomes the left hand of the next operator. Advanced calculators allow entry of the whole expression, grouped as necessary, and evaluates only when the user uses the equals sign.</p>
<p>Calculators may associate exponents to the left or to the right depending on the model. For example, the expression a ^ b ^ c on the TI-92, the TI-30XII and the TI-30XS MultiView (all Texas Instruments calculators) associate two different ways:</p>
<p>The TI-92 and the TI-30XS MultiView in "MathPrint Mode" associate to the right, that is:</p>
<dl>
<dd><dl>
<dd>a ^ b ^ c = a ^ (b ^ c) = <span class="LaTeX">$a^{(b^c)} = a^{b^c}$</span>
</dd>
</dl>
</dd>
</dl>
<p>whereas, the TI-30XII and the TI-30XS MultiView in "Classic Mode" associate to the left, that is:</p>
<dl>
<dd><dl>
<dd>a ^ b ^ c = (a ^ b) ^ c = <span class="LaTeX">$(a^b)^c.$</span>
</dd>
</dl>
</dd>
</dl>
<p>An expression like 1/2<em>x</em> is interpreted as 1/(2<em>x</em>) by TI-82, but as (1/2)<em>x</em> by TI-83 and every other TI calculator released since 1996,<a class="footnoteRef" href="#fn9" id="fnref9"><sup>9</sup></a><a class="footnoteRef" href="#fn10" id="fnref10"><sup>10</sup></a> as well as by all HP with algebraic notation. While the first interpretation may be expected by some users, only the latter is in agreement with the standard rule that multiplication and division are of equal precedence, so 1/2<em>x</em> is read one divided by two and the answer multiplied by <em>x</em>.</p>
<p>When the user is unsure how a calculator will interpret an expression, it is a good idea to use parentheses so there is no ambiguity.</p>
<p>Calculators that utilize reverse Polish notation, also known as <strong>postfix notation,</strong> use <a href="Stack_(data_structure)" title="wikilink">stack</a> to enter formulas without the need for parentheses.</p>
<h2 id="programming-languages">Programming languages</h2>
<p>Many <a href="programming_languages" title="wikilink">programming languages</a> use precedence levels that conform to the order commonly used in mathematics, though some, such as <a href="APL_(programming_language)" title="wikilink">APL</a> and <a class="uri" href="Smalltalk" title="wikilink">Smalltalk</a>, have no <a href="Operator_(programming)" title="wikilink">operator</a> precedence rules (in APL, evaluation is strictly right to left; in <a class="uri" href="Smalltalk" title="wikilink">Smalltalk</a>, it's strictly left to right).</p>
<p>In addition, because many operators are not associative, the order within any single level is usually defined by grouping left to right so that 16/4/4 = (16/4)/4 = 1 rather than 16/(4/4) = 16.</p>
<p>The <a href="logical_bitwise_operator" title="wikilink">logical bitwise operators</a> in <a href="C_(programming_language)" title="wikilink">C</a> (and all programming languages that borrow precedence rules from C, for example, <a class="uri" href="C++" title="wikilink">C++</a>, <a class="uri" href="Perl" title="wikilink">Perl</a> and <a class="uri" href="PHP" title="wikilink">PHP</a>) have a precedence level that the creator of the C language considered unsatisfactory.<a class="footnoteRef" href="#fn11" id="fnref11"><sup>11</sup></a> However, many programmers have become accustomed to this order. The relative precedence levels of <a href="Operator_(programming)" title="wikilink">operators</a> found in many C-style languages are as follows:</p>
<table>
<tbody>
<tr class="odd">
<td style="text-align: left;"><p>1</p></td>
<td style="text-align: left;"><p>()   []   ->   .   ::</p></td>
<td style="text-align: left;"><p>Function call, scope, array/member access</p></td>
</tr>
<tr class="even">
<td style="text-align: left;"><p>2</p></td>
<td style="text-align: left;"><p>!   ~   -   +   *   &   sizeof   <em>type cast</em> ++x   --x  </p></td>
<td style="text-align: left;"><p>(most) unary operations, sizeof and type casts</p></td>
</tr>
<tr class="odd">
<td style="text-align: left;"><p>3</p></td>
<td style="text-align: left;"><p>*   /   % MOD</p></td>
<td style="text-align: left;"><p>Multiplication, division, <a href="modular_arithmetic" title="wikilink">modulo</a></p></td>
</tr>
<tr class="even">
<td style="text-align: left;"><p>4</p></td>
<td style="text-align: left;"><p>+   -</p></td>
<td style="text-align: left;"><p>Addition and subtraction</p></td>
</tr>
<tr class="odd">
<td style="text-align: left;"><p>5</p></td>
<td style="text-align: left;"><p>></p></td>
<td style="text-align: left;"><p>Bitwise shift left and right</p></td>
</tr>
<tr class="even">
<td style="text-align: left;"><p>6</p></td>
<td style="text-align: left;"><p>   >=</p></td>
<td style="text-align: left;"><p>Comparisons: less-than, ...</p></td>
</tr>
<tr class="odd">
<td style="text-align: left;"><p>7</p></td>
<td style="text-align: left;"><p>==   !=</p></td>
<td style="text-align: left;"><p>Comparisons: equal and not equal</p></td>
</tr>
<tr class="even">
<td style="text-align: left;"><p>8</p></td>
<td style="text-align: left;"><p>&</p></td>
<td style="text-align: left;"><p>Bitwise AND</p></td>
</tr>
<tr class="odd">
<td style="text-align: left;"><p>9</p></td>
<td style="text-align: left;"><p>^</p></td>
<td style="text-align: left;"><p>Bitwise exclusive OR (XOR)</p></td>
</tr>
<tr class="even">
<td style="text-align: left;"><p>10</p></td>
<td style="text-align: left;"><p>|</p></td>
<td style="text-align: left;"><p>Bitwise inclusive (normal) OR</p></td>
</tr>
<tr class="odd">
<td style="text-align: left;"><p>11</p></td>
<td style="text-align: left;"><p>&&</p></td>
<td style="text-align: left;"><p>Logical AND</p></td>
</tr>
<tr class="even">
<td style="text-align: left;"><p>12</p></td>
<td style="text-align: left;"><p><nowiki></nowiki></p></td>
<td style="text-align: left;"><p></p></td>
</tr>
<tr class="odd">
<td style="text-align: left;"><p>13</p></td>
<td style="text-align: left;"><p>?:   =   +=   -=   *=   /=   %=   &=   |=   ^=   >=</p></td>
<td style="text-align: left;"><p>Conditional expression (ternary) and assignment operators</p></td>
</tr>
<tr class="even">
<td style="text-align: left;"><p>14</p></td>
<td style="text-align: left;"><p>,</p></td>
<td style="text-align: left;"><p><a href="Comma_operator" title="wikilink">Comma operator</a></p></td>
</tr>
</tbody>
</table>
<p>Examples:</p>
<ul>
<li><code>!A + !B</code> ≡ <code>(!A) + (!B)</code></li>
<li><code>++A + !B</code> ≡ <code>(++A) + (!B)</code></li>
<li><code>A + B * C</code> ≡ <code>A + (B * C)</code></li>
<li><code>A || B && C</code> ≡ <code>A || (B && C)</code></li>
<li><code>(A && B == C)</code> ≡ <code>(A && (B == C) )</code></li>
</ul>
<p><a href="Source-to-source_compiler" title="wikilink">Source-to-source compilers</a> that compile to multiple languages need to explicitly deal with the issue of different order of operations across languages. <a class="uri" href="Haxe" title="wikilink">Haxe</a> for example standardizes the order and enforces it by inserting brackets where it is appropriate.<a class="footnoteRef" href="#fn12" id="fnref12"><sup>12</sup></a></p>
<p>The accuracy of software developer knowledge about binary operator precedence has been found to closely follow their frequency of occurrence in source code.<a class="footnoteRef" href="#fn13" id="fnref13"><sup>13</sup></a></p>
<h2 id="see-also">See also</h2>
<ul>
<li><a class="uri" href="Associativity" title="wikilink">Associativity</a></li>
<li><a href="Common_operator_notation" title="wikilink">Common operator notation</a> (for a more formal description)</li>
<li><a class="uri" href="Commutativity" title="wikilink">Commutativity</a></li>
<li><a class="uri" href="Distributivity" title="wikilink">Distributivity</a></li>
<li><a class="uri" href="Hyperoperation" title="wikilink">Hyperoperation</a></li>
<li><a href="Operator_(programming)" title="wikilink">Operator (programming)</a></li>
<li><a href="Operator_associativity" title="wikilink">Operator associativity</a></li>
<li><a href="Operator_overloading" title="wikilink">Operator overloading</a></li>
<li><a href="C_operator_precedence" title="wikilink">Operator precedence in C and C++</a></li>
<li><a href="Reverse_Polish_notation" title="wikilink">Reverse Polish notation</a></li>
</ul>
<h2 id="references">References</h2>
<references>
</references>
<h2 id="external-links">External links</h2>
<ul>
<li></li>
</ul>
<p>"</p>
<p><a href="Category:Abstract_algebra" title="wikilink">Category:Abstract algebra</a> <a class="uri" href="Category:Algebra" title="wikilink">Category:Algebra</a> <a class="uri" href="Category:Mnemonics" title="wikilink">Category:Mnemonics</a> <a href="Category:Operators_(programming)" title="wikilink">Category:Operators (programming)</a></p>
<section class="footnotes">
<hr/>
<ol>
<li id="fn1"><a href="#fnref1">↩</a></li>
<li id="fn2"><a href="#fnref2">↩</a></li>
<li id="fn3">Allen R. Angel, Elementary Algebra for College Students 8/E; Chapter 1, Section 9, Objective 3<a href="#fnref3">↩</a></li>
<li id="fn4"><a href="#fnref4">↩</a></li>
<li id="fn5"><a href="#fnref5">↩</a></li>
<li id="fn6">For example, the third edition of <em>Mechanics</em> by Landau and Lifshitz contains expressions such as <em>hP<sub>z</sub></em>/2π (p. 22), and the first volume of the <em>Feynman Lectures</em> contains expressions such as 1/2<span class="LaTeX">$\sqrt{N}$</span> (p. 6–8). In both books these expressions are written with the convention that the solidus is evaluated last.<a href="#fnref6">↩</a></li>
<li id="fn7"><a href="#fnref7">↩</a></li>
<li id="fn8"><a class="uri" href="http://syllabus.bos.nsw.edu.au/assets/global/files/maths_s3_sampleu1.doc">http://syllabus.bos.nsw.edu.au/assets/global/files/maths_s3_sampleu1.doc</a><a href="#fnref8">↩</a></li>
<li id="fn9"><a href="#fnref9">↩</a></li>
<li id="fn10"><a href="#fnref10">↩</a></li>
<li id="fn11"><a href="Dennis_M._Ritchie" title="wikilink">Dennis M. Ritchie</a>: <a href="http://cm.bell-labs.com/who/dmr/chist.html">The Development of the C Language</a>. In History of Programming Languages, 2nd ed., ACM Press 1996.<a href="#fnref11">↩</a></li>
<li id="fn12"><a href="http://blog.onthewings.net/2011/05/02/six-divided-by-two-bracket-one-plus-two/">6÷2(1+2)=?</a> Andy Li's Blog. 2 May 2011. Retrieved 31 December 2012.<a href="#fnref12">↩</a></li>
<li id="fn13">"<a href="http://www.knosof.co.uk/cbook/accu06.html">Developer beliefs about binary operator precedence</a>" Derek M. Jones, CVu 18(4):14–21<a href="#fnref13">↩</a></li>
</ol>
</section>
</body>
</html>
