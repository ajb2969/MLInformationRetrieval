<html lang="en">
<head>
<meta charset="utf-8"/>
<title offset="152">Twelvefold way</title>
<script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_SVG.js" type="text/javascript">
</script>
</head>
<body>
<h1>Twelvefold way</h1>
<hr/>

<p>In <a class="uri" href="combinatorics" title="wikilink">combinatorics</a>, the <strong>twelvefold way</strong> is a name given to a systematic classification of 12 related enumerative problems concerning two finite sets, which include the classical problems of <a class="uri" href="counting" title="wikilink">counting</a> <a class="uri" href="permutations" title="wikilink">permutations</a>, <a class="uri" href="combinations" title="wikilink">combinations</a>, <a href="multiset" title="wikilink">multisets</a>, and partitions either <a href="Partition_of_a_set" title="wikilink">of a set</a> or <a href="partition_(number_theory)" title="wikilink">of a number</a>. The idea of the classification is credited to <a href="Gian-Carlo_Rota" title="wikilink">Gian-Carlo Rota</a>, and the name was suggested by <a href="Joel_Spencer" title="wikilink">Joel Spencer</a>.<a class="footnoteRef" href="#fn1" id="fnref1"><sup>1</sup></a></p>
<h2 id="overview">Overview</h2>

<p>Let 

<math display="inline" id="Twelvefold_way:0">
 <semantics>
  <mi>N</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>N</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   N
  </annotation>
 </semantics>
</math>

 and 

<math display="inline" id="Twelvefold_way:1">
 <semantics>
  <mi>X</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>X</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   X
  </annotation>
 </semantics>
</math>

 be <a href="finite_set" title="wikilink">finite sets</a>. Let 

<math display="inline" id="Twelvefold_way:2">
 <semantics>
  <mrow>
   <mi>n</mi>
   <mo>=</mo>
   <mrow>
    <mo stretchy="false">|</mo>
    <mi>N</mi>
    <mo stretchy="false">|</mo>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <ci>n</ci>
    <apply>
     <abs></abs>
     <ci>N</ci>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   n=|N|
  </annotation>
 </semantics>
</math>

 and 

<math display="inline" id="Twelvefold_way:3">
 <semantics>
  <mrow>
   <mi>x</mi>
   <mo>=</mo>
   <mrow>
    <mo stretchy="false">|</mo>
    <mi>X</mi>
    <mo stretchy="false">|</mo>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <ci>x</ci>
    <apply>
     <abs></abs>
     <ci>X</ci>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   x=|X|
  </annotation>
 </semantics>
</math>

 be the <a class="uri" href="cardinality" title="wikilink">cardinality</a> of the sets. Thus 

<math display="inline" id="Twelvefold_way:4">
 <semantics>
  <mi>N</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>N</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   N
  </annotation>
 </semantics>
</math>

 is an 

<math display="inline" id="Twelvefold_way:5">
 <semantics>
  <mi>n</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>n</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   n
  </annotation>
 </semantics>
</math>

-set, and 

<math display="inline" id="Twelvefold_way:6">
 <semantics>
  <mi>X</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>X</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   X
  </annotation>
 </semantics>
</math>

 is an 

<math display="inline" id="Twelvefold_way:7">
 <semantics>
  <mi>x</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>x</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   x
  </annotation>
 </semantics>
</math>

-set.</p>

<p>The general problem we consider is the enumeration of <a href="Equivalence_class" title="wikilink">equivalence classes</a> of <a href="Function_(mathematics)" title="wikilink">functions</a> 

<math display="inline" id="Twelvefold_way:8">
 <semantics>
  <mrow>
   <mi>f</mi>
   <mo>:</mo>
   <mrow>
    <mi>N</mi>
    <mo>→</mo>
    <mi>X</mi>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <ci>normal-:</ci>
    <ci>f</ci>
    <apply>
     <ci>normal-→</ci>
     <ci>N</ci>
     <ci>X</ci>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   f:N\to X
  </annotation>
 </semantics>
</math>

.</p>

<p>The functions are subject to one of the three following restrictions:</p>
<ol>
<li>No condition: each 

<math display="inline" id="Twelvefold_way:9">
 <semantics>
  <mi>a</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>a</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   a
  </annotation>
 </semantics>
</math>

 in 

<math display="inline" id="Twelvefold_way:10">
 <semantics>
  <mi>N</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>N</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   N
  </annotation>
 </semantics>
</math>

 may be sent by 

<math display="inline" id="Twelvefold_way:11">
 <semantics>
  <mi>f</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>f</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   f
  </annotation>
 </semantics>
</math>

 to any 

<math display="inline" id="Twelvefold_way:12">
 <semantics>
  <mi>b</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>b</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   b
  </annotation>
 </semantics>
</math>

 in 

<math display="inline" id="Twelvefold_way:13">
 <semantics>
  <mi>X</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>X</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   X
  </annotation>
 </semantics>
</math>

, and each 

<math display="inline" id="Twelvefold_way:14">
 <semantics>
  <mi>b</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>b</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   b
  </annotation>
 </semantics>
</math>

 may occur multiple times.</li>
<li>

<math display="inline" id="Twelvefold_way:15">
 <semantics>
  <mi>f</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>f</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   f
  </annotation>
 </semantics>
</math>

 is <a href="Injective_function" title="wikilink">injective</a>: each value 

<math display="inline" id="Twelvefold_way:16">
 <semantics>
  <mrow>
   <mi>f</mi>
   <mrow>
    <mo stretchy="false">(</mo>
    <mi>a</mi>
    <mo stretchy="false">)</mo>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <times></times>
    <ci>f</ci>
    <ci>a</ci>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   f(a)
  </annotation>
 </semantics>
</math>

 for 

<math display="inline" id="Twelvefold_way:17">
 <semantics>
  <mi>a</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>a</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   a
  </annotation>
 </semantics>
</math>

 in 

<math display="inline" id="Twelvefold_way:18">
 <semantics>
  <mi>N</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>N</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   N
  </annotation>
 </semantics>
</math>

 must be distinct from every other, and so each 

<math display="inline" id="Twelvefold_way:19">
 <semantics>
  <mi>b</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>b</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   b
  </annotation>
 </semantics>
</math>

 in 

<math display="inline" id="Twelvefold_way:20">
 <semantics>
  <mi>X</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>X</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   X
  </annotation>
 </semantics>
</math>

 may occur at most once in the <a href="image_(mathematics)" title="wikilink">image</a> of 

<math display="inline" id="Twelvefold_way:21">
 <semantics>
  <mi>f</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>f</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   f
  </annotation>
 </semantics>
</math>

.</li>
<li>

<math display="inline" id="Twelvefold_way:22">
 <semantics>
  <mi>f</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>f</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   f
  </annotation>
 </semantics>
</math>

 is <a href="Surjective_function" title="wikilink">surjective</a>: for each 

<math display="inline" id="Twelvefold_way:23">
 <semantics>
  <mi>b</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>b</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   b
  </annotation>
 </semantics>
</math>

 in 

<math display="inline" id="Twelvefold_way:24">
 <semantics>
  <mi>X</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>X</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   X
  </annotation>
 </semantics>
</math>

 there must be at least one 

<math display="inline" id="Twelvefold_way:25">
 <semantics>
  <mi>a</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>a</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   a
  </annotation>
 </semantics>
</math>

 in 

<math display="inline" id="Twelvefold_way:26">
 <semantics>
  <mi>N</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>N</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   N
  </annotation>
 </semantics>
</math>

 such that 

<math display="inline" id="Twelvefold_way:27">
 <semantics>
  <mrow>
   <mrow>
    <mi>f</mi>
    <mrow>
     <mo stretchy="false">(</mo>
     <mi>a</mi>
     <mo stretchy="false">)</mo>
    </mrow>
   </mrow>
   <mo>=</mo>
   <mi>b</mi>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <times></times>
     <ci>f</ci>
     <ci>a</ci>
    </apply>
    <ci>b</ci>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   f(a)=b
  </annotation>
 </semantics>
</math>

, thus each 

<math display="inline" id="Twelvefold_way:28">
 <semantics>
  <mi>b</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>b</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   b
  </annotation>
 </semantics>
</math>

 will occur at least once in the image of 

<math display="inline" id="Twelvefold_way:29">
 <semantics>
  <mi>f</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>f</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   f
  </annotation>
 </semantics>
</math>

.</li>
</ol>

<p>A possible fourth condition of 

<math display="inline" id="Twelvefold_way:30">
 <semantics>
  <mi>f</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>f</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   f
  </annotation>
 </semantics>
</math>

 being <a href="Bijection" title="wikilink">bijective</a> is not included, since it doesn't add any new problems (the set of such functions will be empty unless 

<math display="inline" id="Twelvefold_way:31">
 <semantics>
  <mrow>
   <mi>n</mi>
   <mo>=</mo>
   <mi>x</mi>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <ci>n</ci>
    <ci>x</ci>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   n=x
  </annotation>
 </semantics>
</math>

, in which case the condition is both equivalent to 

<math display="inline" id="Twelvefold_way:32">
 <semantics>
  <mi>f</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>f</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   f
  </annotation>
 </semantics>
</math>

 being injective and equivalent to 

<math display="inline" id="Twelvefold_way:33">
 <semantics>
  <mi>f</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>f</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   f
  </annotation>
 </semantics>
</math>

 being surjective).</p>

<p>There are four different <a href="equivalence_relation" title="wikilink">equivalence relations</a> which may be defined on the set of functions 

<math display="inline" id="Twelvefold_way:34">
 <semantics>
  <mi>f</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>f</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   f
  </annotation>
 </semantics>
</math>

 from 

<math display="inline" id="Twelvefold_way:35">
 <semantics>
  <mi>N</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>N</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   N
  </annotation>
 </semantics>
</math>

 to 

<math display="inline" id="Twelvefold_way:36">
 <semantics>
  <mi>X</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>X</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   X
  </annotation>
 </semantics>
</math>

:</p>
<ol>
<li>equality;</li>
<li>equality <a href="up_to" title="wikilink">up to</a> a <a class="uri" href="permutation" title="wikilink">permutation</a> of 

<math display="inline" id="Twelvefold_way:37">
 <semantics>
  <mi>N</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>N</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   N
  </annotation>
 </semantics>
</math>

;</li>
<li>equality up to a permutation of 

<math display="inline" id="Twelvefold_way:38">
 <semantics>
  <mi>X</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>X</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   X
  </annotation>
 </semantics>
</math>

;</li>
<li>equality up to permutations of 

<math display="inline" id="Twelvefold_way:39">
 <semantics>
  <mi>N</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>N</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   N
  </annotation>
 </semantics>
</math>

 and 

<math display="inline" id="Twelvefold_way:40">
 <semantics>
  <mi>X</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>X</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   X
  </annotation>
 </semantics>
</math>

.</li>
</ol>

<p>Any of these equivalence relations produces a decomposition of the set of functions into equivalence classes.</p>

<p>(An equivalence class is the <a href="orbit_(group_theory)" title="wikilink">orbit</a> of a function 

<math display="inline" id="Twelvefold_way:41">
 <semantics>
  <mi>f</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>f</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   f
  </annotation>
 </semantics>
</math>

 under the <a href="Group_action" title="wikilink">group action</a> considered: , or <mtpl></mtpl>, or <mtpl>, or <mtpl></mtpl>, where <mtpl></mtpl> is the <a href="symmetric_group" title="wikilink">symmetric group</a> of <em>N</em>, and <mtpl></mtpl> is the symmetric group of <em>X</em>.)</mtpl></p>

<p>The three conditions on the functions and the four equivalence relations can be paired in 3 × 4 = 12 ways.</p>

<p>The twelve problems of counting equivalence classes of functions do not involve the same difficulties, and there is not one systematic method for solving them. Two of the problems are trivial (the number of equivalence classes is 0 or 1), five problems have an answer in terms of a multiplicative formula of <em>n</em> and <em>x</em>, and the remaining five problems have an answer in terms of combinatorial functions (<a href="Stirling_numbers" title="wikilink">Stirling numbers</a> and the <a href="Partition_(number_theory)" title="wikilink">partition function</a> for a given number of parts).</p>

<p>The incorporation of classical enumeration problems into this setting is as follows.</p>
<ul>
<li>Counting <em>n</em>-permutations (i.e., <a href="partial_permutation" title="wikilink">partial permutations</a> or sequences without repetition) of <em>X</em> is equivalent to counting <a href="#case_i" title="wikilink">injective functions <em>N</em> → <em>X</em></a>.</li>
<li>Counting <em>n</em>-combinations of <em>X</em> is equivalent to counting <a href="#case_in" title="wikilink">injective functions <em>N</em> → <em>X</em> up to permutations of <em>N</em></a>.</li>
<li>Counting permutations of the set <em>X</em> is equivalent to counting injective functions <em>N</em> → <em>X</em> when <em>n</em> = x, and also to <a href="#case_s" title="wikilink">counting surjective functions <em>N</em> → <em>X</em></a> when <em>n</em> = <em>x</em>.</li>
<li>Counting multisets of size <em>n</em> (also known as <em>n</em>-combinations with repetitions) of elements in <em>X</em> is equivalent to counting all <a href="#case_fn" title="wikilink">functions <em>N</em> → <em>X</em> up to permutations of <em>N</em></a>.</li>
<li>Counting partitions of the set <em>N</em> into <em>x</em> subsets is equivalent to counting all <a href="#case_sx" title="wikilink">surjective functions <em>N</em> → <em>X</em> up to permutations of <em>X</em></a>.</li>
<li>Counting <a href="composition_(number_theory)" title="wikilink">compositions</a> of the number <em>n</em> into <em>x</em> parts is equivalent to counting all <a href="#case_sn" title="wikilink">surjective functions <em>N</em> → <em>X</em> up to permutations of <em>N</em></a>.</li>
</ul>
<h2 id="viewpoints">Viewpoints</h2>

<p>The various problems in the twelvefold way may be considered from different points of view.</p>
<h3 id="balls-and-boxes">Balls and boxes</h3>

<p>Traditionally many of the problems in twelvefold way have been formulated in terms of placing balls in boxes (or some similar visualization) instead of defining functions. The set <em>N</em> can be identified with a set of balls, and <em>X</em> with a set of boxes; then function <em>ƒ</em> : <em>N</em> → <em>X</em> then describes a way to distribute the balls into the boxes, namely by putting each ball <em>a</em> into box <em>ƒ</em>(<em>a</em>). Thus the property that a function ascribes a unique image to each value in its domain is reflected by the property that any ball can go into only one box (together with the requirement that no ball should remain outside of the boxes), whereas any box can accommodate (in principle) an arbitrary number of balls. Requiring in addition <em>ƒ</em> to be injective means forbidding to put more than one ball in any one box, while requiring <em>ƒ</em> to be surjective means insisting that every box contain at least one ball.</p>

<p>Counting <a href="equivalence_relation" title="wikilink">modulo</a> permutations of <em>N</em> and/or of <em>X</em> is reflected by calling the balls respectively the boxes "indistinguishable". This is an imprecise formulation (in practice individual balls and boxes can always be distinguished by their location, and one could not assign different balls to different boxes without distinguishing them), intended to indicate that different configurations are not to be counted separately if one can be transformed into the other by some interchange of balls respectively of boxes; this is what the action by permutations of <em>N</em> and/or of <em>X</em> formalizes. In fact the case of indistinguishable boxes is somewhat harder to visualize than that of indistinguishable balls, since a configuration is inevitably presented with some ordering of the boxes; permuting the boxes will then appear as a permutation of their contents.</p>
<h3 id="sampling">Sampling</h3>

<p>Another way to think of some of the cases is in terms of <a href="sampling_(statistics)" title="wikilink">sampling</a>, in <a class="uri" href="statistics" title="wikilink">statistics</a>. Imagine a population of <em>X</em> items (or people), of which we choose <em>N</em>. Two different schemes are normally described, known as "sampling with replacement" and "<a href="sampling_without_replacement" title="wikilink">sampling without replacement</a>". In the former case (sampling with replacement), once we've chosen an item, we put it back in the population, so that we might choose it again. The result is that each choice is <a href="statistical_independence" title="wikilink">independent</a> of all the other choices, and the set of samples is technically referred to as <a href="independent_identically_distributed" title="wikilink">independent identically distributed</a>. In the latter case, however, once we've chosen an item, we put it aside so that we can't choose it again. This means that the act of choosing an item has an effect on all the following choices (the particular item can't be seen again), so our choices are dependent one another.</p>

<p>In the terminology below, the case of sampling with replacement is termed "Any <em>f</em>", while the case of sampling without replacement is termed "Injective <em>f</em>". Each box indicates how many different sets of choices there are, in a particular sampling scheme. The row labeled "Distinct" means that the ordering matters. For example, if we have ten items, of which we choose two, then the choice (4,7) is different from (7,4). On the other hand, the row labeled "S<sub><em>n</em></sub> orders" means that ordering doesn't matter: Choice (4,7) and (7,4) are equivalent. (Another way to think of this is to sort each choice by the item number, and throw out any duplicates that result.) In terms of <a href="probability_distributions" title="wikilink">probability distributions</a>, sampling with replacement where ordering matters is comparable to describing the <a href="joint_distribution" title="wikilink">joint distribution</a> of <em>N</em> separate <a href="random_variable" title="wikilink">random variables</a>, each with an <em>X</em>-fold <a href="categorical_distribution" title="wikilink">categorical distribution</a>. The case where ordering doesn't matter, however, is comparable to describing a single <a href="multinomial_distribution" title="wikilink">multinomial distribution</a> of <em>N</em> draws from an <em>X</em>-fold category, where only the number seen of each category matters. The case where ordering doesn't matter and sampling is without replacement is comparable to a single <a href="multivariate_hypergeometric_distribution" title="wikilink">multivariate hypergeometric distribution</a>, and the fourth possibility does not seem to have a correspondence. Note that in all the "injective" cases (i.e. sampling without replacement), the number of sets of choices is zero unless <em>N ≤ X</em>. ("Comparable" in the above cases means that each element of the <a href="sample_space" title="wikilink">sample space</a> of the corresponding distribution corresponds to a separate set of choices, and hence the number in the appropriate box indicates the size of the sample space for the given distribution.)</p>

<p>From this perspective, the case labeled "Surjective <em>f</em>" is somewhat strange: Essentially, we keep sampling with replacement until we've chosen each item at least once. Then, we count how many choices we've made, and if it's not equal to <em>N</em>, throw out the entire set and repeat. This is vaguely comparable to the <a href="coupon_collector's_problem" title="wikilink">coupon collector's problem</a>, where the process involves "collecting" (by sampling with replacement) a set of <em>X</em> coupons until each coupon has been seen at least once. Note that in all "surjective" cases, the number of sets of choices is zero unless <em>N ≥ X</em>.</p>
<h3 id="selection-labelling-grouping">Selection, labelling, grouping</h3>

<p>A function <em>ƒ</em> : <em>N</em> → <em>X</em> can be considered from the perspective of <em>X</em> or of <em>N</em>. This leads to different views:</p>
<ul>
<li>the function <em>ƒ</em> <em>labels</em> each element of <em>N</em> by an element of <em>X</em>.</li>
<li>the function <em>ƒ</em> <em>selects</em> (chooses) an <a href="element_(mathematics)" title="wikilink">element</a> of the set <em>X</em> for each element of <em>N</em>, a total of <em>n</em> choices.</li>
<li>the function <em>ƒ</em> <em>groups</em> the elements of <em>N</em> together that are mapped to the same element of <em>X</em>.</li>
</ul>

<p>These points of view are not equally suited to all cases. The labelling and selection points of view are not well compatible with permutation of the elements of <em>X</em>, since this changes the labels or the selection; on the other hand the grouping point of view does not give complete information about the configuration <em>unless</em> the elements of <em>X</em> may be freely permuted. The labelling and selection points of view are more or less equivalent when <em>N</em> is not permuted, but when it is, the selection point of view is more suited. The selection can then be viewed as an unordered selection: a single choice of a (multi-)set of <em>n</em> elements from <em>X</em> is made.</p>
<h3 id="labelling-and-selection-with-or-without-repetition">Labelling and selection with or without repetition</h3>

<p>When viewing <em>ƒ</em> as a labelling of the elements of <em>N</em>, the latter may be thought of as arranged in a sequence, and the labels as being successively assigned to them. A requirement that <em>ƒ</em> be injective means that no label can be used a second time; the result is a sequence of labels <em>without repetition</em>. In the absence of such a requirement, the terminology "sequences with repetition" is used, meaning that labels may be used more than once (although sequences that happen to be without repetition are also allowed).</p>

<p>For an unordered selection the same kind of distinction applies. If <em>ƒ</em> must be injective, then the selection must involve <em>n</em> distinct elements of <em>X</em>, so it is a subset of <em>X</em> of size <em>n</em>, also called an <em>n</em>-<a class="uri" href="combination" title="wikilink">combination</a>. Without the requirement, a same element of <em>X</em> may occur multiple times in the selection, and the result is a <a class="uri" href="multiset" title="wikilink">multiset</a> of size <em>n</em> of elements from <em>X</em>, also called an <em>n</em>-<a class="uri" href="multicombination" title="wikilink">multicombination</a> or <em>n</em>-combination with repetition.</p>

<p>In these cases the requirement of a surjective <em>ƒ</em> means that every label is to be used at least once, respectively that every element of <em>X</em> be included in the selection at least once. Such a requirement is less natural to handle mathematically, and indeed the former case is more easily viewed first as a grouping of elements of <em>N</em>, with in addition a labelling of the groups by the elements of <em>X</em>.</p>
<h3 id="partitions-of-sets-and-numbers">Partitions of sets and numbers</h3>

<p>When viewing <em>ƒ</em> as a grouping of the elements of <em>N</em> (which assumes one identifies under permutations of <em>X</em>), requiring <em>ƒ</em> to be surjective means the number of groups must be exactly <em>x</em>. Without this requirement the number of groups can be at most <em>x</em>. The requirement of injective <em>ƒ</em> means each element of <em>N</em> must be a group in itself, which leaves at most one valid grouping and therefore gives a rather uninteresting counting problem.</p>

<p>When in addition one identifies under permutations of <em>N</em>, this amounts to forgetting the groups themselves but retaining only their sizes. These sizes moreover do not come in any definite order, while the same size may occur more than once; one may choose to arrange them into a weakly decreasing list of numbers, whose sum is the number <em>n</em>. This gives the combinatorial notion of a <a href="partition_(number_theory)" title="wikilink">partition</a> of the number <em>n</em>, into exactly <em>x</em> (for surjective <em>ƒ</em>) or at most <em>x</em> (for arbitrary <em>ƒ</em>) parts.</p>
<h2 id="formulas">Formulas</h2>
<table>
<tbody>
<tr class="odd">
<td style="text-align: left;">
<p>The twelve combinatorial objects and their enumeration formulas.</p></td>
</tr>
<tr class="even">
<td style="text-align: left;">
<p><em>f</em>-class</p></td>
</tr>
<tr class="odd">
<td style="text-align: left;"></td>
</tr>
<tr class="even">
<td style="text-align: left;">
<p><mtpl></mtpl></p></td>
</tr>
<tr class="odd">
<td style="text-align: left;">
<p><mtpl></mtpl></p></td>
</tr>
<tr class="even">
<td style="text-align: left;">
<p><mtpl></mtpl></p></td>
</tr>
</tbody>
</table>

<p>Formulas for the different cases of the twelvefold way are summarized in the table on the right; each table entry links to a subsection below explaining the formula. The particular notations used are the following:</p>
<ul>
<li>the <a href="falling_factorial_power" title="wikilink">falling factorial power</a> 

<math display="inline" id="Twelvefold_way:42">
 <semantics>
  <mrow>
   <msup>
    <mi>x</mi>
    <munder accentunder="true">
     <mi>n</mi>
     <mo>¯</mo>
    </munder>
   </msup>
   <mo>=</mo>
   <mfrac>
    <mrow>
     <mi>x</mi>
     <mo lspace="0pt" rspace="3.5pt">!</mo>
    </mrow>
    <mrow>
     <mrow>
      <mo stretchy="false">(</mo>
      <mrow>
       <mi>x</mi>
       <mo>-</mo>
       <mi>n</mi>
      </mrow>
      <mo stretchy="false">)</mo>
     </mrow>
     <mo lspace="0pt" rspace="3.5pt">!</mo>
    </mrow>
   </mfrac>
   <mo>=</mo>
   <mrow>
    <mi>x</mi>
    <mrow>
     <mo stretchy="false">(</mo>
     <mrow>
      <mi>x</mi>
      <mo>-</mo>
      <mn>1</mn>
     </mrow>
     <mo stretchy="false">)</mo>
    </mrow>
    <mrow>
     <mo stretchy="false">(</mo>
     <mrow>
      <mi>x</mi>
      <mo>-</mo>
      <mn>2</mn>
     </mrow>
     <mo stretchy="false">)</mo>
    </mrow>
    <mi mathvariant="normal">⋯</mi>
    <mrow>
     <mo stretchy="false">(</mo>
     <mrow>
      <mrow>
       <mi>x</mi>
       <mo>-</mo>
       <mi>n</mi>
      </mrow>
      <mo>+</mo>
      <mn>1</mn>
     </mrow>
     <mo stretchy="false">)</mo>
    </mrow>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <and></and>
    <apply>
     <eq></eq>
     <apply>
      <csymbol cd="ambiguous">superscript</csymbol>
      <ci>x</ci>
      <apply>
       <ci>normal-¯</ci>
       <ci>n</ci>
      </apply>
     </apply>
     <apply>
      <divide></divide>
      <apply>
       <factorial></factorial>
       <ci>x</ci>
      </apply>
      <apply>
       <factorial></factorial>
       <apply>
        <minus></minus>
        <ci>x</ci>
        <ci>n</ci>
       </apply>
      </apply>
     </apply>
    </apply>
    <apply>
     <eq></eq>
     <share href="#.cmml">
     </share>
     <apply>
      <times></times>
      <ci>x</ci>
      <apply>
       <minus></minus>
       <ci>x</ci>
       <cn type="integer">1</cn>
      </apply>
      <apply>
       <minus></minus>
       <ci>x</ci>
       <cn type="integer">2</cn>
      </apply>
      <ci>normal-⋯</ci>
      <apply>
       <plus></plus>
       <apply>
        <minus></minus>
        <ci>x</ci>
        <ci>n</ci>
       </apply>
       <cn type="integer">1</cn>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   x^{\underline{n}}=\frac{x!}{(x-n)!}=x(x-1)(x-2)\cdots(x-n+1)
  </annotation>
 </semantics>
</math>

,</li>
<li>the <a href="Pochhammer_symbol#Alternate_notations" title="wikilink">rising factorial power</a> 

<math display="inline" id="Twelvefold_way:43">
 <semantics>
  <mrow>
   <msup>
    <mi>x</mi>
    <mover accent="true">
     <mi>n</mi>
     <mo>¯</mo>
    </mover>
   </msup>
   <mo>=</mo>
   <mfrac>
    <mrow>
     <mrow>
      <mo stretchy="false">(</mo>
      <mrow>
       <mrow>
        <mi>x</mi>
        <mo>+</mo>
        <mi>n</mi>
       </mrow>
       <mo>-</mo>
       <mn>1</mn>
      </mrow>
      <mo stretchy="false">)</mo>
     </mrow>
     <mo lspace="0pt" rspace="3.5pt">!</mo>
    </mrow>
    <mrow>
     <mrow>
      <mo stretchy="false">(</mo>
      <mrow>
       <mi>x</mi>
       <mo>-</mo>
       <mn>1</mn>
      </mrow>
      <mo stretchy="false">)</mo>
     </mrow>
     <mo lspace="0pt" rspace="3.5pt">!</mo>
    </mrow>
   </mfrac>
   <mo>=</mo>
   <mrow>
    <mi>x</mi>
    <mrow>
     <mo stretchy="false">(</mo>
     <mrow>
      <mi>x</mi>
      <mo>+</mo>
      <mn>1</mn>
     </mrow>
     <mo stretchy="false">)</mo>
    </mrow>
    <mrow>
     <mo stretchy="false">(</mo>
     <mrow>
      <mi>x</mi>
      <mo>+</mo>
      <mn>2</mn>
     </mrow>
     <mo stretchy="false">)</mo>
    </mrow>
    <mi mathvariant="normal">⋯</mi>
    <mrow>
     <mo stretchy="false">(</mo>
     <mrow>
      <mrow>
       <mi>x</mi>
       <mo>+</mo>
       <mi>n</mi>
      </mrow>
      <mo>-</mo>
      <mn>1</mn>
     </mrow>
     <mo stretchy="false">)</mo>
    </mrow>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <and></and>
    <apply>
     <eq></eq>
     <apply>
      <csymbol cd="ambiguous">superscript</csymbol>
      <ci>x</ci>
      <apply>
       <ci>normal-¯</ci>
       <ci>n</ci>
      </apply>
     </apply>
     <apply>
      <divide></divide>
      <apply>
       <factorial></factorial>
       <apply>
        <minus></minus>
        <apply>
         <plus></plus>
         <ci>x</ci>
         <ci>n</ci>
        </apply>
        <cn type="integer">1</cn>
       </apply>
      </apply>
      <apply>
       <factorial></factorial>
       <apply>
        <minus></minus>
        <ci>x</ci>
        <cn type="integer">1</cn>
       </apply>
      </apply>
     </apply>
    </apply>
    <apply>
     <eq></eq>
     <share href="#.cmml">
     </share>
     <apply>
      <times></times>
      <ci>x</ci>
      <apply>
       <plus></plus>
       <ci>x</ci>
       <cn type="integer">1</cn>
      </apply>
      <apply>
       <plus></plus>
       <ci>x</ci>
       <cn type="integer">2</cn>
      </apply>
      <ci>normal-⋯</ci>
      <apply>
       <minus></minus>
       <apply>
        <plus></plus>
        <ci>x</ci>
        <ci>n</ci>
       </apply>
       <cn type="integer">1</cn>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   x^{\overline{n}}=\frac{(x+n-1)!}{(x-1)!}=x(x+1)(x+2)\cdots(x+n-1)
  </annotation>
 </semantics>
</math>

,</li>
<li>the <a class="uri" href="factorial" title="wikilink">factorial</a> 

<math display="inline" id="Twelvefold_way:44">
 <semantics>
  <mrow>
   <mrow>
    <mi>n</mi>
    <mo lspace="0pt" rspace="3.5pt">!</mo>
   </mrow>
   <mo>=</mo>
   <msup>
    <mi>n</mi>
    <munder accentunder="true">
     <mi>n</mi>
     <mo>¯</mo>
    </munder>
   </msup>
   <mo>=</mo>
   <mrow>
    <mi>n</mi>
    <mrow>
     <mo stretchy="false">(</mo>
     <mrow>
      <mi>n</mi>
      <mo>-</mo>
      <mn>1</mn>
     </mrow>
     <mo stretchy="false">)</mo>
    </mrow>
    <mrow>
     <mo stretchy="false">(</mo>
     <mrow>
      <mi>n</mi>
      <mo>-</mo>
      <mn>2</mn>
     </mrow>
     <mo stretchy="false">)</mo>
    </mrow>
    <mi mathvariant="normal">⋯</mi>
    <mn>1</mn>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <and></and>
    <apply>
     <eq></eq>
     <apply>
      <factorial></factorial>
      <ci>n</ci>
     </apply>
     <apply>
      <csymbol cd="ambiguous">superscript</csymbol>
      <ci>n</ci>
      <apply>
       <ci>normal-¯</ci>
       <ci>n</ci>
      </apply>
     </apply>
    </apply>
    <apply>
     <eq></eq>
     <share href="#.cmml">
     </share>
     <apply>
      <times></times>
      <ci>n</ci>
      <apply>
       <minus></minus>
       <ci>n</ci>
       <cn type="integer">1</cn>
      </apply>
      <apply>
       <minus></minus>
       <ci>n</ci>
       <cn type="integer">2</cn>
      </apply>
      <ci>normal-⋯</ci>
      <cn type="integer">1</cn>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   n!=n^{\underline{n}}=n(n-1)(n-2)\cdots 1
  </annotation>
 </semantics>
</math>

</li>
<li>the <a href="Stirling_number_of_the_second_kind" title="wikilink">Stirling number of the second kind</a> 

<math display="inline" id="Twelvefold_way:45">
 <semantics>
  <mrow>
   <mo stretchy="false">{</mo>
   <mstyle scriptlevel="+1">
    <mtable columnspacing="0.4em" rowspacing="0.2ex">
     <mtr>
      <mtd>
       <mi>n</mi>
      </mtd>
     </mtr>
     <mtr>
      <mtd>
       <mi>k</mi>
      </mtd>
     </mtr>
    </mtable>
   </mstyle>
   <mo stretchy="false">}</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <set>
    <apply>
     <ci>STACKED</ci>
     <ci>n</ci>
     <ci>k</ci>
    </apply>
   </set>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \textstyle\{{n\atop k}\}
  </annotation>
 </semantics>
</math>

, denoting the number of ways to <a href="partition_of_a_set" title="wikilink">partition</a> a set of <em>n</em> elements into <em>k</em> subsets
<ul>
<li>the <a href="binomial_coefficient" title="wikilink">binomial coefficient</a> 

<math display="inline" id="Twelvefold_way:46">
 <semantics>
  <mrow>
   <mrow>
    <mo>(</mo>
    <mstyle scriptlevel="+1">
     <mtable columnspacing="0.4em" rowspacing="0.2ex">
      <mtr>
       <mtd>
        <mi>n</mi>
       </mtd>
      </mtr>
      <mtr>
       <mtd>
        <mi>k</mi>
       </mtd>
      </mtr>
     </mtable>
    </mstyle>
    <mo>)</mo>
   </mrow>
   <mo>=</mo>
   <mfrac>
    <msup>
     <mi>n</mi>
     <munder accentunder="true">
      <mi>k</mi>
      <mo>¯</mo>
     </munder>
    </msup>
    <mrow>
     <mi>k</mi>
     <mo lspace="0pt" rspace="3.5pt">!</mo>
    </mrow>
   </mfrac>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <csymbol cd="latexml">binomial</csymbol>
     <ci>n</ci>
     <ci>k</ci>
    </apply>
    <apply>
     <divide></divide>
     <apply>
      <csymbol cd="ambiguous">superscript</csymbol>
      <ci>n</ci>
      <apply>
       <ci>normal-¯</ci>
       <ci>k</ci>
      </apply>
     </apply>
     <apply>
      <factorial></factorial>
      <ci>k</ci>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \textstyle{\left({{n}\atop{k}}\right)}=\frac{n^{\underline{k}}}{k!}
  </annotation>
 </semantics>
</math>

</li>
</ul></li>
<li>the <a href="Iverson_bracket" title="wikilink">Iverson bracket</a> encoding a truth value as 0 or 1</li>
<li>the number 

<math display="inline" id="Twelvefold_way:47">
 <semantics>
  <mrow>
   <msub>
    <mi>p</mi>
    <mi>k</mi>
   </msub>
   <mrow>
    <mo stretchy="false">(</mo>
    <mi>n</mi>
    <mo stretchy="false">)</mo>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <times></times>
    <apply>
     <csymbol cd="ambiguous">subscript</csymbol>
     <ci>p</ci>
     <ci>k</ci>
    </apply>
    <ci>n</ci>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   p_{k}(n)
  </annotation>
 </semantics>
</math>

 of <a href="partition_(number_theory)" title="wikilink">partitions</a> of <em>n</em> into <em>k</em> parts</li>
</ul>
<h3 id="intuitive-meaning-of-the-rows-and-columns">Intuitive meaning of the rows and columns</h3>

<p>This is a quick summary of what the different cases mean. The cases are described in detail below.</p>

<p>Think of a set of <em>X</em> numbered items (numbered from 1 to <em>x</em>), from which we choose <em>n</em>, yielding an ordered list of the items: e.g. if there are <em>x=10</em> items of which we choose <em>n=3</em>, the result might be the list (5,2,10). We then count how many different such lists exist, sometimes first transforming the lists in ways that reduce the number of distinct possibilities.</p>

<p>Then the columns mean:</p>
<ul>
<li>Any <em>f</em>: After we choose an item, we put it back, so we might choose it again.</li>
<li>Injective <em>f</em>: After we choose an item, we set it aside, so we can't choose it again; hence we'll end up with <em>n</em> distinct items. Necessarily, then, unless <em>n</em> &lt;= <em>x</em>, no lists can be chosen at all.</li>
<li>Surjective <em>f</em>: After we choose an item, we put it back, so we might choose it again — but at the end, we have to end up having chosen each item at least once. Necessarily, then, unless <em>n</em> &gt;= <em>x</em>, no lists can be chosen at all.</li>
</ul>

<p>And the rows mean:</p>
<ul>
<li>Distinct: Leave the lists alone; count them directly.</li>
<li><strong>S</strong><sub><em>n</em></sub> orbits: Before counting, sort the lists by the item number of the items chosen, so that order doesn't matter, e.g. (5,2,10), (10,2,5), (2,10,5), etc. all → (2,5,10).</li>
<li><strong>S</strong><sub><em>x</em></sub> orbits: Before counting, renumber the items seen so that the first item seen has number 1, the second 2, etc. Numbers may repeat if an item was seen more than once, e.g. (3,5,3), (5,2,5), (4,9,4), etc. → (1,2,1) while (3,3,5), (5,5,3), (2,2,9), etc. → (1,1,2).</li>
<li><strong>S</strong><sub><em>n</em></sub>×<strong>S</strong><sub><em>x</em></sub> orbits: Before counting, sort the lists and then renumber them, as described above. (Note: Renumbering then sorting will produce different lists in some cases, but the <em>number</em> of possible lists does not change.)</li>
</ul>
<h3 id="details-of-the-different-cases">Details of the different cases</h3>

<p>The cases below are ordered in such a way as to group those cases for which the arguments used in counting are related, which is not the ordering in the table given.</p>
<h4 id="functions-from-n-to-x"> Functions from <em>N</em> to <em>X</em></h4>

<p>This case is equivalent to counting <strong>sequences of <em>n</em> elements</strong> of <em>X</em> with no restriction: a function  is determined by the <em>n</em> images of the elements of <em>N</em>, which can each be independently chosen among the elements of <em>x</em>. This gives a total of <em>x</em><sup><em>n</em></sup> possibilities.</p>
<blockquote>

<p>Example: 

<math display="inline" id="Twelvefold_way:48">
 <semantics>
  <mrow>
   <mrow>
    <mi>X</mi>
    <mo>=</mo>
    <mrow>
     <mo stretchy="false">{</mo>
     <mi>a</mi>
     <mo>,</mo>
     <mi>b</mi>
     <mo>,</mo>
     <mi>c</mi>
     <mo stretchy="false">}</mo>
    </mrow>
   </mrow>
   <mo>,</mo>
   <mrow>
    <mi>N</mi>
    <mo>=</mo>
    <mrow>
     <mrow>
      <mo stretchy="false">{</mo>
      <mi>p</mi>
      <mo>,</mo>
      <mi>q</mi>
      <mo stretchy="false">}</mo>
     </mrow>
     <mtext>, then</mtext>
     <mrow>
      <mo>|</mo>
      <mrow>
       <mo stretchy="false">{</mo>
       <mrow>
        <mo stretchy="false">(</mo>
        <mi>a</mi>
        <mo>,</mo>
        <mi>a</mi>
        <mo stretchy="false">)</mo>
       </mrow>
       <mo>,</mo>
       <mrow>
        <mo stretchy="false">(</mo>
        <mi>a</mi>
        <mo>,</mo>
        <mi>b</mi>
        <mo stretchy="false">)</mo>
       </mrow>
       <mo>,</mo>
       <mrow>
        <mo stretchy="false">(</mo>
        <mi>a</mi>
        <mo>,</mo>
        <mi>c</mi>
        <mo stretchy="false">)</mo>
       </mrow>
       <mo>,</mo>
       <mrow>
        <mo stretchy="false">(</mo>
        <mi>b</mi>
        <mo>,</mo>
        <mi>a</mi>
        <mo stretchy="false">)</mo>
       </mrow>
       <mo>,</mo>
       <mrow>
        <mo stretchy="false">(</mo>
        <mi>b</mi>
        <mo>,</mo>
        <mi>b</mi>
        <mo stretchy="false">)</mo>
       </mrow>
       <mo>,</mo>
       <mrow>
        <mo stretchy="false">(</mo>
        <mi>b</mi>
        <mo>,</mo>
        <mi>c</mi>
        <mo stretchy="false">)</mo>
       </mrow>
       <mo>,</mo>
       <mrow>
        <mo stretchy="false">(</mo>
        <mi>c</mi>
        <mo>,</mo>
        <mi>a</mi>
        <mo stretchy="false">)</mo>
       </mrow>
       <mo>,</mo>
       <mrow>
        <mo stretchy="false">(</mo>
        <mi>c</mi>
        <mo>,</mo>
        <mi>b</mi>
        <mo stretchy="false">)</mo>
       </mrow>
       <mo>,</mo>
       <mrow>
        <mo stretchy="false">(</mo>
        <mi>c</mi>
        <mo>,</mo>
        <mi>c</mi>
        <mo stretchy="false">)</mo>
       </mrow>
       <mo stretchy="false">}</mo>
      </mrow>
      <mo>|</mo>
     </mrow>
    </mrow>
    <mo>=</mo>
    <msup>
     <mn>3</mn>
     <mn>2</mn>
    </msup>
    <mo>=</mo>
    <mn>9</mn>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <csymbol cd="ambiguous">formulae-sequence</csymbol>
    <apply>
     <eq></eq>
     <ci>X</ci>
     <set>
      <ci>a</ci>
      <ci>b</ci>
      <ci>c</ci>
     </set>
    </apply>
    <apply>
     <and></and>
     <apply>
      <eq></eq>
      <ci>N</ci>
      <apply>
       <times></times>
       <set>
        <ci>p</ci>
        <ci>q</ci>
       </set>
       <mtext>, then</mtext>
       <apply>
        <abs></abs>
        <set>
         <interval closure="open">
          <ci>a</ci>
          <ci>a</ci>
         </interval>
         <interval closure="open">
          <ci>a</ci>
          <ci>b</ci>
         </interval>
         <interval closure="open">
          <ci>a</ci>
          <ci>c</ci>
         </interval>
         <interval closure="open">
          <ci>b</ci>
          <ci>a</ci>
         </interval>
         <interval closure="open">
          <ci>b</ci>
          <ci>b</ci>
         </interval>
         <interval closure="open">
          <ci>b</ci>
          <ci>c</ci>
         </interval>
         <interval closure="open">
          <ci>c</ci>
          <ci>a</ci>
         </interval>
         <interval closure="open">
          <ci>c</ci>
          <ci>b</ci>
         </interval>
         <interval closure="open">
          <ci>c</ci>
          <ci>c</ci>
         </interval>
        </set>
       </apply>
      </apply>
     </apply>
     <apply>
      <eq></eq>
      <share href="#.cmml">
      </share>
      <apply>
       <csymbol cd="ambiguous">superscript</csymbol>
       <cn type="integer">3</cn>
       <cn type="integer">2</cn>
      </apply>
     </apply>
     <apply>
      <eq></eq>
      <share href="#.cmml">
      </share>
      <cn type="integer">9</cn>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   X=\{a,b,c\},N=\{p,q\}\text{, then }\left|\{(a,a),(a,b),(a,c),(b,a),(b,b),(b,c)%
,(c,a),(c,b),(c,c)\}\right|=3^{2}=9
  </annotation>
 </semantics>
</math>

</p>
</blockquote>
<h4 id="injective-functions-from-n-to-x"> Injective functions from <em>N</em> to <em>X</em></h4>

<p>This case is equivalent to counting sequences of <em>n</em> <em>distinct</em> elements of <em>X</em>, also called <strong><em>n</em>-permutations</strong> of <em>X</em>, or <strong>sequences without repetitions</strong>; again this sequence is formed by the <em>n</em> images of the elements of <em>N</em>. This case differs from the one of unrestricted sequences in that there is one choice fewer for the second element, two fewer for the third element, and so on. Therefore instead of by an ordinary power of <em>x</em>, the value is given by a <a href="falling_factorial_power" title="wikilink">falling factorial power</a> of <em>x</em>, in which each successive factor is one fewer than the previous one. The formula is</p>

<p>

<math display="block" id="Twelvefold_way:49">
 <semantics>
  <mrow>
   <mrow>
    <msup>
     <mi>x</mi>
     <munder accentunder="true">
      <mi>n</mi>
      <mo>¯</mo>
     </munder>
    </msup>
    <mo>=</mo>
    <mrow>
     <mi>x</mi>
     <mrow>
      <mo stretchy="false">(</mo>
      <mrow>
       <mi>x</mi>
       <mo>-</mo>
       <mn>1</mn>
      </mrow>
      <mo stretchy="false">)</mo>
     </mrow>
     <mi mathvariant="normal">⋯</mi>
     <mrow>
      <mo stretchy="false">(</mo>
      <mrow>
       <mrow>
        <mi>x</mi>
        <mo>-</mo>
        <mi>n</mi>
       </mrow>
       <mo>+</mo>
       <mn>1</mn>
      </mrow>
      <mo stretchy="false">)</mo>
     </mrow>
    </mrow>
   </mrow>
   <mo>.</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <csymbol cd="ambiguous">superscript</csymbol>
     <ci>x</ci>
     <apply>
      <ci>normal-¯</ci>
      <ci>n</ci>
     </apply>
    </apply>
    <apply>
     <times></times>
     <ci>x</ci>
     <apply>
      <minus></minus>
      <ci>x</ci>
      <cn type="integer">1</cn>
     </apply>
     <ci>normal-⋯</ci>
     <apply>
      <plus></plus>
      <apply>
       <minus></minus>
       <ci>x</ci>
       <ci>n</ci>
      </apply>
      <cn type="integer">1</cn>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   x^{\underline{n}}=x(x-1)\cdots(x-n+1).
  </annotation>
 </semantics>
</math>

</p>

<p>Note that if <em>n</em> &gt; <em>x</em> then one obtains a factor zero, so in this case there are no injective functions  at all; this is just a restatement of the <a href="pigeonhole_principle" title="wikilink">pigeonhole principle</a>.</p>
<blockquote>

<p>Example: 

<math display="inline" id="Twelvefold_way:50">
 <semantics>
  <mrow>
   <mrow>
    <mi>X</mi>
    <mo>=</mo>
    <mrow>
     <mo stretchy="false">{</mo>
     <mi>a</mi>
     <mo>,</mo>
     <mi>b</mi>
     <mo>,</mo>
     <mi>c</mi>
     <mo>,</mo>
     <mi>d</mi>
     <mo stretchy="false">}</mo>
    </mrow>
   </mrow>
   <mo>,</mo>
   <mrow>
    <mi>N</mi>
    <mo>=</mo>
    <mrow>
     <mrow>
      <mo stretchy="false">{</mo>
      <mn>1</mn>
      <mo>,</mo>
      <mn>2</mn>
      <mo stretchy="false">}</mo>
     </mrow>
     <mtext>, then</mtext>
    </mrow>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <csymbol cd="ambiguous">formulae-sequence</csymbol>
    <apply>
     <eq></eq>
     <ci>X</ci>
     <set>
      <ci>a</ci>
      <ci>b</ci>
      <ci>c</ci>
      <ci>d</ci>
     </set>
    </apply>
    <apply>
     <eq></eq>
     <ci>N</ci>
     <apply>
      <times></times>
      <set>
       <cn type="integer">1</cn>
       <cn type="integer">2</cn>
      </set>
      <mtext>, then</mtext>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   X=\{a,b,c,d\},N=\{1,2\}\text{, then }
  </annotation>
 </semantics>
</math>

 

<math display="inline" id="Twelvefold_way:51">
 <semantics>
  <mrow>
   <mrow>
    <mo>|</mo>
    <mrow>
     <mo stretchy="false">{</mo>
     <mrow>
      <mo stretchy="false">(</mo>
      <mi>a</mi>
      <mo>,</mo>
      <mi>b</mi>
      <mo stretchy="false">)</mo>
     </mrow>
     <mo>,</mo>
     <mrow>
      <mo stretchy="false">(</mo>
      <mi>a</mi>
      <mo>,</mo>
      <mi>c</mi>
      <mo stretchy="false">)</mo>
     </mrow>
     <mo>,</mo>
     <mrow>
      <mo stretchy="false">(</mo>
      <mi>a</mi>
      <mo>,</mo>
      <mi>d</mi>
      <mo stretchy="false">)</mo>
     </mrow>
     <mo>,</mo>
     <mrow>
      <mo stretchy="false">(</mo>
      <mi>b</mi>
      <mo>,</mo>
      <mi>a</mi>
      <mo stretchy="false">)</mo>
     </mrow>
     <mo>,</mo>
     <mrow>
      <mo stretchy="false">(</mo>
      <mi>b</mi>
      <mo>,</mo>
      <mi>c</mi>
      <mo stretchy="false">)</mo>
     </mrow>
     <mo>,</mo>
     <mrow>
      <mo stretchy="false">(</mo>
      <mi>b</mi>
      <mo>,</mo>
      <mi>d</mi>
      <mo stretchy="false">)</mo>
     </mrow>
     <mo>,</mo>
     <mrow>
      <mo stretchy="false">(</mo>
      <mi>c</mi>
      <mo>,</mo>
      <mi>a</mi>
      <mo stretchy="false">)</mo>
     </mrow>
     <mo>,</mo>
     <mrow>
      <mo stretchy="false">(</mo>
      <mi>c</mi>
      <mo>,</mo>
      <mi>b</mi>
      <mo stretchy="false">)</mo>
     </mrow>
     <mo>,</mo>
     <mrow>
      <mo stretchy="false">(</mo>
      <mi>c</mi>
      <mo>,</mo>
      <mi>d</mi>
      <mo stretchy="false">)</mo>
     </mrow>
     <mo>,</mo>
     <mrow>
      <mo stretchy="false">(</mo>
      <mi>d</mi>
      <mo>,</mo>
      <mi>a</mi>
      <mo stretchy="false">)</mo>
     </mrow>
     <mo>,</mo>
     <mrow>
      <mo stretchy="false">(</mo>
      <mi>d</mi>
      <mo>,</mo>
      <mi>b</mi>
      <mo stretchy="false">)</mo>
     </mrow>
     <mo>,</mo>
     <mrow>
      <mo stretchy="false">(</mo>
      <mi>d</mi>
      <mo>,</mo>
      <mi>c</mi>
      <mo stretchy="false">)</mo>
     </mrow>
     <mo stretchy="false">}</mo>
    </mrow>
    <mo>|</mo>
   </mrow>
   <mo>=</mo>
   <msup>
    <mn>4</mn>
    <munder accentunder="true">
     <mn>2</mn>
     <mo>¯</mo>
    </munder>
   </msup>
   <mo>=</mo>
   <mrow>
    <mn>4</mn>
    <mo>×</mo>
    <mn>3</mn>
   </mrow>
   <mo>=</mo>
   <mn>12</mn>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <and></and>
    <apply>
     <eq></eq>
     <apply>
      <abs></abs>
      <set>
       <interval closure="open">
        <ci>a</ci>
        <ci>b</ci>
       </interval>
       <interval closure="open">
        <ci>a</ci>
        <ci>c</ci>
       </interval>
       <interval closure="open">
        <ci>a</ci>
        <ci>d</ci>
       </interval>
       <interval closure="open">
        <ci>b</ci>
        <ci>a</ci>
       </interval>
       <interval closure="open">
        <ci>b</ci>
        <ci>c</ci>
       </interval>
       <interval closure="open">
        <ci>b</ci>
        <ci>d</ci>
       </interval>
       <interval closure="open">
        <ci>c</ci>
        <ci>a</ci>
       </interval>
       <interval closure="open">
        <ci>c</ci>
        <ci>b</ci>
       </interval>
       <interval closure="open">
        <ci>c</ci>
        <ci>d</ci>
       </interval>
       <interval closure="open">
        <ci>d</ci>
        <ci>a</ci>
       </interval>
       <interval closure="open">
        <ci>d</ci>
        <ci>b</ci>
       </interval>
       <interval closure="open">
        <ci>d</ci>
        <ci>c</ci>
       </interval>
      </set>
     </apply>
     <apply>
      <csymbol cd="ambiguous">superscript</csymbol>
      <cn type="integer">4</cn>
      <apply>
       <ci>normal-¯</ci>
       <cn type="integer">2</cn>
      </apply>
     </apply>
    </apply>
    <apply>
     <eq></eq>
     <share href="#.cmml">
     </share>
     <apply>
      <times></times>
      <cn type="integer">4</cn>
      <cn type="integer">3</cn>
     </apply>
    </apply>
    <apply>
     <eq></eq>
     <share href="#.cmml">
     </share>
     <cn type="integer">12</cn>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \left|\{(a,b),(a,c),(a,d),(b,a),(b,c),(b,d),(c,a),(c,b),(c,d),(d,a),(d,b),(d,c%
)\}\right|=4^{\underline{2}}=4\times 3=12
  </annotation>
 </semantics>
</math>

</p>
</blockquote>
<h4 id="injective-functions-from-n-to-x-up-to-a-permutation-of-n"> Injective functions from <em>N</em> to <em>X</em>, up to a permutation of <em>N</em></h4>

<p>This case is equivalent to counting <strong>subsets with <em>n</em> elements</strong> of <em>X</em>, also called <em>n</em>-combinations of <em>X</em>: among the sequences of <em>n</em> distinct elements of <em>X</em>, those that differ only in the order of their terms are identified by permutations of <em>N</em>. Since in all cases this groups together exactly <em>n</em>! different sequences, we can divide the number of such sequences by <em>n</em>! to get the number of <em>n</em>-combinations of <em>X</em>. This number is known as the <a href="binomial_coefficient" title="wikilink">binomial coefficient</a> 

<math display="inline" id="Twelvefold_way:52">
 <semantics>
  <mrow>
   <mo>(</mo>
   <mstyle scriptlevel="+1">
    <mtable columnspacing="0.4em" rowspacing="0.2ex">
     <mtr>
      <mtd>
       <mi>x</mi>
      </mtd>
     </mtr>
     <mtr>
      <mtd>
       <mi>n</mi>
      </mtd>
     </mtr>
    </mtable>
   </mstyle>
   <mo>)</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <csymbol cd="latexml">binomial</csymbol>
    <ci>x</ci>
    <ci>n</ci>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   {\textstyle\left({{x}\atop{n}}\right)}
  </annotation>
 </semantics>
</math>

, which is therefore given by</p>

<p>

<math display="block" id="Twelvefold_way:53">
 <semantics>
  <mrow>
   <mrow>
    <mrow>
     <mo>(</mo>
     <mtable columnspacing="0.4em" rowspacing="0.2ex">
      <mtr>
       <mtd>
        <mi>x</mi>
       </mtd>
      </mtr>
      <mtr>
       <mtd>
        <mi>n</mi>
       </mtd>
      </mtr>
     </mtable>
     <mo>)</mo>
    </mrow>
    <mo>=</mo>
    <mfrac>
     <msup>
      <mi>x</mi>
      <munder accentunder="true">
       <mi>n</mi>
       <mo>¯</mo>
      </munder>
     </msup>
     <mrow>
      <mi>n</mi>
      <mo lspace="0pt" rspace="3.5pt">!</mo>
     </mrow>
    </mfrac>
    <mo>=</mo>
    <mfrac>
     <mrow>
      <mi>x</mi>
      <mrow>
       <mo stretchy="false">(</mo>
       <mrow>
        <mi>x</mi>
        <mo>-</mo>
        <mn>1</mn>
       </mrow>
       <mo stretchy="false">)</mo>
      </mrow>
      <mi mathvariant="normal">⋯</mi>
      <mrow>
       <mo stretchy="false">(</mo>
       <mrow>
        <mrow>
         <mi>x</mi>
         <mo>-</mo>
         <mi>n</mi>
        </mrow>
        <mo>+</mo>
        <mn>2</mn>
       </mrow>
       <mo stretchy="false">)</mo>
      </mrow>
      <mrow>
       <mo stretchy="false">(</mo>
       <mrow>
        <mrow>
         <mi>x</mi>
         <mo>-</mo>
         <mi>n</mi>
        </mrow>
        <mo>+</mo>
        <mn>1</mn>
       </mrow>
       <mo stretchy="false">)</mo>
      </mrow>
     </mrow>
     <mrow>
      <mrow>
       <mi>n</mi>
       <mrow>
        <mo stretchy="false">(</mo>
        <mrow>
         <mi>n</mi>
         <mo>-</mo>
         <mn>1</mn>
        </mrow>
        <mo stretchy="false">)</mo>
       </mrow>
       <mi mathvariant="normal">⋯</mi>
       <mn>2</mn>
      </mrow>
      <mo>⋅</mo>
      <mn>1</mn>
     </mrow>
    </mfrac>
   </mrow>
   <mo>.</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <and></and>
    <apply>
     <eq></eq>
     <apply>
      <csymbol cd="latexml">binomial</csymbol>
      <ci>x</ci>
      <ci>n</ci>
     </apply>
     <apply>
      <divide></divide>
      <apply>
       <csymbol cd="ambiguous">superscript</csymbol>
       <ci>x</ci>
       <apply>
        <ci>normal-¯</ci>
        <ci>n</ci>
       </apply>
      </apply>
      <apply>
       <factorial></factorial>
       <ci>n</ci>
      </apply>
     </apply>
    </apply>
    <apply>
     <eq></eq>
     <share href="#.cmml">
     </share>
     <apply>
      <divide></divide>
      <apply>
       <times></times>
       <ci>x</ci>
       <apply>
        <minus></minus>
        <ci>x</ci>
        <cn type="integer">1</cn>
       </apply>
       <ci>normal-⋯</ci>
       <apply>
        <plus></plus>
        <apply>
         <minus></minus>
         <ci>x</ci>
         <ci>n</ci>
        </apply>
        <cn type="integer">2</cn>
       </apply>
       <apply>
        <plus></plus>
        <apply>
         <minus></minus>
         <ci>x</ci>
         <ci>n</ci>
        </apply>
        <cn type="integer">1</cn>
       </apply>
      </apply>
      <apply>
       <ci>normal-⋅</ci>
       <apply>
        <times></times>
        <ci>n</ci>
        <apply>
         <minus></minus>
         <ci>n</ci>
         <cn type="integer">1</cn>
        </apply>
        <ci>normal-⋯</ci>
        <cn type="integer">2</cn>
       </apply>
       <cn type="integer">1</cn>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   {\left({{x}\atop{n}}\right)}=\frac{x^{\underline{n}}}{n!}=\frac{x(x-1)\cdots(x%
-n+2)(x-n+1)}{n(n-1)\cdots 2\cdot 1}.
  </annotation>
 </semantics>
</math>

</p>
<h4 id="functions-from-n-to-x-up-to-a-permutation-of-n"> Functions from <em>N</em> to <em>X</em>, up to a permutation of <em>N</em></h4>

<p>This case is equivalent to counting <strong><a href="multiset" title="wikilink">multisets</a> with <em>n</em> elements</strong> from <em>X</em> (also called <em>n</em>-multicombinations). The reason is that for each element of <em>X</em> it is determined how many elements of <em>N</em> are mapped to it by <em>f</em>, while two functions that give the same such "multiplicities" to each element of <em>X</em> can always be transformed into another by a permutation of <em>N</em>. The formula counting all functions  is not useful here, because the number of them grouped together by permutations of <em>N</em> varies from one function to another. Rather, as explained under <a href="Combinations#Number_of_combinations_with_repetition" title="wikilink">combinations</a>, the number of <em>n</em>-multicombinations from a set with <em>x</em> elements can be seen to be the same as the number of <em>n</em>-combinations from a set with  elements. This reduces the problem to <a href="#case_in" title="wikilink">another one</a> in the twelvefold way, and gives as result</p>

<p>

<math display="block" id="Twelvefold_way:54">
 <semantics>
  <mrow>
   <mrow>
    <mrow>
     <mo>(</mo>
     <mtable columnspacing="0.4em" rowspacing="0.2ex">
      <mtr>
       <mtd>
        <mrow>
         <mrow>
          <mi>x</mi>
          <mo>+</mo>
          <mi>n</mi>
         </mrow>
         <mo>-</mo>
         <mn>1</mn>
        </mrow>
       </mtd>
      </mtr>
      <mtr>
       <mtd>
        <mi>n</mi>
       </mtd>
      </mtr>
     </mtable>
     <mo>)</mo>
    </mrow>
    <mo>=</mo>
    <mfrac>
     <mrow>
      <mrow>
       <mo stretchy="false">(</mo>
       <mrow>
        <mrow>
         <mi>x</mi>
         <mo>+</mo>
         <mi>n</mi>
        </mrow>
        <mo>-</mo>
        <mn>1</mn>
       </mrow>
       <mo stretchy="false">)</mo>
      </mrow>
      <mrow>
       <mo stretchy="false">(</mo>
       <mrow>
        <mrow>
         <mi>x</mi>
         <mo>+</mo>
         <mi>n</mi>
        </mrow>
        <mo>-</mo>
        <mn>2</mn>
       </mrow>
       <mo stretchy="false">)</mo>
      </mrow>
      <mi mathvariant="normal">⋯</mi>
      <mrow>
       <mo stretchy="false">(</mo>
       <mrow>
        <mi>x</mi>
        <mo>+</mo>
        <mn>1</mn>
       </mrow>
       <mo stretchy="false">)</mo>
      </mrow>
      <mi>x</mi>
     </mrow>
     <mrow>
      <mrow>
       <mi>n</mi>
       <mrow>
        <mo stretchy="false">(</mo>
        <mrow>
         <mi>n</mi>
         <mo>-</mo>
         <mn>1</mn>
        </mrow>
        <mo stretchy="false">)</mo>
       </mrow>
       <mi mathvariant="normal">⋯</mi>
       <mn>2</mn>
      </mrow>
      <mo>⋅</mo>
      <mn>1</mn>
     </mrow>
    </mfrac>
    <mo>=</mo>
    <mfrac>
     <msup>
      <mi>x</mi>
      <mover accent="true">
       <mi>n</mi>
       <mo>¯</mo>
      </mover>
     </msup>
     <mrow>
      <mi>n</mi>
      <mo lspace="0pt" rspace="3.5pt">!</mo>
     </mrow>
    </mfrac>
   </mrow>
   <mo>.</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <and></and>
    <apply>
     <eq></eq>
     <apply>
      <csymbol cd="latexml">binomial</csymbol>
      <apply>
       <minus></minus>
       <apply>
        <plus></plus>
        <ci>x</ci>
        <ci>n</ci>
       </apply>
       <cn type="integer">1</cn>
      </apply>
      <ci>n</ci>
     </apply>
     <apply>
      <divide></divide>
      <apply>
       <times></times>
       <apply>
        <minus></minus>
        <apply>
         <plus></plus>
         <ci>x</ci>
         <ci>n</ci>
        </apply>
        <cn type="integer">1</cn>
       </apply>
       <apply>
        <minus></minus>
        <apply>
         <plus></plus>
         <ci>x</ci>
         <ci>n</ci>
        </apply>
        <cn type="integer">2</cn>
       </apply>
       <ci>normal-⋯</ci>
       <apply>
        <plus></plus>
        <ci>x</ci>
        <cn type="integer">1</cn>
       </apply>
       <ci>x</ci>
      </apply>
      <apply>
       <ci>normal-⋅</ci>
       <apply>
        <times></times>
        <ci>n</ci>
        <apply>
         <minus></minus>
         <ci>n</ci>
         <cn type="integer">1</cn>
        </apply>
        <ci>normal-⋯</ci>
        <cn type="integer">2</cn>
       </apply>
       <cn type="integer">1</cn>
      </apply>
     </apply>
    </apply>
    <apply>
     <eq></eq>
     <share href="#.cmml">
     </share>
     <apply>
      <divide></divide>
      <apply>
       <csymbol cd="ambiguous">superscript</csymbol>
       <ci>x</ci>
       <apply>
        <ci>normal-¯</ci>
        <ci>n</ci>
       </apply>
      </apply>
      <apply>
       <factorial></factorial>
       <ci>n</ci>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   {\left({{x+n-1}\atop{n}}\right)}=\frac{(x+n-1)(x+n-2)\cdots(x+1)x}{n(n-1)%
\cdots 2\cdot 1}=\frac{x^{\overline{n}}}{n!}.
  </annotation>
 </semantics>
</math>

</p>
<h4 id="surjective-functions-from-n-to-x-up-to-a-permutation-of-n"> Surjective functions from <em>N</em> to <em>X</em>, up to a permutation of <em>N</em></h4>

<p>This case is equivalent to counting <a href="multiset" title="wikilink">multisets</a> with <em>n</em> elements from <em>X</em>, for which each element of <em>X</em> occurs at least once. This is also equivalent to counting the <strong><a href="composition_(number_theory)" title="wikilink">compositions</a> of <em>n</em> with <em>x</em> (non-zero) terms</strong>, by listing the multiplicities of the elements of <em>x</em> in order. The correspondence between functions and multisets is the same as in the previous case, and the surjectivity requirement means that all multiplicities are at least one. By decreasing all multiplicities by 1, this reduces to the previous case; since the change decreases the value of <em>n</em> by <em>x</em>, the result is</p>

<p>

<math display="block" id="Twelvefold_way:55">
 <semantics>
  <mrow>
   <mrow>
    <mo>(</mo>
    <mtable columnspacing="0.4em" rowspacing="0.2ex">
     <mtr>
      <mtd>
       <mrow>
        <mi>n</mi>
        <mo>-</mo>
        <mn>1</mn>
       </mrow>
      </mtd>
     </mtr>
     <mtr>
      <mtd>
       <mrow>
        <mi>n</mi>
        <mo>-</mo>
        <mi>x</mi>
       </mrow>
      </mtd>
     </mtr>
    </mtable>
    <mo>)</mo>
   </mrow>
   <mo>.</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <csymbol cd="latexml">binomial</csymbol>
    <apply>
     <minus></minus>
     <ci>n</ci>
     <cn type="integer">1</cn>
    </apply>
    <apply>
     <minus></minus>
     <ci>n</ci>
     <ci>x</ci>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   {\left({{n-1}\atop{n-x}}\right)}.
  </annotation>
 </semantics>
</math>

</p>

<p>Note that when <em>n</em>  \binom{n-1}{x-1},</p>

<p>except in the extreme case <em>n</em> = <em>x</em> = 0, where with the former expression correctly gives 

<math display="inline" id="Twelvefold_way:56">
 <semantics>
  <mrow>
   <mrow>
    <mo>(</mo>
    <mstyle scriptlevel="+1">
     <mtable columnspacing="0.4em" rowspacing="0.2ex">
      <mtr>
       <mtd>
        <mrow>
         <mo>-</mo>
         <mn>1</mn>
        </mrow>
       </mtd>
      </mtr>
      <mtr>
       <mtd>
        <mn>0</mn>
       </mtd>
      </mtr>
     </mtable>
    </mstyle>
    <mo>)</mo>
   </mrow>
   <mo>=</mo>
   <mn>1</mn>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <csymbol cd="latexml">binomial</csymbol>
     <apply>
      <minus></minus>
      <cn type="integer">1</cn>
     </apply>
     <cn type="integer">0</cn>
    </apply>
    <cn type="integer">1</cn>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   {\textstyle\left({{-1}\atop{0}}\right)}=1
  </annotation>
 </semantics>
</math>

, while the latter incorrectly gives 

<math display="inline" id="Twelvefold_way:57">
 <semantics>
  <mrow>
   <mrow>
    <mo>(</mo>
    <mstyle scriptlevel="+1">
     <mtable columnspacing="0.4em" rowspacing="0.2ex">
      <mtr>
       <mtd>
        <mrow>
         <mo>-</mo>
         <mn>1</mn>
        </mrow>
       </mtd>
      </mtr>
      <mtr>
       <mtd>
        <mrow>
         <mo>-</mo>
         <mn>1</mn>
        </mrow>
       </mtd>
      </mtr>
     </mtable>
    </mstyle>
    <mo>)</mo>
   </mrow>
   <mo>=</mo>
   <mn>0</mn>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <csymbol cd="latexml">binomial</csymbol>
     <apply>
      <minus></minus>
      <cn type="integer">1</cn>
     </apply>
     <apply>
      <minus></minus>
      <cn type="integer">1</cn>
     </apply>
    </apply>
    <cn type="integer">0</cn>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   {\textstyle\left({{-1}\atop{-1}}\right)}=0
  </annotation>
 </semantics>
</math>

.</p>

<p>The form of the result suggests looking for a manner to associate a class of surjective functions  directly to a subset of  elements chosen from a total of , which can be done as follows. First choose a <a href="total_ordering" title="wikilink">total ordering</a> of the sets <em>N</em> and <em>X</em>, and note that by applying a suitable permutation of <em>N</em>, every surjective function  can be transformed into a unique <a href="weakly_increasing" title="wikilink">weakly increasing</a> (and of course still surjective) function. If one connects the elements of <em>N</em> in order by  arcs into a <a href="linear_graph" title="wikilink">linear graph</a>, then choosing any subset of  arcs and removing the rest, one obtains a graph with <em>x</em> connected components, and by sending these to the successive elements of <em>X</em>, one obtains a weakly increasing surjective function ; also the sizes of the connected components give a composition of <em>n</em> into <em>x</em> parts. This argument is basically the one given at <a href="stars_and_bars_(probability)" title="wikilink">stars and bars</a>, except that there the complementary choice of  "separations" is made.</p>
<h4 id="injective-functions-from-n-to-x-up-to-a-permutation-of-x"> Injective functions from <em>N</em> to <em>X</em>, up to a permutation of <em>X</em></h4>

<p>In this case we consider sequences of <em>n</em> distinct elements from <em>X</em>, but identify those obtained from one another by applying to each element a permutation of <em>X</em>. It is easy to see that two different such sequences can always be identified: the permutation must map term <em>i</em> of the first sequence to term <em>i</em> of the second sequence, and since no value occurs twice in either sequence these requirements do not contradict each other; it remains to map the elements not occurring in the first sequence bijectively to those not occurring in the second sequence in an arbitrary way. The only fact that makes the result depend on <em>n</em> and <em>x</em> at all is that the existence of any such sequences to begin with requires <em>n</em> ≤ <em>x</em>, by the pigeonhole principle. The number is therefore expressed as 

<math display="inline" id="Twelvefold_way:58">
 <semantics>
  <mrow>
   <mo stretchy="false">[</mo>
   <mrow>
    <mi>n</mi>
    <mo>≤</mo>
    <mi>x</mi>
   </mrow>
   <mo stretchy="false">]</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <csymbol cd="latexml">delimited-[]</csymbol>
    <apply>
     <leq></leq>
     <ci>n</ci>
     <ci>x</ci>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   [n\leq x]
  </annotation>
 </semantics>
</math>

, using the <a href="Iverson_bracket" title="wikilink">Iverson bracket</a>.</p>
<h4 id="injective-functions-from-n-to-x-up-to-permutations-of-n-and-x"> Injective functions from <em>N</em> to <em>X</em>, up to permutations of <em>N</em> and <em>X</em></h4>

<p>This case is reduced to the previous one: since all sequences of <em>n</em> distinct elements from <em>X</em> can already be transformed into each other by applying a permutation of <em>X</em> to each of their terms, also allowing reordering of the terms does not give any new identifications; the number remains 

<math display="inline" id="Twelvefold_way:59">
 <semantics>
  <mrow>
   <mo stretchy="false">[</mo>
   <mrow>
    <mi>n</mi>
    <mo>≤</mo>
    <mi>x</mi>
   </mrow>
   <mo stretchy="false">]</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <csymbol cd="latexml">delimited-[]</csymbol>
    <apply>
     <leq></leq>
     <ci>n</ci>
     <ci>x</ci>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   [n\leq x]
  </annotation>
 </semantics>
</math>

.</p>
<h4 id="surjective-functions-from-n-to-x-up-to-a-permutation-of-x"> Surjective functions from <em>N</em> to <em>X</em>, up to a permutation of <em>X</em></h4>

<p>This case is equivalent to counting <strong><a href="Partition_of_a_set" title="wikilink">partitions</a> of <em>N</em> into <em>x</em> (non-empty) subsets</strong>, or counting <a href="equivalence_relation" title="wikilink">equivalence relations</a> on <em>N</em> with exactly <em>x</em> classes. Indeed for any surjective function , the relation of having the same image under <em>f</em> is such an equivalence relation, and it does not change when a permutation of <em>X</em> is subsequently applied; conversely one can turn such an equivalence relation into a surjective function by assigning the elements of <em>X</em> in some manner to the <em>x</em> equivalence classes. The number of such partitions or equivalence relations is by definition the <a href="Stirling_number_of_the_second_kind" title="wikilink">Stirling number of the second kind</a> <em>S</em>(<em>n</em>,<em>x</em>), also written 

<math display="inline" id="Twelvefold_way:60">
 <semantics>
  <mrow>
   <mo stretchy="false">{</mo>
   <mstyle scriptlevel="+1">
    <mtable columnspacing="0.4em" rowspacing="0.2ex">
     <mtr>
      <mtd>
       <mi>n</mi>
      </mtd>
     </mtr>
     <mtr>
      <mtd>
       <mi>x</mi>
      </mtd>
     </mtr>
    </mtable>
   </mstyle>
   <mo stretchy="false">}</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <set>
    <apply>
     <ci>STACKED</ci>
     <ci>n</ci>
     <ci>x</ci>
    </apply>
   </set>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \textstyle\{{n\atop x}\}
  </annotation>
 </semantics>
</math>

. Its value can be described using a recursion relation or using <a href="generating_function" title="wikilink">generating functions</a>, but unlike binomial coefficients there is no <a href="closed_formula" title="wikilink">closed formula</a> for these numbers that does not involve a <a class="uri" href="summation" title="wikilink">summation</a>.</p>
<h4 id="surjective-functions-from-n-to-x"> Surjective functions from <em>N</em> to <em>X</em></h4>

<p>For each surjective function , its orbit under permutations of <em>X</em> has <em>x</em>! elements, since composition (on the left) with two distinct permutations of <em>X</em> never gives the same function on <em>N</em> (the permutations must differ at some element of <em>X</em>, which can always be written as <em>f</em>(<em>i</em>) for some <em>i</em> ∈ <em>N</em>, and the compositions will then differ at <em>i</em>). It follows that the number for this case is <em>x</em>! times the number for the previous case, that is 

<math display="inline" id="Twelvefold_way:61">
 <semantics>
  <mrow>
   <mrow>
    <mrow>
     <mi>x</mi>
     <mo lspace="0pt" rspace="3.5pt">!</mo>
    </mrow>
    <mrow>
     <mo stretchy="false">{</mo>
     <mstyle scriptlevel="+1">
      <mtable columnspacing="0.4em" rowspacing="0.2ex">
       <mtr>
        <mtd>
         <mi>n</mi>
        </mtd>
       </mtr>
       <mtr>
        <mtd>
         <mi>x</mi>
        </mtd>
       </mtr>
      </mtable>
     </mstyle>
     <mo stretchy="false">}</mo>
    </mrow>
   </mrow>
   <mo>.</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <times></times>
    <apply>
     <factorial></factorial>
     <ci>x</ci>
    </apply>
    <set>
     <apply>
      <ci>STACKED</ci>
      <ci>n</ci>
      <ci>x</ci>
     </apply>
    </set>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \textstyle x!\{{n\atop x}\}.
  </annotation>
 </semantics>
</math>

</p>
<blockquote>

<p>Example: 

<math display="inline" id="Twelvefold_way:62">
 <semantics>
  <mrow>
   <mrow>
    <mi>X</mi>
    <mo>=</mo>
    <mrow>
     <mo stretchy="false">{</mo>
     <mi>a</mi>
     <mo>,</mo>
     <mi>b</mi>
     <mo stretchy="false">}</mo>
    </mrow>
   </mrow>
   <mo>,</mo>
   <mrow>
    <mi>N</mi>
    <mo>=</mo>
    <mrow>
     <mrow>
      <mo stretchy="false">{</mo>
      <mi>p</mi>
      <mo>,</mo>
      <mi>q</mi>
      <mo>,</mo>
      <mi>r</mi>
      <mo stretchy="false">}</mo>
     </mrow>
     <mtext>, then</mtext>
     <mrow>
      <mo>|</mo>
      <mrow>
       <mo stretchy="false">{</mo>
       <mrow>
        <mo stretchy="false">(</mo>
        <mi>a</mi>
        <mo>,</mo>
        <mi>a</mi>
        <mo>,</mo>
        <mi>b</mi>
        <mo stretchy="false">)</mo>
       </mrow>
       <mo>,</mo>
       <mrow>
        <mo stretchy="false">(</mo>
        <mi>a</mi>
        <mo>,</mo>
        <mi>b</mi>
        <mo>,</mo>
        <mi>a</mi>
        <mo stretchy="false">)</mo>
       </mrow>
       <mo>,</mo>
       <mrow>
        <mo stretchy="false">(</mo>
        <mi>a</mi>
        <mo>,</mo>
        <mi>b</mi>
        <mo>,</mo>
        <mi>b</mi>
        <mo stretchy="false">)</mo>
       </mrow>
       <mo rspace="7.5pt">,</mo>
       <mrow>
        <mo stretchy="false">(</mo>
        <mi>b</mi>
        <mo>,</mo>
        <mi>b</mi>
        <mo>,</mo>
        <mi>a</mi>
        <mo stretchy="false">)</mo>
       </mrow>
       <mo>,</mo>
       <mrow>
        <mo stretchy="false">(</mo>
        <mi>b</mi>
        <mo>,</mo>
        <mi>a</mi>
        <mo>,</mo>
        <mi>b</mi>
        <mo stretchy="false">)</mo>
       </mrow>
       <mo>,</mo>
       <mrow>
        <mo stretchy="false">(</mo>
        <mi>b</mi>
        <mo>,</mo>
        <mi>a</mi>
        <mo>,</mo>
        <mi>a</mi>
        <mo stretchy="false">)</mo>
       </mrow>
       <mo stretchy="false">}</mo>
      </mrow>
      <mo>|</mo>
     </mrow>
    </mrow>
    <mo>=</mo>
    <mrow>
     <mrow>
      <mn>2</mn>
      <mo lspace="0pt" rspace="3.5pt">!</mo>
     </mrow>
     <mrow>
      <mo stretchy="false">{</mo>
      <mstyle scriptlevel="+1">
       <mtable columnspacing="0.4em" rowspacing="0.2ex">
        <mtr>
         <mtd>
          <mn>3</mn>
         </mtd>
        </mtr>
        <mtr>
         <mtd>
          <mn>2</mn>
         </mtd>
        </mtr>
       </mtable>
      </mstyle>
      <mo stretchy="false">}</mo>
     </mrow>
    </mrow>
    <mo>=</mo>
    <mrow>
     <mn>2</mn>
     <mo>×</mo>
     <mn>3</mn>
    </mrow>
    <mo>=</mo>
    <mn>6</mn>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <csymbol cd="ambiguous">formulae-sequence</csymbol>
    <apply>
     <eq></eq>
     <ci>X</ci>
     <set>
      <ci>a</ci>
      <ci>b</ci>
     </set>
    </apply>
    <apply>
     <and></and>
     <apply>
      <eq></eq>
      <ci>N</ci>
      <apply>
       <times></times>
       <set>
        <ci>p</ci>
        <ci>q</ci>
        <ci>r</ci>
       </set>
       <mtext>, then</mtext>
       <apply>
        <abs></abs>
        <set>
         <vector>
          <ci>a</ci>
          <ci>a</ci>
          <ci>b</ci>
         </vector>
         <vector>
          <ci>a</ci>
          <ci>b</ci>
          <ci>a</ci>
         </vector>
         <vector>
          <ci>a</ci>
          <ci>b</ci>
          <ci>b</ci>
         </vector>
         <vector>
          <ci>b</ci>
          <ci>b</ci>
          <ci>a</ci>
         </vector>
         <vector>
          <ci>b</ci>
          <ci>a</ci>
          <ci>b</ci>
         </vector>
         <vector>
          <ci>b</ci>
          <ci>a</ci>
          <ci>a</ci>
         </vector>
        </set>
       </apply>
      </apply>
     </apply>
     <apply>
      <eq></eq>
      <share href="#.cmml">
      </share>
      <apply>
       <times></times>
       <apply>
        <factorial></factorial>
        <cn type="integer">2</cn>
       </apply>
       <set>
        <apply>
         <ci>STACKED</ci>
         <cn type="integer">3</cn>
         <cn type="integer">2</cn>
        </apply>
       </set>
      </apply>
     </apply>
     <apply>
      <eq></eq>
      <share href="#.cmml">
      </share>
      <apply>
       <times></times>
       <cn type="integer">2</cn>
       <cn type="integer">3</cn>
      </apply>
     </apply>
     <apply>
      <eq></eq>
      <share href="#.cmml">
      </share>
      <cn type="integer">6</cn>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   X=\{a,b\},N=\{p,q,r\}\text{, then }\left|\{(a,a,b),(a,b,a),(a,b,b),\ (b,b,a),(%
b,a,b),(b,a,a)\}\right|=\textstyle 2!\{{3\atop 2}\}=2\times 3=6
  </annotation>
 </semantics>
</math>

</p>
</blockquote>
<h4 id="functions-from-n-to-x-up-to-a-permutation-of-x"> Functions from <em>N</em> to <em>X</em>, up to a permutation of <em>X</em></h4>

<p>This case is like the <a href="#case_sx" title="wikilink">corresponding one</a> for surjective functions, but some elements of <em>x</em> might not correspond to any equivalence class at all (since one considers functions up to a permutation of <em>X</em>, it does not matter <em>which</em> elements are concerned, just how many). As a consequence one is counting equivalence relations on <em>N</em> with at most <em>x</em> classes, and the result is obtained from the mentioned case by summation over values up to <em>x</em>, giving 

<math display="inline" id="Twelvefold_way:63">
 <semantics>
  <mrow>
   <msubsup>
    <mo largeop="true" symmetric="true">∑</mo>
    <mrow>
     <mi>k</mi>
     <mo>=</mo>
     <mn>0</mn>
    </mrow>
    <mi>x</mi>
   </msubsup>
   <mrow>
    <mo stretchy="false">{</mo>
    <mstyle scriptlevel="+1">
     <mtable columnspacing="0.4em" rowspacing="0.2ex">
      <mtr>
       <mtd>
        <mi>n</mi>
       </mtd>
      </mtr>
      <mtr>
       <mtd>
        <mi>k</mi>
       </mtd>
      </mtr>
     </mtable>
    </mstyle>
    <mo stretchy="false">}</mo>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <apply>
     <csymbol cd="ambiguous">superscript</csymbol>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <sum></sum>
      <apply>
       <eq></eq>
       <ci>k</ci>
       <cn type="integer">0</cn>
      </apply>
     </apply>
     <ci>x</ci>
    </apply>
    <set>
     <apply>
      <ci>STACKED</ci>
      <ci>n</ci>
      <ci>k</ci>
     </apply>
    </set>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \textstyle\sum_{k=0}^{x}\{{n\atop k}\}
  </annotation>
 </semantics>
</math>

. In case <em>x</em> ≥ <em>n</em>, the size of <em>x</em> poses no restriction at all, and one is counting <em>all</em> equivalence relations on a set of <em>n</em> elements (equivalently all partitions of such a set); therefore 

<math display="inline" id="Twelvefold_way:64">
 <semantics>
  <mrow>
   <msubsup>
    <mo largeop="true" symmetric="true">∑</mo>
    <mrow>
     <mi>k</mi>
     <mo>=</mo>
     <mn>0</mn>
    </mrow>
    <mi>n</mi>
   </msubsup>
   <mrow>
    <mo stretchy="false">{</mo>
    <mstyle scriptlevel="+1">
     <mtable columnspacing="0.4em" rowspacing="0.2ex">
      <mtr>
       <mtd>
        <mi>n</mi>
       </mtd>
      </mtr>
      <mtr>
       <mtd>
        <mi>k</mi>
       </mtd>
      </mtr>
     </mtable>
    </mstyle>
    <mo stretchy="false">}</mo>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <apply>
     <csymbol cd="ambiguous">superscript</csymbol>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <sum></sum>
      <apply>
       <eq></eq>
       <ci>k</ci>
       <cn type="integer">0</cn>
      </apply>
     </apply>
     <ci>n</ci>
    </apply>
    <set>
     <apply>
      <ci>STACKED</ci>
      <ci>n</ci>
      <ci>k</ci>
     </apply>
    </set>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \textstyle\sum_{k=0}^{n}\{{n\atop k}\}
  </annotation>
 </semantics>
</math>

 gives an <a href="Bell_number#Summation_formulas" title="wikilink">expression</a> for the <a href="Bell_number" title="wikilink">Bell number</a> <em>B</em><sub><em>n</em></sub>.</p>
<h4 id="surjective-functions-from-n-to-x-up-to-permutations-of-n-and-x"> Surjective functions from <em>N</em> to <em>X</em>, up to permutations of <em>N</em> and <em>X</em></h4>

<p>This case is equivalent to counting <strong><a href="partition_(number_theory)" title="wikilink">partitions</a> of the number <em>n</em> into <em>x</em> non-zero parts</strong>. Compared to the case of counting <a href="#case_sx" title="wikilink">surjective functions up to permutations of <em>X</em></a> only (

<math display="inline" id="Twelvefold_way:65">
 <semantics>
  <mrow>
   <mo stretchy="false">{</mo>
   <mstyle scriptlevel="+1">
    <mtable columnspacing="0.4em" rowspacing="0.2ex">
     <mtr>
      <mtd>
       <mi>n</mi>
      </mtd>
     </mtr>
     <mtr>
      <mtd>
       <mi>x</mi>
      </mtd>
     </mtr>
    </mtable>
   </mstyle>
   <mo stretchy="false">}</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <set>
    <apply>
     <ci>STACKED</ci>
     <ci>n</ci>
     <ci>x</ci>
    </apply>
   </set>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \textstyle\{{n\atop x}\}
  </annotation>
 </semantics>
</math>

), one only retains the sizes of the equivalence classes that the function partitions <em>N</em> into (including the multiplicity of each size), since two equivalence relations can be transformed into one another by a permutation of <em>N</em> if and only if the sizes of their classes match. This is precisely what distinguishes the notion of partition of <em>n</em> from that of partition of <em>N</em>, so as a result one gets by definition the number <em>p</em><sub><em>x</em></sub>(<em>n</em>) of partitions of <em>n</em> into <em>x</em> non-zero parts.</p>
<h4 id="functions-from-n-to-x-up-to-permutations-of-n-and-x"> Functions from <em>N</em> to <em>X</em>, up to permutations of <em>N</em> and <em>X</em></h4>

<p>This case is equivalent to counting <strong>partitions of the number <em>n</em> into ≤ <em>x</em> parts</strong>. The association is the same as for the previous case, including onto the partitiona part 0 for each element of <em>X</em> not in the image of the function. Each partition of <em>n</em> into at most <em>x</em> non-zero parts can be extended to such a partition by adding the required number of zeroes, and this accounts for all possibilities exactly once, so the result is given by 

<math display="inline" id="Twelvefold_way:66">
 <semantics>
  <mrow>
   <msubsup>
    <mo largeop="true" symmetric="true">∑</mo>
    <mrow>
     <mi>k</mi>
     <mo>=</mo>
     <mn>0</mn>
    </mrow>
    <mi>x</mi>
   </msubsup>
   <mrow>
    <msub>
     <mi>p</mi>
     <mi>k</mi>
    </msub>
    <mrow>
     <mo stretchy="false">(</mo>
     <mi>n</mi>
     <mo stretchy="false">)</mo>
    </mrow>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <apply>
     <csymbol cd="ambiguous">superscript</csymbol>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <sum></sum>
      <apply>
       <eq></eq>
       <ci>k</ci>
       <cn type="integer">0</cn>
      </apply>
     </apply>
     <ci>x</ci>
    </apply>
    <apply>
     <times></times>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <ci>p</ci>
      <ci>k</ci>
     </apply>
     <ci>n</ci>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \textstyle\sum_{k=0}^{x}p_{k}(n)
  </annotation>
 </semantics>
</math>

. By adding a unit to each of the <em>x</em> parts, one obtains a partition of  into <em>x</em> nonzero parts, and this correspondence is bijective; hence the expression given can be simplified by writing it as 

<math display="inline" id="Twelvefold_way:67">
 <semantics>
  <mrow>
   <msub>
    <mi>p</mi>
    <mi>x</mi>
   </msub>
   <mrow>
    <mo stretchy="false">(</mo>
    <mrow>
     <mi>n</mi>
     <mo>+</mo>
     <mi>x</mi>
    </mrow>
    <mo stretchy="false">)</mo>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <times></times>
    <apply>
     <csymbol cd="ambiguous">subscript</csymbol>
     <ci>p</ci>
     <ci>x</ci>
    </apply>
    <apply>
     <plus></plus>
     <ci>n</ci>
     <ci>x</ci>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   p_{x}(n+x)
  </annotation>
 </semantics>
</math>

 (but this change does not make its computation any simpler).</p>
<h3 id="extremal-cases">Extremal cases</h3>

<p>The above formulas give the proper values for all finite sets <em>N</em> and <em>X</em>. In some cases there are alternative formulas which are almost equivalent, but which do not give the correct result in some extremal cases, such as when <em>N</em> or <em>X</em> are empty. The following considerations apply to such cases.</p>
<ul>
<li>For every set <em>X</em> there is exactly one function from the empty set to <em>X</em> (there are no values of this function to specify), which is always injective, but never surjective unless <em>X</em> is (also) empty.</li>
<li>For every non-empty set <em>N</em> there are no functions from <em>N</em> to the empty set (there is at least one value of the function that must be specified, but it cannot).</li>
<li>When <em>n</em> &gt; <em>x</em> there are no injective functions , and if <em>n</em> &lt; <em>x</em> there are no surjective functions .</li>
<li>The expressions used in the formulas have as particular values</li>
</ul>
<dl>
<dd><dl>
<dd>

<math display="inline" id="Twelvefold_way:68">
 <semantics>
  <mrow>
   <msup>
    <mn>0</mn>
    <mn>0</mn>
   </msup>
   <mo>=</mo>
   <msup>
    <mn>0</mn>
    <munder accentunder="true">
     <mn>0</mn>
     <mo>¯</mo>
    </munder>
   </msup>
   <mo>=</mo>
   <mrow>
    <mn>0</mn>
    <mo lspace="0pt" rspace="3.5pt">!</mo>
   </mrow>
   <mo>=</mo>
   <mrow>
    <mo>(</mo>
    <mstyle scriptlevel="+1">
     <mtable columnspacing="0.4em" rowspacing="0.2ex">
      <mtr>
       <mtd>
        <mn>0</mn>
       </mtd>
      </mtr>
      <mtr>
       <mtd>
        <mn>0</mn>
       </mtd>
      </mtr>
     </mtable>
    </mstyle>
    <mo>)</mo>
   </mrow>
   <mo>=</mo>
   <mrow>
    <mo>(</mo>
    <mstyle scriptlevel="+1">
     <mtable columnspacing="0.4em" rowspacing="0.2ex">
      <mtr>
       <mtd>
        <mrow>
         <mo>-</mo>
         <mn>1</mn>
        </mrow>
       </mtd>
      </mtr>
      <mtr>
       <mtd>
        <mn>0</mn>
       </mtd>
      </mtr>
     </mtable>
    </mstyle>
    <mo>)</mo>
   </mrow>
   <mo>=</mo>
   <mrow>
    <mo>{</mo>
    <mstyle scriptlevel="+1">
     <mtable columnspacing="0.4em" rowspacing="0.2ex">
      <mtr>
       <mtd>
        <mn>0</mn>
       </mtd>
      </mtr>
      <mtr>
       <mtd>
        <mn>0</mn>
       </mtd>
      </mtr>
     </mtable>
    </mstyle>
    <mo>}</mo>
   </mrow>
   <mo>=</mo>
   <mrow>
    <msub>
     <mi>p</mi>
     <mn>0</mn>
    </msub>
    <mrow>
     <mo stretchy="false">(</mo>
     <mn>0</mn>
     <mo stretchy="false">)</mo>
    </mrow>
   </mrow>
   <mo>=</mo>
   <mn>1</mn>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <and></and>
    <apply>
     <eq></eq>
     <apply>
      <csymbol cd="ambiguous">superscript</csymbol>
      <cn type="integer">0</cn>
      <cn type="integer">0</cn>
     </apply>
     <apply>
      <csymbol cd="ambiguous">superscript</csymbol>
      <cn type="integer">0</cn>
      <apply>
       <ci>normal-¯</ci>
       <cn type="integer">0</cn>
      </apply>
     </apply>
    </apply>
    <apply>
     <eq></eq>
     <share href="#.cmml">
     </share>
     <apply>
      <factorial></factorial>
      <cn type="integer">0</cn>
     </apply>
    </apply>
    <apply>
     <eq></eq>
     <share href="#.cmml">
     </share>
     <apply>
      <csymbol cd="latexml">binomial</csymbol>
      <cn type="integer">0</cn>
      <cn type="integer">0</cn>
     </apply>
    </apply>
    <apply>
     <eq></eq>
     <share href="#.cmml">
     </share>
     <apply>
      <csymbol cd="latexml">binomial</csymbol>
      <apply>
       <minus></minus>
       <cn type="integer">1</cn>
      </apply>
      <cn type="integer">0</cn>
     </apply>
    </apply>
    <apply>
     <eq></eq>
     <share href="#.cmml">
     </share>
     <set>
      <apply>
       <ci>STACKED</ci>
       <cn type="integer">0</cn>
       <cn type="integer">0</cn>
      </apply>
     </set>
    </apply>
    <apply>
     <eq></eq>
     <share href="#.cmml">
     </share>
     <apply>
      <times></times>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>p</ci>
       <cn type="integer">0</cn>
      </apply>
      <cn type="integer">0</cn>
     </apply>
    </apply>
    <apply>
     <eq></eq>
     <share href="#.cmml">
     </share>
     <cn type="integer">1</cn>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   0^{0}=0^{\underline{0}}=0!={\left({{0}\atop{0}}\right)}={\left({{-1}\atop{0}}%
\right)}=\left\{{0\atop 0}\right\}=p_{0}(0)=1
  </annotation>
 </semantics>
</math>


<dl>
<dd>(the first three are instances of an <a href="empty_product" title="wikilink">empty product</a>, and the value 

<math display="inline" id="Twelvefold_way:69">
 <semantics>
  <mrow>
   <mrow>
    <mo>(</mo>
    <mstyle scriptlevel="+1">
     <mtable columnspacing="0.4em" rowspacing="0.2ex">
      <mtr>
       <mtd>
        <mrow>
         <mo>-</mo>
         <mn>1</mn>
        </mrow>
       </mtd>
      </mtr>
      <mtr>
       <mtd>
        <mn>0</mn>
       </mtd>
      </mtr>
     </mtable>
    </mstyle>
    <mo>)</mo>
   </mrow>
   <mo>=</mo>
   <mstyle scriptlevel="+1">
    <mfrac>
     <msup>
      <mrow>
       <mo stretchy="false">(</mo>
       <mrow>
        <mo>-</mo>
        <mn>1</mn>
       </mrow>
       <mo stretchy="false">)</mo>
      </mrow>
      <munder accentunder="true">
       <mn>0</mn>
       <mo>¯</mo>
      </munder>
     </msup>
     <mrow>
      <mn>0</mn>
      <mo lspace="0pt" rspace="3.5pt">!</mo>
     </mrow>
    </mfrac>
   </mstyle>
   <mo>=</mo>
   <mn>1</mn>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <and></and>
    <apply>
     <eq></eq>
     <apply>
      <csymbol cd="latexml">binomial</csymbol>
      <apply>
       <minus></minus>
       <cn type="integer">1</cn>
      </apply>
      <cn type="integer">0</cn>
     </apply>
     <apply>
      <divide></divide>
      <apply>
       <csymbol cd="ambiguous">superscript</csymbol>
       <apply>
        <minus></minus>
        <cn type="integer">1</cn>
       </apply>
       <apply>
        <ci>normal-¯</ci>
        <cn type="integer">0</cn>
       </apply>
      </apply>
      <apply>
       <factorial></factorial>
       <cn type="integer">0</cn>
      </apply>
     </apply>
    </apply>
    <apply>
     <eq></eq>
     <share href="#.cmml">
     </share>
     <cn type="integer">1</cn>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \scriptstyle{\textstyle\left({{-1}\atop{0}}\right)}=\frac{(-1)^{\underline{0}}%
}{0!}=1
  </annotation>
 </semantics>
</math>

 is given by the conventional extension of binomial coefficients to arbitrary values of the upper index), while
</dd>
</dl>
</dd>
<dd><math>\left\{{n\atop x}\right\}=p_x(n)=0 \quad\hbox{whenever either } n&gt;0=x \hbox{ or }0\leq n<x. math="">
</x.></math></dd>
</dl>
</dd>
</dl>

<p>In particular in the case of <a href="#case_fn" title="wikilink">counting multisets</a> with <em>n</em> elements taken from <em>X</em>, the given expression 

<math display="inline" id="Twelvefold_way:70">
 <semantics>
  <mrow>
   <mo>(</mo>
   <mstyle scriptlevel="+1">
    <mtable columnspacing="0.4em" rowspacing="0.2ex">
     <mtr>
      <mtd>
       <mrow>
        <mrow>
         <mi>n</mi>
         <mo>+</mo>
         <mi>x</mi>
        </mrow>
        <mo>-</mo>
        <mn>1</mn>
       </mrow>
      </mtd>
     </mtr>
     <mtr>
      <mtd>
       <mi>n</mi>
      </mtd>
     </mtr>
    </mtable>
   </mstyle>
   <mo>)</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <csymbol cd="latexml">binomial</csymbol>
    <apply>
     <minus></minus>
     <apply>
      <plus></plus>
      <ci>n</ci>
      <ci>x</ci>
     </apply>
     <cn type="integer">1</cn>
    </apply>
    <ci>n</ci>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   {\textstyle\left({{n+x-1}\atop{n}}\right)}
  </annotation>
 </semantics>
</math>

 is equivalent in most cases to 

<math display="inline" id="Twelvefold_way:71">
 <semantics>
  <mrow>
   <mo>(</mo>
   <mstyle scriptlevel="+1">
    <mtable columnspacing="0.4em" rowspacing="0.2ex">
     <mtr>
      <mtd>
       <mrow>
        <mrow>
         <mi>n</mi>
         <mo>+</mo>
         <mi>x</mi>
        </mrow>
        <mo>-</mo>
        <mn>1</mn>
       </mrow>
      </mtd>
     </mtr>
     <mtr>
      <mtd>
       <mrow>
        <mi>x</mi>
        <mo>-</mo>
        <mn>1</mn>
       </mrow>
      </mtd>
     </mtr>
    </mtable>
   </mstyle>
   <mo>)</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <csymbol cd="latexml">binomial</csymbol>
    <apply>
     <minus></minus>
     <apply>
      <plus></plus>
      <ci>n</ci>
      <ci>x</ci>
     </apply>
     <cn type="integer">1</cn>
    </apply>
    <apply>
     <minus></minus>
     <ci>x</ci>
     <cn type="integer">1</cn>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   {\textstyle\left({{n+x-1}\atop{x-1}}\right)}
  </annotation>
 </semantics>
</math>

, but the latter expression would give 0 for the case <em>n</em> = <em>x</em> = 0 (by the usual convention that binomial coefficients with a negative lower index are always 0). Similarly, for the case of <a href="#case_sn" title="wikilink">counting compositions</a> of <em>n</em> with <em>x</em> non-zero parts, the given expression 

<math display="inline" id="Twelvefold_way:72">
 <semantics>
  <mrow>
   <mo>(</mo>
   <mstyle scriptlevel="+1">
    <mtable columnspacing="0.4em" rowspacing="0.2ex">
     <mtr>
      <mtd>
       <mrow>
        <mi>n</mi>
        <mo>-</mo>
        <mn>1</mn>
       </mrow>
      </mtd>
     </mtr>
     <mtr>
      <mtd>
       <mrow>
        <mi>n</mi>
        <mo>-</mo>
        <mi>x</mi>
       </mrow>
      </mtd>
     </mtr>
    </mtable>
   </mstyle>
   <mo>)</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <csymbol cd="latexml">binomial</csymbol>
    <apply>
     <minus></minus>
     <ci>n</ci>
     <cn type="integer">1</cn>
    </apply>
    <apply>
     <minus></minus>
     <ci>n</ci>
     <ci>x</ci>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   {\textstyle\left({{n-1}\atop{n-x}}\right)}
  </annotation>
 </semantics>
</math>

 is almost equivalent to the expression 

<math display="inline" id="Twelvefold_way:73">
 <semantics>
  <mrow>
   <mo>(</mo>
   <mstyle scriptlevel="+1">
    <mtable columnspacing="0.4em" rowspacing="0.2ex">
     <mtr>
      <mtd>
       <mrow>
        <mi>n</mi>
        <mo>-</mo>
        <mn>1</mn>
       </mrow>
      </mtd>
     </mtr>
     <mtr>
      <mtd>
       <mrow>
        <mi>x</mi>
        <mo>-</mo>
        <mn>1</mn>
       </mrow>
      </mtd>
     </mtr>
    </mtable>
   </mstyle>
   <mo>)</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <csymbol cd="latexml">binomial</csymbol>
    <apply>
     <minus></minus>
     <ci>n</ci>
     <cn type="integer">1</cn>
    </apply>
    <apply>
     <minus></minus>
     <ci>x</ci>
     <cn type="integer">1</cn>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   {\textstyle\left({{n-1}\atop{x-1}}\right)}
  </annotation>
 </semantics>
</math>

 given by the <a href="stars_and_bars_(probability)" title="wikilink">stars and bars</a> argument, but the latter gives incorrect values for <em>n</em> = 0 and <em>all</em> values of <em>x</em>. For the cases where the result involves a summation, namely those of counting <a href="#case_fx" title="wikilink">partitions of <em>N</em></a> into at most <em>x</em> non-empty subsets or <a href="#case_fx" title="wikilink">partitions of <em>n</em></a> into at most <em>x</em> non-zero parts, the summation index is taken to start at 0; although the corresponding term is zero whenever <em>n</em> &gt; 0, it is the unique non-zero term when <em>n</em> = 0, and the result would be wrong for those cases if the summation were taken to start at 1.</p>
<h2 id="generalizations">Generalizations</h2>

<p>We can generalize further by allowing other <a href="group_(mathematics)" title="wikilink">groups</a> of permutations to act on <em>N</em> and <em>X</em>. If <em>G</em> is a group of permutations of <em>N</em>, and <em>H</em> is a group of permutations of <em>X</em>, then we count equivalence classes of functions 

<math display="inline" id="Twelvefold_way:74">
 <semantics>
  <mrow>
   <mi>f</mi>
   <mo>:</mo>
   <mrow>
    <mi>N</mi>
    <mo>→</mo>
    <mi>X</mi>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <ci>normal-:</ci>
    <ci>f</ci>
    <apply>
     <ci>normal-→</ci>
     <ci>N</ci>
     <ci>X</ci>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   f\colon N\rightarrow X
  </annotation>
 </semantics>
</math>

. Two functions 

<math display="inline" id="Twelvefold_way:75">
 <semantics>
  <mi>f</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>f</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   f
  </annotation>
 </semantics>
</math>

 and 

<math display="inline" id="Twelvefold_way:76">
 <semantics>
  <mi>F</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>F</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   F
  </annotation>
 </semantics>
</math>

 are considered equivalent if, and only if, there exist 

<math display="inline" id="Twelvefold_way:77">
 <semantics>
  <mrow>
   <mrow>
    <mi>g</mi>
    <mo>∈</mo>
    <mi>G</mi>
   </mrow>
   <mo>,</mo>
   <mrow>
    <mi>h</mi>
    <mo>∈</mo>
    <mi>H</mi>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <csymbol cd="ambiguous">formulae-sequence</csymbol>
    <apply>
     <in></in>
     <ci>g</ci>
     <ci>G</ci>
    </apply>
    <apply>
     <in></in>
     <ci>h</ci>
     <ci>H</ci>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   g\in G,h\in H
  </annotation>
 </semantics>
</math>

 so that 

<math display="inline" id="Twelvefold_way:78">
 <semantics>
  <mrow>
   <mi>F</mi>
   <mo>=</mo>
   <mrow>
    <mi>h</mi>
    <mo>∘</mo>
    <mi>f</mi>
    <mo>∘</mo>
    <mi>g</mi>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <ci>F</ci>
    <apply>
     <compose></compose>
     <ci>h</ci>
     <ci>f</ci>
     <ci>g</ci>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   F=h\circ f\circ g
  </annotation>
 </semantics>
</math>

. This extension leads to notions such as <a href="Cyclic_permutation" title="wikilink">cyclic</a> and <a href="dihedral_group" title="wikilink">dihedral</a> permutations, as well as cyclic and dihedral partitions of numbers and sets.</p>
<h2 id="references">References</h2>
<references>
</references>

<p>"</p>

<p><a class="uri" href="Category:Combinatorics" title="wikilink">Category:Combinatorics</a> <a class="uri" href="Category:Permutations" title="wikilink">Category:Permutations</a></p>
<section class="footnotes">
<hr/>
<ol>
<li id="fn1"><a href="Richard_P._Stanley" title="wikilink">Richard P. Stanley</a> (1997). <a href="http://www-math.mit.edu/~rstan/ec/"><em>Enumerative Combinatorics, Volume I</em></a>. Cambridge University Press. ISBN 0-521-66351-2. p.41<a href="#fnref1">↩</a></li>
</ol>
</section>
</body>
</html>
