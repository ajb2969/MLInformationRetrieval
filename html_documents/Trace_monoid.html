<html lang="en">
<head>
<meta charset="utf-8"/>
<title offset="1157">Trace monoid</title>
<script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_SVG.js" type="text/javascript">
</script>
</head>
<body>
<h1>Trace monoid</h1>
<hr/>

<p>In mathematics and computer science, a <strong>trace</strong> is a set of strings, wherein certain letters in the string are allowed to <a href="commutative_property" title="wikilink">commute</a>, but others are not. It generalizes the concept of a string, by not forcing the letters to always be in a fixed order, but allowing certain reshufflings to take place. Traces were introduced by Cartier and Foata in 1969 to give a combinatorial proof of <a href="MacMahon's_Master_theorem" title="wikilink">MacMahon's Master theorem</a>. Traces are used in theories of <a href="Parallel_computing" title="wikilink">concurrent computation</a>, where commuting letters stand for portions of a job that can execute independently of one another, while non-commuting letters stand for locks, <a href="synchronization_(computer_science)" title="wikilink">synchronization points</a> or <a href="thread_(computing)" title="wikilink">thread joins</a>.<a class="footnoteRef" href="#fn1" id="fnref1"><sup>1</sup></a></p>

<p>The <strong>trace monoid</strong> or <strong>free partially commutative monoid</strong> is a <a class="uri" href="monoid" title="wikilink">monoid</a> of traces. In a nutshell, it is constructed as follows: sets of commuting letters are given by an <a href="Dependency_relation" title="wikilink">independency relation</a>. These induce an equivalence relation of equivalent strings; the elements of the equivalence classes are the traces. The equivalence relation then partitions up the free monoid (the set of all strings of finite length) into a set of equivalence classes; the result is still a monoid; it is a <a href="Semigroup" title="wikilink">quotient monoid</a> and is called the <em>trace monoid</em>. The trace monoid is universal, in that all <a href="homomorphism" title="wikilink">homomorphic</a> monoids are in fact isomorphic.</p>

<p>Trace monoids are commonly used to model <a href="Parallel_computing" title="wikilink">concurrent computation</a>, forming the foundation for <a href="process_calculus" title="wikilink">process calculi</a>. They are the object of study in trace theory. The utility of trace monoids comes from the fact that they are isomorphic to the monoid of dependency graphs; thus allowing algebraic techniques to be applied to graphs, and vice versa. They are also isomorphic to history monoids, which model the history of computation of individual processes in the context of all scheduled processes on one or more computers.</p>
<h2 id="trace">Trace</h2>

<p>Let 

<math display="inline" id="Trace_monoid:0">
 <semantics>
  <msup>
   <mi mathvariant="normal">Σ</mi>
   <mo>*</mo>
  </msup>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <csymbol cd="ambiguous">superscript</csymbol>
    <ci>normal-Σ</ci>
    <times></times>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \Sigma^{*}
  </annotation>
 </semantics>
</math>

 denote the free monoid, that is, the set of all strings written in the alphabet 

<math display="inline" id="Trace_monoid:1">
 <semantics>
  <mi mathvariant="normal">Σ</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>normal-Σ</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \Sigma
  </annotation>
 </semantics>
</math>

. Here, the asterisk denotes, as usual, the <a href="Kleene_star" title="wikilink">Kleene star</a>. An <a href="Dependency_relation" title="wikilink">independency relation</a> 

<math display="inline" id="Trace_monoid:2">
 <semantics>
  <mi>I</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>I</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   I
  </annotation>
 </semantics>
</math>

 on 

<math display="inline" id="Trace_monoid:3">
 <semantics>
  <mi mathvariant="normal">Σ</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>normal-Σ</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \Sigma
  </annotation>
 </semantics>
</math>

 then induces a binary relation 

<math display="inline" id="Trace_monoid:4">
 <semantics>
  <mo>∼</mo>
  <annotation-xml encoding="MathML-Content">
   <csymbol cd="latexml">similar-to</csymbol>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \sim
  </annotation>
 </semantics>
</math>

 on 

<math display="inline" id="Trace_monoid:5">
 <semantics>
  <msup>
   <mi mathvariant="normal">Σ</mi>
   <mo>*</mo>
  </msup>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <csymbol cd="ambiguous">superscript</csymbol>
    <ci>normal-Σ</ci>
    <times></times>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \Sigma^{*}
  </annotation>
 </semantics>
</math>

, where 

<math display="inline" id="Trace_monoid:6">
 <semantics>
  <mrow>
   <mi>u</mi>
   <mo>∼</mo>
   <mpadded width="+1.7pt">
    <mi>v</mi>
   </mpadded>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <csymbol cd="latexml">similar-to</csymbol>
    <ci>u</ci>
    <ci>v</ci>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   u\sim v\,
  </annotation>
 </semantics>
</math>

 if and only if there exist 

<math display="inline" id="Trace_monoid:7">
 <semantics>
  <mrow>
   <mrow>
    <mi>x</mi>
    <mo>,</mo>
    <mi>y</mi>
   </mrow>
   <mo>∈</mo>
   <msup>
    <mi mathvariant="normal">Σ</mi>
    <mo>*</mo>
   </msup>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <in></in>
    <list>
     <ci>x</ci>
     <ci>y</ci>
    </list>
    <apply>
     <csymbol cd="ambiguous">superscript</csymbol>
     <ci>normal-Σ</ci>
     <times></times>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   x,y\in\Sigma^{*}
  </annotation>
 </semantics>
</math>

, and a pair 

<math display="inline" id="Trace_monoid:8">
 <semantics>
  <mrow>
   <mrow>
    <mo stretchy="false">(</mo>
    <mi>a</mi>
    <mo>,</mo>
    <mi>b</mi>
    <mo stretchy="false">)</mo>
   </mrow>
   <mo>∈</mo>
   <mi>I</mi>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <in></in>
    <interval closure="open">
     <ci>a</ci>
     <ci>b</ci>
    </interval>
    <ci>I</ci>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   (a,b)\in I
  </annotation>
 </semantics>
</math>

 such that 

<math display="inline" id="Trace_monoid:9">
 <semantics>
  <mrow>
   <mi>u</mi>
   <mo>=</mo>
   <mrow>
    <mi>x</mi>
    <mi>a</mi>
    <mi>b</mi>
    <mi>y</mi>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <ci>u</ci>
    <apply>
     <times></times>
     <ci>x</ci>
     <ci>a</ci>
     <ci>b</ci>
     <ci>y</ci>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   u=xaby
  </annotation>
 </semantics>
</math>

 and 

<math display="inline" id="Trace_monoid:10">
 <semantics>
  <mrow>
   <mi>v</mi>
   <mo>=</mo>
   <mrow>
    <mi>x</mi>
    <mi>b</mi>
    <mi>a</mi>
    <mi>y</mi>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <ci>v</ci>
    <apply>
     <times></times>
     <ci>x</ci>
     <ci>b</ci>
     <ci>a</ci>
     <ci>y</ci>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   v=xbay
  </annotation>
 </semantics>
</math>

. Here, 

<math display="inline" id="Trace_monoid:11">
 <semantics>
  <mrow>
   <mi>u</mi>
   <mo>,</mo>
   <mi>v</mi>
   <mo>,</mo>
   <mi>x</mi>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <list>
    <ci>u</ci>
    <ci>v</ci>
    <ci>x</ci>
   </list>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   u,v,x
  </annotation>
 </semantics>
</math>

 and 

<math display="inline" id="Trace_monoid:12">
 <semantics>
  <mi>y</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>y</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   y
  </annotation>
 </semantics>
</math>

 are understood to be strings (elements of 

<math display="inline" id="Trace_monoid:13">
 <semantics>
  <msup>
   <mi mathvariant="normal">Σ</mi>
   <mo>*</mo>
  </msup>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <csymbol cd="ambiguous">superscript</csymbol>
    <ci>normal-Σ</ci>
    <times></times>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \Sigma^{*}
  </annotation>
 </semantics>
</math>

), while 

<math display="inline" id="Trace_monoid:14">
 <semantics>
  <mi>a</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>a</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   a
  </annotation>
 </semantics>
</math>

 and 

<math display="inline" id="Trace_monoid:15">
 <semantics>
  <mi>b</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>b</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   b
  </annotation>
 </semantics>
</math>

 are letters (elements of 

<math display="inline" id="Trace_monoid:16">
 <semantics>
  <mi mathvariant="normal">Σ</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>normal-Σ</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \Sigma
  </annotation>
 </semantics>
</math>

).</p>

<p>The <strong>trace</strong> is defined as the symmetric, reflexive and transitive closure of 

<math display="inline" id="Trace_monoid:17">
 <semantics>
  <mo>∼</mo>
  <annotation-xml encoding="MathML-Content">
   <csymbol cd="latexml">similar-to</csymbol>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \sim
  </annotation>
 </semantics>
</math>

. The trace is thus an equivalence relation on 

<math display="inline" id="Trace_monoid:18">
 <semantics>
  <msup>
   <mi mathvariant="normal">Σ</mi>
   <mo>*</mo>
  </msup>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <csymbol cd="ambiguous">superscript</csymbol>
    <ci>normal-Σ</ci>
    <times></times>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \Sigma^{*}
  </annotation>
 </semantics>
</math>

, and is denoted by 

<math display="inline" id="Trace_monoid:19">
 <semantics>
  <msub>
   <mo>≡</mo>
   <mi>D</mi>
  </msub>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <csymbol cd="ambiguous">subscript</csymbol>
    <equivalent></equivalent>
    <ci>D</ci>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \equiv_{D}
  </annotation>
 </semantics>
</math>

. The subscript <em>D</em> on the equivalence simply denotes that the equivalence is obtained from the independency <em>I</em> induced by the dependency <em>D</em>. Clearly, different dependencies will give different equivalence relations.</p>

<p>The <a href="transitive_closure" title="wikilink">transitive closure</a> simply implies that 

<math display="inline" id="Trace_monoid:20">
 <semantics>
  <mrow>
   <mi>u</mi>
   <mo>≡</mo>
   <mi>v</mi>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <equivalent></equivalent>
    <ci>u</ci>
    <ci>v</ci>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   u\equiv v
  </annotation>
 </semantics>
</math>

 if and only if there exists a sequence of strings 

<math display="inline" id="Trace_monoid:21">
 <semantics>
  <mrow>
   <mo stretchy="false">(</mo>
   <msub>
    <mi>w</mi>
    <mn>0</mn>
   </msub>
   <mo>,</mo>
   <msub>
    <mi>w</mi>
    <mn>1</mn>
   </msub>
   <mo>,</mo>
   <mi mathvariant="normal">⋯</mi>
   <mo>,</mo>
   <msub>
    <mi>w</mi>
    <mi>n</mi>
   </msub>
   <mo stretchy="false">)</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <vector>
    <apply>
     <csymbol cd="ambiguous">subscript</csymbol>
     <ci>w</ci>
     <cn type="integer">0</cn>
    </apply>
    <apply>
     <csymbol cd="ambiguous">subscript</csymbol>
     <ci>w</ci>
     <cn type="integer">1</cn>
    </apply>
    <ci>normal-⋯</ci>
    <apply>
     <csymbol cd="ambiguous">subscript</csymbol>
     <ci>w</ci>
     <ci>n</ci>
    </apply>
   </vector>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   (w_{0},w_{1},\cdots,w_{n})
  </annotation>
 </semantics>
</math>

 such that 

<math display="inline" id="Trace_monoid:22">
 <semantics>
  <mrow>
   <mi>u</mi>
   <mo>∼</mo>
   <mpadded width="+1.7pt">
    <msub>
     <mi>w</mi>
     <mn>0</mn>
    </msub>
   </mpadded>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <csymbol cd="latexml">similar-to</csymbol>
    <ci>u</ci>
    <apply>
     <csymbol cd="ambiguous">subscript</csymbol>
     <ci>w</ci>
     <cn type="integer">0</cn>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   u\sim w_{0}\,
  </annotation>
 </semantics>
</math>

 and 

<math display="inline" id="Trace_monoid:23">
 <semantics>
  <mrow>
   <mi>v</mi>
   <mo>∼</mo>
   <mpadded width="+1.7pt">
    <msub>
     <mi>w</mi>
     <mi>n</mi>
    </msub>
   </mpadded>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <csymbol cd="latexml">similar-to</csymbol>
    <ci>v</ci>
    <apply>
     <csymbol cd="ambiguous">subscript</csymbol>
     <ci>w</ci>
     <ci>n</ci>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   v\sim w_{n}\,
  </annotation>
 </semantics>
</math>

 and 

<math display="inline" id="Trace_monoid:24">
 <semantics>
  <mrow>
   <msub>
    <mi>w</mi>
    <mi>i</mi>
   </msub>
   <mo>∼</mo>
   <mpadded width="+1.7pt">
    <msub>
     <mi>w</mi>
     <mrow>
      <mi>i</mi>
      <mo>+</mo>
      <mn>1</mn>
     </mrow>
    </msub>
   </mpadded>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <csymbol cd="latexml">similar-to</csymbol>
    <apply>
     <csymbol cd="ambiguous">subscript</csymbol>
     <ci>w</ci>
     <ci>i</ci>
    </apply>
    <apply>
     <csymbol cd="ambiguous">subscript</csymbol>
     <ci>w</ci>
     <apply>
      <plus></plus>
      <ci>i</ci>
      <cn type="integer">1</cn>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   w_{i}\sim w_{i+1}\,
  </annotation>
 </semantics>
</math>

 for all 

<math display="inline" id="Trace_monoid:25">
 <semantics>
  <mrow>
   <mn>0</mn>
   <mo>≤</mo>
   <mi>i</mi>
   <mo><</mo>
   <mi>n</mi>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <and></and>
    <apply>
     <leq></leq>
     <cn type="integer">0</cn>
     <ci>i</ci>
    </apply>
    <apply>
     <lt></lt>
     <share href="#.cmml">
     </share>
     <ci>n</ci>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   0\leq i<n
  </annotation>
 </semantics>
</math>

.</p>

<p>The trace monoid, commonly denoted as 

<math display="inline" id="Trace_monoid:26">
 <semantics>
  <mrow>
   <mi>𝕄</mi>
   <mrow>
    <mo stretchy="false">(</mo>
    <mi>D</mi>
    <mo stretchy="false">)</mo>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <times></times>
    <ci>𝕄</ci>
    <ci>D</ci>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \mathbb{M}(D)
  </annotation>
 </semantics>
</math>

, is defined as the quotient monoid</p>

<p>

<math display="block" id="Trace_monoid:27">
 <semantics>
  <mrow>
   <mi>𝕄</mi>
   <mrow>
    <mo stretchy="false">(</mo>
    <mi>D</mi>
    <mo stretchy="false">)</mo>
   </mrow>
   <mo>=</mo>
   <msup>
    <mi mathvariant="normal">Σ</mi>
    <mo>*</mo>
   </msup>
   <mo>/</mo>
   <msub>
    <mo>≡</mo>
    <mi>D</mi>
   </msub>
   <mo>.</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <cerror>
    <csymbol cd="ambiguous">fragments</csymbol>
    <csymbol cd="unknown">M</csymbol>
    <cerror>
     <csymbol cd="ambiguous">fragments</csymbol>
     <ci>normal-(</ci>
     <csymbol cd="unknown">D</csymbol>
     <ci>normal-)</ci>
    </cerror>
    <eq></eq>
    <apply>
     <csymbol cd="ambiguous">superscript</csymbol>
     <ci>normal-Σ</ci>
     <times></times>
    </apply>
    <divide></divide>
    <apply>
     <csymbol cd="ambiguous">subscript</csymbol>
     <equivalent></equivalent>
     <ci>D</ci>
    </apply>
    <ci>normal-.</ci>
   </cerror>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \mathbb{M}(D)=\Sigma^{*}/\equiv_{D}.
  </annotation>
 </semantics>
</math>

</p>

<p>The homomorphism</p>

<p>

<math display="block" id="Trace_monoid:28">
 <semantics>
  <mrow>
   <msub>
    <mi>ϕ</mi>
    <mi>D</mi>
   </msub>
   <mo>:</mo>
   <mrow>
    <msup>
     <mi mathvariant="normal">Σ</mi>
     <mo>*</mo>
    </msup>
    <mo>→</mo>
    <mrow>
     <mi>𝕄</mi>
     <mrow>
      <mo stretchy="false">(</mo>
      <mi>D</mi>
      <mo stretchy="false">)</mo>
     </mrow>
    </mrow>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <ci>normal-:</ci>
    <apply>
     <csymbol cd="ambiguous">subscript</csymbol>
     <ci>ϕ</ci>
     <ci>D</ci>
    </apply>
    <apply>
     <ci>normal-→</ci>
     <apply>
      <csymbol cd="ambiguous">superscript</csymbol>
      <ci>normal-Σ</ci>
      <times></times>
     </apply>
     <apply>
      <times></times>
      <ci>𝕄</ci>
      <ci>D</ci>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \phi_{D}:\Sigma^{*}\to\mathbb{M}(D)
  </annotation>
 </semantics>
</math>

</p>

<p>is commonly referred to as the <a href="natural_transformation" title="wikilink">natural homomorphism</a> or <strong>canonical homomorphism</strong>. That the terms <em>natural</em> or <em>canonical</em> are deserved follows from the fact that this morphism embodies a universal property, as discussed in a later section.</p>
<h2 id="examples">Examples</h2>

<p>Consider the alphabet 

<math display="inline" id="Trace_monoid:29">
 <semantics>
  <mrow>
   <mi mathvariant="normal">Σ</mi>
   <mo>=</mo>
   <mrow>
    <mo stretchy="false">{</mo>
    <mi>a</mi>
    <mo>,</mo>
    <mi>b</mi>
    <mo>,</mo>
    <mi>c</mi>
    <mo stretchy="false">}</mo>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <ci>normal-Σ</ci>
    <set>
     <ci>a</ci>
     <ci>b</ci>
     <ci>c</ci>
    </set>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \Sigma=\{a,b,c\}
  </annotation>
 </semantics>
</math>

. A possible dependency relation is</p>

<p>

<math display="block" id="Trace_monoid:30">
 <semantics>
  <mtable displaystyle="true">
   <mtr>
    <mtd columnalign="center">
     <mi>D</mi>
    </mtd>
    <mtd columnalign="center">
     <mo>=</mo>
    </mtd>
    <mtd columnalign="center">
     <mrow>
      <mrow>
       <mrow>
        <mo stretchy="false">{</mo>
        <mi>a</mi>
        <mo>,</mo>
        <mi>b</mi>
        <mo stretchy="false">}</mo>
       </mrow>
       <mo>×</mo>
       <mrow>
        <mo stretchy="false">{</mo>
        <mi>a</mi>
        <mo>,</mo>
        <mi>b</mi>
        <mo stretchy="false">}</mo>
       </mrow>
      </mrow>
      <mo>∪</mo>
      <mrow>
       <mrow>
        <mo stretchy="false">{</mo>
        <mi>a</mi>
        <mo>,</mo>
        <mi>c</mi>
        <mo stretchy="false">}</mo>
       </mrow>
       <mo>×</mo>
       <mrow>
        <mo stretchy="false">{</mo>
        <mi>a</mi>
        <mo>,</mo>
        <mi>c</mi>
        <mo stretchy="false">}</mo>
       </mrow>
      </mrow>
     </mrow>
    </mtd>
   </mtr>
   <mtr>
    <mtd columnalign="center">
     <mi></mi>
    </mtd>
    <mtd columnalign="center">
     <mo>=</mo>
    </mtd>
    <mtd columnalign="center">
     <mrow>
      <msup>
       <mrow>
        <mo stretchy="false">{</mo>
        <mi>a</mi>
        <mo>,</mo>
        <mi>b</mi>
        <mo stretchy="false">}</mo>
       </mrow>
       <mn>2</mn>
      </msup>
      <mo>∪</mo>
      <msup>
       <mrow>
        <mo stretchy="false">{</mo>
        <mi>a</mi>
        <mo>,</mo>
        <mi>c</mi>
        <mo stretchy="false">}</mo>
       </mrow>
       <mn>2</mn>
      </msup>
     </mrow>
    </mtd>
   </mtr>
   <mtr>
    <mtd columnalign="center">
     <mi></mi>
    </mtd>
    <mtd columnalign="center">
     <mo>=</mo>
    </mtd>
    <mtd columnalign="center">
     <mrow>
      <mo stretchy="false">{</mo>
      <mrow>
       <mo stretchy="false">(</mo>
       <mi>a</mi>
       <mo>,</mo>
       <mi>b</mi>
       <mo stretchy="false">)</mo>
      </mrow>
      <mo>,</mo>
      <mrow>
       <mo stretchy="false">(</mo>
       <mi>b</mi>
       <mo>,</mo>
       <mi>a</mi>
       <mo stretchy="false">)</mo>
      </mrow>
      <mo>,</mo>
      <mrow>
       <mo stretchy="false">(</mo>
       <mi>a</mi>
       <mo>,</mo>
       <mi>c</mi>
       <mo stretchy="false">)</mo>
      </mrow>
      <mo>,</mo>
      <mrow>
       <mo stretchy="false">(</mo>
       <mi>c</mi>
       <mo>,</mo>
       <mi>a</mi>
       <mo stretchy="false">)</mo>
      </mrow>
      <mo>,</mo>
      <mrow>
       <mo stretchy="false">(</mo>
       <mi>a</mi>
       <mo>,</mo>
       <mi>a</mi>
       <mo stretchy="false">)</mo>
      </mrow>
      <mo>,</mo>
      <mrow>
       <mo stretchy="false">(</mo>
       <mi>b</mi>
       <mo>,</mo>
       <mi>b</mi>
       <mo stretchy="false">)</mo>
      </mrow>
      <mo>,</mo>
      <mrow>
       <mo stretchy="false">(</mo>
       <mi>c</mi>
       <mo>,</mo>
       <mi>c</mi>
       <mo stretchy="false">)</mo>
      </mrow>
      <mo stretchy="false">}</mo>
     </mrow>
    </mtd>
   </mtr>
  </mtable>
  <annotation-xml encoding="MathML-Content">
   <matrix>
    <matrixrow>
     <ci>D</ci>
     <eq></eq>
     <list>
      <apply>
       <times></times>
       <set>
        <ci>a</ci>
        <ci>b</ci>
       </set>
       <set>
        <ci>a</ci>
        <ci>b</ci>
       </set>
      </apply>
      <union></union>
      <apply>
       <times></times>
       <set>
        <ci>a</ci>
        <ci>c</ci>
       </set>
       <set>
        <ci>a</ci>
        <ci>c</ci>
       </set>
      </apply>
     </list>
    </matrixrow>
    <matrixrow>
     <csymbol cd="latexml">absent</csymbol>
     <eq></eq>
     <apply>
      <union></union>
      <apply>
       <csymbol cd="ambiguous">superscript</csymbol>
       <set>
        <ci>a</ci>
        <ci>b</ci>
       </set>
       <cn type="integer">2</cn>
      </apply>
      <apply>
       <csymbol cd="ambiguous">superscript</csymbol>
       <set>
        <ci>a</ci>
        <ci>c</ci>
       </set>
       <cn type="integer">2</cn>
      </apply>
     </apply>
    </matrixrow>
    <matrixrow>
     <csymbol cd="latexml">absent</csymbol>
     <eq></eq>
     <set>
      <interval closure="open">
       <ci>a</ci>
       <ci>b</ci>
      </interval>
      <interval closure="open">
       <ci>b</ci>
       <ci>a</ci>
      </interval>
      <interval closure="open">
       <ci>a</ci>
       <ci>c</ci>
      </interval>
      <interval closure="open">
       <ci>c</ci>
       <ci>a</ci>
      </interval>
      <interval closure="open">
       <ci>a</ci>
       <ci>a</ci>
      </interval>
      <interval closure="open">
       <ci>b</ci>
       <ci>b</ci>
      </interval>
      <interval closure="open">
       <ci>c</ci>
       <ci>c</ci>
      </interval>
     </set>
    </matrixrow>
   </matrix>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \begin{matrix}D&=&\{a,b\}\times\{a,b\}\quad\cup\quad\{a,c\}\times\{a,c\}\\
&=&\{a,b\}^{2}\cup\{a,c\}^{2}\\
&=&\{(a,b),(b,a),(a,c),(c,a),(a,a),(b,b),(c,c)\}\end{matrix}
  </annotation>
 </semantics>
</math>

</p>

<p>The corresponding independency is</p>

<p>

<math display="block" id="Trace_monoid:31">
 <semantics>
  <mrow>
   <msub>
    <mi>I</mi>
    <mi>D</mi>
   </msub>
   <mo>=</mo>
   <mrow>
    <mo stretchy="false">{</mo>
    <mrow>
     <mo stretchy="false">(</mo>
     <mi>b</mi>
     <mo>,</mo>
     <mi>c</mi>
     <mo rspace="4.2pt" stretchy="false">)</mo>
    </mrow>
    <mo rspace="4.2pt">,</mo>
    <mrow>
     <mo stretchy="false">(</mo>
     <mi>c</mi>
     <mo>,</mo>
     <mi>b</mi>
     <mo stretchy="false">)</mo>
    </mrow>
    <mo stretchy="false">}</mo>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <csymbol cd="ambiguous">subscript</csymbol>
     <ci>I</ci>
     <ci>D</ci>
    </apply>
    <set>
     <interval closure="open">
      <ci>b</ci>
      <ci>c</ci>
     </interval>
     <interval closure="open">
      <ci>c</ci>
      <ci>b</ci>
     </interval>
    </set>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   I_{D}=\{(b,c)\,,\,(c,b)\}
  </annotation>
 </semantics>
</math>

</p>

<p>Therefore, the letters 

<math display="inline" id="Trace_monoid:32">
 <semantics>
  <mrow>
   <mi>b</mi>
   <mo>,</mo>
   <mi>c</mi>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <list>
    <ci>b</ci>
    <ci>c</ci>
   </list>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   b,c
  </annotation>
 </semantics>
</math>

 commute. Thus, for example, a trace equivalence class for the string 

<math display="inline" id="Trace_monoid:33">
 <semantics>
  <mrow>
   <mi>a</mi>
   <mi>b</mi>
   <mi>a</mi>
   <mi>b</mi>
   <mi>a</mi>
   <mi>b</mi>
   <mi>b</mi>
   <mi>c</mi>
   <mi>a</mi>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <times></times>
    <ci>a</ci>
    <ci>b</ci>
    <ci>a</ci>
    <ci>b</ci>
    <ci>a</ci>
    <ci>b</ci>
    <ci>b</ci>
    <ci>c</ci>
    <ci>a</ci>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   abababbca
  </annotation>
 </semantics>
</math>

 would be</p>

<p>

<math display="block" id="Trace_monoid:34">
 <semantics>
  <mrow>
   <msub>
    <mrow>
     <mo stretchy="false">[</mo>
     <mrow>
      <mi>a</mi>
      <mi>b</mi>
      <mi>a</mi>
      <mi>b</mi>
      <mi>a</mi>
      <mi>b</mi>
      <mi>b</mi>
      <mi>c</mi>
      <mi>a</mi>
     </mrow>
     <mo stretchy="false">]</mo>
    </mrow>
    <mi>D</mi>
   </msub>
   <mo>=</mo>
   <mrow>
    <mo stretchy="false">{</mo>
    <mrow>
     <mi>a</mi>
     <mi>b</mi>
     <mi>a</mi>
     <mi>b</mi>
     <mi>a</mi>
     <mi>b</mi>
     <mi>b</mi>
     <mi>c</mi>
     <mpadded width="+1.7pt">
      <mi>a</mi>
     </mpadded>
    </mrow>
    <mo rspace="5.3pt">,</mo>
    <mrow>
     <mi>a</mi>
     <mi>b</mi>
     <mi>a</mi>
     <mi>b</mi>
     <mi>a</mi>
     <mi>b</mi>
     <mi>c</mi>
     <mi>b</mi>
     <mpadded width="+1.7pt">
      <mi>a</mi>
     </mpadded>
    </mrow>
    <mo rspace="5.3pt">,</mo>
    <mrow>
     <mi>a</mi>
     <mi>b</mi>
     <mi>a</mi>
     <mi>b</mi>
     <mi>a</mi>
     <mi>c</mi>
     <mi>b</mi>
     <mi>b</mi>
     <mi>a</mi>
    </mrow>
    <mo stretchy="false">}</mo>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <csymbol cd="ambiguous">subscript</csymbol>
     <apply>
      <csymbol cd="latexml">delimited-[]</csymbol>
      <apply>
       <times></times>
       <ci>a</ci>
       <ci>b</ci>
       <ci>a</ci>
       <ci>b</ci>
       <ci>a</ci>
       <ci>b</ci>
       <ci>b</ci>
       <ci>c</ci>
       <ci>a</ci>
      </apply>
     </apply>
     <ci>D</ci>
    </apply>
    <set>
     <apply>
      <times></times>
      <ci>a</ci>
      <ci>b</ci>
      <ci>a</ci>
      <ci>b</ci>
      <ci>a</ci>
      <ci>b</ci>
      <ci>b</ci>
      <ci>c</ci>
      <ci>a</ci>
     </apply>
     <apply>
      <times></times>
      <ci>a</ci>
      <ci>b</ci>
      <ci>a</ci>
      <ci>b</ci>
      <ci>a</ci>
      <ci>b</ci>
      <ci>c</ci>
      <ci>b</ci>
      <ci>a</ci>
     </apply>
     <apply>
      <times></times>
      <ci>a</ci>
      <ci>b</ci>
      <ci>a</ci>
      <ci>b</ci>
      <ci>a</ci>
      <ci>c</ci>
      <ci>b</ci>
      <ci>b</ci>
      <ci>a</ci>
     </apply>
    </set>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   [abababbca]_{D}=\{abababbca\,,\;abababcba\,,\;ababacbba\}
  </annotation>
 </semantics>
</math>

</p>

<p>The equivalence class 

<math display="inline" id="Trace_monoid:35">
 <semantics>
  <msub>
   <mrow>
    <mo stretchy="false">[</mo>
    <mrow>
     <mi>a</mi>
     <mi>b</mi>
     <mi>a</mi>
     <mi>b</mi>
     <mi>a</mi>
     <mi>b</mi>
     <mi>b</mi>
     <mi>c</mi>
     <mi>a</mi>
    </mrow>
    <mo stretchy="false">]</mo>
   </mrow>
   <mi>D</mi>
  </msub>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <csymbol cd="ambiguous">subscript</csymbol>
    <apply>
     <csymbol cd="latexml">delimited-[]</csymbol>
     <apply>
      <times></times>
      <ci>a</ci>
      <ci>b</ci>
      <ci>a</ci>
      <ci>b</ci>
      <ci>a</ci>
      <ci>b</ci>
      <ci>b</ci>
      <ci>c</ci>
      <ci>a</ci>
     </apply>
    </apply>
    <ci>D</ci>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   [abababbca]_{D}
  </annotation>
 </semantics>
</math>

 is an element of the trace monoid.</p>
<h2 id="properties">Properties</h2>

<p>The <strong>cancellation property</strong> states that equivalence is maintained under <a href="String_operations" title="wikilink">right cancellation</a>. That is, if 

<math display="inline" id="Trace_monoid:36">
 <semantics>
  <mrow>
   <mi>w</mi>
   <mo>≡</mo>
   <mi>v</mi>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <equivalent></equivalent>
    <ci>w</ci>
    <ci>v</ci>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   w\equiv v
  </annotation>
 </semantics>
</math>

, then 

<math display="inline" id="Trace_monoid:37">
 <semantics>
  <mrow>
   <mrow>
    <mo stretchy="false">(</mo>
    <mrow>
     <mi>w</mi>
     <mo>÷</mo>
     <mi>a</mi>
    </mrow>
    <mo stretchy="false">)</mo>
   </mrow>
   <mo>≡</mo>
   <mrow>
    <mo stretchy="false">(</mo>
    <mrow>
     <mi>v</mi>
     <mo>÷</mo>
     <mi>a</mi>
    </mrow>
    <mo stretchy="false">)</mo>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <equivalent></equivalent>
    <apply>
     <divide></divide>
     <ci>w</ci>
     <ci>a</ci>
    </apply>
    <apply>
     <divide></divide>
     <ci>v</ci>
     <ci>a</ci>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   (w\div a)\equiv(v\div a)
  </annotation>
 </semantics>
</math>

. Here, the notation 

<math display="inline" id="Trace_monoid:38">
 <semantics>
  <mrow>
   <mi>w</mi>
   <mo>÷</mo>
   <mi>a</mi>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <divide></divide>
    <ci>w</ci>
    <ci>a</ci>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   w\div a
  </annotation>
 </semantics>
</math>

 denotes right cancellation, the removal of the first occurrence of the letter <em>a</em> from the string <em>w</em>, starting from the right-hand side. Equivalence is also maintained by left-cancellation. Several corollaries follow:</p>
<ul>
<li>Embedding

<math display="block" id="Trace_monoid:39">
 <semantics>
  <mrow>
   <mi>w</mi>
   <mo>≡</mo>
   <mi>v</mi>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <equivalent></equivalent>
    <ci>w</ci>
    <ci>v</ci>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   w\equiv v
  </annotation>
 </semantics>
</math>

 if and only if 

<math display="inline" id="Trace_monoid:40">
 <semantics>
  <mrow>
   <mrow>
    <mi>x</mi>
    <mi>w</mi>
    <mi>y</mi>
   </mrow>
   <mo>≡</mo>
   <mrow>
    <mi>x</mi>
    <mi>v</mi>
    <mi>y</mi>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <equivalent></equivalent>
    <apply>
     <times></times>
     <ci>x</ci>
     <ci>w</ci>
     <ci>y</ci>
    </apply>
    <apply>
     <times></times>
     <ci>x</ci>
     <ci>v</ci>
     <ci>y</ci>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   xwy\equiv xvy
  </annotation>
 </semantics>
</math>

 for strings <em>x</em> and <em>y</em>. Thus, the trace monoid is a syntactic monoid.</li>
</ul>
<ul>
<li>Independence: if 

<math display="inline" id="Trace_monoid:41">
 <semantics>
  <mrow>
   <mrow>
    <mi>u</mi>
    <mi>a</mi>
   </mrow>
   <mo>≡</mo>
   <mrow>
    <mi>v</mi>
    <mi>b</mi>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <equivalent></equivalent>
    <apply>
     <times></times>
     <ci>u</ci>
     <ci>a</ci>
    </apply>
    <apply>
     <times></times>
     <ci>v</ci>
     <ci>b</ci>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   ua\equiv vb
  </annotation>
 </semantics>
</math>

 and 

<math display="inline" id="Trace_monoid:42">
 <semantics>
  <mrow>
   <mi>a</mi>
   <mo>≠</mo>
   <mi>b</mi>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <neq></neq>
    <ci>a</ci>
    <ci>b</ci>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   a\neq b
  </annotation>
 </semantics>
</math>

, then <em>a</em> is independent of <em>b</em>. That is, 

<math display="inline" id="Trace_monoid:43">
 <semantics>
  <mrow>
   <mrow>
    <mo stretchy="false">(</mo>
    <mi>a</mi>
    <mo>,</mo>
    <mi>b</mi>
    <mo stretchy="false">)</mo>
   </mrow>
   <mo>∈</mo>
   <msub>
    <mi>I</mi>
    <mi>D</mi>
   </msub>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <in></in>
    <interval closure="open">
     <ci>a</ci>
     <ci>b</ci>
    </interval>
    <apply>
     <csymbol cd="ambiguous">subscript</csymbol>
     <ci>I</ci>
     <ci>D</ci>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   (a,b)\in I_{D}
  </annotation>
 </semantics>
</math>

. Furthermore, there exists a string <em>w</em> such that 

<math display="inline" id="Trace_monoid:44">
 <semantics>
  <mrow>
   <mi>u</mi>
   <mo>=</mo>
   <mrow>
    <mi>w</mi>
    <mi>b</mi>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <ci>u</ci>
    <apply>
     <times></times>
     <ci>w</ci>
     <ci>b</ci>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   u=wb
  </annotation>
 </semantics>
</math>

 and 

<math display="inline" id="Trace_monoid:45">
 <semantics>
  <mrow>
   <mi>v</mi>
   <mo>=</mo>
   <mrow>
    <mi>w</mi>
    <mi>a</mi>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <ci>v</ci>
    <apply>
     <times></times>
     <ci>w</ci>
     <ci>a</ci>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   v=wa
  </annotation>
 </semantics>
</math>

.</li>
</ul>
<ul>
<li>Projection rule: equivalence is maintained under <a href="string_operations" title="wikilink">string projection</a>, so that if 

<math display="inline" id="Trace_monoid:46">
 <semantics>
  <mrow>
   <mi>w</mi>
   <mo>≡</mo>
   <mi>v</mi>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <equivalent></equivalent>
    <ci>w</ci>
    <ci>v</ci>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   w\equiv v
  </annotation>
 </semantics>
</math>

, then 

<math display="inline" id="Trace_monoid:47">
 <semantics>
  <mrow>
   <mrow>
    <msub>
     <mi>π</mi>
     <mi mathvariant="normal">Σ</mi>
    </msub>
    <mrow>
     <mo stretchy="false">(</mo>
     <mi>w</mi>
     <mo stretchy="false">)</mo>
    </mrow>
   </mrow>
   <mo>≡</mo>
   <mrow>
    <msub>
     <mi>π</mi>
     <mi mathvariant="normal">Σ</mi>
    </msub>
    <mrow>
     <mo stretchy="false">(</mo>
     <mi>v</mi>
     <mo stretchy="false">)</mo>
    </mrow>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <equivalent></equivalent>
    <apply>
     <times></times>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <ci>π</ci>
      <ci>normal-Σ</ci>
     </apply>
     <ci>w</ci>
    </apply>
    <apply>
     <times></times>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <ci>π</ci>
      <ci>normal-Σ</ci>
     </apply>
     <ci>v</ci>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \pi_{\Sigma}(w)\equiv\pi_{\Sigma}(v)
  </annotation>
 </semantics>
</math>

.</li>
</ul>

<p>A strong form of <a href="Levi's_lemma" title="wikilink">Levi's lemma</a> holds for traces. Specifically, if 

<math display="inline" id="Trace_monoid:48">
 <semantics>
  <mrow>
   <mrow>
    <mi>u</mi>
    <mi>v</mi>
   </mrow>
   <mo>≡</mo>
   <mrow>
    <mi>x</mi>
    <mi>y</mi>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <equivalent></equivalent>
    <apply>
     <times></times>
     <ci>u</ci>
     <ci>v</ci>
    </apply>
    <apply>
     <times></times>
     <ci>x</ci>
     <ci>y</ci>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   uv\equiv xy
  </annotation>
 </semantics>
</math>

 for strings <em>u</em>, <em>v</em>, <em>x</em>, <em>y</em>, then there exist strings 

<math display="inline" id="Trace_monoid:49">
 <semantics>
  <mrow>
   <msub>
    <mi>z</mi>
    <mn>1</mn>
   </msub>
   <mo>,</mo>
   <msub>
    <mi>z</mi>
    <mn>2</mn>
   </msub>
   <mo>,</mo>
   <msub>
    <mi>z</mi>
    <mn>3</mn>
   </msub>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <list>
    <apply>
     <csymbol cd="ambiguous">subscript</csymbol>
     <ci>z</ci>
     <cn type="integer">1</cn>
    </apply>
    <apply>
     <csymbol cd="ambiguous">subscript</csymbol>
     <ci>z</ci>
     <cn type="integer">2</cn>
    </apply>
    <apply>
     <csymbol cd="ambiguous">subscript</csymbol>
     <ci>z</ci>
     <cn type="integer">3</cn>
    </apply>
   </list>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   z_{1},z_{2},z_{3}
  </annotation>
 </semantics>
</math>

 and 

<math display="inline" id="Trace_monoid:50">
 <semantics>
  <msub>
   <mi>z</mi>
   <mn>4</mn>
  </msub>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <csymbol cd="ambiguous">subscript</csymbol>
    <ci>z</ci>
    <cn type="integer">4</cn>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   z_{4}
  </annotation>
 </semantics>
</math>

 such that 

<math display="inline" id="Trace_monoid:51">
 <semantics>
  <mrow>
   <mrow>
    <mo stretchy="false">(</mo>
    <msub>
     <mi>w</mi>
     <mn>2</mn>
    </msub>
    <mo>,</mo>
    <msub>
     <mi>w</mi>
     <mn>3</mn>
    </msub>
    <mo stretchy="false">)</mo>
   </mrow>
   <mo>∈</mo>
   <msub>
    <mi>I</mi>
    <mi>D</mi>
   </msub>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <in></in>
    <interval closure="open">
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <ci>w</ci>
      <cn type="integer">2</cn>
     </apply>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <ci>w</ci>
      <cn type="integer">3</cn>
     </apply>
    </interval>
    <apply>
     <csymbol cd="ambiguous">subscript</csymbol>
     <ci>I</ci>
     <ci>D</ci>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   (w_{2},w_{3})\in I_{D}
  </annotation>
 </semantics>
</math>

 for all letters 

<math display="inline" id="Trace_monoid:52">
 <semantics>
  <mrow>
   <msub>
    <mi>w</mi>
    <mn>2</mn>
   </msub>
   <mo>∈</mo>
   <mi mathvariant="normal">Σ</mi>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <in></in>
    <apply>
     <csymbol cd="ambiguous">subscript</csymbol>
     <ci>w</ci>
     <cn type="integer">2</cn>
    </apply>
    <ci>normal-Σ</ci>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   w_{2}\in\Sigma
  </annotation>
 </semantics>
</math>

 and 

<math display="inline" id="Trace_monoid:53">
 <semantics>
  <mrow>
   <msub>
    <mi>w</mi>
    <mn>3</mn>
   </msub>
   <mo>∈</mo>
   <mi mathvariant="normal">Σ</mi>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <in></in>
    <apply>
     <csymbol cd="ambiguous">subscript</csymbol>
     <ci>w</ci>
     <cn type="integer">3</cn>
    </apply>
    <ci>normal-Σ</ci>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   w_{3}\in\Sigma
  </annotation>
 </semantics>
</math>

 such that 

<math display="inline" id="Trace_monoid:54">
 <semantics>
  <msub>
   <mi>w</mi>
   <mn>2</mn>
  </msub>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <csymbol cd="ambiguous">subscript</csymbol>
    <ci>w</ci>
    <cn type="integer">2</cn>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   w_{2}
  </annotation>
 </semantics>
</math>

 occurs in 

<math display="inline" id="Trace_monoid:55">
 <semantics>
  <msub>
   <mi>z</mi>
   <mn>2</mn>
  </msub>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <csymbol cd="ambiguous">subscript</csymbol>
    <ci>z</ci>
    <cn type="integer">2</cn>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   z_{2}
  </annotation>
 </semantics>
</math>

 and 

<math display="inline" id="Trace_monoid:56">
 <semantics>
  <msub>
   <mi>w</mi>
   <mn>3</mn>
  </msub>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <csymbol cd="ambiguous">subscript</csymbol>
    <ci>w</ci>
    <cn type="integer">3</cn>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   w_{3}
  </annotation>
 </semantics>
</math>

 occurs in 

<math display="inline" id="Trace_monoid:57">
 <semantics>
  <msub>
   <mi>z</mi>
   <mn>3</mn>
  </msub>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <csymbol cd="ambiguous">subscript</csymbol>
    <ci>z</ci>
    <cn type="integer">3</cn>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   z_{3}
  </annotation>
 </semantics>
</math>

, and</p>

<p>

<math display="block" id="Trace_monoid:58">
 <semantics>
  <mrow>
   <mrow>
    <mrow>
     <mi>u</mi>
     <mo>≡</mo>
     <mrow>
      <msub>
       <mi>z</mi>
       <mn>1</mn>
      </msub>
      <msub>
       <mi>z</mi>
       <mn>2</mn>
      </msub>
     </mrow>
    </mrow>
    <mo rspace="22.5pt">,</mo>
    <mrow>
     <mi>v</mi>
     <mo>≡</mo>
     <mrow>
      <msub>
       <mi>z</mi>
       <mn>3</mn>
      </msub>
      <msub>
       <mi>z</mi>
       <mn>4</mn>
      </msub>
     </mrow>
    </mrow>
   </mrow>
   <mo>,</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <csymbol cd="ambiguous">formulae-sequence</csymbol>
    <apply>
     <equivalent></equivalent>
     <ci>u</ci>
     <apply>
      <times></times>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>z</ci>
       <cn type="integer">1</cn>
      </apply>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>z</ci>
       <cn type="integer">2</cn>
      </apply>
     </apply>
    </apply>
    <apply>
     <equivalent></equivalent>
     <ci>v</ci>
     <apply>
      <times></times>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>z</ci>
       <cn type="integer">3</cn>
      </apply>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>z</ci>
       <cn type="integer">4</cn>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   u\equiv z_{1}z_{2},\qquad v\equiv z_{3}z_{4},
  </annotation>
 </semantics>
</math>

</p>

<p>

<math display="block" id="Trace_monoid:59">
 <semantics>
  <mrow>
   <mrow>
    <mrow>
     <mi>x</mi>
     <mo>≡</mo>
     <mrow>
      <msub>
       <mi>z</mi>
       <mn>1</mn>
      </msub>
      <msub>
       <mi>z</mi>
       <mn>3</mn>
      </msub>
     </mrow>
    </mrow>
    <mo rspace="22.5pt">,</mo>
    <mrow>
     <mi>y</mi>
     <mo>≡</mo>
     <mrow>
      <msub>
       <mi>z</mi>
       <mn>2</mn>
      </msub>
      <msub>
       <mi>z</mi>
       <mn>4</mn>
      </msub>
     </mrow>
    </mrow>
   </mrow>
   <mo>.</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <csymbol cd="ambiguous">formulae-sequence</csymbol>
    <apply>
     <equivalent></equivalent>
     <ci>x</ci>
     <apply>
      <times></times>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>z</ci>
       <cn type="integer">1</cn>
      </apply>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>z</ci>
       <cn type="integer">3</cn>
      </apply>
     </apply>
    </apply>
    <apply>
     <equivalent></equivalent>
     <ci>y</ci>
     <apply>
      <times></times>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>z</ci>
       <cn type="integer">2</cn>
      </apply>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>z</ci>
       <cn type="integer">4</cn>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   x\equiv z_{1}z_{3},\qquad y\equiv z_{2}z_{4}.
  </annotation>
 </semantics>
</math>

<a class="footnoteRef" href="#fn2" id="fnref2"><sup>2</sup></a></p>
<h2 id="universal-property">Universal property</h2>

<p>A <strong>dependency morphism</strong> (with respect to a dependency <em>D</em>) is a morphism</p>

<p>

<math display="block" id="Trace_monoid:60">
 <semantics>
  <mrow>
   <mi>ψ</mi>
   <mo>:</mo>
   <mrow>
    <msup>
     <mi mathvariant="normal">Σ</mi>
     <mo>*</mo>
    </msup>
    <mo>→</mo>
    <mpadded width="+1.7pt">
     <mi>M</mi>
    </mpadded>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <ci>normal-:</ci>
    <ci>ψ</ci>
    <apply>
     <ci>normal-→</ci>
     <apply>
      <csymbol cd="ambiguous">superscript</csymbol>
      <ci>normal-Σ</ci>
      <times></times>
     </apply>
     <ci>M</ci>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \psi:\Sigma^{*}\to M\,
  </annotation>
 </semantics>
</math>

 to some monoid <em>M</em>, such that the "usual" trace properties hold, namely:</p>
<dl>
<dd>1. 

<math display="inline" id="Trace_monoid:61">
 <semantics>
  <mrow>
   <mrow>
    <mi>ψ</mi>
    <mrow>
     <mo stretchy="false">(</mo>
     <mi>w</mi>
     <mo stretchy="false">)</mo>
    </mrow>
   </mrow>
   <mo>=</mo>
   <mrow>
    <mi>ψ</mi>
    <mrow>
     <mo stretchy="false">(</mo>
     <mi>ε</mi>
     <mo stretchy="false">)</mo>
    </mrow>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <times></times>
     <ci>ψ</ci>
     <ci>w</ci>
    </apply>
    <apply>
     <times></times>
     <ci>ψ</ci>
     <ci>ε</ci>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \psi(w)=\psi(\varepsilon)
  </annotation>
 </semantics>
</math>

 implies that 

<math display="inline" id="Trace_monoid:62">
 <semantics>
  <mrow>
   <mi>w</mi>
   <mo>=</mo>
   <mi>ε</mi>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <ci>w</ci>
    <ci>ε</ci>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   w=\varepsilon
  </annotation>
 </semantics>
</math>


</dd>
</dl>
<dl>
<dd>2. 

<math display="inline" id="Trace_monoid:63">
 <semantics>
  <mrow>
   <mrow>
    <mo stretchy="false">(</mo>
    <mi>a</mi>
    <mo>,</mo>
    <mi>b</mi>
    <mo stretchy="false">)</mo>
   </mrow>
   <mo>∈</mo>
   <msub>
    <mi>I</mi>
    <mi>D</mi>
   </msub>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <in></in>
    <interval closure="open">
     <ci>a</ci>
     <ci>b</ci>
    </interval>
    <apply>
     <csymbol cd="ambiguous">subscript</csymbol>
     <ci>I</ci>
     <ci>D</ci>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   (a,b)\in I_{D}
  </annotation>
 </semantics>
</math>

 implies that 

<math display="inline" id="Trace_monoid:64">
 <semantics>
  <mrow>
   <mrow>
    <mi>ψ</mi>
    <mrow>
     <mo stretchy="false">(</mo>
     <mrow>
      <mi>a</mi>
      <mi>b</mi>
     </mrow>
     <mo stretchy="false">)</mo>
    </mrow>
   </mrow>
   <mo>=</mo>
   <mrow>
    <mi>ψ</mi>
    <mrow>
     <mo stretchy="false">(</mo>
     <mrow>
      <mi>b</mi>
      <mi>a</mi>
     </mrow>
     <mo rspace="4.2pt" stretchy="false">)</mo>
    </mrow>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <times></times>
     <ci>ψ</ci>
     <apply>
      <times></times>
      <ci>a</ci>
      <ci>b</ci>
     </apply>
    </apply>
    <apply>
     <times></times>
     <ci>ψ</ci>
     <apply>
      <times></times>
      <ci>b</ci>
      <ci>a</ci>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \psi(ab)=\psi(ba)\,
  </annotation>
 </semantics>
</math>


</dd>
</dl>
<dl>
<dd>3. 

<math display="inline" id="Trace_monoid:65">
 <semantics>
  <mrow>
   <mrow>
    <mi>ψ</mi>
    <mrow>
     <mo stretchy="false">(</mo>
     <mrow>
      <mi>u</mi>
      <mi>a</mi>
     </mrow>
     <mo stretchy="false">)</mo>
    </mrow>
   </mrow>
   <mo>=</mo>
   <mrow>
    <mi>ψ</mi>
    <mrow>
     <mo stretchy="false">(</mo>
     <mi>v</mi>
     <mo rspace="4.2pt" stretchy="false">)</mo>
    </mrow>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <times></times>
     <ci>ψ</ci>
     <apply>
      <times></times>
      <ci>u</ci>
      <ci>a</ci>
     </apply>
    </apply>
    <apply>
     <times></times>
     <ci>ψ</ci>
     <ci>v</ci>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \psi(ua)=\psi(v)\,
  </annotation>
 </semantics>
</math>

 implies that 

<math display="inline" id="Trace_monoid:66">
 <semantics>
  <mrow>
   <mrow>
    <mi>ψ</mi>
    <mrow>
     <mo stretchy="false">(</mo>
     <mi>u</mi>
     <mo stretchy="false">)</mo>
    </mrow>
   </mrow>
   <mo>=</mo>
   <mrow>
    <mi>ψ</mi>
    <mrow>
     <mo stretchy="false">(</mo>
     <mrow>
      <mi>v</mi>
      <mo>÷</mo>
      <mi>a</mi>
     </mrow>
     <mo stretchy="false">)</mo>
    </mrow>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <times></times>
     <ci>ψ</ci>
     <ci>u</ci>
    </apply>
    <apply>
     <times></times>
     <ci>ψ</ci>
     <apply>
      <divide></divide>
      <ci>v</ci>
      <ci>a</ci>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \psi(u)=\psi(v\div a)
  </annotation>
 </semantics>
</math>


</dd>
</dl>
<dl>
<dd>4. 

<math display="inline" id="Trace_monoid:67">
 <semantics>
  <mrow>
   <mrow>
    <mi>ψ</mi>
    <mrow>
     <mo stretchy="false">(</mo>
     <mrow>
      <mi>u</mi>
      <mi>a</mi>
     </mrow>
     <mo stretchy="false">)</mo>
    </mrow>
   </mrow>
   <mo>=</mo>
   <mrow>
    <mi>ψ</mi>
    <mrow>
     <mo stretchy="false">(</mo>
     <mrow>
      <mi>v</mi>
      <mi>b</mi>
     </mrow>
     <mo rspace="4.2pt" stretchy="false">)</mo>
    </mrow>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <times></times>
     <ci>ψ</ci>
     <apply>
      <times></times>
      <ci>u</ci>
      <ci>a</ci>
     </apply>
    </apply>
    <apply>
     <times></times>
     <ci>ψ</ci>
     <apply>
      <times></times>
      <ci>v</ci>
      <ci>b</ci>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \psi(ua)=\psi(vb)\,
  </annotation>
 </semantics>
</math>

 and 

<math display="inline" id="Trace_monoid:68">
 <semantics>
  <mrow>
   <mi>a</mi>
   <mo>≠</mo>
   <mi>b</mi>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <neq></neq>
    <ci>a</ci>
    <ci>b</ci>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   a\neq b
  </annotation>
 </semantics>
</math>

 imply that 

<math display="inline" id="Trace_monoid:69">
 <semantics>
  <mrow>
   <mrow>
    <mo stretchy="false">(</mo>
    <mi>a</mi>
    <mo>,</mo>
    <mi>b</mi>
    <mo stretchy="false">)</mo>
   </mrow>
   <mo>∈</mo>
   <msub>
    <mi>I</mi>
    <mi>D</mi>
   </msub>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <in></in>
    <interval closure="open">
     <ci>a</ci>
     <ci>b</ci>
    </interval>
    <apply>
     <csymbol cd="ambiguous">subscript</csymbol>
     <ci>I</ci>
     <ci>D</ci>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   (a,b)\in I_{D}
  </annotation>
 </semantics>
</math>


</dd>
</dl>

<p>Dependency morphisms are universal, in the sense that for a given, fixed dependency <em>D</em>, if 

<math display="inline" id="Trace_monoid:70">
 <semantics>
  <mrow>
   <mi>ψ</mi>
   <mo>:</mo>
   <mrow>
    <msup>
     <mi mathvariant="normal">Σ</mi>
     <mo>*</mo>
    </msup>
    <mo>→</mo>
    <mpadded width="+1.7pt">
     <mi>M</mi>
    </mpadded>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <ci>normal-:</ci>
    <ci>ψ</ci>
    <apply>
     <ci>normal-→</ci>
     <apply>
      <csymbol cd="ambiguous">superscript</csymbol>
      <ci>normal-Σ</ci>
      <times></times>
     </apply>
     <ci>M</ci>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \psi:\Sigma^{*}\to M\,
  </annotation>
 </semantics>
</math>

 is a dependency morphism to a monoid <em>M</em>, then <em>M</em> is <a href="isomorphism" title="wikilink">isomorphic</a> to the trace monoid 

<math display="inline" id="Trace_monoid:71">
 <semantics>
  <mrow>
   <mi>𝕄</mi>
   <mrow>
    <mo stretchy="false">(</mo>
    <mi>D</mi>
    <mo stretchy="false">)</mo>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <times></times>
    <ci>𝕄</ci>
    <ci>D</ci>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \mathbb{M}(D)
  </annotation>
 </semantics>
</math>

. In particular, the natural homomorphism is a dependency morphism.</p>
<h2 id="normal-forms">Normal forms</h2>

<p>There are two well-known normal forms for words in trace monoids. One is the <em><a href="lexicography" title="wikilink">lexicographic</a></em> normal form, due to Anatolij V. Anisimov and Donald Knuth, and the other is the <em>Foata</em> normal form due to <a href="Pierre_Cartier_(mathematician)" title="wikilink">Pierre Cartier</a> and <a href="Dominique_Foata" title="wikilink">Dominique Foata</a> who studied the trace monoid for its combinatorics in the 1960s.</p>
<h2 id="trace-languages">Trace languages</h2>

<p>Just as a formal language can be regarded as a subset of 

<math display="inline" id="Trace_monoid:72">
 <semantics>
  <msup>
   <mi mathvariant="normal">Σ</mi>
   <mo>*</mo>
  </msup>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <csymbol cd="ambiguous">superscript</csymbol>
    <ci>normal-Σ</ci>
    <times></times>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \Sigma^{*}
  </annotation>
 </semantics>
</math>

 the set of all possible strings, so then a trace language is defined as subset of 

<math display="inline" id="Trace_monoid:73">
 <semantics>
  <mrow>
   <mi>𝕄</mi>
   <mrow>
    <mo stretchy="false">(</mo>
    <mi>D</mi>
    <mo stretchy="false">)</mo>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <times></times>
    <ci>𝕄</ci>
    <ci>D</ci>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \mathbb{M}(D)
  </annotation>
 </semantics>
</math>

 all possible traces.</p>

<p>A language 

<math display="inline" id="Trace_monoid:74">
 <semantics>
  <mrow>
   <mi>L</mi>
   <mo>⊂</mo>
   <msup>
    <mi mathvariant="normal">Σ</mi>
    <mo>*</mo>
   </msup>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <subset></subset>
    <ci>L</ci>
    <apply>
     <csymbol cd="ambiguous">superscript</csymbol>
     <ci>normal-Σ</ci>
     <times></times>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   L\subset\Sigma^{*}
  </annotation>
 </semantics>
</math>

 is a trace language, or is said to be <strong>consistent</strong> with dependency <em>D</em> if</p>

<p>

<math display="block" id="Trace_monoid:75">
 <semantics>
  <mrow>
   <mi>L</mi>
   <mo>=</mo>
   <mrow>
    <mo largeop="true" mathsize="160%" movablelimits="false" stretchy="false" symmetric="true">⋃</mo>
    <msub>
     <mrow>
      <mo stretchy="false">[</mo>
      <mi>L</mi>
      <mo stretchy="false">]</mo>
     </mrow>
     <mi>D</mi>
    </msub>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <ci>L</ci>
    <apply>
     <union></union>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <apply>
       <csymbol cd="latexml">delimited-[]</csymbol>
       <ci>L</ci>
      </apply>
      <ci>D</ci>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   L=\bigcup[L]_{D}
  </annotation>
 </semantics>
</math>

</p>

<p>where</p>

<p>

<math display="block" id="Trace_monoid:76">
 <semantics>
  <mrow>
   <msub>
    <mrow>
     <mo stretchy="false">[</mo>
     <mi>L</mi>
     <mo stretchy="false">]</mo>
    </mrow>
    <mi>D</mi>
   </msub>
   <mo>=</mo>
   <mrow>
    <mo stretchy="false">{</mo>
    <msub>
     <mrow>
      <mo stretchy="false">[</mo>
      <mi>w</mi>
      <mo stretchy="false">]</mo>
     </mrow>
     <mi>D</mi>
    </msub>
    <mo stretchy="false">|</mo>
    <mrow>
     <mi>w</mi>
     <mo>∈</mo>
     <mi>L</mi>
    </mrow>
    <mo stretchy="false">}</mo>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <csymbol cd="ambiguous">subscript</csymbol>
     <apply>
      <csymbol cd="latexml">delimited-[]</csymbol>
      <ci>L</ci>
     </apply>
     <ci>D</ci>
    </apply>
    <apply>
     <csymbol cd="latexml">conditional-set</csymbol>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <apply>
       <csymbol cd="latexml">delimited-[]</csymbol>
       <ci>w</ci>
      </apply>
      <ci>D</ci>
     </apply>
     <apply>
      <in></in>
      <ci>w</ci>
      <ci>L</ci>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   [L]_{D}=\{[w]_{D}|w\in L\}
  </annotation>
 </semantics>
</math>

</p>

<p>is the trace closure of a set of strings, and</p>

<p>

<math display="block" id="Trace_monoid:77">
 <semantics>
  <mrow>
   <mrow>
    <mo largeop="true" mathsize="160%" movablelimits="false" stretchy="false" symmetric="true">⋃</mo>
    <mi>T</mi>
   </mrow>
   <mo>=</mo>
   <mrow>
    <mo stretchy="false">{</mo>
    <mi>w</mi>
    <mo stretchy="false">|</mo>
    <mrow>
     <msub>
      <mrow>
       <mo stretchy="false">[</mo>
       <mi>w</mi>
       <mo stretchy="false">]</mo>
      </mrow>
      <mi>D</mi>
     </msub>
     <mo>∈</mo>
     <mi>T</mi>
    </mrow>
    <mo stretchy="false">}</mo>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <union></union>
     <ci>T</ci>
    </apply>
    <apply>
     <csymbol cd="latexml">conditional-set</csymbol>
     <ci>w</ci>
     <apply>
      <in></in>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <apply>
        <csymbol cd="latexml">delimited-[]</csymbol>
        <ci>w</ci>
       </apply>
       <ci>D</ci>
      </apply>
      <ci>T</ci>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \bigcup T=\{w|[w]_{D}\in T\}
  </annotation>
 </semantics>
</math>

</p>

<p>is the set of strings in a set of traces.</p>
<h2 id="notes">Notes</h2>
<h2 id="references">References</h2>

<p><strong>General references</strong></p>
<ul>
<li></li>
<li></li>
<li>Antoni Mazurkiewicz, "Introduction to Trace Theory", pp 3–41, in <em>The Book of Traces</em>, V. Diekert, G. Rozenberg, eds. (1995) World Scientific, Singapore ISBN 981-02-2058-8</li>
<li>Volker Diekert, <em>Combinatorics on traces</em>, <a href="Lecture_Notes_in_Computer_Science" title="wikilink">LNCS</a> 454, Springer, 1990, ISBN 3-540-53031-2, pp. 9–29</li>
<li></li>
</ul>

<p><strong>Seminal publications</strong></p>
<ul>
<li>Pierre Cartier and Dominique Foata, <em>Problèmes combinatoires de commutation et réarrangements</em>, Lecture Notes in Mathematics 85, Springer-Verlag, Berlin, 1969, <a href="http://www.emis.de/journals/SLC/books/cartfoa.html">Free 2006 reprint</a> with new appendixes</li>
<li>Antoni Mazurkiewicz, <em>Concurrent program schemes and their interpretations</em>, DAIMI Report PB 78, Aarhus University, 1977</li>
</ul>

<p>"</p>

<p><a href="Category:Semigroup_theory" title="wikilink">Category:Semigroup theory</a> <a href="Category:Formal_languages" title="wikilink">Category:Formal languages</a> <a href="Category:Free_algebraic_structures" title="wikilink">Category:Free algebraic structures</a> <a class="uri" href="Category:Combinatorics" title="wikilink">Category:Combinatorics</a></p>
<section class="footnotes">
<hr/>
<ol>
<li id="fn1">Sándor &amp; Crstici (2004) p.161<a href="#fnref1">↩</a></li>
<li id="fn2">Proposition 2.2, Diekert and Métivier 1997.<a href="#fnref2">↩</a></li>
</ol>
</section>
</body>
</html>
