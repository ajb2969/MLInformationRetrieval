<html lang="en">
<head>
<meta charset="utf-8"/>
<title offset="1591">Martingale (betting system)</title>
<script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_SVG.js" type="text/javascript">
</script>
</head>
<body>
<h1>Martingale (betting system)</h1>
<hr/>

<p>A <strong>martingale</strong> is any of a class of <a href="betting_strategy" title="wikilink">betting strategies</a> that originated from and were popular in 18th century <a class="uri" href="France" title="wikilink">France</a>. The simplest of these strategies was designed for a game in which the gambler wins his stake if a coin comes up heads and loses it if the coin comes up tails. The strategy had the gambler double his bet after every loss, so that the first win would recover all previous losses plus win a profit equal to the original stake. The martingale strategy has been applied to <a class="uri" href="roulette" title="wikilink">roulette</a> as well, as the probability of hitting either red or black is close to 50%.</p>

<p>Since a gambler with infinite wealth will, <a href="almost_surely" title="wikilink">almost surely</a>, eventually flip heads, the martingale betting strategy was seen as a <a href="certainty" title="wikilink">sure thing</a> by those who advocated it. Of course, none of the gamblers in fact possessed infinite wealth, and the <a href="exponential_growth" title="wikilink">exponential growth</a> of the bets would eventually bankrupt "unlucky" gamblers who chose to use the martingale. It is therefore a good example of a <a href="Taleb_distribution" title="wikilink">Taleb distribution</a> – the gambler usually wins a small net reward, thus appearing to have a sound strategy. However, the gambler's expected value does indeed remain zero (or less than zero) because the small probability that he will suffer a catastrophic loss exactly balances with his expected gain. (In a casino, the expected value is <em>negative</em>, due to the house's edge.) The likelihood of catastrophic loss may not even be very small. The bet size rises exponentially. This, combined with the fact that strings of consecutive losses actually occur more often than common intuition suggests, can bankrupt a gambler quickly.</p>

<p>Casino betting limits eliminate use of the martingale strategy.</p>
<h2 id="intuitive-analysis">Intuitive analysis</h2>

<p>Assuming that the win/loss outcomes of each bet are <a href="independent_and_identically_distributed_random_variables" title="wikilink">independent and identically distributed random variables</a>, the stopping time has finite <a href="expected_value" title="wikilink">expected value</a>. This justifies the following argument, explaining why the betting system fails: Since <a href="expected_value#Linearity" title="wikilink">expectation is linear</a>, the expected value of a series of bets is just the sum of the expected value of each bet. Since in such games of chance the bets are <a href="statistical_independence" title="wikilink">independent</a>, the expectation of each bet does not depend on whether you previously won or lost. In most casino games, the expected value of any individual bet is negative, so the sum of lots of negative numbers is also always going to be negative.</p>

<p>The martingale strategy fails even with unbounded stopping time, as long as there is a limit on earnings or on the bets (which are also true in practice).<a class="footnoteRef" href="#fn1" id="fnref1"><sup>1</sup></a>  It is only with unbounded wealth, bets <em>and</em> time that the martingale becomes a <a href="winning_strategy" title="wikilink">winning strategy</a>.</p>
<h2 id="mathematical-analysis">Mathematical analysis</h2>

<p>One round of the idealized martingale without time or credit constraints can be formulated mathematically as follows. Let the coin tosses be represented by a sequence <mtpl></mtpl> of independent random variables, each of which is equal to <em>H</em> with probability <em>p</em>, and <em>T</em> with probability  Let <em>N</em> be time of appearance of the first <em>H</em>; in other words, <mtpl></mtpl>, and <mtpl></mtpl> If the coin never shows <em>H</em>, we write  <em>N</em> is itself a random variable because it depends on the random outcomes of the coin tosses.</p>

<p>In the first  coin tosses, the player following the martingale strategy loses <mtpl></mtpl> units, accumulating a total loss of <mtpl></mtpl> On the <em>N</em><sup>th</sup> toss, there is a win of 2<sup><em>N</em></sup> units, resulting in a net gain of 1 unit over the first <em>N</em> tosses. For example, suppose the first four coin tosses are <em>T</em>, <em>T</em>, <em>T</em>, <em>H</em> making  The bettor loses 1, 2, and 4 units on the first three tosses, for a total loss of 7 units, then wins 8 units on the fourth toss, for a net gain of 1 unit. As long as the coin eventually shows heads, the betting player realizes a gain.</p>

<p>What is the probability that  i.e., that the coin never shows heads? Clearly it can be no greater than the probability that the first <em>k</em> tosses are all <em>T</em>; this probability is ''q<sup>k''</sup>. Unless , the only nonnegative number less than or equal to ''q<sup>k''</sup> for all values of <em>k</em> is zero. It follows that <em>N</em> is finite with probability 1; therefore with probability 1, the coin will eventually show heads and the bettor will realize a net gain of 1 unit.</p>

<p>This property of the idealized version of the martingale accounts for the attraction of the idea. In practice, the idealized version can only be approximated, for two reasons. Unlimited credit to finance possibly astronomical losses during long runs of tails is not available, and there is a limit to the number of coin tosses that can be performed in any finite period of time, precluding the possibility of playing long enough to observe very long runs of tails.</p>

<p>As an example, consider a bettor with an available fortune, or credit, of 

<math display="inline" id="Martingale_(betting_system):0">
 <semantics>
  <msup>
   <mn>2</mn>
   <mn>43</mn>
  </msup>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <csymbol cd="ambiguous">superscript</csymbol>
    <cn type="integer">2</cn>
    <cn type="integer">43</cn>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   2^{43}
  </annotation>
 </semantics>
</math>

 (approximately 9 trillion) units, roughly half the size of the current US national debt in dollars. With this very large fortune, the player can afford to lose on the first 42 tosses, but a loss on the 43rd cannot be covered. The probability of losing on the first 42 tosses is 

<math display="inline" id="Martingale_(betting_system):1">
 <semantics>
  <msup>
   <mi>q</mi>
   <mn>42</mn>
  </msup>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <csymbol cd="ambiguous">superscript</csymbol>
    <ci>q</ci>
    <cn type="integer">42</cn>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   q^{42}
  </annotation>
 </semantics>
</math>

, which will be a very small number unless tails are nearly certain on each toss. In the fair case where 

<math display="inline" id="Martingale_(betting_system):2">
 <semantics>
  <mrow>
   <mi>q</mi>
   <mo>=</mo>
   <mrow>
    <mn>1</mn>
    <mo>/</mo>
    <mn>2</mn>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <ci>q</ci>
    <apply>
     <divide></divide>
     <cn type="integer">1</cn>
     <cn type="integer">2</cn>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   q=1/2
  </annotation>
 </semantics>
</math>

, we could expect to wait something on the order of 

<math display="inline" id="Martingale_(betting_system):3">
 <semantics>
  <msup>
   <mn>2</mn>
   <mn>42</mn>
  </msup>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <csymbol cd="ambiguous">superscript</csymbol>
    <cn type="integer">2</cn>
    <cn type="integer">42</cn>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   2^{42}
  </annotation>
 </semantics>
</math>


 tosses before seeing 42 consecutive tails; tossing coins at the rate of one toss per second, this would require approximately 279,000 years.</p>

<p>This version of the game is likely to be unattractive to both players. The player with the fortune can expect to see a head and gain one unit on average every two tosses, or two seconds, corresponding to an annual income of about 31.6 million units until disaster (42 tails) occurs. This is only a 0.0036 <em>percent</em> return on the fortune at risk. The other player can look forward to steady losses of 31.6 million units per year until hitting an incredibly large jackpot, probably in something like 279,000 years, a period far longer than any currency has yet existed. If 

<math display="inline" id="Martingale_(betting_system):4">
 <semantics>
  <mrow>
   <mi>q</mi>
   <mo>></mo>
   <mrow>
    <mn>1</mn>
    <mo>/</mo>
    <mn>2</mn>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <gt></gt>
    <ci>q</ci>
    <apply>
     <divide></divide>
     <cn type="integer">1</cn>
     <cn type="integer">2</cn>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   q>1/2
  </annotation>
 </semantics>
</math>

, this version of the game is also unfavorable to the first player in the sense that it would have negative expected winnings.</p>

<p>The impossibility of winning over the long run, given a limit of the size of bets or a limit in the size of one's bankroll or line of credit, is proven by the <a href="optional_stopping_theorem" title="wikilink">optional stopping theorem</a>.<a class="footnoteRef" href="#fn2" id="fnref2"><sup>2</sup></a></p>
<h2 id="mathematical-analysis-of-a-single-round">Mathematical analysis of a single round</h2>

<p>Let one round be defined as a sequence of consecutive losses followed by either a win, or bankruptcy of the gambler. After a win, the gambler "resets" and is considered to have started a new round. A continuous sequence of martingale bets can thus be partitioned into a sequence of independent rounds. Following is an analysis of the expected value of one round.</p>

<p>Let <em>q</em> be the probability of losing (e.g. for American double-zero roulette, it is 10/19 for a bet on black or red). Let <em>B</em> be the amount of the initial bet. Let <em>n</em> be the finite number of bets the gambler can afford to lose.</p>

<p>The probability that the gambler will lose all <em>n</em> bets is <em>q</em><sup><em>n</em></sup>. When all bets lose, the total loss is</p>

<p>

<math display="block" id="Martingale_(betting_system):5">
 <semantics>
  <mrow>
   <mrow>
    <munderover>
     <mo largeop="true" movablelimits="false" symmetric="true">∑</mo>
     <mrow>
      <mi>i</mi>
      <mo>=</mo>
      <mn>1</mn>
     </mrow>
     <mi>n</mi>
    </munderover>
    <mrow>
     <mi>B</mi>
     <mo>⋅</mo>
     <msup>
      <mn>2</mn>
      <mrow>
       <mi>i</mi>
       <mo>-</mo>
       <mn>1</mn>
      </mrow>
     </msup>
    </mrow>
   </mrow>
   <mo>=</mo>
   <mrow>
    <mi>B</mi>
    <mrow>
     <mo stretchy="false">(</mo>
     <mrow>
      <msup>
       <mn>2</mn>
       <mi>n</mi>
      </msup>
      <mo>-</mo>
      <mn>1</mn>
     </mrow>
     <mo stretchy="false">)</mo>
    </mrow>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <apply>
      <csymbol cd="ambiguous">superscript</csymbol>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <sum></sum>
       <apply>
        <eq></eq>
        <ci>i</ci>
        <cn type="integer">1</cn>
       </apply>
      </apply>
      <ci>n</ci>
     </apply>
     <apply>
      <ci>normal-⋅</ci>
      <ci>B</ci>
      <apply>
       <csymbol cd="ambiguous">superscript</csymbol>
       <cn type="integer">2</cn>
       <apply>
        <minus></minus>
        <ci>i</ci>
        <cn type="integer">1</cn>
       </apply>
      </apply>
     </apply>
    </apply>
    <apply>
     <times></times>
     <ci>B</ci>
     <apply>
      <minus></minus>
      <apply>
       <csymbol cd="ambiguous">superscript</csymbol>
       <cn type="integer">2</cn>
       <ci>n</ci>
      </apply>
      <cn type="integer">1</cn>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \sum_{i=1}^{n}B\cdot 2^{i-1}=B(2^{n}-1)
  </annotation>
 </semantics>
</math>

</p>

<p>The probability the gambler does not lose all <em>n</em> bets is 1 − <em>q</em><sup><em>n</em></sup>. In all other cases, the gambler wins the initial bet (<em>B</em>.) Thus, the <a href="expected_value" title="wikilink">expected</a> profit per round is</p>

<p>

<math display="block" id="Martingale_(betting_system):6">
 <semantics>
  <mrow>
   <mrow>
    <mrow>
     <mrow>
      <mo stretchy="false">(</mo>
      <mrow>
       <mn>1</mn>
       <mo>-</mo>
       <msup>
        <mi>q</mi>
        <mi>n</mi>
       </msup>
      </mrow>
      <mo stretchy="false">)</mo>
     </mrow>
     <mo>⋅</mo>
     <mi>B</mi>
    </mrow>
    <mo>-</mo>
    <mrow>
     <mrow>
      <msup>
       <mi>q</mi>
       <mi>n</mi>
      </msup>
      <mo>⋅</mo>
      <mi>B</mi>
     </mrow>
     <mrow>
      <mo stretchy="false">(</mo>
      <mrow>
       <msup>
        <mn>2</mn>
        <mi>n</mi>
       </msup>
       <mo>-</mo>
       <mn>1</mn>
      </mrow>
      <mo stretchy="false">)</mo>
     </mrow>
    </mrow>
   </mrow>
   <mo>=</mo>
   <mrow>
    <mi>B</mi>
    <mrow>
     <mo stretchy="false">(</mo>
     <mrow>
      <mn>1</mn>
      <mo>-</mo>
      <msup>
       <mrow>
        <mo stretchy="false">(</mo>
        <mrow>
         <mn>2</mn>
         <mi>q</mi>
        </mrow>
        <mo stretchy="false">)</mo>
       </mrow>
       <mi>n</mi>
      </msup>
     </mrow>
     <mo stretchy="false">)</mo>
    </mrow>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <minus></minus>
     <apply>
      <ci>normal-⋅</ci>
      <apply>
       <minus></minus>
       <cn type="integer">1</cn>
       <apply>
        <csymbol cd="ambiguous">superscript</csymbol>
        <ci>q</ci>
        <ci>n</ci>
       </apply>
      </apply>
      <ci>B</ci>
     </apply>
     <apply>
      <times></times>
      <apply>
       <ci>normal-⋅</ci>
       <apply>
        <csymbol cd="ambiguous">superscript</csymbol>
        <ci>q</ci>
        <ci>n</ci>
       </apply>
       <ci>B</ci>
      </apply>
      <apply>
       <minus></minus>
       <apply>
        <csymbol cd="ambiguous">superscript</csymbol>
        <cn type="integer">2</cn>
        <ci>n</ci>
       </apply>
       <cn type="integer">1</cn>
      </apply>
     </apply>
    </apply>
    <apply>
     <times></times>
     <ci>B</ci>
     <apply>
      <minus></minus>
      <cn type="integer">1</cn>
      <apply>
       <csymbol cd="ambiguous">superscript</csymbol>
       <apply>
        <times></times>
        <cn type="integer">2</cn>
        <ci>q</ci>
       </apply>
       <ci>n</ci>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   (1-q^{n})\cdot B-q^{n}\cdot B(2^{n}-1)=B(1-(2q)^{n})
  </annotation>
 </semantics>
</math>

</p>

<p>Whenever <em>q</em> &gt; 1/2, the expression 1 − (2<em>q</em>)<sup><em>n</em></sup>  0. Thus, for all games where a gambler is more likely to lose than to win any given bet, that gambler is expected to lose money, on average, each round. Increasing the size of wager for each round per the martingale system only serves to increase the average loss.</p>

<p>Suppose a gambler has a 63 unit gambling bankroll. The gambler might bet 1 unit on the first spin. On each loss, the bet is doubled. Thus, taking <em>k</em> as the number of preceding consecutive losses, the player will always bet 2<sup>k</sup> units.</p>

<p>With a win on any given spin, the gambler will net 1 unit over the total amount wagered to that point. Once this win is achieved, the gambler restarts the system with a 1 unit bet.</p>

<p>With losses on all of the first six spins, the gambler loses a total of 63 units. This exhausts the bankroll and the martingale cannot be continued.</p>

<p>In this example, the probability of losing the entire bankroll and being unable to continue the martingale is equal to the probability of 6 consecutive losses: (10/19)<sup>6</sup> = 2.1256%. The probability of winning is equal to 1 minus the probability of losing 6 times: 1 − (10/19)<sup>6</sup> = 97.8744%.</p>

<p>The expected amount won is (1 × 0.978744) = 0.978744.<br/>
The expected amount lost is (63 × 0.021256)= 1.339118.<br/>
Thus, the total expected value for each application of the betting system is (0.978744 − 1.339118) = −0.360374 .</p>

<p>In a unique circumstance, this strategy can make sense. Suppose the gambler possesses exactly 63 units but desperately needs a total of 64. Assuming <em>q</em> &gt; 1/2 (it is a real casino) and he may only place bets at even odds, his best strategy is <strong>bold play</strong>: at each spin, he should bet the smallest amount such that if he wins he reaches his target immediately, and if he doesn't have enough for this, he should simply bet everything. Eventually he either goes bust or reaches his target. This strategy gives him a probability of 97.8744% of achieving the goal of winning one unit vs. a 2.1256% chance of losing all 63 units, and that is the best probability possible in this circumstance.<a class="footnoteRef" href="#fn3" id="fnref3"><sup>3</sup></a> However, bold play is not always the optimal strategy for having the biggest possible chance to increase an initial capital to some desired higher amount. If the gambler can bet arbitrarily small amounts at arbitrarily long odds (but still with the same expected loss of 1/19 of the stake at each bet), and can only place one bet at each spin, then there are strategies with above 98% chance of attaining his goal, and these use very timid play unless the gambler is close to losing all his capital, in which case he does switch to extremely bold play.<a class="footnoteRef" href="#fn4" id="fnref4"><sup>4</sup></a></p>
<h2 id="alternative-mathematical-analysis">Alternative mathematical analysis</h2>

<p>The previous analysis calculates <em>expected value</em>, but we can ask another question: what is the chance that one can play a casino game using the martingale strategy, and avoid the losing streak long enough to double one's bankroll.</p>

<p>As before, this depends on the likelihood of losing 6 roulette spins in a row assuming we are betting red/black or even/odd. Many gamblers believe that the chances of losing 6 in a row are remote, and that with a patient adherence to the strategy they will slowly increase their bankroll.</p>

<p>In reality, the odds of a streak of 6 losses in a row are much higher than the many people intuitively believe. Psychological studies have shown that since people know that the odds of losing 6 times in a row out of 6 plays are low, they incorrectly assume that in a longer string of plays the odds are also very low. When people are asked to invent data representing 200 coin tosses, they often do not add streaks of more than 5 because they believe that these streaks are very unlikely.<a class="footnoteRef" href="#fn5" id="fnref5"><sup>5</sup></a> This intuitive belief is sometimes referred to as the <a href="representativeness_heuristic" title="wikilink">representativeness heuristic</a>.</p>
<h2 id="anti-martingale">Anti-martingale</h2>

<p>This is also known as the reverse martingale. In a classic martingale betting style, gamblers increase bets after each loss in hopes that an eventual win will recover all previous losses. The anti-martingale approach instead increases bets after wins, while reducing them after a loss. The perception is that the gambler will benefit from a winning streak or a "hot hand", while reducing losses while "cold" or otherwise having a losing streak. As the single bets are independent from each other (and from the gambler's expectations), the concept of winning "streaks" is merely an example of <a href="gambler's_fallacy" title="wikilink">gambler's fallacy</a>, and the anti-martingale strategy fails to make any money. If on the other hand, real-life stock returns are serially correlated (for instance due to economic cycles and delayed reaction to news of larger market participants), "streaks" of wins or losses do happen more often and are longer than those under a purely random process, the anti-martingale strategy could theoretically apply and can be used in trading systems (as trend-following or "doubling up").</p>
<h2 id="see-also">See also</h2>
<ul>
<li><a href="St._Petersburg_paradox" title="wikilink">St. Petersburg paradox</a></li>
</ul>
<h2 id="references">References</h2>
<ul>
<li></li>
</ul>

<p>"</p>

<p><a href="Category:Betting_systems" title="wikilink">Category:Betting systems</a> <a href="Category:Roulette_and_wheel_games" title="wikilink">Category:Roulette and wheel games</a> <a href="Category:Gambling_terminology" title="wikilink">Category:Gambling terminology</a></p>
<section class="footnotes">
<hr/>
<ol>
<li id="fn1"><a href="#fnref1">↩</a></li>
<li id="fn2"></li>
<li id="fn3"><a href="#fnref3">↩</a></li>
<li id="fn4"><a href="#fnref4">↩</a></li>
<li id="fn5"><a href="#fnref5">↩</a></li>
</ol>
</section>
</body>
</html>
