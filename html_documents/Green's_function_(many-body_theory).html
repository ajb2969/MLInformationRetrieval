<html lang="en">
<head>
<meta charset="utf-8"/>
<title offset="1755">Green's function (many-body theory)</title>
<script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_SVG.js" type="text/javascript">
</script>
</head>
<body>
<h1>Green's function (many-body theory)</h1>
<hr/>

<p>In <a href="many-body_theory" title="wikilink">many-body theory</a>, the term <strong>Green's function</strong> (or <strong>Green function</strong>) is sometimes used interchangeably with <a href="Correlation_function_(quantum_field_theory)" title="wikilink">correlation function</a>, but refers specifically to correlators of <a href="field_operator" title="wikilink">field operators</a> or <a href="creation_and_annihilation_operators" title="wikilink">creation and annihilation operators</a>.</p>

<p>The name comes from the <a href="Green's_functions" title="wikilink">Green's functions</a> used to solve inhomogeneous <a href="differential_equations" title="wikilink">differential equations</a>, to which they are loosely related. (Specifically, only two-point 'Green's functions' in the case of a non-interacting system are Green's functions in the mathematical sense; the linear operator that they invert is the <a href="Hamiltonian_(quantum_mechanics)" title="wikilink">Hamiltonian operator</a>, which in the non-interacting case is quadratic in the fields.)</p>
<h2 id="spatially-uniform-case">Spatially uniform case</h2>
<h3 id="basic-definitions">Basic definitions</h3>

<p>We consider a many-body theory with field operator (annihilation operator written in the position basis) 

<math display="inline" id="Green's_function_(many-body_theory):0">
 <semantics>
  <mrow>
   <mi>ψ</mi>
   <mrow>
    <mo stretchy="false">(</mo>
    <mi>𝐱</mi>
    <mo stretchy="false">)</mo>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <times></times>
    <ci>ψ</ci>
    <ci>𝐱</ci>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \psi(\mathbf{x})
  </annotation>
 </semantics>
</math>

.</p>

<p>The <a href="Heisenberg_picture" title="wikilink">Heisenberg operators</a> can be written in terms of <a href="Schrödinger_picture" title="wikilink">Schrödinger operators</a> as</p>

<p>

<math display="block" id="Green's_function_(many-body_theory):1">
 <semantics>
  <mrow>
   <mrow>
    <mrow>
     <mi>ψ</mi>
     <mrow>
      <mo stretchy="false">(</mo>
      <mi>𝐱</mi>
      <mo>,</mo>
      <mi>t</mi>
      <mo stretchy="false">)</mo>
     </mrow>
    </mrow>
    <mo>=</mo>
    <mrow>
     <msup>
      <mi mathvariant="normal">e</mi>
      <mrow>
       <mi mathvariant="normal">i</mi>
       <mi>K</mi>
       <mi>t</mi>
      </mrow>
     </msup>
     <mi>ψ</mi>
     <mrow>
      <mo stretchy="false">(</mo>
      <mi>𝐱</mi>
      <mo stretchy="false">)</mo>
     </mrow>
     <msup>
      <mi mathvariant="normal">e</mi>
      <mrow>
       <mo>-</mo>
       <mrow>
        <mi mathvariant="normal">i</mi>
        <mi>K</mi>
        <mi>t</mi>
       </mrow>
      </mrow>
     </msup>
    </mrow>
   </mrow>
   <mo>,</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <times></times>
     <ci>ψ</ci>
     <interval closure="open">
      <ci>𝐱</ci>
      <ci>t</ci>
     </interval>
    </apply>
    <apply>
     <times></times>
     <apply>
      <csymbol cd="ambiguous">superscript</csymbol>
      <ci>normal-e</ci>
      <apply>
       <times></times>
       <ci>normal-i</ci>
       <ci>K</ci>
       <ci>t</ci>
      </apply>
     </apply>
     <ci>ψ</ci>
     <ci>𝐱</ci>
     <apply>
      <csymbol cd="ambiguous">superscript</csymbol>
      <ci>normal-e</ci>
      <apply>
       <minus></minus>
       <apply>
        <times></times>
        <ci>normal-i</ci>
        <ci>K</ci>
        <ci>t</ci>
       </apply>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \psi(\mathbf{x},t)=\mathrm{e}^{\mathrm{i}Kt}\psi(\mathbf{x})\mathrm{e}^{-%
\mathrm{i}Kt},
  </annotation>
 </semantics>
</math>

 and 

<math display="inline" id="Green's_function_(many-body_theory):2">
 <semantics>
  <mrow>
   <mrow>
    <mover accent="true">
     <mi>ψ</mi>
     <mo stretchy="false">¯</mo>
    </mover>
    <mrow>
     <mo stretchy="false">(</mo>
     <mi>𝐱</mi>
     <mo>,</mo>
     <mi>t</mi>
     <mo stretchy="false">)</mo>
    </mrow>
   </mrow>
   <mo>=</mo>
   <msup>
    <mrow>
     <mo stretchy="false">[</mo>
     <mrow>
      <mi>ψ</mi>
      <mrow>
       <mo stretchy="false">(</mo>
       <mi>𝐱</mi>
       <mo>,</mo>
       <mi>t</mi>
       <mo stretchy="false">)</mo>
      </mrow>
     </mrow>
     <mo stretchy="false">]</mo>
    </mrow>
    <mo>†</mo>
   </msup>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <times></times>
     <apply>
      <ci>normal-¯</ci>
      <ci>ψ</ci>
     </apply>
     <interval closure="open">
      <ci>𝐱</ci>
      <ci>t</ci>
     </interval>
    </apply>
    <apply>
     <csymbol cd="ambiguous">superscript</csymbol>
     <apply>
      <csymbol cd="latexml">delimited-[]</csymbol>
      <apply>
       <times></times>
       <ci>ψ</ci>
       <interval closure="open">
        <ci>𝐱</ci>
        <ci>t</ci>
       </interval>
      </apply>
     </apply>
     <ci>normal-†</ci>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \bar{\psi}(\mathbf{x},t)=[\psi(\mathbf{x},t)]^{\dagger}
  </annotation>
 </semantics>
</math>

, where 

<math display="inline" id="Green's_function_(many-body_theory):3">
 <semantics>
  <mrow>
   <mi>K</mi>
   <mo>=</mo>
   <mrow>
    <mi>H</mi>
    <mo>-</mo>
    <mrow>
     <mi>μ</mi>
     <mi>N</mi>
    </mrow>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <ci>K</ci>
    <apply>
     <minus></minus>
     <ci>H</ci>
     <apply>
      <times></times>
      <ci>μ</ci>
      <ci>N</ci>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   K=H-\mu N
  </annotation>
 </semantics>
</math>

 is the <a href="Grand_canonical_ensemble" title="wikilink">grand-canonical</a> Hamiltonian.</p>

<p>Similarly, for the <a href="Imaginary_time" title="wikilink">imaginary-time</a> operators,</p>

<p>

<math display="block" id="Green's_function_(many-body_theory):4">
 <semantics>
  <mrow>
   <mrow>
    <mi>ψ</mi>
    <mrow>
     <mo stretchy="false">(</mo>
     <mi>𝐱</mi>
     <mo>,</mo>
     <mi>τ</mi>
     <mo stretchy="false">)</mo>
    </mrow>
   </mrow>
   <mo>=</mo>
   <mrow>
    <msup>
     <mi mathvariant="normal">e</mi>
     <mrow>
      <mi>K</mi>
      <mi>τ</mi>
     </mrow>
    </msup>
    <mi>ψ</mi>
    <mrow>
     <mo stretchy="false">(</mo>
     <mi>𝐱</mi>
     <mo stretchy="false">)</mo>
    </mrow>
    <msup>
     <mi mathvariant="normal">e</mi>
     <mrow>
      <mo>-</mo>
      <mrow>
       <mi>K</mi>
       <mi>τ</mi>
      </mrow>
     </mrow>
    </msup>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <times></times>
     <ci>ψ</ci>
     <interval closure="open">
      <ci>𝐱</ci>
      <ci>τ</ci>
     </interval>
    </apply>
    <apply>
     <times></times>
     <apply>
      <csymbol cd="ambiguous">superscript</csymbol>
      <ci>normal-e</ci>
      <apply>
       <times></times>
       <ci>K</ci>
       <ci>τ</ci>
      </apply>
     </apply>
     <ci>ψ</ci>
     <ci>𝐱</ci>
     <apply>
      <csymbol cd="ambiguous">superscript</csymbol>
      <ci>normal-e</ci>
      <apply>
       <minus></minus>
       <apply>
        <times></times>
        <ci>K</ci>
        <ci>τ</ci>
       </apply>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \psi(\mathbf{x},\tau)=\mathrm{e}^{K\tau}\psi(\mathbf{x})\mathrm{e}^{-K\tau}
  </annotation>
 </semantics>
</math>

</p>

<p>

<math display="block" id="Green's_function_(many-body_theory):5">
 <semantics>
  <mrow>
   <mrow>
    <mrow>
     <mover accent="true">
      <mi>ψ</mi>
      <mo stretchy="false">¯</mo>
     </mover>
     <mrow>
      <mo stretchy="false">(</mo>
      <mi>𝐱</mi>
      <mo>,</mo>
      <mi>τ</mi>
      <mo stretchy="false">)</mo>
     </mrow>
    </mrow>
    <mo>=</mo>
    <mrow>
     <msup>
      <mi mathvariant="normal">e</mi>
      <mrow>
       <mi>K</mi>
       <mi>τ</mi>
      </mrow>
     </msup>
     <msup>
      <mi>ψ</mi>
      <mo>†</mo>
     </msup>
     <mrow>
      <mo stretchy="false">(</mo>
      <mi>𝐱</mi>
      <mo stretchy="false">)</mo>
     </mrow>
     <msup>
      <mi mathvariant="normal">e</mi>
      <mrow>
       <mo>-</mo>
       <mrow>
        <mi>K</mi>
        <mi>τ</mi>
       </mrow>
      </mrow>
     </msup>
    </mrow>
   </mrow>
   <mo>.</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <times></times>
     <apply>
      <ci>normal-¯</ci>
      <ci>ψ</ci>
     </apply>
     <interval closure="open">
      <ci>𝐱</ci>
      <ci>τ</ci>
     </interval>
    </apply>
    <apply>
     <times></times>
     <apply>
      <csymbol cd="ambiguous">superscript</csymbol>
      <ci>normal-e</ci>
      <apply>
       <times></times>
       <ci>K</ci>
       <ci>τ</ci>
      </apply>
     </apply>
     <apply>
      <csymbol cd="ambiguous">superscript</csymbol>
      <ci>ψ</ci>
      <ci>normal-†</ci>
     </apply>
     <ci>𝐱</ci>
     <apply>
      <csymbol cd="ambiguous">superscript</csymbol>
      <ci>normal-e</ci>
      <apply>
       <minus></minus>
       <apply>
        <times></times>
        <ci>K</ci>
        <ci>τ</ci>
       </apply>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \bar{\psi}(\mathbf{x},\tau)=\mathrm{e}^{K\tau}\psi^{\dagger}(\mathbf{x})%
\mathrm{e}^{-K\tau}.
  </annotation>
 </semantics>
</math>

 [Note that the imaginary-time creation operator 

<math display="inline" id="Green's_function_(many-body_theory):6">
 <semantics>
  <mrow>
   <mover accent="true">
    <mi>ψ</mi>
    <mo stretchy="false">¯</mo>
   </mover>
   <mrow>
    <mo stretchy="false">(</mo>
    <mi>𝐱</mi>
    <mo>,</mo>
    <mi>τ</mi>
    <mo stretchy="false">)</mo>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <times></times>
    <apply>
     <ci>normal-¯</ci>
     <ci>ψ</ci>
    </apply>
    <interval closure="open">
     <ci>𝐱</ci>
     <ci>τ</ci>
    </interval>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \bar{\psi}(\mathbf{x},\tau)
  </annotation>
 </semantics>
</math>

 is not the <a href="Hermitian_conjugate" title="wikilink">Hermitian conjugate</a> of the annihilation operator 

<math display="inline" id="Green's_function_(many-body_theory):7">
 <semantics>
  <mrow>
   <mi>ψ</mi>
   <mrow>
    <mo stretchy="false">(</mo>
    <mi>𝐱</mi>
    <mo>,</mo>
    <mi>τ</mi>
    <mo stretchy="false">)</mo>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <times></times>
    <ci>ψ</ci>
    <interval closure="open">
     <ci>𝐱</ci>
     <ci>τ</ci>
    </interval>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \psi(\mathbf{x},\tau)
  </annotation>
 </semantics>
</math>

.]</p>

<p>In real time, the 

<math display="inline" id="Green's_function_(many-body_theory):8">
 <semantics>
  <mrow>
   <mn>2</mn>
   <mi>n</mi>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <times></times>
    <cn type="integer">2</cn>
    <ci>n</ci>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   2n
  </annotation>
 </semantics>
</math>

-point Green function is defined by</p>

<p>

<math display="block" id="Green's_function_(many-body_theory):9">
 <semantics>
  <mrow>
   <msup>
    <mi>G</mi>
    <mrow>
     <mo stretchy="false">(</mo>
     <mi>n</mi>
     <mo stretchy="false">)</mo>
    </mrow>
   </msup>
   <mrow>
    <mo stretchy="false">(</mo>
    <mn>1</mn>
    <mi mathvariant="normal">…</mi>
    <mi>n</mi>
    <mo stretchy="false">|</mo>
    <msup>
     <mn>1</mn>
     <mo>′</mo>
    </msup>
    <mi mathvariant="normal">…</mi>
    <msup>
     <mi>n</mi>
     <mo>′</mo>
    </msup>
    <mo stretchy="false">)</mo>
   </mrow>
   <mo>=</mo>
   <msup>
    <mi mathvariant="normal">i</mi>
    <mi>n</mi>
   </msup>
   <mrow>
    <mo stretchy="false">⟨</mo>
    <mi>T</mi>
    <mi>ψ</mi>
    <mrow>
     <mo stretchy="false">(</mo>
     <mn>1</mn>
     <mo stretchy="false">)</mo>
    </mrow>
    <mi mathvariant="normal">…</mi>
    <mi>ψ</mi>
    <mrow>
     <mo stretchy="false">(</mo>
     <mi>n</mi>
     <mo stretchy="false">)</mo>
    </mrow>
    <mover accent="true">
     <mi>ψ</mi>
     <mo stretchy="false">¯</mo>
    </mover>
    <mrow>
     <mo stretchy="false">(</mo>
     <msup>
      <mi>n</mi>
      <mo>′</mo>
     </msup>
     <mo stretchy="false">)</mo>
    </mrow>
    <mi mathvariant="normal">…</mi>
    <mover accent="true">
     <mi>ψ</mi>
     <mo stretchy="false">¯</mo>
    </mover>
    <mrow>
     <mo stretchy="false">(</mo>
     <msup>
      <mn>1</mn>
      <mo>′</mo>
     </msup>
     <mo stretchy="false">)</mo>
    </mrow>
    <mo stretchy="false">⟩</mo>
   </mrow>
   <mo>,</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <cerror>
    <csymbol cd="ambiguous">fragments</csymbol>
    <apply>
     <csymbol cd="ambiguous">superscript</csymbol>
     <ci>G</ci>
     <ci>n</ci>
    </apply>
    <cerror>
     <csymbol cd="ambiguous">fragments</csymbol>
     <ci>normal-(</ci>
     <cn type="integer">1</cn>
     <ci>normal-…</ci>
     <csymbol cd="unknown">n</csymbol>
     <ci>normal-|</ci>
     <apply>
      <csymbol cd="ambiguous">superscript</csymbol>
      <cn type="integer">1</cn>
      <ci>normal-′</ci>
     </apply>
     <ci>normal-…</ci>
     <apply>
      <csymbol cd="ambiguous">superscript</csymbol>
      <ci>n</ci>
      <ci>normal-′</ci>
     </apply>
     <ci>normal-)</ci>
    </cerror>
    <eq></eq>
    <apply>
     <csymbol cd="ambiguous">superscript</csymbol>
     <ci>normal-i</ci>
     <ci>n</ci>
    </apply>
    <cerror>
     <csymbol cd="ambiguous">fragments</csymbol>
     <ci>normal-⟨</ci>
     <csymbol cd="unknown">T</csymbol>
     <csymbol cd="unknown">ψ</csymbol>
     <cerror>
      <csymbol cd="ambiguous">fragments</csymbol>
      <ci>normal-(</ci>
      <cn type="integer">1</cn>
      <ci>normal-)</ci>
     </cerror>
     <ci>normal-…</ci>
     <csymbol cd="unknown">ψ</csymbol>
     <cerror>
      <csymbol cd="ambiguous">fragments</csymbol>
      <ci>normal-(</ci>
      <csymbol cd="unknown">n</csymbol>
      <ci>normal-)</ci>
     </cerror>
     <apply>
      <ci>normal-¯</ci>
      <ci>ψ</ci>
     </apply>
     <cerror>
      <csymbol cd="ambiguous">fragments</csymbol>
      <ci>normal-(</ci>
      <apply>
       <csymbol cd="ambiguous">superscript</csymbol>
       <ci>n</ci>
       <ci>normal-′</ci>
      </apply>
      <ci>normal-)</ci>
     </cerror>
     <ci>normal-…</ci>
     <apply>
      <ci>normal-¯</ci>
      <ci>ψ</ci>
     </apply>
     <cerror>
      <csymbol cd="ambiguous">fragments</csymbol>
      <ci>normal-(</ci>
      <apply>
       <csymbol cd="ambiguous">superscript</csymbol>
       <cn type="integer">1</cn>
       <ci>normal-′</ci>
      </apply>
      <ci>normal-)</ci>
     </cerror>
     <ci>normal-⟩</ci>
    </cerror>
    <ci>normal-,</ci>
   </cerror>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   G^{(n)}(1\ldots n|1^{\prime}\ldots n^{\prime})=\mathrm{i}^{n}\langle T\psi(1)%
\ldots\psi(n)\bar{\psi}(n^{\prime})\ldots\bar{\psi}(1^{\prime})\rangle,
  </annotation>
 </semantics>
</math>

 where we have used a condensed notation in which 

<math display="inline" id="Green's_function_(many-body_theory):10">
 <semantics>
  <mi>j</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>j</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   j
  </annotation>
 </semantics>
</math>

 signifies 

<math display="inline" id="Green's_function_(many-body_theory):11">
 <semantics>
  <mrow>
   <msub>
    <mi>𝐱</mi>
    <mi>j</mi>
   </msub>
   <mo>,</mo>
   <msub>
    <mi>t</mi>
    <mi>j</mi>
   </msub>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <list>
    <apply>
     <csymbol cd="ambiguous">subscript</csymbol>
     <ci>𝐱</ci>
     <ci>j</ci>
    </apply>
    <apply>
     <csymbol cd="ambiguous">subscript</csymbol>
     <ci>t</ci>
     <ci>j</ci>
    </apply>
   </list>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \mathbf{x}_{j},t_{j}
  </annotation>
 </semantics>
</math>


 and 

<math display="inline" id="Green's_function_(many-body_theory):12">
 <semantics>
  <msup>
   <mi>j</mi>
   <mo>′</mo>
  </msup>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <csymbol cd="ambiguous">superscript</csymbol>
    <ci>j</ci>
    <ci>normal-′</ci>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   j^{\prime}
  </annotation>
 </semantics>
</math>

 signifies 

<math display="inline" id="Green's_function_(many-body_theory):13">
 <semantics>
  <mrow>
   <msubsup>
    <mi>𝐱</mi>
    <mi>j</mi>
    <mo>′</mo>
   </msubsup>
   <mo>,</mo>
   <msubsup>
    <mi>t</mi>
    <mi>j</mi>
    <mo>′</mo>
   </msubsup>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <list>
    <apply>
     <csymbol cd="ambiguous">superscript</csymbol>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <ci>𝐱</ci>
      <ci>j</ci>
     </apply>
     <ci>normal-′</ci>
    </apply>
    <apply>
     <csymbol cd="ambiguous">superscript</csymbol>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <ci>t</ci>
      <ci>j</ci>
     </apply>
     <ci>normal-′</ci>
    </apply>
   </list>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \mathbf{x}_{j}^{\prime},t_{j}^{\prime}
  </annotation>
 </semantics>
</math>

. The operator 

<math display="inline" id="Green's_function_(many-body_theory):14">
 <semantics>
  <mi>T</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>T</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   T
  </annotation>
 </semantics>
</math>

 denotes <a href="time_ordering" title="wikilink">time ordering</a>, and indicates that the field operators that follow it are to be ordered so that their time arguments increase from right to left.</p>

<p>In imaginary time, the corresponding definition is</p>

<p>

<math display="block" id="Green's_function_(many-body_theory):15">
 <semantics>
  <mrow>
   <msup>
    <mi class="ltx_font_mathcaligraphic">𝒢</mi>
    <mrow>
     <mo stretchy="false">(</mo>
     <mi>n</mi>
     <mo stretchy="false">)</mo>
    </mrow>
   </msup>
   <mrow>
    <mo stretchy="false">(</mo>
    <mn>1</mn>
    <mi mathvariant="normal">…</mi>
    <mi>n</mi>
    <mo stretchy="false">|</mo>
    <msup>
     <mn>1</mn>
     <mo>′</mo>
    </msup>
    <mi mathvariant="normal">…</mi>
    <msup>
     <mi>n</mi>
     <mo>′</mo>
    </msup>
    <mo stretchy="false">)</mo>
   </mrow>
   <mo>=</mo>
   <mrow>
    <mo stretchy="false">⟨</mo>
    <mi>T</mi>
    <mi>ψ</mi>
    <mrow>
     <mo stretchy="false">(</mo>
     <mn>1</mn>
     <mo stretchy="false">)</mo>
    </mrow>
    <mi mathvariant="normal">…</mi>
    <mi>ψ</mi>
    <mrow>
     <mo stretchy="false">(</mo>
     <mi>n</mi>
     <mo stretchy="false">)</mo>
    </mrow>
    <mover accent="true">
     <mi>ψ</mi>
     <mo stretchy="false">¯</mo>
    </mover>
    <mrow>
     <mo stretchy="false">(</mo>
     <msup>
      <mi>n</mi>
      <mo>′</mo>
     </msup>
     <mo stretchy="false">)</mo>
    </mrow>
    <mi mathvariant="normal">…</mi>
    <mover accent="true">
     <mi>ψ</mi>
     <mo stretchy="false">¯</mo>
    </mover>
    <mrow>
     <mo stretchy="false">(</mo>
     <msup>
      <mn>1</mn>
      <mo>′</mo>
     </msup>
     <mo stretchy="false">)</mo>
    </mrow>
    <mo stretchy="false">⟩</mo>
   </mrow>
   <mo>,</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <cerror>
    <csymbol cd="ambiguous">fragments</csymbol>
    <apply>
     <csymbol cd="ambiguous">superscript</csymbol>
     <ci>𝒢</ci>
     <ci>n</ci>
    </apply>
    <cerror>
     <csymbol cd="ambiguous">fragments</csymbol>
     <ci>normal-(</ci>
     <cn type="integer">1</cn>
     <ci>normal-…</ci>
     <csymbol cd="unknown">n</csymbol>
     <ci>normal-|</ci>
     <apply>
      <csymbol cd="ambiguous">superscript</csymbol>
      <cn type="integer">1</cn>
      <ci>normal-′</ci>
     </apply>
     <ci>normal-…</ci>
     <apply>
      <csymbol cd="ambiguous">superscript</csymbol>
      <ci>n</ci>
      <ci>normal-′</ci>
     </apply>
     <ci>normal-)</ci>
    </cerror>
    <eq></eq>
    <cerror>
     <csymbol cd="ambiguous">fragments</csymbol>
     <ci>normal-⟨</ci>
     <csymbol cd="unknown">T</csymbol>
     <csymbol cd="unknown">ψ</csymbol>
     <cerror>
      <csymbol cd="ambiguous">fragments</csymbol>
      <ci>normal-(</ci>
      <cn type="integer">1</cn>
      <ci>normal-)</ci>
     </cerror>
     <ci>normal-…</ci>
     <csymbol cd="unknown">ψ</csymbol>
     <cerror>
      <csymbol cd="ambiguous">fragments</csymbol>
      <ci>normal-(</ci>
      <csymbol cd="unknown">n</csymbol>
      <ci>normal-)</ci>
     </cerror>
     <apply>
      <ci>normal-¯</ci>
      <ci>ψ</ci>
     </apply>
     <cerror>
      <csymbol cd="ambiguous">fragments</csymbol>
      <ci>normal-(</ci>
      <apply>
       <csymbol cd="ambiguous">superscript</csymbol>
       <ci>n</ci>
       <ci>normal-′</ci>
      </apply>
      <ci>normal-)</ci>
     </cerror>
     <ci>normal-…</ci>
     <apply>
      <ci>normal-¯</ci>
      <ci>ψ</ci>
     </apply>
     <cerror>
      <csymbol cd="ambiguous">fragments</csymbol>
      <ci>normal-(</ci>
      <apply>
       <csymbol cd="ambiguous">superscript</csymbol>
       <cn type="integer">1</cn>
       <ci>normal-′</ci>
      </apply>
      <ci>normal-)</ci>
     </cerror>
     <ci>normal-⟩</ci>
    </cerror>
    <ci>normal-,</ci>
   </cerror>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \mathcal{G}^{(n)}(1\ldots n|1^{\prime}\ldots n^{\prime})=\langle T\psi(1)%
\ldots\psi(n)\bar{\psi}(n^{\prime})\ldots\bar{\psi}(1^{\prime})\rangle,
  </annotation>
 </semantics>
</math>

 where 

<math display="inline" id="Green's_function_(many-body_theory):16">
 <semantics>
  <mi>j</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>j</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   j
  </annotation>
 </semantics>
</math>

 signifies 

<math display="inline" id="Green's_function_(many-body_theory):17">
 <semantics>
  <mrow>
   <msub>
    <mi>𝐱</mi>
    <mi>j</mi>
   </msub>
   <mo>,</mo>
   <msub>
    <mi>τ</mi>
    <mi>j</mi>
   </msub>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <list>
    <apply>
     <csymbol cd="ambiguous">subscript</csymbol>
     <ci>𝐱</ci>
     <ci>j</ci>
    </apply>
    <apply>
     <csymbol cd="ambiguous">subscript</csymbol>
     <ci>τ</ci>
     <ci>j</ci>
    </apply>
   </list>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \mathbf{x}_{j},\tau_{j}
  </annotation>
 </semantics>
</math>

. (The imaginary-time variables 

<math display="inline" id="Green's_function_(many-body_theory):18">
 <semantics>
  <msub>
   <mi>τ</mi>
   <mi>j</mi>
  </msub>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <csymbol cd="ambiguous">subscript</csymbol>
    <ci>τ</ci>
    <ci>j</ci>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \tau_{j}
  </annotation>
 </semantics>
</math>

 are restricted to the range from 

<math display="inline" id="Green's_function_(many-body_theory):19">
 <semantics>
  <mn>0</mn>
  <annotation-xml encoding="MathML-Content">
   <cn type="integer">0</cn>
  </annotation-xml>
 </semantics>
</math>

 to the inverse temperature 

<math display="inline" id="Green's_function_(many-body_theory):20">
 <semantics>
  <mrow>
   <mi>β</mi>
   <mo>=</mo>
   <mfrac>
    <mn>1</mn>
    <mrow>
     <msub>
      <mi>k</mi>
      <mi>B</mi>
     </msub>
     <mi>T</mi>
    </mrow>
   </mfrac>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <ci>β</ci>
    <apply>
     <divide></divide>
     <cn type="integer">1</cn>
     <apply>
      <times></times>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>k</ci>
       <ci>B</ci>
      </apply>
      <ci>T</ci>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \beta=\frac{1}{k_{B}T}
  </annotation>
 </semantics>
</math>

.)</p>

<p><strong>Note</strong> regarding signs and normalization used in these definitions: The signs of the Green functions have been chosen so that <a href="Fourier_transform" title="wikilink">Fourier transform</a> of the two-point (

<math display="inline" id="Green's_function_(many-body_theory):21">
 <semantics>
  <mrow>
   <mi>n</mi>
   <mo>=</mo>
   <mn>1</mn>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <ci>n</ci>
    <cn type="integer">1</cn>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   n=1
  </annotation>
 </semantics>
</math>

) thermal Green function for a free particle is</p>

<p>

<math display="block" id="Green's_function_(many-body_theory):22">
 <semantics>
  <mrow>
   <mrow>
    <mrow>
     <mi class="ltx_font_mathcaligraphic">𝒢</mi>
     <mrow>
      <mo stretchy="false">(</mo>
      <mi>𝐤</mi>
      <mo>,</mo>
      <msub>
       <mi>ω</mi>
       <mi>n</mi>
      </msub>
      <mo stretchy="false">)</mo>
     </mrow>
    </mrow>
    <mo>=</mo>
    <mfrac>
     <mn>1</mn>
     <mrow>
      <mrow>
       <mo>-</mo>
       <mrow>
        <mi mathvariant="normal">i</mi>
        <msub>
         <mi>ω</mi>
         <mi>n</mi>
        </msub>
       </mrow>
      </mrow>
      <mo>+</mo>
      <msub>
       <mi>ξ</mi>
       <mi>𝐤</mi>
      </msub>
     </mrow>
    </mfrac>
   </mrow>
   <mo>,</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <times></times>
     <ci>𝒢</ci>
     <interval closure="open">
      <ci>𝐤</ci>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>ω</ci>
       <ci>n</ci>
      </apply>
     </interval>
    </apply>
    <apply>
     <divide></divide>
     <cn type="integer">1</cn>
     <apply>
      <plus></plus>
      <apply>
       <minus></minus>
       <apply>
        <times></times>
        <ci>normal-i</ci>
        <apply>
         <csymbol cd="ambiguous">subscript</csymbol>
         <ci>ω</ci>
         <ci>n</ci>
        </apply>
       </apply>
      </apply>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>ξ</ci>
       <ci>𝐤</ci>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \mathcal{G}(\mathbf{k},\omega_{n})=\frac{1}{-\mathrm{i}\omega_{n}+\xi_{\mathbf%
{k}}},
  </annotation>
 </semantics>
</math>

 and the retarded Green function is</p>

<p>

<math display="block" id="Green's_function_(many-body_theory):23">
 <semantics>
  <mrow>
   <mrow>
    <mrow>
     <msup>
      <mi>G</mi>
      <mi mathvariant="normal">R</mi>
     </msup>
     <mrow>
      <mo stretchy="false">(</mo>
      <mi>𝐤</mi>
      <mo>,</mo>
      <mi>ω</mi>
      <mo stretchy="false">)</mo>
     </mrow>
    </mrow>
    <mo>=</mo>
    <mfrac>
     <mn>1</mn>
     <mrow>
      <mrow>
       <mo>-</mo>
       <mrow>
        <mo stretchy="false">(</mo>
        <mrow>
         <mi>ω</mi>
         <mo>+</mo>
         <mrow>
          <mi mathvariant="normal">i</mi>
          <mi>η</mi>
         </mrow>
        </mrow>
        <mo stretchy="false">)</mo>
       </mrow>
      </mrow>
      <mo>+</mo>
      <msub>
       <mi>ξ</mi>
       <mi>𝐤</mi>
      </msub>
     </mrow>
    </mfrac>
   </mrow>
   <mo>,</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <times></times>
     <apply>
      <csymbol cd="ambiguous">superscript</csymbol>
      <ci>G</ci>
      <ci>normal-R</ci>
     </apply>
     <interval closure="open">
      <ci>𝐤</ci>
      <ci>ω</ci>
     </interval>
    </apply>
    <apply>
     <divide></divide>
     <cn type="integer">1</cn>
     <apply>
      <plus></plus>
      <apply>
       <minus></minus>
       <apply>
        <plus></plus>
        <ci>ω</ci>
        <apply>
         <times></times>
         <ci>normal-i</ci>
         <ci>η</ci>
        </apply>
       </apply>
      </apply>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>ξ</ci>
       <ci>𝐤</ci>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   G^{\mathrm{R}}(\mathbf{k},\omega)=\frac{1}{-(\omega+\mathrm{i}\eta)+\xi_{%
\mathbf{k}}},
  </annotation>
 </semantics>
</math>

 where</p>

<p>

<math display="block" id="Green's_function_(many-body_theory):24">
 <semantics>
  <mrow>
   <msub>
    <mi>ω</mi>
    <mi>n</mi>
   </msub>
   <mo>=</mo>
   <mrow>
    <mrow>
     <mrow>
      <mo stretchy="false">[</mo>
      <mrow>
       <mrow>
        <mn>2</mn>
        <mi>n</mi>
       </mrow>
       <mo>+</mo>
       <mrow>
        <mi>θ</mi>
        <mrow>
         <mo stretchy="false">(</mo>
         <mrow>
          <mo>-</mo>
          <mi>ζ</mi>
         </mrow>
         <mo stretchy="false">)</mo>
        </mrow>
       </mrow>
      </mrow>
      <mo stretchy="false">]</mo>
     </mrow>
     <mi>π</mi>
    </mrow>
    <mo>/</mo>
    <mi>β</mi>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <csymbol cd="ambiguous">subscript</csymbol>
     <ci>ω</ci>
     <ci>n</ci>
    </apply>
    <apply>
     <divide></divide>
     <apply>
      <times></times>
      <apply>
       <csymbol cd="latexml">delimited-[]</csymbol>
       <apply>
        <plus></plus>
        <apply>
         <times></times>
         <cn type="integer">2</cn>
         <ci>n</ci>
        </apply>
        <apply>
         <times></times>
         <ci>θ</ci>
         <apply>
          <minus></minus>
          <ci>ζ</ci>
         </apply>
        </apply>
       </apply>
      </apply>
      <ci>π</ci>
     </apply>
     <ci>β</ci>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \omega_{n}={[2n+\theta(-\zeta)]\pi}/{\beta}
  </annotation>
 </semantics>
</math>

 is the <a href="Matsubara_frequency" title="wikilink">Matsubara frequency</a>.</p>

<p>Throughout, 

<math display="inline" id="Green's_function_(many-body_theory):25">
 <semantics>
  <mi>ζ</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>ζ</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \zeta
  </annotation>
 </semantics>
</math>

 is 

<math display="inline" id="Green's_function_(many-body_theory):26">
 <semantics>
  <mrow>
   <mo>+</mo>
   <mn>1</mn>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <plus></plus>
    <cn type="integer">1</cn>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   +1
  </annotation>
 </semantics>
</math>

 for <a href="boson" title="wikilink">bosons</a> and 

<math display="inline" id="Green's_function_(many-body_theory):27">
 <semantics>
  <mrow>
   <mo>-</mo>
   <mn>1</mn>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <minus></minus>
    <cn type="integer">1</cn>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   -1
  </annotation>
 </semantics>
</math>

 for <a href="fermion" title="wikilink">fermions</a> and 

<math display="inline" id="Green's_function_(many-body_theory):28">
 <semantics>
  <mrow>
   <mrow>
    <mo stretchy="false">[</mo>
    <mi mathvariant="normal">…</mi>
    <mo>,</mo>
    <mi mathvariant="normal">…</mi>
    <mo stretchy="false">]</mo>
   </mrow>
   <mo>=</mo>
   <msub>
    <mrow>
     <mo stretchy="false">[</mo>
     <mi mathvariant="normal">…</mi>
     <mo>,</mo>
     <mi mathvariant="normal">…</mi>
     <mo stretchy="false">]</mo>
    </mrow>
    <mrow>
     <mo>-</mo>
     <mi>ζ</mi>
    </mrow>
   </msub>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <interval closure="closed">
     <ci>normal-…</ci>
     <ci>normal-…</ci>
    </interval>
    <apply>
     <csymbol cd="ambiguous">subscript</csymbol>
     <interval closure="closed">
      <ci>normal-…</ci>
      <ci>normal-…</ci>
     </interval>
     <apply>
      <minus></minus>
      <ci>ζ</ci>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   [\ldots,\ldots]=[\ldots,\ldots]_{-\zeta}
  </annotation>
 </semantics>
</math>

 denotes either a <a class="uri" href="commutator" title="wikilink">commutator</a> or anticommutator as appropriate.</p>

<p>(See <a href="Green's_function_(many-body_theory)#Non-interacting_case" title="wikilink">below</a> for details.)</p>
<h3 id="two-point-functions">Two-point functions</h3>

<p>The Green function with a single pair of arguments (

<math display="inline" id="Green's_function_(many-body_theory):29">
 <semantics>
  <mrow>
   <mi>n</mi>
   <mo>=</mo>
   <mn>1</mn>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <ci>n</ci>
    <cn type="integer">1</cn>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   n=1
  </annotation>
 </semantics>
</math>

) is referred to as the two-point function, or propagator. In the presence of both spatial and temporal translational symmetry, it depends only on the difference of its arguments. Taking the Fourier transform with respect to both space and time gives</p>

<p>

<math display="block" id="Green's_function_(many-body_theory):30">
 <semantics>
  <mrow>
   <mi class="ltx_font_mathcaligraphic">𝒢</mi>
   <mrow>
    <mo stretchy="false">(</mo>
    <mi>𝐱</mi>
    <mi>τ</mi>
    <mo stretchy="false">|</mo>
    <msup>
     <mi>𝐱</mi>
     <mo>′</mo>
    </msup>
    <msup>
     <mi>τ</mi>
     <mo>′</mo>
    </msup>
    <mo stretchy="false">)</mo>
   </mrow>
   <mo>=</mo>
   <msub>
    <mo largeop="true" symmetric="true">∫</mo>
    <mi>𝐤</mi>
   </msub>
   <mi>d</mi>
   <mi>𝐤</mi>
   <mfrac>
    <mn>1</mn>
    <mi>β</mi>
   </mfrac>
   <munder>
    <mo largeop="true" movablelimits="false" symmetric="true">∑</mo>
    <msub>
     <mi>ω</mi>
     <mi>n</mi>
    </msub>
   </munder>
   <mi class="ltx_font_mathcaligraphic">𝒢</mi>
   <mrow>
    <mo stretchy="false">(</mo>
    <mi>𝐤</mi>
    <mo>,</mo>
    <msub>
     <mi>ω</mi>
     <mi>n</mi>
    </msub>
    <mo stretchy="false">)</mo>
   </mrow>
   <msup>
    <mi mathvariant="normal">e</mi>
    <mrow>
     <mrow>
      <mrow>
       <mi mathvariant="normal">i</mi>
       <mi>𝐤</mi>
      </mrow>
      <mo>⋅</mo>
      <mrow>
       <mo stretchy="false">(</mo>
       <mrow>
        <mi>𝐱</mi>
        <mo>-</mo>
        <msup>
         <mi>𝐱</mi>
         <mo>′</mo>
        </msup>
       </mrow>
       <mo stretchy="false">)</mo>
      </mrow>
     </mrow>
     <mo>-</mo>
     <mrow>
      <mi mathvariant="normal">i</mi>
      <msub>
       <mi>ω</mi>
       <mi>n</mi>
      </msub>
      <mrow>
       <mo stretchy="false">(</mo>
       <mrow>
        <mi>τ</mi>
        <mo>-</mo>
        <msup>
         <mi>τ</mi>
         <mo>′</mo>
        </msup>
       </mrow>
       <mo stretchy="false">)</mo>
      </mrow>
     </mrow>
    </mrow>
   </msup>
   <mo>,</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <cerror>
    <csymbol cd="ambiguous">fragments</csymbol>
    <csymbol cd="unknown">G</csymbol>
    <cerror>
     <csymbol cd="ambiguous">fragments</csymbol>
     <ci>normal-(</ci>
     <csymbol cd="unknown">x</csymbol>
     <csymbol cd="unknown">τ</csymbol>
     <ci>normal-|</ci>
     <apply>
      <csymbol cd="ambiguous">superscript</csymbol>
      <ci>𝐱</ci>
      <ci>normal-′</ci>
     </apply>
     <apply>
      <csymbol cd="ambiguous">superscript</csymbol>
      <ci>τ</ci>
      <ci>normal-′</ci>
     </apply>
     <ci>normal-)</ci>
    </cerror>
    <eq></eq>
    <apply>
     <csymbol cd="ambiguous">subscript</csymbol>
     <int></int>
     <ci>𝐤</ci>
    </apply>
    <csymbol cd="unknown">d</csymbol>
    <csymbol cd="unknown">k</csymbol>
    <apply>
     <divide></divide>
     <cn type="integer">1</cn>
     <ci>β</ci>
    </apply>
    <apply>
     <csymbol cd="ambiguous">subscript</csymbol>
     <sum></sum>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <ci>ω</ci>
      <ci>n</ci>
     </apply>
    </apply>
    <csymbol cd="unknown">G</csymbol>
    <cerror>
     <csymbol cd="ambiguous">fragments</csymbol>
     <ci>normal-(</ci>
     <csymbol cd="unknown">k</csymbol>
     <ci>normal-,</ci>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <ci>ω</ci>
      <ci>n</ci>
     </apply>
     <ci>normal-)</ci>
    </cerror>
    <apply>
     <csymbol cd="ambiguous">superscript</csymbol>
     <ci>normal-e</ci>
     <apply>
      <minus></minus>
      <apply>
       <ci>normal-⋅</ci>
       <apply>
        <times></times>
        <ci>normal-i</ci>
        <ci>𝐤</ci>
       </apply>
       <apply>
        <minus></minus>
        <ci>𝐱</ci>
        <apply>
         <csymbol cd="ambiguous">superscript</csymbol>
         <ci>𝐱</ci>
         <ci>normal-′</ci>
        </apply>
       </apply>
      </apply>
      <apply>
       <times></times>
       <ci>normal-i</ci>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>ω</ci>
        <ci>n</ci>
       </apply>
       <apply>
        <minus></minus>
        <ci>τ</ci>
        <apply>
         <csymbol cd="ambiguous">superscript</csymbol>
         <ci>τ</ci>
         <ci>normal-′</ci>
        </apply>
       </apply>
      </apply>
     </apply>
    </apply>
    <ci>normal-,</ci>
   </cerror>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \mathcal{G}(\mathbf{x}\tau|\mathbf{x}^{\prime}\tau^{\prime})=\int_{\mathbf{k}}%
d\mathbf{k}\frac{1}{\beta}\sum_{\omega_{n}}\mathcal{G}(\mathbf{k},\omega_{n})%
\mathrm{e}^{\mathrm{i}\mathbf{k}\cdot(\mathbf{x}-\mathbf{x}^{\prime})-\mathrm{%
i}\omega_{n}(\tau-\tau^{\prime})},
  </annotation>
 </semantics>
</math>

 where the sum is over the appropriate <a href="Matsubara_frequency" title="wikilink">Matsubara frequencies</a> (and the integral involves an implicit factor of 

<math display="inline" id="Green's_function_(many-body_theory):31">
 <semantics>
  <msup>
   <mrow>
    <mo stretchy="false">(</mo>
    <mrow>
     <mrow>
      <mi>L</mi>
      <mo>/</mo>
      <mn>2</mn>
     </mrow>
     <mi>π</mi>
    </mrow>
    <mo stretchy="false">)</mo>
   </mrow>
   <mi>d</mi>
  </msup>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <csymbol cd="ambiguous">superscript</csymbol>
    <apply>
     <times></times>
     <apply>
      <divide></divide>
      <ci>L</ci>
      <cn type="integer">2</cn>
     </apply>
     <ci>π</ci>
    </apply>
    <ci>d</ci>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   (L/2\pi)^{d}
  </annotation>
 </semantics>
</math>

, as usual).</p>

<p>In real time, we will explicitly indicate the time-ordered function with a superscript T:</p>

<p>

<math display="block" id="Green's_function_(many-body_theory):32">
 <semantics>
  <mrow>
   <msup>
    <mi>G</mi>
    <mi mathvariant="normal">T</mi>
   </msup>
   <mrow>
    <mo stretchy="false">(</mo>
    <mi>𝐱</mi>
    <mi>t</mi>
    <mo stretchy="false">|</mo>
    <msup>
     <mi>𝐱</mi>
     <mo>′</mo>
    </msup>
    <msup>
     <mi>t</mi>
     <mo>′</mo>
    </msup>
    <mo stretchy="false">)</mo>
   </mrow>
   <mo>=</mo>
   <msub>
    <mo largeop="true" symmetric="true">∫</mo>
    <mi>𝐤</mi>
   </msub>
   <mi>d</mi>
   <mi>𝐤</mi>
   <mo largeop="true" symmetric="true">∫</mo>
   <mfrac>
    <mrow>
     <mi mathvariant="normal">d</mi>
     <mi>ω</mi>
    </mrow>
    <mrow>
     <mn>2</mn>
     <mi>π</mi>
    </mrow>
   </mfrac>
   <msup>
    <mi>G</mi>
    <mi mathvariant="normal">T</mi>
   </msup>
   <mrow>
    <mo stretchy="false">(</mo>
    <mi>𝐤</mi>
    <mo>,</mo>
    <mi>ω</mi>
    <mo stretchy="false">)</mo>
   </mrow>
   <msup>
    <mi mathvariant="normal">e</mi>
    <mrow>
     <mrow>
      <mrow>
       <mi mathvariant="normal">i</mi>
       <mi>𝐤</mi>
      </mrow>
      <mo>⋅</mo>
      <mrow>
       <mo stretchy="false">(</mo>
       <mrow>
        <mi>𝐱</mi>
        <mo>-</mo>
        <msup>
         <mi>𝐱</mi>
         <mo>′</mo>
        </msup>
       </mrow>
       <mo stretchy="false">)</mo>
      </mrow>
     </mrow>
     <mo>-</mo>
     <mrow>
      <mi mathvariant="normal">i</mi>
      <mi>ω</mi>
      <mrow>
       <mo stretchy="false">(</mo>
       <mrow>
        <mi>t</mi>
        <mo>-</mo>
        <msup>
         <mi>t</mi>
         <mo>′</mo>
        </msup>
       </mrow>
       <mo stretchy="false">)</mo>
      </mrow>
     </mrow>
    </mrow>
   </msup>
   <mo>.</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <cerror>
    <csymbol cd="ambiguous">fragments</csymbol>
    <apply>
     <csymbol cd="ambiguous">superscript</csymbol>
     <ci>G</ci>
     <ci>normal-T</ci>
    </apply>
    <cerror>
     <csymbol cd="ambiguous">fragments</csymbol>
     <ci>normal-(</ci>
     <csymbol cd="unknown">x</csymbol>
     <csymbol cd="unknown">t</csymbol>
     <ci>normal-|</ci>
     <apply>
      <csymbol cd="ambiguous">superscript</csymbol>
      <ci>𝐱</ci>
      <ci>normal-′</ci>
     </apply>
     <apply>
      <csymbol cd="ambiguous">superscript</csymbol>
      <ci>t</ci>
      <ci>normal-′</ci>
     </apply>
     <ci>normal-)</ci>
    </cerror>
    <eq></eq>
    <apply>
     <csymbol cd="ambiguous">subscript</csymbol>
     <int></int>
     <ci>𝐤</ci>
    </apply>
    <csymbol cd="unknown">d</csymbol>
    <csymbol cd="unknown">k</csymbol>
    <int></int>
    <apply>
     <divide></divide>
     <apply>
      <times></times>
      <ci>normal-d</ci>
      <ci>ω</ci>
     </apply>
     <apply>
      <times></times>
      <cn type="integer">2</cn>
      <ci>π</ci>
     </apply>
    </apply>
    <apply>
     <csymbol cd="ambiguous">superscript</csymbol>
     <ci>G</ci>
     <ci>normal-T</ci>
    </apply>
    <cerror>
     <csymbol cd="ambiguous">fragments</csymbol>
     <ci>normal-(</ci>
     <csymbol cd="unknown">k</csymbol>
     <ci>normal-,</ci>
     <csymbol cd="unknown">ω</csymbol>
     <ci>normal-)</ci>
    </cerror>
    <apply>
     <csymbol cd="ambiguous">superscript</csymbol>
     <ci>normal-e</ci>
     <apply>
      <minus></minus>
      <apply>
       <ci>normal-⋅</ci>
       <apply>
        <times></times>
        <ci>normal-i</ci>
        <ci>𝐤</ci>
       </apply>
       <apply>
        <minus></minus>
        <ci>𝐱</ci>
        <apply>
         <csymbol cd="ambiguous">superscript</csymbol>
         <ci>𝐱</ci>
         <ci>normal-′</ci>
        </apply>
       </apply>
      </apply>
      <apply>
       <times></times>
       <ci>normal-i</ci>
       <ci>ω</ci>
       <apply>
        <minus></minus>
        <ci>t</ci>
        <apply>
         <csymbol cd="ambiguous">superscript</csymbol>
         <ci>t</ci>
         <ci>normal-′</ci>
        </apply>
       </apply>
      </apply>
     </apply>
    </apply>
    <ci>normal-.</ci>
   </cerror>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   G^{\mathrm{T}}(\mathbf{x}t|\mathbf{x}^{\prime}t^{\prime})=\int_{\mathbf{k}}d%
\mathbf{k}\int\frac{\mathrm{d}\omega}{2\pi}G^{\mathrm{T}}(\mathbf{k},\omega)%
\mathrm{e}^{\mathrm{i}\mathbf{k}\cdot(\mathbf{x}-\mathbf{x}^{\prime})-\mathrm{%
i}\omega(t-t^{\prime})}.
  </annotation>
 </semantics>
</math>

</p>

<p>The real-time two-point Green function can be written in terms of 'retarded' and 'advanced' Green functions, which will turn out to have simpler analyticity properties. The retarded and advanced Green functions are defined by</p>

<p>

<math display="block" id="Green's_function_(many-body_theory):33">
 <semantics>
  <mrow>
   <msup>
    <mi>G</mi>
    <mi mathvariant="normal">R</mi>
   </msup>
   <mrow>
    <mo stretchy="false">(</mo>
    <mi>𝐱</mi>
    <mi>t</mi>
    <mo stretchy="false">|</mo>
    <msup>
     <mi>𝐱</mi>
     <mo>′</mo>
    </msup>
    <msup>
     <mi>t</mi>
     <mo>′</mo>
    </msup>
    <mo stretchy="false">)</mo>
   </mrow>
   <mo>=</mo>
   <mo>-</mo>
   <mi mathvariant="normal">i</mi>
   <mrow>
    <mo stretchy="false">⟨</mo>
    <mrow>
     <mo stretchy="false">[</mo>
     <mi>ψ</mi>
     <mrow>
      <mo stretchy="false">(</mo>
      <mi>𝐱</mi>
      <mo>,</mo>
      <mi>t</mi>
      <mo stretchy="false">)</mo>
     </mrow>
     <mo>,</mo>
     <mover accent="true">
      <mi>ψ</mi>
      <mo stretchy="false">¯</mo>
     </mover>
     <mrow>
      <mo stretchy="false">(</mo>
      <msup>
       <mi>𝐱</mi>
       <mo>′</mo>
      </msup>
      <mo>,</mo>
      <msup>
       <mi>t</mi>
       <mo>′</mo>
      </msup>
      <mo stretchy="false">)</mo>
     </mrow>
     <mo stretchy="false">]</mo>
    </mrow>
    <mo stretchy="false">⟩</mo>
   </mrow>
   <mi mathvariant="normal">Θ</mi>
   <mrow>
    <mo stretchy="false">(</mo>
    <mi>t</mi>
    <mo>-</mo>
    <msup>
     <mi>t</mi>
     <mo>′</mo>
    </msup>
    <mo stretchy="false">)</mo>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <cerror>
    <csymbol cd="ambiguous">fragments</csymbol>
    <apply>
     <csymbol cd="ambiguous">superscript</csymbol>
     <ci>G</ci>
     <ci>normal-R</ci>
    </apply>
    <cerror>
     <csymbol cd="ambiguous">fragments</csymbol>
     <ci>normal-(</ci>
     <csymbol cd="unknown">x</csymbol>
     <csymbol cd="unknown">t</csymbol>
     <ci>normal-|</ci>
     <apply>
      <csymbol cd="ambiguous">superscript</csymbol>
      <ci>𝐱</ci>
      <ci>normal-′</ci>
     </apply>
     <apply>
      <csymbol cd="ambiguous">superscript</csymbol>
      <ci>t</ci>
      <ci>normal-′</ci>
     </apply>
     <ci>normal-)</ci>
    </cerror>
    <eq></eq>
    <minus></minus>
    <csymbol cd="unknown">i</csymbol>
    <cerror>
     <csymbol cd="ambiguous">fragments</csymbol>
     <ci>normal-⟨</ci>
     <cerror>
      <csymbol cd="ambiguous">fragments</csymbol>
      <ci>normal-[</ci>
      <csymbol cd="unknown">ψ</csymbol>
      <cerror>
       <csymbol cd="ambiguous">fragments</csymbol>
       <ci>normal-(</ci>
       <csymbol cd="unknown">x</csymbol>
       <ci>normal-,</ci>
       <csymbol cd="unknown">t</csymbol>
       <ci>normal-)</ci>
      </cerror>
      <ci>normal-,</ci>
      <apply>
       <ci>normal-¯</ci>
       <ci>ψ</ci>
      </apply>
      <cerror>
       <csymbol cd="ambiguous">fragments</csymbol>
       <ci>normal-(</ci>
       <apply>
        <csymbol cd="ambiguous">superscript</csymbol>
        <ci>𝐱</ci>
        <ci>normal-′</ci>
       </apply>
       <ci>normal-,</ci>
       <apply>
        <csymbol cd="ambiguous">superscript</csymbol>
        <ci>t</ci>
        <ci>normal-′</ci>
       </apply>
       <ci>normal-)</ci>
      </cerror>
      <ci>normal-]</ci>
     </cerror>
     <ci>normal-⟩</ci>
    </cerror>
    <csymbol cd="unknown">Θ</csymbol>
    <cerror>
     <csymbol cd="ambiguous">fragments</csymbol>
     <ci>normal-(</ci>
     <csymbol cd="unknown">t</csymbol>
     <minus></minus>
     <apply>
      <csymbol cd="ambiguous">superscript</csymbol>
      <ci>t</ci>
      <ci>normal-′</ci>
     </apply>
     <ci>normal-)</ci>
    </cerror>
   </cerror>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   G^{\mathrm{R}}(\mathbf{x}t|\mathbf{x}^{\prime}t^{\prime})=-\mathrm{i}\langle[%
\psi(\mathbf{x},t),\bar{\psi}(\mathbf{x}^{\prime},t^{\prime})]\rangle\Theta(t-%
t^{\prime})
  </annotation>
 </semantics>
</math>

 and</p>

<p>

<math display="block" id="Green's_function_(many-body_theory):34">
 <semantics>
  <mrow>
   <msup>
    <mi>G</mi>
    <mi mathvariant="normal">A</mi>
   </msup>
   <mrow>
    <mo stretchy="false">(</mo>
    <mi>𝐱</mi>
    <mi>t</mi>
    <mo stretchy="false">|</mo>
    <msup>
     <mi>𝐱</mi>
     <mo>′</mo>
    </msup>
    <msup>
     <mi>t</mi>
     <mo>′</mo>
    </msup>
    <mo stretchy="false">)</mo>
   </mrow>
   <mo>=</mo>
   <mi mathvariant="normal">i</mi>
   <mrow>
    <mo stretchy="false">⟨</mo>
    <mrow>
     <mo stretchy="false">[</mo>
     <mi>ψ</mi>
     <mrow>
      <mo stretchy="false">(</mo>
      <mi>𝐱</mi>
      <mo>,</mo>
      <mi>t</mi>
      <mo stretchy="false">)</mo>
     </mrow>
     <mo>,</mo>
     <mover accent="true">
      <mi>ψ</mi>
      <mo stretchy="false">¯</mo>
     </mover>
     <mrow>
      <mo stretchy="false">(</mo>
      <msup>
       <mi>𝐱</mi>
       <mo>′</mo>
      </msup>
      <mo>,</mo>
      <msup>
       <mi>t</mi>
       <mo>′</mo>
      </msup>
      <mo stretchy="false">)</mo>
     </mrow>
     <mo stretchy="false">]</mo>
    </mrow>
    <mo stretchy="false">⟩</mo>
   </mrow>
   <mi mathvariant="normal">Θ</mi>
   <mrow>
    <mo stretchy="false">(</mo>
    <msup>
     <mi>t</mi>
     <mo>′</mo>
    </msup>
    <mo>-</mo>
    <mi>t</mi>
    <mo stretchy="false">)</mo>
   </mrow>
   <mo>,</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <cerror>
    <csymbol cd="ambiguous">fragments</csymbol>
    <apply>
     <csymbol cd="ambiguous">superscript</csymbol>
     <ci>G</ci>
     <ci>normal-A</ci>
    </apply>
    <cerror>
     <csymbol cd="ambiguous">fragments</csymbol>
     <ci>normal-(</ci>
     <csymbol cd="unknown">x</csymbol>
     <csymbol cd="unknown">t</csymbol>
     <ci>normal-|</ci>
     <apply>
      <csymbol cd="ambiguous">superscript</csymbol>
      <ci>𝐱</ci>
      <ci>normal-′</ci>
     </apply>
     <apply>
      <csymbol cd="ambiguous">superscript</csymbol>
      <ci>t</ci>
      <ci>normal-′</ci>
     </apply>
     <ci>normal-)</ci>
    </cerror>
    <eq></eq>
    <csymbol cd="unknown">i</csymbol>
    <cerror>
     <csymbol cd="ambiguous">fragments</csymbol>
     <ci>normal-⟨</ci>
     <cerror>
      <csymbol cd="ambiguous">fragments</csymbol>
      <ci>normal-[</ci>
      <csymbol cd="unknown">ψ</csymbol>
      <cerror>
       <csymbol cd="ambiguous">fragments</csymbol>
       <ci>normal-(</ci>
       <csymbol cd="unknown">x</csymbol>
       <ci>normal-,</ci>
       <csymbol cd="unknown">t</csymbol>
       <ci>normal-)</ci>
      </cerror>
      <ci>normal-,</ci>
      <apply>
       <ci>normal-¯</ci>
       <ci>ψ</ci>
      </apply>
      <cerror>
       <csymbol cd="ambiguous">fragments</csymbol>
       <ci>normal-(</ci>
       <apply>
        <csymbol cd="ambiguous">superscript</csymbol>
        <ci>𝐱</ci>
        <ci>normal-′</ci>
       </apply>
       <ci>normal-,</ci>
       <apply>
        <csymbol cd="ambiguous">superscript</csymbol>
        <ci>t</ci>
        <ci>normal-′</ci>
       </apply>
       <ci>normal-)</ci>
      </cerror>
      <ci>normal-]</ci>
     </cerror>
     <ci>normal-⟩</ci>
    </cerror>
    <csymbol cd="unknown">Θ</csymbol>
    <cerror>
     <csymbol cd="ambiguous">fragments</csymbol>
     <ci>normal-(</ci>
     <apply>
      <csymbol cd="ambiguous">superscript</csymbol>
      <ci>t</ci>
      <ci>normal-′</ci>
     </apply>
     <minus></minus>
     <csymbol cd="unknown">t</csymbol>
     <ci>normal-)</ci>
    </cerror>
    <ci>normal-,</ci>
   </cerror>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   G^{\mathrm{A}}(\mathbf{x}t|\mathbf{x}^{\prime}t^{\prime})=\mathrm{i}\langle[%
\psi(\mathbf{x},t),\bar{\psi}(\mathbf{x}^{\prime},t^{\prime})]\rangle\Theta(t^%
{\prime}-t),
  </annotation>
 </semantics>
</math>

 respectively.</p>

<p>They are related to the time-ordered Green function by</p>

<p>

<math display="block" id="Green's_function_(many-body_theory):35">
 <semantics>
  <mrow>
   <mrow>
    <mrow>
     <msup>
      <mi>G</mi>
      <mi mathvariant="normal">T</mi>
     </msup>
     <mrow>
      <mo stretchy="false">(</mo>
      <mi>𝐤</mi>
      <mo>,</mo>
      <mi>ω</mi>
      <mo stretchy="false">)</mo>
     </mrow>
    </mrow>
    <mo>=</mo>
    <mrow>
     <mrow>
      <mrow>
       <mo stretchy="false">[</mo>
       <mrow>
        <mn>1</mn>
        <mo>+</mo>
        <mrow>
         <mi>ζ</mi>
         <mi>n</mi>
         <mrow>
          <mo stretchy="false">(</mo>
          <mi>ω</mi>
          <mo stretchy="false">)</mo>
         </mrow>
        </mrow>
       </mrow>
       <mo stretchy="false">]</mo>
      </mrow>
      <msup>
       <mi>G</mi>
       <mi mathvariant="normal">R</mi>
      </msup>
      <mrow>
       <mo stretchy="false">(</mo>
       <mi>𝐤</mi>
       <mo>,</mo>
       <mi>ω</mi>
       <mo stretchy="false">)</mo>
      </mrow>
     </mrow>
     <mo>-</mo>
     <mrow>
      <mi>ζ</mi>
      <mi>n</mi>
      <mrow>
       <mo stretchy="false">(</mo>
       <mi>ω</mi>
       <mo stretchy="false">)</mo>
      </mrow>
      <msup>
       <mi>G</mi>
       <mi mathvariant="normal">A</mi>
      </msup>
      <mrow>
       <mo stretchy="false">(</mo>
       <mi>𝐤</mi>
       <mo>,</mo>
       <mi>ω</mi>
       <mo stretchy="false">)</mo>
      </mrow>
     </mrow>
    </mrow>
   </mrow>
   <mo>,</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <times></times>
     <apply>
      <csymbol cd="ambiguous">superscript</csymbol>
      <ci>G</ci>
      <ci>normal-T</ci>
     </apply>
     <interval closure="open">
      <ci>𝐤</ci>
      <ci>ω</ci>
     </interval>
    </apply>
    <apply>
     <minus></minus>
     <apply>
      <times></times>
      <apply>
       <csymbol cd="latexml">delimited-[]</csymbol>
       <apply>
        <plus></plus>
        <cn type="integer">1</cn>
        <apply>
         <times></times>
         <ci>ζ</ci>
         <ci>n</ci>
         <ci>ω</ci>
        </apply>
       </apply>
      </apply>
      <apply>
       <csymbol cd="ambiguous">superscript</csymbol>
       <ci>G</ci>
       <ci>normal-R</ci>
      </apply>
      <interval closure="open">
       <ci>𝐤</ci>
       <ci>ω</ci>
      </interval>
     </apply>
     <apply>
      <times></times>
      <ci>ζ</ci>
      <ci>n</ci>
      <ci>ω</ci>
      <apply>
       <csymbol cd="ambiguous">superscript</csymbol>
       <ci>G</ci>
       <ci>normal-A</ci>
      </apply>
      <interval closure="open">
       <ci>𝐤</ci>
       <ci>ω</ci>
      </interval>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   G^{\mathrm{T}}(\mathbf{k},\omega)=[1+\zeta n(\omega)]G^{\mathrm{R}}(\mathbf{k}%
,\omega)-\zeta n(\omega)G^{\mathrm{A}}(\mathbf{k},\omega),
  </annotation>
 </semantics>
</math>

 where</p>

<p>

<math display="block" id="Green's_function_(many-body_theory):36">
 <semantics>
  <mrow>
   <mrow>
    <mi>n</mi>
    <mrow>
     <mo stretchy="false">(</mo>
     <mi>ω</mi>
     <mo stretchy="false">)</mo>
    </mrow>
   </mrow>
   <mo>=</mo>
   <mfrac>
    <mn>1</mn>
    <mrow>
     <msup>
      <mi mathvariant="normal">e</mi>
      <mrow>
       <mi>β</mi>
       <mi>ω</mi>
      </mrow>
     </msup>
     <mo>-</mo>
     <mi>ζ</mi>
    </mrow>
   </mfrac>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <times></times>
     <ci>n</ci>
     <ci>ω</ci>
    </apply>
    <apply>
     <divide></divide>
     <cn type="integer">1</cn>
     <apply>
      <minus></minus>
      <apply>
       <csymbol cd="ambiguous">superscript</csymbol>
       <ci>normal-e</ci>
       <apply>
        <times></times>
        <ci>β</ci>
        <ci>ω</ci>
       </apply>
      </apply>
      <ci>ζ</ci>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   n(\omega)=\frac{1}{\mathrm{e}^{\beta\omega}-\zeta}
  </annotation>
 </semantics>
</math>

 is the <a href="Bose–Einstein_statistics" title="wikilink">Bose–Einstein</a> or <a href="Fermi–Dirac_statistics" title="wikilink">Fermi–Dirac</a> distribution function.</p>
<h4 id="imaginary-time-ordering-and-beta-periodicity">Imaginary-time ordering and 

<math display="inline" id="Green's_function_(many-body_theory):37">
 <semantics>
  <mi>β</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>β</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \beta
  </annotation>
 </semantics>
</math>

-periodicity</h4>

<p>The thermal Green functions are defined only when both imaginary-time arguments are within the range 

<math display="inline" id="Green's_function_(many-body_theory):38">
 <semantics>
  <mn>0</mn>
  <annotation-xml encoding="MathML-Content">
   <cn type="integer">0</cn>
  </annotation-xml>
 </semantics>
</math>

 to 

<math display="inline" id="Green's_function_(many-body_theory):39">
 <semantics>
  <mi>β</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>β</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \beta
  </annotation>
 </semantics>
</math>

. The two-point Green function has the following properties. (The position or momentum arguments are suppressed in this section.)</p>

<p>Firstly, it depends only on the difference of the imaginary times:</p>

<p>

<math display="block" id="Green's_function_(many-body_theory):40">
 <semantics>
  <mrow>
   <mrow>
    <mrow>
     <mi class="ltx_font_mathcaligraphic">𝒢</mi>
     <mrow>
      <mo stretchy="false">(</mo>
      <mi>τ</mi>
      <mo>,</mo>
      <msup>
       <mi>τ</mi>
       <mo>′</mo>
      </msup>
      <mo stretchy="false">)</mo>
     </mrow>
    </mrow>
    <mo>=</mo>
    <mrow>
     <mi class="ltx_font_mathcaligraphic">𝒢</mi>
     <mrow>
      <mo stretchy="false">(</mo>
      <mrow>
       <mi>τ</mi>
       <mo>-</mo>
       <msup>
        <mi>τ</mi>
        <mo>′</mo>
       </msup>
      </mrow>
      <mo stretchy="false">)</mo>
     </mrow>
    </mrow>
   </mrow>
   <mo>.</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <times></times>
     <ci>𝒢</ci>
     <interval closure="open">
      <ci>τ</ci>
      <apply>
       <csymbol cd="ambiguous">superscript</csymbol>
       <ci>τ</ci>
       <ci>normal-′</ci>
      </apply>
     </interval>
    </apply>
    <apply>
     <times></times>
     <ci>𝒢</ci>
     <apply>
      <minus></minus>
      <ci>τ</ci>
      <apply>
       <csymbol cd="ambiguous">superscript</csymbol>
       <ci>τ</ci>
       <ci>normal-′</ci>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \mathcal{G}(\tau,\tau^{\prime})=\mathcal{G}(\tau-\tau^{\prime}).
  </annotation>
 </semantics>
</math>

 The argument 

<math display="inline" id="Green's_function_(many-body_theory):41">
 <semantics>
  <mrow>
   <mi>τ</mi>
   <mo>-</mo>
   <msup>
    <mi>τ</mi>
    <mo>′</mo>
   </msup>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <minus></minus>
    <ci>τ</ci>
    <apply>
     <csymbol cd="ambiguous">superscript</csymbol>
     <ci>τ</ci>
     <ci>normal-′</ci>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \tau-\tau^{\prime}
  </annotation>
 </semantics>
</math>

 is allowed to run from 

<math display="inline" id="Green's_function_(many-body_theory):42">
 <semantics>
  <mrow>
   <mo>-</mo>
   <mi>β</mi>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <minus></minus>
    <ci>β</ci>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   -\beta
  </annotation>
 </semantics>
</math>

 to 

<math display="inline" id="Green's_function_(many-body_theory):43">
 <semantics>
  <mi>β</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>β</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \beta
  </annotation>
 </semantics>
</math>

.</p>

<p>Secondly, 

<math display="inline" id="Green's_function_(many-body_theory):44">
 <semantics>
  <mrow>
   <mi class="ltx_font_mathcaligraphic">𝒢</mi>
   <mrow>
    <mo stretchy="false">(</mo>
    <mi>τ</mi>
    <mo stretchy="false">)</mo>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <times></times>
    <ci>𝒢</ci>
    <ci>τ</ci>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \mathcal{G}(\tau)
  </annotation>
 </semantics>
</math>

 is (anti)periodic under shifts of 

<math display="inline" id="Green's_function_(many-body_theory):45">
 <semantics>
  <mi>β</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>β</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \beta
  </annotation>
 </semantics>
</math>

. Because of the small domain within which the function is defined, this means just</p>

<p>

<math display="block" id="Green's_function_(many-body_theory):46">
 <semantics>
  <mrow>
   <mrow>
    <mrow>
     <mi class="ltx_font_mathcaligraphic">𝒢</mi>
     <mrow>
      <mo stretchy="false">(</mo>
      <mrow>
       <mi>τ</mi>
       <mo>-</mo>
       <mi>β</mi>
      </mrow>
      <mo stretchy="false">)</mo>
     </mrow>
    </mrow>
    <mo>=</mo>
    <mrow>
     <mi>ζ</mi>
     <mi class="ltx_font_mathcaligraphic">𝒢</mi>
     <mrow>
      <mo stretchy="false">(</mo>
      <mi>τ</mi>
      <mo stretchy="false">)</mo>
     </mrow>
    </mrow>
   </mrow>
   <mo>,</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <times></times>
     <ci>𝒢</ci>
     <apply>
      <minus></minus>
      <ci>τ</ci>
      <ci>β</ci>
     </apply>
    </apply>
    <apply>
     <times></times>
     <ci>ζ</ci>
     <ci>𝒢</ci>
     <ci>τ</ci>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \mathcal{G}(\tau-\beta)=\zeta\mathcal{G}(\tau),
  </annotation>
 </semantics>
</math>

 for 

<math display="inline" id="Green's_function_(many-body_theory):47">
 <semantics>
  <mrow>
   <mn>0</mn>
   <mo><</mo>
   <mi>τ</mi>
   <mo><</mo>
   <mi>β</mi>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <and></and>
    <apply>
     <lt></lt>
     <cn type="integer">0</cn>
     <ci>τ</ci>
    </apply>
    <apply>
     <lt></lt>
     <share href="#.cmml">
     </share>
     <ci>β</ci>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   0<\tau<\beta
  </annotation>
 </semantics>
</math>

. Time ordering is crucial for this property, which can be proved straightforwardly, using the cyclicity of the trace operation.</p>

<p>These two properties allow for the Fourier transform representation and its inverse,</p>

<p>

<math display="block" id="Green's_function_(many-body_theory):48">
 <semantics>
  <mrow>
   <mrow>
    <mrow>
     <mi class="ltx_font_mathcaligraphic">𝒢</mi>
     <mrow>
      <mo stretchy="false">(</mo>
      <msub>
       <mi>ω</mi>
       <mi>n</mi>
      </msub>
      <mo stretchy="false">)</mo>
     </mrow>
    </mrow>
    <mo>=</mo>
    <mrow>
     <msubsup>
      <mo largeop="true" symmetric="true">∫</mo>
      <mn>0</mn>
      <mi>β</mi>
     </msubsup>
     <mrow>
      <mi mathvariant="normal">d</mi>
      <mpadded width="+1.7pt">
       <mi>τ</mi>
      </mpadded>
      <mi class="ltx_font_mathcaligraphic">𝒢</mi>
      <mrow>
       <mo stretchy="false">(</mo>
       <mi>τ</mi>
       <mo rspace="4.2pt" stretchy="false">)</mo>
      </mrow>
      <msup>
       <mi mathvariant="normal">e</mi>
       <mrow>
        <mi mathvariant="normal">i</mi>
        <msub>
         <mi>ω</mi>
         <mi>n</mi>
        </msub>
        <mi>τ</mi>
       </mrow>
      </msup>
     </mrow>
    </mrow>
   </mrow>
   <mo>.</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <times></times>
     <ci>𝒢</ci>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <ci>ω</ci>
      <ci>n</ci>
     </apply>
    </apply>
    <apply>
     <apply>
      <csymbol cd="ambiguous">superscript</csymbol>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <int></int>
       <cn type="integer">0</cn>
      </apply>
      <ci>β</ci>
     </apply>
     <apply>
      <times></times>
      <ci>normal-d</ci>
      <ci>τ</ci>
      <ci>𝒢</ci>
      <ci>τ</ci>
      <apply>
       <csymbol cd="ambiguous">superscript</csymbol>
       <ci>normal-e</ci>
       <apply>
        <times></times>
        <ci>normal-i</ci>
        <apply>
         <csymbol cd="ambiguous">subscript</csymbol>
         <ci>ω</ci>
         <ci>n</ci>
        </apply>
        <ci>τ</ci>
       </apply>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \mathcal{G}(\omega_{n})=\int_{0}^{\beta}\mathrm{d}\tau\,\mathcal{G}(\tau)\,%
\mathrm{e}^{\mathrm{i}\omega_{n}\tau}.
  </annotation>
 </semantics>
</math>

</p>

<p>Finally, note that 

<math display="inline" id="Green's_function_(many-body_theory):49">
 <semantics>
  <mrow>
   <mi class="ltx_font_mathcaligraphic">𝒢</mi>
   <mrow>
    <mo stretchy="false">(</mo>
    <mi>τ</mi>
    <mo stretchy="false">)</mo>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <times></times>
    <ci>𝒢</ci>
    <ci>τ</ci>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \mathcal{G}(\tau)
  </annotation>
 </semantics>
</math>

 has a discontinuity at 

<math display="inline" id="Green's_function_(many-body_theory):50">
 <semantics>
  <mrow>
   <mi>τ</mi>
   <mo>=</mo>
   <mn>0</mn>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <ci>τ</ci>
    <cn type="integer">0</cn>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \tau=0
  </annotation>
 </semantics>
</math>

; this is consistent with a long-distance behaviour of 

<math display="inline" id="Green's_function_(many-body_theory):51">
 <semantics>
  <mrow>
   <mrow>
    <mi class="ltx_font_mathcaligraphic">𝒢</mi>
    <mrow>
     <mo stretchy="false">(</mo>
     <msub>
      <mi>ω</mi>
      <mi>n</mi>
     </msub>
     <mo stretchy="false">)</mo>
    </mrow>
   </mrow>
   <mo>∼</mo>
   <mrow>
    <mn>1</mn>
    <mo>/</mo>
    <mrow>
     <mo stretchy="false">|</mo>
     <msub>
      <mi>ω</mi>
      <mi>n</mi>
     </msub>
     <mo stretchy="false">|</mo>
    </mrow>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <csymbol cd="latexml">similar-to</csymbol>
    <apply>
     <times></times>
     <ci>𝒢</ci>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <ci>ω</ci>
      <ci>n</ci>
     </apply>
    </apply>
    <apply>
     <divide></divide>
     <cn type="integer">1</cn>
     <apply>
      <abs></abs>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>ω</ci>
       <ci>n</ci>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \mathcal{G}(\omega_{n})\sim 1/|\omega_{n}|
  </annotation>
 </semantics>
</math>

.</p>
<h3 id="spectral-representation">Spectral representation</h3>

<p>The propagators in real and imaginary time can both be related to the spectral density (or spectral weight), given by</p>

<p>

<math display="block" id="Green's_function_(many-body_theory):52">
 <semantics>
  <mrow>
   <mrow>
    <mrow>
     <mi>ρ</mi>
     <mrow>
      <mo stretchy="false">(</mo>
      <mi>𝐤</mi>
      <mo>,</mo>
      <mi>ω</mi>
      <mo stretchy="false">)</mo>
     </mrow>
    </mrow>
    <mo>=</mo>
    <mrow>
     <mfrac>
      <mn>1</mn>
      <mi class="ltx_font_mathcaligraphic">𝒵</mi>
     </mfrac>
     <mrow>
      <munder>
       <mo largeop="true" movablelimits="false" symmetric="true">∑</mo>
       <mrow>
        <mi>α</mi>
        <mo>,</mo>
        <msup>
         <mi>α</mi>
         <mo>′</mo>
        </msup>
       </mrow>
      </munder>
      <mrow>
       <mn>2</mn>
       <mi>π</mi>
       <mi>δ</mi>
       <mrow>
        <mo stretchy="false">(</mo>
        <mrow>
         <msub>
          <mi>E</mi>
          <mi>α</mi>
         </msub>
         <mo>-</mo>
         <msub>
          <mi>E</mi>
          <msup>
           <mi>α</mi>
           <mo>′</mo>
          </msup>
         </msub>
         <mo>-</mo>
         <mi>ω</mi>
        </mrow>
        <mo rspace="5.3pt" stretchy="false">)</mo>
       </mrow>
       <msup>
        <mrow>
         <mo stretchy="false">|</mo>
         <mrow>
          <mo stretchy="false">⟨</mo>
          <mi>α</mi>
          <mo fence="true" stretchy="false">|</mo>
          <msubsup>
           <mi>ψ</mi>
           <mi>𝐤</mi>
           <mo>†</mo>
          </msubsup>
          <mo fence="true" stretchy="false">|</mo>
          <msup>
           <mi>α</mi>
           <mo>′</mo>
          </msup>
          <mo stretchy="false">⟩</mo>
         </mrow>
         <mo stretchy="false">|</mo>
        </mrow>
        <mn>2</mn>
       </msup>
       <mrow>
        <mo>(</mo>
        <mrow>
         <msup>
          <mi mathvariant="normal">e</mi>
          <mrow>
           <mo>-</mo>
           <mrow>
            <mi>β</mi>
            <msub>
             <mi>E</mi>
             <msup>
              <mi>α</mi>
              <mo>′</mo>
             </msup>
            </msub>
           </mrow>
          </mrow>
         </msup>
         <mo>-</mo>
         <mrow>
          <mi>ζ</mi>
          <msup>
           <mi mathvariant="normal">e</mi>
           <mrow>
            <mo>-</mo>
            <mrow>
             <mi>β</mi>
             <msub>
              <mi>E</mi>
              <mi>α</mi>
             </msub>
            </mrow>
           </mrow>
          </msup>
         </mrow>
        </mrow>
        <mo>)</mo>
       </mrow>
      </mrow>
     </mrow>
    </mrow>
   </mrow>
   <mo>,</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <times></times>
     <ci>ρ</ci>
     <interval closure="open">
      <ci>𝐤</ci>
      <ci>ω</ci>
     </interval>
    </apply>
    <apply>
     <times></times>
     <apply>
      <divide></divide>
      <cn type="integer">1</cn>
      <ci>𝒵</ci>
     </apply>
     <apply>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <sum></sum>
       <list>
        <ci>α</ci>
        <apply>
         <csymbol cd="ambiguous">superscript</csymbol>
         <ci>α</ci>
         <ci>normal-′</ci>
        </apply>
       </list>
      </apply>
      <apply>
       <times></times>
       <cn type="integer">2</cn>
       <ci>π</ci>
       <ci>δ</ci>
       <apply>
        <minus></minus>
        <apply>
         <csymbol cd="ambiguous">subscript</csymbol>
         <ci>E</ci>
         <ci>α</ci>
        </apply>
        <apply>
         <csymbol cd="ambiguous">subscript</csymbol>
         <ci>E</ci>
         <apply>
          <csymbol cd="ambiguous">superscript</csymbol>
          <ci>α</ci>
          <ci>normal-′</ci>
         </apply>
        </apply>
        <ci>ω</ci>
       </apply>
       <apply>
        <csymbol cd="ambiguous">superscript</csymbol>
        <apply>
         <abs></abs>
         <apply>
          <csymbol cd="latexml">quantum-operator-product</csymbol>
          <ci>α</ci>
          <apply>
           <csymbol cd="ambiguous">superscript</csymbol>
           <apply>
            <csymbol cd="ambiguous">subscript</csymbol>
            <ci>ψ</ci>
            <ci>𝐤</ci>
           </apply>
           <ci>normal-†</ci>
          </apply>
          <apply>
           <csymbol cd="ambiguous">superscript</csymbol>
           <ci>α</ci>
           <ci>normal-′</ci>
          </apply>
         </apply>
        </apply>
        <cn type="integer">2</cn>
       </apply>
       <apply>
        <minus></minus>
        <apply>
         <csymbol cd="ambiguous">superscript</csymbol>
         <ci>normal-e</ci>
         <apply>
          <minus></minus>
          <apply>
           <times></times>
           <ci>β</ci>
           <apply>
            <csymbol cd="ambiguous">subscript</csymbol>
            <ci>E</ci>
            <apply>
             <csymbol cd="ambiguous">superscript</csymbol>
             <ci>α</ci>
             <ci>normal-′</ci>
            </apply>
           </apply>
          </apply>
         </apply>
        </apply>
        <apply>
         <times></times>
         <ci>ζ</ci>
         <apply>
          <csymbol cd="ambiguous">superscript</csymbol>
          <ci>normal-e</ci>
          <apply>
           <minus></minus>
           <apply>
            <times></times>
            <ci>β</ci>
            <apply>
             <csymbol cd="ambiguous">subscript</csymbol>
             <ci>E</ci>
             <ci>α</ci>
            </apply>
           </apply>
          </apply>
         </apply>
        </apply>
       </apply>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \rho(\mathbf{k},\omega)=\frac{1}{\mathcal{Z}}\sum_{\alpha,\alpha^{\prime}}2\pi%
\delta(E_{\alpha}-E_{\alpha^{\prime}}-\omega)\;|\langle\alpha|\psi_{\mathbf{k}%
}^{\dagger}|\alpha^{\prime}\rangle|^{2}\left(\mathrm{e}^{-\beta E_{\alpha^{%
\prime}}}-\zeta\mathrm{e}^{-\beta E_{\alpha}}\right),
  </annotation>
 </semantics>
</math>

 where 

<math display="inline" id="Green's_function_(many-body_theory):53">
 <semantics>
  <mrow>
   <mo fence="true" stretchy="false">|</mo>
   <mi>α</mi>
   <mo stretchy="false">⟩</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <csymbol cd="latexml">ket</csymbol>
    <ci>α</ci>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   |\alpha\rangle
  </annotation>
 </semantics>
</math>

 refers to a (many-body) eigenstate of the grand-canonical Hamiltonian 

<math display="inline" id="Green's_function_(many-body_theory):54">
 <semantics>
  <mrow>
   <mi>H</mi>
   <mo>-</mo>
   <mrow>
    <mi>μ</mi>
    <mi>N</mi>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <minus></minus>
    <ci>H</ci>
    <apply>
     <times></times>
     <ci>μ</ci>
     <ci>N</ci>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   H-\mu N
  </annotation>
 </semantics>
</math>

, with eigenvalue 

<math display="inline" id="Green's_function_(many-body_theory):55">
 <semantics>
  <msub>
   <mi>E</mi>
   <mi>α</mi>
  </msub>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <csymbol cd="ambiguous">subscript</csymbol>
    <ci>E</ci>
    <ci>α</ci>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   E_{\alpha}
  </annotation>
 </semantics>
</math>

.</p>

<p>The imaginary-time propagator is then given by</p>

<p>

<math display="block" id="Green's_function_(many-body_theory):56">
 <semantics>
  <mrow>
   <mrow>
    <mrow>
     <mi class="ltx_font_mathcaligraphic">𝒢</mi>
     <mrow>
      <mo stretchy="false">(</mo>
      <mi>𝐤</mi>
      <mo>,</mo>
      <msub>
       <mi>ω</mi>
       <mi>n</mi>
      </msub>
      <mo stretchy="false">)</mo>
     </mrow>
    </mrow>
    <mo>=</mo>
    <mrow>
     <msubsup>
      <mo largeop="true" symmetric="true">∫</mo>
      <mrow>
       <mo>-</mo>
       <mi mathvariant="normal">∞</mi>
      </mrow>
      <mi mathvariant="normal">∞</mi>
     </msubsup>
     <mrow>
      <mfrac>
       <mrow>
        <mi mathvariant="normal">d</mi>
        <msup>
         <mi>ω</mi>
         <mo>′</mo>
        </msup>
       </mrow>
       <mrow>
        <mn>2</mn>
        <mi>π</mi>
       </mrow>
      </mfrac>
      <mfrac>
       <mrow>
        <mi>ρ</mi>
        <mrow>
         <mo stretchy="false">(</mo>
         <mi>𝐤</mi>
         <mo>,</mo>
         <msup>
          <mi>ω</mi>
          <mo>′</mo>
         </msup>
         <mo stretchy="false">)</mo>
        </mrow>
       </mrow>
       <mrow>
        <mrow>
         <mo>-</mo>
         <mrow>
          <mi mathvariant="normal">i</mi>
          <msub>
           <mi>ω</mi>
           <mi>n</mi>
          </msub>
         </mrow>
        </mrow>
        <mo>+</mo>
        <msup>
         <mi>ω</mi>
         <mo>′</mo>
        </msup>
       </mrow>
      </mfrac>
     </mrow>
    </mrow>
   </mrow>
   <mo>.</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <times></times>
     <ci>𝒢</ci>
     <interval closure="open">
      <ci>𝐤</ci>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>ω</ci>
       <ci>n</ci>
      </apply>
     </interval>
    </apply>
    <apply>
     <apply>
      <csymbol cd="ambiguous">superscript</csymbol>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <int></int>
       <apply>
        <minus></minus>
        <infinity></infinity>
       </apply>
      </apply>
      <infinity></infinity>
     </apply>
     <apply>
      <times></times>
      <apply>
       <divide></divide>
       <apply>
        <times></times>
        <ci>normal-d</ci>
        <apply>
         <csymbol cd="ambiguous">superscript</csymbol>
         <ci>ω</ci>
         <ci>normal-′</ci>
        </apply>
       </apply>
       <apply>
        <times></times>
        <cn type="integer">2</cn>
        <ci>π</ci>
       </apply>
      </apply>
      <apply>
       <divide></divide>
       <apply>
        <times></times>
        <ci>ρ</ci>
        <interval closure="open">
         <ci>𝐤</ci>
         <apply>
          <csymbol cd="ambiguous">superscript</csymbol>
          <ci>ω</ci>
          <ci>normal-′</ci>
         </apply>
        </interval>
       </apply>
       <apply>
        <plus></plus>
        <apply>
         <minus></minus>
         <apply>
          <times></times>
          <ci>normal-i</ci>
          <apply>
           <csymbol cd="ambiguous">subscript</csymbol>
           <ci>ω</ci>
           <ci>n</ci>
          </apply>
         </apply>
        </apply>
        <apply>
         <csymbol cd="ambiguous">superscript</csymbol>
         <ci>ω</ci>
         <ci>normal-′</ci>
        </apply>
       </apply>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \mathcal{G}(\mathbf{k},\omega_{n})=\int_{-\infty}^{\infty}\frac{\mathrm{d}%
\omega^{\prime}}{2\pi}\frac{\rho(\mathbf{k},\omega^{\prime})}{-\mathrm{i}%
\omega_{n}+\omega^{\prime}}.
  </annotation>
 </semantics>
</math>

 and the retarded propagator by</p>

<p>

<math display="block" id="Green's_function_(many-body_theory):57">
 <semantics>
  <mrow>
   <mrow>
    <mrow>
     <msup>
      <mi>G</mi>
      <mi mathvariant="normal">R</mi>
     </msup>
     <mrow>
      <mo stretchy="false">(</mo>
      <mi>𝐤</mi>
      <mo>,</mo>
      <mi>ω</mi>
      <mo stretchy="false">)</mo>
     </mrow>
    </mrow>
    <mo>=</mo>
    <mrow>
     <msubsup>
      <mo largeop="true" symmetric="true">∫</mo>
      <mrow>
       <mo>-</mo>
       <mi mathvariant="normal">∞</mi>
      </mrow>
      <mi mathvariant="normal">∞</mi>
     </msubsup>
     <mrow>
      <mfrac>
       <mrow>
        <mi mathvariant="normal">d</mi>
        <msup>
         <mi>ω</mi>
         <mo>′</mo>
        </msup>
       </mrow>
       <mrow>
        <mn>2</mn>
        <mi>π</mi>
       </mrow>
      </mfrac>
      <mfrac>
       <mrow>
        <mi>ρ</mi>
        <mrow>
         <mo stretchy="false">(</mo>
         <mi>𝐤</mi>
         <mo>,</mo>
         <msup>
          <mi>ω</mi>
          <mo>′</mo>
         </msup>
         <mo stretchy="false">)</mo>
        </mrow>
       </mrow>
       <mrow>
        <mrow>
         <mo>-</mo>
         <mrow>
          <mo stretchy="false">(</mo>
          <mrow>
           <mi>ω</mi>
           <mo>+</mo>
           <mrow>
            <mi mathvariant="normal">i</mi>
            <mi>η</mi>
           </mrow>
          </mrow>
          <mo stretchy="false">)</mo>
         </mrow>
        </mrow>
        <mo>+</mo>
        <msup>
         <mi>ω</mi>
         <mo>′</mo>
        </msup>
       </mrow>
      </mfrac>
     </mrow>
    </mrow>
   </mrow>
   <mo>,</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <times></times>
     <apply>
      <csymbol cd="ambiguous">superscript</csymbol>
      <ci>G</ci>
      <ci>normal-R</ci>
     </apply>
     <interval closure="open">
      <ci>𝐤</ci>
      <ci>ω</ci>
     </interval>
    </apply>
    <apply>
     <apply>
      <csymbol cd="ambiguous">superscript</csymbol>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <int></int>
       <apply>
        <minus></minus>
        <infinity></infinity>
       </apply>
      </apply>
      <infinity></infinity>
     </apply>
     <apply>
      <times></times>
      <apply>
       <divide></divide>
       <apply>
        <times></times>
        <ci>normal-d</ci>
        <apply>
         <csymbol cd="ambiguous">superscript</csymbol>
         <ci>ω</ci>
         <ci>normal-′</ci>
        </apply>
       </apply>
       <apply>
        <times></times>
        <cn type="integer">2</cn>
        <ci>π</ci>
       </apply>
      </apply>
      <apply>
       <divide></divide>
       <apply>
        <times></times>
        <ci>ρ</ci>
        <interval closure="open">
         <ci>𝐤</ci>
         <apply>
          <csymbol cd="ambiguous">superscript</csymbol>
          <ci>ω</ci>
          <ci>normal-′</ci>
         </apply>
        </interval>
       </apply>
       <apply>
        <plus></plus>
        <apply>
         <minus></minus>
         <apply>
          <plus></plus>
          <ci>ω</ci>
          <apply>
           <times></times>
           <ci>normal-i</ci>
           <ci>η</ci>
          </apply>
         </apply>
        </apply>
        <apply>
         <csymbol cd="ambiguous">superscript</csymbol>
         <ci>ω</ci>
         <ci>normal-′</ci>
        </apply>
       </apply>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   G^{\mathrm{R}}(\mathbf{k},\omega)=\int_{-\infty}^{\infty}\frac{\mathrm{d}%
\omega^{\prime}}{2\pi}\frac{\rho(\mathbf{k},\omega^{\prime})}{-(\omega+\mathrm%
{i}\eta)+\omega^{\prime}},
  </annotation>
 </semantics>
</math>

 where the limit as 

<math display="inline" id="Green's_function_(many-body_theory):58">
 <semantics>
  <mrow>
   <mi>η</mi>
   <mo>→</mo>
   <msup>
    <mn>0</mn>
    <mo>+</mo>
   </msup>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <ci>normal-→</ci>
    <ci>η</ci>
    <apply>
     <csymbol cd="ambiguous">superscript</csymbol>
     <cn type="integer">0</cn>
     <plus></plus>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \eta\rightarrow 0^{+}
  </annotation>
 </semantics>
</math>

 is implied.</p>

<p>The advanced propagator is given by the same expression, but with 

<math display="inline" id="Green's_function_(many-body_theory):59">
 <semantics>
  <mrow>
   <mo>-</mo>
   <mrow>
    <mi mathvariant="normal">i</mi>
    <mi>η</mi>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <minus></minus>
    <apply>
     <times></times>
     <ci>normal-i</ci>
     <ci>η</ci>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   -\mathrm{i}\eta
  </annotation>
 </semantics>
</math>

 in the denominator. The time-ordered function can be found in terms of 

<math display="inline" id="Green's_function_(many-body_theory):60">
 <semantics>
  <msup>
   <mi>G</mi>
   <mi mathvariant="normal">R</mi>
  </msup>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <csymbol cd="ambiguous">superscript</csymbol>
    <ci>G</ci>
    <ci>normal-R</ci>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   G^{\mathrm{R}}
  </annotation>
 </semantics>
</math>

 and 

<math display="inline" id="Green's_function_(many-body_theory):61">
 <semantics>
  <msup>
   <mi>G</mi>
   <mi mathvariant="normal">A</mi>
  </msup>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <csymbol cd="ambiguous">superscript</csymbol>
    <ci>G</ci>
    <ci>normal-A</ci>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   G^{\mathrm{A}}
  </annotation>
 </semantics>
</math>

. As claimed above, 

<math display="inline" id="Green's_function_(many-body_theory):62">
 <semantics>
  <mrow>
   <msup>
    <mi>G</mi>
    <mi mathvariant="normal">R</mi>
   </msup>
   <mrow>
    <mo stretchy="false">(</mo>
    <mi>ω</mi>
    <mo stretchy="false">)</mo>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <times></times>
    <apply>
     <csymbol cd="ambiguous">superscript</csymbol>
     <ci>G</ci>
     <ci>normal-R</ci>
    </apply>
    <ci>ω</ci>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   G^{\mathrm{R}}(\omega)
  </annotation>
 </semantics>
</math>

 and 

<math display="inline" id="Green's_function_(many-body_theory):63">
 <semantics>
  <mrow>
   <msup>
    <mi>G</mi>
    <mi mathvariant="normal">A</mi>
   </msup>
   <mrow>
    <mo stretchy="false">(</mo>
    <mi>ω</mi>
    <mo stretchy="false">)</mo>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <times></times>
    <apply>
     <csymbol cd="ambiguous">superscript</csymbol>
     <ci>G</ci>
     <ci>normal-A</ci>
    </apply>
    <ci>ω</ci>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   G^{\mathrm{A}}(\omega)
  </annotation>
 </semantics>
</math>

 have simple analyticity properties: the former (latter) has all its poles and discontinuities in the lower (upper) half-plane. The thermal propagator 

<math display="inline" id="Green's_function_(many-body_theory):64">
 <semantics>
  <mrow>
   <mi class="ltx_font_mathcaligraphic">𝒢</mi>
   <mrow>
    <mo stretchy="false">(</mo>
    <msub>
     <mi>ω</mi>
     <mi>n</mi>
    </msub>
    <mo stretchy="false">)</mo>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <times></times>
    <ci>𝒢</ci>
    <apply>
     <csymbol cd="ambiguous">subscript</csymbol>
     <ci>ω</ci>
     <ci>n</ci>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \mathcal{G}(\omega_{n})
  </annotation>
 </semantics>
</math>

 has all its poles and discontinuities on the imaginary 

<math display="inline" id="Green's_function_(many-body_theory):65">
 <semantics>
  <msub>
   <mi>ω</mi>
   <mi>n</mi>
  </msub>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <csymbol cd="ambiguous">subscript</csymbol>
    <ci>ω</ci>
    <ci>n</ci>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \omega_{n}
  </annotation>
 </semantics>
</math>

 axis.</p>

<p>The spectral density can be found very straightforwardly from 

<math display="inline" id="Green's_function_(many-body_theory):66">
 <semantics>
  <msup>
   <mi>G</mi>
   <mi mathvariant="normal">R</mi>
  </msup>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <csymbol cd="ambiguous">superscript</csymbol>
    <ci>G</ci>
    <ci>normal-R</ci>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   G^{\mathrm{R}}
  </annotation>
 </semantics>
</math>

, using the <a href="Sokhatsky–Weierstrass_theorem" title="wikilink">Sokhatsky–Weierstrass theorem</a></p>

<p>

<math display="block" id="Green's_function_(many-body_theory):67">
 <semantics>
  <mrow>
   <mrow>
    <mrow>
     <munder>
      <mo movablelimits="false">lim</mo>
      <mrow>
       <mi>η</mi>
       <mo>→</mo>
       <msup>
        <mn>0</mn>
        <mo>+</mo>
       </msup>
      </mrow>
     </munder>
     <mfrac>
      <mn>1</mn>
      <mrow>
       <mi>x</mi>
       <mo>±</mo>
       <mrow>
        <mi mathvariant="normal">i</mi>
        <mi>η</mi>
       </mrow>
      </mrow>
     </mfrac>
    </mrow>
    <mo>=</mo>
    <mrow>
     <mrow>
      <mi>P</mi>
      <mfrac>
       <mn>1</mn>
       <mi>x</mi>
      </mfrac>
     </mrow>
     <mo>∓</mo>
     <mrow>
      <mi>i</mi>
      <mi>π</mi>
      <mi>δ</mi>
      <mrow>
       <mo stretchy="false">(</mo>
       <mi>x</mi>
       <mo stretchy="false">)</mo>
      </mrow>
     </mrow>
    </mrow>
   </mrow>
   <mo>,</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <limit></limit>
      <apply>
       <ci>normal-→</ci>
       <ci>η</ci>
       <apply>
        <csymbol cd="ambiguous">superscript</csymbol>
        <cn type="integer">0</cn>
        <plus></plus>
       </apply>
      </apply>
     </apply>
     <apply>
      <divide></divide>
      <cn type="integer">1</cn>
      <apply>
       <csymbol cd="latexml">plus-or-minus</csymbol>
       <ci>x</ci>
       <apply>
        <times></times>
        <ci>normal-i</ci>
        <ci>η</ci>
       </apply>
      </apply>
     </apply>
    </apply>
    <apply>
     <csymbol cd="latexml">minus-or-plus</csymbol>
     <apply>
      <times></times>
      <ci>P</ci>
      <apply>
       <divide></divide>
       <cn type="integer">1</cn>
       <ci>x</ci>
      </apply>
     </apply>
     <apply>
      <times></times>
      <ci>i</ci>
      <ci>π</ci>
      <ci>δ</ci>
      <ci>x</ci>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \lim_{\eta\rightarrow 0^{+}}\frac{1}{x\pm\mathrm{i}\eta}={P}\frac{1}{x}\mp i%
\pi\delta(x),
  </annotation>
 </semantics>
</math>

 where 

<math display="inline" id="Green's_function_(many-body_theory):68">
 <semantics>
  <mi>P</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>P</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   P
  </annotation>
 </semantics>
</math>

 denotes the <a href="Cauchy_principal_part" title="wikilink">Cauchy principal part</a>. This gives</p>

<p>

<math display="block" id="Green's_function_(many-body_theory):69">
 <semantics>
  <mrow>
   <mrow>
    <mrow>
     <mi>ρ</mi>
     <mrow>
      <mo stretchy="false">(</mo>
      <mi>𝐤</mi>
      <mo>,</mo>
      <mi>ω</mi>
      <mo stretchy="false">)</mo>
     </mrow>
    </mrow>
    <mo>=</mo>
    <mrow>
     <mn>2</mn>
     <mi mathvariant="normal">I</mi>
     <mpadded width="+1.7pt">
      <mi mathvariant="normal">m</mi>
     </mpadded>
     <msup>
      <mi>G</mi>
      <mi mathvariant="normal">R</mi>
     </msup>
     <mrow>
      <mo stretchy="false">(</mo>
      <mi>𝐤</mi>
      <mo>,</mo>
      <mi>ω</mi>
      <mo stretchy="false">)</mo>
     </mrow>
    </mrow>
   </mrow>
   <mo>.</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <times></times>
     <ci>ρ</ci>
     <interval closure="open">
      <ci>𝐤</ci>
      <ci>ω</ci>
     </interval>
    </apply>
    <apply>
     <times></times>
     <cn type="integer">2</cn>
     <ci>normal-I</ci>
     <ci>normal-m</ci>
     <apply>
      <csymbol cd="ambiguous">superscript</csymbol>
      <ci>G</ci>
      <ci>normal-R</ci>
     </apply>
     <interval closure="open">
      <ci>𝐤</ci>
      <ci>ω</ci>
     </interval>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \rho(\mathbf{k},\omega)=2\mathrm{Im}\,G^{\mathrm{R}}(\mathbf{k},\omega).
  </annotation>
 </semantics>
</math>

</p>

<p>This furthermore implies that 

<math display="inline" id="Green's_function_(many-body_theory):70">
 <semantics>
  <mrow>
   <msup>
    <mi>G</mi>
    <mi mathvariant="normal">R</mi>
   </msup>
   <mrow>
    <mo stretchy="false">(</mo>
    <mi>𝐤</mi>
    <mo>,</mo>
    <mi>ω</mi>
    <mo stretchy="false">)</mo>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <times></times>
    <apply>
     <csymbol cd="ambiguous">superscript</csymbol>
     <ci>G</ci>
     <ci>normal-R</ci>
    </apply>
    <interval closure="open">
     <ci>𝐤</ci>
     <ci>ω</ci>
    </interval>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   G^{\mathrm{R}}(\mathbf{k},\omega)
  </annotation>
 </semantics>
</math>

 obeys the following relationship between its real and imaginary parts:</p>

<p>

<math display="block" id="Green's_function_(many-body_theory):71">
 <semantics>
  <mrow>
   <mrow>
    <mrow>
     <mpadded width="+1.7pt">
      <mi>Re</mi>
     </mpadded>
     <msup>
      <mi>G</mi>
      <mi mathvariant="normal">R</mi>
     </msup>
     <mrow>
      <mo stretchy="false">(</mo>
      <mi>𝐤</mi>
      <mo>,</mo>
      <mi>ω</mi>
      <mo stretchy="false">)</mo>
     </mrow>
    </mrow>
    <mo>=</mo>
    <mrow>
     <mo>-</mo>
     <mrow>
      <mn>2</mn>
      <mi>P</mi>
      <mrow>
       <msubsup>
        <mo largeop="true" symmetric="true">∫</mo>
        <mrow>
         <mo>-</mo>
         <mi mathvariant="normal">∞</mi>
        </mrow>
        <mi mathvariant="normal">∞</mi>
       </msubsup>
       <mrow>
        <mfrac>
         <mrow>
          <mi mathvariant="normal">d</mi>
          <msup>
           <mi>ω</mi>
           <mo>′</mo>
          </msup>
         </mrow>
         <mrow>
          <mn>2</mn>
          <mi>π</mi>
         </mrow>
        </mfrac>
        <mfrac>
         <mrow>
          <mpadded width="+1.7pt">
           <mi>Im</mi>
          </mpadded>
          <msup>
           <mi>G</mi>
           <mi mathvariant="normal">R</mi>
          </msup>
          <mrow>
           <mo stretchy="false">(</mo>
           <mi>𝐤</mi>
           <mo>,</mo>
           <msup>
            <mi>ω</mi>
            <mo>′</mo>
           </msup>
           <mo stretchy="false">)</mo>
          </mrow>
         </mrow>
         <mrow>
          <mi>ω</mi>
          <mo>-</mo>
          <msup>
           <mi>ω</mi>
           <mo>′</mo>
          </msup>
         </mrow>
        </mfrac>
       </mrow>
      </mrow>
     </mrow>
    </mrow>
   </mrow>
   <mo>,</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <times></times>
     <ci>Re</ci>
     <apply>
      <csymbol cd="ambiguous">superscript</csymbol>
      <ci>G</ci>
      <ci>normal-R</ci>
     </apply>
     <interval closure="open">
      <ci>𝐤</ci>
      <ci>ω</ci>
     </interval>
    </apply>
    <apply>
     <minus></minus>
     <apply>
      <times></times>
      <cn type="integer">2</cn>
      <ci>P</ci>
      <apply>
       <apply>
        <csymbol cd="ambiguous">superscript</csymbol>
        <apply>
         <csymbol cd="ambiguous">subscript</csymbol>
         <int></int>
         <apply>
          <minus></minus>
          <infinity></infinity>
         </apply>
        </apply>
        <infinity></infinity>
       </apply>
       <apply>
        <times></times>
        <apply>
         <divide></divide>
         <apply>
          <times></times>
          <ci>normal-d</ci>
          <apply>
           <csymbol cd="ambiguous">superscript</csymbol>
           <ci>ω</ci>
           <ci>normal-′</ci>
          </apply>
         </apply>
         <apply>
          <times></times>
          <cn type="integer">2</cn>
          <ci>π</ci>
         </apply>
        </apply>
        <apply>
         <divide></divide>
         <apply>
          <times></times>
          <ci>Im</ci>
          <apply>
           <csymbol cd="ambiguous">superscript</csymbol>
           <ci>G</ci>
           <ci>normal-R</ci>
          </apply>
          <interval closure="open">
           <ci>𝐤</ci>
           <apply>
            <csymbol cd="ambiguous">superscript</csymbol>
            <ci>ω</ci>
            <ci>normal-′</ci>
           </apply>
          </interval>
         </apply>
         <apply>
          <minus></minus>
          <ci>ω</ci>
          <apply>
           <csymbol cd="ambiguous">superscript</csymbol>
           <ci>ω</ci>
           <ci>normal-′</ci>
          </apply>
         </apply>
        </apply>
       </apply>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \mathrm{Re}\,G^{\mathrm{R}}(\mathbf{k},\omega)=-2P\int_{-\infty}^{\infty}\frac%
{\mathrm{d}\omega^{\prime}}{2\pi}\frac{\mathrm{Im}\,G^{\mathrm{R}}(\mathbf{k},%
\omega^{\prime})}{\omega-\omega^{\prime}},
  </annotation>
 </semantics>
</math>

 where 

<math display="inline" id="Green's_function_(many-body_theory):72">
 <semantics>
  <mi>P</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>P</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   P
  </annotation>
 </semantics>
</math>

 denotes the principal value of the integral.</p>

<p>The spectral density obeys a sum rule:</p>

<p>

<math display="block" id="Green's_function_(many-body_theory):73">
 <semantics>
  <mrow>
   <mrow>
    <mrow>
     <msubsup>
      <mo largeop="true" symmetric="true">∫</mo>
      <mrow>
       <mo>-</mo>
       <mi mathvariant="normal">∞</mi>
      </mrow>
      <mi mathvariant="normal">∞</mi>
     </msubsup>
     <mrow>
      <mfrac>
       <mrow>
        <mi mathvariant="normal">d</mi>
        <mi>ω</mi>
       </mrow>
       <mrow>
        <mn>2</mn>
        <mi>π</mi>
       </mrow>
      </mfrac>
      <mi>ρ</mi>
      <mrow>
       <mo stretchy="false">(</mo>
       <mi>𝐤</mi>
       <mo>,</mo>
       <mi>ω</mi>
       <mo stretchy="false">)</mo>
      </mrow>
     </mrow>
    </mrow>
    <mo>=</mo>
    <mn>1</mn>
   </mrow>
   <mo>,</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <apply>
      <csymbol cd="ambiguous">superscript</csymbol>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <int></int>
       <apply>
        <minus></minus>
        <infinity></infinity>
       </apply>
      </apply>
      <infinity></infinity>
     </apply>
     <apply>
      <times></times>
      <apply>
       <divide></divide>
       <apply>
        <times></times>
        <ci>normal-d</ci>
        <ci>ω</ci>
       </apply>
       <apply>
        <times></times>
        <cn type="integer">2</cn>
        <ci>π</ci>
       </apply>
      </apply>
      <ci>ρ</ci>
      <interval closure="open">
       <ci>𝐤</ci>
       <ci>ω</ci>
      </interval>
     </apply>
    </apply>
    <cn type="integer">1</cn>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \int_{-\infty}^{\infty}\frac{\mathrm{d}\omega}{2\pi}\rho(\mathbf{k},\omega)=1,
  </annotation>
 </semantics>
</math>

 which gives</p>

<p>

<math display="block" id="Green's_function_(many-body_theory):74">
 <semantics>
  <mrow>
   <mrow>
    <msup>
     <mi>G</mi>
     <mi mathvariant="normal">R</mi>
    </msup>
    <mrow>
     <mo stretchy="false">(</mo>
     <mi>ω</mi>
     <mo stretchy="false">)</mo>
    </mrow>
   </mrow>
   <mo>∼</mo>
   <mfrac>
    <mn>1</mn>
    <mrow>
     <mo stretchy="false">|</mo>
     <mi>ω</mi>
     <mo stretchy="false">|</mo>
    </mrow>
   </mfrac>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <csymbol cd="latexml">similar-to</csymbol>
    <apply>
     <times></times>
     <apply>
      <csymbol cd="ambiguous">superscript</csymbol>
      <ci>G</ci>
      <ci>normal-R</ci>
     </apply>
     <ci>ω</ci>
    </apply>
    <apply>
     <divide></divide>
     <cn type="integer">1</cn>
     <apply>
      <abs></abs>
      <ci>ω</ci>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   G^{\mathrm{R}}(\omega)\sim\frac{1}{|\omega|}
  </annotation>
 </semantics>
</math>

 as 

<math display="inline" id="Green's_function_(many-body_theory):75">
 <semantics>
  <mrow>
   <mrow>
    <mo stretchy="false">|</mo>
    <mi>ω</mi>
    <mo stretchy="false">|</mo>
   </mrow>
   <mo>→</mo>
   <mi mathvariant="normal">∞</mi>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <ci>normal-→</ci>
    <apply>
     <abs></abs>
     <ci>ω</ci>
    </apply>
    <infinity></infinity>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   |\omega|\rightarrow\infty
  </annotation>
 </semantics>
</math>


.</p>
<h4 id="hilbert-transform">Hilbert transform</h4>

<p>The similarity of the spectral representations of the imaginary- and real-time Green functions allows us to define the function</p>

<p>

<math display="block" id="Green's_function_(many-body_theory):76">
 <semantics>
  <mrow>
   <mrow>
    <mrow>
     <mi>G</mi>
     <mrow>
      <mo stretchy="false">(</mo>
      <mi>𝐤</mi>
      <mo>,</mo>
      <mi>z</mi>
      <mo stretchy="false">)</mo>
     </mrow>
    </mrow>
    <mo>=</mo>
    <mrow>
     <msubsup>
      <mo largeop="true" symmetric="true">∫</mo>
      <mrow>
       <mo>-</mo>
       <mi mathvariant="normal">∞</mi>
      </mrow>
      <mi mathvariant="normal">∞</mi>
     </msubsup>
     <mrow>
      <mfrac>
       <mrow>
        <mi mathvariant="normal">d</mi>
        <mi>x</mi>
       </mrow>
       <mrow>
        <mn>2</mn>
        <mi>π</mi>
       </mrow>
      </mfrac>
      <mfrac>
       <mrow>
        <mi>ρ</mi>
        <mrow>
         <mo stretchy="false">(</mo>
         <mi>𝐤</mi>
         <mo>,</mo>
         <mi>x</mi>
         <mo stretchy="false">)</mo>
        </mrow>
       </mrow>
       <mrow>
        <mrow>
         <mo>-</mo>
         <mi>z</mi>
        </mrow>
        <mo>+</mo>
        <mi>x</mi>
       </mrow>
      </mfrac>
     </mrow>
    </mrow>
   </mrow>
   <mo>,</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <times></times>
     <ci>G</ci>
     <interval closure="open">
      <ci>𝐤</ci>
      <ci>z</ci>
     </interval>
    </apply>
    <apply>
     <apply>
      <csymbol cd="ambiguous">superscript</csymbol>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <int></int>
       <apply>
        <minus></minus>
        <infinity></infinity>
       </apply>
      </apply>
      <infinity></infinity>
     </apply>
     <apply>
      <times></times>
      <apply>
       <divide></divide>
       <apply>
        <times></times>
        <ci>normal-d</ci>
        <ci>x</ci>
       </apply>
       <apply>
        <times></times>
        <cn type="integer">2</cn>
        <ci>π</ci>
       </apply>
      </apply>
      <apply>
       <divide></divide>
       <apply>
        <times></times>
        <ci>ρ</ci>
        <interval closure="open">
         <ci>𝐤</ci>
         <ci>x</ci>
        </interval>
       </apply>
       <apply>
        <plus></plus>
        <apply>
         <minus></minus>
         <ci>z</ci>
        </apply>
        <ci>x</ci>
       </apply>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   G(\mathbf{k},z)=\int_{-\infty}^{\infty}\frac{\mathrm{d}x}{2\pi}\frac{\rho(%
\mathbf{k},x)}{-z+x},
  </annotation>
 </semantics>
</math>

 which is related to 

<math display="inline" id="Green's_function_(many-body_theory):77">
 <semantics>
  <mi class="ltx_font_mathcaligraphic">𝒢</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>𝒢</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \mathcal{G}
  </annotation>
 </semantics>
</math>

 and 

<math display="inline" id="Green's_function_(many-body_theory):78">
 <semantics>
  <msup>
   <mi>G</mi>
   <mi mathvariant="normal">R</mi>
  </msup>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <csymbol cd="ambiguous">superscript</csymbol>
    <ci>G</ci>
    <ci>normal-R</ci>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   G^{\mathrm{R}}
  </annotation>
 </semantics>
</math>

 by</p>

<p>

<math display="block" id="Green's_function_(many-body_theory):79">
 <semantics>
  <mrow>
   <mrow>
    <mi class="ltx_font_mathcaligraphic">𝒢</mi>
    <mrow>
     <mo stretchy="false">(</mo>
     <mi>𝐤</mi>
     <mo>,</mo>
     <msub>
      <mi>ω</mi>
      <mi>n</mi>
     </msub>
     <mo stretchy="false">)</mo>
    </mrow>
   </mrow>
   <mo>=</mo>
   <mrow>
    <mi>G</mi>
    <mrow>
     <mo stretchy="false">(</mo>
     <mi>𝐤</mi>
     <mo>,</mo>
     <mrow>
      <mi mathvariant="normal">i</mi>
      <msub>
       <mi>ω</mi>
       <mi>n</mi>
      </msub>
     </mrow>
     <mo stretchy="false">)</mo>
    </mrow>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <times></times>
     <ci>𝒢</ci>
     <interval closure="open">
      <ci>𝐤</ci>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>ω</ci>
       <ci>n</ci>
      </apply>
     </interval>
    </apply>
    <apply>
     <times></times>
     <ci>G</ci>
     <interval closure="open">
      <ci>𝐤</ci>
      <apply>
       <times></times>
       <ci>normal-i</ci>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>ω</ci>
        <ci>n</ci>
       </apply>
      </apply>
     </interval>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \mathcal{G}(\mathbf{k},\omega_{n})=G(\mathbf{k},\mathrm{i}\omega_{n})
  </annotation>
 </semantics>
</math>

 and</p>

<p>

<math display="block" id="Green's_function_(many-body_theory):80">
 <semantics>
  <mrow>
   <mrow>
    <mrow>
     <msup>
      <mi>G</mi>
      <mi mathvariant="normal">R</mi>
     </msup>
     <mrow>
      <mo stretchy="false">(</mo>
      <mi>𝐤</mi>
      <mo>,</mo>
      <mi>ω</mi>
      <mo stretchy="false">)</mo>
     </mrow>
    </mrow>
    <mo>=</mo>
    <mrow>
     <mi>G</mi>
     <mrow>
      <mo stretchy="false">(</mo>
      <mi>𝐤</mi>
      <mo>,</mo>
      <mrow>
       <mi>ω</mi>
       <mo>+</mo>
       <mrow>
        <mi mathvariant="normal">i</mi>
        <mi>η</mi>
       </mrow>
      </mrow>
      <mo stretchy="false">)</mo>
     </mrow>
    </mrow>
   </mrow>
   <mo>.</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <times></times>
     <apply>
      <csymbol cd="ambiguous">superscript</csymbol>
      <ci>G</ci>
      <ci>normal-R</ci>
     </apply>
     <interval closure="open">
      <ci>𝐤</ci>
      <ci>ω</ci>
     </interval>
    </apply>
    <apply>
     <times></times>
     <ci>G</ci>
     <interval closure="open">
      <ci>𝐤</ci>
      <apply>
       <plus></plus>
       <ci>ω</ci>
       <apply>
        <times></times>
        <ci>normal-i</ci>
        <ci>η</ci>
       </apply>
      </apply>
     </interval>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   G^{\mathrm{R}}(\mathbf{k},\omega)=G(\mathbf{k},\omega+\mathrm{i}\eta).
  </annotation>
 </semantics>
</math>

 A similar expression obviously holds for 

<math display="inline" id="Green's_function_(many-body_theory):81">
 <semantics>
  <msup>
   <mi>G</mi>
   <mi mathvariant="normal">A</mi>
  </msup>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <csymbol cd="ambiguous">superscript</csymbol>
    <ci>G</ci>
    <ci>normal-A</ci>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   G^{\mathrm{A}}
  </annotation>
 </semantics>
</math>

.</p>

<p>The relation between 

<math display="inline" id="Green's_function_(many-body_theory):82">
 <semantics>
  <mrow>
   <mi>G</mi>
   <mrow>
    <mo stretchy="false">(</mo>
    <mi>𝐤</mi>
    <mo>,</mo>
    <mi>z</mi>
    <mo stretchy="false">)</mo>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <times></times>
    <ci>G</ci>
    <interval closure="open">
     <ci>𝐤</ci>
     <ci>z</ci>
    </interval>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   G(\mathbf{k},z)
  </annotation>
 </semantics>
</math>

 and 

<math display="inline" id="Green's_function_(many-body_theory):83">
 <semantics>
  <mrow>
   <mi>ρ</mi>
   <mrow>
    <mo stretchy="false">(</mo>
    <mi>𝐤</mi>
    <mo>,</mo>
    <mi>x</mi>
    <mo stretchy="false">)</mo>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <times></times>
    <ci>ρ</ci>
    <interval closure="open">
     <ci>𝐤</ci>
     <ci>x</ci>
    </interval>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \rho(\mathbf{k},x)
  </annotation>
 </semantics>
</math>

 is referred to as a <a href="Hilbert_transform" title="wikilink">Hilbert transform</a>.</p>
<h4 id="proof-of-spectral-representation">Proof of spectral representation</h4>

<p>We demonstrate the proof of the spectral representation of the propagator in the case of the thermal Green function, defined as</p>

<p>

<math display="block" id="Green's_function_(many-body_theory):84">
 <semantics>
  <mrow>
   <mi class="ltx_font_mathcaligraphic">𝒢</mi>
   <mrow>
    <mo stretchy="false">(</mo>
    <mi>𝐱</mi>
    <mo>,</mo>
    <mi>τ</mi>
    <mo stretchy="false">|</mo>
    <msup>
     <mi>𝐱</mi>
     <mo>′</mo>
    </msup>
    <mo>,</mo>
    <msup>
     <mi>τ</mi>
     <mo>′</mo>
    </msup>
    <mo stretchy="false">)</mo>
   </mrow>
   <mo>=</mo>
   <mrow>
    <mo stretchy="false">⟨</mo>
    <mi>T</mi>
    <mi>ψ</mi>
    <mrow>
     <mo stretchy="false">(</mo>
     <mi>𝐱</mi>
     <mo>,</mo>
     <mi>τ</mi>
     <mo stretchy="false">)</mo>
    </mrow>
    <mover accent="true">
     <mi>ψ</mi>
     <mo stretchy="false">¯</mo>
    </mover>
    <mrow>
     <mo stretchy="false">(</mo>
     <msup>
      <mi>𝐱</mi>
      <mo>′</mo>
     </msup>
     <mo>,</mo>
     <msup>
      <mi>τ</mi>
      <mo>′</mo>
     </msup>
     <mo stretchy="false">)</mo>
    </mrow>
    <mo stretchy="false">⟩</mo>
   </mrow>
   <mo>.</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <cerror>
    <csymbol cd="ambiguous">fragments</csymbol>
    <csymbol cd="unknown">G</csymbol>
    <cerror>
     <csymbol cd="ambiguous">fragments</csymbol>
     <ci>normal-(</ci>
     <csymbol cd="unknown">x</csymbol>
     <ci>normal-,</ci>
     <csymbol cd="unknown">τ</csymbol>
     <ci>normal-|</ci>
     <apply>
      <csymbol cd="ambiguous">superscript</csymbol>
      <ci>𝐱</ci>
      <ci>normal-′</ci>
     </apply>
     <ci>normal-,</ci>
     <apply>
      <csymbol cd="ambiguous">superscript</csymbol>
      <ci>τ</ci>
      <ci>normal-′</ci>
     </apply>
     <ci>normal-)</ci>
    </cerror>
    <eq></eq>
    <cerror>
     <csymbol cd="ambiguous">fragments</csymbol>
     <ci>normal-⟨</ci>
     <csymbol cd="unknown">T</csymbol>
     <csymbol cd="unknown">ψ</csymbol>
     <cerror>
      <csymbol cd="ambiguous">fragments</csymbol>
      <ci>normal-(</ci>
      <csymbol cd="unknown">x</csymbol>
      <ci>normal-,</ci>
      <csymbol cd="unknown">τ</csymbol>
      <ci>normal-)</ci>
     </cerror>
     <apply>
      <ci>normal-¯</ci>
      <ci>ψ</ci>
     </apply>
     <cerror>
      <csymbol cd="ambiguous">fragments</csymbol>
      <ci>normal-(</ci>
      <apply>
       <csymbol cd="ambiguous">superscript</csymbol>
       <ci>𝐱</ci>
       <ci>normal-′</ci>
      </apply>
      <ci>normal-,</ci>
      <apply>
       <csymbol cd="ambiguous">superscript</csymbol>
       <ci>τ</ci>
       <ci>normal-′</ci>
      </apply>
      <ci>normal-)</ci>
     </cerror>
     <ci>normal-⟩</ci>
    </cerror>
    <ci>normal-.</ci>
   </cerror>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \mathcal{G}(\mathbf{x},\tau|\mathbf{x}^{\prime},\tau^{\prime})=\langle T\psi(%
\mathbf{x},\tau)\bar{\psi}(\mathbf{x}^{\prime},\tau^{\prime})\rangle.
  </annotation>
 </semantics>
</math>

</p>

<p>Due to translational symmetry, it is only necessary to consider 

<math display="inline" id="Green's_function_(many-body_theory):85">
 <semantics>
  <mrow>
   <mi class="ltx_font_mathcaligraphic">𝒢</mi>
   <mrow>
    <mo stretchy="false">(</mo>
    <mi>𝐱</mi>
    <mo>,</mo>
    <mi>τ</mi>
    <mo stretchy="false">|</mo>
    <mn>𝟎</mn>
    <mo>,</mo>
    <mn>0</mn>
    <mo stretchy="false">)</mo>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <cerror>
    <csymbol cd="ambiguous">fragments</csymbol>
    <csymbol cd="unknown">G</csymbol>
    <cerror>
     <csymbol cd="ambiguous">fragments</csymbol>
     <ci>normal-(</ci>
     <csymbol cd="unknown">x</csymbol>
     <ci>normal-,</ci>
     <csymbol cd="unknown">τ</csymbol>
     <ci>normal-|</ci>
     <cn type="integer">0</cn>
     <ci>normal-,</ci>
     <cn type="integer">0</cn>
     <ci>normal-)</ci>
    </cerror>
   </cerror>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \mathcal{G}(\mathbf{x},\tau|\mathbf{0},0)
  </annotation>
 </semantics>
</math>


 for 

<math display="inline" id="Green's_function_(many-body_theory):86">
 <semantics>
  <mrow>
   <mi>τ</mi>
   <mo>></mo>
   <mn>0</mn>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <gt></gt>
    <ci>τ</ci>
    <cn type="integer">0</cn>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \tau>0
  </annotation>
 </semantics>
</math>

, given by</p>

<p>

<math display="block" id="Green's_function_(many-body_theory):87">
 <semantics>
  <mrow>
   <mi class="ltx_font_mathcaligraphic">𝒢</mi>
   <mrow>
    <mo stretchy="false">(</mo>
    <mi>𝐱</mi>
    <mo>,</mo>
    <mi>τ</mi>
    <mo stretchy="false">|</mo>
    <mn>𝟎</mn>
    <mo>,</mo>
    <mn>0</mn>
    <mo stretchy="false">)</mo>
   </mrow>
   <mo>=</mo>
   <mfrac>
    <mn>1</mn>
    <mi class="ltx_font_mathcaligraphic">𝒵</mi>
   </mfrac>
   <munder>
    <mo largeop="true" movablelimits="false" symmetric="true">∑</mo>
    <msup>
     <mi>α</mi>
     <mo>′</mo>
    </msup>
   </munder>
   <msup>
    <mi mathvariant="normal">e</mi>
    <mrow>
     <mo>-</mo>
     <mrow>
      <mi>β</mi>
      <msub>
       <mi>E</mi>
       <msup>
        <mi>α</mi>
        <mo>′</mo>
       </msup>
      </msub>
     </mrow>
    </mrow>
   </msup>
   <mrow>
    <mo stretchy="false">⟨</mo>
    <msup>
     <mi>α</mi>
     <mo>′</mo>
    </msup>
    <mo stretchy="false">|</mo>
    <mi>ψ</mi>
    <mrow>
     <mo stretchy="false">(</mo>
     <mi>𝐱</mi>
     <mo>,</mo>
     <mi>τ</mi>
     <mo stretchy="false">)</mo>
    </mrow>
    <mover accent="true">
     <mi>ψ</mi>
     <mo stretchy="false">¯</mo>
    </mover>
    <mrow>
     <mo stretchy="false">(</mo>
     <mn>𝟎</mn>
     <mo>,</mo>
     <mn>0</mn>
     <mo stretchy="false">)</mo>
    </mrow>
    <mo stretchy="false">|</mo>
    <msup>
     <mi>α</mi>
     <mo>′</mo>
    </msup>
    <mo stretchy="false">⟩</mo>
   </mrow>
   <mo>.</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <cerror>
    <csymbol cd="ambiguous">fragments</csymbol>
    <csymbol cd="unknown">G</csymbol>
    <cerror>
     <csymbol cd="ambiguous">fragments</csymbol>
     <ci>normal-(</ci>
     <csymbol cd="unknown">x</csymbol>
     <ci>normal-,</ci>
     <csymbol cd="unknown">τ</csymbol>
     <ci>normal-|</ci>
     <cn type="integer">0</cn>
     <ci>normal-,</ci>
     <cn type="integer">0</cn>
     <ci>normal-)</ci>
    </cerror>
    <eq></eq>
    <apply>
     <divide></divide>
     <cn type="integer">1</cn>
     <ci>𝒵</ci>
    </apply>
    <apply>
     <csymbol cd="ambiguous">subscript</csymbol>
     <sum></sum>
     <apply>
      <csymbol cd="ambiguous">superscript</csymbol>
      <ci>α</ci>
      <ci>normal-′</ci>
     </apply>
    </apply>
    <apply>
     <csymbol cd="ambiguous">superscript</csymbol>
     <ci>normal-e</ci>
     <apply>
      <minus></minus>
      <apply>
       <times></times>
       <ci>β</ci>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>E</ci>
        <apply>
         <csymbol cd="ambiguous">superscript</csymbol>
         <ci>α</ci>
         <ci>normal-′</ci>
        </apply>
       </apply>
      </apply>
     </apply>
    </apply>
    <cerror>
     <csymbol cd="ambiguous">fragments</csymbol>
     <ci>normal-⟨</ci>
     <apply>
      <csymbol cd="ambiguous">superscript</csymbol>
      <ci>α</ci>
      <ci>normal-′</ci>
     </apply>
     <ci>normal-|</ci>
     <csymbol cd="unknown">ψ</csymbol>
     <cerror>
      <csymbol cd="ambiguous">fragments</csymbol>
      <ci>normal-(</ci>
      <csymbol cd="unknown">x</csymbol>
      <ci>normal-,</ci>
      <csymbol cd="unknown">τ</csymbol>
      <ci>normal-)</ci>
     </cerror>
     <apply>
      <ci>normal-¯</ci>
      <ci>ψ</ci>
     </apply>
     <cerror>
      <csymbol cd="ambiguous">fragments</csymbol>
      <ci>normal-(</ci>
      <cn type="integer">0</cn>
      <ci>normal-,</ci>
      <cn type="integer">0</cn>
      <ci>normal-)</ci>
     </cerror>
     <ci>normal-|</ci>
     <apply>
      <csymbol cd="ambiguous">superscript</csymbol>
      <ci>α</ci>
      <ci>normal-′</ci>
     </apply>
     <ci>normal-⟩</ci>
    </cerror>
    <ci>normal-.</ci>
   </cerror>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \mathcal{G}(\mathbf{x},\tau|\mathbf{0},0)=\frac{1}{\mathcal{Z}}\sum_{\alpha^{%
\prime}}\mathrm{e}^{-\beta E_{\alpha^{\prime}}}\langle\alpha^{\prime}|\psi(%
\mathbf{x},\tau)\bar{\psi}(\mathbf{0},0)|\alpha^{\prime}\rangle.
  </annotation>
 </semantics>
</math>

 Inserting a complete set of eigenstates gives</p>

<p>

<math display="block" id="Green's_function_(many-body_theory):88">
 <semantics>
  <mrow>
   <mi class="ltx_font_mathcaligraphic">𝒢</mi>
   <mrow>
    <mo stretchy="false">(</mo>
    <mi>𝐱</mi>
    <mo>,</mo>
    <mi>τ</mi>
    <mo stretchy="false">|</mo>
    <mn>𝟎</mn>
    <mo>,</mo>
    <mn>0</mn>
    <mo stretchy="false">)</mo>
   </mrow>
   <mo>=</mo>
   <mfrac>
    <mn>1</mn>
    <mi class="ltx_font_mathcaligraphic">𝒵</mi>
   </mfrac>
   <munder>
    <mo largeop="true" movablelimits="false" symmetric="true">∑</mo>
    <mrow>
     <mi>α</mi>
     <mo>,</mo>
     <msup>
      <mi>α</mi>
      <mo>′</mo>
     </msup>
    </mrow>
   </munder>
   <msup>
    <mi mathvariant="normal">e</mi>
    <mrow>
     <mo>-</mo>
     <mrow>
      <mi>β</mi>
      <msub>
       <mi>E</mi>
       <msup>
        <mi>α</mi>
        <mo>′</mo>
       </msup>
      </msub>
     </mrow>
    </mrow>
   </msup>
   <mrow>
    <mo stretchy="false">⟨</mo>
    <msup>
     <mi>α</mi>
     <mo>′</mo>
    </msup>
    <mo stretchy="false">|</mo>
    <mi>ψ</mi>
    <mrow>
     <mo stretchy="false">(</mo>
     <mi>𝐱</mi>
     <mo>,</mo>
     <mi>τ</mi>
     <mo stretchy="false">)</mo>
    </mrow>
    <mo stretchy="false">|</mo>
    <mi>α</mi>
    <mo stretchy="false">⟩</mo>
   </mrow>
   <mrow>
    <mo stretchy="false">⟨</mo>
    <mi>α</mi>
    <mo stretchy="false">|</mo>
    <mover accent="true">
     <mi>ψ</mi>
     <mo stretchy="false">¯</mo>
    </mover>
    <mrow>
     <mo stretchy="false">(</mo>
     <mn>𝟎</mn>
     <mo>,</mo>
     <mn>0</mn>
     <mo stretchy="false">)</mo>
    </mrow>
    <mo stretchy="false">|</mo>
    <msup>
     <mi>α</mi>
     <mo>′</mo>
    </msup>
    <mo stretchy="false">⟩</mo>
   </mrow>
   <mo>.</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <cerror>
    <csymbol cd="ambiguous">fragments</csymbol>
    <csymbol cd="unknown">G</csymbol>
    <cerror>
     <csymbol cd="ambiguous">fragments</csymbol>
     <ci>normal-(</ci>
     <csymbol cd="unknown">x</csymbol>
     <ci>normal-,</ci>
     <csymbol cd="unknown">τ</csymbol>
     <ci>normal-|</ci>
     <cn type="integer">0</cn>
     <ci>normal-,</ci>
     <cn type="integer">0</cn>
     <ci>normal-)</ci>
    </cerror>
    <eq></eq>
    <apply>
     <divide></divide>
     <cn type="integer">1</cn>
     <ci>𝒵</ci>
    </apply>
    <apply>
     <csymbol cd="ambiguous">subscript</csymbol>
     <sum></sum>
     <list>
      <ci>α</ci>
      <apply>
       <csymbol cd="ambiguous">superscript</csymbol>
       <ci>α</ci>
       <ci>normal-′</ci>
      </apply>
     </list>
    </apply>
    <apply>
     <csymbol cd="ambiguous">superscript</csymbol>
     <ci>normal-e</ci>
     <apply>
      <minus></minus>
      <apply>
       <times></times>
       <ci>β</ci>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>E</ci>
        <apply>
         <csymbol cd="ambiguous">superscript</csymbol>
         <ci>α</ci>
         <ci>normal-′</ci>
        </apply>
       </apply>
      </apply>
     </apply>
    </apply>
    <cerror>
     <csymbol cd="ambiguous">fragments</csymbol>
     <ci>normal-⟨</ci>
     <apply>
      <csymbol cd="ambiguous">superscript</csymbol>
      <ci>α</ci>
      <ci>normal-′</ci>
     </apply>
     <ci>normal-|</ci>
     <csymbol cd="unknown">ψ</csymbol>
     <cerror>
      <csymbol cd="ambiguous">fragments</csymbol>
      <ci>normal-(</ci>
      <csymbol cd="unknown">x</csymbol>
      <ci>normal-,</ci>
      <csymbol cd="unknown">τ</csymbol>
      <ci>normal-)</ci>
     </cerror>
     <ci>normal-|</ci>
     <csymbol cd="unknown">α</csymbol>
     <ci>normal-⟩</ci>
    </cerror>
    <cerror>
     <csymbol cd="ambiguous">fragments</csymbol>
     <ci>normal-⟨</ci>
     <csymbol cd="unknown">α</csymbol>
     <ci>normal-|</ci>
     <apply>
      <ci>normal-¯</ci>
      <ci>ψ</ci>
     </apply>
     <cerror>
      <csymbol cd="ambiguous">fragments</csymbol>
      <ci>normal-(</ci>
      <cn type="integer">0</cn>
      <ci>normal-,</ci>
      <cn type="integer">0</cn>
      <ci>normal-)</ci>
     </cerror>
     <ci>normal-|</ci>
     <apply>
      <csymbol cd="ambiguous">superscript</csymbol>
      <ci>α</ci>
      <ci>normal-′</ci>
     </apply>
     <ci>normal-⟩</ci>
    </cerror>
    <ci>normal-.</ci>
   </cerror>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \mathcal{G}(\mathbf{x},\tau|\mathbf{0},0)=\frac{1}{\mathcal{Z}}\sum_{\alpha,%
\alpha^{\prime}}\mathrm{e}^{-\beta E_{\alpha^{\prime}}}\langle\alpha^{\prime}|%
\psi(\mathbf{x},\tau)|\alpha\rangle\langle\alpha|\bar{\psi}(\mathbf{0},0)|%
\alpha^{\prime}\rangle.
  </annotation>
 </semantics>
</math>

</p>

<p>Since 

<math display="inline" id="Green's_function_(many-body_theory):89">
 <semantics>
  <mrow>
   <mo fence="true" stretchy="false">|</mo>
   <mi>α</mi>
   <mo stretchy="false">⟩</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <csymbol cd="latexml">ket</csymbol>
    <ci>α</ci>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   |\alpha\rangle
  </annotation>
 </semantics>
</math>

 and 

<math display="inline" id="Green's_function_(many-body_theory):90">
 <semantics>
  <mrow>
   <mo fence="true" stretchy="false">|</mo>
   <msup>
    <mi>α</mi>
    <mo>′</mo>
   </msup>
   <mo stretchy="false">⟩</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <csymbol cd="latexml">ket</csymbol>
    <apply>
     <csymbol cd="ambiguous">superscript</csymbol>
     <ci>α</ci>
     <ci>normal-′</ci>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   |\alpha^{\prime}\rangle
  </annotation>
 </semantics>
</math>

 are eigenstates of 

<math display="inline" id="Green's_function_(many-body_theory):91">
 <semantics>
  <mrow>
   <mi>H</mi>
   <mo>-</mo>
   <mrow>
    <mi>μ</mi>
    <mi>N</mi>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <minus></minus>
    <ci>H</ci>
    <apply>
     <times></times>
     <ci>μ</ci>
     <ci>N</ci>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   H-\mu N
  </annotation>
 </semantics>
</math>

, the Heisenberg operators can be rewritten in terms of Schrödinger operators, giving</p>

<p>

<math display="block" id="Green's_function_(many-body_theory):92">
 <semantics>
  <mrow>
   <mi class="ltx_font_mathcaligraphic">𝒢</mi>
   <mrow>
    <mo stretchy="false">(</mo>
    <mi>𝐱</mi>
    <mo>,</mo>
    <mi>τ</mi>
    <mo stretchy="false">|</mo>
    <mn>𝟎</mn>
    <mo>,</mo>
    <mn>0</mn>
    <mo stretchy="false">)</mo>
   </mrow>
   <mo>=</mo>
   <mfrac>
    <mn>1</mn>
    <mi class="ltx_font_mathcaligraphic">𝒵</mi>
   </mfrac>
   <munder>
    <mo largeop="true" movablelimits="false" symmetric="true">∑</mo>
    <mrow>
     <mi>α</mi>
     <mo>,</mo>
     <msup>
      <mi>α</mi>
      <mo>′</mo>
     </msup>
    </mrow>
   </munder>
   <msup>
    <mi mathvariant="normal">e</mi>
    <mrow>
     <mo>-</mo>
     <mrow>
      <mi>β</mi>
      <msub>
       <mi>E</mi>
       <msup>
        <mi>α</mi>
        <mo>′</mo>
       </msup>
      </msub>
     </mrow>
    </mrow>
   </msup>
   <msup>
    <mi mathvariant="normal">e</mi>
    <mrow>
     <mi>τ</mi>
     <mrow>
      <mo stretchy="false">(</mo>
      <mrow>
       <msub>
        <mi>E</mi>
        <msup>
         <mi>α</mi>
         <mo>′</mo>
        </msup>
       </msub>
       <mo>-</mo>
       <msub>
        <mi>E</mi>
        <mi>α</mi>
       </msub>
      </mrow>
      <mo stretchy="false">)</mo>
     </mrow>
    </mrow>
   </msup>
   <mrow>
    <mo stretchy="false">⟨</mo>
    <msup>
     <mi>α</mi>
     <mo>′</mo>
    </msup>
    <mo stretchy="false">|</mo>
    <mi>ψ</mi>
    <mrow>
     <mo stretchy="false">(</mo>
     <mi>𝐱</mi>
     <mo stretchy="false">)</mo>
    </mrow>
    <mo stretchy="false">|</mo>
    <mi>α</mi>
    <mo stretchy="false">⟩</mo>
   </mrow>
   <mrow>
    <mo stretchy="false">⟨</mo>
    <mi>α</mi>
    <mo stretchy="false">|</mo>
    <msup>
     <mi>ψ</mi>
     <mo>†</mo>
    </msup>
    <mrow>
     <mo stretchy="false">(</mo>
     <mn>𝟎</mn>
     <mo stretchy="false">)</mo>
    </mrow>
    <mo stretchy="false">|</mo>
    <msup>
     <mi>α</mi>
     <mo>′</mo>
    </msup>
    <mo stretchy="false">⟩</mo>
   </mrow>
   <mo>.</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <cerror>
    <csymbol cd="ambiguous">fragments</csymbol>
    <csymbol cd="unknown">G</csymbol>
    <cerror>
     <csymbol cd="ambiguous">fragments</csymbol>
     <ci>normal-(</ci>
     <csymbol cd="unknown">x</csymbol>
     <ci>normal-,</ci>
     <csymbol cd="unknown">τ</csymbol>
     <ci>normal-|</ci>
     <cn type="integer">0</cn>
     <ci>normal-,</ci>
     <cn type="integer">0</cn>
     <ci>normal-)</ci>
    </cerror>
    <eq></eq>
    <apply>
     <divide></divide>
     <cn type="integer">1</cn>
     <ci>𝒵</ci>
    </apply>
    <apply>
     <csymbol cd="ambiguous">subscript</csymbol>
     <sum></sum>
     <list>
      <ci>α</ci>
      <apply>
       <csymbol cd="ambiguous">superscript</csymbol>
       <ci>α</ci>
       <ci>normal-′</ci>
      </apply>
     </list>
    </apply>
    <apply>
     <csymbol cd="ambiguous">superscript</csymbol>
     <ci>normal-e</ci>
     <apply>
      <minus></minus>
      <apply>
       <times></times>
       <ci>β</ci>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>E</ci>
        <apply>
         <csymbol cd="ambiguous">superscript</csymbol>
         <ci>α</ci>
         <ci>normal-′</ci>
        </apply>
       </apply>
      </apply>
     </apply>
    </apply>
    <apply>
     <csymbol cd="ambiguous">superscript</csymbol>
     <ci>normal-e</ci>
     <apply>
      <times></times>
      <ci>τ</ci>
      <apply>
       <minus></minus>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>E</ci>
        <apply>
         <csymbol cd="ambiguous">superscript</csymbol>
         <ci>α</ci>
         <ci>normal-′</ci>
        </apply>
       </apply>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>E</ci>
        <ci>α</ci>
       </apply>
      </apply>
     </apply>
    </apply>
    <cerror>
     <csymbol cd="ambiguous">fragments</csymbol>
     <ci>normal-⟨</ci>
     <apply>
      <csymbol cd="ambiguous">superscript</csymbol>
      <ci>α</ci>
      <ci>normal-′</ci>
     </apply>
     <ci>normal-|</ci>
     <csymbol cd="unknown">ψ</csymbol>
     <cerror>
      <csymbol cd="ambiguous">fragments</csymbol>
      <ci>normal-(</ci>
      <csymbol cd="unknown">x</csymbol>
      <ci>normal-)</ci>
     </cerror>
     <ci>normal-|</ci>
     <csymbol cd="unknown">α</csymbol>
     <ci>normal-⟩</ci>
    </cerror>
    <cerror>
     <csymbol cd="ambiguous">fragments</csymbol>
     <ci>normal-⟨</ci>
     <csymbol cd="unknown">α</csymbol>
     <ci>normal-|</ci>
     <apply>
      <csymbol cd="ambiguous">superscript</csymbol>
      <ci>ψ</ci>
      <ci>normal-†</ci>
     </apply>
     <cerror>
      <csymbol cd="ambiguous">fragments</csymbol>
      <ci>normal-(</ci>
      <cn type="integer">0</cn>
      <ci>normal-)</ci>
     </cerror>
     <ci>normal-|</ci>
     <apply>
      <csymbol cd="ambiguous">superscript</csymbol>
      <ci>α</ci>
      <ci>normal-′</ci>
     </apply>
     <ci>normal-⟩</ci>
    </cerror>
    <ci>normal-.</ci>
   </cerror>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \mathcal{G}(\mathbf{x},\tau|\mathbf{0},0)=\frac{1}{\mathcal{Z}}\sum_{\alpha,%
\alpha^{\prime}}\mathrm{e}^{-\beta E_{\alpha^{\prime}}}\mathrm{e}^{\tau(E_{%
\alpha^{\prime}}-E_{\alpha})}\langle\alpha^{\prime}|\psi(\mathbf{x})|\alpha%
\rangle\langle\alpha|\psi^{\dagger}(\mathbf{0})|\alpha^{\prime}\rangle.
  </annotation>
 </semantics>
</math>

 Performing the Fourier transform then gives</p>

<p>

<math display="block" id="Green's_function_(many-body_theory):93">
 <semantics>
  <mrow>
   <mrow>
    <mrow>
     <mi class="ltx_font_mathcaligraphic">𝒢</mi>
     <mrow>
      <mo stretchy="false">(</mo>
      <mi>𝐤</mi>
      <mo>,</mo>
      <msub>
       <mi>ω</mi>
       <mi>n</mi>
      </msub>
      <mo stretchy="false">)</mo>
     </mrow>
    </mrow>
    <mo>=</mo>
    <mrow>
     <mfrac>
      <mn>1</mn>
      <mi class="ltx_font_mathcaligraphic">𝒵</mi>
     </mfrac>
     <mrow>
      <munder>
       <mo largeop="true" movablelimits="false" symmetric="true">∑</mo>
       <mrow>
        <mi>α</mi>
        <mo>,</mo>
        <msup>
         <mi>α</mi>
         <mo>′</mo>
        </msup>
       </mrow>
      </munder>
      <mrow>
       <msup>
        <mi mathvariant="normal">e</mi>
        <mrow>
         <mo>-</mo>
         <mrow>
          <mi>β</mi>
          <msub>
           <mi>E</mi>
           <msup>
            <mi>α</mi>
            <mo>′</mo>
           </msup>
          </msub>
         </mrow>
        </mrow>
       </msup>
       <mfrac>
        <mrow>
         <mn>1</mn>
         <mo>-</mo>
         <mrow>
          <mi>ζ</mi>
          <msup>
           <mi mathvariant="normal">e</mi>
           <mrow>
            <mi>β</mi>
            <mrow>
             <mo stretchy="false">(</mo>
             <mrow>
              <msub>
               <mi>E</mi>
               <msup>
                <mi>α</mi>
                <mo>′</mo>
               </msup>
              </msub>
              <mo>-</mo>
              <msub>
               <mi>E</mi>
               <mi>α</mi>
              </msub>
             </mrow>
             <mo stretchy="false">)</mo>
            </mrow>
           </mrow>
          </msup>
         </mrow>
        </mrow>
        <mrow>
         <mrow>
          <mrow>
           <mo>-</mo>
           <mrow>
            <mi mathvariant="normal">i</mi>
            <msub>
             <mi>ω</mi>
             <mi>n</mi>
            </msub>
           </mrow>
          </mrow>
          <mo>+</mo>
          <msub>
           <mi>E</mi>
           <mi>α</mi>
          </msub>
         </mrow>
         <mo>-</mo>
         <msub>
          <mi>E</mi>
          <msup>
           <mi>α</mi>
           <mo>′</mo>
          </msup>
         </msub>
        </mrow>
       </mfrac>
       <mrow>
        <msub>
         <mo largeop="true" symmetric="true">∫</mo>
         <msup>
          <mi>𝐤</mi>
          <mo>′</mo>
         </msup>
        </msub>
        <mrow>
         <mi>d</mi>
         <msup>
          <mi>𝐤</mi>
          <mo>′</mo>
         </msup>
         <mrow>
          <mo stretchy="false">⟨</mo>
          <mi>α</mi>
          <mo fence="true" stretchy="false">|</mo>
          <mrow>
           <mi>ψ</mi>
           <mrow>
            <mo stretchy="false">(</mo>
            <mi>𝐤</mi>
            <mo stretchy="false">)</mo>
           </mrow>
          </mrow>
          <mo fence="true" stretchy="false">|</mo>
          <msup>
           <mi>α</mi>
           <mo>′</mo>
          </msup>
          <mo stretchy="false">⟩</mo>
         </mrow>
         <mrow>
          <mo stretchy="false">⟨</mo>
          <msup>
           <mi>α</mi>
           <mo>′</mo>
          </msup>
          <mo fence="true" stretchy="false">|</mo>
          <mrow>
           <msup>
            <mi>ψ</mi>
            <mo>†</mo>
           </msup>
           <mrow>
            <mo stretchy="false">(</mo>
            <msup>
             <mi>𝐤</mi>
             <mo>′</mo>
            </msup>
            <mo stretchy="false">)</mo>
           </mrow>
          </mrow>
          <mo fence="true" stretchy="false">|</mo>
          <mi>α</mi>
          <mo stretchy="false">⟩</mo>
         </mrow>
        </mrow>
       </mrow>
      </mrow>
     </mrow>
    </mrow>
   </mrow>
   <mo>.</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <times></times>
     <ci>𝒢</ci>
     <interval closure="open">
      <ci>𝐤</ci>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>ω</ci>
       <ci>n</ci>
      </apply>
     </interval>
    </apply>
    <apply>
     <times></times>
     <apply>
      <divide></divide>
      <cn type="integer">1</cn>
      <ci>𝒵</ci>
     </apply>
     <apply>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <sum></sum>
       <list>
        <ci>α</ci>
        <apply>
         <csymbol cd="ambiguous">superscript</csymbol>
         <ci>α</ci>
         <ci>normal-′</ci>
        </apply>
       </list>
      </apply>
      <apply>
       <times></times>
       <apply>
        <csymbol cd="ambiguous">superscript</csymbol>
        <ci>normal-e</ci>
        <apply>
         <minus></minus>
         <apply>
          <times></times>
          <ci>β</ci>
          <apply>
           <csymbol cd="ambiguous">subscript</csymbol>
           <ci>E</ci>
           <apply>
            <csymbol cd="ambiguous">superscript</csymbol>
            <ci>α</ci>
            <ci>normal-′</ci>
           </apply>
          </apply>
         </apply>
        </apply>
       </apply>
       <apply>
        <divide></divide>
        <apply>
         <minus></minus>
         <cn type="integer">1</cn>
         <apply>
          <times></times>
          <ci>ζ</ci>
          <apply>
           <csymbol cd="ambiguous">superscript</csymbol>
           <ci>normal-e</ci>
           <apply>
            <times></times>
            <ci>β</ci>
            <apply>
             <minus></minus>
             <apply>
              <csymbol cd="ambiguous">subscript</csymbol>
              <ci>E</ci>
              <apply>
               <csymbol cd="ambiguous">superscript</csymbol>
               <ci>α</ci>
               <ci>normal-′</ci>
              </apply>
             </apply>
             <apply>
              <csymbol cd="ambiguous">subscript</csymbol>
              <ci>E</ci>
              <ci>α</ci>
             </apply>
            </apply>
           </apply>
          </apply>
         </apply>
        </apply>
        <apply>
         <minus></minus>
         <apply>
          <plus></plus>
          <apply>
           <minus></minus>
           <apply>
            <times></times>
            <ci>normal-i</ci>
            <apply>
             <csymbol cd="ambiguous">subscript</csymbol>
             <ci>ω</ci>
             <ci>n</ci>
            </apply>
           </apply>
          </apply>
          <apply>
           <csymbol cd="ambiguous">subscript</csymbol>
           <ci>E</ci>
           <ci>α</ci>
          </apply>
         </apply>
         <apply>
          <csymbol cd="ambiguous">subscript</csymbol>
          <ci>E</ci>
          <apply>
           <csymbol cd="ambiguous">superscript</csymbol>
           <ci>α</ci>
           <ci>normal-′</ci>
          </apply>
         </apply>
        </apply>
       </apply>
       <apply>
        <apply>
         <csymbol cd="ambiguous">subscript</csymbol>
         <int></int>
         <apply>
          <csymbol cd="ambiguous">superscript</csymbol>
          <ci>𝐤</ci>
          <ci>normal-′</ci>
         </apply>
        </apply>
        <apply>
         <times></times>
         <ci>d</ci>
         <apply>
          <csymbol cd="ambiguous">superscript</csymbol>
          <ci>𝐤</ci>
          <ci>normal-′</ci>
         </apply>
         <apply>
          <csymbol cd="latexml">quantum-operator-product</csymbol>
          <ci>α</ci>
          <apply>
           <times></times>
           <ci>ψ</ci>
           <ci>𝐤</ci>
          </apply>
          <apply>
           <csymbol cd="ambiguous">superscript</csymbol>
           <ci>α</ci>
           <ci>normal-′</ci>
          </apply>
         </apply>
         <apply>
          <csymbol cd="latexml">quantum-operator-product</csymbol>
          <apply>
           <csymbol cd="ambiguous">superscript</csymbol>
           <ci>α</ci>
           <ci>normal-′</ci>
          </apply>
          <apply>
           <times></times>
           <apply>
            <csymbol cd="ambiguous">superscript</csymbol>
            <ci>ψ</ci>
            <ci>normal-†</ci>
           </apply>
           <apply>
            <csymbol cd="ambiguous">superscript</csymbol>
            <ci>𝐤</ci>
            <ci>normal-′</ci>
           </apply>
          </apply>
          <ci>α</ci>
         </apply>
        </apply>
       </apply>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \mathcal{G}(\mathbf{k},\omega_{n})=\frac{1}{\mathcal{Z}}\sum_{\alpha,\alpha^{%
\prime}}\mathrm{e}^{-\beta E_{\alpha^{\prime}}}\frac{1-\zeta\mathrm{e}^{\beta(%
E_{\alpha^{\prime}}-E_{\alpha})}}{-\mathrm{i}\omega_{n}+E_{\alpha}-E_{\alpha^{%
\prime}}}\int_{\mathbf{k}^{\prime}}d\mathbf{k}^{\prime}\langle\alpha|\psi(%
\mathbf{k})|\alpha^{\prime}\rangle\langle\alpha^{\prime}|\psi^{\dagger}(%
\mathbf{k}^{\prime})|\alpha\rangle.
  </annotation>
 </semantics>
</math>

</p>

<p>Momentum conservation allows the final term to be written as (up to possible factors of the volume)</p>

<p>

<math display="block" id="Green's_function_(many-body_theory):94">
 <semantics>
  <mrow>
   <msup>
    <mrow>
     <mo stretchy="false">|</mo>
     <mrow>
      <mo stretchy="false">⟨</mo>
      <msup>
       <mi>α</mi>
       <mo>′</mo>
      </msup>
      <mo fence="true" stretchy="false">|</mo>
      <mrow>
       <msup>
        <mi>ψ</mi>
        <mo>†</mo>
       </msup>
       <mrow>
        <mo stretchy="false">(</mo>
        <mi>𝐤</mi>
        <mo stretchy="false">)</mo>
       </mrow>
      </mrow>
      <mo fence="true" stretchy="false">|</mo>
      <mi>α</mi>
      <mo stretchy="false">⟩</mo>
     </mrow>
     <mo stretchy="false">|</mo>
    </mrow>
    <mn>2</mn>
   </msup>
   <mo>,</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <csymbol cd="ambiguous">superscript</csymbol>
    <apply>
     <abs></abs>
     <apply>
      <csymbol cd="latexml">quantum-operator-product</csymbol>
      <apply>
       <csymbol cd="ambiguous">superscript</csymbol>
       <ci>α</ci>
       <ci>normal-′</ci>
      </apply>
      <apply>
       <times></times>
       <apply>
        <csymbol cd="ambiguous">superscript</csymbol>
        <ci>ψ</ci>
        <ci>normal-†</ci>
       </apply>
       <ci>𝐤</ci>
      </apply>
      <ci>α</ci>
     </apply>
    </apply>
    <cn type="integer">2</cn>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   |\langle\alpha^{\prime}|\psi^{\dagger}(\mathbf{k})|\alpha\rangle|^{2},
  </annotation>
 </semantics>
</math>

 which confirms the expressions for the Green functions in the spectral representation.</p>

<p>The sum rule can be proved by considering the expectation value of the commutator,</p>

<p>

<math display="block" id="Green's_function_(many-body_theory):95">
 <semantics>
  <mrow>
   <mrow>
    <mn>1</mn>
    <mo>=</mo>
    <mrow>
     <mfrac>
      <mn>1</mn>
      <mi class="ltx_font_mathcaligraphic">𝒵</mi>
     </mfrac>
     <mrow>
      <munder>
       <mo largeop="true" movablelimits="false" symmetric="true">∑</mo>
       <mi>α</mi>
      </munder>
      <mrow>
       <mo stretchy="false">⟨</mo>
       <mi>α</mi>
       <mo fence="true" stretchy="false">|</mo>
       <mrow>
        <msup>
         <mi mathvariant="normal">e</mi>
         <mrow>
          <mo>-</mo>
          <mrow>
           <mi>β</mi>
           <mrow>
            <mo stretchy="false">(</mo>
            <mrow>
             <mi>H</mi>
             <mo>-</mo>
             <mrow>
              <mi>μ</mi>
              <mi>N</mi>
             </mrow>
            </mrow>
            <mo stretchy="false">)</mo>
           </mrow>
          </mrow>
         </mrow>
        </msup>
        <msub>
         <mrow>
          <mo stretchy="false">[</mo>
          <msub>
           <mi>ψ</mi>
           <mi>𝐤</mi>
          </msub>
          <mo>,</mo>
          <msubsup>
           <mi>ψ</mi>
           <mi>𝐤</mi>
           <mo>†</mo>
          </msubsup>
          <mo stretchy="false">]</mo>
         </mrow>
         <mrow>
          <mo>-</mo>
          <mi>ζ</mi>
         </mrow>
        </msub>
       </mrow>
       <mo fence="true" stretchy="false">|</mo>
       <mi>α</mi>
       <mo stretchy="false">⟩</mo>
      </mrow>
     </mrow>
    </mrow>
   </mrow>
   <mo>,</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <cn type="integer">1</cn>
    <apply>
     <times></times>
     <apply>
      <divide></divide>
      <cn type="integer">1</cn>
      <ci>𝒵</ci>
     </apply>
     <apply>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <sum></sum>
       <ci>α</ci>
      </apply>
      <apply>
       <csymbol cd="latexml">quantum-operator-product</csymbol>
       <ci>α</ci>
       <apply>
        <times></times>
        <apply>
         <csymbol cd="ambiguous">superscript</csymbol>
         <ci>normal-e</ci>
         <apply>
          <minus></minus>
          <apply>
           <times></times>
           <ci>β</ci>
           <apply>
            <minus></minus>
            <ci>H</ci>
            <apply>
             <times></times>
             <ci>μ</ci>
             <ci>N</ci>
            </apply>
           </apply>
          </apply>
         </apply>
        </apply>
        <apply>
         <csymbol cd="ambiguous">subscript</csymbol>
         <interval closure="closed">
          <apply>
           <csymbol cd="ambiguous">subscript</csymbol>
           <ci>ψ</ci>
           <ci>𝐤</ci>
          </apply>
          <apply>
           <csymbol cd="ambiguous">superscript</csymbol>
           <apply>
            <csymbol cd="ambiguous">subscript</csymbol>
            <ci>ψ</ci>
            <ci>𝐤</ci>
           </apply>
           <ci>normal-†</ci>
          </apply>
         </interval>
         <apply>
          <minus></minus>
          <ci>ζ</ci>
         </apply>
        </apply>
       </apply>
       <ci>α</ci>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   1=\frac{1}{\mathcal{Z}}\sum_{\alpha}\langle\alpha|\mathrm{e}^{-\beta(H-\mu N)}%
[\psi_{\mathbf{k}},\psi_{\mathbf{k}}^{\dagger}]_{-\zeta}|\alpha\rangle,
  </annotation>
 </semantics>
</math>

 and then inserting a complete set of eigenstates into both terms of the commutator:</p>

<p>

<math display="block" id="Green's_function_(many-body_theory):96">
 <semantics>
  <mrow>
   <mrow>
    <mn>1</mn>
    <mo>=</mo>
    <mrow>
     <mfrac>
      <mn>1</mn>
      <mi class="ltx_font_mathcaligraphic">𝒵</mi>
     </mfrac>
     <mrow>
      <munder>
       <mo largeop="true" movablelimits="false" symmetric="true">∑</mo>
       <mrow>
        <mi>α</mi>
        <mo>,</mo>
        <msup>
         <mi>α</mi>
         <mo>′</mo>
        </msup>
       </mrow>
      </munder>
      <mrow>
       <msup>
        <mi mathvariant="normal">e</mi>
        <mrow>
         <mo>-</mo>
         <mrow>
          <mi>β</mi>
          <msub>
           <mi>E</mi>
           <mi>α</mi>
          </msub>
         </mrow>
        </mrow>
       </msup>
       <mrow>
        <mo>(</mo>
        <mrow>
         <mrow>
          <mrow>
           <mo stretchy="false">⟨</mo>
           <mi>α</mi>
           <mo fence="true" stretchy="false">|</mo>
           <msub>
            <mi>ψ</mi>
            <mi>𝐤</mi>
           </msub>
           <mo fence="true" stretchy="false">|</mo>
           <msup>
            <mi>α</mi>
            <mo>′</mo>
           </msup>
           <mo stretchy="false">⟩</mo>
          </mrow>
          <mrow>
           <mo stretchy="false">⟨</mo>
           <msup>
            <mi>α</mi>
            <mo>′</mo>
           </msup>
           <mo fence="true" stretchy="false">|</mo>
           <msubsup>
            <mi>ψ</mi>
            <mi>𝐤</mi>
            <mo>†</mo>
           </msubsup>
           <mo fence="true" stretchy="false">|</mo>
           <mi>α</mi>
           <mo stretchy="false">⟩</mo>
          </mrow>
         </mrow>
         <mo>-</mo>
         <mrow>
          <mi>ζ</mi>
          <mrow>
           <mo stretchy="false">⟨</mo>
           <mi>α</mi>
           <mo fence="true" stretchy="false">|</mo>
           <msubsup>
            <mi>ψ</mi>
            <mi>𝐤</mi>
            <mo>†</mo>
           </msubsup>
           <mo fence="true" stretchy="false">|</mo>
           <msup>
            <mi>α</mi>
            <mo>′</mo>
           </msup>
           <mo stretchy="false">⟩</mo>
          </mrow>
          <mrow>
           <mo stretchy="false">⟨</mo>
           <msup>
            <mi>α</mi>
            <mo>′</mo>
           </msup>
           <mo fence="true" stretchy="false">|</mo>
           <msub>
            <mi>ψ</mi>
            <mi>𝐤</mi>
           </msub>
           <mo fence="true" stretchy="false">|</mo>
           <mi>α</mi>
           <mo stretchy="false">⟩</mo>
          </mrow>
         </mrow>
        </mrow>
        <mo>)</mo>
       </mrow>
      </mrow>
     </mrow>
    </mrow>
   </mrow>
   <mo>.</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <cn type="integer">1</cn>
    <apply>
     <times></times>
     <apply>
      <divide></divide>
      <cn type="integer">1</cn>
      <ci>𝒵</ci>
     </apply>
     <apply>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <sum></sum>
       <list>
        <ci>α</ci>
        <apply>
         <csymbol cd="ambiguous">superscript</csymbol>
         <ci>α</ci>
         <ci>normal-′</ci>
        </apply>
       </list>
      </apply>
      <apply>
       <times></times>
       <apply>
        <csymbol cd="ambiguous">superscript</csymbol>
        <ci>normal-e</ci>
        <apply>
         <minus></minus>
         <apply>
          <times></times>
          <ci>β</ci>
          <apply>
           <csymbol cd="ambiguous">subscript</csymbol>
           <ci>E</ci>
           <ci>α</ci>
          </apply>
         </apply>
        </apply>
       </apply>
       <apply>
        <minus></minus>
        <apply>
         <times></times>
         <apply>
          <csymbol cd="latexml">quantum-operator-product</csymbol>
          <ci>α</ci>
          <apply>
           <csymbol cd="ambiguous">subscript</csymbol>
           <ci>ψ</ci>
           <ci>𝐤</ci>
          </apply>
          <apply>
           <csymbol cd="ambiguous">superscript</csymbol>
           <ci>α</ci>
           <ci>normal-′</ci>
          </apply>
         </apply>
         <apply>
          <csymbol cd="latexml">quantum-operator-product</csymbol>
          <apply>
           <csymbol cd="ambiguous">superscript</csymbol>
           <ci>α</ci>
           <ci>normal-′</ci>
          </apply>
          <apply>
           <csymbol cd="ambiguous">superscript</csymbol>
           <apply>
            <csymbol cd="ambiguous">subscript</csymbol>
            <ci>ψ</ci>
            <ci>𝐤</ci>
           </apply>
           <ci>normal-†</ci>
          </apply>
          <ci>α</ci>
         </apply>
        </apply>
        <apply>
         <times></times>
         <ci>ζ</ci>
         <apply>
          <csymbol cd="latexml">quantum-operator-product</csymbol>
          <ci>α</ci>
          <apply>
           <csymbol cd="ambiguous">superscript</csymbol>
           <apply>
            <csymbol cd="ambiguous">subscript</csymbol>
            <ci>ψ</ci>
            <ci>𝐤</ci>
           </apply>
           <ci>normal-†</ci>
          </apply>
          <apply>
           <csymbol cd="ambiguous">superscript</csymbol>
           <ci>α</ci>
           <ci>normal-′</ci>
          </apply>
         </apply>
         <apply>
          <csymbol cd="latexml">quantum-operator-product</csymbol>
          <apply>
           <csymbol cd="ambiguous">superscript</csymbol>
           <ci>α</ci>
           <ci>normal-′</ci>
          </apply>
          <apply>
           <csymbol cd="ambiguous">subscript</csymbol>
           <ci>ψ</ci>
           <ci>𝐤</ci>
          </apply>
          <ci>α</ci>
         </apply>
        </apply>
       </apply>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   1=\frac{1}{\mathcal{Z}}\sum_{\alpha,\alpha^{\prime}}\mathrm{e}^{-\beta E_{%
\alpha}}\left(\langle\alpha|\psi_{\mathbf{k}}|\alpha^{\prime}\rangle\langle%
\alpha^{\prime}|\psi_{\mathbf{k}}^{\dagger}|\alpha\rangle-\zeta\langle\alpha|%
\psi_{\mathbf{k}}^{\dagger}|\alpha^{\prime}\rangle\langle\alpha^{\prime}|\psi_%
{\mathbf{k}}|\alpha\rangle\right).
  </annotation>
 </semantics>
</math>

</p>

<p>Swapping the labels in the first term then gives</p>

<p>

<math display="block" id="Green's_function_(many-body_theory):97">
 <semantics>
  <mrow>
   <mrow>
    <mn>1</mn>
    <mo>=</mo>
    <mrow>
     <mfrac>
      <mn>1</mn>
      <mi class="ltx_font_mathcaligraphic">𝒵</mi>
     </mfrac>
     <mrow>
      <munder>
       <mo largeop="true" movablelimits="false" symmetric="true">∑</mo>
       <mrow>
        <mi>α</mi>
        <mo>,</mo>
        <msup>
         <mi>α</mi>
         <mo>′</mo>
        </msup>
       </mrow>
      </munder>
      <mrow>
       <mrow>
        <mo>(</mo>
        <mrow>
         <msup>
          <mi mathvariant="normal">e</mi>
          <mrow>
           <mo>-</mo>
           <mrow>
            <mi>β</mi>
            <msub>
             <mi>E</mi>
             <msup>
              <mi>α</mi>
              <mo>′</mo>
             </msup>
            </msub>
           </mrow>
          </mrow>
         </msup>
         <mo>-</mo>
         <mrow>
          <mi>ζ</mi>
          <msup>
           <mi mathvariant="normal">e</mi>
           <mrow>
            <mo>-</mo>
            <mrow>
             <mi>β</mi>
             <msub>
              <mi>E</mi>
              <mi>α</mi>
             </msub>
            </mrow>
           </mrow>
          </msup>
         </mrow>
        </mrow>
        <mo>)</mo>
       </mrow>
       <msup>
        <mrow>
         <mo stretchy="false">|</mo>
         <mrow>
          <mo stretchy="false">⟨</mo>
          <mi>α</mi>
          <mo fence="true" stretchy="false">|</mo>
          <msubsup>
           <mi>ψ</mi>
           <mi>𝐤</mi>
           <mo>†</mo>
          </msubsup>
          <mo fence="true" stretchy="false">|</mo>
          <msup>
           <mi>α</mi>
           <mo>′</mo>
          </msup>
          <mo stretchy="false">⟩</mo>
         </mrow>
         <mo stretchy="false">|</mo>
        </mrow>
        <mn>2</mn>
       </msup>
      </mrow>
     </mrow>
    </mrow>
   </mrow>
   <mo>,</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <cn type="integer">1</cn>
    <apply>
     <times></times>
     <apply>
      <divide></divide>
      <cn type="integer">1</cn>
      <ci>𝒵</ci>
     </apply>
     <apply>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <sum></sum>
       <list>
        <ci>α</ci>
        <apply>
         <csymbol cd="ambiguous">superscript</csymbol>
         <ci>α</ci>
         <ci>normal-′</ci>
        </apply>
       </list>
      </apply>
      <apply>
       <times></times>
       <apply>
        <minus></minus>
        <apply>
         <csymbol cd="ambiguous">superscript</csymbol>
         <ci>normal-e</ci>
         <apply>
          <minus></minus>
          <apply>
           <times></times>
           <ci>β</ci>
           <apply>
            <csymbol cd="ambiguous">subscript</csymbol>
            <ci>E</ci>
            <apply>
             <csymbol cd="ambiguous">superscript</csymbol>
             <ci>α</ci>
             <ci>normal-′</ci>
            </apply>
           </apply>
          </apply>
         </apply>
        </apply>
        <apply>
         <times></times>
         <ci>ζ</ci>
         <apply>
          <csymbol cd="ambiguous">superscript</csymbol>
          <ci>normal-e</ci>
          <apply>
           <minus></minus>
           <apply>
            <times></times>
            <ci>β</ci>
            <apply>
             <csymbol cd="ambiguous">subscript</csymbol>
             <ci>E</ci>
             <ci>α</ci>
            </apply>
           </apply>
          </apply>
         </apply>
        </apply>
       </apply>
       <apply>
        <csymbol cd="ambiguous">superscript</csymbol>
        <apply>
         <abs></abs>
         <apply>
          <csymbol cd="latexml">quantum-operator-product</csymbol>
          <ci>α</ci>
          <apply>
           <csymbol cd="ambiguous">superscript</csymbol>
           <apply>
            <csymbol cd="ambiguous">subscript</csymbol>
            <ci>ψ</ci>
            <ci>𝐤</ci>
           </apply>
           <ci>normal-†</ci>
          </apply>
          <apply>
           <csymbol cd="ambiguous">superscript</csymbol>
           <ci>α</ci>
           <ci>normal-′</ci>
          </apply>
         </apply>
        </apply>
        <cn type="integer">2</cn>
       </apply>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   1=\frac{1}{\mathcal{Z}}\sum_{\alpha,\alpha^{\prime}}\left(\mathrm{e}^{-\beta E%
_{\alpha^{\prime}}}-\zeta\mathrm{e}^{-\beta E_{\alpha}}\right)|\langle\alpha|%
\psi_{\mathbf{k}}^{\dagger}|\alpha^{\prime}\rangle|^{2},
  </annotation>
 </semantics>
</math>

 which is exactly the result of the integration of 

<math display="inline" id="Green's_function_(many-body_theory):98">
 <semantics>
  <mi>ρ</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>ρ</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \rho
  </annotation>
 </semantics>
</math>

.</p>
<h4 id="non-interacting-case">Non-interacting case</h4>

<p>In the non-interacting case, 

<math display="inline" id="Green's_function_(many-body_theory):99">
 <semantics>
  <mrow>
   <msubsup>
    <mi>ψ</mi>
    <mi>𝐤</mi>
    <mo>†</mo>
   </msubsup>
   <mrow>
    <mo fence="true" stretchy="false">|</mo>
    <msup>
     <mi>α</mi>
     <mo>′</mo>
    </msup>
    <mo stretchy="false">⟩</mo>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <times></times>
    <apply>
     <csymbol cd="ambiguous">superscript</csymbol>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <ci>ψ</ci>
      <ci>𝐤</ci>
     </apply>
     <ci>normal-†</ci>
    </apply>
    <apply>
     <csymbol cd="latexml">ket</csymbol>
     <apply>
      <csymbol cd="ambiguous">superscript</csymbol>
      <ci>α</ci>
      <ci>normal-′</ci>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \psi_{\mathbf{k}}^{\dagger}|\alpha^{\prime}\rangle
  </annotation>
 </semantics>
</math>

 is an eigenstate with (grand-canonical) energy 

<math display="inline" id="Green's_function_(many-body_theory):100">
 <semantics>
  <mrow>
   <msub>
    <mi>E</mi>
    <msup>
     <mi>α</mi>
     <mo>′</mo>
    </msup>
   </msub>
   <mo>+</mo>
   <msub>
    <mi>ξ</mi>
    <mi>𝐤</mi>
   </msub>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <plus></plus>
    <apply>
     <csymbol cd="ambiguous">subscript</csymbol>
     <ci>E</ci>
     <apply>
      <csymbol cd="ambiguous">superscript</csymbol>
      <ci>α</ci>
      <ci>normal-′</ci>
     </apply>
    </apply>
    <apply>
     <csymbol cd="ambiguous">subscript</csymbol>
     <ci>ξ</ci>
     <ci>𝐤</ci>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   E_{\alpha^{\prime}}+\xi_{\mathbf{k}}
  </annotation>
 </semantics>
</math>

, where 

<math display="inline" id="Green's_function_(many-body_theory):101">
 <semantics>
  <mrow>
   <msub>
    <mi>ξ</mi>
    <mi>𝐤</mi>
   </msub>
   <mo>=</mo>
   <mrow>
    <msub>
     <mi>ϵ</mi>
     <mi>𝐤</mi>
    </msub>
    <mo>-</mo>
    <mi>μ</mi>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <csymbol cd="ambiguous">subscript</csymbol>
     <ci>ξ</ci>
     <ci>𝐤</ci>
    </apply>
    <apply>
     <minus></minus>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <ci>ϵ</ci>
      <ci>𝐤</ci>
     </apply>
     <ci>μ</ci>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \xi_{\mathbf{k}}=\epsilon_{\mathbf{k}}-\mu
  </annotation>
 </semantics>
</math>

 is the single-particle dispersion relation measured with respect to the chemical potential. The spectral density therefore becomes</p>

<p>

<math display="block" id="Green's_function_(many-body_theory):102">
 <semantics>
  <mrow>
   <mrow>
    <mrow>
     <msub>
      <mi>ρ</mi>
      <mn>0</mn>
     </msub>
     <mrow>
      <mo stretchy="false">(</mo>
      <mi>𝐤</mi>
      <mo>,</mo>
      <mi>ω</mi>
      <mo stretchy="false">)</mo>
     </mrow>
    </mrow>
    <mo>=</mo>
    <mrow>
     <mfrac>
      <mn>1</mn>
      <mi class="ltx_font_mathcaligraphic">𝒵</mi>
     </mfrac>
     <mn>2</mn>
     <mi>π</mi>
     <mi>δ</mi>
     <mrow>
      <mo stretchy="false">(</mo>
      <mrow>
       <msub>
        <mi>ξ</mi>
        <mi>𝐤</mi>
       </msub>
       <mo>-</mo>
       <mi>ω</mi>
      </mrow>
      <mo stretchy="false">)</mo>
     </mrow>
     <mrow>
      <munder>
       <mo largeop="true" movablelimits="false" symmetric="true">∑</mo>
       <msup>
        <mi>α</mi>
        <mo>′</mo>
       </msup>
      </munder>
      <mrow>
       <mrow>
        <mo stretchy="false">⟨</mo>
        <msup>
         <mi>α</mi>
         <mo>′</mo>
        </msup>
        <mo fence="true" stretchy="false">|</mo>
        <mrow>
         <msub>
          <mi>ψ</mi>
          <mi>𝐤</mi>
         </msub>
         <msubsup>
          <mi>ψ</mi>
          <mi>𝐤</mi>
          <mo>†</mo>
         </msubsup>
        </mrow>
        <mo fence="true" stretchy="false">|</mo>
        <msup>
         <mi>α</mi>
         <mo>′</mo>
        </msup>
        <mo stretchy="false">⟩</mo>
       </mrow>
       <mrow>
        <mo stretchy="false">(</mo>
        <mrow>
         <mn>1</mn>
         <mo>-</mo>
         <mrow>
          <mi>ζ</mi>
          <msup>
           <mi mathvariant="normal">e</mi>
           <mrow>
            <mo>-</mo>
            <mrow>
             <mi>β</mi>
             <msub>
              <mi>ξ</mi>
              <mi>𝐤</mi>
             </msub>
            </mrow>
           </mrow>
          </msup>
         </mrow>
        </mrow>
        <mo stretchy="false">)</mo>
       </mrow>
       <msup>
        <mi mathvariant="normal">e</mi>
        <mrow>
         <mo>-</mo>
         <mrow>
          <mi>β</mi>
          <msub>
           <mi>E</mi>
           <msup>
            <mi>α</mi>
            <mo>′</mo>
           </msup>
          </msub>
         </mrow>
        </mrow>
       </msup>
      </mrow>
     </mrow>
    </mrow>
   </mrow>
   <mo>.</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <times></times>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <ci>ρ</ci>
      <cn type="integer">0</cn>
     </apply>
     <interval closure="open">
      <ci>𝐤</ci>
      <ci>ω</ci>
     </interval>
    </apply>
    <apply>
     <times></times>
     <apply>
      <divide></divide>
      <cn type="integer">1</cn>
      <ci>𝒵</ci>
     </apply>
     <cn type="float">2</cn>
     <ci>π</ci>
     <ci>δ</ci>
     <apply>
      <minus></minus>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>ξ</ci>
       <ci>𝐤</ci>
      </apply>
      <ci>ω</ci>
     </apply>
     <apply>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <sum></sum>
       <apply>
        <csymbol cd="ambiguous">superscript</csymbol>
        <ci>α</ci>
        <ci>normal-′</ci>
       </apply>
      </apply>
      <apply>
       <times></times>
       <apply>
        <csymbol cd="latexml">quantum-operator-product</csymbol>
        <apply>
         <csymbol cd="ambiguous">superscript</csymbol>
         <ci>α</ci>
         <ci>normal-′</ci>
        </apply>
        <apply>
         <times></times>
         <apply>
          <csymbol cd="ambiguous">subscript</csymbol>
          <ci>ψ</ci>
          <ci>𝐤</ci>
         </apply>
         <apply>
          <csymbol cd="ambiguous">superscript</csymbol>
          <apply>
           <csymbol cd="ambiguous">subscript</csymbol>
           <ci>ψ</ci>
           <ci>𝐤</ci>
          </apply>
          <ci>normal-†</ci>
         </apply>
        </apply>
        <apply>
         <csymbol cd="ambiguous">superscript</csymbol>
         <ci>α</ci>
         <ci>normal-′</ci>
        </apply>
       </apply>
       <apply>
        <minus></minus>
        <cn type="integer">1</cn>
        <apply>
         <times></times>
         <ci>ζ</ci>
         <apply>
          <csymbol cd="ambiguous">superscript</csymbol>
          <ci>normal-e</ci>
          <apply>
           <minus></minus>
           <apply>
            <times></times>
            <ci>β</ci>
            <apply>
             <csymbol cd="ambiguous">subscript</csymbol>
             <ci>ξ</ci>
             <ci>𝐤</ci>
            </apply>
           </apply>
          </apply>
         </apply>
        </apply>
       </apply>
       <apply>
        <csymbol cd="ambiguous">superscript</csymbol>
        <ci>normal-e</ci>
        <apply>
         <minus></minus>
         <apply>
          <times></times>
          <ci>β</ci>
          <apply>
           <csymbol cd="ambiguous">subscript</csymbol>
           <ci>E</ci>
           <apply>
            <csymbol cd="ambiguous">superscript</csymbol>
            <ci>α</ci>
            <ci>normal-′</ci>
           </apply>
          </apply>
         </apply>
        </apply>
       </apply>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \rho_{0}(\mathbf{k},\omega)=\frac{1}{\mathcal{Z}}\,2\pi\delta(\xi_{\mathbf{k}}%
-\omega)\sum_{\alpha^{\prime}}\langle\alpha^{\prime}|\psi_{\mathbf{k}}\psi_{%
\mathbf{k}}^{\dagger}|\alpha^{\prime}\rangle(1-\zeta\mathrm{e}^{-\beta\xi_{%
\mathbf{k}}})\mathrm{e}^{-\beta E_{\alpha^{\prime}}}.
  </annotation>
 </semantics>
</math>

</p>

<p>From the commutation relations,</p>

<p>

<math display="block" id="Green's_function_(many-body_theory):103">
 <semantics>
  <mrow>
   <mrow>
    <mrow>
     <mo stretchy="false">⟨</mo>
     <msup>
      <mi>α</mi>
      <mo>′</mo>
     </msup>
     <mo fence="true" stretchy="false">|</mo>
     <mrow>
      <msub>
       <mi>ψ</mi>
       <mi>𝐤</mi>
      </msub>
      <msubsup>
       <mi>ψ</mi>
       <mi>𝐤</mi>
       <mo>†</mo>
      </msubsup>
     </mrow>
     <mo fence="true" stretchy="false">|</mo>
     <msup>
      <mi>α</mi>
      <mo>′</mo>
     </msup>
     <mo stretchy="false">⟩</mo>
    </mrow>
    <mo>=</mo>
    <mrow>
     <mo stretchy="false">⟨</mo>
     <msup>
      <mi>α</mi>
      <mo>′</mo>
     </msup>
     <mo fence="true" stretchy="false">|</mo>
     <mrow>
      <mo stretchy="false">(</mo>
      <mrow>
       <mn>1</mn>
       <mo>+</mo>
       <mrow>
        <mi>ζ</mi>
        <msubsup>
         <mi>ψ</mi>
         <mi>𝐤</mi>
         <mo>†</mo>
        </msubsup>
        <msub>
         <mi>ψ</mi>
         <mi>𝐤</mi>
        </msub>
       </mrow>
      </mrow>
      <mo stretchy="false">)</mo>
     </mrow>
     <mo fence="true" stretchy="false">|</mo>
     <msup>
      <mi>α</mi>
      <mo>′</mo>
     </msup>
     <mo stretchy="false">⟩</mo>
    </mrow>
   </mrow>
   <mo>,</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <csymbol cd="latexml">quantum-operator-product</csymbol>
     <apply>
      <csymbol cd="ambiguous">superscript</csymbol>
      <ci>α</ci>
      <ci>normal-′</ci>
     </apply>
     <apply>
      <times></times>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>ψ</ci>
       <ci>𝐤</ci>
      </apply>
      <apply>
       <csymbol cd="ambiguous">superscript</csymbol>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>ψ</ci>
        <ci>𝐤</ci>
       </apply>
       <ci>normal-†</ci>
      </apply>
     </apply>
     <apply>
      <csymbol cd="ambiguous">superscript</csymbol>
      <ci>α</ci>
      <ci>normal-′</ci>
     </apply>
    </apply>
    <apply>
     <csymbol cd="latexml">quantum-operator-product</csymbol>
     <apply>
      <csymbol cd="ambiguous">superscript</csymbol>
      <ci>α</ci>
      <ci>normal-′</ci>
     </apply>
     <apply>
      <plus></plus>
      <cn type="integer">1</cn>
      <apply>
       <times></times>
       <ci>ζ</ci>
       <apply>
        <csymbol cd="ambiguous">superscript</csymbol>
        <apply>
         <csymbol cd="ambiguous">subscript</csymbol>
         <ci>ψ</ci>
         <ci>𝐤</ci>
        </apply>
        <ci>normal-†</ci>
       </apply>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>ψ</ci>
        <ci>𝐤</ci>
       </apply>
      </apply>
     </apply>
     <apply>
      <csymbol cd="ambiguous">superscript</csymbol>
      <ci>α</ci>
      <ci>normal-′</ci>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \langle\alpha^{\prime}|\psi_{\mathbf{k}}\psi_{\mathbf{k}}^{\dagger}|\alpha^{%
\prime}\rangle=\langle\alpha^{\prime}|(1+\zeta\psi_{\mathbf{k}}^{\dagger}\psi_%
{\mathbf{k}})|\alpha^{\prime}\rangle,
  </annotation>
 </semantics>
</math>

 with possible factors of the volume again. The sum, which involves the thermal average of the number operator, then gives simply 

<math display="inline" id="Green's_function_(many-body_theory):104">
 <semantics>
  <mrow>
   <mrow>
    <mo stretchy="false">[</mo>
    <mrow>
     <mn>1</mn>
     <mo>+</mo>
     <mrow>
      <mi>ζ</mi>
      <mi>n</mi>
      <mrow>
       <mo stretchy="false">(</mo>
       <msub>
        <mi>ξ</mi>
        <mi>𝐤</mi>
       </msub>
       <mo stretchy="false">)</mo>
      </mrow>
     </mrow>
    </mrow>
    <mo stretchy="false">]</mo>
   </mrow>
   <mi class="ltx_font_mathcaligraphic">𝒵</mi>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <times></times>
    <apply>
     <csymbol cd="latexml">delimited-[]</csymbol>
     <apply>
      <plus></plus>
      <cn type="integer">1</cn>
      <apply>
       <times></times>
       <ci>ζ</ci>
       <ci>n</ci>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>ξ</ci>
        <ci>𝐤</ci>
       </apply>
      </apply>
     </apply>
    </apply>
    <ci>𝒵</ci>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   [1+\zeta n(\xi_{\mathbf{k}})]\mathcal{Z}
  </annotation>
 </semantics>
</math>

, leaving</p>

<p>

<math display="block" id="Green's_function_(many-body_theory):105">
 <semantics>
  <mrow>
   <mrow>
    <mrow>
     <msub>
      <mi>ρ</mi>
      <mn>0</mn>
     </msub>
     <mrow>
      <mo stretchy="false">(</mo>
      <mi>𝐤</mi>
      <mo>,</mo>
      <mi>ω</mi>
      <mo stretchy="false">)</mo>
     </mrow>
    </mrow>
    <mo>=</mo>
    <mrow>
     <mn>2</mn>
     <mi>π</mi>
     <mi>δ</mi>
     <mrow>
      <mo stretchy="false">(</mo>
      <mrow>
       <msub>
        <mi>ξ</mi>
        <mi>𝐤</mi>
       </msub>
       <mo>-</mo>
       <mi>ω</mi>
      </mrow>
      <mo stretchy="false">)</mo>
     </mrow>
    </mrow>
   </mrow>
   <mo>.</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <times></times>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <ci>ρ</ci>
      <cn type="integer">0</cn>
     </apply>
     <interval closure="open">
      <ci>𝐤</ci>
      <ci>ω</ci>
     </interval>
    </apply>
    <apply>
     <times></times>
     <cn type="integer">2</cn>
     <ci>π</ci>
     <ci>δ</ci>
     <apply>
      <minus></minus>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>ξ</ci>
       <ci>𝐤</ci>
      </apply>
      <ci>ω</ci>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \rho_{0}(\mathbf{k},\omega)=2\pi\delta(\xi_{\mathbf{k}}-\omega).
  </annotation>
 </semantics>
</math>

</p>

<p>The imaginary-time propagator is thus</p>

<p>

<math display="block" id="Green's_function_(many-body_theory):106">
 <semantics>
  <mrow>
   <mrow>
    <msub>
     <mi class="ltx_font_mathcaligraphic">𝒢</mi>
     <mn>0</mn>
    </msub>
    <mrow>
     <mo stretchy="false">(</mo>
     <mi>𝐤</mi>
     <mo>,</mo>
     <mi>ω</mi>
     <mo stretchy="false">)</mo>
    </mrow>
   </mrow>
   <mo>=</mo>
   <mfrac>
    <mn>1</mn>
    <mrow>
     <mrow>
      <mo>-</mo>
      <mrow>
       <mi mathvariant="normal">i</mi>
       <msub>
        <mi>ω</mi>
        <mi>n</mi>
       </msub>
      </mrow>
     </mrow>
     <mo>+</mo>
     <msub>
      <mi>ξ</mi>
      <mi>𝐤</mi>
     </msub>
    </mrow>
   </mfrac>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <times></times>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <ci>𝒢</ci>
      <cn type="integer">0</cn>
     </apply>
     <interval closure="open">
      <ci>𝐤</ci>
      <ci>ω</ci>
     </interval>
    </apply>
    <apply>
     <divide></divide>
     <cn type="integer">1</cn>
     <apply>
      <plus></plus>
      <apply>
       <minus></minus>
       <apply>
        <times></times>
        <ci>normal-i</ci>
        <apply>
         <csymbol cd="ambiguous">subscript</csymbol>
         <ci>ω</ci>
         <ci>n</ci>
        </apply>
       </apply>
      </apply>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>ξ</ci>
       <ci>𝐤</ci>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \mathcal{G}_{0}(\mathbf{k},\omega)=\frac{1}{-\mathrm{i}\omega_{n}+\xi_{\mathbf%
{k}}}
  </annotation>
 </semantics>
</math>

 and the retarded propagator is</p>

<p>

<math display="block" id="Green's_function_(many-body_theory):107">
 <semantics>
  <mrow>
   <mrow>
    <mrow>
     <msubsup>
      <mi>G</mi>
      <mn>0</mn>
      <mi mathvariant="normal">R</mi>
     </msubsup>
     <mrow>
      <mo stretchy="false">(</mo>
      <mi>𝐤</mi>
      <mo>,</mo>
      <mi>ω</mi>
      <mo stretchy="false">)</mo>
     </mrow>
    </mrow>
    <mo>=</mo>
    <mfrac>
     <mn>1</mn>
     <mrow>
      <mrow>
       <mo>-</mo>
       <mrow>
        <mo stretchy="false">(</mo>
        <mrow>
         <mi>ω</mi>
         <mo>+</mo>
         <mrow>
          <mi mathvariant="normal">i</mi>
          <mi>η</mi>
         </mrow>
        </mrow>
        <mo stretchy="false">)</mo>
       </mrow>
      </mrow>
      <mo>+</mo>
      <msub>
       <mi>ξ</mi>
       <mi>𝐤</mi>
      </msub>
     </mrow>
    </mfrac>
   </mrow>
   <mo>.</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <times></times>
     <apply>
      <csymbol cd="ambiguous">superscript</csymbol>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>G</ci>
       <cn type="integer">0</cn>
      </apply>
      <ci>normal-R</ci>
     </apply>
     <interval closure="open">
      <ci>𝐤</ci>
      <ci>ω</ci>
     </interval>
    </apply>
    <apply>
     <divide></divide>
     <cn type="integer">1</cn>
     <apply>
      <plus></plus>
      <apply>
       <minus></minus>
       <apply>
        <plus></plus>
        <ci>ω</ci>
        <apply>
         <times></times>
         <ci>normal-i</ci>
         <ci>η</ci>
        </apply>
       </apply>
      </apply>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>ξ</ci>
       <ci>𝐤</ci>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   G_{0}^{\mathrm{R}}(\mathbf{k},\omega)=\frac{1}{-(\omega+\mathrm{i}\eta)+\xi_{%
\mathbf{k}}}.
  </annotation>
 </semantics>
</math>

</p>
<h4 id="zero-temperature-limit">Zero-temperature limit</h4>

<p>As 

<math display="inline" id="Green's_function_(many-body_theory):108">
 <semantics>
  <mrow>
   <mi>β</mi>
   <mo>→</mo>
   <mi mathvariant="normal">∞</mi>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <ci>normal-→</ci>
    <ci>β</ci>
    <infinity></infinity>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \beta\rightarrow\infty
  </annotation>
 </semantics>
</math>


, the spectral density becomes</p>

<p>

<math display="block" id="Green's_function_(many-body_theory):109">
 <semantics>
  <mrow>
   <mrow>
    <mi>ρ</mi>
    <mrow>
     <mo stretchy="false">(</mo>
     <mi>𝐤</mi>
     <mo>,</mo>
     <mi>ω</mi>
     <mo stretchy="false">)</mo>
    </mrow>
   </mrow>
   <mo>=</mo>
   <mrow>
    <mn>2</mn>
    <mi>π</mi>
    <mrow>
     <munder>
      <mo largeop="true" movablelimits="false" symmetric="true">∑</mo>
      <mi>α</mi>
     </munder>
     <mrow>
      <mo>[</mo>
      <mrow>
       <mrow>
        <mi>δ</mi>
        <mrow>
         <mo stretchy="false">(</mo>
         <mrow>
          <msub>
           <mi>E</mi>
           <mi>α</mi>
          </msub>
          <mo>-</mo>
          <msub>
           <mi>E</mi>
           <mn>0</mn>
          </msub>
          <mo>-</mo>
          <mi>ω</mi>
         </mrow>
         <mo stretchy="false">)</mo>
        </mrow>
        <msup>
         <mrow>
          <mo stretchy="false">|</mo>
          <mrow>
           <mo stretchy="false">⟨</mo>
           <mi>α</mi>
           <mo fence="true" stretchy="false">|</mo>
           <msubsup>
            <mi>ψ</mi>
            <mi>𝐤</mi>
            <mo>†</mo>
           </msubsup>
           <mo fence="true" stretchy="false">|</mo>
           <mn>0</mn>
           <mo stretchy="false">⟩</mo>
          </mrow>
          <mo stretchy="false">|</mo>
         </mrow>
         <mn>2</mn>
        </msup>
       </mrow>
       <mo>-</mo>
       <mrow>
        <mi>ζ</mi>
        <mi>δ</mi>
        <mrow>
         <mo stretchy="false">(</mo>
         <mrow>
          <msub>
           <mi>E</mi>
           <mn>0</mn>
          </msub>
          <mo>-</mo>
          <msub>
           <mi>E</mi>
           <mi>α</mi>
          </msub>
          <mo>-</mo>
          <mi>ω</mi>
         </mrow>
         <mo stretchy="false">)</mo>
        </mrow>
        <msup>
         <mrow>
          <mo stretchy="false">|</mo>
          <mrow>
           <mo stretchy="false">⟨</mo>
           <mn>0</mn>
           <mo fence="true" stretchy="false">|</mo>
           <msubsup>
            <mi>ψ</mi>
            <mi>𝐤</mi>
            <mo>†</mo>
           </msubsup>
           <mo fence="true" stretchy="false">|</mo>
           <mi>α</mi>
           <mo stretchy="false">⟩</mo>
          </mrow>
          <mo stretchy="false">|</mo>
         </mrow>
         <mn>2</mn>
        </msup>
       </mrow>
      </mrow>
      <mo>]</mo>
     </mrow>
    </mrow>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <times></times>
     <ci>ρ</ci>
     <interval closure="open">
      <ci>𝐤</ci>
      <ci>ω</ci>
     </interval>
    </apply>
    <apply>
     <times></times>
     <cn type="integer">2</cn>
     <ci>π</ci>
     <apply>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <sum></sum>
       <ci>α</ci>
      </apply>
      <apply>
       <csymbol cd="latexml">delimited-[]</csymbol>
       <apply>
        <minus></minus>
        <apply>
         <times></times>
         <ci>δ</ci>
         <apply>
          <minus></minus>
          <apply>
           <csymbol cd="ambiguous">subscript</csymbol>
           <ci>E</ci>
           <ci>α</ci>
          </apply>
          <apply>
           <csymbol cd="ambiguous">subscript</csymbol>
           <ci>E</ci>
           <cn type="integer">0</cn>
          </apply>
          <ci>ω</ci>
         </apply>
         <apply>
          <csymbol cd="ambiguous">superscript</csymbol>
          <apply>
           <abs></abs>
           <apply>
            <csymbol cd="latexml">quantum-operator-product</csymbol>
            <ci>α</ci>
            <apply>
             <csymbol cd="ambiguous">superscript</csymbol>
             <apply>
              <csymbol cd="ambiguous">subscript</csymbol>
              <ci>ψ</ci>
              <ci>𝐤</ci>
             </apply>
             <ci>normal-†</ci>
            </apply>
            <cn type="integer">0</cn>
           </apply>
          </apply>
          <cn type="integer">2</cn>
         </apply>
        </apply>
        <apply>
         <times></times>
         <ci>ζ</ci>
         <ci>δ</ci>
         <apply>
          <minus></minus>
          <apply>
           <csymbol cd="ambiguous">subscript</csymbol>
           <ci>E</ci>
           <cn type="integer">0</cn>
          </apply>
          <apply>
           <csymbol cd="ambiguous">subscript</csymbol>
           <ci>E</ci>
           <ci>α</ci>
          </apply>
          <ci>ω</ci>
         </apply>
         <apply>
          <csymbol cd="ambiguous">superscript</csymbol>
          <apply>
           <abs></abs>
           <apply>
            <csymbol cd="latexml">quantum-operator-product</csymbol>
            <cn type="integer">0</cn>
            <apply>
             <csymbol cd="ambiguous">superscript</csymbol>
             <apply>
              <csymbol cd="ambiguous">subscript</csymbol>
              <ci>ψ</ci>
              <ci>𝐤</ci>
             </apply>
             <ci>normal-†</ci>
            </apply>
            <ci>α</ci>
           </apply>
          </apply>
          <cn type="integer">2</cn>
         </apply>
        </apply>
       </apply>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \rho(\mathbf{k},\omega)=2\pi\sum_{\alpha}\left[\delta(E_{\alpha}-E_{0}-\omega)%
|\langle\alpha|\psi_{\mathbf{k}}^{\dagger}|0\rangle|^{2}-\zeta\delta(E_{0}-E_{%
\alpha}-\omega)|\langle 0|\psi_{\mathbf{k}}^{\dagger}|\alpha\rangle|^{2}\right]
  </annotation>
 </semantics>
</math>

 where 

<math display="inline" id="Green's_function_(many-body_theory):110">
 <semantics>
  <mrow>
   <mi>α</mi>
   <mo>=</mo>
   <mn>0</mn>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <ci>α</ci>
    <cn type="integer">0</cn>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \alpha=0
  </annotation>
 </semantics>
</math>

 corresponds to the ground state. Note that only the first (second) term contributes when 

<math display="inline" id="Green's_function_(many-body_theory):111">
 <semantics>
  <mi>ω</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>ω</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \omega
  </annotation>
 </semantics>
</math>

 is positive (negative).</p>
<h2 id="general-case">General case</h2>
<h3 id="basic-definitions-1">Basic definitions</h3>

<p>We can use `field operators' as above, or creation and annihilation operators associated with other single-particle states, perhaps eigenstates of the (noninteracting) kinetic energy. We then use</p>

<p>

<math display="block" id="Green's_function_(many-body_theory):112">
 <semantics>
  <mrow>
   <mrow>
    <mrow>
     <mi>ψ</mi>
     <mrow>
      <mo stretchy="false">(</mo>
      <mi>𝐱</mi>
      <mo>,</mo>
      <mi>τ</mi>
      <mo stretchy="false">)</mo>
     </mrow>
    </mrow>
    <mo>=</mo>
    <mrow>
     <msub>
      <mi>φ</mi>
      <mi>α</mi>
     </msub>
     <mrow>
      <mo stretchy="false">(</mo>
      <mi>𝐱</mi>
      <mo stretchy="false">)</mo>
     </mrow>
     <msub>
      <mi>ψ</mi>
      <mi>α</mi>
     </msub>
     <mrow>
      <mo stretchy="false">(</mo>
      <mi>τ</mi>
      <mo stretchy="false">)</mo>
     </mrow>
    </mrow>
   </mrow>
   <mo>,</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <times></times>
     <ci>ψ</ci>
     <interval closure="open">
      <ci>𝐱</ci>
      <ci>τ</ci>
     </interval>
    </apply>
    <apply>
     <times></times>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <ci>φ</ci>
      <ci>α</ci>
     </apply>
     <ci>𝐱</ci>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <ci>ψ</ci>
      <ci>α</ci>
     </apply>
     <ci>τ</ci>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \psi(\mathbf{x},\tau)=\varphi_{\alpha}(\mathbf{x})\psi_{\alpha}(\tau),
  </annotation>
 </semantics>
</math>

 where 

<math display="inline" id="Green's_function_(many-body_theory):113">
 <semantics>
  <msub>
   <mi>ψ</mi>
   <mi>α</mi>
  </msub>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <csymbol cd="ambiguous">subscript</csymbol>
    <ci>ψ</ci>
    <ci>α</ci>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \psi_{\alpha}
  </annotation>
 </semantics>
</math>

 is the annihilation operator for the single-particle state 

<math display="inline" id="Green's_function_(many-body_theory):114">
 <semantics>
  <mi>α</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>α</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \alpha
  </annotation>
 </semantics>
</math>

 and 

<math display="inline" id="Green's_function_(many-body_theory):115">
 <semantics>
  <mrow>
   <msub>
    <mi>φ</mi>
    <mi>α</mi>
   </msub>
   <mrow>
    <mo stretchy="false">(</mo>
    <mi>𝐱</mi>
    <mo stretchy="false">)</mo>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <times></times>
    <apply>
     <csymbol cd="ambiguous">subscript</csymbol>
     <ci>φ</ci>
     <ci>α</ci>
    </apply>
    <ci>𝐱</ci>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \varphi_{\alpha}(\mathbf{x})
  </annotation>
 </semantics>
</math>

 is that state's wavefunction in the position basis. This gives</p>

<p>

<math display="block" id="Green's_function_(many-body_theory):116">
 <semantics>
  <mrow>
   <msubsup>
    <mi class="ltx_font_mathcaligraphic">𝒢</mi>
    <mrow>
     <msub>
      <mi>α</mi>
      <mn>1</mn>
     </msub>
     <mi mathvariant="normal">…</mi>
     <msub>
      <mi>α</mi>
      <mi>n</mi>
     </msub>
     <mo stretchy="false">|</mo>
     <msub>
      <mi>β</mi>
      <mn>1</mn>
     </msub>
     <mi mathvariant="normal">…</mi>
     <msub>
      <mi>β</mi>
      <mi>n</mi>
     </msub>
    </mrow>
    <mrow>
     <mo stretchy="false">(</mo>
     <mi>n</mi>
     <mo stretchy="false">)</mo>
    </mrow>
   </msubsup>
   <mrow>
    <mo stretchy="false">(</mo>
    <msub>
     <mi>τ</mi>
     <mn>1</mn>
    </msub>
    <mi mathvariant="normal">…</mi>
    <msub>
     <mi>τ</mi>
     <mi>n</mi>
    </msub>
    <mo stretchy="false">|</mo>
    <msubsup>
     <mi>τ</mi>
     <mn>1</mn>
     <mo>′</mo>
    </msubsup>
    <mi mathvariant="normal">…</mi>
    <msubsup>
     <mi>τ</mi>
     <mi>n</mi>
     <mo>′</mo>
    </msubsup>
    <mo stretchy="false">)</mo>
   </mrow>
   <mo>=</mo>
   <mrow>
    <mo stretchy="false">⟨</mo>
    <mi>T</mi>
    <msub>
     <mi>ψ</mi>
     <msub>
      <mi>α</mi>
      <mn>1</mn>
     </msub>
    </msub>
    <mrow>
     <mo stretchy="false">(</mo>
     <msub>
      <mi>τ</mi>
      <mn>1</mn>
     </msub>
     <mo stretchy="false">)</mo>
    </mrow>
    <mi mathvariant="normal">…</mi>
    <msub>
     <mi>ψ</mi>
     <msub>
      <mi>α</mi>
      <mi>n</mi>
     </msub>
    </msub>
    <mrow>
     <mo stretchy="false">(</mo>
     <msub>
      <mi>τ</mi>
      <mi>n</mi>
     </msub>
     <mo stretchy="false">)</mo>
    </mrow>
    <msub>
     <mover accent="true">
      <mi>ψ</mi>
      <mo stretchy="false">¯</mo>
     </mover>
     <msub>
      <mi>β</mi>
      <mi>n</mi>
     </msub>
    </msub>
    <mrow>
     <mo stretchy="false">(</mo>
     <msubsup>
      <mi>τ</mi>
      <mi>n</mi>
      <mo>′</mo>
     </msubsup>
     <mo stretchy="false">)</mo>
    </mrow>
    <mi mathvariant="normal">…</mi>
    <msub>
     <mover accent="true">
      <mi>ψ</mi>
      <mo stretchy="false">¯</mo>
     </mover>
     <msub>
      <mi>β</mi>
      <mn>1</mn>
     </msub>
    </msub>
    <mrow>
     <mo stretchy="false">(</mo>
     <msubsup>
      <mi>τ</mi>
      <mn>1</mn>
      <mo>′</mo>
     </msubsup>
     <mo stretchy="false">)</mo>
    </mrow>
    <mo stretchy="false">⟩</mo>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <cerror>
    <csymbol cd="ambiguous">fragments</csymbol>
    <apply>
     <csymbol cd="ambiguous">subscript</csymbol>
     <apply>
      <csymbol cd="ambiguous">superscript</csymbol>
      <ci>𝒢</ci>
      <ci>n</ci>
     </apply>
     <cerror>
      <csymbol cd="ambiguous">fragments</csymbol>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>α</ci>
       <cn type="integer">1</cn>
      </apply>
      <ci>normal-…</ci>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>α</ci>
       <ci>n</ci>
      </apply>
      <ci>normal-|</ci>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>β</ci>
       <cn type="integer">1</cn>
      </apply>
      <ci>normal-…</ci>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>β</ci>
       <ci>n</ci>
      </apply>
     </cerror>
    </apply>
    <cerror>
     <csymbol cd="ambiguous">fragments</csymbol>
     <ci>normal-(</ci>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <ci>τ</ci>
      <cn type="integer">1</cn>
     </apply>
     <ci>normal-…</ci>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <ci>τ</ci>
      <ci>n</ci>
     </apply>
     <ci>normal-|</ci>
     <apply>
      <csymbol cd="ambiguous">superscript</csymbol>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>τ</ci>
       <cn type="integer">1</cn>
      </apply>
      <ci>normal-′</ci>
     </apply>
     <ci>normal-…</ci>
     <apply>
      <csymbol cd="ambiguous">superscript</csymbol>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>τ</ci>
       <ci>n</ci>
      </apply>
      <ci>normal-′</ci>
     </apply>
     <ci>normal-)</ci>
    </cerror>
    <eq></eq>
    <cerror>
     <csymbol cd="ambiguous">fragments</csymbol>
     <ci>normal-⟨</ci>
     <csymbol cd="unknown">T</csymbol>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <ci>ψ</ci>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>α</ci>
       <cn type="integer">1</cn>
      </apply>
     </apply>
     <cerror>
      <csymbol cd="ambiguous">fragments</csymbol>
      <ci>normal-(</ci>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>τ</ci>
       <cn type="integer">1</cn>
      </apply>
      <ci>normal-)</ci>
     </cerror>
     <ci>normal-…</ci>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <ci>ψ</ci>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>α</ci>
       <ci>n</ci>
      </apply>
     </apply>
     <cerror>
      <csymbol cd="ambiguous">fragments</csymbol>
      <ci>normal-(</ci>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>τ</ci>
       <ci>n</ci>
      </apply>
      <ci>normal-)</ci>
     </cerror>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <apply>
       <ci>normal-¯</ci>
       <ci>ψ</ci>
      </apply>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>β</ci>
       <ci>n</ci>
      </apply>
     </apply>
     <cerror>
      <csymbol cd="ambiguous">fragments</csymbol>
      <ci>normal-(</ci>
      <apply>
       <csymbol cd="ambiguous">superscript</csymbol>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>τ</ci>
        <ci>n</ci>
       </apply>
       <ci>normal-′</ci>
      </apply>
      <ci>normal-)</ci>
     </cerror>
     <ci>normal-…</ci>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <apply>
       <ci>normal-¯</ci>
       <ci>ψ</ci>
      </apply>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>β</ci>
       <cn type="integer">1</cn>
      </apply>
     </apply>
     <cerror>
      <csymbol cd="ambiguous">fragments</csymbol>
      <ci>normal-(</ci>
      <apply>
       <csymbol cd="ambiguous">superscript</csymbol>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>τ</ci>
        <cn type="integer">1</cn>
       </apply>
       <ci>normal-′</ci>
      </apply>
      <ci>normal-)</ci>
     </cerror>
     <ci>normal-⟩</ci>
    </cerror>
   </cerror>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \mathcal{G}^{(n)}_{\alpha_{1}\ldots\alpha_{n}|\beta_{1}\ldots\beta_{n}}(\tau_{%
1}\ldots\tau_{n}|\tau_{1}^{\prime}\ldots\tau_{n}^{\prime})=\langle T\psi_{%
\alpha_{1}}(\tau_{1})\ldots\psi_{\alpha_{n}}(\tau_{n})\bar{\psi}_{\beta_{n}}(%
\tau_{n}^{\prime})\ldots\bar{\psi}_{\beta_{1}}(\tau_{1}^{\prime})\rangle
  </annotation>
 </semantics>
</math>

 with a similar expression for 

<math display="inline" id="Green's_function_(many-body_theory):117">
 <semantics>
  <msup>
   <mi>G</mi>
   <mrow>
    <mo stretchy="false">(</mo>
    <mi>n</mi>
    <mo stretchy="false">)</mo>
   </mrow>
  </msup>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <csymbol cd="ambiguous">superscript</csymbol>
    <ci>G</ci>
    <ci>n</ci>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   G^{(n)}
  </annotation>
 </semantics>
</math>

.</p>
<h3 id="two-point-functions-1">Two-point functions</h3>

<p>These depend only on the difference of their time arguments, so that</p>

<p>

<math display="block" id="Green's_function_(many-body_theory):118">
 <semantics>
  <mrow>
   <msub>
    <mi class="ltx_font_mathcaligraphic">𝒢</mi>
    <mrow>
     <mi>α</mi>
     <mi>β</mi>
    </mrow>
   </msub>
   <mrow>
    <mo stretchy="false">(</mo>
    <mi>τ</mi>
    <mo stretchy="false">|</mo>
    <msup>
     <mi>τ</mi>
     <mo>′</mo>
    </msup>
    <mo stretchy="false">)</mo>
   </mrow>
   <mo>=</mo>
   <mfrac>
    <mn>1</mn>
    <mi>β</mi>
   </mfrac>
   <munder>
    <mo largeop="true" movablelimits="false" symmetric="true">∑</mo>
    <msub>
     <mi>ω</mi>
     <mi>n</mi>
    </msub>
   </munder>
   <msub>
    <mi class="ltx_font_mathcaligraphic">𝒢</mi>
    <mrow>
     <mi>α</mi>
     <mi>β</mi>
    </mrow>
   </msub>
   <mrow>
    <mo stretchy="false">(</mo>
    <msub>
     <mi>ω</mi>
     <mi>n</mi>
    </msub>
    <mo rspace="4.2pt" stretchy="false">)</mo>
   </mrow>
   <msup>
    <mi mathvariant="normal">e</mi>
    <mrow>
     <mo>-</mo>
     <mrow>
      <mi mathvariant="normal">i</mi>
      <msub>
       <mi>ω</mi>
       <mi>n</mi>
      </msub>
      <mrow>
       <mo stretchy="false">(</mo>
       <mrow>
        <mi>τ</mi>
        <mo>-</mo>
        <msup>
         <mi>τ</mi>
         <mo>′</mo>
        </msup>
       </mrow>
       <mo stretchy="false">)</mo>
      </mrow>
     </mrow>
    </mrow>
   </msup>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <cerror>
    <csymbol cd="ambiguous">fragments</csymbol>
    <apply>
     <csymbol cd="ambiguous">subscript</csymbol>
     <ci>𝒢</ci>
     <apply>
      <times></times>
      <ci>α</ci>
      <ci>β</ci>
     </apply>
    </apply>
    <cerror>
     <csymbol cd="ambiguous">fragments</csymbol>
     <ci>normal-(</ci>
     <csymbol cd="unknown">τ</csymbol>
     <ci>normal-|</ci>
     <apply>
      <csymbol cd="ambiguous">superscript</csymbol>
      <ci>τ</ci>
      <ci>normal-′</ci>
     </apply>
     <ci>normal-)</ci>
    </cerror>
    <eq></eq>
    <apply>
     <divide></divide>
     <cn type="integer">1</cn>
     <ci>β</ci>
    </apply>
    <apply>
     <csymbol cd="ambiguous">subscript</csymbol>
     <sum></sum>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <ci>ω</ci>
      <ci>n</ci>
     </apply>
    </apply>
    <apply>
     <csymbol cd="ambiguous">subscript</csymbol>
     <ci>𝒢</ci>
     <apply>
      <times></times>
      <ci>α</ci>
      <ci>β</ci>
     </apply>
    </apply>
    <cerror>
     <csymbol cd="ambiguous">fragments</csymbol>
     <ci>normal-(</ci>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <ci>ω</ci>
      <ci>n</ci>
     </apply>
     <ci>normal-)</ci>
    </cerror>
    <apply>
     <csymbol cd="ambiguous">superscript</csymbol>
     <ci>normal-e</ci>
     <apply>
      <minus></minus>
      <apply>
       <times></times>
       <ci>normal-i</ci>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>ω</ci>
        <ci>n</ci>
       </apply>
       <apply>
        <minus></minus>
        <ci>τ</ci>
        <apply>
         <csymbol cd="ambiguous">superscript</csymbol>
         <ci>τ</ci>
         <ci>normal-′</ci>
        </apply>
       </apply>
      </apply>
     </apply>
    </apply>
   </cerror>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \mathcal{G}_{\alpha\beta}(\tau|\tau^{\prime})=\frac{1}{\beta}\sum_{\omega_{n}}%
\mathcal{G}_{\alpha\beta}(\omega_{n})\,\mathrm{e}^{-\mathrm{i}\omega_{n}(\tau-%
\tau^{\prime})}
  </annotation>
 </semantics>
</math>

 and</p>

<p>

<math display="block" id="Green's_function_(many-body_theory):119">
 <semantics>
  <mrow>
   <msub>
    <mi>G</mi>
    <mrow>
     <mi>α</mi>
     <mi>β</mi>
    </mrow>
   </msub>
   <mrow>
    <mo stretchy="false">(</mo>
    <mi>t</mi>
    <mo stretchy="false">|</mo>
    <msup>
     <mi>t</mi>
     <mo>′</mo>
    </msup>
    <mo stretchy="false">)</mo>
   </mrow>
   <mo>=</mo>
   <msubsup>
    <mo largeop="true" symmetric="true">∫</mo>
    <mrow>
     <mo>-</mo>
     <mi mathvariant="normal">∞</mi>
    </mrow>
    <mi mathvariant="normal">∞</mi>
   </msubsup>
   <mpadded width="+1.7pt">
    <mfrac>
     <mrow>
      <mi mathvariant="normal">d</mi>
      <mi>ω</mi>
     </mrow>
     <mrow>
      <mn>2</mn>
      <mi>π</mi>
     </mrow>
    </mfrac>
   </mpadded>
   <msub>
    <mi>G</mi>
    <mrow>
     <mi>α</mi>
     <mi>β</mi>
    </mrow>
   </msub>
   <mrow>
    <mo stretchy="false">(</mo>
    <mi>ω</mi>
    <mo rspace="4.2pt" stretchy="false">)</mo>
   </mrow>
   <msup>
    <mi mathvariant="normal">e</mi>
    <mrow>
     <mo>-</mo>
     <mrow>
      <mi mathvariant="normal">i</mi>
      <mi>ω</mi>
      <mrow>
       <mo stretchy="false">(</mo>
       <mrow>
        <mi>t</mi>
        <mo>-</mo>
        <msup>
         <mi>t</mi>
         <mo>′</mo>
        </msup>
       </mrow>
       <mo stretchy="false">)</mo>
      </mrow>
     </mrow>
    </mrow>
   </msup>
   <mo>.</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <cerror>
    <csymbol cd="ambiguous">fragments</csymbol>
    <apply>
     <csymbol cd="ambiguous">subscript</csymbol>
     <ci>G</ci>
     <apply>
      <times></times>
      <ci>α</ci>
      <ci>β</ci>
     </apply>
    </apply>
    <cerror>
     <csymbol cd="ambiguous">fragments</csymbol>
     <ci>normal-(</ci>
     <csymbol cd="unknown">t</csymbol>
     <ci>normal-|</ci>
     <apply>
      <csymbol cd="ambiguous">superscript</csymbol>
      <ci>t</ci>
      <ci>normal-′</ci>
     </apply>
     <ci>normal-)</ci>
    </cerror>
    <eq></eq>
    <apply>
     <csymbol cd="ambiguous">superscript</csymbol>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <int></int>
      <apply>
       <minus></minus>
       <infinity></infinity>
      </apply>
     </apply>
     <infinity></infinity>
    </apply>
    <apply>
     <divide></divide>
     <apply>
      <times></times>
      <ci>normal-d</ci>
      <ci>ω</ci>
     </apply>
     <apply>
      <times></times>
      <cn type="integer">2</cn>
      <ci>π</ci>
     </apply>
    </apply>
    <apply>
     <csymbol cd="ambiguous">subscript</csymbol>
     <ci>G</ci>
     <apply>
      <times></times>
      <ci>α</ci>
      <ci>β</ci>
     </apply>
    </apply>
    <cerror>
     <csymbol cd="ambiguous">fragments</csymbol>
     <ci>normal-(</ci>
     <csymbol cd="unknown">ω</csymbol>
     <ci>normal-)</ci>
    </cerror>
    <apply>
     <csymbol cd="ambiguous">superscript</csymbol>
     <ci>normal-e</ci>
     <apply>
      <minus></minus>
      <apply>
       <times></times>
       <ci>normal-i</ci>
       <ci>ω</ci>
       <apply>
        <minus></minus>
        <ci>t</ci>
        <apply>
         <csymbol cd="ambiguous">superscript</csymbol>
         <ci>t</ci>
         <ci>normal-′</ci>
        </apply>
       </apply>
      </apply>
     </apply>
    </apply>
    <ci>normal-.</ci>
   </cerror>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   G_{\alpha\beta}(t|t^{\prime})=\int_{-\infty}^{\infty}\frac{\mathrm{d}\omega}{2%
\pi}\,G_{\alpha\beta}(\omega)\,\mathrm{e}^{-\mathrm{i}\omega(t-t^{\prime})}.
  </annotation>
 </semantics>
</math>

</p>

<p>We can again define retarded and advanced functions in the obvious way; these are related to the time-ordered function in the same way as above.</p>

<p>The same periodicity properties as described in above apply to 

<math display="inline" id="Green's_function_(many-body_theory):120">
 <semantics>
  <msub>
   <mi class="ltx_font_mathcaligraphic">𝒢</mi>
   <mrow>
    <mi>α</mi>
    <mi>β</mi>
   </mrow>
  </msub>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <csymbol cd="ambiguous">subscript</csymbol>
    <ci>𝒢</ci>
    <apply>
     <times></times>
     <ci>α</ci>
     <ci>β</ci>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \mathcal{G}_{\alpha\beta}
  </annotation>
 </semantics>
</math>

. Specifically,</p>

<p>

<math display="block" id="Green's_function_(many-body_theory):121">
 <semantics>
  <mrow>
   <msub>
    <mi class="ltx_font_mathcaligraphic">𝒢</mi>
    <mrow>
     <mi>α</mi>
     <mi>β</mi>
    </mrow>
   </msub>
   <mrow>
    <mo stretchy="false">(</mo>
    <mi>τ</mi>
    <mo stretchy="false">|</mo>
    <msup>
     <mi>τ</mi>
     <mo>′</mo>
    </msup>
    <mo stretchy="false">)</mo>
   </mrow>
   <mo>=</mo>
   <msub>
    <mi class="ltx_font_mathcaligraphic">𝒢</mi>
    <mrow>
     <mi>α</mi>
     <mi>β</mi>
    </mrow>
   </msub>
   <mrow>
    <mo stretchy="false">(</mo>
    <mi>τ</mi>
    <mo>-</mo>
    <msup>
     <mi>τ</mi>
     <mo>′</mo>
    </msup>
    <mo stretchy="false">)</mo>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <cerror>
    <csymbol cd="ambiguous">fragments</csymbol>
    <apply>
     <csymbol cd="ambiguous">subscript</csymbol>
     <ci>𝒢</ci>
     <apply>
      <times></times>
      <ci>α</ci>
      <ci>β</ci>
     </apply>
    </apply>
    <cerror>
     <csymbol cd="ambiguous">fragments</csymbol>
     <ci>normal-(</ci>
     <csymbol cd="unknown">τ</csymbol>
     <ci>normal-|</ci>
     <apply>
      <csymbol cd="ambiguous">superscript</csymbol>
      <ci>τ</ci>
      <ci>normal-′</ci>
     </apply>
     <ci>normal-)</ci>
    </cerror>
    <eq></eq>
    <apply>
     <csymbol cd="ambiguous">subscript</csymbol>
     <ci>𝒢</ci>
     <apply>
      <times></times>
      <ci>α</ci>
      <ci>β</ci>
     </apply>
    </apply>
    <cerror>
     <csymbol cd="ambiguous">fragments</csymbol>
     <ci>normal-(</ci>
     <csymbol cd="unknown">τ</csymbol>
     <minus></minus>
     <apply>
      <csymbol cd="ambiguous">superscript</csymbol>
      <ci>τ</ci>
      <ci>normal-′</ci>
     </apply>
     <ci>normal-)</ci>
    </cerror>
   </cerror>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \mathcal{G}_{\alpha\beta}(\tau|\tau^{\prime})=\mathcal{G}_{\alpha\beta}(\tau-%
\tau^{\prime})
  </annotation>
 </semantics>
</math>

 and</p>

<p>

<math display="block" id="Green's_function_(many-body_theory):122">
 <semantics>
  <mrow>
   <mrow>
    <mrow>
     <msub>
      <mi class="ltx_font_mathcaligraphic">𝒢</mi>
      <mrow>
       <mi>α</mi>
       <mi>β</mi>
      </mrow>
     </msub>
     <mrow>
      <mo stretchy="false">(</mo>
      <mi>τ</mi>
      <mo stretchy="false">)</mo>
     </mrow>
    </mrow>
    <mo>=</mo>
    <mrow>
     <msub>
      <mi class="ltx_font_mathcaligraphic">𝒢</mi>
      <mrow>
       <mi>α</mi>
       <mi>β</mi>
      </mrow>
     </msub>
     <mrow>
      <mo stretchy="false">(</mo>
      <mrow>
       <mi>τ</mi>
       <mo>+</mo>
       <mi>β</mi>
      </mrow>
      <mo stretchy="false">)</mo>
     </mrow>
    </mrow>
   </mrow>
   <mo>,</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <times></times>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <ci>𝒢</ci>
      <apply>
       <times></times>
       <ci>α</ci>
       <ci>β</ci>
      </apply>
     </apply>
     <ci>τ</ci>
    </apply>
    <apply>
     <times></times>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <ci>𝒢</ci>
      <apply>
       <times></times>
       <ci>α</ci>
       <ci>β</ci>
      </apply>
     </apply>
     <apply>
      <plus></plus>
      <ci>τ</ci>
      <ci>β</ci>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \mathcal{G}_{\alpha\beta}(\tau)=\mathcal{G}_{\alpha\beta}(\tau+\beta),
  </annotation>
 </semantics>
</math>

 for 

<math display="inline" id="Green's_function_(many-body_theory):123">
 <semantics>
  <mrow>
   <mi>τ</mi>
   <mo><</mo>
   <mn>0</mn>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <lt></lt>
    <ci>τ</ci>
    <cn type="integer">0</cn>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \tau<0
  </annotation>
 </semantics>
</math>

.</p>
<h3 id="spectral-representation-1">Spectral representation</h3>

<p>In this case,</p>

<p>

<math display="block" id="Green's_function_(many-body_theory):124">
 <semantics>
  <mrow>
   <mrow>
    <mrow>
     <msub>
      <mi>ρ</mi>
      <mrow>
       <mi>α</mi>
       <mi>β</mi>
      </mrow>
     </msub>
     <mrow>
      <mo stretchy="false">(</mo>
      <mi>ω</mi>
      <mo stretchy="false">)</mo>
     </mrow>
    </mrow>
    <mo>=</mo>
    <mrow>
     <mfrac>
      <mn>1</mn>
      <mi class="ltx_font_mathcaligraphic">𝒵</mi>
     </mfrac>
     <mrow>
      <munder>
       <mo largeop="true" movablelimits="false" symmetric="true">∑</mo>
       <mrow>
        <mi>m</mi>
        <mo>,</mo>
        <mi>n</mi>
       </mrow>
      </munder>
      <mrow>
       <mn>2</mn>
       <mi>π</mi>
       <mi>δ</mi>
       <mrow>
        <mo stretchy="false">(</mo>
        <mrow>
         <msub>
          <mi>E</mi>
          <mi>n</mi>
         </msub>
         <mo>-</mo>
         <msub>
          <mi>E</mi>
          <mi>m</mi>
         </msub>
         <mo>-</mo>
         <mi>ω</mi>
        </mrow>
        <mo rspace="5.3pt" stretchy="false">)</mo>
       </mrow>
       <mrow>
        <mo stretchy="false">⟨</mo>
        <mi>m</mi>
        <mo fence="true" stretchy="false">|</mo>
        <msub>
         <mi>ψ</mi>
         <mi>α</mi>
        </msub>
        <mo fence="true" stretchy="false">|</mo>
        <mi>n</mi>
        <mo stretchy="false">⟩</mo>
       </mrow>
       <mrow>
        <mo stretchy="false">⟨</mo>
        <mi>n</mi>
        <mo fence="true" stretchy="false">|</mo>
        <msubsup>
         <mi>ψ</mi>
         <mi>β</mi>
         <mo>†</mo>
        </msubsup>
        <mo fence="true" stretchy="false">|</mo>
        <mi>m</mi>
        <mo stretchy="false">⟩</mo>
       </mrow>
       <mrow>
        <mo>(</mo>
        <mrow>
         <msup>
          <mi mathvariant="normal">e</mi>
          <mrow>
           <mo>-</mo>
           <mrow>
            <mi>β</mi>
            <msub>
             <mi>E</mi>
             <mi>m</mi>
            </msub>
           </mrow>
          </mrow>
         </msup>
         <mo>-</mo>
         <mrow>
          <mi>ζ</mi>
          <msup>
           <mi mathvariant="normal">e</mi>
           <mrow>
            <mo>-</mo>
            <mrow>
             <mi>β</mi>
             <msub>
              <mi>E</mi>
              <mi>n</mi>
             </msub>
            </mrow>
           </mrow>
          </msup>
         </mrow>
        </mrow>
        <mo>)</mo>
       </mrow>
      </mrow>
     </mrow>
    </mrow>
   </mrow>
   <mo>,</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <times></times>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <ci>ρ</ci>
      <apply>
       <times></times>
       <ci>α</ci>
       <ci>β</ci>
      </apply>
     </apply>
     <ci>ω</ci>
    </apply>
    <apply>
     <times></times>
     <apply>
      <divide></divide>
      <cn type="integer">1</cn>
      <ci>𝒵</ci>
     </apply>
     <apply>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <sum></sum>
       <list>
        <ci>m</ci>
        <ci>n</ci>
       </list>
      </apply>
      <apply>
       <times></times>
       <cn type="integer">2</cn>
       <ci>π</ci>
       <ci>δ</ci>
       <apply>
        <minus></minus>
        <apply>
         <csymbol cd="ambiguous">subscript</csymbol>
         <ci>E</ci>
         <ci>n</ci>
        </apply>
        <apply>
         <csymbol cd="ambiguous">subscript</csymbol>
         <ci>E</ci>
         <ci>m</ci>
        </apply>
        <ci>ω</ci>
       </apply>
       <apply>
        <csymbol cd="latexml">quantum-operator-product</csymbol>
        <ci>m</ci>
        <apply>
         <csymbol cd="ambiguous">subscript</csymbol>
         <ci>ψ</ci>
         <ci>α</ci>
        </apply>
        <ci>n</ci>
       </apply>
       <apply>
        <csymbol cd="latexml">quantum-operator-product</csymbol>
        <ci>n</ci>
        <apply>
         <csymbol cd="ambiguous">superscript</csymbol>
         <apply>
          <csymbol cd="ambiguous">subscript</csymbol>
          <ci>ψ</ci>
          <ci>β</ci>
         </apply>
         <ci>normal-†</ci>
        </apply>
        <ci>m</ci>
       </apply>
       <apply>
        <minus></minus>
        <apply>
         <csymbol cd="ambiguous">superscript</csymbol>
         <ci>normal-e</ci>
         <apply>
          <minus></minus>
          <apply>
           <times></times>
           <ci>β</ci>
           <apply>
            <csymbol cd="ambiguous">subscript</csymbol>
            <ci>E</ci>
            <ci>m</ci>
           </apply>
          </apply>
         </apply>
        </apply>
        <apply>
         <times></times>
         <ci>ζ</ci>
         <apply>
          <csymbol cd="ambiguous">superscript</csymbol>
          <ci>normal-e</ci>
          <apply>
           <minus></minus>
           <apply>
            <times></times>
            <ci>β</ci>
            <apply>
             <csymbol cd="ambiguous">subscript</csymbol>
             <ci>E</ci>
             <ci>n</ci>
            </apply>
           </apply>
          </apply>
         </apply>
        </apply>
       </apply>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \rho_{\alpha\beta}(\omega)=\frac{1}{\mathcal{Z}}\sum_{m,n}2\pi\delta(E_{n}-E_{%
m}-\omega)\;\langle m|\psi_{\alpha}|n\rangle\langle n|\psi_{\beta}^{\dagger}|m%
\rangle\left(\mathrm{e}^{-\beta E_{m}}-\zeta\mathrm{e}^{-\beta E_{n}}\right),
  </annotation>
 </semantics>
</math>

 where 

<math display="inline" id="Green's_function_(many-body_theory):125">
 <semantics>
  <mi>m</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>m</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   m
  </annotation>
 </semantics>
</math>

 and 

<math display="inline" id="Green's_function_(many-body_theory):126">
 <semantics>
  <mi>n</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>n</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   n
  </annotation>
 </semantics>
</math>

 are many-body states.</p>

<p>The expressions for the Green functions are modified in the obvious ways:</p>

<p>

<math display="block" id="Green's_function_(many-body_theory):127">
 <semantics>
  <mrow>
   <mrow>
    <msub>
     <mi class="ltx_font_mathcaligraphic">𝒢</mi>
     <mrow>
      <mi>α</mi>
      <mi>β</mi>
     </mrow>
    </msub>
    <mrow>
     <mo stretchy="false">(</mo>
     <msub>
      <mi>ω</mi>
      <mi>n</mi>
     </msub>
     <mo stretchy="false">)</mo>
    </mrow>
   </mrow>
   <mo>=</mo>
   <mrow>
    <msubsup>
     <mo largeop="true" symmetric="true">∫</mo>
     <mrow>
      <mo>-</mo>
      <mi mathvariant="normal">∞</mi>
     </mrow>
     <mi mathvariant="normal">∞</mi>
    </msubsup>
    <mrow>
     <mfrac>
      <mrow>
       <mi mathvariant="normal">d</mi>
       <msup>
        <mi>ω</mi>
        <mo>′</mo>
       </msup>
      </mrow>
      <mrow>
       <mn>2</mn>
       <mi>π</mi>
      </mrow>
     </mfrac>
     <mfrac>
      <mrow>
       <msub>
        <mi>ρ</mi>
        <mrow>
         <mi>α</mi>
         <mi>β</mi>
        </mrow>
       </msub>
       <mrow>
        <mo stretchy="false">(</mo>
        <msup>
         <mi>ω</mi>
         <mo>′</mo>
        </msup>
        <mo stretchy="false">)</mo>
       </mrow>
      </mrow>
      <mrow>
       <mrow>
        <mo>-</mo>
        <mrow>
         <mi mathvariant="normal">i</mi>
         <msub>
          <mi>ω</mi>
          <mi>n</mi>
         </msub>
        </mrow>
       </mrow>
       <mo>+</mo>
       <msup>
        <mi>ω</mi>
        <mo>′</mo>
       </msup>
      </mrow>
     </mfrac>
    </mrow>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <times></times>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <ci>𝒢</ci>
      <apply>
       <times></times>
       <ci>α</ci>
       <ci>β</ci>
      </apply>
     </apply>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <ci>ω</ci>
      <ci>n</ci>
     </apply>
    </apply>
    <apply>
     <apply>
      <csymbol cd="ambiguous">superscript</csymbol>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <int></int>
       <apply>
        <minus></minus>
        <infinity></infinity>
       </apply>
      </apply>
      <infinity></infinity>
     </apply>
     <apply>
      <times></times>
      <apply>
       <divide></divide>
       <apply>
        <times></times>
        <ci>normal-d</ci>
        <apply>
         <csymbol cd="ambiguous">superscript</csymbol>
         <ci>ω</ci>
         <ci>normal-′</ci>
        </apply>
       </apply>
       <apply>
        <times></times>
        <cn type="integer">2</cn>
        <ci>π</ci>
       </apply>
      </apply>
      <apply>
       <divide></divide>
       <apply>
        <times></times>
        <apply>
         <csymbol cd="ambiguous">subscript</csymbol>
         <ci>ρ</ci>
         <apply>
          <times></times>
          <ci>α</ci>
          <ci>β</ci>
         </apply>
        </apply>
        <apply>
         <csymbol cd="ambiguous">superscript</csymbol>
         <ci>ω</ci>
         <ci>normal-′</ci>
        </apply>
       </apply>
       <apply>
        <plus></plus>
        <apply>
         <minus></minus>
         <apply>
          <times></times>
          <ci>normal-i</ci>
          <apply>
           <csymbol cd="ambiguous">subscript</csymbol>
           <ci>ω</ci>
           <ci>n</ci>
          </apply>
         </apply>
        </apply>
        <apply>
         <csymbol cd="ambiguous">superscript</csymbol>
         <ci>ω</ci>
         <ci>normal-′</ci>
        </apply>
       </apply>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \mathcal{G}_{\alpha\beta}(\omega_{n})=\int_{-\infty}^{\infty}\frac{\mathrm{d}%
\omega^{\prime}}{2\pi}\frac{\rho_{\alpha\beta}(\omega^{\prime})}{-\mathrm{i}%
\omega_{n}+\omega^{\prime}}
  </annotation>
 </semantics>
</math>

 and</p>

<p>

<math display="block" id="Green's_function_(many-body_theory):128">
 <semantics>
  <mrow>
   <mrow>
    <mrow>
     <msubsup>
      <mi>G</mi>
      <mrow>
       <mi>α</mi>
       <mi>β</mi>
      </mrow>
      <mi mathvariant="normal">R</mi>
     </msubsup>
     <mrow>
      <mo stretchy="false">(</mo>
      <mi>ω</mi>
      <mo stretchy="false">)</mo>
     </mrow>
    </mrow>
    <mo>=</mo>
    <mrow>
     <msubsup>
      <mo largeop="true" symmetric="true">∫</mo>
      <mrow>
       <mo>-</mo>
       <mi mathvariant="normal">∞</mi>
      </mrow>
      <mi mathvariant="normal">∞</mi>
     </msubsup>
     <mrow>
      <mfrac>
       <mrow>
        <mi mathvariant="normal">d</mi>
        <msup>
         <mi>ω</mi>
         <mo>′</mo>
        </msup>
       </mrow>
       <mrow>
        <mn>2</mn>
        <mi>π</mi>
       </mrow>
      </mfrac>
      <mfrac>
       <mrow>
        <msub>
         <mi>ρ</mi>
         <mrow>
          <mi>α</mi>
          <mi>β</mi>
         </mrow>
        </msub>
        <mrow>
         <mo stretchy="false">(</mo>
         <msup>
          <mi>ω</mi>
          <mo>′</mo>
         </msup>
         <mo stretchy="false">)</mo>
        </mrow>
       </mrow>
       <mrow>
        <mrow>
         <mo>-</mo>
         <mrow>
          <mo stretchy="false">(</mo>
          <mrow>
           <mi>ω</mi>
           <mo>+</mo>
           <mrow>
            <mi mathvariant="normal">i</mi>
            <mi>η</mi>
           </mrow>
          </mrow>
          <mo stretchy="false">)</mo>
         </mrow>
        </mrow>
        <mo>+</mo>
        <msup>
         <mi>ω</mi>
         <mo>′</mo>
        </msup>
       </mrow>
      </mfrac>
     </mrow>
    </mrow>
   </mrow>
   <mo>.</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <times></times>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <apply>
       <csymbol cd="ambiguous">superscript</csymbol>
       <ci>G</ci>
       <ci>normal-R</ci>
      </apply>
      <apply>
       <times></times>
       <ci>α</ci>
       <ci>β</ci>
      </apply>
     </apply>
     <ci>ω</ci>
    </apply>
    <apply>
     <apply>
      <csymbol cd="ambiguous">superscript</csymbol>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <int></int>
       <apply>
        <minus></minus>
        <infinity></infinity>
       </apply>
      </apply>
      <infinity></infinity>
     </apply>
     <apply>
      <times></times>
      <apply>
       <divide></divide>
       <apply>
        <times></times>
        <ci>normal-d</ci>
        <apply>
         <csymbol cd="ambiguous">superscript</csymbol>
         <ci>ω</ci>
         <ci>normal-′</ci>
        </apply>
       </apply>
       <apply>
        <times></times>
        <cn type="integer">2</cn>
        <ci>π</ci>
       </apply>
      </apply>
      <apply>
       <divide></divide>
       <apply>
        <times></times>
        <apply>
         <csymbol cd="ambiguous">subscript</csymbol>
         <ci>ρ</ci>
         <apply>
          <times></times>
          <ci>α</ci>
          <ci>β</ci>
         </apply>
        </apply>
        <apply>
         <csymbol cd="ambiguous">superscript</csymbol>
         <ci>ω</ci>
         <ci>normal-′</ci>
        </apply>
       </apply>
       <apply>
        <plus></plus>
        <apply>
         <minus></minus>
         <apply>
          <plus></plus>
          <ci>ω</ci>
          <apply>
           <times></times>
           <ci>normal-i</ci>
           <ci>η</ci>
          </apply>
         </apply>
        </apply>
        <apply>
         <csymbol cd="ambiguous">superscript</csymbol>
         <ci>ω</ci>
         <ci>normal-′</ci>
        </apply>
       </apply>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   G^{\mathrm{R}}_{\alpha\beta}(\omega)=\int_{-\infty}^{\infty}\frac{\mathrm{d}%
\omega^{\prime}}{2\pi}\frac{\rho_{\alpha\beta}(\omega^{\prime})}{-(\omega+%
\mathrm{i}\eta)+\omega^{\prime}}.
  </annotation>
 </semantics>
</math>

</p>

<p>Their analyticity properties are identical. The proof follows exactly the same steps, except that the two matrix elements are no longer complex conjugates.</p>
<h4 id="noninteracting-case">Noninteracting case</h4>

<p>If the particular single-particle states that are chosen are `single-particle energy eigenstates', i.e.</p>

<p>

<math display="block" id="Green's_function_(many-body_theory):129">
 <semantics>
  <mrow>
   <mrow>
    <mrow>
     <mo stretchy="false">[</mo>
     <mrow>
      <mi>H</mi>
      <mo>-</mo>
      <mrow>
       <mi>μ</mi>
       <mi>N</mi>
      </mrow>
     </mrow>
     <mo>,</mo>
     <msubsup>
      <mi>ψ</mi>
      <mi>α</mi>
      <mo>†</mo>
     </msubsup>
     <mo stretchy="false">]</mo>
    </mrow>
    <mo>=</mo>
    <mrow>
     <msub>
      <mi>ξ</mi>
      <mi>α</mi>
     </msub>
     <msubsup>
      <mi>ψ</mi>
      <mi>α</mi>
      <mo>†</mo>
     </msubsup>
    </mrow>
   </mrow>
   <mo>,</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <interval closure="closed">
     <apply>
      <minus></minus>
      <ci>H</ci>
      <apply>
       <times></times>
       <ci>μ</ci>
       <ci>N</ci>
      </apply>
     </apply>
     <apply>
      <csymbol cd="ambiguous">superscript</csymbol>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>ψ</ci>
       <ci>α</ci>
      </apply>
      <ci>normal-†</ci>
     </apply>
    </interval>
    <apply>
     <times></times>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <ci>ξ</ci>
      <ci>α</ci>
     </apply>
     <apply>
      <csymbol cd="ambiguous">superscript</csymbol>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>ψ</ci>
       <ci>α</ci>
      </apply>
      <ci>normal-†</ci>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   [H-\mu N,\psi_{\alpha}^{\dagger}]=\xi_{\alpha}\psi_{\alpha}^{\dagger},
  </annotation>
 </semantics>
</math>

 then for 

<math display="inline" id="Green's_function_(many-body_theory):130">
 <semantics>
  <mrow>
   <mo fence="true" stretchy="false">|</mo>
   <mi>n</mi>
   <mo stretchy="false">⟩</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <csymbol cd="latexml">ket</csymbol>
    <ci>n</ci>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   |n\rangle
  </annotation>
 </semantics>
</math>

 an eigenstate:</p>

<p>

<math display="block" id="Green's_function_(many-body_theory):131">
 <semantics>
  <mrow>
   <mrow>
    <mrow>
     <mrow>
      <mo stretchy="false">(</mo>
      <mrow>
       <mi>H</mi>
       <mo>-</mo>
       <mrow>
        <mi>μ</mi>
        <mi>N</mi>
       </mrow>
      </mrow>
      <mo stretchy="false">)</mo>
     </mrow>
     <mrow>
      <mo fence="true" stretchy="false">|</mo>
      <mi>n</mi>
      <mo stretchy="false">⟩</mo>
     </mrow>
    </mrow>
    <mo>=</mo>
    <mrow>
     <msub>
      <mi>E</mi>
      <mi>n</mi>
     </msub>
     <mrow>
      <mo fence="true" stretchy="false">|</mo>
      <mi>n</mi>
      <mo stretchy="false">⟩</mo>
     </mrow>
    </mrow>
   </mrow>
   <mo>,</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <times></times>
     <apply>
      <minus></minus>
      <ci>H</ci>
      <apply>
       <times></times>
       <ci>μ</ci>
       <ci>N</ci>
      </apply>
     </apply>
     <apply>
      <csymbol cd="latexml">ket</csymbol>
      <ci>n</ci>
     </apply>
    </apply>
    <apply>
     <times></times>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <ci>E</ci>
      <ci>n</ci>
     </apply>
     <apply>
      <csymbol cd="latexml">ket</csymbol>
      <ci>n</ci>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   (H-\mu N)|n\rangle=E_{n}|n\rangle,
  </annotation>
 </semantics>
</math>

 so is 

<math display="inline" id="Green's_function_(many-body_theory):132">
 <semantics>
  <mrow>
   <msub>
    <mi>ψ</mi>
    <mi>α</mi>
   </msub>
   <mrow>
    <mo fence="true" stretchy="false">|</mo>
    <mi>n</mi>
    <mo stretchy="false">⟩</mo>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <times></times>
    <apply>
     <csymbol cd="ambiguous">subscript</csymbol>
     <ci>ψ</ci>
     <ci>α</ci>
    </apply>
    <apply>
     <csymbol cd="latexml">ket</csymbol>
     <ci>n</ci>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \psi_{\alpha}|n\rangle
  </annotation>
 </semantics>
</math>

:</p>

<p>

<math display="block" id="Green's_function_(many-body_theory):133">
 <semantics>
  <mrow>
   <mrow>
    <mrow>
     <mrow>
      <mo stretchy="false">(</mo>
      <mrow>
       <mi>H</mi>
       <mo>-</mo>
       <mrow>
        <mi>μ</mi>
        <mi>N</mi>
       </mrow>
      </mrow>
      <mo stretchy="false">)</mo>
     </mrow>
     <msub>
      <mi>ψ</mi>
      <mi>α</mi>
     </msub>
     <mrow>
      <mo fence="true" stretchy="false">|</mo>
      <mi>n</mi>
      <mo stretchy="false">⟩</mo>
     </mrow>
    </mrow>
    <mo>=</mo>
    <mrow>
     <mrow>
      <mo stretchy="false">(</mo>
      <mrow>
       <msub>
        <mi>E</mi>
        <mi>n</mi>
       </msub>
       <mo>-</mo>
       <msub>
        <mi>ξ</mi>
        <mi>α</mi>
       </msub>
      </mrow>
      <mo stretchy="false">)</mo>
     </mrow>
     <msub>
      <mi>ψ</mi>
      <mi>α</mi>
     </msub>
     <mrow>
      <mo fence="true" stretchy="false">|</mo>
      <mi>n</mi>
      <mo stretchy="false">⟩</mo>
     </mrow>
    </mrow>
   </mrow>
   <mo>,</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <times></times>
     <apply>
      <minus></minus>
      <ci>H</ci>
      <apply>
       <times></times>
       <ci>μ</ci>
       <ci>N</ci>
      </apply>
     </apply>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <ci>ψ</ci>
      <ci>α</ci>
     </apply>
     <apply>
      <csymbol cd="latexml">ket</csymbol>
      <ci>n</ci>
     </apply>
    </apply>
    <apply>
     <times></times>
     <apply>
      <minus></minus>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>E</ci>
       <ci>n</ci>
      </apply>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>ξ</ci>
       <ci>α</ci>
      </apply>
     </apply>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <ci>ψ</ci>
      <ci>α</ci>
     </apply>
     <apply>
      <csymbol cd="latexml">ket</csymbol>
      <ci>n</ci>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   (H-\mu N)\psi_{\alpha}|n\rangle=(E_{n}-\xi_{\alpha})\psi_{\alpha}|n\rangle,
  </annotation>
 </semantics>
</math>

 and so is 

<math display="inline" id="Green's_function_(many-body_theory):134">
 <semantics>
  <mrow>
   <msubsup>
    <mi>ψ</mi>
    <mi>α</mi>
    <mo>†</mo>
   </msubsup>
   <mrow>
    <mo fence="true" stretchy="false">|</mo>
    <mi>n</mi>
    <mo stretchy="false">⟩</mo>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <times></times>
    <apply>
     <csymbol cd="ambiguous">superscript</csymbol>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <ci>ψ</ci>
      <ci>α</ci>
     </apply>
     <ci>normal-†</ci>
    </apply>
    <apply>
     <csymbol cd="latexml">ket</csymbol>
     <ci>n</ci>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \psi_{\alpha}^{\dagger}|n\rangle
  </annotation>
 </semantics>
</math>

:</p>

<p>

<math display="block" id="Green's_function_(many-body_theory):135">
 <semantics>
  <mrow>
   <mrow>
    <mrow>
     <mrow>
      <mo stretchy="false">(</mo>
      <mrow>
       <mi>H</mi>
       <mo>-</mo>
       <mrow>
        <mi>μ</mi>
        <mi>N</mi>
       </mrow>
      </mrow>
      <mo stretchy="false">)</mo>
     </mrow>
     <msubsup>
      <mi>ψ</mi>
      <mi>α</mi>
      <mo>†</mo>
     </msubsup>
     <mrow>
      <mo fence="true" stretchy="false">|</mo>
      <mi>n</mi>
      <mo stretchy="false">⟩</mo>
     </mrow>
    </mrow>
    <mo>=</mo>
    <mrow>
     <mrow>
      <mo stretchy="false">(</mo>
      <mrow>
       <msub>
        <mi>E</mi>
        <mi>n</mi>
       </msub>
       <mo>+</mo>
       <msub>
        <mi>ξ</mi>
        <mi>α</mi>
       </msub>
      </mrow>
      <mo stretchy="false">)</mo>
     </mrow>
     <msubsup>
      <mi>ψ</mi>
      <mi>α</mi>
      <mo>†</mo>
     </msubsup>
     <mrow>
      <mo fence="true" stretchy="false">|</mo>
      <mi>n</mi>
      <mo stretchy="false">⟩</mo>
     </mrow>
    </mrow>
   </mrow>
   <mo>.</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <times></times>
     <apply>
      <minus></minus>
      <ci>H</ci>
      <apply>
       <times></times>
       <ci>μ</ci>
       <ci>N</ci>
      </apply>
     </apply>
     <apply>
      <csymbol cd="ambiguous">superscript</csymbol>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>ψ</ci>
       <ci>α</ci>
      </apply>
      <ci>normal-†</ci>
     </apply>
     <apply>
      <csymbol cd="latexml">ket</csymbol>
      <ci>n</ci>
     </apply>
    </apply>
    <apply>
     <times></times>
     <apply>
      <plus></plus>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>E</ci>
       <ci>n</ci>
      </apply>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>ξ</ci>
       <ci>α</ci>
      </apply>
     </apply>
     <apply>
      <csymbol cd="ambiguous">superscript</csymbol>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>ψ</ci>
       <ci>α</ci>
      </apply>
      <ci>normal-†</ci>
     </apply>
     <apply>
      <csymbol cd="latexml">ket</csymbol>
      <ci>n</ci>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   (H-\mu N)\psi_{\alpha}^{\dagger}|n\rangle=(E_{n}+\xi_{\alpha})\psi_{\alpha}^{%
\dagger}|n\rangle.
  </annotation>
 </semantics>
</math>

</p>

<p>We therefore have</p>

<p>

<math display="block" id="Green's_function_(many-body_theory):136">
 <semantics>
  <mrow>
   <mrow>
    <mrow>
     <mrow>
      <mo stretchy="false">⟨</mo>
      <mi>m</mi>
      <mo fence="true" stretchy="false">|</mo>
      <msub>
       <mi>ψ</mi>
       <mi>α</mi>
      </msub>
      <mo fence="true" stretchy="false">|</mo>
      <mi>n</mi>
      <mo stretchy="false">⟩</mo>
     </mrow>
     <mrow>
      <mo stretchy="false">⟨</mo>
      <mi>n</mi>
      <mo fence="true" stretchy="false">|</mo>
      <msubsup>
       <mi>ψ</mi>
       <mi>β</mi>
       <mo>†</mo>
      </msubsup>
      <mo fence="true" stretchy="false">|</mo>
      <mi>m</mi>
      <mo stretchy="false">⟩</mo>
     </mrow>
    </mrow>
    <mo>=</mo>
    <mrow>
     <msub>
      <mi>δ</mi>
      <mrow>
       <msub>
        <mi>ξ</mi>
        <mi>α</mi>
       </msub>
       <mo>,</mo>
       <msub>
        <mi>ξ</mi>
        <mi>β</mi>
       </msub>
      </mrow>
     </msub>
     <msub>
      <mi>δ</mi>
      <mrow>
       <msub>
        <mi>E</mi>
        <mi>n</mi>
       </msub>
       <mo>,</mo>
       <mrow>
        <msub>
         <mi>E</mi>
         <mi>m</mi>
        </msub>
        <mo>+</mo>
        <msub>
         <mi>ξ</mi>
         <mi>α</mi>
        </msub>
       </mrow>
      </mrow>
     </msub>
     <mrow>
      <mo stretchy="false">⟨</mo>
      <mi>m</mi>
      <mo fence="true" stretchy="false">|</mo>
      <msub>
       <mi>ψ</mi>
       <mi>α</mi>
      </msub>
      <mo fence="true" stretchy="false">|</mo>
      <mi>n</mi>
      <mo stretchy="false">⟩</mo>
     </mrow>
     <mrow>
      <mo stretchy="false">⟨</mo>
      <mi>n</mi>
      <mo fence="true" stretchy="false">|</mo>
      <msubsup>
       <mi>ψ</mi>
       <mi>β</mi>
       <mo>†</mo>
      </msubsup>
      <mo fence="true" stretchy="false">|</mo>
      <mi>m</mi>
      <mo stretchy="false">⟩</mo>
     </mrow>
    </mrow>
   </mrow>
   <mo>.</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <times></times>
     <apply>
      <csymbol cd="latexml">quantum-operator-product</csymbol>
      <ci>m</ci>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>ψ</ci>
       <ci>α</ci>
      </apply>
      <ci>n</ci>
     </apply>
     <apply>
      <csymbol cd="latexml">quantum-operator-product</csymbol>
      <ci>n</ci>
      <apply>
       <csymbol cd="ambiguous">superscript</csymbol>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>ψ</ci>
        <ci>β</ci>
       </apply>
       <ci>normal-†</ci>
      </apply>
      <ci>m</ci>
     </apply>
    </apply>
    <apply>
     <times></times>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <ci>δ</ci>
      <list>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>ξ</ci>
        <ci>α</ci>
       </apply>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>ξ</ci>
        <ci>β</ci>
       </apply>
      </list>
     </apply>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <ci>δ</ci>
      <list>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>E</ci>
        <ci>n</ci>
       </apply>
       <apply>
        <plus></plus>
        <apply>
         <csymbol cd="ambiguous">subscript</csymbol>
         <ci>E</ci>
         <ci>m</ci>
        </apply>
        <apply>
         <csymbol cd="ambiguous">subscript</csymbol>
         <ci>ξ</ci>
         <ci>α</ci>
        </apply>
       </apply>
      </list>
     </apply>
     <apply>
      <csymbol cd="latexml">quantum-operator-product</csymbol>
      <ci>m</ci>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>ψ</ci>
       <ci>α</ci>
      </apply>
      <ci>n</ci>
     </apply>
     <apply>
      <csymbol cd="latexml">quantum-operator-product</csymbol>
      <ci>n</ci>
      <apply>
       <csymbol cd="ambiguous">superscript</csymbol>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>ψ</ci>
        <ci>β</ci>
       </apply>
       <ci>normal-†</ci>
      </apply>
      <ci>m</ci>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \langle m|\psi_{\alpha}|n\rangle\langle n|\psi_{\beta}^{\dagger}|m\rangle=%
\delta_{\xi_{\alpha},\xi_{\beta}}\delta_{E_{n},E_{m}+\xi_{\alpha}}\langle m|%
\psi_{\alpha}|n\rangle\langle n|\psi_{\beta}^{\dagger}|m\rangle.
  </annotation>
 </semantics>
</math>

</p>

<p>We then rewrite</p>

<p>

<math display="block" id="Green's_function_(many-body_theory):137">
 <semantics>
  <mrow>
   <mrow>
    <mrow>
     <msub>
      <mi>ρ</mi>
      <mrow>
       <mi>α</mi>
       <mi>β</mi>
      </mrow>
     </msub>
     <mrow>
      <mo stretchy="false">(</mo>
      <mi>ω</mi>
      <mo stretchy="false">)</mo>
     </mrow>
    </mrow>
    <mo>=</mo>
    <mrow>
     <mfrac>
      <mn>1</mn>
      <mi class="ltx_font_mathcaligraphic">𝒵</mi>
     </mfrac>
     <mrow>
      <munder>
       <mo largeop="true" movablelimits="false" symmetric="true">∑</mo>
       <mrow>
        <mi>m</mi>
        <mo>,</mo>
        <mi>n</mi>
       </mrow>
      </munder>
      <mrow>
       <mn>2</mn>
       <mi>π</mi>
       <mi>δ</mi>
       <mrow>
        <mo stretchy="false">(</mo>
        <mrow>
         <msub>
          <mi>ξ</mi>
          <mi>α</mi>
         </msub>
         <mo>-</mo>
         <mi>ω</mi>
        </mrow>
        <mo stretchy="false">)</mo>
       </mrow>
       <msub>
        <mi>δ</mi>
        <mrow>
         <msub>
          <mi>ξ</mi>
          <mi>α</mi>
         </msub>
         <mo>,</mo>
         <msub>
          <mi>ξ</mi>
          <mi>β</mi>
         </msub>
        </mrow>
       </msub>
       <mrow>
        <mo stretchy="false">⟨</mo>
        <mi>m</mi>
        <mo fence="true" stretchy="false">|</mo>
        <msub>
         <mi>ψ</mi>
         <mi>α</mi>
        </msub>
        <mo fence="true" stretchy="false">|</mo>
        <mi>n</mi>
        <mo stretchy="false">⟩</mo>
       </mrow>
       <mrow>
        <mo stretchy="false">⟨</mo>
        <mi>n</mi>
        <mo fence="true" stretchy="false">|</mo>
        <msubsup>
         <mi>ψ</mi>
         <mi>β</mi>
         <mo>†</mo>
        </msubsup>
        <mo fence="true" stretchy="false">|</mo>
        <mi>m</mi>
        <mo stretchy="false">⟩</mo>
       </mrow>
       <msup>
        <mi mathvariant="normal">e</mi>
        <mrow>
         <mo>-</mo>
         <mrow>
          <mi>β</mi>
          <msub>
           <mi>E</mi>
           <mi>m</mi>
          </msub>
         </mrow>
        </mrow>
       </msup>
       <mrow>
        <mo>(</mo>
        <mrow>
         <mn>1</mn>
         <mo>-</mo>
         <mrow>
          <mi>ζ</mi>
          <msup>
           <mi mathvariant="normal">e</mi>
           <mrow>
            <mo>-</mo>
            <mrow>
             <mi>β</mi>
             <msub>
              <mi>ξ</mi>
              <mi>α</mi>
             </msub>
            </mrow>
           </mrow>
          </msup>
         </mrow>
        </mrow>
        <mo>)</mo>
       </mrow>
      </mrow>
     </mrow>
    </mrow>
   </mrow>
   <mo>,</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <times></times>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <ci>ρ</ci>
      <apply>
       <times></times>
       <ci>α</ci>
       <ci>β</ci>
      </apply>
     </apply>
     <ci>ω</ci>
    </apply>
    <apply>
     <times></times>
     <apply>
      <divide></divide>
      <cn type="integer">1</cn>
      <ci>𝒵</ci>
     </apply>
     <apply>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <sum></sum>
       <list>
        <ci>m</ci>
        <ci>n</ci>
       </list>
      </apply>
      <apply>
       <times></times>
       <cn type="integer">2</cn>
       <ci>π</ci>
       <ci>δ</ci>
       <apply>
        <minus></minus>
        <apply>
         <csymbol cd="ambiguous">subscript</csymbol>
         <ci>ξ</ci>
         <ci>α</ci>
        </apply>
        <ci>ω</ci>
       </apply>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>δ</ci>
        <list>
         <apply>
          <csymbol cd="ambiguous">subscript</csymbol>
          <ci>ξ</ci>
          <ci>α</ci>
         </apply>
         <apply>
          <csymbol cd="ambiguous">subscript</csymbol>
          <ci>ξ</ci>
          <ci>β</ci>
         </apply>
        </list>
       </apply>
       <apply>
        <csymbol cd="latexml">quantum-operator-product</csymbol>
        <ci>m</ci>
        <apply>
         <csymbol cd="ambiguous">subscript</csymbol>
         <ci>ψ</ci>
         <ci>α</ci>
        </apply>
        <ci>n</ci>
       </apply>
       <apply>
        <csymbol cd="latexml">quantum-operator-product</csymbol>
        <ci>n</ci>
        <apply>
         <csymbol cd="ambiguous">superscript</csymbol>
         <apply>
          <csymbol cd="ambiguous">subscript</csymbol>
          <ci>ψ</ci>
          <ci>β</ci>
         </apply>
         <ci>normal-†</ci>
        </apply>
        <ci>m</ci>
       </apply>
       <apply>
        <csymbol cd="ambiguous">superscript</csymbol>
        <ci>normal-e</ci>
        <apply>
         <minus></minus>
         <apply>
          <times></times>
          <ci>β</ci>
          <apply>
           <csymbol cd="ambiguous">subscript</csymbol>
           <ci>E</ci>
           <ci>m</ci>
          </apply>
         </apply>
        </apply>
       </apply>
       <apply>
        <minus></minus>
        <cn type="integer">1</cn>
        <apply>
         <times></times>
         <ci>ζ</ci>
         <apply>
          <csymbol cd="ambiguous">superscript</csymbol>
          <ci>normal-e</ci>
          <apply>
           <minus></minus>
           <apply>
            <times></times>
            <ci>β</ci>
            <apply>
             <csymbol cd="ambiguous">subscript</csymbol>
             <ci>ξ</ci>
             <ci>α</ci>
            </apply>
           </apply>
          </apply>
         </apply>
        </apply>
       </apply>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \rho_{\alpha\beta}(\omega)=\frac{1}{\mathcal{Z}}\sum_{m,n}2\pi\delta(\xi_{%
\alpha}-\omega)\delta_{\xi_{\alpha},\xi_{\beta}}\langle m|\psi_{\alpha}|n%
\rangle\langle n|\psi_{\beta}^{\dagger}|m\rangle\mathrm{e}^{-\beta E_{m}}\left%
(1-\zeta\mathrm{e}^{-\beta\xi_{\alpha}}\right),
  </annotation>
 </semantics>
</math>

 therefore</p>

<p>

<math display="block" id="Green's_function_(many-body_theory):138">
 <semantics>
  <mrow>
   <mrow>
    <mrow>
     <msub>
      <mi>ρ</mi>
      <mrow>
       <mi>α</mi>
       <mi>β</mi>
      </mrow>
     </msub>
     <mrow>
      <mo stretchy="false">(</mo>
      <mi>ω</mi>
      <mo stretchy="false">)</mo>
     </mrow>
    </mrow>
    <mo>=</mo>
    <mrow>
     <mfrac>
      <mn>1</mn>
      <mi class="ltx_font_mathcaligraphic">𝒵</mi>
     </mfrac>
     <mrow>
      <munder>
       <mo largeop="true" movablelimits="false" symmetric="true">∑</mo>
       <mi>m</mi>
      </munder>
      <mrow>
       <mn>2</mn>
       <mi>π</mi>
       <mi>δ</mi>
       <mrow>
        <mo stretchy="false">(</mo>
        <mrow>
         <msub>
          <mi>ξ</mi>
          <mi>α</mi>
         </msub>
         <mo>-</mo>
         <mi>ω</mi>
        </mrow>
        <mo stretchy="false">)</mo>
       </mrow>
       <msub>
        <mi>δ</mi>
        <mrow>
         <msub>
          <mi>ξ</mi>
          <mi>α</mi>
         </msub>
         <mo>,</mo>
         <msub>
          <mi>ξ</mi>
          <mi>β</mi>
         </msub>
        </mrow>
       </msub>
       <mrow>
        <mo stretchy="false">⟨</mo>
        <mi>m</mi>
        <mo fence="true" stretchy="false">|</mo>
        <mrow>
         <msub>
          <mi>ψ</mi>
          <mi>α</mi>
         </msub>
         <msubsup>
          <mi>ψ</mi>
          <mi>β</mi>
          <mo>†</mo>
         </msubsup>
         <msup>
          <mi mathvariant="normal">e</mi>
          <mrow>
           <mo>-</mo>
           <mrow>
            <mi>β</mi>
            <mrow>
             <mo stretchy="false">(</mo>
             <mrow>
              <mi>H</mi>
              <mo>-</mo>
              <mrow>
               <mi>μ</mi>
               <mi>N</mi>
              </mrow>
             </mrow>
             <mo stretchy="false">)</mo>
            </mrow>
           </mrow>
          </mrow>
         </msup>
        </mrow>
        <mo fence="true" stretchy="false">|</mo>
        <mi>m</mi>
        <mo stretchy="false">⟩</mo>
       </mrow>
       <mrow>
        <mo>(</mo>
        <mrow>
         <mn>1</mn>
         <mo>-</mo>
         <mrow>
          <mi>ζ</mi>
          <msup>
           <mi mathvariant="normal">e</mi>
           <mrow>
            <mo>-</mo>
            <mrow>
             <mi>β</mi>
             <msub>
              <mi>ξ</mi>
              <mi>α</mi>
             </msub>
            </mrow>
           </mrow>
          </msup>
         </mrow>
        </mrow>
        <mo>)</mo>
       </mrow>
      </mrow>
     </mrow>
    </mrow>
   </mrow>
   <mo>,</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <times></times>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <ci>ρ</ci>
      <apply>
       <times></times>
       <ci>α</ci>
       <ci>β</ci>
      </apply>
     </apply>
     <ci>ω</ci>
    </apply>
    <apply>
     <times></times>
     <apply>
      <divide></divide>
      <cn type="integer">1</cn>
      <ci>𝒵</ci>
     </apply>
     <apply>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <sum></sum>
       <ci>m</ci>
      </apply>
      <apply>
       <times></times>
       <cn type="integer">2</cn>
       <ci>π</ci>
       <ci>δ</ci>
       <apply>
        <minus></minus>
        <apply>
         <csymbol cd="ambiguous">subscript</csymbol>
         <ci>ξ</ci>
         <ci>α</ci>
        </apply>
        <ci>ω</ci>
       </apply>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>δ</ci>
        <list>
         <apply>
          <csymbol cd="ambiguous">subscript</csymbol>
          <ci>ξ</ci>
          <ci>α</ci>
         </apply>
         <apply>
          <csymbol cd="ambiguous">subscript</csymbol>
          <ci>ξ</ci>
          <ci>β</ci>
         </apply>
        </list>
       </apply>
       <apply>
        <csymbol cd="latexml">quantum-operator-product</csymbol>
        <ci>m</ci>
        <apply>
         <times></times>
         <apply>
          <csymbol cd="ambiguous">subscript</csymbol>
          <ci>ψ</ci>
          <ci>α</ci>
         </apply>
         <apply>
          <csymbol cd="ambiguous">superscript</csymbol>
          <apply>
           <csymbol cd="ambiguous">subscript</csymbol>
           <ci>ψ</ci>
           <ci>β</ci>
          </apply>
          <ci>normal-†</ci>
         </apply>
         <apply>
          <csymbol cd="ambiguous">superscript</csymbol>
          <ci>normal-e</ci>
          <apply>
           <minus></minus>
           <apply>
            <times></times>
            <ci>β</ci>
            <apply>
             <minus></minus>
             <ci>H</ci>
             <apply>
              <times></times>
              <ci>μ</ci>
              <ci>N</ci>
             </apply>
            </apply>
           </apply>
          </apply>
         </apply>
        </apply>
        <ci>m</ci>
       </apply>
       <apply>
        <minus></minus>
        <cn type="integer">1</cn>
        <apply>
         <times></times>
         <ci>ζ</ci>
         <apply>
          <csymbol cd="ambiguous">superscript</csymbol>
          <ci>normal-e</ci>
          <apply>
           <minus></minus>
           <apply>
            <times></times>
            <ci>β</ci>
            <apply>
             <csymbol cd="ambiguous">subscript</csymbol>
             <ci>ξ</ci>
             <ci>α</ci>
            </apply>
           </apply>
          </apply>
         </apply>
        </apply>
       </apply>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \rho_{\alpha\beta}(\omega)=\frac{1}{\mathcal{Z}}\sum_{m}2\pi\delta(\xi_{\alpha%
}-\omega)\delta_{\xi_{\alpha},\xi_{\beta}}\langle m|\psi_{\alpha}\psi_{\beta}^%
{\dagger}\mathrm{e}^{-\beta(H-\mu N)}|m\rangle\left(1-\zeta\mathrm{e}^{-\beta%
\xi_{\alpha}}\right),
  </annotation>
 </semantics>
</math>

 use</p>

<p>

<math display="block" id="Green's_function_(many-body_theory):139">
 <semantics>
  <mrow>
   <mrow>
    <mo stretchy="false">⟨</mo>
    <mi>m</mi>
    <mo fence="true" stretchy="false">|</mo>
    <mrow>
     <msub>
      <mi>ψ</mi>
      <mi>α</mi>
     </msub>
     <msubsup>
      <mi>ψ</mi>
      <mi>β</mi>
      <mo>†</mo>
     </msubsup>
    </mrow>
    <mo fence="true" stretchy="false">|</mo>
    <mi>m</mi>
    <mo stretchy="false">⟩</mo>
   </mrow>
   <mo>=</mo>
   <mrow>
    <msub>
     <mi>δ</mi>
     <mrow>
      <mi>α</mi>
      <mo>,</mo>
      <mi>β</mi>
     </mrow>
    </msub>
    <mrow>
     <mo stretchy="false">⟨</mo>
     <mi>m</mi>
     <mo fence="true" stretchy="false">|</mo>
     <mrow>
      <mrow>
       <mi>ζ</mi>
       <msubsup>
        <mi>ψ</mi>
        <mi>α</mi>
        <mo>†</mo>
       </msubsup>
       <msub>
        <mi>ψ</mi>
        <mi>α</mi>
       </msub>
      </mrow>
      <mo>+</mo>
      <mn>1</mn>
     </mrow>
     <mo fence="true" stretchy="false">|</mo>
     <mi>m</mi>
     <mo stretchy="false">⟩</mo>
    </mrow>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <csymbol cd="latexml">quantum-operator-product</csymbol>
     <ci>m</ci>
     <apply>
      <times></times>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>ψ</ci>
       <ci>α</ci>
      </apply>
      <apply>
       <csymbol cd="ambiguous">superscript</csymbol>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>ψ</ci>
        <ci>β</ci>
       </apply>
       <ci>normal-†</ci>
      </apply>
     </apply>
     <ci>m</ci>
    </apply>
    <apply>
     <times></times>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <ci>δ</ci>
      <list>
       <ci>α</ci>
       <ci>β</ci>
      </list>
     </apply>
     <apply>
      <csymbol cd="latexml">quantum-operator-product</csymbol>
      <ci>m</ci>
      <apply>
       <plus></plus>
       <apply>
        <times></times>
        <ci>ζ</ci>
        <apply>
         <csymbol cd="ambiguous">superscript</csymbol>
         <apply>
          <csymbol cd="ambiguous">subscript</csymbol>
          <ci>ψ</ci>
          <ci>α</ci>
         </apply>
         <ci>normal-†</ci>
        </apply>
        <apply>
         <csymbol cd="ambiguous">subscript</csymbol>
         <ci>ψ</ci>
         <ci>α</ci>
        </apply>
       </apply>
       <cn type="integer">1</cn>
      </apply>
      <ci>m</ci>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \langle m|\psi_{\alpha}\psi_{\beta}^{\dagger}|m\rangle=\delta_{\alpha,\beta}%
\langle m|\zeta\psi_{\alpha}^{\dagger}\psi_{\alpha}+1|m\rangle
  </annotation>
 </semantics>
</math>

 and the fact that the thermal average of the number operator gives the Bose–Einstein or Fermi–Dirac distribution function.</p>

<p>Finally, the spectral density simplifies to give</p>

<p>

<math display="block" id="Green's_function_(many-body_theory):140">
 <semantics>
  <mrow>
   <mrow>
    <msub>
     <mi>ρ</mi>
     <mrow>
      <mi>α</mi>
      <mi>β</mi>
     </mrow>
    </msub>
    <mo>=</mo>
    <mrow>
     <mn>2</mn>
     <mi>π</mi>
     <mi>δ</mi>
     <mrow>
      <mo stretchy="false">(</mo>
      <mrow>
       <msub>
        <mi>ξ</mi>
        <mi>α</mi>
       </msub>
       <mo>-</mo>
       <mi>ω</mi>
      </mrow>
      <mo stretchy="false">)</mo>
     </mrow>
     <msub>
      <mi>δ</mi>
      <mrow>
       <mi>α</mi>
       <mi>β</mi>
      </mrow>
     </msub>
    </mrow>
   </mrow>
   <mo>,</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <csymbol cd="ambiguous">subscript</csymbol>
     <ci>ρ</ci>
     <apply>
      <times></times>
      <ci>α</ci>
      <ci>β</ci>
     </apply>
    </apply>
    <apply>
     <times></times>
     <cn type="integer">2</cn>
     <ci>π</ci>
     <ci>δ</ci>
     <apply>
      <minus></minus>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>ξ</ci>
       <ci>α</ci>
      </apply>
      <ci>ω</ci>
     </apply>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <ci>δ</ci>
      <apply>
       <times></times>
       <ci>α</ci>
       <ci>β</ci>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \rho_{\alpha\beta}=2\pi\delta(\xi_{\alpha}-\omega)\delta_{\alpha\beta},
  </annotation>
 </semantics>
</math>

 so that the thermal Green function is</p>

<p>

<math display="block" id="Green's_function_(many-body_theory):141">
 <semantics>
  <mrow>
   <mrow>
    <msub>
     <mi class="ltx_font_mathcaligraphic">𝒢</mi>
     <mrow>
      <mi>α</mi>
      <mi>β</mi>
     </mrow>
    </msub>
    <mrow>
     <mo stretchy="false">(</mo>
     <msub>
      <mi>ω</mi>
      <mi>n</mi>
     </msub>
     <mo stretchy="false">)</mo>
    </mrow>
   </mrow>
   <mo>=</mo>
   <mfrac>
    <msub>
     <mi>δ</mi>
     <mrow>
      <mi>α</mi>
      <mi>β</mi>
     </mrow>
    </msub>
    <mrow>
     <mrow>
      <mo>-</mo>
      <mrow>
       <mi mathvariant="normal">i</mi>
       <msub>
        <mi>ω</mi>
        <mi>n</mi>
       </msub>
      </mrow>
     </mrow>
     <mo>+</mo>
     <msub>
      <mi>ξ</mi>
      <mi>β</mi>
     </msub>
    </mrow>
   </mfrac>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <times></times>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <ci>𝒢</ci>
      <apply>
       <times></times>
       <ci>α</ci>
       <ci>β</ci>
      </apply>
     </apply>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <ci>ω</ci>
      <ci>n</ci>
     </apply>
    </apply>
    <apply>
     <divide></divide>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <ci>δ</ci>
      <apply>
       <times></times>
       <ci>α</ci>
       <ci>β</ci>
      </apply>
     </apply>
     <apply>
      <plus></plus>
      <apply>
       <minus></minus>
       <apply>
        <times></times>
        <ci>normal-i</ci>
        <apply>
         <csymbol cd="ambiguous">subscript</csymbol>
         <ci>ω</ci>
         <ci>n</ci>
        </apply>
       </apply>
      </apply>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>ξ</ci>
       <ci>β</ci>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \mathcal{G}_{\alpha\beta}(\omega_{n})=\frac{\delta_{\alpha\beta}}{-\mathrm{i}%
\omega_{n}+\xi_{\beta}}
  </annotation>
 </semantics>
</math>

 and the retarded Green function is</p>

<p>

<math display="block" id="Green's_function_(many-body_theory):142">
 <semantics>
  <mrow>
   <mrow>
    <mrow>
     <msub>
      <mi>G</mi>
      <mrow>
       <mi>α</mi>
       <mi>β</mi>
      </mrow>
     </msub>
     <mrow>
      <mo stretchy="false">(</mo>
      <mi>ω</mi>
      <mo stretchy="false">)</mo>
     </mrow>
    </mrow>
    <mo>=</mo>
    <mfrac>
     <msub>
      <mi>δ</mi>
      <mrow>
       <mi>α</mi>
       <mi>β</mi>
      </mrow>
     </msub>
     <mrow>
      <mrow>
       <mo>-</mo>
       <mrow>
        <mo stretchy="false">(</mo>
        <mrow>
         <mi>ω</mi>
         <mo>+</mo>
         <mrow>
          <mi mathvariant="normal">i</mi>
          <mi>η</mi>
         </mrow>
        </mrow>
        <mo stretchy="false">)</mo>
       </mrow>
      </mrow>
      <mo>+</mo>
      <msub>
       <mi>ξ</mi>
       <mi>β</mi>
      </msub>
     </mrow>
    </mfrac>
   </mrow>
   <mo>.</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <times></times>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <ci>G</ci>
      <apply>
       <times></times>
       <ci>α</ci>
       <ci>β</ci>
      </apply>
     </apply>
     <ci>ω</ci>
    </apply>
    <apply>
     <divide></divide>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <ci>δ</ci>
      <apply>
       <times></times>
       <ci>α</ci>
       <ci>β</ci>
      </apply>
     </apply>
     <apply>
      <plus></plus>
      <apply>
       <minus></minus>
       <apply>
        <plus></plus>
        <ci>ω</ci>
        <apply>
         <times></times>
         <ci>normal-i</ci>
         <ci>η</ci>
        </apply>
       </apply>
      </apply>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>ξ</ci>
       <ci>β</ci>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   G_{\alpha\beta}(\omega)=\frac{\delta_{\alpha\beta}}{-(\omega+\mathrm{i}\eta)+%
\xi_{\beta}}.
  </annotation>
 </semantics>
</math>

 Note that the noninteracting Green function is diagonal, but this will not be true in the interacting case.</p>
<h2 id="see-also">See also</h2>
<ul>
<li><a href="Fluctuation_theorem" title="wikilink">Fluctuation theorem</a></li>
<li><a href="Green-Kubo_relations" title="wikilink">Green-Kubo relations</a></li>
<li><a href="Linear_response_function" title="wikilink">Linear response function</a></li>
<li><a href="Lindblad_equation" title="wikilink">Lindblad equation</a></li>
<li><a href="Kadanoff-Baym_equation" title="wikilink">Kadanoff-Baym equation</a></li>
</ul>
<h2 id="references">References</h2>
<h3 id="books">Books</h3>
<ul>
<li>Bonch-Bruevich V. L., <a href="Sergei_Tyablikov" title="wikilink">Tyablikov S. V.</a> (1962): <em>The Green Function Method in Statistical Mechanics.</em> North Holland Publishing Co.</li>
<li>Abrikosov, A. A., Gorkov, L. P. and Dzyaloshinski, I. E. (1963): <em>Methods of Quantum Field Theory in Statistical Physics</em> Englewood Cliffs: Prentice-Hall.</li>
<li>Negele, J. W. and Orland, H. (1988): <em>Quantum Many-Particle Systems</em> AddisonWesley.</li>
<li><a href="Dmitry_Zubarev" title="wikilink">Zubarev D. N.</a>, Morozov V., Ropke G. (1996): <em>Statistical Mechanics of Nonequilibrium Processes: Basic Concepts, Kinetic Theory</em> (Vol. 1). John Wiley &amp; Sons. ISBN 3-05-501708-0.</li>
<li>Mattuck Richard D. (1992), <em>A Guide to Feynman Diagrams in the Many-Body Problem</em>, Dover Publications, ISBN 0-486-67047-3.</li>
</ul>
<h3 id="papers">Papers</h3>
<ul>
<li><a href="Nikolay_Bogolyubov" title="wikilink">Bogolyubov N. N.</a>, <a href="Sergei_Tyablikov" title="wikilink">Tyablikov S. V.</a> Retarded and advanced Green functions in statistical physics, Soviet Physics Doklady, Vol. <strong>4</strong>, p. 589 (1959).</li>
<li><a href="Dmitry_Zubarev" title="wikilink">Zubarev D. N.</a>, <a href="http://dx.doi.org/10.1070/PU1960v003n03ABEH003275">Double-time Green functions in statistical physics</a>, Soviet Physics Uspekhi <strong>3</strong>(3), 320—345 (1960).</li>
</ul>
<h2 id="external-links">External Links</h2>
<ul>
<li><a href="http://www.cond-mat.de/events/correl14/manuscripts/pavarini.pdf">Linear Response Functions</a> in Eva Pavarini, Erik Koch, Dieter Vollhardt, and Alexander Lichtenstein (eds.): DMFT at 25: Infinite Dimensions, Verlag des Forschungszentrum Jülich, 2014 ISBN 978-3-89336-953-9</li>
</ul>

<p>"</p>

<p><a href="Category:Quantum_field_theory" title="wikilink">Category:Quantum field theory</a> <a href="Category:Statistical_mechanics" title="wikilink">Category:Statistical mechanics</a></p>
</body>
</html>
