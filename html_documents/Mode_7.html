<html lang="en">
<head>
<meta charset="utf-8"/>
<title offset="167">Mode 7</title>
<script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_SVG.js" type="text/javascript">
</script>
</head>
<body>
<h1>Mode 7</h1>
<hr/>

<p> <strong>Mode 7</strong> is a <a href="graphics_mode" title="wikilink">graphics mode</a> on the <a href="Super_Nintendo_Entertainment_System" title="wikilink">Super NES</a> <a href="video_game_console" title="wikilink">video game console</a> that allows a background layer to be rotated and scaled on a scanline-by-scanline basis to create many different effects. The most famous of these effects is the application of a perspective effect on a background layer by scaling and rotating the background layer in this manner. This transforms the background layer into a two-dimensional horizontal <a href="Texture_mapping" title="wikilink">texture-mapped</a> plane that trades height for depth. Thus, an impression of three-dimensional graphics is achieved.</p>

<p>Mode 7 is one of Nintendo's prominent selling points for the Super NES platform in publications such as <em><a href="Nintendo_Power" title="wikilink">Nintendo Power</a></em> and <em>SNES Player's Guide</em>. Similar <em><a class="uri" href="faux" title="wikilink">faux</a></em> 3D techniques have been presented on a few 2D systems other than the Super NES, in select peripherals and games.</p>
<h2 id="use">Use</h2>

<p>Mode 7 games include the titles <em><a href="F-Zero_(video_game)" title="wikilink">F-Zero</a></em>, <em><a class="uri" href="Terranigma" title="wikilink">Terranigma</a></em>, <em><a class="uri" href="Pilotwings" title="wikilink">Pilotwings</a></em>, <em><a href="Yoshi's_Safari" title="wikilink">Yoshi's Safari</a></em>, <em><a href="Teenage_Mutant_Ninja_Turtles_IV:_Turtles_in_Time" title="wikilink">Teenage Mutant Ninja Turtles IV: Turtles in Time</a></em>, <em><a href="Super_Castlevania_IV" title="wikilink">Super Castlevania IV</a></em>, <em><a href="Secret_of_Mana" title="wikilink">Secret of Mana</a></em>, <em><a href="Secret_of_Evermore" title="wikilink">Secret of Evermore</a></em>, <em><a href="Final_Fantasy_IV" title="wikilink">Final Fantasy IV</a></em>, <em><a href="Final_Fantasy_V" title="wikilink">Final Fantasy V</a></em>, <em><a href="Final_Fantasy_VI" title="wikilink">Final Fantasy VI</a></em>, <em><a href="Super_Mario_RPG:_Legend_of_the_Seven_Stars" title="wikilink">Super Mario RPG: Legend of the Seven Stars</a></em>, <em><a href="Dino_City" title="wikilink">Dino City</a></em>, <em><a href="Super_Mario_Kart" title="wikilink">Super Mario Kart</a></em>, <em><a href="Super_Mario_World" title="wikilink">Super Mario World</a></em>, <em><a href="Super_Star_Wars" title="wikilink">Super Star Wars</a></em>, <em><a href="Chrono_Trigger" title="wikilink">Chrono Trigger</a></em>, <em><a class="uri" href="ActRaiser" title="wikilink">ActRaiser</a></em>, <em><a href="Exhaust_Heat" title="wikilink">Exhaust Heat</a></em>, <em><a class="uri" href="Skyblazer" title="wikilink">Skyblazer</a></em>, <em><a href="7th_Saga" title="wikilink">7th Saga</a></em>, <em><a href="Mega_Man_7" title="wikilink">Mega Man 7</a></em>, <em><a href="Top_Gear_(video_game)" title="wikilink">Top Gear</a></em>, <em><a href="Kirby_Super_Star" title="wikilink">Kirby Super Star</a></em>, <em><a class="uri" href="Axelay" title="wikilink">Axelay</a></em>, and <em><a href="The_Legend_of_Zelda:_A_Link_to_the_Past" title="wikilink">The Legend of Zelda: A Link to the Past</a></em>. The visual effects were later reimplemented by other means in the <a href="Game_Boy_Advance" title="wikilink">Game Boy Advance</a> incarnations of many of these games.</p>
<h2 id="function">Function</h2>

<p>The Super NES console has eight graphics modes, numbered from 0 to 7, for displaying background layers. The last one (background mode 7) has a single layer that can be scaled and rotated. This graphical method is suited to racing games, and is used extensively for the overworld sections of role-playing games such as <a href="Square_Co." title="wikilink">Square</a>'s popular 1994 game <em><a href="Final_Fantasy_VI" title="wikilink">Final Fantasy VI</a></em>. The effect enables developers to create the impression of sprawling worlds that continue toward the horizon.</p>

<p>A particular utilization technique with Mode 7 allows pixels of the background layer to be in front of sprites. Examples include stage 2 of <em><a href="Contra_III:_The_Alien_Wars" title="wikilink">Contra III: The Alien Wars</a></em>, the introduction screen of <em><a href="Tiny_Toon_Adventures:_Buster_Busts_Loose" title="wikilink">Tiny Toon Adventures</a></em>, when a player falls off the stage in <em><a href="Super_Mario_Kart" title="wikilink">Super Mario Kart</a></em>, some cinematics in <em><a href="Super_Metroid" title="wikilink">Super Metroid</a></em>, and in some boss battles in <em><a href="Super_Mario_World" title="wikilink">Super Mario World</a></em>. The <a href="Game_Boy_Advance" title="wikilink">Game Boy Advance</a> can make the same effect by using mode 2 which provides two layers, and by putting the sprites between the layers.</p>
<h3 id="formula">Formula</h3>

<p>Planar texture maps using Mode 7 graphics are generated by transforming screen coordinates to background coordinates using a 2D <a href="affine_transformation" title="wikilink">affine transformation</a>.</p>

<p>

<math display="block" id="Mode_7:0">
 <semantics>
  <mrow>
   <mrow>
    <mo>[</mo>
    <mtable displaystyle="true">
     <mtr>
      <mtd columnalign="center">
       <msup>
        <mi>x</mi>
        <mo>′</mo>
       </msup>
      </mtd>
     </mtr>
     <mtr>
      <mtd columnalign="center">
       <msup>
        <mi>y</mi>
        <mo>′</mo>
       </msup>
      </mtd>
     </mtr>
    </mtable>
    <mo>]</mo>
   </mrow>
   <mo>=</mo>
   <mrow>
    <mrow>
     <mo>[</mo>
     <mtable displaystyle="true">
      <mtr>
       <mtd columnalign="center">
        <mi>a</mi>
       </mtd>
       <mtd columnalign="center">
        <mi>b</mi>
       </mtd>
       <mtd columnalign="center">
        <msub>
         <mi>x</mi>
         <mn>0</mn>
        </msub>
       </mtd>
      </mtr>
      <mtr>
       <mtd columnalign="center">
        <mi>c</mi>
       </mtd>
       <mtd columnalign="center">
        <mi>d</mi>
       </mtd>
       <mtd columnalign="center">
        <msub>
         <mi>y</mi>
         <mn>0</mn>
        </msub>
       </mtd>
      </mtr>
     </mtable>
     <mo>]</mo>
    </mrow>
    <mrow>
     <mo>[</mo>
     <mtable displaystyle="true">
      <mtr>
       <mtd columnalign="center">
        <mrow>
         <mi>x</mi>
         <mo>-</mo>
         <msub>
          <mi>x</mi>
          <mn>0</mn>
         </msub>
        </mrow>
       </mtd>
      </mtr>
      <mtr>
       <mtd columnalign="center">
        <mrow>
         <mi>y</mi>
         <mo>-</mo>
         <msub>
          <mi>y</mi>
          <mn>0</mn>
         </msub>
        </mrow>
       </mtd>
      </mtr>
      <mtr>
       <mtd columnalign="center">
        <mn>1</mn>
       </mtd>
      </mtr>
     </mtable>
     <mo>]</mo>
    </mrow>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <matrix>
     <matrixrow>
      <apply>
       <csymbol cd="ambiguous">superscript</csymbol>
       <ci>x</ci>
       <ci>normal-′</ci>
      </apply>
     </matrixrow>
     <matrixrow>
      <apply>
       <csymbol cd="ambiguous">superscript</csymbol>
       <ci>y</ci>
       <ci>normal-′</ci>
      </apply>
     </matrixrow>
    </matrix>
    <apply>
     <times></times>
     <matrix>
      <matrixrow>
       <ci>a</ci>
       <ci>b</ci>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>x</ci>
        <cn type="integer">0</cn>
       </apply>
      </matrixrow>
      <matrixrow>
       <ci>c</ci>
       <ci>d</ci>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>y</ci>
        <cn type="integer">0</cn>
       </apply>
      </matrixrow>
     </matrix>
     <matrix>
      <matrixrow>
       <apply>
        <minus></minus>
        <ci>x</ci>
        <apply>
         <csymbol cd="ambiguous">subscript</csymbol>
         <ci>x</ci>
         <cn type="integer">0</cn>
        </apply>
       </apply>
      </matrixrow>
      <matrixrow>
       <apply>
        <minus></minus>
        <ci>y</ci>
        <apply>
         <csymbol cd="ambiguous">subscript</csymbol>
         <ci>y</ci>
         <cn type="integer">0</cn>
        </apply>
       </apply>
      </matrixrow>
      <matrixrow>
       <cn type="integer">1</cn>
      </matrixrow>
     </matrix>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \begin{bmatrix}x^{\prime}\\
y^{\prime}\end{bmatrix}=\begin{bmatrix}a&b&x_{0}\\
c&d&y_{0}\end{bmatrix}\begin{bmatrix}x-x_{0}\\
y-y_{0}\\
1\end{bmatrix}
  </annotation>
 </semantics>
</math>

</p>

<p>In this, a, b, c, and d are the transformation coefficients; x and y are the screen offset; x<sub>0</sub> and y<sub>0</sub> are the origin offset; and x' and y' are the transformed coordinates. All arithmetic is carried out on 16-bit signed fixed point numbers, while all offsets are limited to 13 bits. The <a href="radix_point" title="wikilink">radix point</a> is between bits 7 and 8.</p>

<p>Two-dimensional affine transformations can produce any combination of translation, scaling, reflection, rotation, and shearing—and nothing else. However, many games create additional effects by setting a different transformation matrix for each scanline. In this way, pseudo-perspective, curved surface, and distortion effects can be achieved.</p>
<h2 id="limits">Limits</h2>

<p>Mode 7 can only work on backgrounds, not sprites; therefore, any object that does not rotate or scale with the background must be a sprite, even items that would normally be thought of as part of the background, such as fixed platforms. The game developer must create a sprite with the same appearance as that object. For instance, in <em><a href="Super_Castlevania_IV" title="wikilink">Super Castlevania IV</a></em>, battles in which a large boss such as Koranot rotates, have the mobile boss implemented as the background, while the blocks on which the protagonist stands are sprites. With the obvious enhancements, this is similar to how some NES games feature battles against a giant movable boss without the slowdown and flicker inherent in a large sprite set—by making the boss the background, and then moving and animating it. Both systems' examples only must apply to objects in the horizontal plane of the moving object. For instance, a floor, ceiling, or scoreboard can remain part of a background in both the NES and SNES examples as long as they are completely "above" or "below" the field of gameplay. They can also be turned into sprites if the whole screen is needed, but this can cause slowdown.</p>

<p>That Mode 7 cannot be used on sprites means that each "size" of an "approaching" sprite for a given distance has to be pre-drawn, meaning that one would see sprites "jump" between a limited number of sizes when "approaching" them. This can be seen in <em><a href="Super_Mario_Kart" title="wikilink">Super Mario Kart</a></em> and <em><a class="uri" href="HyperZone" title="wikilink">HyperZone</a></em> whenever an object approaches, or when walking vertically on the <em><a href="Final_Fantasy_VI" title="wikilink">Final Fantasy VI</a></em> map with an airship in view.</p>

<p>Similarly, the appearance of sprite rotations must be handled through pre-drawing unless they are done with hardware included in the game cartridge such as the <a href="Super_FX" title="wikilink">Super FX</a> 2 chip, as with <em><a href="Super_Mario_World_2:_Yoshi's_Island" title="wikilink">Super Mario World 2: Yoshi's Island</a></em>. A notable workaround does exist and can be seen in <em><a href="Contra_III:_The_Alien_Wars" title="wikilink">Contra III: The Alien Wars</a></em> in the second boss battle, and in <em><a href="Super_Mario_World" title="wikilink">Super Mario World</a></em> in the battles against Reznor (platform wall support), Iggy (battle platform), Larry (also the platform), Morton, Ludwig, Roy, and Bowser. In these examples, the boss is a "background" and therefore rotates through Mode 7, and the scoreboard, which is "above" the field of play, is also a background, but the floor of battle's cracks are, as with the players and gunfire, "sprites" that are redrawn under various rotations as the player rotates. However, this only allows one "sprite" to be manipulated at once.</p>

<p>One exception to Mode 7-like effects on sprites handled neither by pre-drawing nor by external chips occurs in <em><a href="Tales_of_Phantasia" title="wikilink">Tales of Phantasia</a></em> and <em><a href="Star_Ocean" title="wikilink">Star Ocean</a></em>, where re-rendering of sprites on the fly is done entirely by the software. In <em>ToP</em>, the player sprite vertically stretches upon walking onto a save spot, and in <em>Star Ocean</em>, items are squashed when popping out of an open treasure chest. Due to the extra tiles needed for such rendering and the other high system demands throughout those games (both using a form of <a href="streaming_audio" title="wikilink">streaming audio</a> to circumvent the <a class="uri" href="SPC700" title="wikilink">SPC700</a>'s limited capacity, and as with most high-end SNES RPGs, using a <a href="variable_width_font" title="wikilink">variable width font</a>), such rendering was limited to those few scenes.</p>

<p>The <a href="Sega_Genesis" title="wikilink">Sega Mega Drive/Sega Genesis</a> has no hardware-native feature comparable to Mode 7, although the <a href="Sega_CD" title="wikilink">Sega CD</a> peripheral adds such a feature; for example, it is used prominently in the Special Stages of <em><a href="Sonic_CD" title="wikilink">Sonic CD</a></em>. However, as in <em>Tales of Phantasia</em> and Star Ocean's sprite effect add-ins, some comparable technical feats could be programmed entirely in software, resulting in similar effects seen in games such as <em><a href="Castlevania:_Bloodlines" title="wikilink">Castlevania: Bloodlines</a></em>, <em>Adventures of Batman and Robin</em>, or <em><a href="Contra:_Hard_Corps" title="wikilink">Contra: Hard Corps</a></em>. The <a href="Sega_32X" title="wikilink">Sega 32X</a> has 2D and basic 3D capabilities, so scaling and rotation effects are common in primarily 2D games such as <em><a href="Knuckles'_Chaotix" title="wikilink">Knuckles' Chaotix</a></em>.</p>

<p>Although there is no hardware-native feature comparable to Mode 7 in the <a class="uri" href="Amiga" title="wikilink">Amiga</a>, some of its games use programming tricks that resemble the effects of Mode 7—for example in <em><a href="Mr._Nutz:_Hoppin'_Mad" title="wikilink">Mr. Nutz: Hoppin' Mad</a></em>, <em><a href="Lionheart_(video_game)" title="wikilink">Lionheart</a></em>, <em><a class="uri" href="Obitus" title="wikilink">Obitus</a></em>, and <em><a href="Brian_the_Lion" title="wikilink">Brian the Lion</a></em>.</p>
<h2 id="hardware">Hardware</h2>

<p>The two PPU (picture-processing unit) chips of the SNES use two 8-<a class="uri" href="bit" title="wikilink">bit</a> 32-<a class="uri" href="kilobyte" title="wikilink">kilobyte</a> RAM chips. One PPU can access the tile map (128×128 tiles), and the other PPU can access the tile set (256 tiles, 8×8 <a href="pixel" title="wikilink">pixels</a> in 256 colors) in a single cycle.</p>
<h2 id="see-also">See also</h2>
<ul>
<li><a href="Super_Nintendo_Entertainment_System" title="wikilink">Super Nintendo Entertainment System</a></li>
<li><a href="Super_Nintendo_Entertainment_System_technical_specifications" title="wikilink">Super Nintendo Entertainment System technical specifications</a></li>
<li><a href="Sega_CD" title="wikilink">Sega CD</a></li>
</ul>
<h2 id="references">References</h2>

<p>"</p>

<p><a href="Category:Super_Nintendo_Entertainment_System" title="wikilink">Category:Super Nintendo Entertainment System</a> <a href="Category:Texture_mapping" title="wikilink">Category:Texture mapping</a> <a href="Category:Video_game_development" title="wikilink">Category:Video game development</a></p>
</body>
</html>
