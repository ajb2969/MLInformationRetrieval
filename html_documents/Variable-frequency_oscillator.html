<html lang="en">
<head>
<meta charset="utf-8"/>
<title offset="892">Variable-frequency oscillator</title>
<script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_SVG.js" type="text/javascript">
</script>
</head>
<body>
<h1>Variable-frequency oscillator</h1>
<hr/>

<p><a href="File:Heathkit_DX-60B_HG-10B_090403.JPG" title="wikilink">thumb|upright=1.5|A Heathkit </a><a href="amateur_radio" title="wikilink">amateur radio</a> transmitter <em>circa</em> 1969, with external VFO A <strong>variable frequency oscillator (VFO)</strong> in <a class="uri" href="electronics" title="wikilink">electronics</a> is an <a class="uri" href="oscillator" title="wikilink">oscillator</a> whose <a class="uri" href="frequency" title="wikilink">frequency</a> can be tuned (i.e. varied) over some range.<a class="footnoteRef" href="#fn1" id="fnref1"><sup>1</sup></a> It is a necessary component in any tunable <a class="uri" href="radio" title="wikilink">radio</a> receiver or transmitter that works by the <a class="uri" href="superheterodyne" title="wikilink">superheterodyne</a> principle, and controls the <a href="radio_frequency" title="wikilink">frequency</a> to which the apparatus is tuned.</p>
<h2 id="purpose">Purpose</h2>

<p>In a simple <a href="Superheterodyne_receiver" title="wikilink">superhet</a> radio receiver, the incoming radio frequency signal (at frequency 

<math display="inline" id="Variable-frequency_oscillator:0">
 <semantics>
  <msub>
   <mi>f</mi>
   <mrow>
    <mi>I</mi>
    <mi>N</mi>
   </mrow>
  </msub>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <csymbol cd="ambiguous">subscript</csymbol>
    <ci>f</ci>
    <apply>
     <times></times>
     <ci>I</ci>
     <ci>N</ci>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   f_{IN}
  </annotation>
 </semantics>
</math>

) from the <a href="antenna_(radio)" title="wikilink">antenna</a> is <a href="frequency_mixer" title="wikilink"><em>mixed</em></a> with the VFO output signal tuned to 

<math display="inline" id="Variable-frequency_oscillator:1">
 <semantics>
  <msub>
   <mi>f</mi>
   <mrow>
    <mi>L</mi>
    <mi>O</mi>
   </mrow>
  </msub>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <csymbol cd="ambiguous">subscript</csymbol>
    <ci>f</ci>
    <apply>
     <times></times>
     <ci>L</ci>
     <ci>O</ci>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   f_{LO}
  </annotation>
 </semantics>
</math>

, producing an <a href="intermediate_frequency" title="wikilink">intermediate frequency</a> (<em>IF</em>) signal that can be processed downstream to extract the <a href="modulation" title="wikilink">modulated</a> information. The IF signal frequency is chosen to be either the sum of the two frequencies at the mixer inputs (<a href="Heterodyne#Up_and_down_converters" title="wikilink">up-conversion</a>), 

<math display="inline" id="Variable-frequency_oscillator:2">
 <semantics>
  <mrow>
   <msub>
    <mi>f</mi>
    <mrow>
     <mi>I</mi>
     <mi>N</mi>
    </mrow>
   </msub>
   <mo>+</mo>
   <msub>
    <mi>f</mi>
    <mrow>
     <mi>L</mi>
     <mi>O</mi>
    </mrow>
   </msub>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <plus></plus>
    <apply>
     <csymbol cd="ambiguous">subscript</csymbol>
     <ci>f</ci>
     <apply>
      <times></times>
      <ci>I</ci>
      <ci>N</ci>
     </apply>
    </apply>
    <apply>
     <csymbol cd="ambiguous">subscript</csymbol>
     <ci>f</ci>
     <apply>
      <times></times>
      <ci>L</ci>
      <ci>O</ci>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   f_{IN}+f_{LO}
  </annotation>
 </semantics>
</math>

 or more commonly, the difference frequency (down-conversion), 

<math display="inline" id="Variable-frequency_oscillator:3">
 <semantics>
  <mrow>
   <msub>
    <mi>f</mi>
    <mrow>
     <mi>I</mi>
     <mi>N</mi>
    </mrow>
   </msub>
   <mo>-</mo>
   <msub>
    <mi>f</mi>
    <mrow>
     <mi>L</mi>
     <mi>O</mi>
    </mrow>
   </msub>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <minus></minus>
    <apply>
     <csymbol cd="ambiguous">subscript</csymbol>
     <ci>f</ci>
     <apply>
      <times></times>
      <ci>I</ci>
      <ci>N</ci>
     </apply>
    </apply>
    <apply>
     <csymbol cd="ambiguous">subscript</csymbol>
     <ci>f</ci>
     <apply>
      <times></times>
      <ci>L</ci>
      <ci>O</ci>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   f_{IN}-f_{LO}
  </annotation>
 </semantics>
</math>

, depending on the receiver design.</p>

<p>In addition to the desired <em>IF</em> signal and its unwanted image (the mixing product of opposite sign above), the mixer output will also contain the two original frequencies, 

<math display="inline" id="Variable-frequency_oscillator:4">
 <semantics>
  <msub>
   <mi>f</mi>
   <mrow>
    <mi>I</mi>
    <mi>N</mi>
   </mrow>
  </msub>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <csymbol cd="ambiguous">subscript</csymbol>
    <ci>f</ci>
    <apply>
     <times></times>
     <ci>I</ci>
     <ci>N</ci>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   f_{IN}
  </annotation>
 </semantics>
</math>

 and 

<math display="inline" id="Variable-frequency_oscillator:5">
 <semantics>
  <msub>
   <mi>f</mi>
   <mrow>
    <mi>L</mi>
    <mi>O</mi>
   </mrow>
  </msub>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <csymbol cd="ambiguous">subscript</csymbol>
    <ci>f</ci>
    <apply>
     <times></times>
     <ci>L</ci>
     <ci>O</ci>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   f_{LO}
  </annotation>
 </semantics>
</math>

 and various <a class="uri" href="harmonic" title="wikilink">harmonic</a> combinations of the input signals. These undesired signals are rejected by the IF <a href="electronic_filter" title="wikilink">filter</a>. If a double balanced mixer is employed, the input signals appearing at the mixer outputs are greatly attenuated, reducing the required complexity of the IF filter.</p>

<p>The advantage of using a VFO as a <a href="heterodyne" title="wikilink">heterodyning</a> oscillator is that only a small portion of the radio receiver (the sections before the mixer such as the preamplifier) need to have a wide bandwidth. The rest of the receiver can be finely tuned to the IF frequency.<a class="footnoteRef" href="#fn2" id="fnref2"><sup>2</sup></a></p>

<p>In a <a href="direct-conversion_receiver" title="wikilink">direct-conversion receiver</a>, the VFO is tuned to the same frequency as the incoming radio frequency and 

<math display="inline" id="Variable-frequency_oscillator:6">
 <semantics>
  <mrow>
   <msub>
    <mi>f</mi>
    <mrow>
     <mi>I</mi>
     <mi>F</mi>
    </mrow>
   </msub>
   <mo>=</mo>
   <mn>0</mn>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <csymbol cd="ambiguous">subscript</csymbol>
     <ci>f</ci>
     <apply>
      <times></times>
      <ci>I</ci>
      <ci>F</ci>
     </apply>
    </apply>
    <cn type="integer">0</cn>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   f_{IF}=0
  </annotation>
 </semantics>
</math>

 Hz. Demodulation takes place at baseband using <a href="low-pass_filter" title="wikilink">low-pass filters</a> and <a href="amplifier" title="wikilink">amplifiers</a>.</p>

<p>In a radio frequency (RF) <a class="uri" href="transmitter" title="wikilink">transmitter</a>, VFOs are often used to tune the frequency of the output signal, often indirectly through a <a href="heterodyne" title="wikilink">heterodyning</a> process similar to that described above.<a class="footnoteRef" href="#fn3" id="fnref3"><sup>3</sup></a> Other uses include <a class="uri" href="chirp" title="wikilink">chirp</a> generators for radar systems where the VFO is swept rapidly through a range of frequencies,<a class="footnoteRef" href="#fn4" id="fnref4"><sup>4</sup></a> timing signal generation for <a href="oscilloscope" title="wikilink">oscilloscopes</a> and <a href="time_domain_reflectometer" title="wikilink">time domain reflectometers</a>, and variable frequency audio generators used in musical instruments and audio test equipment.</p>

<p>There are two main types of VFO in use: <a href="analog_circuit" title="wikilink">analog</a> and <a href="Digital_data" title="wikilink">digital</a>.</p>
<h2 id="analog-vfo">Analog VFO</h2>

<p>An analog VFO is an <a href="electronic_oscillator" title="wikilink">electronic oscillator</a> where the value of at least one of the passive components is adjustable under user control so as to alter its output frequency. The passive component whose value is adjustable is usually a <a class="uri" href="capacitor" title="wikilink">capacitor</a>, but could be a variable <a class="uri" href="inductor" title="wikilink">inductor</a>.</p>
<h3 id="tuning-capacitor">Tuning capacitor</h3>

<p>The variable capacitor is a mechanical device in which the separation of a series of interleaved metal plates is physically altered to vary its <a class="uri" href="capacitance" title="wikilink">capacitance</a>. Adjustment of this capacitor is sometimes facilitated by a mechanical step-down gearbox to achieve fine tuning.<a class="footnoteRef" href="#fn5" id="fnref5"><sup>5</sup></a></p>
<h3 id="varactor">Varactor</h3>

<p><em>See <a class="uri" href="varactor" title="wikilink">varactor</a> and <a href="voltage_controlled_oscillator" title="wikilink">voltage controlled oscillator</a></em>.</p>

<p>A reversed-biased <a class="uri" href="semiconductor" title="wikilink">semiconductor</a> <a class="uri" href="diode" title="wikilink">diode</a> exhibits capacitance. Since the width of its non-conducting <a href="depletion_region" title="wikilink">depletion region</a> depends on the magnitude of the reverse bias voltage, this <a class="uri" href="voltage" title="wikilink">voltage</a> can be used to control the junction capacitance. The varactor bias voltage may be generated in a number of ways and there may need to be no significant moving parts in the final design.<a class="footnoteRef" href="#fn6" id="fnref6"><sup>6</sup></a> Varactors have a number of disadvantages including temperature drift and aging, electronic noise, low <a href="Q_factor" title="wikilink">Q factor</a> and non-linearity.</p>
<h2 id="digital-crystal-vfo">Digital crystal VFO</h2>

<p>Modern radio receivers and transmitters usually use some form of digital frequency synthesis to generate their VFO signal. The advantages including smaller designs, lack of moving parts, and the ease with which preset frequencies can be stored and manipulated in the <a href="digital_computer" title="wikilink">digital computer</a> that is usually <a href="embedded_system" title="wikilink">embedded</a> in the design for other purposes.</p>

<p>It is also possible for the radio to become extremely <a class="uri" href="frequency-agile" title="wikilink">frequency-agile</a> in that the control computer could alter the radio's tuned frequency many tens, thousands or even millions of times a second. This capability allows communications receivers effectively to monitor many channels at once, perhaps using digital selective calling (<a href="Global_Maritime_Distress_Safety_System" title="wikilink">DSC</a>) techniques to decide when to open an audio output channel and alert users to incoming communications. Pre-programmed frequency agility also forms the basis of some military radio encryption and stealth techniques. Extreme frequency agility lies at the heart of <a href="spread_spectrum" title="wikilink">spread spectrum</a> techniques that have gained mainstream acceptance in computer wireless networking such as <a class="uri" href="Wi-Fi" title="wikilink">Wi-Fi</a>.</p>

<p>There are disadvantages to digital synthesis such as the inability of a digital synthesiser to tune smoothly through all frequencies, but with the channelisation of many radio bands, this can also be seen as an advantage in that it prevents radios from operating in between two recognised channels.</p>

<p>Digital frequency synthesis relies on stable <a href="crystal_oscillator" title="wikilink">crystal controlled</a> reference frequency sources. Crystal controlled oscillators are more stable than inductively and capacitively controlled oscillators. Their disadvantage is that changing frequency (more than a small amount) requires changing the crystal, but frequency synthesizer techniques have made this unnecessary in modern designs.</p>
<h3 id="digital-frequency-synthesis">Digital frequency synthesis</h3>

<p>The electronic and digital techniques involved in this include:</p>
<dl>
<dt><a href="Direct_digital_synthesizer" title="wikilink">Direct digital synthesis</a> (DDS): Enough data points for a mathematical <a class="uri" href="sine" title="wikilink">sine</a> function are stored in digital memory. These are recalled at the right speed and fed to a <a href="digital_to_analog_converter" title="wikilink">digital to analog converter</a> where the required sine wave is built up.<br/>
<a href="Direct_frequency_synthesis" title="wikilink">Direct frequency synthesis</a>: Early channelized communication radios had multiple crystals - one for each channel on which they could operate. After a while this thinking was combined with the basic ideas of heterodyning and mixing described under <a href="#Purpose" title="wikilink">purpose</a> above. Multiple crystals can be mixed in various combinations to produce various output frequencies.<br/>
<a href="Phase_locked_loop" title="wikilink">Phase locked loop</a> (PLL): Using a varactor-controlled or voltage-controlled oscillator (VCO) (described above in <a href="#Varactor" title="wikilink">varactor</a> under <a href="#Analogue_VFO" title="wikilink">analog VFO</a> techniques) and a phase detector, a control-loop can be set up so that the VCO's output is frequency-locked to a crystal controlled reference oscillator. The phase detector's comparison is made between the outputs of the two oscillators after <a href="frequency_division" title="wikilink">frequency division</a> by different divisors. Then by altering the frequency-division divisor(s) under computer control, a variety of actual (undivided) VCO output frequencies can be generated.</dt>
</dl>

<p>The PLL technique dominates most radio VFO designs today.</p>
<h2 id="performance">Performance</h2>

<p>The quality metrics for a VFO include frequency stability, <a href="phase_noise" title="wikilink">phase noise</a> and spectral purity. All of these factors tend to be inversely proportional to the <a href="LC_circuit" title="wikilink">tuning circuit's</a> <a href="Q_factor" title="wikilink">Q factor</a>. Since in general, the tuning range is also inversely proportional to Q, these performance factors generally degrade as the VFO's frequency range is increased.<a class="footnoteRef" href="#fn7" id="fnref7"><sup>7</sup></a></p>
<h3 id="stability">Stability</h3>

<p>Stability is the measure of how far a VFO's output frequency drifts with time and temperature.<a class="footnoteRef" href="#fn8" id="fnref8"><sup>8</sup></a> To mitigate this problem, VFOs are generally <a href="phase-locked_loop" title="wikilink">"phase locked"</a> to a stable reference oscillator. PLLs use <a href="negative_feedback" title="wikilink">negative feedback</a> to correct for the frequency drift of the VFO allowing for both wide tuning range and good frequency stability.<a class="footnoteRef" href="#fn9" id="fnref9"><sup>9</sup></a></p>
<h3 id="repeatability">Repeatability</h3>

<p>Ideally, for the same control input to the VFO, the oscillator should generate exactly the same frequency. A change in the calibration of the VFO can change receiver tuning calibration; periodic re-alignment of a receiver may be needed. VFO's used as part of a <a href="phase-locked_loop" title="wikilink">phase-locked loop</a> frequency synthesizer have less stringent requirements since the system is as stable as the crystal-controlled reference frequency.</p>
<h3 id="purity">Purity</h3>

<p>A plot of a VFO's amplitude vs. frequency may show several peaks, probably <a href="harmonic" title="wikilink">harmonically</a> related. Each of these peaks can potentially <a href="Frequency_mixer" title="wikilink">mix</a> with some other incoming signal and produce a <em>spurious</em> response. These <em>spurii</em> (sometimes spelled <em>spuriae</em>) can result in increased noise or two signals detected where there should only be one.<a class="footnoteRef" href="#fn10" id="fnref10"><sup>10</sup></a> Additional components can be added to a VFO to suppress high-frequency parasitic oscillations, should these be present.</p>

<p>In a transmitter, these spurious signals are generated along with the one desired signal. Filtering may be required to ensure the transmitted signal meets regulations for bandwidth and spurious emissions.</p>
<h3 id="phase-noise">Phase noise</h3>

<p>When examined with very sensitive equipment, the pure sine-wave peak in a VFO's frequency graph will most likely turn out not to be sitting on a flat <a class="uri" href="noise-floor" title="wikilink">noise-floor</a>. Slight random '<a href="jitter" title="wikilink">jitters</a>' in the signal's timing will mean that the peak is sitting on 'skirts' of <a href="phase_noise" title="wikilink">phase noise</a> at frequencies either side of the desired one.</p>

<p>These are also troublesome in crowded bands. They allow through unwanted signals that are fairly close to the expected one, but because of the random quality of these phase-noise 'skirts', the signals are usually unintelligible, appearing just as extra noise in the received signal. The effect is that what should be a clean signal in a crowded band can appear to be a very noisy signal, because of the effects of strong signals nearby.</p>

<p>The effect of VFO phase noise on a transmitter is that random noise is actually transmitted either side of the required signal. Again, this must be avoided for legal reasons in many cases.</p>
<h3 id="crystal-control">Crystal control</h3>

<p>In all performances cases, crystal controlled oscillators are better behaved than the semiconductor- and <a href="LC_circuit" title="wikilink">LC</a>-based alternatives. They tend to be more stable, more repeatable, have fewer and lower harmonics and lower noise than all the alternatives in their cost-band. This in part explains their huge popularity in low-cost and computer-controlled (i.e. PLL and synthesizer-based) VFOs.</p>
<h2 id="references">References</h2>
<h2 id="see-also">See also</h2>
<ul>
<li><a href="Crystal_oscillator" title="wikilink">Crystal oscillator</a></li>
<li><a href="Voltage-controlled_oscillator" title="wikilink">Voltage-controlled oscillator</a></li>
<li><a href="Numerically_controlled_oscillator" title="wikilink">Numerically controlled oscillator</a></li>
<li><a class="uri" href="Radio" title="wikilink">Radio</a></li>
<li><a class="uri" href="Oscillator" title="wikilink">Oscillator</a></li>
<li><a class="uri" href="Resonance" title="wikilink">Resonance</a></li>
<li><a href="Tuner_(radio)" title="wikilink">Tuner (radio)</a></li>
<li><a class="uri" href="Feedback" title="wikilink">Feedback</a></li>
<li><a href="frequency_division" title="wikilink">frequency division</a></li>
<li><a class="uri" href="Microcontroller" title="wikilink">Microcontroller</a></li>
</ul>

<p>"</p>

<p><a class="uri" href="Category:Oscillators" title="wikilink">Category:Oscillators</a> <a href="Category:Communication_circuits" title="wikilink">Category:Communication circuits</a> <a href="Category:Radio_electronics" title="wikilink">Category:Radio electronics</a> <a href="Category:Electronic_design" title="wikilink">Category:Electronic design</a> <a href="Category:Wireless_tuning_and_filtering" title="wikilink">Category:Wireless tuning and filtering</a></p>
<section class="footnotes">
<hr/>
<ol>
<li id="fn1"><a href="#fnref1">↩</a></li>
<li id="fn2"><a href="#fnref2">↩</a></li>
<li id="fn3"></li>
<li id="fn4"><a href="#fnref4">↩</a></li>
<li id="fn5"></li>
<li id="fn6"><a href="#fnref6">↩</a></li>
<li id="fn7"><a href="#fnref7">↩</a></li>
<li id="fn8"></li>
<li id="fn9"><a href="#fnref9">↩</a></li>
<li id="fn10"></li>
</ol>
</section>
</body>
</html>
