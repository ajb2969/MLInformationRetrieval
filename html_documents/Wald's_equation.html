<html lang="en">
<head>
<meta charset="utf-8"/>
<title offset="804">Wald's equation</title>
<script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_SVG.js" type="text/javascript">
</script>
</head>
<body>
<h1>Wald's equation</h1>
<hr/>

<p>In <a href="probability_theory" title="wikilink">probability theory</a>, <strong>Wald's equation</strong>, <strong>Wald's identity</strong><a class="footnoteRef" href="#fn1" id="fnref1"><sup>1</sup></a> or <strong>Wald's lemma</strong><a class="footnoteRef" href="#fn2" id="fnref2"><sup>2</sup></a> is an important <a href="identity_(mathematics)" title="wikilink">identity</a> that simplifies the calculation of the <a href="expected_value" title="wikilink">expected value</a> of the sum of a random number of random quantities. In its simplest form, it relates the expectation of a sum of randomly many finite-mean, <a href="independent_and_identically_distributed_random_variables" title="wikilink">independent and identically distributed random variables</a> to the expected number of terms in the sum and the random variables' common expectation under the condition that the number of terms in the sum is <a href="Independence_(probability_theory)" title="wikilink">independent</a> of the summands.</p>

<p>The equation is named after the <a class="uri" href="mathematician" title="wikilink">mathematician</a> <a href="Abraham_Wald" title="wikilink">Abraham Wald</a>. An identity for the second moment is given by the <a href="Blackwell–Girshick_equation" title="wikilink">Blackwell–Girshick equation</a>.</p>
<h2 id="basic-version">Basic version</h2>

<p>Let <mtpl></mtpl> be a <a class="uri" href="sequence" title="wikilink">sequence</a> of real-valued, independent and identically distributed random variables and let 

<math display="inline" id="Wald's_equation:0">
 <semantics>
  <mi>N</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>N</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   N
  </annotation>
 </semantics>
</math>

 be a nonnegative integer-value random variable that is independent of the sequence <mtpl></mtpl>. Suppose that 

<math display="inline" id="Wald's_equation:1">
 <semantics>
  <mi>N</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>N</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   N
  </annotation>
 </semantics>
</math>

 and the <mtpl></mtpl> have finite expectations. Then</p>

<p>

<math display="block" id="Wald's_equation:2">
 <semantics>
  <mrow>
   <mrow>
    <mrow>
     <mo>E</mo>
     <mrow>
      <mo stretchy="false">[</mo>
      <mrow>
       <msub>
        <mi>X</mi>
        <mn>1</mn>
       </msub>
       <mo>+</mo>
       <mi mathvariant="normal">…</mi>
       <mo>+</mo>
       <msub>
        <mi>X</mi>
        <mi>N</mi>
       </msub>
      </mrow>
      <mo stretchy="false">]</mo>
     </mrow>
    </mrow>
    <mo>=</mo>
    <mrow>
     <mrow>
      <mo>E</mo>
      <mrow>
       <mo stretchy="false">[</mo>
       <mi>N</mi>
       <mo stretchy="false">]</mo>
      </mrow>
     </mrow>
     <mrow>
      <mo>E</mo>
      <mrow>
       <mo stretchy="false">[</mo>
       <msub>
        <mi>X</mi>
        <mn>1</mn>
       </msub>
       <mo rspace="4.2pt" stretchy="false">]</mo>
      </mrow>
     </mrow>
    </mrow>
   </mrow>
   <mo>.</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <ci>normal-E</ci>
     <apply>
      <plus></plus>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>X</ci>
       <cn type="integer">1</cn>
      </apply>
      <ci>normal-…</ci>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>X</ci>
       <ci>N</ci>
      </apply>
     </apply>
    </apply>
    <apply>
     <times></times>
     <apply>
      <ci>normal-E</ci>
      <ci>N</ci>
     </apply>
     <apply>
      <ci>normal-E</ci>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>X</ci>
       <cn type="integer">1</cn>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \operatorname{E}[X_{1}+\dots+X_{N}]=\operatorname{E}[N]\operatorname{E}[X_{1}]\,.
  </annotation>
 </semantics>
</math>

</p>
<h3 id="example">Example</h3>

<p>Roll a six-sided <a href="dice" title="wikilink">die</a>. Take the number on the die (call it 

<math display="inline" id="Wald's_equation:3">
 <semantics>
  <mi>N</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>N</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   N
  </annotation>
 </semantics>
</math>

) and roll that number of six-sided dice to get the numbers <mtpl></mtpl>, and add up their values. By Wald's equation, the resulting value on average is</p>

<p>

<math display="block" id="Wald's_equation:4">
 <semantics>
  <mrow>
   <mrow>
    <mrow>
     <mo>E</mo>
     <mrow>
      <mo stretchy="false">[</mo>
      <mi>N</mi>
      <mo stretchy="false">]</mo>
     </mrow>
    </mrow>
    <mrow>
     <mo>E</mo>
     <mrow>
      <mo stretchy="false">[</mo>
      <mi>X</mi>
      <mo stretchy="false">]</mo>
     </mrow>
    </mrow>
   </mrow>
   <mo>=</mo>
   <mrow>
    <mfrac>
     <mrow>
      <mn>1</mn>
      <mo>+</mo>
      <mn>2</mn>
      <mo>+</mo>
      <mn>3</mn>
      <mo>+</mo>
      <mn>4</mn>
      <mo>+</mo>
      <mn>5</mn>
      <mo>+</mo>
      <mn>6</mn>
     </mrow>
     <mn>6</mn>
    </mfrac>
    <mo>⋅</mo>
    <mfrac>
     <mrow>
      <mn>1</mn>
      <mo>+</mo>
      <mn>2</mn>
      <mo>+</mo>
      <mn>3</mn>
      <mo>+</mo>
      <mn>4</mn>
      <mo>+</mo>
      <mn>5</mn>
      <mo>+</mo>
      <mn>6</mn>
     </mrow>
     <mn>6</mn>
    </mfrac>
   </mrow>
   <mo>=</mo>
   <mfrac>
    <mn>441</mn>
    <mn>36</mn>
   </mfrac>
   <mo>=</mo>
   <mn>12.25 .</mn>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <and></and>
    <apply>
     <eq></eq>
     <apply>
      <times></times>
      <apply>
       <ci>normal-E</ci>
       <ci>N</ci>
      </apply>
      <apply>
       <ci>normal-E</ci>
       <ci>X</ci>
      </apply>
     </apply>
     <apply>
      <ci>normal-⋅</ci>
      <apply>
       <divide></divide>
       <apply>
        <plus></plus>
        <cn type="integer">1</cn>
        <cn type="integer">2</cn>
        <cn type="integer">3</cn>
        <cn type="integer">4</cn>
        <cn type="integer">5</cn>
        <cn type="integer">6</cn>
       </apply>
       <cn type="integer">6</cn>
      </apply>
      <apply>
       <divide></divide>
       <apply>
        <plus></plus>
        <cn type="integer">1</cn>
        <cn type="integer">2</cn>
        <cn type="integer">3</cn>
        <cn type="integer">4</cn>
        <cn type="integer">5</cn>
        <cn type="integer">6</cn>
       </apply>
       <cn type="integer">6</cn>
      </apply>
     </apply>
    </apply>
    <apply>
     <eq></eq>
     <share href="#.cmml">
     </share>
     <apply>
      <divide></divide>
      <cn type="integer">441</cn>
      <cn type="integer">36</cn>
     </apply>
    </apply>
    <apply>
     <eq></eq>
     <share href="#.cmml">
     </share>
     <cn type="float">12.25 .</cn>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \operatorname{E}[N]\operatorname{E}[X]=\frac{1+2+3+4+5+6}{6}\cdot\frac{1+2+3+4%
+5+6}{6}=\frac{441}{36}=12.25\,.
  </annotation>
 </semantics>
</math>

</p>
<h2 id="general-version">General version</h2>

<p>Let <mtpl></mtpl> be an infinite sequence of real-valued random variables and let 

<math display="inline" id="Wald's_equation:5">
 <semantics>
  <mi>N</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>N</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   N
  </annotation>
 </semantics>
</math>

 be a nonnegative integer-valued random variable. Assume that</p>
<dl>
<dd><mtpl><eqref>1<eqref></eqref></eqref></mtpl>. <mtpl></mtpl> are all <a href="Lebesgue_integration" title="wikilink">integrable</a> (finite-mean) random variables,
</dd>
<dd><mtpl><eqref>2<eqref></eqref></eqref></mtpl>.  for every <a href="natural_number" title="wikilink">natural number</a> 

<math display="inline" id="Wald's_equation:6">
 <semantics>
  <mi>n</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>n</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   n
  </annotation>
 </semantics>
</math>

, and
</dd>
<dd><mtpl><eqref>3<eqref></eqref></eqref></mtpl>. the infinite series satisfies
</dd>
</dl>
<dl>
<dd><dl>
<dd>

<math display="inline" id="Wald's_equation:7">
 <semantics>
  <mrow>
   <mrow>
    <mrow>
     <msubsup>
      <mo largeop="true" symmetric="true">∑</mo>
      <mrow>
       <mi>n</mi>
       <mo>=</mo>
       <mn>1</mn>
      </mrow>
      <mi mathvariant="normal">∞</mi>
     </msubsup>
     <mrow>
      <mo rspace="0.8pt">E</mo>
      <mrow>
       <mo maxsize="120%" minsize="120%">[</mo>
       <mrow>
        <mrow>
         <mo stretchy="false">|</mo>
         <msub>
          <mi>X</mi>
          <mi>n</mi>
         </msub>
         <mo stretchy="false">|</mo>
        </mrow>
        <msub>
         <mn>1</mn>
         <mrow>
          <mo stretchy="false">{</mo>
          <mi>N</mi>
          <mo>≥</mo>
          <mi>n</mi>
          <mo stretchy="false">}</mo>
         </mrow>
        </msub>
       </mrow>
       <mo maxsize="120%" minsize="120%">]</mo>
      </mrow>
     </mrow>
    </mrow>
    <mo><</mo>
    <mi mathvariant="normal">∞</mi>
   </mrow>
   <mo>.</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <lt></lt>
    <apply>
     <apply>
      <csymbol cd="ambiguous">superscript</csymbol>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <sum></sum>
       <apply>
        <eq></eq>
        <ci>n</ci>
        <cn type="integer">1</cn>
       </apply>
      </apply>
      <infinity></infinity>
     </apply>
     <apply>
      <ci>normal-E</ci>
      <apply>
       <times></times>
       <apply>
        <abs></abs>
        <apply>
         <csymbol cd="ambiguous">subscript</csymbol>
         <ci>X</ci>
         <ci>n</ci>
        </apply>
       </apply>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <cn type="integer">1</cn>
        <cerror>
         <csymbol cd="ambiguous">fragments</csymbol>
         <ci>normal-{</ci>
         <csymbol cd="unknown">N</csymbol>
         <geq></geq>
         <csymbol cd="unknown">n</csymbol>
         <ci>normal-}</ci>
        </cerror>
       </apply>
      </apply>
     </apply>
    </apply>
    <infinity></infinity>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \sum_{n=1}^{\infty}\operatorname{E}\!\bigl[|X_{n}|1_{\{N\geq n\}}\bigr]<\infty.
  </annotation>
 </semantics>
</math>


</dd>
</dl>
</dd>
</dl>

<p>Then the random sums</p>

<p>

<math display="block" id="Wald's_equation:8">
 <semantics>
  <mrow>
   <mrow>
    <msub>
     <mi>S</mi>
     <mi>N</mi>
    </msub>
    <mo>:=</mo>
    <mrow>
     <munderover>
      <mo largeop="true" movablelimits="false" symmetric="true">∑</mo>
      <mrow>
       <mi>n</mi>
       <mo>=</mo>
       <mn>1</mn>
      </mrow>
      <mi>N</mi>
     </munderover>
     <msub>
      <mi>X</mi>
      <mi>n</mi>
     </msub>
    </mrow>
   </mrow>
   <mo rspace="22.5pt">,</mo>
   <mrow>
    <msub>
     <mi>T</mi>
     <mi>N</mi>
    </msub>
    <mo>:=</mo>
    <mrow>
     <munderover>
      <mo largeop="true" movablelimits="false" symmetric="true">∑</mo>
      <mrow>
       <mi>n</mi>
       <mo>=</mo>
       <mn>1</mn>
      </mrow>
      <mi>N</mi>
     </munderover>
     <mrow>
      <mo>E</mo>
      <mrow>
       <mo stretchy="false">[</mo>
       <msub>
        <mi>X</mi>
        <mi>n</mi>
       </msub>
       <mo stretchy="false">]</mo>
      </mrow>
     </mrow>
    </mrow>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <csymbol cd="ambiguous">formulae-sequence</csymbol>
    <apply>
     <csymbol cd="latexml">assign</csymbol>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <ci>S</ci>
      <ci>N</ci>
     </apply>
     <apply>
      <apply>
       <csymbol cd="ambiguous">superscript</csymbol>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <sum></sum>
        <apply>
         <eq></eq>
         <ci>n</ci>
         <cn type="integer">1</cn>
        </apply>
       </apply>
       <ci>N</ci>
      </apply>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>X</ci>
       <ci>n</ci>
      </apply>
     </apply>
    </apply>
    <apply>
     <csymbol cd="latexml">assign</csymbol>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <ci>T</ci>
      <ci>N</ci>
     </apply>
     <apply>
      <apply>
       <csymbol cd="ambiguous">superscript</csymbol>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <sum></sum>
        <apply>
         <eq></eq>
         <ci>n</ci>
         <cn type="integer">1</cn>
        </apply>
       </apply>
       <ci>N</ci>
      </apply>
      <apply>
       <ci>normal-E</ci>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>X</ci>
        <ci>n</ci>
       </apply>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   S_{N}:=\sum_{n=1}^{N}X_{n},\qquad T_{N}:=\sum_{n=1}^{N}\operatorname{E}[X_{n}]
  </annotation>
 </semantics>
</math>

 are integrable and</p>

<p>

<math display="block" id="Wald's_equation:9">
 <semantics>
  <mrow>
   <mrow>
    <mrow>
     <mo>E</mo>
     <mrow>
      <mo stretchy="false">[</mo>
      <msub>
       <mi>S</mi>
       <mi>N</mi>
      </msub>
      <mo stretchy="false">]</mo>
     </mrow>
    </mrow>
    <mo>=</mo>
    <mrow>
     <mo>E</mo>
     <mrow>
      <mo stretchy="false">[</mo>
      <msub>
       <mi>T</mi>
       <mi>N</mi>
      </msub>
      <mo stretchy="false">]</mo>
     </mrow>
    </mrow>
   </mrow>
   <mo>.</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <ci>normal-E</ci>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <ci>S</ci>
      <ci>N</ci>
     </apply>
    </apply>
    <apply>
     <ci>normal-E</ci>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <ci>T</ci>
      <ci>N</ci>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \operatorname{E}[S_{N}]=\operatorname{E}[T_{N}].
  </annotation>
 </semantics>
</math>

 If, in addition,</p>
<dl>
<dd><mtpl><eqref>4<eqref></eqref></eqref></mtpl>. <mtpl></mtpl> all have the same expectation, and
</dd>
<dd><mtpl><eqref>5<eqref></eqref></eqref></mtpl>. 

<math display="inline" id="Wald's_equation:10">
 <semantics>
  <mi>N</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>N</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   N
  </annotation>
 </semantics>
</math>

 has finite expectation,
</dd>
</dl>

<p>then</p>

<p>

<math display="block" id="Wald's_equation:11">
 <semantics>
  <mrow>
   <mrow>
    <mrow>
     <mo>E</mo>
     <mrow>
      <mo stretchy="false">[</mo>
      <msub>
       <mi>S</mi>
       <mi>N</mi>
      </msub>
      <mo stretchy="false">]</mo>
     </mrow>
    </mrow>
    <mo>=</mo>
    <mrow>
     <mrow>
      <mo>E</mo>
      <mrow>
       <mo stretchy="false">[</mo>
       <mi>N</mi>
       <mo rspace="4.2pt" stretchy="false">]</mo>
      </mrow>
     </mrow>
     <mrow>
      <mo>E</mo>
      <mrow>
       <mo stretchy="false">[</mo>
       <msub>
        <mi>X</mi>
        <mn>1</mn>
       </msub>
       <mo stretchy="false">]</mo>
      </mrow>
     </mrow>
    </mrow>
   </mrow>
   <mo>.</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <ci>normal-E</ci>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <ci>S</ci>
      <ci>N</ci>
     </apply>
    </apply>
    <apply>
     <times></times>
     <apply>
      <ci>normal-E</ci>
      <ci>N</ci>
     </apply>
     <apply>
      <ci>normal-E</ci>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>X</ci>
       <cn type="integer">1</cn>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \operatorname{E}[S_{N}]=\operatorname{E}[N]\,\operatorname{E}[X_{1}].
  </annotation>
 </semantics>
</math>

</p>

<p><strong>Remark:</strong> Usually, the name <em>Wald's equation</em> refers to this last equality.</p>
<h2 id="discussion-of-assumptions">Discussion of assumptions</h2>

<p>Clearly, assumption () is needed to formulate assumption () and Wald's equation. Assumption () controls the amount of dependence allowed between the sequence <mtpl></mtpl> and the number 

<math display="inline" id="Wald's_equation:12">
 <semantics>
  <mi>N</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>N</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   N
  </annotation>
 </semantics>
</math>

 of terms; see the <a class="uri" href="counterexample" title="wikilink">counterexample</a> below for the <a href="Necessary_and_sufficient_condition" title="wikilink">necessity</a>. Note that assumption () is satisfied when 

<math display="inline" id="Wald's_equation:13">
 <semantics>
  <mi>N</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>N</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   N
  </annotation>
 </semantics>
</math>

 is a <a href="stopping_time" title="wikilink">stopping time</a> for the sequence <mtpl></mtpl>. Assumption () is of more technical nature, implying <a href="absolute_convergence" title="wikilink">absolute convergence</a> and therefore <a href="absolute_convergence#Rearrangements_and_unconditional_convergence" title="wikilink">allowing arbitrary rearrangement</a> of an infinite series in the proof.</p>

<p>If assumption () is satisfied, then assumption () can be strengthened to the simpler condition</p>
<dl>
<dd><mtpl><eqref>6<eqref></eqref></eqref></mtpl>. there exists a real constant 

<math display="inline" id="Wald's_equation:14">
 <semantics>
  <mi>C</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>C</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   C
  </annotation>
 </semantics>
</math>

 such that  for all natural numbers 

<math display="inline" id="Wald's_equation:15">
 <semantics>
  <mi>n</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>n</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   n
  </annotation>
 </semantics>
</math>

.
</dd>
</dl>

<p>Indeed, using assumption (),</p>

<p>

<math display="block" id="Wald's_equation:16">
 <semantics>
  <mrow>
   <mrow>
    <mrow>
     <munderover>
      <mo largeop="true" movablelimits="false" symmetric="true">∑</mo>
      <mrow>
       <mi>n</mi>
       <mo>=</mo>
       <mn>1</mn>
      </mrow>
      <mi mathvariant="normal">∞</mi>
     </munderover>
     <mrow>
      <mo rspace="0.8pt">E</mo>
      <mrow>
       <mo maxsize="120%" minsize="120%">[</mo>
       <mrow>
        <mrow>
         <mo stretchy="false">|</mo>
         <msub>
          <mi>X</mi>
          <mi>n</mi>
         </msub>
         <mo stretchy="false">|</mo>
        </mrow>
        <msub>
         <mn>1</mn>
         <mrow>
          <mo stretchy="false">{</mo>
          <mi>N</mi>
          <mo>≥</mo>
          <mi>n</mi>
          <mo stretchy="false">}</mo>
         </mrow>
        </msub>
       </mrow>
       <mo maxsize="120%" minsize="120%">]</mo>
      </mrow>
     </mrow>
    </mrow>
    <mo>≤</mo>
    <mrow>
     <mi>C</mi>
     <mrow>
      <munderover>
       <mo largeop="true" movablelimits="false" symmetric="true">∑</mo>
       <mrow>
        <mi>n</mi>
        <mo>=</mo>
        <mn>1</mn>
       </mrow>
       <mi mathvariant="normal">∞</mi>
      </munderover>
      <mrow>
       <mo>P</mo>
       <mrow>
        <mo stretchy="false">(</mo>
        <mrow>
         <mi>N</mi>
         <mo>≥</mo>
         <mi>n</mi>
        </mrow>
        <mo stretchy="false">)</mo>
       </mrow>
      </mrow>
     </mrow>
    </mrow>
   </mrow>
   <mo>,</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <leq></leq>
    <apply>
     <apply>
      <csymbol cd="ambiguous">superscript</csymbol>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <sum></sum>
       <apply>
        <eq></eq>
        <ci>n</ci>
        <cn type="integer">1</cn>
       </apply>
      </apply>
      <infinity></infinity>
     </apply>
     <apply>
      <ci>normal-E</ci>
      <apply>
       <times></times>
       <apply>
        <abs></abs>
        <apply>
         <csymbol cd="ambiguous">subscript</csymbol>
         <ci>X</ci>
         <ci>n</ci>
        </apply>
       </apply>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <cn type="integer">1</cn>
        <cerror>
         <csymbol cd="ambiguous">fragments</csymbol>
         <ci>normal-{</ci>
         <csymbol cd="unknown">N</csymbol>
         <geq></geq>
         <csymbol cd="unknown">n</csymbol>
         <ci>normal-}</ci>
        </cerror>
       </apply>
      </apply>
     </apply>
    </apply>
    <apply>
     <times></times>
     <ci>C</ci>
     <apply>
      <apply>
       <csymbol cd="ambiguous">superscript</csymbol>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <sum></sum>
        <apply>
         <eq></eq>
         <ci>n</ci>
         <cn type="integer">1</cn>
        </apply>
       </apply>
       <infinity></infinity>
      </apply>
      <apply>
       <ci>normal-P</ci>
       <apply>
        <geq></geq>
        <ci>N</ci>
        <ci>n</ci>
       </apply>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \sum_{n=1}^{\infty}\operatorname{E}\!\bigl[|X_{n}|1_{\{N\geq n\}}\bigr]\leq C%
\sum_{n=1}^{\infty}\operatorname{P}(N\geq n),
  </annotation>
 </semantics>
</math>

</p>

<p>and the last series equals the expectation of 

<math display="inline" id="Wald's_equation:17">
 <semantics>
  <mi>N</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>N</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   N
  </annotation>
 </semantics>
</math>

 <sup>[<a href="expected_value#Discrete_distribution_taking_only_non-negative_integer_values" title="wikilink">Proof</a>]</sup>, which is finite by assumption (). Therefore, () and () imply assumption ().</p>

<p>Assume in addition to () and () that</p>
<dl>
<dd><mtpl><eqref>7<eqref></eqref></eqref></mtpl>. 

<math display="inline" id="Wald's_equation:18">
 <semantics>
  <mi>N</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>N</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   N
  </annotation>
 </semantics>
</math>

 is independent of the sequence <mtpl></mtpl> and
</dd>
<dd><mtpl><eqref>8<eqref></eqref></eqref></mtpl>. there exists a constant 

<math display="inline" id="Wald's_equation:19">
 <semantics>
  <mi>C</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>C</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   C
  </annotation>
 </semantics>
</math>


 such that <mtpl></mtpl> for all natural numbers 

<math display="inline" id="Wald's_equation:20">
 <semantics>
  <mi>n</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>n</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   n
  </annotation>
 </semantics>
</math>

.
</dd>
</dl>

<p>Then all the assumptions (), (), () and (), hence also () are satisfied. In particular, the conditions () and () are satisfied if</p>
<dl>
<dd><mtpl><eqref>9<eqref></eqref></eqref></mtpl>. the random variables <mtpl></mtpl> all have the same distribution.
</dd>
</dl>

<p>Note that the random variables of the sequence <mtpl></mtpl> don't need to be independent.</p>

<p>The interesting point is to admit some dependence between the random number 

<math display="inline" id="Wald's_equation:21">
 <semantics>
  <mi>N</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>N</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   N
  </annotation>
 </semantics>
</math>

 of terms and the sequence <mtpl></mtpl>. A standard version is to assume (), (), () and the existence of a <a href="filtration_(mathematics)#Measure_theory" title="wikilink">filtration</a> <mtpl></mtpl> such that</p>
<dl>
<dd><mtpl><eqref>10<eqref></eqref></eqref></mtpl>. 

<math display="inline" id="Wald's_equation:22">
 <semantics>
  <mi>N</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>N</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   N
  </annotation>
 </semantics>
</math>

 is a <a href="stopping_time" title="wikilink">stopping time</a> with respect to the filtration, and
</dd>
<dd><mtpl><eqref>11<eqref></eqref></eqref></mtpl>. <mtpl> and <mtpl></mtpl> are independent for every 

<math display="inline" id="Wald's_equation:23">
 <semantics>
  <mrow>
   <mi>n</mi>
   <mi mathvariant="normal">∈</mi>
   <mi mathvariant="normal">ℕ</mi>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <times></times>
    <ci>n</ci>
    <ci>normal-∈</ci>
    <ci>normal-ℕ</ci>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   n∈ℕ
  </annotation>
 </semantics>
</math>

.
</mtpl></dd>
</dl>

<p>Then () implies that the event  is in <mtpl></mtpl>, hence by () independent of <mtpl>. This implies (), and together with () it implies ().</mtpl></p>

<p>For convenience (see the proof below using the optional stopping theorem) and to specify the relation of the sequence <mtpl></mtpl> and the filtration <mtpl></mtpl>, the following additional assumption is often imposed:</p>
<dl>
<dd><mtpl><eqref>12<eqref></eqref></eqref></mtpl>. the sequence <mtpl></mtpl> is <a href="adapted_process" title="wikilink">adapted</a> to the filtration <mtpl></mtpl>, meaning the <mtpl></mtpl> is <mtpl></mtpl>-measurable for every 

<math display="inline" id="Wald's_equation:24">
 <semantics>
  <mrow>
   <mi>n</mi>
   <mi mathvariant="normal">∈</mi>
   <mi mathvariant="normal">ℕ</mi>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <times></times>
    <ci>n</ci>
    <ci>normal-∈</ci>
    <ci>normal-ℕ</ci>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   n∈ℕ
  </annotation>
 </semantics>
</math>


.
</dd>
</dl>

<p>Note that () and () together imply that the random variables <mtpl></mtpl> are independent.</p>
<h2 id="application">Application</h2>

<p>An application is in <a href="actuarial_science" title="wikilink">actuarial science</a> when considering the total claim amount follows a <a href="compound_Poisson_process" title="wikilink">compound Poisson process</a></p>

<p>

<math display="block" id="Wald's_equation:25">
 <semantics>
  <mrow>
   <msub>
    <mi>S</mi>
    <mi>N</mi>
   </msub>
   <mo>=</mo>
   <mrow>
    <munderover>
     <mo largeop="true" movablelimits="false" symmetric="true">∑</mo>
     <mrow>
      <mi>n</mi>
      <mo>=</mo>
      <mn>1</mn>
     </mrow>
     <mi>N</mi>
    </munderover>
    <msub>
     <mi>X</mi>
     <mi>n</mi>
    </msub>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <csymbol cd="ambiguous">subscript</csymbol>
     <ci>S</ci>
     <ci>N</ci>
    </apply>
    <apply>
     <apply>
      <csymbol cd="ambiguous">superscript</csymbol>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <sum></sum>
       <apply>
        <eq></eq>
        <ci>n</ci>
        <cn type="integer">1</cn>
       </apply>
      </apply>
      <ci>N</ci>
     </apply>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <ci>X</ci>
      <ci>n</ci>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   S_{N}=\sum_{n=1}^{N}X_{n}
  </annotation>
 </semantics>
</math>

</p>

<p>within a certain time period, say one year, arising from a random number 

<math display="inline" id="Wald's_equation:26">
 <semantics>
  <mi>N</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>N</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   N
  </annotation>
 </semantics>
</math>

 of individual insurance claims, whose sizes are described by the random variables <mtpl></mtpl>. Under the above assumptions, Wald's equation can be used to calculate the expected total claim amount when information about the average claim number per year and the average claim size is available. Under stronger assumptions and with more information about the underlying distributions, <a href="Panjer_recursion" title="wikilink">Panjer's recursion</a> can be used to calculate the distribution of <mtpl></mtpl>.</p>
<h2 id="examples">Examples</h2>
<h3 id="example-with-dependent-terms">Example with dependent terms</h3>

<p>Let 

<math display="inline" id="Wald's_equation:27">
 <semantics>
  <mi>N</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>N</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   N
  </annotation>
 </semantics>
</math>

 be an integrable, <mtpl></mtpl>-valued random variable, which is independent of the integrable, real-valued random variable 

<math display="inline" id="Wald's_equation:28">
 <semantics>
  <mi>Z</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>Z</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   Z
  </annotation>
 </semantics>
</math>

 with <mtpl> 0}}</mtpl>. Define <mtpl> (–1)<sup><em>n</em></sup> <em>Z</em>}}</mtpl> for all 

<math display="inline" id="Wald's_equation:29">
 <semantics>
  <mrow>
   <mi>n</mi>
   <mi mathvariant="normal">∈</mi>
   <mi mathvariant="normal">ℕ</mi>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <times></times>
    <ci>n</ci>
    <ci>normal-∈</ci>
    <ci>normal-ℕ</ci>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   n∈ℕ
  </annotation>
 </semantics>
</math>


. Then assumptions (), (), (), and () with <mtpl> E[|<em>Z</em>|]}}</mtpl> are satisfied, hence also () and (), and Wald's equation applies. If the distribution of 

<math display="inline" id="Wald's_equation:30">
 <semantics>
  <mi>Z</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>Z</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   Z
  </annotation>
 </semantics>
</math>

 is not symmetric, then () does not hold. Note that, when 

<math display="inline" id="Wald's_equation:31">
 <semantics>
  <mi>Z</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>Z</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   Z
  </annotation>
 </semantics>
</math>

 is not almost surely equal to the zero random variable, then () and () cannot hold simultaneously for any filtration <mtpl></mtpl>, because 

<math display="inline" id="Wald's_equation:32">
 <semantics>
  <mi>Z</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>Z</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   Z
  </annotation>
 </semantics>
</math>

 cannot be independent of itself as <mtpl> (E[<em>Z</em>])<sup>2</sup> {{=}} 0}}</mtpl> is impossible.</p>
<h3 id="example-where-the-number-of-terms-depends-on-the-sequence">Example where the number of terms depends on the sequence</h3>

<p>Let <mtpl></mtpl> be a sequence of independent, symmetric, and }-valued random variables. For every 

<math display="inline" id="Wald's_equation:33">
 <semantics>
  <mrow>
   <mi>n</mi>
   <mi mathvariant="normal">∈</mi>
   <mi mathvariant="normal">ℕ</mi>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <times></times>
    <ci>n</ci>
    <ci>normal-∈</ci>
    <ci>normal-ℕ</ci>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   n∈ℕ
  </annotation>
 </semantics>
</math>

 let <mtpl></mtpl> be the <a class="uri" href="σ-algebra" title="wikilink">σ-algebra</a> generated by <mtpl></mtpl> and define 

<math display="inline" id="Wald's_equation:34">
 <semantics>
  <mrow>
   <mi>N</mi>
   <mo>=</mo>
   <mi>n</mi>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <ci>N</ci>
    <ci>n</ci>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   N=n
  </annotation>
 </semantics>
</math>


 when <mtpl></mtpl> is the first random variable taking the value 

<math display="inline" id="Wald's_equation:35">
 <semantics>
  <mrow>
   <mo>+</mo>
   <mn>1</mn>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <plus></plus>
    <cn type="integer">1</cn>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   +1
  </annotation>
 </semantics>
</math>

. Note that <mtpl> <em>n</em>) {{=}} 1/2<sup><em>n</em></sup>}}</mtpl>, hence <mtpl></mtpl> by the <a href="ratio_test" title="wikilink">ratio test</a>. The assumptions (), () and (), hence () and () with 

<math display="inline" id="Wald's_equation:36">
 <semantics>
  <mrow>
   <mi>C</mi>
   <mo>=</mo>
   <mn>1</mn>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <ci>C</ci>
    <cn type="integer">1</cn>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   C=1
  </annotation>
 </semantics>
</math>

, (), (), and () hold, hence also (), and () and Wald's equation applies. However, () does not hold, because 

<math display="inline" id="Wald's_equation:37">
 <semantics>
  <mi>N</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>N</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   N
  </annotation>
 </semantics>
</math>

 is defined in terms of the sequence <mtpl></mtpl>. Intuitively, one might expect to have <mtpl></mtpl> in this example, because the summation stops right after a one, thereby apparently creating a positive bias. However, Wald's equation shows that this intuition is misleading.</p>
<h2 id="counterexamples">Counterexamples</h2>
<h3 id="a-counterexample-illustrating-the-necessity-of-assumption">A counterexample illustrating the necessity of assumption ()</h3>

<p>Consider a sequence <mtpl></mtpl> of <a class="uri" href="i.i.d." title="wikilink">i.i.d.</a> random variables, taking each of the two values 0 and 1 with probability ½ (actually, only <mtpl></mtpl> is needed in the following). Define <mtpl> 1 – <em>X</em><sub>1</sub>}}</mtpl>. Then <mtpl></mtpl> is identically equal to zero, hence <mtpl> 0}}</mtpl>, but <mtpl> ½}}</mtpl> and <mtpl> ½}}</mtpl> and therefore Wald's equation does not hold. Indeed, the assumptions (), (), () and () are satisfied, however, the equation in assumption () holds for all 

<math display="inline" id="Wald's_equation:38">
 <semantics>
  <mrow>
   <mi>n</mi>
   <mi mathvariant="normal">∈</mi>
   <mi mathvariant="normal">ℕ</mi>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <times></times>
    <ci>n</ci>
    <ci>normal-∈</ci>
    <ci>normal-ℕ</ci>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   n∈ℕ
  </annotation>
 </semantics>
</math>

 except for 

<math display="inline" id="Wald's_equation:39">
 <semantics>
  <mrow>
   <mi>n</mi>
   <mo>=</mo>
   <mn>1</mn>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <ci>n</ci>
    <cn type="integer">1</cn>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   n=1
  </annotation>
 </semantics>
</math>


.</p>
<h3 id="a-counterexample-illustrating-the-necessity-of-assumption-1">A counterexample illustrating the necessity of assumption ()</h3>

<p>Very similar to the second example above, let <mtpl></mtpl> be a sequence of independent, symmetric random variables, where <mtpl></mtpl> takes each of the values <mtpl></mtpl> and <mtpl></mtpl> with probability ½. Let 

<math display="inline" id="Wald's_equation:40">
 <semantics>
  <mi>N</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>N</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   N
  </annotation>
 </semantics>
</math>

 be the first 

<math display="inline" id="Wald's_equation:41">
 <semantics>
  <mrow>
   <mi>n</mi>
   <mi mathvariant="normal">∈</mi>
   <mi mathvariant="normal">ℕ</mi>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <times></times>
    <ci>n</ci>
    <ci>normal-∈</ci>
    <ci>normal-ℕ</ci>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   n∈ℕ
  </annotation>
 </semantics>
</math>

 such that <mtpl> 2<sup><em>n</em></sup>}}</mtpl>. Then, as above, 

<math display="inline" id="Wald's_equation:42">
 <semantics>
  <mi>N</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>N</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   N
  </annotation>
 </semantics>
</math>

 has finite expectation, hence assumption () holds. Since <mtpl> 0}}</mtpl> for all 

<math display="inline" id="Wald's_equation:43">
 <semantics>
  <mrow>
   <mi>n</mi>
   <mi mathvariant="normal">∈</mi>
   <mi mathvariant="normal">ℕ</mi>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <times></times>
    <ci>n</ci>
    <ci>normal-∈</ci>
    <ci>normal-ℕ</ci>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   n∈ℕ
  </annotation>
 </semantics>
</math>

, assumptions () and () hold. However, since <mtpl> 1}}</mtpl> almost surely, Wald's equation cannot hold.</p>

<p>Since 

<math display="inline" id="Wald's_equation:44">
 <semantics>
  <mi>N</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>N</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   N
  </annotation>
 </semantics>
</math>


 is a stopping time with respect to the filtration generated by <mtpl></mtpl>, assumption () holds, see above. Therefore, only assumption () can fail, and indeed, since</p>

<p>

<math display="block" id="Wald's_equation:45">
 <semantics>
  <mrow>
   <mrow>
    <mo stretchy="false">{</mo>
    <mi>N</mi>
    <mo>≥</mo>
    <mi>n</mi>
    <mo stretchy="false">}</mo>
   </mrow>
   <mo>=</mo>
   <mrow>
    <mo stretchy="false">{</mo>
    <msub>
     <mi>X</mi>
     <mi>i</mi>
    </msub>
    <mo>=</mo>
    <mo>-</mo>
    <msup>
     <mn>2</mn>
     <mi>i</mi>
    </msup>
    <mtext>for</mtext>
    <mi>i</mi>
    <mo>=</mo>
    <mn>1</mn>
    <mo>,</mo>
    <mi mathvariant="normal">…</mi>
    <mo>,</mo>
    <mi>n</mi>
    <mo>-</mo>
    <mn>1</mn>
    <mo stretchy="false">}</mo>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <cerror>
    <csymbol cd="ambiguous">fragments</csymbol>
    <cerror>
     <csymbol cd="ambiguous">fragments</csymbol>
     <ci>normal-{</ci>
     <csymbol cd="unknown">N</csymbol>
     <geq></geq>
     <csymbol cd="unknown">n</csymbol>
     <ci>normal-}</ci>
    </cerror>
    <eq></eq>
    <cerror>
     <csymbol cd="ambiguous">fragments</csymbol>
     <ci>normal-{</ci>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <ci>X</ci>
      <ci>i</ci>
     </apply>
     <eq></eq>
     <minus></minus>
     <apply>
      <csymbol cd="ambiguous">superscript</csymbol>
      <cn type="integer">2</cn>
      <ci>i</ci>
     </apply>
     <mtext>for</mtext>
     <csymbol cd="unknown">i</csymbol>
     <eq></eq>
     <cn type="integer">1</cn>
     <ci>normal-,</ci>
     <ci>normal-…</ci>
     <ci>normal-,</ci>
     <csymbol cd="unknown">n</csymbol>
     <minus></minus>
     <cn type="integer">1</cn>
     <ci>normal-}</ci>
    </cerror>
   </cerror>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \{N\geq n\}=\{X_{i}=-2^{i}\text{ for }i=1,\ldots,n-1\}
  </annotation>
 </semantics>
</math>

</p>

<p>and therefore <mtpl> 1/2<sup><em>n</em>–1</sup>}}</mtpl> for every 

<math display="inline" id="Wald's_equation:46">
 <semantics>
  <mrow>
   <mi>n</mi>
   <mi mathvariant="normal">∈</mi>
   <mi mathvariant="normal">ℕ</mi>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <times></times>
    <ci>n</ci>
    <ci>normal-∈</ci>
    <ci>normal-ℕ</ci>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   n∈ℕ
  </annotation>
 </semantics>
</math>

, it follows that</p>

<p>

<math display="block" id="Wald's_equation:47">
 <semantics>
  <mrow>
   <mrow>
    <mrow>
     <munderover>
      <mo largeop="true" movablelimits="false" symmetric="true">∑</mo>
      <mrow>
       <mi>n</mi>
       <mo>=</mo>
       <mn>1</mn>
      </mrow>
      <mi mathvariant="normal">∞</mi>
     </munderover>
     <mrow>
      <mo rspace="0.8pt">E</mo>
      <mrow>
       <mo maxsize="120%" minsize="120%">[</mo>
       <mrow>
        <mrow>
         <mo stretchy="false">|</mo>
         <msub>
          <mi>X</mi>
          <mi>n</mi>
         </msub>
         <mo stretchy="false">|</mo>
        </mrow>
        <msub>
         <mn>1</mn>
         <mrow>
          <mo stretchy="false">{</mo>
          <mi>N</mi>
          <mo>≥</mo>
          <mi>n</mi>
          <mo stretchy="false">}</mo>
         </mrow>
        </msub>
       </mrow>
       <mo maxsize="120%" minsize="120%">]</mo>
      </mrow>
     </mrow>
    </mrow>
    <mo>=</mo>
    <mrow>
     <munderover>
      <mo largeop="true" movablelimits="false" symmetric="true">∑</mo>
      <mrow>
       <mi>n</mi>
       <mo>=</mo>
       <mn>1</mn>
      </mrow>
      <mi mathvariant="normal">∞</mi>
     </munderover>
     <mrow>
      <mpadded width="+1.7pt">
       <msup>
        <mn>2</mn>
        <mi>n</mi>
       </msup>
      </mpadded>
      <mrow>
       <mo>P</mo>
       <mrow>
        <mo stretchy="false">(</mo>
        <mrow>
         <mi>N</mi>
         <mo>≥</mo>
         <mi>n</mi>
        </mrow>
        <mo stretchy="false">)</mo>
       </mrow>
      </mrow>
     </mrow>
    </mrow>
    <mo>=</mo>
    <mrow>
     <munderover>
      <mo largeop="true" movablelimits="false" symmetric="true">∑</mo>
      <mrow>
       <mi>n</mi>
       <mo>=</mo>
       <mn>1</mn>
      </mrow>
      <mi mathvariant="normal">∞</mi>
     </munderover>
     <mn>2</mn>
    </mrow>
    <mo>=</mo>
    <mi mathvariant="normal">∞</mi>
   </mrow>
   <mo>.</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <and></and>
    <apply>
     <eq></eq>
     <apply>
      <apply>
       <csymbol cd="ambiguous">superscript</csymbol>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <sum></sum>
        <apply>
         <eq></eq>
         <ci>n</ci>
         <cn type="integer">1</cn>
        </apply>
       </apply>
       <infinity></infinity>
      </apply>
      <apply>
       <ci>normal-E</ci>
       <apply>
        <times></times>
        <apply>
         <abs></abs>
         <apply>
          <csymbol cd="ambiguous">subscript</csymbol>
          <ci>X</ci>
          <ci>n</ci>
         </apply>
        </apply>
        <apply>
         <csymbol cd="ambiguous">subscript</csymbol>
         <cn type="integer">1</cn>
         <cerror>
          <csymbol cd="ambiguous">fragments</csymbol>
          <ci>normal-{</ci>
          <csymbol cd="unknown">N</csymbol>
          <geq></geq>
          <csymbol cd="unknown">n</csymbol>
          <ci>normal-}</ci>
         </cerror>
        </apply>
       </apply>
      </apply>
     </apply>
     <apply>
      <apply>
       <csymbol cd="ambiguous">superscript</csymbol>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <sum></sum>
        <apply>
         <eq></eq>
         <ci>n</ci>
         <cn type="integer">1</cn>
        </apply>
       </apply>
       <infinity></infinity>
      </apply>
      <apply>
       <times></times>
       <apply>
        <csymbol cd="ambiguous">superscript</csymbol>
        <cn type="integer">2</cn>
        <ci>n</ci>
       </apply>
       <apply>
        <ci>normal-P</ci>
        <apply>
         <geq></geq>
         <ci>N</ci>
         <ci>n</ci>
        </apply>
       </apply>
      </apply>
     </apply>
    </apply>
    <apply>
     <eq></eq>
     <share href="#.cmml">
     </share>
     <apply>
      <apply>
       <csymbol cd="ambiguous">superscript</csymbol>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <sum></sum>
        <apply>
         <eq></eq>
         <ci>n</ci>
         <cn type="integer">1</cn>
        </apply>
       </apply>
       <infinity></infinity>
      </apply>
      <cn type="integer">2</cn>
     </apply>
    </apply>
    <apply>
     <eq></eq>
     <share href="#.cmml">
     </share>
     <infinity></infinity>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \sum_{n=1}^{\infty}\operatorname{E}\!\bigl[|X_{n}|1_{\{N\geq n\}}\bigr]=\sum_{%
n=1}^{\infty}2^{n}\,\operatorname{P}(N\geq n)=\sum_{n=1}^{\infty}2=\infty.
  </annotation>
 </semantics>
</math>

</p>
<h2 id="a-proof-using-the-optional-stopping-theorem">A proof using the optional stopping theorem</h2>

<p>Assume (), (), (), (), () and (). Using assumption (), define the sequence of random variables</p>

<p>

<math display="block" id="Wald's_equation:48">
 <semantics>
  <mrow>
   <mrow>
    <mrow>
     <msub>
      <mi>M</mi>
      <mi>n</mi>
     </msub>
     <mo>=</mo>
     <mrow>
      <munderover>
       <mo largeop="true" movablelimits="false" symmetric="true">∑</mo>
       <mrow>
        <mi>i</mi>
        <mo>=</mo>
        <mn>1</mn>
       </mrow>
       <mi>n</mi>
      </munderover>
      <mrow>
       <mo stretchy="false">(</mo>
       <mrow>
        <msub>
         <mi>X</mi>
         <mi>i</mi>
        </msub>
        <mo>-</mo>
        <mrow>
         <mo>E</mo>
         <mrow>
          <mo stretchy="false">[</mo>
          <msub>
           <mi>X</mi>
           <mi>i</mi>
          </msub>
          <mo stretchy="false">]</mo>
         </mrow>
        </mrow>
       </mrow>
       <mo stretchy="false">)</mo>
      </mrow>
     </mrow>
    </mrow>
    <mo rspace="12.5pt">,</mo>
    <mrow>
     <mi>n</mi>
     <mo>∈</mo>
     <msub>
      <mi>ℕ</mi>
      <mn>0</mn>
     </msub>
    </mrow>
   </mrow>
   <mo>.</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <csymbol cd="ambiguous">formulae-sequence</csymbol>
    <apply>
     <eq></eq>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <ci>M</ci>
      <ci>n</ci>
     </apply>
     <apply>
      <apply>
       <csymbol cd="ambiguous">superscript</csymbol>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <sum></sum>
        <apply>
         <eq></eq>
         <ci>i</ci>
         <cn type="integer">1</cn>
        </apply>
       </apply>
       <ci>n</ci>
      </apply>
      <apply>
       <minus></minus>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>X</ci>
        <ci>i</ci>
       </apply>
       <apply>
        <ci>normal-E</ci>
        <apply>
         <csymbol cd="ambiguous">subscript</csymbol>
         <ci>X</ci>
         <ci>i</ci>
        </apply>
       </apply>
      </apply>
     </apply>
    </apply>
    <apply>
     <in></in>
     <ci>n</ci>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <ci>ℕ</ci>
      <cn type="integer">0</cn>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   M_{n}=\sum_{i=1}^{n}(X_{i}-\operatorname{E}[X_{i}]),\quad n\in{\mathbb{N}}_{0}.
  </annotation>
 </semantics>
</math>

</p>

<p>Assumption () implies that the conditional expectation of <mtpl></mtpl> given <mtpl></mtpl> equals <mtpl></mtpl> almost surely for every 

<math display="inline" id="Wald's_equation:49">
 <semantics>
  <mrow>
   <mi>n</mi>
   <mi mathvariant="normal">∈</mi>
   <mi mathvariant="normal">ℕ</mi>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <times></times>
    <ci>n</ci>
    <ci>normal-∈</ci>
    <ci>normal-ℕ</ci>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   n∈ℕ
  </annotation>
 </semantics>
</math>

, hence <mtpl></mtpl> is a <a href="martingale_(probability_theory)" title="wikilink">martingale</a> with respect to the filtration <mtpl></mtpl> by assumption (). Assumptions (), () and () make sure that we can apply the <a href="optional_stopping_theorem" title="wikilink">optional stopping theorem</a>, hence <mtpl> <em>S<sub>N</sub></em> – <em>T<sub>N</sub></em>}}</mtpl> is integrable and </p>

<p>Due to assumption (),</p>

<p>

<math display="block" id="Wald's_equation:50">
 <semantics>
  <mrow>
   <mrow>
    <mrow>
     <mo stretchy="false">|</mo>
     <msub>
      <mi>T</mi>
      <mi>N</mi>
     </msub>
     <mo stretchy="false">|</mo>
    </mrow>
    <mo>=</mo>
    <mrow>
     <mo fence="true" maxsize="210%" minsize="210%">|</mo>
     <mrow>
      <munderover>
       <mo largeop="true" movablelimits="false" symmetric="true">∑</mo>
       <mrow>
        <mi>i</mi>
        <mo>=</mo>
        <mn>1</mn>
       </mrow>
       <mi>N</mi>
      </munderover>
      <mrow>
       <mo>E</mo>
       <mrow>
        <mo stretchy="false">[</mo>
        <msub>
         <mi>X</mi>
         <mi>i</mi>
        </msub>
        <mo stretchy="false">]</mo>
       </mrow>
      </mrow>
     </mrow>
     <mo fence="true" maxsize="210%" minsize="210%">|</mo>
    </mrow>
    <mo>≤</mo>
    <mrow>
     <munderover>
      <mo largeop="true" movablelimits="false" symmetric="true">∑</mo>
      <mrow>
       <mi>i</mi>
       <mo>=</mo>
       <mn>1</mn>
      </mrow>
      <mi>N</mi>
     </munderover>
     <mrow>
      <mo>E</mo>
      <mrow>
       <mo stretchy="false">[</mo>
       <mrow>
        <mo stretchy="false">|</mo>
        <msub>
         <mi>X</mi>
         <mi>i</mi>
        </msub>
        <mo stretchy="false">|</mo>
       </mrow>
       <mo stretchy="false">]</mo>
      </mrow>
     </mrow>
    </mrow>
    <mo>≤</mo>
    <mrow>
     <mi>C</mi>
     <mi>N</mi>
    </mrow>
   </mrow>
   <mo>,</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <and></and>
    <apply>
     <eq></eq>
     <apply>
      <abs></abs>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>T</ci>
       <ci>N</ci>
      </apply>
     </apply>
     <apply>
      <abs></abs>
      <apply>
       <apply>
        <csymbol cd="ambiguous">superscript</csymbol>
        <apply>
         <csymbol cd="ambiguous">subscript</csymbol>
         <sum></sum>
         <apply>
          <eq></eq>
          <ci>i</ci>
          <cn type="integer">1</cn>
         </apply>
        </apply>
        <ci>N</ci>
       </apply>
       <apply>
        <ci>normal-E</ci>
        <apply>
         <csymbol cd="ambiguous">subscript</csymbol>
         <ci>X</ci>
         <ci>i</ci>
        </apply>
       </apply>
      </apply>
     </apply>
    </apply>
    <apply>
     <leq></leq>
     <share href="#.cmml">
     </share>
     <apply>
      <apply>
       <csymbol cd="ambiguous">superscript</csymbol>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <sum></sum>
        <apply>
         <eq></eq>
         <ci>i</ci>
         <cn type="integer">1</cn>
        </apply>
       </apply>
       <ci>N</ci>
      </apply>
      <apply>
       <ci>normal-E</ci>
       <apply>
        <abs></abs>
        <apply>
         <csymbol cd="ambiguous">subscript</csymbol>
         <ci>X</ci>
         <ci>i</ci>
        </apply>
       </apply>
      </apply>
     </apply>
    </apply>
    <apply>
     <leq></leq>
     <share href="#.cmml">
     </share>
     <apply>
      <times></times>
      <ci>C</ci>
      <ci>N</ci>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   |T_{N}|=\biggl|\sum_{i=1}^{N}\operatorname{E}[X_{i}]\biggr|\leq\sum_{i=1}^{N}%
\operatorname{E}[|X_{i}|]\leq CN,
  </annotation>
 </semantics>
</math>

</p>

<p>and due to assumption () this upper bound is integrable. Hence we can add the expectation of <mtpl></mtpl> to both sides of Equation () and obtain by linearity</p>

<p>

<math display="block" id="Wald's_equation:51">
 <semantics>
  <mrow>
   <mrow>
    <mrow>
     <mo>E</mo>
     <mrow>
      <mo stretchy="false">[</mo>
      <msub>
       <mi>S</mi>
       <mi>N</mi>
      </msub>
      <mo stretchy="false">]</mo>
     </mrow>
    </mrow>
    <mo>=</mo>
    <mrow>
     <mo>E</mo>
     <mrow>
      <mo stretchy="false">[</mo>
      <msub>
       <mi>T</mi>
       <mi>N</mi>
      </msub>
      <mo stretchy="false">]</mo>
     </mrow>
    </mrow>
   </mrow>
   <mo>.</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <ci>normal-E</ci>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <ci>S</ci>
      <ci>N</ci>
     </apply>
    </apply>
    <apply>
     <ci>normal-E</ci>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <ci>T</ci>
      <ci>N</ci>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \operatorname{E}[S_{N}]=\operatorname{E}[T_{N}].
  </annotation>
 </semantics>
</math>

</p>

<p><strong>Remark:</strong> Note that this proof does not cover the <a href="#Example_with_dependent_terms" title="wikilink">above example with dependent terms</a>.</p>
<h2 id="general-proof">General proof</h2>

<p>This proof uses only <a href="Lebesgue_monotone_convergence_theorem" title="wikilink">Lebesgue's monotone</a> and <a href="dominated_convergence_theorem" title="wikilink">dominated convergence theorems</a>. We prove the statement as given above in three steps.</p>
<h3 id="step-1-integrability-of-the-random-sum">Step 1: Integrability of the random sum <mtpl></mtpl></h3>

<p>We first show that the random sum <mtpl></mtpl> is integrable. Define the partial sums</p>

<p>Since 

<math display="inline" id="Wald's_equation:52">
 <semantics>
  <mi>N</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>N</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   N
  </annotation>
 </semantics>
</math>

 takes its values in <mtpl></mtpl> and since <mtpl> 0}}</mtpl>, it follows that</p>

<p>

<math display="block" id="Wald's_equation:53">
 <semantics>
  <mrow>
   <mrow>
    <mrow>
     <mo stretchy="false">|</mo>
     <msub>
      <mi>S</mi>
      <mi>N</mi>
     </msub>
     <mo stretchy="false">|</mo>
    </mrow>
    <mo>=</mo>
    <mrow>
     <munderover>
      <mo largeop="true" movablelimits="false" symmetric="true">∑</mo>
      <mrow>
       <mi>i</mi>
       <mo>=</mo>
       <mn>1</mn>
      </mrow>
      <mi mathvariant="normal">∞</mi>
     </munderover>
     <mrow>
      <mrow>
       <mo stretchy="false">|</mo>
       <msub>
        <mi>S</mi>
        <mi>i</mi>
       </msub>
       <mo stretchy="false">|</mo>
      </mrow>
      <msub>
       <mn>1</mn>
       <mrow>
        <mo stretchy="false">{</mo>
        <mi>N</mi>
        <mo>=</mo>
        <mi>i</mi>
        <mo stretchy="false">}</mo>
       </mrow>
      </msub>
     </mrow>
    </mrow>
   </mrow>
   <mo>.</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <abs></abs>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <ci>S</ci>
      <ci>N</ci>
     </apply>
    </apply>
    <apply>
     <apply>
      <csymbol cd="ambiguous">superscript</csymbol>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <sum></sum>
       <apply>
        <eq></eq>
        <ci>i</ci>
        <cn type="integer">1</cn>
       </apply>
      </apply>
      <infinity></infinity>
     </apply>
     <apply>
      <times></times>
      <apply>
       <abs></abs>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>S</ci>
        <ci>i</ci>
       </apply>
      </apply>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <cn type="float">1</cn>
       <cerror>
        <csymbol cd="ambiguous">fragments</csymbol>
        <ci>normal-{</ci>
        <csymbol cd="unknown">N</csymbol>
        <eq></eq>
        <csymbol cd="unknown">i</csymbol>
        <ci>normal-}</ci>
       </cerror>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   |S_{N}|=\sum_{i=1}^{\infty}|S_{i}|\,1_{\{N=i\}}.
  </annotation>
 </semantics>
</math>

</p>

<p>The <a href="Lebesgue_monotone_convergence_theorem" title="wikilink">Lebesgue monotone convergence theorem</a> implies that</p>

<p>

<math display="block" id="Wald's_equation:54">
 <semantics>
  <mrow>
   <mrow>
    <mrow>
     <mo>E</mo>
     <mrow>
      <mo stretchy="false">[</mo>
      <mrow>
       <mo stretchy="false">|</mo>
       <msub>
        <mi>S</mi>
        <mi>N</mi>
       </msub>
       <mo stretchy="false">|</mo>
      </mrow>
      <mo stretchy="false">]</mo>
     </mrow>
    </mrow>
    <mo>=</mo>
    <mrow>
     <munderover>
      <mo largeop="true" movablelimits="false" symmetric="true">∑</mo>
      <mrow>
       <mi>i</mi>
       <mo>=</mo>
       <mn>1</mn>
      </mrow>
      <mi mathvariant="normal">∞</mi>
     </munderover>
     <mrow>
      <mo>E</mo>
      <mrow>
       <mo stretchy="false">[</mo>
       <mrow>
        <mrow>
         <mo stretchy="false">|</mo>
         <msub>
          <mi>S</mi>
          <mi>i</mi>
         </msub>
         <mo stretchy="false">|</mo>
        </mrow>
        <msub>
         <mn>1</mn>
         <mrow>
          <mo stretchy="false">{</mo>
          <mi>N</mi>
          <mo>=</mo>
          <mi>i</mi>
          <mo stretchy="false">}</mo>
         </mrow>
        </msub>
       </mrow>
       <mo stretchy="false">]</mo>
      </mrow>
     </mrow>
    </mrow>
   </mrow>
   <mo>.</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <ci>normal-E</ci>
     <apply>
      <abs></abs>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>S</ci>
       <ci>N</ci>
      </apply>
     </apply>
    </apply>
    <apply>
     <apply>
      <csymbol cd="ambiguous">superscript</csymbol>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <sum></sum>
       <apply>
        <eq></eq>
        <ci>i</ci>
        <cn type="integer">1</cn>
       </apply>
      </apply>
      <infinity></infinity>
     </apply>
     <apply>
      <ci>normal-E</ci>
      <apply>
       <times></times>
       <apply>
        <abs></abs>
        <apply>
         <csymbol cd="ambiguous">subscript</csymbol>
         <ci>S</ci>
         <ci>i</ci>
        </apply>
       </apply>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <cn type="float">1</cn>
        <cerror>
         <csymbol cd="ambiguous">fragments</csymbol>
         <ci>normal-{</ci>
         <csymbol cd="unknown">N</csymbol>
         <eq></eq>
         <csymbol cd="unknown">i</csymbol>
         <ci>normal-}</ci>
        </cerror>
       </apply>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \operatorname{E}[|S_{N}|]=\sum_{i=1}^{\infty}\operatorname{E}[|S_{i}|\,1_{\{N=%
i\}}].
  </annotation>
 </semantics>
</math>

</p>

<p>By the triangle inequality,</p>

<p>

<math display="block" id="Wald's_equation:55">
 <semantics>
  <mrow>
   <mrow>
    <mrow>
     <mrow>
      <mo stretchy="false">|</mo>
      <msub>
       <mi>S</mi>
       <mi>i</mi>
      </msub>
      <mo stretchy="false">|</mo>
     </mrow>
     <mo>≤</mo>
     <mrow>
      <munderover>
       <mo largeop="true" movablelimits="false" symmetric="true">∑</mo>
       <mrow>
        <mi>n</mi>
        <mo>=</mo>
        <mn>1</mn>
       </mrow>
       <mi>i</mi>
      </munderover>
      <mrow>
       <mo stretchy="false">|</mo>
       <msub>
        <mi>X</mi>
        <mi>n</mi>
       </msub>
       <mo stretchy="false">|</mo>
      </mrow>
     </mrow>
    </mrow>
    <mo rspace="12.5pt">,</mo>
    <mrow>
     <mi>i</mi>
     <mo>∈</mo>
     <mi>ℕ</mi>
    </mrow>
   </mrow>
   <mo>.</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <csymbol cd="ambiguous">formulae-sequence</csymbol>
    <apply>
     <leq></leq>
     <apply>
      <abs></abs>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>S</ci>
       <ci>i</ci>
      </apply>
     </apply>
     <apply>
      <apply>
       <csymbol cd="ambiguous">superscript</csymbol>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <sum></sum>
        <apply>
         <eq></eq>
         <ci>n</ci>
         <cn type="integer">1</cn>
        </apply>
       </apply>
       <ci>i</ci>
      </apply>
      <apply>
       <abs></abs>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>X</ci>
        <ci>n</ci>
       </apply>
      </apply>
     </apply>
    </apply>
    <apply>
     <in></in>
     <ci>i</ci>
     <ci>ℕ</ci>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   |S_{i}|\leq\sum_{n=1}^{i}|X_{n}|,\quad i\in{\mathbb{N}}.
  </annotation>
 </semantics>
</math>

</p>

<p>Using this upper estimate and changing the order of summation (which is permitted because all terms are non-negative), we obtain</p>

<p>]\le\sum_{n=1}^\infty\operatorname{E}[|X_n|\,1_{\{N\ge n\}}],|<mtpl><eqref>15<eqref></eqref></eqref></mtpl>}}</p>

<p>where the second inequality follows using the monotone convergence theorem. By assumption (), the infinite sequence on the right-hand side of () converges, hence <mtpl></mtpl> is integrable.</p>
<h3 id="step-2-integrability-of-the-random-sum">Step 2: Integrability of the random sum <mtpl></mtpl></h3>

<p>We now show that the random sum <mtpl></mtpl> is integrable. Define the partial sums</p>

<p>of real numbers. Since 

<math display="inline" id="Wald's_equation:56">
 <semantics>
  <mi>N</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>N</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   N
  </annotation>
 </semantics>
</math>

 takes its values in <mtpl></mtpl> and since <mtpl> 0}}</mtpl>, it follows that</p>

<p>

<math display="block" id="Wald's_equation:57">
 <semantics>
  <mrow>
   <mrow>
    <mrow>
     <mo stretchy="false">|</mo>
     <msub>
      <mi>T</mi>
      <mi>N</mi>
     </msub>
     <mo stretchy="false">|</mo>
    </mrow>
    <mo>=</mo>
    <mrow>
     <munderover>
      <mo largeop="true" movablelimits="false" symmetric="true">∑</mo>
      <mrow>
       <mi>i</mi>
       <mo>=</mo>
       <mn>1</mn>
      </mrow>
      <mi mathvariant="normal">∞</mi>
     </munderover>
     <mrow>
      <mrow>
       <mo stretchy="false">|</mo>
       <msub>
        <mi>T</mi>
        <mi>i</mi>
       </msub>
       <mo stretchy="false">|</mo>
      </mrow>
      <msub>
       <mn>1</mn>
       <mrow>
        <mo stretchy="false">{</mo>
        <mi>N</mi>
        <mo>=</mo>
        <mi>i</mi>
        <mo stretchy="false">}</mo>
       </mrow>
      </msub>
     </mrow>
    </mrow>
   </mrow>
   <mo>.</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <abs></abs>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <ci>T</ci>
      <ci>N</ci>
     </apply>
    </apply>
    <apply>
     <apply>
      <csymbol cd="ambiguous">superscript</csymbol>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <sum></sum>
       <apply>
        <eq></eq>
        <ci>i</ci>
        <cn type="integer">1</cn>
       </apply>
      </apply>
      <infinity></infinity>
     </apply>
     <apply>
      <times></times>
      <apply>
       <abs></abs>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>T</ci>
        <ci>i</ci>
       </apply>
      </apply>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <cn type="float">1</cn>
       <cerror>
        <csymbol cd="ambiguous">fragments</csymbol>
        <ci>normal-{</ci>
        <csymbol cd="unknown">N</csymbol>
        <eq></eq>
        <csymbol cd="unknown">i</csymbol>
        <ci>normal-}</ci>
       </cerror>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   |T_{N}|=\sum_{i=1}^{\infty}|T_{i}|\,1_{\{N=i\}}.
  </annotation>
 </semantics>
</math>

</p>

<p>The <a href="Lebesgue_monotone_convergence_theorem" title="wikilink">Lebesgue monotone convergence theorem</a> implies that</p>

<p>

<math display="block" id="Wald's_equation:58">
 <semantics>
  <mrow>
   <mrow>
    <mrow>
     <mo>E</mo>
     <mrow>
      <mo stretchy="false">[</mo>
      <mrow>
       <mo stretchy="false">|</mo>
       <msub>
        <mi>T</mi>
        <mi>N</mi>
       </msub>
       <mo stretchy="false">|</mo>
      </mrow>
      <mo stretchy="false">]</mo>
     </mrow>
    </mrow>
    <mo>=</mo>
    <mrow>
     <munderover>
      <mo largeop="true" movablelimits="false" symmetric="true">∑</mo>
      <mrow>
       <mi>i</mi>
       <mo>=</mo>
       <mn>1</mn>
      </mrow>
      <mi mathvariant="normal">∞</mi>
     </munderover>
     <mrow>
      <mrow>
       <mo stretchy="false">|</mo>
       <msub>
        <mi>T</mi>
        <mi>i</mi>
       </msub>
       <mo stretchy="false">|</mo>
      </mrow>
      <mrow>
       <mo>P</mo>
       <mrow>
        <mo stretchy="false">(</mo>
        <mrow>
         <mi>N</mi>
         <mo>=</mo>
         <mi>i</mi>
        </mrow>
        <mo stretchy="false">)</mo>
       </mrow>
      </mrow>
     </mrow>
    </mrow>
   </mrow>
   <mo>.</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <ci>normal-E</ci>
     <apply>
      <abs></abs>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>T</ci>
       <ci>N</ci>
      </apply>
     </apply>
    </apply>
    <apply>
     <apply>
      <csymbol cd="ambiguous">superscript</csymbol>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <sum></sum>
       <apply>
        <eq></eq>
        <ci>i</ci>
        <cn type="integer">1</cn>
       </apply>
      </apply>
      <infinity></infinity>
     </apply>
     <apply>
      <times></times>
      <apply>
       <abs></abs>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>T</ci>
        <ci>i</ci>
       </apply>
      </apply>
      <apply>
       <ci>normal-P</ci>
       <apply>
        <eq></eq>
        <ci>N</ci>
        <ci>i</ci>
       </apply>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \operatorname{E}[|T_{N}|]=\sum_{i=1}^{\infty}|T_{i}|\operatorname{P}(N=i).
  </annotation>
 </semantics>
</math>

</p>

<p>By the triangle inequality,</p>

<p>

<math display="block" id="Wald's_equation:59">
 <semantics>
  <mrow>
   <mrow>
    <mrow>
     <mrow>
      <mo stretchy="false">|</mo>
      <msub>
       <mi>T</mi>
       <mi>i</mi>
      </msub>
      <mo stretchy="false">|</mo>
     </mrow>
     <mo>≤</mo>
     <mrow>
      <munderover>
       <mo largeop="true" movablelimits="false" symmetric="true">∑</mo>
       <mrow>
        <mi>n</mi>
        <mo>=</mo>
        <mn>1</mn>
       </mrow>
       <mi>i</mi>
      </munderover>
      <mrow>
       <mo fence="true" maxsize="120%" minsize="120%" rspace="0.8pt">|</mo>
       <mrow>
        <mo>E</mo>
        <mrow>
         <mo stretchy="false">[</mo>
         <msub>
          <mi>X</mi>
          <mi>n</mi>
         </msub>
         <mo stretchy="false">]</mo>
        </mrow>
       </mrow>
       <mo fence="true" maxsize="120%" minsize="120%">|</mo>
      </mrow>
     </mrow>
    </mrow>
    <mo rspace="12.5pt">,</mo>
    <mrow>
     <mi>i</mi>
     <mo>∈</mo>
     <mi>ℕ</mi>
    </mrow>
   </mrow>
   <mo>.</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <csymbol cd="ambiguous">formulae-sequence</csymbol>
    <apply>
     <leq></leq>
     <apply>
      <abs></abs>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>T</ci>
       <ci>i</ci>
      </apply>
     </apply>
     <apply>
      <apply>
       <csymbol cd="ambiguous">superscript</csymbol>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <sum></sum>
        <apply>
         <eq></eq>
         <ci>n</ci>
         <cn type="integer">1</cn>
        </apply>
       </apply>
       <ci>i</ci>
      </apply>
      <apply>
       <abs></abs>
       <apply>
        <ci>normal-E</ci>
        <apply>
         <csymbol cd="ambiguous">subscript</csymbol>
         <ci>X</ci>
         <ci>n</ci>
        </apply>
       </apply>
      </apply>
     </apply>
    </apply>
    <apply>
     <in></in>
     <ci>i</ci>
     <ci>ℕ</ci>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   |T_{i}|\leq\sum_{n=1}^{i}\bigl|\!\operatorname{E}[X_{n}]\bigr|,\quad i\in{%
\mathbb{N}}.
  </annotation>
 </semantics>
</math>

</p>

<p>Using this upper estimate and changing the order of summation (which is permitted because all terms are non-negative), we obtain</p>

<p>By assumption (),</p>

<p>

<math display="block" id="Wald's_equation:60">
 <semantics>
  <mrow>
   <mrow>
    <mrow>
     <mrow>
      <mrow>
       <mo fence="true" maxsize="120%" minsize="120%" rspace="0.8pt">|</mo>
       <mrow>
        <mo>E</mo>
        <mrow>
         <mo stretchy="false">[</mo>
         <msub>
          <mi>X</mi>
          <mi>n</mi>
         </msub>
         <mo stretchy="false">]</mo>
        </mrow>
       </mrow>
       <mo fence="true" maxsize="120%" minsize="120%">|</mo>
      </mrow>
      <mrow>
       <mo>P</mo>
       <mrow>
        <mo stretchy="false">(</mo>
        <mrow>
         <mi>N</mi>
         <mo>≥</mo>
         <mi>n</mi>
        </mrow>
        <mo stretchy="false">)</mo>
       </mrow>
      </mrow>
     </mrow>
     <mo>=</mo>
     <mrow>
      <mo fence="true" maxsize="120%" minsize="120%" rspace="0.8pt">|</mo>
      <mrow>
       <mo>E</mo>
       <mrow>
        <mo stretchy="false">[</mo>
        <mrow>
         <msub>
          <mi>X</mi>
          <mi>n</mi>
         </msub>
         <msub>
          <mn>1</mn>
          <mrow>
           <mo stretchy="false">{</mo>
           <mi>N</mi>
           <mo>≥</mo>
           <mi>n</mi>
           <mo stretchy="false">}</mo>
          </mrow>
         </msub>
        </mrow>
        <mo stretchy="false">]</mo>
       </mrow>
      </mrow>
      <mo fence="true" maxsize="120%" minsize="120%">|</mo>
     </mrow>
     <mo>≤</mo>
     <mrow>
      <mo>E</mo>
      <mrow>
       <mo stretchy="false">[</mo>
       <mrow>
        <mrow>
         <mo stretchy="false">|</mo>
         <msub>
          <mi>X</mi>
          <mi>n</mi>
         </msub>
         <mo stretchy="false">|</mo>
        </mrow>
        <msub>
         <mn>1</mn>
         <mrow>
          <mo stretchy="false">{</mo>
          <mi>N</mi>
          <mo>≥</mo>
          <mi>n</mi>
          <mo stretchy="false">}</mo>
         </mrow>
        </msub>
       </mrow>
       <mo stretchy="false">]</mo>
      </mrow>
     </mrow>
    </mrow>
    <mo rspace="12.5pt">,</mo>
    <mrow>
     <mi>n</mi>
     <mo>∈</mo>
     <mi>ℕ</mi>
    </mrow>
   </mrow>
   <mo>.</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <csymbol cd="ambiguous">formulae-sequence</csymbol>
    <apply>
     <and></and>
     <apply>
      <eq></eq>
      <apply>
       <times></times>
       <apply>
        <abs></abs>
        <apply>
         <ci>normal-E</ci>
         <apply>
          <csymbol cd="ambiguous">subscript</csymbol>
          <ci>X</ci>
          <ci>n</ci>
         </apply>
        </apply>
       </apply>
       <apply>
        <ci>normal-P</ci>
        <apply>
         <geq></geq>
         <ci>N</ci>
         <ci>n</ci>
        </apply>
       </apply>
      </apply>
      <apply>
       <abs></abs>
       <apply>
        <ci>normal-E</ci>
        <apply>
         <times></times>
         <apply>
          <csymbol cd="ambiguous">subscript</csymbol>
          <ci>X</ci>
          <ci>n</ci>
         </apply>
         <apply>
          <csymbol cd="ambiguous">subscript</csymbol>
          <cn type="integer">1</cn>
          <cerror>
           <csymbol cd="ambiguous">fragments</csymbol>
           <ci>normal-{</ci>
           <csymbol cd="unknown">N</csymbol>
           <geq></geq>
           <csymbol cd="unknown">n</csymbol>
           <ci>normal-}</ci>
          </cerror>
         </apply>
        </apply>
       </apply>
      </apply>
     </apply>
     <apply>
      <leq></leq>
      <share href="#.cmml">
      </share>
      <apply>
       <ci>normal-E</ci>
       <apply>
        <times></times>
        <apply>
         <abs></abs>
         <apply>
          <csymbol cd="ambiguous">subscript</csymbol>
          <ci>X</ci>
          <ci>n</ci>
         </apply>
        </apply>
        <apply>
         <csymbol cd="ambiguous">subscript</csymbol>
         <cn type="integer">1</cn>
         <cerror>
          <csymbol cd="ambiguous">fragments</csymbol>
          <ci>normal-{</ci>
          <csymbol cd="unknown">N</csymbol>
          <geq></geq>
          <csymbol cd="unknown">n</csymbol>
          <ci>normal-}</ci>
         </cerror>
        </apply>
       </apply>
      </apply>
     </apply>
    </apply>
    <apply>
     <in></in>
     <ci>n</ci>
     <ci>ℕ</ci>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \bigl|\!\operatorname{E}[X_{n}]\bigr|\operatorname{P}(N\geq n)=\bigl|\!%
\operatorname{E}[X_{n}1_{\{N\geq n\}}]\bigr|\leq\operatorname{E}[|X_{n}|1_{\{N%
\geq n\}}],\quad n\in{\mathbb{N}}.
  </annotation>
 </semantics>
</math>

</p>

<p>Substituting this into () yields</p>

<p>

<math display="block" id="Wald's_equation:61">
 <semantics>
  <mrow>
   <mrow>
    <mrow>
     <mo>E</mo>
     <mrow>
      <mo stretchy="false">[</mo>
      <mrow>
       <mo stretchy="false">|</mo>
       <msub>
        <mi>T</mi>
        <mi>N</mi>
       </msub>
       <mo stretchy="false">|</mo>
      </mrow>
      <mo stretchy="false">]</mo>
     </mrow>
    </mrow>
    <mo>≤</mo>
    <mrow>
     <munderover>
      <mo largeop="true" movablelimits="false" symmetric="true">∑</mo>
      <mrow>
       <mi>n</mi>
       <mo>=</mo>
       <mn>1</mn>
      </mrow>
      <mi mathvariant="normal">∞</mi>
     </munderover>
     <mrow>
      <mo>E</mo>
      <mrow>
       <mo stretchy="false">[</mo>
       <mrow>
        <mrow>
         <mo stretchy="false">|</mo>
         <msub>
          <mi>X</mi>
          <mi>n</mi>
         </msub>
         <mo stretchy="false">|</mo>
        </mrow>
        <msub>
         <mn>1</mn>
         <mrow>
          <mo stretchy="false">{</mo>
          <mi>N</mi>
          <mo>≥</mo>
          <mi>n</mi>
          <mo stretchy="false">}</mo>
         </mrow>
        </msub>
       </mrow>
       <mo stretchy="false">]</mo>
      </mrow>
     </mrow>
    </mrow>
   </mrow>
   <mo>,</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <leq></leq>
    <apply>
     <ci>normal-E</ci>
     <apply>
      <abs></abs>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>T</ci>
       <ci>N</ci>
      </apply>
     </apply>
    </apply>
    <apply>
     <apply>
      <csymbol cd="ambiguous">superscript</csymbol>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <sum></sum>
       <apply>
        <eq></eq>
        <ci>n</ci>
        <cn type="integer">1</cn>
       </apply>
      </apply>
      <infinity></infinity>
     </apply>
     <apply>
      <ci>normal-E</ci>
      <apply>
       <times></times>
       <apply>
        <abs></abs>
        <apply>
         <csymbol cd="ambiguous">subscript</csymbol>
         <ci>X</ci>
         <ci>n</ci>
        </apply>
       </apply>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <cn type="integer">1</cn>
        <cerror>
         <csymbol cd="ambiguous">fragments</csymbol>
         <ci>normal-{</ci>
         <csymbol cd="unknown">N</csymbol>
         <geq></geq>
         <csymbol cd="unknown">n</csymbol>
         <ci>normal-}</ci>
        </cerror>
       </apply>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \operatorname{E}[|T_{N}|]\leq\sum_{n=1}^{\infty}\operatorname{E}[|X_{n}|1_{\{N%
\geq n\}}],
  </annotation>
 </semantics>
</math>

</p>

<p>which is finite by assumption (), hence <mtpl></mtpl> is integrable.</p>
<h3 id="step-3-proof-of-the-identity">Step 3: Proof of the identity</h3>

<p>To prove Wald's equation, we essentially go through the same steps again without the absolute value, making use of the integrability of the random sums <mtpl></mtpl> and <mtpl></mtpl> in order to show that they have the same expectation. Using the <a href="dominated_convergence_theorem" title="wikilink">dominated convergence theorem</a> with dominating random variable <mtpl><em>S<sub>N</sub></em>{{!}}}}</mtpl> and the definition of the partial sum <mtpl></mtpl> given in (), it follows that</p>

<p>

<math display="block" id="Wald's_equation:62">
 <semantics>
  <mrow>
   <mrow>
    <mrow>
     <mo>E</mo>
     <mrow>
      <mo stretchy="false">[</mo>
      <msub>
       <mi>S</mi>
       <mi>N</mi>
      </msub>
      <mo stretchy="false">]</mo>
     </mrow>
    </mrow>
    <mo>=</mo>
    <mrow>
     <munderover>
      <mo largeop="true" movablelimits="false" symmetric="true">∑</mo>
      <mrow>
       <mi>i</mi>
       <mo>=</mo>
       <mn>1</mn>
      </mrow>
      <mi mathvariant="normal">∞</mi>
     </munderover>
     <mrow>
      <mo>E</mo>
      <mrow>
       <mo stretchy="false">[</mo>
       <mrow>
        <msub>
         <mi>S</mi>
         <mi>i</mi>
        </msub>
        <msub>
         <mn>1</mn>
         <mrow>
          <mo stretchy="false">{</mo>
          <mi>N</mi>
          <mo>=</mo>
          <mi>i</mi>
          <mo stretchy="false">}</mo>
         </mrow>
        </msub>
       </mrow>
       <mo stretchy="false">]</mo>
      </mrow>
     </mrow>
    </mrow>
    <mo>=</mo>
    <mrow>
     <munderover>
      <mo largeop="true" movablelimits="false" symmetric="true">∑</mo>
      <mrow>
       <mi>i</mi>
       <mo>=</mo>
       <mn>1</mn>
      </mrow>
      <mi mathvariant="normal">∞</mi>
     </munderover>
     <mrow>
      <munderover>
       <mo largeop="true" movablelimits="false" symmetric="true">∑</mo>
       <mrow>
        <mi>n</mi>
        <mo>=</mo>
        <mn>1</mn>
       </mrow>
       <mi>i</mi>
      </munderover>
      <mrow>
       <mo>E</mo>
       <mrow>
        <mo stretchy="false">[</mo>
        <mrow>
         <msub>
          <mi>X</mi>
          <mi>n</mi>
         </msub>
         <msub>
          <mn>1</mn>
          <mrow>
           <mo stretchy="false">{</mo>
           <mi>N</mi>
           <mo>=</mo>
           <mi>i</mi>
           <mo stretchy="false">}</mo>
          </mrow>
         </msub>
        </mrow>
        <mo stretchy="false">]</mo>
       </mrow>
      </mrow>
     </mrow>
    </mrow>
   </mrow>
   <mo>.</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <and></and>
    <apply>
     <eq></eq>
     <apply>
      <ci>normal-E</ci>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>S</ci>
       <ci>N</ci>
      </apply>
     </apply>
     <apply>
      <apply>
       <csymbol cd="ambiguous">superscript</csymbol>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <sum></sum>
        <apply>
         <eq></eq>
         <ci>i</ci>
         <cn type="integer">1</cn>
        </apply>
       </apply>
       <infinity></infinity>
      </apply>
      <apply>
       <ci>normal-E</ci>
       <apply>
        <times></times>
        <apply>
         <csymbol cd="ambiguous">subscript</csymbol>
         <ci>S</ci>
         <ci>i</ci>
        </apply>
        <apply>
         <csymbol cd="ambiguous">subscript</csymbol>
         <cn type="integer">1</cn>
         <cerror>
          <csymbol cd="ambiguous">fragments</csymbol>
          <ci>normal-{</ci>
          <csymbol cd="unknown">N</csymbol>
          <eq></eq>
          <csymbol cd="unknown">i</csymbol>
          <ci>normal-}</ci>
         </cerror>
        </apply>
       </apply>
      </apply>
     </apply>
    </apply>
    <apply>
     <eq></eq>
     <share href="#.cmml">
     </share>
     <apply>
      <apply>
       <csymbol cd="ambiguous">superscript</csymbol>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <sum></sum>
        <apply>
         <eq></eq>
         <ci>i</ci>
         <cn type="integer">1</cn>
        </apply>
       </apply>
       <infinity></infinity>
      </apply>
      <apply>
       <apply>
        <csymbol cd="ambiguous">superscript</csymbol>
        <apply>
         <csymbol cd="ambiguous">subscript</csymbol>
         <sum></sum>
         <apply>
          <eq></eq>
          <ci>n</ci>
          <cn type="integer">1</cn>
         </apply>
        </apply>
        <ci>i</ci>
       </apply>
       <apply>
        <ci>normal-E</ci>
        <apply>
         <times></times>
         <apply>
          <csymbol cd="ambiguous">subscript</csymbol>
          <ci>X</ci>
          <ci>n</ci>
         </apply>
         <apply>
          <csymbol cd="ambiguous">subscript</csymbol>
          <cn type="integer">1</cn>
          <cerror>
           <csymbol cd="ambiguous">fragments</csymbol>
           <ci>normal-{</ci>
           <csymbol cd="unknown">N</csymbol>
           <eq></eq>
           <csymbol cd="unknown">i</csymbol>
           <ci>normal-}</ci>
          </cerror>
         </apply>
        </apply>
       </apply>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \operatorname{E}[S_{N}]=\sum_{i=1}^{\infty}\operatorname{E}[S_{i}1_{\{N=i\}}]=%
\sum_{i=1}^{\infty}\sum_{n=1}^{i}\operatorname{E}[X_{n}1_{\{N=i\}}].
  </annotation>
 </semantics>
</math>

</p>

<p>Due to the absolute convergence proved in () above using assumption (), we may rearrange the summation and obtain that</p>

<p>

<math display="block" id="Wald's_equation:63">
 <semantics>
  <mrow>
   <mrow>
    <mrow>
     <mo>E</mo>
     <mrow>
      <mo stretchy="false">[</mo>
      <msub>
       <mi>S</mi>
       <mi>N</mi>
      </msub>
      <mo stretchy="false">]</mo>
     </mrow>
    </mrow>
    <mo>=</mo>
    <mrow>
     <munderover>
      <mo largeop="true" movablelimits="false" symmetric="true">∑</mo>
      <mrow>
       <mi>n</mi>
       <mo>=</mo>
       <mn>1</mn>
      </mrow>
      <mi mathvariant="normal">∞</mi>
     </munderover>
     <mrow>
      <munderover>
       <mo largeop="true" movablelimits="false" symmetric="true">∑</mo>
       <mrow>
        <mi>i</mi>
        <mo>=</mo>
        <mi>n</mi>
       </mrow>
       <mi mathvariant="normal">∞</mi>
      </munderover>
      <mrow>
       <mo>E</mo>
       <mrow>
        <mo stretchy="false">[</mo>
        <mrow>
         <msub>
          <mi>X</mi>
          <mi>n</mi>
         </msub>
         <msub>
          <mn>1</mn>
          <mrow>
           <mo stretchy="false">{</mo>
           <mi>N</mi>
           <mo>=</mo>
           <mi>i</mi>
           <mo stretchy="false">}</mo>
          </mrow>
         </msub>
        </mrow>
        <mo stretchy="false">]</mo>
       </mrow>
      </mrow>
     </mrow>
    </mrow>
    <mo>=</mo>
    <mrow>
     <munderover>
      <mo largeop="true" movablelimits="false" symmetric="true">∑</mo>
      <mrow>
       <mi>n</mi>
       <mo>=</mo>
       <mn>1</mn>
      </mrow>
      <mi mathvariant="normal">∞</mi>
     </munderover>
     <mrow>
      <mo>E</mo>
      <mrow>
       <mo stretchy="false">[</mo>
       <mrow>
        <msub>
         <mi>X</mi>
         <mi>n</mi>
        </msub>
        <msub>
         <mn>1</mn>
         <mrow>
          <mo stretchy="false">{</mo>
          <mi>N</mi>
          <mo>≥</mo>
          <mi>n</mi>
          <mo stretchy="false">}</mo>
         </mrow>
        </msub>
       </mrow>
       <mo stretchy="false">]</mo>
      </mrow>
     </mrow>
    </mrow>
   </mrow>
   <mo>,</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <and></and>
    <apply>
     <eq></eq>
     <apply>
      <ci>normal-E</ci>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>S</ci>
       <ci>N</ci>
      </apply>
     </apply>
     <apply>
      <apply>
       <csymbol cd="ambiguous">superscript</csymbol>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <sum></sum>
        <apply>
         <eq></eq>
         <ci>n</ci>
         <cn type="integer">1</cn>
        </apply>
       </apply>
       <infinity></infinity>
      </apply>
      <apply>
       <apply>
        <csymbol cd="ambiguous">superscript</csymbol>
        <apply>
         <csymbol cd="ambiguous">subscript</csymbol>
         <sum></sum>
         <apply>
          <eq></eq>
          <ci>i</ci>
          <ci>n</ci>
         </apply>
        </apply>
        <infinity></infinity>
       </apply>
       <apply>
        <ci>normal-E</ci>
        <apply>
         <times></times>
         <apply>
          <csymbol cd="ambiguous">subscript</csymbol>
          <ci>X</ci>
          <ci>n</ci>
         </apply>
         <apply>
          <csymbol cd="ambiguous">subscript</csymbol>
          <cn type="integer">1</cn>
          <cerror>
           <csymbol cd="ambiguous">fragments</csymbol>
           <ci>normal-{</ci>
           <csymbol cd="unknown">N</csymbol>
           <eq></eq>
           <csymbol cd="unknown">i</csymbol>
           <ci>normal-}</ci>
          </cerror>
         </apply>
        </apply>
       </apply>
      </apply>
     </apply>
    </apply>
    <apply>
     <eq></eq>
     <share href="#.cmml">
     </share>
     <apply>
      <apply>
       <csymbol cd="ambiguous">superscript</csymbol>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <sum></sum>
        <apply>
         <eq></eq>
         <ci>n</ci>
         <cn type="integer">1</cn>
        </apply>
       </apply>
       <infinity></infinity>
      </apply>
      <apply>
       <ci>normal-E</ci>
       <apply>
        <times></times>
        <apply>
         <csymbol cd="ambiguous">subscript</csymbol>
         <ci>X</ci>
         <ci>n</ci>
        </apply>
        <apply>
         <csymbol cd="ambiguous">subscript</csymbol>
         <cn type="integer">1</cn>
         <cerror>
          <csymbol cd="ambiguous">fragments</csymbol>
          <ci>normal-{</ci>
          <csymbol cd="unknown">N</csymbol>
          <geq></geq>
          <csymbol cd="unknown">n</csymbol>
          <ci>normal-}</ci>
         </cerror>
        </apply>
       </apply>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \operatorname{E}[S_{N}]=\sum_{n=1}^{\infty}\sum_{i=n}^{\infty}\operatorname{E}%
[X_{n}1_{\{N=i\}}]=\sum_{n=1}^{\infty}\operatorname{E}[X_{n}1_{\{N\geq n\}}],
  </annotation>
 </semantics>
</math>

</p>

<p>where we used assumption () and the dominated convergence theorem with dominating random variable <mtpl><em>X<sub>n</sub></em>{{!}}}}</mtpl> for the second equality. Due to assumption () and the σ-additivity of the probability measure,</p>

<p>

<math display="inline" id="Wald's_equation:64">
 <semantics>
  <mrow>
   <mo>E</mo>
   <mrow>
    <mo stretchy="false">[</mo>
    <mrow>
     <msub>
      <mi>X</mi>
      <mi>n</mi>
     </msub>
     <msub>
      <mn>1</mn>
      <mrow>
       <mo stretchy="false">{</mo>
       <mi>N</mi>
       <mo>≥</mo>
       <mi>n</mi>
       <mo stretchy="false">}</mo>
      </mrow>
     </msub>
    </mrow>
    <mo stretchy="false">]</mo>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <ci>normal-E</ci>
    <apply>
     <times></times>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <ci>X</ci>
      <ci>n</ci>
     </apply>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <cn type="integer">1</cn>
      <cerror>
       <csymbol cd="ambiguous">fragments</csymbol>
       <ci>normal-{</ci>
       <csymbol cd="unknown">N</csymbol>
       <geq></geq>
       <csymbol cd="unknown">n</csymbol>
       <ci>normal-}</ci>
      </cerror>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \displaystyle\operatorname{E}[X_{n}1_{\{N\geq n\}}]
  </annotation>
 </semantics>
</math>


</p>

<p>Substituting this result into the previous equation, rearranging the summation (which is permitted due to absolute convergence, see () above), using linearity of expectation and the definition of the partial sum <mtpl></mtpl> of expectations given in (),</p>

<p>

<math display="block" id="Wald's_equation:65">
 <semantics>
  <mrow>
   <mrow>
    <mrow>
     <mo>E</mo>
     <mrow>
      <mo stretchy="false">[</mo>
      <msub>
       <mi>S</mi>
       <mi>N</mi>
      </msub>
      <mo stretchy="false">]</mo>
     </mrow>
    </mrow>
    <mo>=</mo>
    <mrow>
     <munderover>
      <mo largeop="true" movablelimits="false" symmetric="true">∑</mo>
      <mrow>
       <mi>i</mi>
       <mo>=</mo>
       <mn>1</mn>
      </mrow>
      <mi mathvariant="normal">∞</mi>
     </munderover>
     <mrow>
      <munderover>
       <mo largeop="true" movablelimits="false" symmetric="true">∑</mo>
       <mrow>
        <mi>n</mi>
        <mo>=</mo>
        <mn>1</mn>
       </mrow>
       <mi>i</mi>
      </munderover>
      <mrow>
       <mo rspace="0.8pt">E</mo>
       <mrow>
        <mo maxsize="120%" minsize="120%">[</mo>
        <mrow>
         <mrow>
          <mo>E</mo>
          <mrow>
           <mo stretchy="false">[</mo>
           <msub>
            <mi>X</mi>
            <mi>n</mi>
           </msub>
           <mo stretchy="false">]</mo>
          </mrow>
         </mrow>
         <msub>
          <mn>1</mn>
          <mrow>
           <mo stretchy="false">{</mo>
           <mi>N</mi>
           <mo>=</mo>
           <mi>i</mi>
           <mo stretchy="false">}</mo>
          </mrow>
         </msub>
        </mrow>
        <mo maxsize="120%" minsize="120%">]</mo>
       </mrow>
      </mrow>
     </mrow>
    </mrow>
    <mo>=</mo>
    <mrow>
     <munderover>
      <mo largeop="true" movablelimits="false" symmetric="true">∑</mo>
      <mrow>
       <mi>i</mi>
       <mo>=</mo>
       <mn>1</mn>
      </mrow>
      <mi mathvariant="normal">∞</mi>
     </munderover>
     <mrow>
      <mo>E</mo>
      <mrow>
       <mo stretchy="false">[</mo>
       <munder>
        <munder accentunder="true">
         <mrow>
          <msub>
           <mi>T</mi>
           <mi>i</mi>
          </msub>
          <msub>
           <mn>1</mn>
           <mrow>
            <mo movablelimits="false" stretchy="false">{</mo>
            <mi>N</mi>
            <mo movablelimits="false">=</mo>
            <mi>i</mi>
            <mo movablelimits="false" stretchy="false">}</mo>
           </mrow>
          </msub>
         </mrow>
         <mo movablelimits="false">⏟</mo>
        </munder>
        <mrow>
         <mi></mi>
         <mo rspace="4.2pt">=</mo>
         <mrow>
          <msub>
           <mi>T</mi>
           <mi>N</mi>
          </msub>
          <msub>
           <mn>1</mn>
           <mrow>
            <mo stretchy="false">{</mo>
            <mi>N</mi>
            <mo>=</mo>
            <mi>i</mi>
            <mo stretchy="false">}</mo>
           </mrow>
          </msub>
         </mrow>
        </mrow>
       </munder>
       <mo stretchy="false">]</mo>
      </mrow>
     </mrow>
    </mrow>
   </mrow>
   <mo>.</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <and></and>
    <apply>
     <eq></eq>
     <apply>
      <ci>normal-E</ci>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>S</ci>
       <ci>N</ci>
      </apply>
     </apply>
     <apply>
      <apply>
       <csymbol cd="ambiguous">superscript</csymbol>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <sum></sum>
        <apply>
         <eq></eq>
         <ci>i</ci>
         <cn type="integer">1</cn>
        </apply>
       </apply>
       <infinity></infinity>
      </apply>
      <apply>
       <apply>
        <csymbol cd="ambiguous">superscript</csymbol>
        <apply>
         <csymbol cd="ambiguous">subscript</csymbol>
         <sum></sum>
         <apply>
          <eq></eq>
          <ci>n</ci>
          <cn type="integer">1</cn>
         </apply>
        </apply>
        <ci>i</ci>
       </apply>
       <apply>
        <ci>normal-E</ci>
        <apply>
         <apply>
          <ci>normal-E</ci>
          <apply>
           <csymbol cd="ambiguous">subscript</csymbol>
           <ci>X</ci>
           <ci>n</ci>
          </apply>
         </apply>
         <apply>
          <csymbol cd="ambiguous">subscript</csymbol>
          <cn type="integer">1</cn>
          <cerror>
           <csymbol cd="ambiguous">fragments</csymbol>
           <ci>normal-{</ci>
           <csymbol cd="unknown">N</csymbol>
           <eq></eq>
           <csymbol cd="unknown">i</csymbol>
           <ci>normal-}</ci>
          </cerror>
         </apply>
        </apply>
       </apply>
      </apply>
     </apply>
    </apply>
    <apply>
     <eq></eq>
     <share href="#.cmml">
     </share>
     <apply>
      <apply>
       <csymbol cd="ambiguous">superscript</csymbol>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <sum></sum>
        <apply>
         <eq></eq>
         <ci>i</ci>
         <cn type="integer">1</cn>
        </apply>
       </apply>
       <infinity></infinity>
      </apply>
      <apply>
       <ci>normal-E</ci>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <apply>
         <ci>normal-⏟</ci>
         <apply>
          <times></times>
          <apply>
           <csymbol cd="ambiguous">subscript</csymbol>
           <ci>T</ci>
           <ci>i</ci>
          </apply>
          <apply>
           <csymbol cd="ambiguous">subscript</csymbol>
           <cn type="integer">1</cn>
           <cerror>
            <csymbol cd="ambiguous">fragments</csymbol>
            <ci>normal-{</ci>
            <csymbol cd="unknown">N</csymbol>
            <eq></eq>
            <csymbol cd="unknown">i</csymbol>
            <ci>normal-}</ci>
           </cerror>
          </apply>
         </apply>
        </apply>
        <apply>
         <eq></eq>
         <csymbol cd="latexml">absent</csymbol>
         <apply>
          <times></times>
          <apply>
           <csymbol cd="ambiguous">subscript</csymbol>
           <ci>T</ci>
           <ci>N</ci>
          </apply>
          <apply>
           <csymbol cd="ambiguous">subscript</csymbol>
           <cn type="integer">1</cn>
           <cerror>
            <csymbol cd="ambiguous">fragments</csymbol>
            <ci>normal-{</ci>
            <csymbol cd="unknown">N</csymbol>
            <eq></eq>
            <csymbol cd="unknown">i</csymbol>
            <ci>normal-}</ci>
           </cerror>
          </apply>
         </apply>
        </apply>
       </apply>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \operatorname{E}[S_{N}]=\sum_{i=1}^{\infty}\sum_{n=1}^{i}\operatorname{E}\!%
\bigl[\operatorname{E}[X_{n}]1_{\{N=i\}}\bigr]=\sum_{i=1}^{\infty}%
\operatorname{E}[\underbrace{T_{i}1_{\{N=i\}}}_{=\,T_{N}1_{\{N=i\}}}].
  </annotation>
 </semantics>
</math>

</p>

<p>By using dominated convergence again with dominating random variable <mtpl><em>T<sub>N</sub></em>{{!}}}}</mtpl>,</p>

<p>

<math display="block" id="Wald's_equation:66">
 <semantics>
  <mrow>
   <mrow>
    <mrow>
     <mo>E</mo>
     <mrow>
      <mo stretchy="false">[</mo>
      <msub>
       <mi>S</mi>
       <mi>N</mi>
      </msub>
      <mo stretchy="false">]</mo>
     </mrow>
    </mrow>
    <mo>=</mo>
    <mrow>
     <mo rspace="0.8pt">E</mo>
     <mrow>
      <mo maxsize="210%" minsize="210%">[</mo>
      <mrow>
       <msub>
        <mi>T</mi>
        <mi>N</mi>
       </msub>
       <munder>
        <munder accentunder="true">
         <mrow>
          <munderover>
           <mo largeop="true" movablelimits="false" symmetric="true">∑</mo>
           <mrow>
            <mi>i</mi>
            <mo movablelimits="false">=</mo>
            <mn>1</mn>
           </mrow>
           <mi mathvariant="normal">∞</mi>
          </munderover>
          <msub>
           <mn>1</mn>
           <mrow>
            <mo movablelimits="false" stretchy="false">{</mo>
            <mi>N</mi>
            <mo movablelimits="false">=</mo>
            <mi>i</mi>
            <mo movablelimits="false" stretchy="false">}</mo>
           </mrow>
          </msub>
         </mrow>
         <mo movablelimits="false">⏟</mo>
        </munder>
        <mrow>
         <mi></mi>
         <mo>=</mo>
         <msub>
          <mn>1</mn>
          <mrow>
           <mo stretchy="false">{</mo>
           <mi>N</mi>
           <mo>≥</mo>
           <mn>1</mn>
           <mo stretchy="false">}</mo>
          </mrow>
         </msub>
        </mrow>
       </munder>
      </mrow>
      <mo maxsize="210%" minsize="210%">]</mo>
     </mrow>
    </mrow>
    <mo>=</mo>
    <mrow>
     <mo>E</mo>
     <mrow>
      <mo stretchy="false">[</mo>
      <msub>
       <mi>T</mi>
       <mi>N</mi>
      </msub>
      <mo stretchy="false">]</mo>
     </mrow>
    </mrow>
   </mrow>
   <mo>.</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <and></and>
    <apply>
     <eq></eq>
     <apply>
      <ci>normal-E</ci>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>S</ci>
       <ci>N</ci>
      </apply>
     </apply>
     <apply>
      <ci>normal-E</ci>
      <apply>
       <times></times>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>T</ci>
        <ci>N</ci>
       </apply>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <apply>
         <ci>normal-⏟</ci>
         <apply>
          <apply>
           <csymbol cd="ambiguous">superscript</csymbol>
           <apply>
            <csymbol cd="ambiguous">subscript</csymbol>
            <sum></sum>
            <apply>
             <eq></eq>
             <ci>i</ci>
             <cn type="integer">1</cn>
            </apply>
           </apply>
           <infinity></infinity>
          </apply>
          <apply>
           <csymbol cd="ambiguous">subscript</csymbol>
           <cn type="integer">1</cn>
           <cerror>
            <csymbol cd="ambiguous">fragments</csymbol>
            <ci>normal-{</ci>
            <csymbol cd="unknown">N</csymbol>
            <eq></eq>
            <csymbol cd="unknown">i</csymbol>
            <ci>normal-}</ci>
           </cerror>
          </apply>
         </apply>
        </apply>
        <apply>
         <eq></eq>
         <csymbol cd="latexml">absent</csymbol>
         <apply>
          <csymbol cd="ambiguous">subscript</csymbol>
          <cn type="float">1</cn>
          <cerror>
           <csymbol cd="ambiguous">fragments</csymbol>
           <ci>normal-{</ci>
           <csymbol cd="unknown">N</csymbol>
           <geq></geq>
           <cn type="integer">1</cn>
           <ci>normal-}</ci>
          </cerror>
         </apply>
        </apply>
       </apply>
      </apply>
     </apply>
    </apply>
    <apply>
     <eq></eq>
     <share href="#.cmml">
     </share>
     <apply>
      <ci>normal-E</ci>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>T</ci>
       <ci>N</ci>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \operatorname{E}[S_{N}]=\operatorname{E}\!\biggl[T_{N}\underbrace{\sum_{i=1}^{%
\infty}1_{\{N=i\}}}_{=\,1_{\{N\geq 1\}}}\biggr]=\operatorname{E}[T_{N}].
  </annotation>
 </semantics>
</math>

</p>

<p>If assumptions () and () are satisfied, then by linearity of expectation,</p>

<p>

<math display="block" id="Wald's_equation:67">
 <semantics>
  <mrow>
   <mrow>
    <mrow>
     <mo>E</mo>
     <mrow>
      <mo stretchy="false">[</mo>
      <msub>
       <mi>T</mi>
       <mi>N</mi>
      </msub>
      <mo stretchy="false">]</mo>
     </mrow>
    </mrow>
    <mo>=</mo>
    <mrow>
     <mo rspace="0.8pt">E</mo>
     <mrow>
      <mo maxsize="210%" minsize="210%">[</mo>
      <mrow>
       <munderover>
        <mo largeop="true" movablelimits="false" symmetric="true">∑</mo>
        <mrow>
         <mi>n</mi>
         <mo>=</mo>
         <mn>1</mn>
        </mrow>
        <mi>N</mi>
       </munderover>
       <mrow>
        <mo>E</mo>
        <mrow>
         <mo stretchy="false">[</mo>
         <msub>
          <mi>X</mi>
          <mi>n</mi>
         </msub>
         <mo stretchy="false">]</mo>
        </mrow>
       </mrow>
      </mrow>
      <mo maxsize="210%" minsize="210%">]</mo>
     </mrow>
    </mrow>
    <mo>=</mo>
    <mrow>
     <mrow>
      <mo>E</mo>
      <mrow>
       <mo stretchy="false">[</mo>
       <msub>
        <mi>X</mi>
        <mn>1</mn>
       </msub>
       <mo stretchy="false">]</mo>
      </mrow>
     </mrow>
     <mrow>
      <mo rspace="0.8pt">E</mo>
      <mrow>
       <mo maxsize="210%" minsize="210%">[</mo>
       <munder>
        <munder accentunder="true">
         <mrow>
          <munderover>
           <mo largeop="true" movablelimits="false" symmetric="true">∑</mo>
           <mrow>
            <mi>n</mi>
            <mo movablelimits="false">=</mo>
            <mn>1</mn>
           </mrow>
           <mi>N</mi>
          </munderover>
          <mn>1</mn>
         </mrow>
         <mo movablelimits="false">⏟</mo>
        </munder>
        <mrow>
         <mi></mi>
         <mo rspace="4.2pt">=</mo>
         <mi>N</mi>
        </mrow>
       </munder>
       <mo maxsize="210%" minsize="210%">]</mo>
      </mrow>
     </mrow>
    </mrow>
    <mo>=</mo>
    <mrow>
     <mrow>
      <mo>E</mo>
      <mrow>
       <mo stretchy="false">[</mo>
       <mi>N</mi>
       <mo stretchy="false">]</mo>
      </mrow>
     </mrow>
     <mrow>
      <mo>E</mo>
      <mrow>
       <mo stretchy="false">[</mo>
       <msub>
        <mi>X</mi>
        <mn>1</mn>
       </msub>
       <mo stretchy="false">]</mo>
      </mrow>
     </mrow>
    </mrow>
   </mrow>
   <mo>.</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <and></and>
    <apply>
     <eq></eq>
     <apply>
      <ci>normal-E</ci>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>T</ci>
       <ci>N</ci>
      </apply>
     </apply>
     <apply>
      <ci>normal-E</ci>
      <apply>
       <apply>
        <csymbol cd="ambiguous">superscript</csymbol>
        <apply>
         <csymbol cd="ambiguous">subscript</csymbol>
         <sum></sum>
         <apply>
          <eq></eq>
          <ci>n</ci>
          <cn type="integer">1</cn>
         </apply>
        </apply>
        <ci>N</ci>
       </apply>
       <apply>
        <ci>normal-E</ci>
        <apply>
         <csymbol cd="ambiguous">subscript</csymbol>
         <ci>X</ci>
         <ci>n</ci>
        </apply>
       </apply>
      </apply>
     </apply>
    </apply>
    <apply>
     <eq></eq>
     <share href="#.cmml">
     </share>
     <apply>
      <times></times>
      <apply>
       <ci>normal-E</ci>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>X</ci>
        <cn type="integer">1</cn>
       </apply>
      </apply>
      <apply>
       <ci>normal-E</ci>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <apply>
         <ci>normal-⏟</ci>
         <apply>
          <apply>
           <csymbol cd="ambiguous">superscript</csymbol>
           <apply>
            <csymbol cd="ambiguous">subscript</csymbol>
            <sum></sum>
            <apply>
             <eq></eq>
             <ci>n</ci>
             <cn type="integer">1</cn>
            </apply>
           </apply>
           <ci>N</ci>
          </apply>
          <cn type="integer">1</cn>
         </apply>
        </apply>
        <apply>
         <eq></eq>
         <csymbol cd="latexml">absent</csymbol>
         <ci>N</ci>
        </apply>
       </apply>
      </apply>
     </apply>
    </apply>
    <apply>
     <eq></eq>
     <share href="#.cmml">
     </share>
     <apply>
      <times></times>
      <apply>
       <ci>normal-E</ci>
       <ci>N</ci>
      </apply>
      <apply>
       <ci>normal-E</ci>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>X</ci>
        <cn type="integer">1</cn>
       </apply>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \operatorname{E}[T_{N}]=\operatorname{E}\!\biggl[\sum_{n=1}^{N}\operatorname{E%
}[X_{n}]\biggr]=\operatorname{E}[X_{1}]\operatorname{E}\!\biggl[\underbrace{%
\sum_{n=1}^{N}1}_{=\,N}\biggr]=\operatorname{E}[N]\operatorname{E}[X_{1}].
  </annotation>
 </semantics>
</math>

</p>

<p>This completes the proof.</p>
<h2 id="further-generalizations">Further generalizations</h2>
<ul>
<li>Wald's equation can be transferred to <mtpl>-valued random variables <mtpl></mtpl> by applying the one-dimensional version to every component.</mtpl></li>
<li>If <mtpl></mtpl> are <a href="Bochner_integral" title="wikilink">Bochner-integrable</a> random variables taking values in a <a href="Banach_space" title="wikilink">Banach space</a>, then the general proof above can be adjusted accordingly.</li>
</ul>
<h2 id="see-also">See also</h2>
<ul>
<li><a href="Lorden's_inequality" title="wikilink">Lorden's inequality</a></li>
<li><a href="Wald's_martingale" title="wikilink">Wald's martingale</a></li>
<li><a href="Spitzer's_formula" title="wikilink">Spitzer's formula</a></li>
</ul>
<h2 id="notes">Notes</h2>
<h2 id="references">References</h2>
<ul>
<li></li>
<li></li>
<li></li>
</ul>

<p>"</p>

<p><a href="Category:Probability_theory" title="wikilink">Category:Probability theory</a> <a href="Category:Articles_containing_proofs" title="wikilink">Category:Articles containing proofs</a> <a href="Category:Actuarial_science" title="wikilink">Category:Actuarial science</a></p>
<section class="footnotes">
<hr/>
<ol>
<li id="fn1"><a href="#fnref1">↩</a></li>
<li id="fn2"><a href="#fnref2">↩</a></li>
</ol>
</section>
</body>
</html>
