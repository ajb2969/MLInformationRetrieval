<html lang="en">
<head>
<meta charset="utf-8"/>
<title offset="1614">Martingale (probability theory)</title>
<script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_SVG.js" type="text/javascript">
</script>
</head>
<body>
<h1>Martingale (probability theory)</h1>
<hr/>

<p> In <a href="probability_theory" title="wikilink">probability theory</a>, a <strong>martingale</strong> is a model of a fair game where knowledge of past events never helps predict the mean of the future winnings. In particular, a martingale is a <a class="uri" href="sequence" title="wikilink">sequence</a> of <a href="random_variable" title="wikilink">random variables</a> (i.e., a <a href="stochastic_process" title="wikilink">stochastic process</a>) for which, at a particular time in the <a href="realization_(probability)" title="wikilink">realized</a> sequence, the <a href="Expected_value" title="wikilink">expectation</a> of the next value in the sequence is equal to the present observed value even given knowledge of all prior observed values.</p>

<p>To contrast, in a process that is not a martingale, it may still be the case that the expected value of the process at one time is equal to the expected value of the process at the next time. However, knowledge of the prior outcomes (e.g., all prior cards drawn from a card deck) may be able to reduce the uncertainty of future outcomes. Thus, the expected value of the next outcome given knowledge of the present and all prior outcomes may be higher than the current outcome if a winning strategy is used. Martingales exclude the possibility of winning strategies based on game history, and thus they are a model of fair games.</p>
<h2 id="history">History</h2>

<p>Originally, <em><a href="martingale_(betting_system)" title="wikilink">martingale</a></em> referred to a class of <a href="betting_strategy" title="wikilink">betting strategies</a> that was popular in 18th-century <a class="uri" href="France" title="wikilink">France</a>.<a class="footnoteRef" href="#fn1" id="fnref1"><sup>1</sup></a><a class="footnoteRef" href="#fn2" id="fnref2"><sup>2</sup></a> The simplest of these strategies was designed for a game in which the <a class="uri" href="gambler" title="wikilink">gambler</a> wins his stake if a coin comes up heads and loses it if the coin comes up tails. The strategy had the gambler double his bet after every loss so that the first win would recover all previous losses plus win a profit equal to the original stake. As the gambler's wealth and available time jointly approach infinity, his probability of eventually flipping heads approaches 1, which makes the martingale betting strategy seem like a <a href="almost_surely" title="wikilink">sure thing</a>. However, the <a href="exponential_growth" title="wikilink">exponential growth</a> of the bets eventually bankrupts its users, assuming the obvious and realistic i.e. finite bankrolls (one of the reasons <a href="casino" title="wikilink">casinos</a>, though normatively enjoying a mathematical edge in the games offered to their patrons, impose betting limits). <a href="Stopped_process#Brownian_motion" title="wikilink">Stopped Brownian motion</a>, which is a martingale process, can be used to model the trajectory of such games.</p>

<p>The concept of martingale in probability theory was introduced by <a href="Paul_L√©vy_(mathematician)" title="wikilink">Paul L√©vy</a> in 1934, though he did not name them: the term "martingale" was introduced later by , who also extended the definition to continuous martingales. Much of the original development of the theory was done by <a href="Joseph_Leo_Doob" title="wikilink">Joseph Leo Doob</a> among others. Part of the motivation for that work was to show the impossibility of successful betting strategies.</p>
<h2 id="definitions">Definitions</h2>

<p>A basic definition of a <a href="Discrete-time_stochastic_process" title="wikilink">discrete-time</a> <strong>martingale</strong> is a discrete-time <a href="stochastic_process" title="wikilink">stochastic process</a> (i.e., a <a class="uri" href="sequence" title="wikilink">sequence</a> of <a href="random_variable" title="wikilink">random variables</a>) <em>X</em><sub>1</sub>,¬†<em>X</em><sub>2</sub>,¬†<em>X</em><sub>3</sub>,¬†... that satisfies for any time <em>n</em>,</p>

<p>

<math display="block" id="Martingale_(probability_theory):0">
 <semantics>
  <mrow>
   <mrow>
    <mi>ùêÑ</mi>
    <mrow>
     <mo stretchy="false">(</mo>
     <mrow>
      <mo stretchy="false">|</mo>
      <msub>
       <mi>X</mi>
       <mi>n</mi>
      </msub>
      <mo stretchy="false">|</mo>
     </mrow>
     <mo stretchy="false">)</mo>
    </mrow>
   </mrow>
   <mo><</mo>
   <mi mathvariant="normal">‚àû</mi>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <lt></lt>
    <apply>
     <times></times>
     <ci>ùêÑ</ci>
     <apply>
      <abs></abs>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>X</ci>
       <ci>n</ci>
      </apply>
     </apply>
    </apply>
    <infinity></infinity>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \mathbf{E}(|X_{n}|)<\infty
  </annotation>
 </semantics>
</math>

</p>

<p>

<math display="block" id="Martingale_(probability_theory):1">
 <semantics>
  <mrow>
   <mi>ùêÑ</mi>
   <mrow>
    <mo stretchy="false">(</mo>
    <msub>
     <mi>X</mi>
     <mrow>
      <mi>n</mi>
      <mo>+</mo>
      <mn>1</mn>
     </mrow>
    </msub>
    <mo>‚à£</mo>
    <msub>
     <mi>X</mi>
     <mn>1</mn>
    </msub>
    <mo>,</mo>
    <mi mathvariant="normal">‚Ä¶</mi>
    <mo>,</mo>
    <msub>
     <mi>X</mi>
     <mi>n</mi>
    </msub>
    <mo stretchy="false">)</mo>
   </mrow>
   <mo>=</mo>
   <msub>
    <mi>X</mi>
    <mi>n</mi>
   </msub>
   <mo>.</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <cerror>
    <csymbol cd="ambiguous">fragments</csymbol>
    <csymbol cd="unknown">E</csymbol>
    <cerror>
     <csymbol cd="ambiguous">fragments</csymbol>
     <ci>normal-(</ci>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <ci>X</ci>
      <apply>
       <plus></plus>
       <ci>n</ci>
       <cn type="integer">1</cn>
      </apply>
     </apply>
     <ci>normal-‚à£</ci>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <ci>X</ci>
      <cn type="integer">1</cn>
     </apply>
     <ci>normal-,</ci>
     <ci>normal-‚Ä¶</ci>
     <ci>normal-,</ci>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <ci>X</ci>
      <ci>n</ci>
     </apply>
     <ci>normal-)</ci>
    </cerror>
    <eq></eq>
    <apply>
     <csymbol cd="ambiguous">subscript</csymbol>
     <ci>X</ci>
     <ci>n</ci>
    </apply>
    <ci>normal-.</ci>
   </cerror>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \mathbf{E}(X_{n+1}\mid X_{1},\ldots,X_{n})=X_{n}.
  </annotation>
 </semantics>
</math>

</p>

<p>That is, the <a href="conditional_expected_value" title="wikilink">conditional expected value</a> of the next observation, given all the past observations, is equal to the last observation. Due to the linearity of expectation, this second requirement is equivalent to:</p>

<p>

<math display="block" id="Martingale_(probability_theory):2">
 <semantics>
  <mrow>
   <mi>ùêÑ</mi>
   <mrow>
    <mo stretchy="false">(</mo>
    <msub>
     <mi>X</mi>
     <mrow>
      <mi>n</mi>
      <mo>+</mo>
      <mn>1</mn>
     </mrow>
    </msub>
    <mo>-</mo>
    <msub>
     <mi>X</mi>
     <mi>n</mi>
    </msub>
    <mo>‚à£</mo>
    <msub>
     <mi>X</mi>
     <mn>1</mn>
    </msub>
    <mo>,</mo>
    <mi mathvariant="normal">‚Ä¶</mi>
    <mo>,</mo>
    <msub>
     <mi>X</mi>
     <mi>n</mi>
    </msub>
    <mo stretchy="false">)</mo>
   </mrow>
   <mo>=</mo>
   <mn>0</mn>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <cerror>
    <csymbol cd="ambiguous">fragments</csymbol>
    <csymbol cd="unknown">E</csymbol>
    <cerror>
     <csymbol cd="ambiguous">fragments</csymbol>
     <ci>normal-(</ci>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <ci>X</ci>
      <apply>
       <plus></plus>
       <ci>n</ci>
       <cn type="integer">1</cn>
      </apply>
     </apply>
     <minus></minus>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <ci>X</ci>
      <ci>n</ci>
     </apply>
     <ci>normal-‚à£</ci>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <ci>X</ci>
      <cn type="integer">1</cn>
     </apply>
     <ci>normal-,</ci>
     <ci>normal-‚Ä¶</ci>
     <ci>normal-,</ci>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <ci>X</ci>
      <ci>n</ci>
     </apply>
     <ci>normal-)</ci>
    </cerror>
    <eq></eq>
    <cn type="integer">0</cn>
   </cerror>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \mathbf{E}(X_{n+1}-X_{n}\mid X_{1},\ldots,X_{n})=0
  </annotation>
 </semantics>
</math>

 or 

<math display="inline" id="Martingale_(probability_theory):3">
 <semantics>
  <mrow>
   <mi>ùêÑ</mi>
   <mrow>
    <mo stretchy="false">(</mo>
    <msub>
     <mi>X</mi>
     <mrow>
      <mi>n</mi>
      <mo>+</mo>
      <mn>1</mn>
     </mrow>
    </msub>
    <mo>‚à£</mo>
    <msub>
     <mi>X</mi>
     <mn>1</mn>
    </msub>
    <mo>,</mo>
    <mi mathvariant="normal">‚Ä¶</mi>
    <mo>,</mo>
    <msub>
     <mi>X</mi>
     <mi>n</mi>
    </msub>
    <mo stretchy="false">)</mo>
   </mrow>
   <mo>-</mo>
   <msub>
    <mi>X</mi>
    <mi>n</mi>
   </msub>
   <mo>=</mo>
   <mn>0</mn>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <cerror>
    <csymbol cd="ambiguous">fragments</csymbol>
    <csymbol cd="unknown">E</csymbol>
    <cerror>
     <csymbol cd="ambiguous">fragments</csymbol>
     <ci>normal-(</ci>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <ci>X</ci>
      <apply>
       <plus></plus>
       <ci>n</ci>
       <cn type="integer">1</cn>
      </apply>
     </apply>
     <ci>normal-‚à£</ci>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <ci>X</ci>
      <cn type="integer">1</cn>
     </apply>
     <ci>normal-,</ci>
     <ci>normal-‚Ä¶</ci>
     <ci>normal-,</ci>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <ci>X</ci>
      <ci>n</ci>
     </apply>
     <ci>normal-)</ci>
    </cerror>
    <minus></minus>
    <apply>
     <csymbol cd="ambiguous">subscript</csymbol>
     <ci>X</ci>
     <ci>n</ci>
    </apply>
    <eq></eq>
    <cn type="integer">0</cn>
   </cerror>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \mathbf{E}(X_{n+1}\mid X_{1},\ldots,X_{n})-X_{n}=0
  </annotation>
 </semantics>
</math>

</p>

<p>which states that the average "winnings" from observation 

<math display="inline" id="Martingale_(probability_theory):4">
 <semantics>
  <mi>n</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>n</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   n
  </annotation>
 </semantics>
</math>

 to observation 

<math display="inline" id="Martingale_(probability_theory):5">
 <semantics>
  <mrow>
   <mi>n</mi>
   <mo>+</mo>
   <mn>1</mn>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <plus></plus>
    <ci>n</ci>
    <cn type="integer">1</cn>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   n+1
  </annotation>
 </semantics>
</math>

 are 0.</p>
<h3 id="martingale-sequences-with-respect-to-another-sequence">Martingale sequences with respect to another sequence</h3>

<p>More generally, a sequence <em>Y</em><sub>1</sub>,¬†<em>Y</em><sub>2</sub>,¬†<em>Y</em><sub>3</sub>¬†... is said to be a <strong>martingale with respect to</strong> another sequence <em>X</em><sub>1</sub>,¬†<em>X</em><sub>2</sub>,¬†<em>X</em><sub>3</sub>¬†... if for all <em>n</em></p>

<p>

<math display="block" id="Martingale_(probability_theory):6">
 <semantics>
  <mrow>
   <mrow>
    <mi>ùêÑ</mi>
    <mrow>
     <mo stretchy="false">(</mo>
     <mrow>
      <mo stretchy="false">|</mo>
      <msub>
       <mi>Y</mi>
       <mi>n</mi>
      </msub>
      <mo stretchy="false">|</mo>
     </mrow>
     <mo stretchy="false">)</mo>
    </mrow>
   </mrow>
   <mo><</mo>
   <mi mathvariant="normal">‚àû</mi>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <lt></lt>
    <apply>
     <times></times>
     <ci>ùêÑ</ci>
     <apply>
      <abs></abs>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>Y</ci>
       <ci>n</ci>
      </apply>
     </apply>
    </apply>
    <infinity></infinity>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \mathbf{E}(|Y_{n}|)<\infty
  </annotation>
 </semantics>
</math>

</p>

<p>

<math display="block" id="Martingale_(probability_theory):7">
 <semantics>
  <mrow>
   <mi>ùêÑ</mi>
   <mrow>
    <mo stretchy="false">(</mo>
    <msub>
     <mi>Y</mi>
     <mrow>
      <mi>n</mi>
      <mo>+</mo>
      <mn>1</mn>
     </mrow>
    </msub>
    <mo>‚à£</mo>
    <msub>
     <mi>X</mi>
     <mn>1</mn>
    </msub>
    <mo>,</mo>
    <mi mathvariant="normal">‚Ä¶</mi>
    <mo>,</mo>
    <msub>
     <mi>X</mi>
     <mi>n</mi>
    </msub>
    <mo stretchy="false">)</mo>
   </mrow>
   <mo>=</mo>
   <msub>
    <mi>Y</mi>
    <mi>n</mi>
   </msub>
   <mo>.</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <cerror>
    <csymbol cd="ambiguous">fragments</csymbol>
    <csymbol cd="unknown">E</csymbol>
    <cerror>
     <csymbol cd="ambiguous">fragments</csymbol>
     <ci>normal-(</ci>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <ci>Y</ci>
      <apply>
       <plus></plus>
       <ci>n</ci>
       <cn type="integer">1</cn>
      </apply>
     </apply>
     <ci>normal-‚à£</ci>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <ci>X</ci>
      <cn type="integer">1</cn>
     </apply>
     <ci>normal-,</ci>
     <ci>normal-‚Ä¶</ci>
     <ci>normal-,</ci>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <ci>X</ci>
      <ci>n</ci>
     </apply>
     <ci>normal-)</ci>
    </cerror>
    <eq></eq>
    <apply>
     <csymbol cd="ambiguous">subscript</csymbol>
     <ci>Y</ci>
     <ci>n</ci>
    </apply>
    <ci>normal-.</ci>
   </cerror>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \mathbf{E}(Y_{n+1}\mid X_{1},\ldots,X_{n})=Y_{n}.
  </annotation>
 </semantics>
</math>

</p>

<p>Similarly, a <strong><a href="continuous_time" title="wikilink">continuous-time</a> martingale with respect to</strong> the <a href="stochastic_process" title="wikilink">stochastic process</a> <em>X<sub>t</sub></em> is a <a href="stochastic_process" title="wikilink">stochastic process</a> <em>Y<sub>t</sub></em> such that for all <em>t</em></p>

<p>

<math display="block" id="Martingale_(probability_theory):8">
 <semantics>
  <mrow>
   <mrow>
    <mi>ùêÑ</mi>
    <mrow>
     <mo stretchy="false">(</mo>
     <mrow>
      <mo stretchy="false">|</mo>
      <msub>
       <mi>Y</mi>
       <mi>t</mi>
      </msub>
      <mo stretchy="false">|</mo>
     </mrow>
     <mo stretchy="false">)</mo>
    </mrow>
   </mrow>
   <mo><</mo>
   <mi mathvariant="normal">‚àû</mi>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <lt></lt>
    <apply>
     <times></times>
     <ci>ùêÑ</ci>
     <apply>
      <abs></abs>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>Y</ci>
       <ci>t</ci>
      </apply>
     </apply>
    </apply>
    <infinity></infinity>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \mathbf{E}(|Y_{t}|)<\infty
  </annotation>
 </semantics>
</math>

</p>

<p>

<math display="block" id="Martingale_(probability_theory):9">
 <semantics>
  <mrow>
   <mi>ùêÑ</mi>
   <mrow>
    <mo stretchy="false">(</mo>
    <msub>
     <mi>Y</mi>
     <mi>t</mi>
    </msub>
    <mo>‚à£</mo>
    <mrow>
     <mo stretchy="false">{</mo>
     <msub>
      <mi>X</mi>
      <mi>œÑ</mi>
     </msub>
     <mo>,</mo>
     <mi>œÑ</mi>
     <mo>‚â§</mo>
     <mi>s</mi>
     <mo stretchy="false">}</mo>
    </mrow>
    <mo stretchy="false">)</mo>
   </mrow>
   <mo>=</mo>
   <msub>
    <mi>Y</mi>
    <mi>s</mi>
   </msub>
   <mo>‚àÄ</mo>
   <mi>s</mi>
   <mo>‚â§</mo>
   <mi>t</mi>
   <mo>.</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <cerror>
    <csymbol cd="ambiguous">fragments</csymbol>
    <csymbol cd="unknown">E</csymbol>
    <cerror>
     <csymbol cd="ambiguous">fragments</csymbol>
     <ci>normal-(</ci>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <ci>Y</ci>
      <ci>t</ci>
     </apply>
     <ci>normal-‚à£</ci>
     <cerror>
      <csymbol cd="ambiguous">fragments</csymbol>
      <ci>normal-{</ci>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>X</ci>
       <ci>œÑ</ci>
      </apply>
      <ci>normal-,</ci>
      <csymbol cd="unknown">œÑ</csymbol>
      <leq></leq>
      <csymbol cd="unknown">s</csymbol>
      <ci>normal-}</ci>
     </cerror>
     <ci>normal-)</ci>
    </cerror>
    <eq></eq>
    <apply>
     <csymbol cd="ambiguous">subscript</csymbol>
     <ci>Y</ci>
     <ci>s</ci>
    </apply>
    <ci></ci>
    <csymbol cd="latexml">for-all</csymbol>
    <csymbol cd="unknown">s</csymbol>
    <leq></leq>
    <csymbol cd="unknown">t</csymbol>
    <ci>normal-.</ci>
   </cerror>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \mathbf{E}(Y_{t}\mid\{X_{\tau},\tau\leq s\})=Y_{s}\quad\forall s\leq t.
  </annotation>
 </semantics>
</math>

</p>

<p>This expresses the property that the conditional expectation of an observation at time <em>t</em>, given all the observations up to time 

<math display="inline" id="Martingale_(probability_theory):10">
 <semantics>
  <mi>s</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>s</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   s
  </annotation>
 </semantics>
</math>

, is equal to the observation at time <em>s</em> (of course, provided that <em>s</em>¬†‚â§¬†<em>t</em>).</p>
<h3 id="general-definition">General definition</h3>

<p>In full generality, a <a href="stochastic_process" title="wikilink">stochastic process</a> 

<math display="inline" id="Martingale_(probability_theory):11">
 <semantics>
  <mrow>
   <mi>Y</mi>
   <mo>:</mo>
   <mrow>
    <mrow>
     <mi>T</mi>
     <mo>√ó</mo>
     <mi mathvariant="normal">Œ©</mi>
    </mrow>
    <mo>‚Üí</mo>
    <mi>S</mi>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <ci>normal-:</ci>
    <ci>Y</ci>
    <apply>
     <ci>normal-‚Üí</ci>
     <apply>
      <times></times>
      <ci>T</ci>
      <ci>normal-Œ©</ci>
     </apply>
     <ci>S</ci>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   Y:T\times\Omega\to S
  </annotation>
 </semantics>
</math>

 is a <strong>martingale with respect to a filtration</strong> 

<math display="inline" id="Martingale_(probability_theory):12">
 <semantics>
  <msub>
   <mi mathvariant="normal">Œ£</mi>
   <mo>*</mo>
  </msub>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <csymbol cd="ambiguous">subscript</csymbol>
    <ci>normal-Œ£</ci>
    <times></times>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \Sigma_{*}
  </annotation>
 </semantics>
</math>

 <strong>and <a href="probability_measure" title="wikilink">probability measure</a> P</strong> if</p>
<ul>
<li>Œ£<sub>‚àó</sub> is a <a href="Filtration_(mathematics)#Measure_theory" title="wikilink">filtration</a> of the underlying <a href="probability_space" title="wikilink">probability space</a> (Œ©,¬†Œ£,¬†<strong>P</strong>);</li>
<li><em>Y</em> is <a href="adapted_process" title="wikilink">adapted</a> to the filtration Œ£<sub>‚àó</sub>, i.e., for each <em>t</em> in the <a href="index_set" title="wikilink">index set</a> <em>T</em>, the random variable <em>Y<sub>t</sub></em> is a Œ£<sub><em>t</em></sub>-<a href="measurable_function" title="wikilink">measurable function</a>;</li>
<li>for each <em>t</em>, <em>Y<sub>t</sub></em> lies in the <a href="Lp_space" title="wikilink"><em>L<sup>p</sup></em> space</a> <em>L</em><sup>1</sup>(Œ©,¬†Œ£<sub><em>t</em></sub>,¬†<strong>P</strong>;¬†<em>S</em>), i.e.</li>
</ul>
<dl>
<dd><dl>
<dd>

<math display="inline" id="Martingale_(probability_theory):13">
 <semantics>
  <mrow>
   <mrow>
    <mrow>
     <msub>
      <mi>ùêÑ</mi>
      <mi>ùêè</mi>
     </msub>
     <mrow>
      <mo stretchy="false">(</mo>
      <mrow>
       <mo stretchy="false">|</mo>
       <msub>
        <mi>Y</mi>
        <mi>t</mi>
       </msub>
       <mo stretchy="false">|</mo>
      </mrow>
      <mo stretchy="false">)</mo>
     </mrow>
    </mrow>
    <mo><</mo>
    <mrow>
     <mo>+</mo>
     <mi mathvariant="normal">‚àû</mi>
    </mrow>
   </mrow>
   <mo>;</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <lt></lt>
    <apply>
     <times></times>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <ci>ùêÑ</ci>
      <ci>ùêè</ci>
     </apply>
     <apply>
      <abs></abs>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>Y</ci>
       <ci>t</ci>
      </apply>
     </apply>
    </apply>
    <apply>
     <plus></plus>
     <infinity></infinity>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \mathbf{E}_{\mathbf{P}}(|Y_{t}|)<+\infty;
  </annotation>
 </semantics>
</math>


</dd>
</dl>
</dd>
</dl>
<ul>
<li>for all <em>s</em> and <em>t</em> with <em>s</em>¬†<em>s</em>,</li>
</ul>
<dl>
<dd><dl>
<dd>

<math display="inline" id="Martingale_(probability_theory):14">
 <semantics>
  <mrow>
   <mrow>
    <mrow>
     <msub>
      <mi>ùêÑ</mi>
      <mi>ùêè</mi>
     </msub>
     <mrow>
      <mo>(</mo>
      <mrow>
       <mrow>
        <mo stretchy="false">[</mo>
        <mrow>
         <msub>
          <mi>Y</mi>
          <mi>t</mi>
         </msub>
         <mo>-</mo>
         <msub>
          <mi>Y</mi>
          <mi>s</mi>
         </msub>
        </mrow>
        <mo stretchy="false">]</mo>
       </mrow>
       <msub>
        <mi>œá</mi>
        <mi>F</mi>
       </msub>
      </mrow>
      <mo>)</mo>
     </mrow>
    </mrow>
    <mo>=</mo>
    <mn>0</mn>
   </mrow>
   <mo>,</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <times></times>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <ci>ùêÑ</ci>
      <ci>ùêè</ci>
     </apply>
     <apply>
      <times></times>
      <apply>
       <csymbol cd="latexml">delimited-[]</csymbol>
       <apply>
        <minus></minus>
        <apply>
         <csymbol cd="ambiguous">subscript</csymbol>
         <ci>Y</ci>
         <ci>t</ci>
        </apply>
        <apply>
         <csymbol cd="ambiguous">subscript</csymbol>
         <ci>Y</ci>
         <ci>s</ci>
        </apply>
       </apply>
      </apply>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>œá</ci>
       <ci>F</ci>
      </apply>
     </apply>
    </apply>
    <cn type="integer">0</cn>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \mathbf{E}_{\mathbf{P}}\left([Y_{t}-Y_{s}]\chi_{F}\right)=0,
  </annotation>
 </semantics>
</math>


</dd>
</dl>
</dd>
<dd>where <em>œá<sub>F</sub></em> denotes the <a href="indicator_function" title="wikilink">indicator function</a> of the event <em>F</em>. In Grimmett and Stirzaker's <em>Probability and Random Processes</em>, this last condition is denoted as

<p>

<math display="block" id="Martingale_(probability_theory):15">
 <semantics>
  <mrow>
   <msub>
    <mi>Y</mi>
    <mi>s</mi>
   </msub>
   <mo>=</mo>
   <msub>
    <mi>ùêÑ</mi>
    <mi>ùêè</mi>
   </msub>
   <mrow>
    <mo stretchy="false">(</mo>
    <msub>
     <mi>Y</mi>
     <mi>t</mi>
    </msub>
    <mo stretchy="false">|</mo>
    <msub>
     <mi mathvariant="normal">Œ£</mi>
     <mi>s</mi>
    </msub>
    <mo stretchy="false">)</mo>
   </mrow>
   <mo>,</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <cerror>
    <csymbol cd="ambiguous">fragments</csymbol>
    <apply>
     <csymbol cd="ambiguous">subscript</csymbol>
     <ci>Y</ci>
     <ci>s</ci>
    </apply>
    <eq></eq>
    <apply>
     <csymbol cd="ambiguous">subscript</csymbol>
     <ci>ùêÑ</ci>
     <ci>ùêè</ci>
    </apply>
    <cerror>
     <csymbol cd="ambiguous">fragments</csymbol>
     <ci>normal-(</ci>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <ci>Y</ci>
      <ci>t</ci>
     </apply>
     <ci>normal-|</ci>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <ci>normal-Œ£</ci>
      <ci>s</ci>
     </apply>
     <ci>normal-)</ci>
    </cerror>
    <ci>normal-,</ci>
   </cerror>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   Y_{s}=\mathbf{E}_{\mathbf{P}}(Y_{t}|\Sigma_{s}),
  </annotation>
 </semantics>
</math>

</p>
</dd>
<dd>which is a general form of <a href="conditional_expectation" title="wikilink">conditional expectation</a>.<a class="footnoteRef" href="#fn3" id="fnref3"><sup>3</sup></a>
</dd>
</dl>

<p>It is important to note that the property of being a martingale involves both the filtration <em>and</em> the probability measure (with respect to which the expectations are taken). It is possible that <em>Y</em> could be a martingale with respect to one measure but not another one; the <a href="Girsanov_theorem" title="wikilink">Girsanov theorem</a> offers a way to find a measure with respect to which an <a href="It≈ç_process" title="wikilink">It≈ç process</a> is a martingale.</p>
<h2 id="examples-of-martingales">Examples of martingales</h2>
<ul>
<li>An unbiased <a href="random_walk" title="wikilink">random walk</a> (in any number of dimensions) is an example of a martingale.</li>
</ul>
<ul>
<li>A gambler's fortune (capital) is a martingale if all the betting games which the gambler plays are fair.</li>
</ul>
<ul>
<li><a href="Polya's_urn" title="wikilink">Polya's urn</a> contains a number of different coloured marbles, and each <a href="iterative_method" title="wikilink">iteration</a> a marble is randomly selected out of the urn and replaced with several more of that same colour. For any given colour, the <em>ratio</em> of marbles inside the urn with that colour is a martingale. For example, if currently 95% of the marbles are red then‚Äîthough the next iteration is much more likely add more red marbles‚Äîthis bias is exactly balanced out by the fact that adding more red marbles alters the ratio much less significantly than adding the same number of non-red marbles would.</li>
</ul>
<ul>
<li>Suppose <em>X<sub>n</sub></em> is a gambler's fortune after <em>n</em> tosses of a <a href="fair_coin" title="wikilink">fair coin</a>, where the gambler wins $1 if the coin comes up heads and loses $1 if the coin comes up tails. The gambler's conditional expected fortune after the next trial, given the history, is equal to his present fortune, so this sequence is a martingale.</li>
</ul>
<ul>
<li>Let <em>Y<sub>n</sub></em> = <em>X<sub>n</sub></em><sup>2</sup> ‚àí <em>n</em> where <em>X<sub>n</sub></em> is the gambler's fortune from the preceding example. Then the sequence { <em>Y<sub>n</sub></em> : <em>n</em> = 1, 2, 3, ... } is a martingale. This can be used to show that the gambler's total gain or loss varies roughly between plus or minus the <a href="square_root" title="wikilink">square root</a> of the number of steps.</li>
</ul>
<ul>
<li>(<a href="Abraham_de_Moivre" title="wikilink">de Moivre</a>'s martingale) Now suppose an "unfair" or "biased" coin, with probability <em>p</em> of "heads" and probability <em>q</em>¬†=¬†1¬†‚àí¬†<em>p</em> of "tails". Let</li>
</ul>
<dl>
<dd><dl>
<dd>

<math display="inline" id="Martingale_(probability_theory):16">
 <semantics>
  <mrow>
   <msub>
    <mi>X</mi>
    <mrow>
     <mi>n</mi>
     <mo>+</mo>
     <mn>1</mn>
    </mrow>
   </msub>
   <mo>=</mo>
   <mrow>
    <msub>
     <mi>X</mi>
     <mi>n</mi>
    </msub>
    <mo>¬±</mo>
    <mn>1</mn>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <csymbol cd="ambiguous">subscript</csymbol>
     <ci>X</ci>
     <apply>
      <plus></plus>
      <ci>n</ci>
      <cn type="integer">1</cn>
     </apply>
    </apply>
    <apply>
     <csymbol cd="latexml">plus-or-minus</csymbol>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <ci>X</ci>
      <ci>n</ci>
     </apply>
     <cn type="integer">1</cn>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   X_{n+1}=X_{n}\pm 1
  </annotation>
 </semantics>
</math>


</dd>
</dl>
</dd>
<dd>with "+" in case of "heads" and "‚àí" in case of "tails". Let
</dd>
</dl>
<dl>
<dd><dl>
<dd>

<math display="inline" id="Martingale_(probability_theory):17">
 <semantics>
  <mrow>
   <mrow>
    <msub>
     <mi>Y</mi>
     <mi>n</mi>
    </msub>
    <mo>=</mo>
    <msup>
     <mrow>
      <mo stretchy="false">(</mo>
      <mrow>
       <mi>q</mi>
       <mo>/</mo>
       <mi>p</mi>
      </mrow>
      <mo stretchy="false">)</mo>
     </mrow>
     <msub>
      <mi>X</mi>
      <mi>n</mi>
     </msub>
    </msup>
   </mrow>
   <mo>.</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <csymbol cd="ambiguous">subscript</csymbol>
     <ci>Y</ci>
     <ci>n</ci>
    </apply>
    <apply>
     <csymbol cd="ambiguous">superscript</csymbol>
     <apply>
      <divide></divide>
      <ci>q</ci>
      <ci>p</ci>
     </apply>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <ci>X</ci>
      <ci>n</ci>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   Y_{n}=(q/p)^{X_{n}}.
  </annotation>
 </semantics>
</math>


</dd>
</dl>
</dd>
</dl>
<dl>
<dd>Then { <em>Y<sub>n</sub></em> : <em>n</em> = 1, 2, 3, ... } is a martingale with respect to { <em>X<sub>n</sub></em> : <em>n</em> = 1, 2, 3, ... }. To show this

<p>:<math></math></p>
</dd>
</dl>

<p>\begin{align} E[Y_{n+1} \mid X_1,\dots,X_n] &amp; = p (q/p)^{X_n+1} + q (q/p)^{X_n-1} \\[6pt] &amp; = p (q/p) (q/p)^{X_n} + q (p/q) (q/p)^{X_n} \\[6pt] &amp; = q (q/p)^{X_n} + p (q/p)^{X_n} = (q/p)^{X_n}=Y_n. \end{align} </p>
<ul>
<li>(<a href="Likelihood-ratio_test" title="wikilink">Likelihood-ratio testing</a> in <a class="uri" href="statistics" title="wikilink">statistics</a>) A population is thought to be distributed according to either a probability density <em>f</em> or another probability density <em>g</em>. A <a href="random_sample" title="wikilink">random sample</a> is taken, the data being <em>X</em><sub>1</sub>, ..., <em>X<sub>n</sub></em>. Let <em>Y<sub>n</sub></em> be the "likelihood ratio"</li>
</ul>
<dl>
<dd><dl>
<dd>

<math display="inline" id="Martingale_(probability_theory):18">
 <semantics>
  <mrow>
   <msub>
    <mi>Y</mi>
    <mi>n</mi>
   </msub>
   <mo>=</mo>
   <mrow>
    <msubsup>
     <mo largeop="true" symmetric="true">‚àè</mo>
     <mrow>
      <mi>i</mi>
      <mo>=</mo>
      <mn>1</mn>
     </mrow>
     <mi>n</mi>
    </msubsup>
    <mfrac>
     <mrow>
      <mi>g</mi>
      <mrow>
       <mo stretchy="false">(</mo>
       <msub>
        <mi>X</mi>
        <mi>i</mi>
       </msub>
       <mo stretchy="false">)</mo>
      </mrow>
     </mrow>
     <mrow>
      <mi>f</mi>
      <mrow>
       <mo stretchy="false">(</mo>
       <msub>
        <mi>X</mi>
        <mi>i</mi>
       </msub>
       <mo stretchy="false">)</mo>
      </mrow>
     </mrow>
    </mfrac>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <csymbol cd="ambiguous">subscript</csymbol>
     <ci>Y</ci>
     <ci>n</ci>
    </apply>
    <apply>
     <apply>
      <csymbol cd="ambiguous">superscript</csymbol>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <csymbol cd="latexml">product</csymbol>
       <apply>
        <eq></eq>
        <ci>i</ci>
        <cn type="integer">1</cn>
       </apply>
      </apply>
      <ci>n</ci>
     </apply>
     <apply>
      <divide></divide>
      <apply>
       <times></times>
       <ci>g</ci>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>X</ci>
        <ci>i</ci>
       </apply>
      </apply>
      <apply>
       <times></times>
       <ci>f</ci>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>X</ci>
        <ci>i</ci>
       </apply>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   Y_{n}=\prod_{i=1}^{n}\frac{g(X_{i})}{f(X_{i})}
  </annotation>
 </semantics>
</math>


</dd>
</dl>
</dd>
</dl>
<dl>
<dd>(which, in applications, would be used as a test statistic). If the population is actually distributed according to the density <em>f</em> rather than according to <em>g</em>, then {¬†<em>Y<sub>n</sub></em> :¬†<em>n</em>¬†=¬†1,¬†2,¬†3,¬†...¬†} is a martingale with respect to {¬†<em>X<sub>n</sub></em> :¬†<em>n</em>¬†=¬†1,¬†2,¬†3,¬†...¬†}.
</dd>
</dl>
<ul>
<li>Suppose each <a class="uri" href="amoeba" title="wikilink">amoeba</a> either splits into two amoebas, with probability <em>p</em>, or eventually dies, with probability 1 ‚àí <em>p</em>. Let <em>X<sub>n</sub></em> be the number of amoebas surviving in the <em>n</em>th generation (in particular <em>X<sub>n</sub></em> = 0 if the population has become extinct by that time). Let <em>r</em> be the <a href="Galton‚ÄìWatson_process" title="wikilink">probability of <em>eventual</em> extinction</a>. (Finding <em>r</em> as function of <em>p</em> is an instructive exercise. Hint: The probability that the descendants of an amoeba eventually die out is equal to the probability that either of its immediate offspring dies out, given that the original amoeba has split.) Then</li>
</ul>
<dl>
<dd><dl>
<dd>

<math display="inline" id="Martingale_(probability_theory):19">
 <semantics>
  <mrow>
   <mo rspace="4.2pt" stretchy="false">{</mo>
   <msup>
    <mi>r</mi>
    <msub>
     <mi>X</mi>
     <mi>n</mi>
    </msub>
   </msup>
   <mo>:</mo>
   <mrow>
    <mi>n</mi>
    <mo>=</mo>
    <mrow>
     <mn>1</mn>
     <mo>,</mo>
     <mn>2</mn>
     <mo>,</mo>
     <mn>3</mn>
     <mo>,</mo>
     <mpadded width="+1.7pt">
      <mi mathvariant="normal">‚Ä¶</mi>
     </mpadded>
    </mrow>
   </mrow>
   <mo stretchy="false">}</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <csymbol cd="latexml">conditional-set</csymbol>
    <apply>
     <csymbol cd="ambiguous">superscript</csymbol>
     <ci>r</ci>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <ci>X</ci>
      <ci>n</ci>
     </apply>
    </apply>
    <apply>
     <eq></eq>
     <ci>n</ci>
     <list>
      <cn type="integer">1</cn>
      <cn type="integer">2</cn>
      <cn type="integer">3</cn>
      <ci>normal-‚Ä¶</ci>
     </list>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \{\,r^{X_{n}}:n=1,2,3,\dots\,\}
  </annotation>
 </semantics>
</math>


</dd>
</dl>
</dd>
</dl>
<dl>
<dd>is a martingale with respect to { <em>X<sub>n</sub></em>: <em>n</em> = 1, 2, 3, ... }.
</dd>
</dl>
<figure><b>(Figure)</b>
<figcaption>Software-created martingale series.</figcaption>
</figure>
<ul>
<li>In an ecological community (a group of species that are in a particular trophic level, competing for similar resources in a local area), the number of individuals of any particular species of fixed size is a function of (discrete) time, and may be viewed as a sequence of random variables. This sequence is a martingale under the <a href="unified_neutral_theory_of_biodiversity_and_biogeography" title="wikilink">unified neutral theory of biodiversity and biogeography</a>.</li>
</ul>
<ul>
<li>If { <em>N<sub>t</sub></em> : <em>t</em>¬†‚â•¬†0 } is a <a href="Poisson_process" title="wikilink">Poisson process</a> with intensity Œª, then the compensated Poisson process {¬†<em>N<sub>t</sub></em>¬†‚àí¬†Œª<em>t</em> : <em>t</em>¬†‚â•¬†0¬†} is a continuous-time martingale with <a href="Classification_of_discontinuities" title="wikilink">right-continuous/left-limit</a> sample paths.</li>
</ul>
<ul>
<li><a href="Wald's_martingale" title="wikilink">Wald's martingale</a></li>
</ul>
<h2 id="submartingales-supermartingales-and-relationship-to-harmonic-functions">Submartingales, supermartingales, and relationship to harmonic functions</h2>

<p>There are two popular generalizations of a martingale that also include cases when the current observation <em>X<sub>n</sub></em> is not necessarily equal to the future conditional expectation <em>E</em>[<em>X<sub>n+1</sub></em>|<em>X</em><sub>1</sub>,...,<em>X<sub>n</sub></em>] but instead an upper or lower bound on the conditional expectation. These definitions reflect a relationship between martingale theory and <a href="potential_theory" title="wikilink">potential theory</a>, which is the study of <a href="harmonic_function" title="wikilink">harmonic functions</a>. Just as a continuous-time martingale satisfies <em>E</em>[<em>X<sub>t</sub></em>|{<em>X</em><sub>œÑ</sub>¬†:¬†œÑ‚â§s}]¬†‚àí¬†<em>X<sub>s</sub></em>¬†=¬†0¬†‚àÄ<em>s</em>¬†‚â§¬†<em>t</em>, a harmonic function <em>f</em> satisfies the <a href="partial_differential_equation" title="wikilink">partial differential equation</a> Œî<em>f</em>¬†=¬†0 where Œî is the <a href="Laplace_operator" title="wikilink">Laplacian operator</a>. Given a <a href="Brownian_motion" title="wikilink">Brownian motion</a> process <em>W<sub>t</sub></em> and a harmonic function <em>f</em>, the resulting process <em>f</em>(<em>W<sub>t</sub></em>) is also a martingale.</p>
<ul>
<li>A discrete-time <strong>submartingale</strong> is a sequence 

<math display="inline" id="Martingale_(probability_theory):20">
 <semantics>
  <mrow>
   <msub>
    <mi>X</mi>
    <mn>1</mn>
   </msub>
   <mo>,</mo>
   <msub>
    <mi>X</mi>
    <mn>2</mn>
   </msub>
   <mo>,</mo>
   <msub>
    <mi>X</mi>
    <mn>3</mn>
   </msub>
   <mo>,</mo>
   <mi mathvariant="normal">‚Ä¶</mi>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <list>
    <apply>
     <csymbol cd="ambiguous">subscript</csymbol>
     <ci>X</ci>
     <cn type="integer">1</cn>
    </apply>
    <apply>
     <csymbol cd="ambiguous">subscript</csymbol>
     <ci>X</ci>
     <cn type="integer">2</cn>
    </apply>
    <apply>
     <csymbol cd="ambiguous">subscript</csymbol>
     <ci>X</ci>
     <cn type="integer">3</cn>
    </apply>
    <ci>normal-‚Ä¶</ci>
   </list>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   X_{1},X_{2},X_{3},\ldots
  </annotation>
 </semantics>
</math>

 of <a href="Integrable_function" title="wikilink">integrable</a> random variables satisfying</li>
</ul>
<dl>
<dd><dl>
<dd>

<math display="inline" id="Martingale_(probability_theory):21">
 <semantics>
  <mrow>
   <mi>E</mi>
   <mrow>
    <mo stretchy="false">[</mo>
    <msub>
     <mi>X</mi>
     <mrow>
      <mi>n</mi>
      <mo>+</mo>
      <mn>1</mn>
     </mrow>
    </msub>
    <mo stretchy="false">|</mo>
    <msub>
     <mi>X</mi>
     <mn>1</mn>
    </msub>
    <mo>,</mo>
    <mi mathvariant="normal">‚Ä¶</mi>
    <mo>,</mo>
    <msub>
     <mi>X</mi>
     <mi>n</mi>
    </msub>
    <mo stretchy="false">]</mo>
   </mrow>
   <mo>‚â•</mo>
   <msub>
    <mi>X</mi>
    <mi>n</mi>
   </msub>
   <mo>.</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <cerror>
    <csymbol cd="ambiguous">fragments</csymbol>
    <csymbol cd="unknown">E</csymbol>
    <cerror>
     <csymbol cd="ambiguous">fragments</csymbol>
     <ci>normal-[</ci>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <ci>X</ci>
      <apply>
       <plus></plus>
       <ci>n</ci>
       <cn type="integer">1</cn>
      </apply>
     </apply>
     <ci>normal-|</ci>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <ci>X</ci>
      <cn type="integer">1</cn>
     </apply>
     <ci>normal-,</ci>
     <ci>normal-‚Ä¶</ci>
     <ci>normal-,</ci>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <ci>X</ci>
      <ci>n</ci>
     </apply>
     <ci>normal-]</ci>
    </cerror>
    <geq></geq>
    <apply>
     <csymbol cd="ambiguous">subscript</csymbol>
     <ci>X</ci>
     <ci>n</ci>
    </apply>
    <ci>normal-.</ci>
   </cerror>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   {}E[X_{n+1}|X_{1},\ldots,X_{n}]\geq X_{n}.
  </annotation>
 </semantics>
</math>


</dd>
</dl>
</dd>
<dd>Likewise, a continuous-time submartingale satisfies

<p>

<math display="block" id="Martingale_(probability_theory):22">
 <semantics>
  <mrow>
   <mi>E</mi>
   <mrow>
    <mo stretchy="false">[</mo>
    <msub>
     <mi>X</mi>
     <mi>t</mi>
    </msub>
    <mo stretchy="false">|</mo>
    <mrow>
     <mo stretchy="false">{</mo>
     <msub>
      <mi>X</mi>
      <mi>œÑ</mi>
     </msub>
     <mo>:</mo>
     <mi>œÑ</mi>
     <mo>‚â§</mo>
     <mi>s</mi>
     <mo stretchy="false">}</mo>
    </mrow>
    <mo stretchy="false">]</mo>
   </mrow>
   <mo>‚â•</mo>
   <msub>
    <mi>X</mi>
    <mi>s</mi>
   </msub>
   <mo>‚àÄ</mo>
   <mi>s</mi>
   <mo>‚â§</mo>
   <mi>t</mi>
   <mo>.</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <cerror>
    <csymbol cd="ambiguous">fragments</csymbol>
    <csymbol cd="unknown">E</csymbol>
    <cerror>
     <csymbol cd="ambiguous">fragments</csymbol>
     <ci>normal-[</ci>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <ci>X</ci>
      <ci>t</ci>
     </apply>
     <ci>normal-|</ci>
     <cerror>
      <csymbol cd="ambiguous">fragments</csymbol>
      <ci>normal-{</ci>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>X</ci>
       <ci>œÑ</ci>
      </apply>
      <ci>normal-:</ci>
      <csymbol cd="unknown">œÑ</csymbol>
      <leq></leq>
      <csymbol cd="unknown">s</csymbol>
      <ci>normal-}</ci>
     </cerror>
     <ci>normal-]</ci>
    </cerror>
    <geq></geq>
    <apply>
     <csymbol cd="ambiguous">subscript</csymbol>
     <ci>X</ci>
     <ci>s</ci>
    </apply>
    <ci></ci>
    <csymbol cd="latexml">for-all</csymbol>
    <csymbol cd="unknown">s</csymbol>
    <leq></leq>
    <csymbol cd="unknown">t</csymbol>
    <ci>normal-.</ci>
   </cerror>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   {}E[X_{t}|\{X_{\tau}:\tau\leq s\}]\geq X_{s}\quad\forall s\leq t.
  </annotation>
 </semantics>
</math>

</p>
</dd>
<dd>In potential theory, a <a href="subharmonic_function" title="wikilink">subharmonic function</a> <em>f</em> satisfies Œî<em>f</em>¬†‚â•¬†0. Any subharmonic function that is bounded above by a harmonic function for all points on the boundary of a ball are bounded above by the harmonic function for all points inside the ball. Similarly, if a submartingale and a martingale have equivalent expectations for a given time, the history of the submartingale tends to be bounded above by the history of the martingale. Roughly speaking, the <a class="uri" href="prefix" title="wikilink">prefix</a> "sub-" is consistent because the current observation <em>X<sub>n</sub></em> is <em>less than</em> (or equal to) the conditional expectation <em>E</em>[<em>X<sub>n</sub></em><sub>+1</sub>|<em>X</em><sub>1</sub>,...,<em>X<sub>n</sub></em>]. Consequently, the current observation provides support <em>from below</em> the future conditional expectation, and the process tends to increase in future time.
</dd>
</dl>
<ul>
<li>Analogously, a discrete-time <strong>supermartingale</strong> satisfies</li>
</ul>
<dl>
<dd><dl>
<dd>

<math display="inline" id="Martingale_(probability_theory):23">
 <semantics>
  <mrow>
   <mi>E</mi>
   <mrow>
    <mo stretchy="false">[</mo>
    <msub>
     <mi>X</mi>
     <mrow>
      <mi>n</mi>
      <mo>+</mo>
      <mn>1</mn>
     </mrow>
    </msub>
    <mo stretchy="false">|</mo>
    <msub>
     <mi>X</mi>
     <mn>1</mn>
    </msub>
    <mo>,</mo>
    <mi mathvariant="normal">‚Ä¶</mi>
    <mo>,</mo>
    <msub>
     <mi>X</mi>
     <mi>n</mi>
    </msub>
    <mo stretchy="false">]</mo>
   </mrow>
   <mo>‚â§</mo>
   <msub>
    <mi>X</mi>
    <mi>n</mi>
   </msub>
   <mo>.</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <cerror>
    <csymbol cd="ambiguous">fragments</csymbol>
    <csymbol cd="unknown">E</csymbol>
    <cerror>
     <csymbol cd="ambiguous">fragments</csymbol>
     <ci>normal-[</ci>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <ci>X</ci>
      <apply>
       <plus></plus>
       <ci>n</ci>
       <cn type="integer">1</cn>
      </apply>
     </apply>
     <ci>normal-|</ci>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <ci>X</ci>
      <cn type="integer">1</cn>
     </apply>
     <ci>normal-,</ci>
     <ci>normal-‚Ä¶</ci>
     <ci>normal-,</ci>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <ci>X</ci>
      <ci>n</ci>
     </apply>
     <ci>normal-]</ci>
    </cerror>
    <leq></leq>
    <apply>
     <csymbol cd="ambiguous">subscript</csymbol>
     <ci>X</ci>
     <ci>n</ci>
    </apply>
    <ci>normal-.</ci>
   </cerror>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   {}E[X_{n+1}|X_{1},\ldots,X_{n}]\leq X_{n}.
  </annotation>
 </semantics>
</math>


</dd>
</dl>
</dd>
<dd>Likewise, a continuous-time supermartingale satisfies

<p>

<math display="block" id="Martingale_(probability_theory):24">
 <semantics>
  <mrow>
   <mi>E</mi>
   <mrow>
    <mo stretchy="false">[</mo>
    <msub>
     <mi>X</mi>
     <mi>t</mi>
    </msub>
    <mo stretchy="false">|</mo>
    <mrow>
     <mo stretchy="false">{</mo>
     <msub>
      <mi>X</mi>
      <mi>œÑ</mi>
     </msub>
     <mo>:</mo>
     <mi>œÑ</mi>
     <mo>‚â§</mo>
     <mi>s</mi>
     <mo stretchy="false">}</mo>
    </mrow>
    <mo stretchy="false">]</mo>
   </mrow>
   <mo>‚â§</mo>
   <msub>
    <mi>X</mi>
    <mi>s</mi>
   </msub>
   <mo>‚àÄ</mo>
   <mi>s</mi>
   <mo>‚â§</mo>
   <mi>t</mi>
   <mo>.</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <cerror>
    <csymbol cd="ambiguous">fragments</csymbol>
    <csymbol cd="unknown">E</csymbol>
    <cerror>
     <csymbol cd="ambiguous">fragments</csymbol>
     <ci>normal-[</ci>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <ci>X</ci>
      <ci>t</ci>
     </apply>
     <ci>normal-|</ci>
     <cerror>
      <csymbol cd="ambiguous">fragments</csymbol>
      <ci>normal-{</ci>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>X</ci>
       <ci>œÑ</ci>
      </apply>
      <ci>normal-:</ci>
      <csymbol cd="unknown">œÑ</csymbol>
      <leq></leq>
      <csymbol cd="unknown">s</csymbol>
      <ci>normal-}</ci>
     </cerror>
     <ci>normal-]</ci>
    </cerror>
    <leq></leq>
    <apply>
     <csymbol cd="ambiguous">subscript</csymbol>
     <ci>X</ci>
     <ci>s</ci>
    </apply>
    <ci></ci>
    <csymbol cd="latexml">for-all</csymbol>
    <csymbol cd="unknown">s</csymbol>
    <leq></leq>
    <csymbol cd="unknown">t</csymbol>
    <ci>normal-.</ci>
   </cerror>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   {}E[X_{t}|\{X_{\tau}:\tau\leq s\}]\leq X_{s}\quad\forall s\leq t.
  </annotation>
 </semantics>
</math>

</p>
</dd>
<dd>In potential theory, a <a href="superharmonic_function" title="wikilink">superharmonic function</a> <em>f</em> satisfies Œî<em>f</em>¬†‚â§¬†0. Any superharmonic function that is bounded below by a harmonic function for all points on the boundary of a ball are bounded below by the harmonic function for all points inside the ball. Similarly, if a supermartingale and a martingale have equivalent expectations for a given time, the history of the supermartingale tends to be bounded below by the history of the martingale. Roughly speaking, the prefix "super-" is consistent because the current observation <em>X<sub>n</sub></em> is <em>greater than</em> (or equal to) the conditional expectation <em>E</em>[<em>X<sub>n</sub></em><sub>+1</sub>|<em>X</em><sub>1</sub>,...,<em>X<sub>n</sub></em>]. Consequently, the current observation provides support <em>from above</em> the future conditional expectation, and the process tends to decrease in future time.
</dd>
</dl>
<h3 id="examples-of-submartingales-and-supermartingales">Examples of submartingales and supermartingales</h3>
<ul>
<li>Every martingale is also a submartingale and a supermartingale. Conversely, any stochastic process that is <em>both</em> a submartingale and a supermartingale is a martingale.</li>
<li>Consider again the gambler who wins $1 when a coin comes up heads and loses $1 when the coin comes up tails. Suppose now that the coin may be biased, so that it comes up heads with probability <em>p</em>.
<ul>
<li>If <em>p</em> is equal to 1/2, the gambler on average neither wins nor loses money, and the gambler's fortune over time is a martingale.</li>
<li>If <em>p</em> is less than 1/2, the gambler loses money on average, and the gambler's fortune over time is a supermartingale.</li>
<li>If <em>p</em> is greater than 1/2, the gambler wins money on average, and the gambler's fortune over time is a submartingale.</li>
</ul></li>
<li>A <a href="convex_function" title="wikilink">convex function</a> of a martingale is a submartingale, by <a href="Jensen's_inequality" title="wikilink">Jensen's inequality</a>. For example, the square of the gambler's fortune in the fair coin game is a submartingale (which also follows from the fact that <em>X<sub>n</sub></em><sup>2</sup>¬†‚àí¬†<em>n</em> is a martingale). Similarly, a <a href="concave_function" title="wikilink">concave function</a> of a martingale is a supermartingale.</li>
</ul>
<h2 id="martingales-and-stopping-times">Martingales and stopping times</h2>

<p>A <a href="stopping_time" title="wikilink">stopping time</a> with respect to a sequence of random variables <em>X</em><sub>1</sub>,¬†<em>X</em><sub>2</sub>,¬†<em>X</em><sub>3</sub>,¬†... is a random variable œÑ with the property that for each <em>t</em>, the occurrence or non-occurrence of the event œÑ = <em>t</em> depends only on the values of <em>X</em><sub>1</sub>,¬†<em>X</em><sub>2</sub>,¬†<em>X</em><sub>3</sub>,¬†...,¬†<em>X</em><sub>t</sub>. The intuition behind the definition is that at any particular time <em>t</em>, you can look at the sequence so far and tell if it is time to stop. An example in real life might be the time at which a gambler leaves the gambling table, which might be a function of his previous winnings (for example, he might leave only when he goes broke), but he can't choose to go or stay based on the outcome of games that haven't been played yet.</p>

<p>In some contexts the concept of <em>stopping time</em> is defined by requiring only that the occurrence or non-occurrence of the event œÑ¬†=¬†<em>t</em> be <a href="statistical_independence" title="wikilink">probabilistically independent</a> of <em>X</em><sub>t¬†+¬†1</sub>,¬†<em>X</em><sub>t¬†+¬†2</sub>,¬†... but not that it be completely determined by the history of the process up to time <em>t</em>. That is a weaker condition than the one appearing in the paragraph above, but is strong enough to serve in some of the proofs in which stopping times are used.</p>

<p>One of the basic properties of martingales is that, if 

<math display="inline" id="Martingale_(probability_theory):25">
 <semantics>
  <msub>
   <mrow>
    <mo stretchy="false">(</mo>
    <msub>
     <mi>X</mi>
     <mi>t</mi>
    </msub>
    <mo stretchy="false">)</mo>
   </mrow>
   <mrow>
    <mi>t</mi>
    <mo>></mo>
    <mn>0</mn>
   </mrow>
  </msub>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <csymbol cd="ambiguous">subscript</csymbol>
    <apply>
     <csymbol cd="ambiguous">subscript</csymbol>
     <ci>X</ci>
     <ci>t</ci>
    </apply>
    <apply>
     <gt></gt>
     <ci>t</ci>
     <cn type="integer">0</cn>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   (X_{t})_{t>0}
  </annotation>
 </semantics>
</math>

 is a (sub-/super-) martingale and 

<math display="inline" id="Martingale_(probability_theory):26">
 <semantics>
  <mi>œÑ</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>œÑ</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \tau
  </annotation>
 </semantics>
</math>

 is a stopping time, then the corresponding stopped process 

<math display="inline" id="Martingale_(probability_theory):27">
 <semantics>
  <msub>
   <mrow>
    <mo stretchy="false">(</mo>
    <msubsup>
     <mi>X</mi>
     <mi>t</mi>
     <mi>œÑ</mi>
    </msubsup>
    <mo stretchy="false">)</mo>
   </mrow>
   <mrow>
    <mi>t</mi>
    <mo>></mo>
    <mn>0</mn>
   </mrow>
  </msub>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <csymbol cd="ambiguous">subscript</csymbol>
    <apply>
     <csymbol cd="ambiguous">superscript</csymbol>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <ci>X</ci>
      <ci>t</ci>
     </apply>
     <ci>œÑ</ci>
    </apply>
    <apply>
     <gt></gt>
     <ci>t</ci>
     <cn type="integer">0</cn>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   (X_{t}^{\tau})_{t>0}
  </annotation>
 </semantics>
</math>

 defined by 

<math display="inline" id="Martingale_(probability_theory):28">
 <semantics>
  <mrow>
   <msubsup>
    <mi>X</mi>
    <mi>t</mi>
    <mi>œÑ</mi>
   </msubsup>
   <mo>:=</mo>
   <msub>
    <mi>X</mi>
    <mrow>
     <mi>min</mi>
     <mrow>
      <mo stretchy="false">{</mo>
      <mi>œÑ</mi>
      <mo>,</mo>
      <mi>t</mi>
      <mo stretchy="false">}</mo>
     </mrow>
    </mrow>
   </msub>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <csymbol cd="latexml">assign</csymbol>
    <apply>
     <csymbol cd="ambiguous">superscript</csymbol>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <ci>X</ci>
      <ci>t</ci>
     </apply>
     <ci>œÑ</ci>
    </apply>
    <apply>
     <csymbol cd="ambiguous">subscript</csymbol>
     <ci>X</ci>
     <apply>
      <min></min>
      <ci>œÑ</ci>
      <ci>t</ci>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   X_{t}^{\tau}:=X_{\min\{\tau,t\}}
  </annotation>
 </semantics>
</math>

 is also a (sub-/super-) martingale.</p>

<p>The concept of a stopped martingale leads to a series of important theorems, including, for example, the <a href="optional_stopping_theorem" title="wikilink">optional stopping theorem</a> which states that, under certain conditions, the expected value of a martingale at a stopping time is equal to its initial value.</p>
<h2 id="see-also">See also</h2>
<ul>
<li><a href="Azuma's_inequality" title="wikilink">Azuma's inequality</a></li>
<li><a href="Brownian_motion" title="wikilink">Brownian motion</a></li>
<li><a href="Martingale_central_limit_theorem" title="wikilink">Martingale central limit theorem</a></li>
<li><a href="Martingale_representation_theorem" title="wikilink">Martingale representation theorem</a></li>
<li><a href="Doob_martingale" title="wikilink">Doob martingale</a></li>
<li><a href="Doob's_martingale_convergence_theorems" title="wikilink">Doob's martingale convergence theorems</a></li>
<li><a href="Local_martingale" title="wikilink">Local martingale</a></li>
<li><a class="uri" href="Semimartingale" title="wikilink">Semimartingale</a></li>
<li><a href="Martingale_difference_sequence" title="wikilink">Martingale difference sequence</a></li>
<li><a href="Markov_chain" title="wikilink">Markov chain</a></li>
<li><a href="Martingale_(betting_system)" title="wikilink">Martingale (betting system)</a></li>
</ul>
<h2 id="notes">Notes</h2>
<h2 id="references">References</h2>
<ul>
<li></li>
<li>

<p>Entire issue dedicated to Martingale probability theory.</p></li>
<li></li>
<li></li>
<li></li>
<li></li>
</ul>

<p>"</p>

<p><a href="Category:Stochastic_processes" title="wikilink">Category:Stochastic processes</a> <a href="Category:Martingale_theory" title="wikilink">Category:Martingale theory</a> <a href="Category:Game_theory" title="wikilink">Category:Game theory</a></p>
<section class="footnotes">
<hr/>
<ol>
<li id="fn1"><a href="#fnref1">‚Ü©</a></li>
<li id="fn2"><a href="#fnref2">‚Ü©</a></li>
<li id="fn3"><a href="#fnref3">‚Ü©</a></li>
</ol>
</section>
</body>
</html>
