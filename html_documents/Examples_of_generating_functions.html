<html lang="en">
<head>
<meta charset="utf-8"/>
<title offset="984">Examples of generating functions</title>
<script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_SVG.js" type="text/javascript">
</script>
</head>
<body>
<h1>Examples of generating functions</h1>
<hr/>

<p>The following examples are in the spirit of <a href="George_Pólya" title="wikilink">George Pólya</a>, who advocated learning mathematics by doing and re-capitulating as many examples and proofs as possible. The purpose of this article is to present common tricks of the trade in context, so that people may incorporate them into their knowledge.</p>
<h2 id="worked-example-a-basics">Worked example A: basics</h2>

<p>New <a href="generating_function" title="wikilink">generating functions</a> can be created by extending simpler generating functions. For <a href="Worked-example_effect" title="wikilink">example</a>, starting with</p>

<p>

<math display="block" id="Examples_of_generating_functions:0">
 <semantics>
  <mrow>
   <mrow>
    <mi>G</mi>
    <mrow>
     <mo stretchy="false">(</mo>
     <mn>1</mn>
     <mo>;</mo>
     <mi>x</mi>
     <mo stretchy="false">)</mo>
    </mrow>
   </mrow>
   <mo>=</mo>
   <mrow>
    <munderover>
     <mo largeop="true" movablelimits="false" symmetric="true">∑</mo>
     <mrow>
      <mi>n</mi>
      <mo>=</mo>
      <mn>0</mn>
     </mrow>
     <mi mathvariant="normal">∞</mi>
    </munderover>
    <msup>
     <mi>x</mi>
     <mi>n</mi>
    </msup>
   </mrow>
   <mo>=</mo>
   <mfrac>
    <mn>1</mn>
    <mrow>
     <mn>1</mn>
     <mo>-</mo>
     <mi>x</mi>
    </mrow>
   </mfrac>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <and></and>
    <apply>
     <eq></eq>
     <apply>
      <times></times>
      <ci>G</ci>
      <list>
       <cn type="integer">1</cn>
       <ci>x</ci>
      </list>
     </apply>
     <apply>
      <apply>
       <csymbol cd="ambiguous">superscript</csymbol>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <sum></sum>
        <apply>
         <eq></eq>
         <ci>n</ci>
         <cn type="integer">0</cn>
        </apply>
       </apply>
       <infinity></infinity>
      </apply>
      <apply>
       <csymbol cd="ambiguous">superscript</csymbol>
       <ci>x</ci>
       <ci>n</ci>
      </apply>
     </apply>
    </apply>
    <apply>
     <eq></eq>
     <share href="#.cmml">
     </share>
     <apply>
      <divide></divide>
      <cn type="integer">1</cn>
      <apply>
       <minus></minus>
       <cn type="integer">1</cn>
       <ci>x</ci>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   G(1;x)=\sum_{n=0}^{\infty}x^{n}=\frac{1}{1-x}
  </annotation>
 </semantics>
</math>

</p>

<p>and replacing 

<math display="inline" id="Examples_of_generating_functions:1">
 <semantics>
  <mi>x</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>x</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   x
  </annotation>
 </semantics>
</math>

 with 

<math display="inline" id="Examples_of_generating_functions:2">
 <semantics>
  <mrow>
   <mi>a</mi>
   <mi>x</mi>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <times></times>
    <ci>a</ci>
    <ci>x</ci>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   ax
  </annotation>
 </semantics>
</math>

, we obtain</p>

<p>

<math display="block" id="Examples_of_generating_functions:3">
 <semantics>
  <mrow>
   <mrow>
    <mrow>
     <mi>G</mi>
     <mrow>
      <mo stretchy="false">(</mo>
      <mn>1</mn>
      <mo>;</mo>
      <mrow>
       <mi>a</mi>
       <mi>x</mi>
      </mrow>
      <mo stretchy="false">)</mo>
     </mrow>
    </mrow>
    <mo>=</mo>
    <mfrac>
     <mn>1</mn>
     <mrow>
      <mn>1</mn>
      <mo>-</mo>
      <mrow>
       <mi>a</mi>
       <mi>x</mi>
      </mrow>
     </mrow>
    </mfrac>
    <mo>=</mo>
    <mrow>
     <mn>1</mn>
     <mo>+</mo>
     <mrow>
      <mo stretchy="false">(</mo>
      <mrow>
       <mi>a</mi>
       <mi>x</mi>
      </mrow>
      <mo stretchy="false">)</mo>
     </mrow>
     <mo>+</mo>
     <msup>
      <mrow>
       <mo stretchy="false">(</mo>
       <mrow>
        <mi>a</mi>
        <mi>x</mi>
       </mrow>
       <mo stretchy="false">)</mo>
      </mrow>
      <mn>2</mn>
     </msup>
     <mo>+</mo>
     <mi mathvariant="normal">⋯</mi>
     <mo>+</mo>
     <msup>
      <mrow>
       <mo stretchy="false">(</mo>
       <mrow>
        <mi>a</mi>
        <mi>x</mi>
       </mrow>
       <mo stretchy="false">)</mo>
      </mrow>
      <mi>n</mi>
     </msup>
     <mo>+</mo>
     <mi mathvariant="normal">⋯</mi>
    </mrow>
    <mo>=</mo>
    <mrow>
     <munderover>
      <mo largeop="true" movablelimits="false" symmetric="true">∑</mo>
      <mrow>
       <mi>n</mi>
       <mo>=</mo>
       <mn>0</mn>
      </mrow>
      <mi mathvariant="normal">∞</mi>
     </munderover>
     <mrow>
      <msup>
       <mi>a</mi>
       <mi>n</mi>
      </msup>
      <msup>
       <mi>x</mi>
       <mi>n</mi>
      </msup>
     </mrow>
    </mrow>
    <mo>=</mo>
    <mrow>
     <mi>G</mi>
     <mrow>
      <mo stretchy="false">(</mo>
      <msup>
       <mi>a</mi>
       <mi>n</mi>
      </msup>
      <mo>;</mo>
      <mi>x</mi>
      <mo stretchy="false">)</mo>
     </mrow>
    </mrow>
   </mrow>
   <mo>.</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <and></and>
    <apply>
     <eq></eq>
     <apply>
      <times></times>
      <ci>G</ci>
      <list>
       <cn type="integer">1</cn>
       <apply>
        <times></times>
        <ci>a</ci>
        <ci>x</ci>
       </apply>
      </list>
     </apply>
     <apply>
      <divide></divide>
      <cn type="integer">1</cn>
      <apply>
       <minus></minus>
       <cn type="integer">1</cn>
       <apply>
        <times></times>
        <ci>a</ci>
        <ci>x</ci>
       </apply>
      </apply>
     </apply>
    </apply>
    <apply>
     <eq></eq>
     <share href="#.cmml">
     </share>
     <apply>
      <plus></plus>
      <cn type="integer">1</cn>
      <apply>
       <times></times>
       <ci>a</ci>
       <ci>x</ci>
      </apply>
      <apply>
       <csymbol cd="ambiguous">superscript</csymbol>
       <apply>
        <times></times>
        <ci>a</ci>
        <ci>x</ci>
       </apply>
       <cn type="integer">2</cn>
      </apply>
      <ci>normal-⋯</ci>
      <apply>
       <csymbol cd="ambiguous">superscript</csymbol>
       <apply>
        <times></times>
        <ci>a</ci>
        <ci>x</ci>
       </apply>
       <ci>n</ci>
      </apply>
      <ci>normal-⋯</ci>
     </apply>
    </apply>
    <apply>
     <eq></eq>
     <share href="#.cmml">
     </share>
     <apply>
      <apply>
       <csymbol cd="ambiguous">superscript</csymbol>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <sum></sum>
        <apply>
         <eq></eq>
         <ci>n</ci>
         <cn type="integer">0</cn>
        </apply>
       </apply>
       <infinity></infinity>
      </apply>
      <apply>
       <times></times>
       <apply>
        <csymbol cd="ambiguous">superscript</csymbol>
        <ci>a</ci>
        <ci>n</ci>
       </apply>
       <apply>
        <csymbol cd="ambiguous">superscript</csymbol>
        <ci>x</ci>
        <ci>n</ci>
       </apply>
      </apply>
     </apply>
    </apply>
    <apply>
     <eq></eq>
     <share href="#.cmml">
     </share>
     <apply>
      <times></times>
      <ci>G</ci>
      <list>
       <apply>
        <csymbol cd="ambiguous">superscript</csymbol>
        <ci>a</ci>
        <ci>n</ci>
       </apply>
       <ci>x</ci>
      </list>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   G(1;ax)=\frac{1}{1-ax}=1+(ax)+(ax)^{2}+\cdots+(ax)^{n}+\cdots=\sum_{n=0}^{%
\infty}a^{n}x^{n}=G(a^{n};x).
  </annotation>
 </semantics>
</math>

</p>
<h3 id="bivariate-generating-functions">Bivariate generating functions</h3>

<p>One can define generating functions in several variables, for series with several indices. These are often called <strong>super generating functions,</strong> and for 2 variables are often called <strong>bivariate generating functions.</strong></p>

<p>For instance, since 

<math display="inline" id="Examples_of_generating_functions:4">
 <semantics>
  <msup>
   <mrow>
    <mo stretchy="false">(</mo>
    <mrow>
     <mn>1</mn>
     <mo>+</mo>
     <mi>x</mi>
    </mrow>
    <mo stretchy="false">)</mo>
   </mrow>
   <mi>n</mi>
  </msup>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <csymbol cd="ambiguous">superscript</csymbol>
    <apply>
     <plus></plus>
     <cn type="integer">1</cn>
     <ci>x</ci>
    </apply>
    <ci>n</ci>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   (1+x)^{n}
  </annotation>
 </semantics>
</math>

 is the generating function for <a href="binomial_coefficients" title="wikilink">binomial coefficients</a> for a fixed <em>n,</em> one may ask for a bivariate generating function that generates the binomial coefficients 

<math display="inline" id="Examples_of_generating_functions:5">
 <semantics>
  <mrow>
   <mo>(</mo>
   <mstyle scriptlevel="+1">
    <mtable columnspacing="0.4em" rowspacing="0.2ex">
     <mtr>
      <mtd>
       <mi>n</mi>
      </mtd>
     </mtr>
     <mtr>
      <mtd>
       <mi>k</mi>
      </mtd>
     </mtr>
    </mtable>
   </mstyle>
   <mo>)</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <csymbol cd="latexml">binomial</csymbol>
    <ci>n</ci>
    <ci>k</ci>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   {\left({{n}\atop{k}}\right)}
  </annotation>
 </semantics>
</math>

 for all <em>k</em> and <em>n.</em> To do this, consider 

<math display="inline" id="Examples_of_generating_functions:6">
 <semantics>
  <msup>
   <mrow>
    <mo stretchy="false">(</mo>
    <mrow>
     <mn>1</mn>
     <mo>+</mo>
     <mi>x</mi>
    </mrow>
    <mo stretchy="false">)</mo>
   </mrow>
   <mi>n</mi>
  </msup>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <csymbol cd="ambiguous">superscript</csymbol>
    <apply>
     <plus></plus>
     <cn type="integer">1</cn>
     <ci>x</ci>
    </apply>
    <ci>n</ci>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   (1+x)^{n}
  </annotation>
 </semantics>
</math>

 as <em>itself</em> a series (in <em>n</em>), and find the generating function in <em>y</em> that has these as coefficients. Since the generating function for 

<math display="inline" id="Examples_of_generating_functions:7">
 <semantics>
  <msup>
   <mi>a</mi>
   <mi>n</mi>
  </msup>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <csymbol cd="ambiguous">superscript</csymbol>
    <ci>a</ci>
    <ci>n</ci>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   a^{n}
  </annotation>
 </semantics>
</math>

 is just 

<math display="inline" id="Examples_of_generating_functions:8">
 <semantics>
  <mrow>
   <mn>1</mn>
   <mo>/</mo>
   <mrow>
    <mo stretchy="false">(</mo>
    <mrow>
     <mn>1</mn>
     <mo>-</mo>
     <mrow>
      <mi>a</mi>
      <mi>y</mi>
     </mrow>
    </mrow>
    <mo stretchy="false">)</mo>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <divide></divide>
    <cn type="integer">1</cn>
    <apply>
     <minus></minus>
     <cn type="integer">1</cn>
     <apply>
      <times></times>
      <ci>a</ci>
      <ci>y</ci>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   1/(1-ay)
  </annotation>
 </semantics>
</math>

, the generating function for the binomial coefficients is:</p>

<p>

<math display="block" id="Examples_of_generating_functions:9">
 <semantics>
  <mrow>
   <mrow>
    <mfrac>
     <mn>1</mn>
     <mrow>
      <mn>1</mn>
      <mo>-</mo>
      <mrow>
       <mrow>
        <mo stretchy="false">(</mo>
        <mrow>
         <mn>1</mn>
         <mo>+</mo>
         <mi>x</mi>
        </mrow>
        <mo stretchy="false">)</mo>
       </mrow>
       <mi>y</mi>
      </mrow>
     </mrow>
    </mfrac>
    <mo>=</mo>
    <mrow>
     <mn>1</mn>
     <mo>+</mo>
     <mrow>
      <mrow>
       <mo stretchy="false">(</mo>
       <mrow>
        <mn>1</mn>
        <mo>+</mo>
        <mi>x</mi>
       </mrow>
       <mo stretchy="false">)</mo>
      </mrow>
      <mi>y</mi>
     </mrow>
     <mo>+</mo>
     <mrow>
      <msup>
       <mrow>
        <mo stretchy="false">(</mo>
        <mrow>
         <mn>1</mn>
         <mo>+</mo>
         <mi>x</mi>
        </mrow>
        <mo stretchy="false">)</mo>
       </mrow>
       <mn>2</mn>
      </msup>
      <msup>
       <mi>y</mi>
       <mn>2</mn>
      </msup>
     </mrow>
     <mo>+</mo>
     <mi mathvariant="normal">…</mi>
    </mrow>
   </mrow>
   <mo>,</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <divide></divide>
     <cn type="integer">1</cn>
     <apply>
      <minus></minus>
      <cn type="integer">1</cn>
      <apply>
       <times></times>
       <apply>
        <plus></plus>
        <cn type="integer">1</cn>
        <ci>x</ci>
       </apply>
       <ci>y</ci>
      </apply>
     </apply>
    </apply>
    <apply>
     <plus></plus>
     <cn type="integer">1</cn>
     <apply>
      <times></times>
      <apply>
       <plus></plus>
       <cn type="integer">1</cn>
       <ci>x</ci>
      </apply>
      <ci>y</ci>
     </apply>
     <apply>
      <times></times>
      <apply>
       <csymbol cd="ambiguous">superscript</csymbol>
       <apply>
        <plus></plus>
        <cn type="integer">1</cn>
        <ci>x</ci>
       </apply>
       <cn type="integer">2</cn>
      </apply>
      <apply>
       <csymbol cd="ambiguous">superscript</csymbol>
       <ci>y</ci>
       <cn type="integer">2</cn>
      </apply>
     </apply>
     <ci>normal-…</ci>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \frac{1}{1-(1+x)y}=1+(1+x)y+(1+x)^{2}y^{2}+\dots,
  </annotation>
 </semantics>
</math>

 and the coefficient on 

<math display="inline" id="Examples_of_generating_functions:10">
 <semantics>
  <mrow>
   <msup>
    <mi>x</mi>
    <mi>k</mi>
   </msup>
   <msup>
    <mi>y</mi>
    <mi>n</mi>
   </msup>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <times></times>
    <apply>
     <csymbol cd="ambiguous">superscript</csymbol>
     <ci>x</ci>
     <ci>k</ci>
    </apply>
    <apply>
     <csymbol cd="ambiguous">superscript</csymbol>
     <ci>y</ci>
     <ci>n</ci>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   x^{k}y^{n}
  </annotation>
 </semantics>
</math>

 is the 

<math display="inline" id="Examples_of_generating_functions:11">
 <semantics>
  <mrow>
   <mo>(</mo>
   <mstyle scriptlevel="+1">
    <mtable columnspacing="0.4em" rowspacing="0.2ex">
     <mtr>
      <mtd>
       <mi>n</mi>
      </mtd>
     </mtr>
     <mtr>
      <mtd>
       <mi>k</mi>
      </mtd>
     </mtr>
    </mtable>
   </mstyle>
   <mo>)</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <csymbol cd="latexml">binomial</csymbol>
    <ci>n</ci>
    <ci>k</ci>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   {\left({{n}\atop{k}}\right)}
  </annotation>
 </semantics>
</math>

 binomial coefficient.</p>
<h2 id="worked-example-b-fibonacci-numbers">Worked example B: Fibonacci numbers</h2>

<p>Consider the problem of finding a <a href="Closed-form_expression" title="wikilink">closed formula</a> for the <a href="Fibonacci_number" title="wikilink">Fibonacci numbers</a> <em>F</em><sub><em>n</em></sub> defined by <em>F</em><sub>0</sub> = 0, <em>F</em><sub>1</sub> = 1, and <em>F</em><sub><em>n</em></sub> = <em>F</em><sub><em>n</em>−1</sub> + <em>F</em><sub><em>n</em>−2</sub> for <em>n</em> ≥ 2. We form the ordinary generating function</p>

<p>

<math display="block" id="Examples_of_generating_functions:12">
 <semantics>
  <mrow>
   <mi>f</mi>
   <mo>=</mo>
   <mrow>
    <munder>
     <mo largeop="true" movablelimits="false" symmetric="true">∑</mo>
     <mrow>
      <mi>n</mi>
      <mo>≥</mo>
      <mn>0</mn>
     </mrow>
    </munder>
    <mrow>
     <msub>
      <mi>F</mi>
      <mi>n</mi>
     </msub>
     <msup>
      <mi>x</mi>
      <mi>n</mi>
     </msup>
    </mrow>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <ci>f</ci>
    <apply>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <sum></sum>
      <apply>
       <geq></geq>
       <ci>n</ci>
       <cn type="integer">0</cn>
      </apply>
     </apply>
     <apply>
      <times></times>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>F</ci>
       <ci>n</ci>
      </apply>
      <apply>
       <csymbol cd="ambiguous">superscript</csymbol>
       <ci>x</ci>
       <ci>n</ci>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   f=\sum_{n\geq 0}F_{n}x^{n}
  </annotation>
 </semantics>
</math>

</p>

<p>for this sequence. The generating function for the sequence (<em>F</em><sub><em>n</em>−1</sub>) is <em>xf</em> and that of (<em>F</em><sub><em>n</em>−2</sub>) is <em>x</em><sup>2</sup><em>f</em>. From the recurrence relation, we therefore see that the power series <em>xf</em> + <em>x</em><sup>2</sup><em>f</em> agrees with <em>f</em> except for the first two coefficients:</p>

<p>

<math display="block" id="Examples_of_generating_functions:13">
 <semantics>
  <mtable displaystyle="true">
   <mtr>
    <mtd columnalign="right">
     <mi>f</mi>
    </mtd>
    <mtd columnalign="center">
     <mo>=</mo>
    </mtd>
    <mtd columnalign="right">
     <mrow>
      <msub>
       <mi>F</mi>
       <mn>0</mn>
      </msub>
      <msup>
       <mi>x</mi>
       <mn>0</mn>
      </msup>
     </mrow>
    </mtd>
    <mtd columnalign="center">
     <mo>+</mo>
    </mtd>
    <mtd columnalign="right">
     <mrow>
      <msub>
       <mi>F</mi>
       <mn>1</mn>
      </msub>
      <msup>
       <mi>x</mi>
       <mn>1</mn>
      </msup>
     </mrow>
    </mtd>
    <mtd columnalign="center">
     <mo>+</mo>
    </mtd>
    <mtd columnalign="right">
     <mrow>
      <msub>
       <mi>F</mi>
       <mn>2</mn>
      </msub>
      <msup>
       <mi>x</mi>
       <mn>2</mn>
      </msup>
     </mrow>
    </mtd>
    <mtd columnalign="center">
     <mo>+</mo>
    </mtd>
    <mtd columnalign="right">
     <mi mathvariant="normal">⋯</mi>
    </mtd>
    <mtd columnalign="center">
     <mo>+</mo>
    </mtd>
    <mtd columnalign="right">
     <mrow>
      <msub>
       <mi>F</mi>
       <mi>i</mi>
      </msub>
      <msup>
       <mi>x</mi>
       <mi>i</mi>
      </msup>
     </mrow>
    </mtd>
    <mtd columnalign="center">
     <mo>+</mo>
    </mtd>
    <mtd columnalign="right">
     <mi mathvariant="normal">⋯</mi>
    </mtd>
   </mtr>
   <mtr>
    <mtd columnalign="right">
     <mrow>
      <mi>x</mi>
      <mi>f</mi>
     </mrow>
    </mtd>
    <mtd columnalign="center">
     <mo>=</mo>
    </mtd>
    <mtd></mtd>
    <mtd></mtd>
    <mtd columnalign="right">
     <mrow>
      <msub>
       <mi>F</mi>
       <mn>0</mn>
      </msub>
      <msup>
       <mi>x</mi>
       <mn>1</mn>
      </msup>
     </mrow>
    </mtd>
    <mtd columnalign="center">
     <mo>+</mo>
    </mtd>
    <mtd columnalign="right">
     <mrow>
      <msub>
       <mi>F</mi>
       <mn>1</mn>
      </msub>
      <msup>
       <mi>x</mi>
       <mn>2</mn>
      </msup>
     </mrow>
    </mtd>
    <mtd columnalign="center">
     <mo>+</mo>
    </mtd>
    <mtd columnalign="right">
     <mi mathvariant="normal">⋯</mi>
    </mtd>
    <mtd columnalign="center">
     <mo>+</mo>
    </mtd>
    <mtd columnalign="right">
     <mrow>
      <mi>F</mi>
      <msub>
       <mo>;</mo>
       <mrow>
        <mi>i</mi>
        <mo>-</mo>
        <mn>1</mn>
       </mrow>
      </msub>
      <msup>
       <mi>x</mi>
       <mi>i</mi>
      </msup>
     </mrow>
    </mtd>
    <mtd columnalign="center">
     <mo>+</mo>
    </mtd>
    <mtd columnalign="right">
     <mi mathvariant="normal">⋯</mi>
    </mtd>
   </mtr>
   <mtr>
    <mtd columnalign="right">
     <mrow>
      <msup>
       <mi>x</mi>
       <mn>2</mn>
      </msup>
      <mi>f</mi>
     </mrow>
    </mtd>
    <mtd columnalign="center">
     <mo>=</mo>
    </mtd>
    <mtd></mtd>
    <mtd></mtd>
    <mtd></mtd>
    <mtd></mtd>
    <mtd columnalign="right">
     <mrow>
      <msub>
       <mi>F</mi>
       <mn>0</mn>
      </msub>
      <msup>
       <mi>x</mi>
       <mn>2</mn>
      </msup>
     </mrow>
    </mtd>
    <mtd columnalign="center">
     <mo>+</mo>
    </mtd>
    <mtd columnalign="right">
     <mi mathvariant="normal">⋯</mi>
    </mtd>
    <mtd columnalign="center">
     <mo>+</mo>
    </mtd>
    <mtd columnalign="right">
     <mrow>
      <mi>F</mi>
      <msub>
       <mo>;</mo>
       <mrow>
        <mi>i</mi>
        <mo>-</mo>
        <mn>2</mn>
       </mrow>
      </msub>
      <msup>
       <mi>x</mi>
       <mi>i</mi>
      </msup>
     </mrow>
    </mtd>
    <mtd columnalign="center">
     <mo>+</mo>
    </mtd>
    <mtd columnalign="right">
     <mi mathvariant="normal">⋯</mi>
    </mtd>
   </mtr>
   <mtr>
    <mtd columnalign="right">
     <mrow>
      <mrow>
       <mo stretchy="false">(</mo>
       <mrow>
        <mi>x</mi>
        <mo>+</mo>
        <msup>
         <mi>x</mi>
         <mn>2</mn>
        </msup>
       </mrow>
       <mo stretchy="false">)</mo>
      </mrow>
      <mi>f</mi>
     </mrow>
    </mtd>
    <mtd columnalign="center">
     <mo>=</mo>
    </mtd>
    <mtd></mtd>
    <mtd></mtd>
    <mtd columnalign="right">
     <mrow>
      <msub>
       <mi>F</mi>
       <mn>0</mn>
      </msub>
      <msup>
       <mi>x</mi>
       <mn>1</mn>
      </msup>
     </mrow>
    </mtd>
    <mtd columnalign="center">
     <mo>+</mo>
    </mtd>
    <mtd columnalign="right">
     <mrow>
      <mrow>
       <mo stretchy="false">(</mo>
       <mrow>
        <msub>
         <mi>F</mi>
         <mn>0</mn>
        </msub>
        <mo>+</mo>
        <msub>
         <mi>F</mi>
         <mn>1</mn>
        </msub>
       </mrow>
       <mo stretchy="false">)</mo>
      </mrow>
      <msup>
       <mi>x</mi>
       <mn>2</mn>
      </msup>
     </mrow>
    </mtd>
    <mtd columnalign="center">
     <mo>+</mo>
    </mtd>
    <mtd columnalign="right">
     <mi mathvariant="normal">⋯</mi>
    </mtd>
    <mtd columnalign="center">
     <mo>+</mo>
    </mtd>
    <mtd columnalign="right">
     <mrow>
      <mrow>
       <mo stretchy="false">(</mo>
       <mrow>
        <msub>
         <mi>F</mi>
         <mrow>
          <mi>i</mi>
          <mo>-</mo>
          <mn>1</mn>
         </mrow>
        </msub>
        <mo>+</mo>
        <msub>
         <mi>F</mi>
         <mrow>
          <mi>i</mi>
          <mo>-</mo>
          <mn>2</mn>
         </mrow>
        </msub>
       </mrow>
       <mo stretchy="false">)</mo>
      </mrow>
      <msup>
       <mi>x</mi>
       <mi>i</mi>
      </msup>
     </mrow>
    </mtd>
    <mtd columnalign="center">
     <mo>+</mo>
    </mtd>
    <mtd columnalign="right">
     <mi mathvariant="normal">⋯</mi>
    </mtd>
   </mtr>
   <mtr>
    <mtd></mtd>
    <mtd columnalign="center">
     <mo>=</mo>
    </mtd>
    <mtd></mtd>
    <mtd></mtd>
    <mtd></mtd>
    <mtd></mtd>
    <mtd columnalign="right">
     <mrow>
      <msub>
       <mi>F</mi>
       <mn>2</mn>
      </msub>
      <msup>
       <mi>x</mi>
       <mn>2</mn>
      </msup>
     </mrow>
    </mtd>
    <mtd columnalign="center">
     <mo>+</mo>
    </mtd>
    <mtd columnalign="right">
     <mi mathvariant="normal">⋯</mi>
    </mtd>
    <mtd columnalign="center">
     <mo>+</mo>
    </mtd>
    <mtd columnalign="right">
     <mrow>
      <msub>
       <mi>F</mi>
       <mi>i</mi>
      </msub>
      <msup>
       <mi>x</mi>
       <mi>i</mi>
      </msup>
     </mrow>
    </mtd>
    <mtd columnalign="center">
     <mo>+</mo>
    </mtd>
    <mtd columnalign="right">
     <mi mathvariant="normal">⋯</mi>
    </mtd>
   </mtr>
  </mtable>
  <annotation-xml encoding="MathML-Content">
   <matrix>
    <matrixrow>
     <ci>f</ci>
     <eq></eq>
     <apply>
      <times></times>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>F</ci>
       <cn type="integer">0</cn>
      </apply>
      <apply>
       <csymbol cd="ambiguous">superscript</csymbol>
       <ci>x</ci>
       <cn type="integer">0</cn>
      </apply>
     </apply>
     <plus></plus>
     <apply>
      <times></times>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>F</ci>
       <cn type="integer">1</cn>
      </apply>
      <apply>
       <csymbol cd="ambiguous">superscript</csymbol>
       <ci>x</ci>
       <cn type="integer">1</cn>
      </apply>
     </apply>
     <plus></plus>
     <apply>
      <times></times>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>F</ci>
       <cn type="integer">2</cn>
      </apply>
      <apply>
       <csymbol cd="ambiguous">superscript</csymbol>
       <ci>x</ci>
       <cn type="integer">2</cn>
      </apply>
     </apply>
     <plus></plus>
     <ci>normal-⋯</ci>
     <plus></plus>
     <apply>
      <times></times>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>F</ci>
       <ci>i</ci>
      </apply>
      <apply>
       <csymbol cd="ambiguous">superscript</csymbol>
       <ci>x</ci>
       <ci>i</ci>
      </apply>
     </apply>
     <plus></plus>
     <ci>normal-⋯</ci>
    </matrixrow>
    <matrixrow>
     <apply>
      <times></times>
      <ci>x</ci>
      <ci>f</ci>
     </apply>
     <eq></eq>
     <cerror>
      <csymbol cd="ambiguous">missing-subexpression</csymbol>
     </cerror>
     <cerror>
      <csymbol cd="ambiguous">missing-subexpression</csymbol>
     </cerror>
     <apply>
      <times></times>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>F</ci>
       <cn type="integer">0</cn>
      </apply>
      <apply>
       <csymbol cd="ambiguous">superscript</csymbol>
       <ci>x</ci>
       <cn type="integer">1</cn>
      </apply>
     </apply>
     <plus></plus>
     <apply>
      <times></times>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>F</ci>
       <cn type="integer">1</cn>
      </apply>
      <apply>
       <csymbol cd="ambiguous">superscript</csymbol>
       <ci>x</ci>
       <cn type="integer">2</cn>
      </apply>
     </apply>
     <plus></plus>
     <ci>normal-⋯</ci>
     <plus></plus>
     <cerror>
      <csymbol cd="ambiguous">fragments</csymbol>
      <csymbol cd="unknown">F</csymbol>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>normal-;</ci>
       <apply>
        <minus></minus>
        <ci>i</ci>
        <cn type="integer">1</cn>
       </apply>
      </apply>
      <apply>
       <csymbol cd="ambiguous">superscript</csymbol>
       <ci>x</ci>
       <ci>i</ci>
      </apply>
     </cerror>
     <plus></plus>
     <ci>normal-⋯</ci>
    </matrixrow>
    <matrixrow>
     <apply>
      <times></times>
      <apply>
       <csymbol cd="ambiguous">superscript</csymbol>
       <ci>x</ci>
       <cn type="integer">2</cn>
      </apply>
      <ci>f</ci>
     </apply>
     <eq></eq>
     <cerror>
      <csymbol cd="ambiguous">missing-subexpression</csymbol>
     </cerror>
     <cerror>
      <csymbol cd="ambiguous">missing-subexpression</csymbol>
     </cerror>
     <cerror>
      <csymbol cd="ambiguous">missing-subexpression</csymbol>
     </cerror>
     <cerror>
      <csymbol cd="ambiguous">missing-subexpression</csymbol>
     </cerror>
     <apply>
      <times></times>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>F</ci>
       <cn type="integer">0</cn>
      </apply>
      <apply>
       <csymbol cd="ambiguous">superscript</csymbol>
       <ci>x</ci>
       <cn type="integer">2</cn>
      </apply>
     </apply>
     <plus></plus>
     <ci>normal-⋯</ci>
     <plus></plus>
     <cerror>
      <csymbol cd="ambiguous">fragments</csymbol>
      <csymbol cd="unknown">F</csymbol>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>normal-;</ci>
       <apply>
        <minus></minus>
        <ci>i</ci>
        <cn type="integer">2</cn>
       </apply>
      </apply>
      <apply>
       <csymbol cd="ambiguous">superscript</csymbol>
       <ci>x</ci>
       <ci>i</ci>
      </apply>
     </cerror>
     <plus></plus>
     <ci>normal-⋯</ci>
    </matrixrow>
    <matrixrow>
     <apply>
      <times></times>
      <apply>
       <plus></plus>
       <ci>x</ci>
       <apply>
        <csymbol cd="ambiguous">superscript</csymbol>
        <ci>x</ci>
        <cn type="integer">2</cn>
       </apply>
      </apply>
      <ci>f</ci>
     </apply>
     <eq></eq>
     <cerror>
      <csymbol cd="ambiguous">missing-subexpression</csymbol>
     </cerror>
     <cerror>
      <csymbol cd="ambiguous">missing-subexpression</csymbol>
     </cerror>
     <apply>
      <times></times>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>F</ci>
       <cn type="integer">0</cn>
      </apply>
      <apply>
       <csymbol cd="ambiguous">superscript</csymbol>
       <ci>x</ci>
       <cn type="integer">1</cn>
      </apply>
     </apply>
     <plus></plus>
     <apply>
      <times></times>
      <apply>
       <plus></plus>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>F</ci>
        <cn type="integer">0</cn>
       </apply>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>F</ci>
        <cn type="integer">1</cn>
       </apply>
      </apply>
      <apply>
       <csymbol cd="ambiguous">superscript</csymbol>
       <ci>x</ci>
       <cn type="integer">2</cn>
      </apply>
     </apply>
     <plus></plus>
     <ci>normal-⋯</ci>
     <plus></plus>
     <apply>
      <times></times>
      <apply>
       <plus></plus>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>F</ci>
        <apply>
         <minus></minus>
         <ci>i</ci>
         <cn type="integer">1</cn>
        </apply>
       </apply>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>F</ci>
        <apply>
         <minus></minus>
         <ci>i</ci>
         <cn type="integer">2</cn>
        </apply>
       </apply>
      </apply>
      <apply>
       <csymbol cd="ambiguous">superscript</csymbol>
       <ci>x</ci>
       <ci>i</ci>
      </apply>
     </apply>
     <plus></plus>
     <ci>normal-⋯</ci>
    </matrixrow>
    <matrixrow>
     <cerror>
      <csymbol cd="ambiguous">missing-subexpression</csymbol>
     </cerror>
     <eq></eq>
     <cerror>
      <csymbol cd="ambiguous">missing-subexpression</csymbol>
     </cerror>
     <cerror>
      <csymbol cd="ambiguous">missing-subexpression</csymbol>
     </cerror>
     <cerror>
      <csymbol cd="ambiguous">missing-subexpression</csymbol>
     </cerror>
     <cerror>
      <csymbol cd="ambiguous">missing-subexpression</csymbol>
     </cerror>
     <apply>
      <times></times>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>F</ci>
       <cn type="integer">2</cn>
      </apply>
      <apply>
       <csymbol cd="ambiguous">superscript</csymbol>
       <ci>x</ci>
       <cn type="integer">2</cn>
      </apply>
     </apply>
     <plus></plus>
     <ci>normal-⋯</ci>
     <plus></plus>
     <apply>
      <times></times>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>F</ci>
       <ci>i</ci>
      </apply>
      <apply>
       <csymbol cd="ambiguous">superscript</csymbol>
       <ci>x</ci>
       <ci>i</ci>
      </apply>
     </apply>
     <plus></plus>
     <ci>normal-⋯</ci>
    </matrixrow>
   </matrix>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \begin{array}[]{rcrcrcrcrcrcr}f&=&F_{0}x^{0}&+&F_{1}x^{1}&+&F_{2}x^{2}&+&%
\cdots&+&F_{i}x^{i}&+&\cdots\\
xf&=&&&F_{0}x^{1}&+&F_{1}x^{2}&+&\cdots&+&F;_{i-1}x^{i}&+&\cdots\\
x^{2}f&=&&&&&F_{0}x^{2}&+&\cdots&+&F;_{i-2}x^{i}&+&\cdots\\
(x+x^{2})f&=&&&F_{0}x^{1}&+&(F_{0}+F_{1})x^{2}&+&\cdots&+&(F_{i-1}+F_{i-2})x^{%
i}&+&\cdots\\
&=&&&&&F_{2}x^{2}&+&\cdots&+&F_{i}x^{i}&+&\cdots\\
\end{array}
  </annotation>
 </semantics>
</math>

</p>

<p>Taking these into account, we find that</p>

<p>

<math display="block" id="Examples_of_generating_functions:14">
 <semantics>
  <mrow>
   <mrow>
    <mi>f</mi>
    <mo>=</mo>
    <mrow>
     <mrow>
      <mi>x</mi>
      <mi>f</mi>
     </mrow>
     <mo>+</mo>
     <mrow>
      <msup>
       <mi>x</mi>
       <mn>2</mn>
      </msup>
      <mi>f</mi>
     </mrow>
     <mo>+</mo>
     <mi>x</mi>
    </mrow>
   </mrow>
   <mo>.</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <ci>f</ci>
    <apply>
     <plus></plus>
     <apply>
      <times></times>
      <ci>x</ci>
      <ci>f</ci>
     </apply>
     <apply>
      <times></times>
      <apply>
       <csymbol cd="ambiguous">superscript</csymbol>
       <ci>x</ci>
       <cn type="integer">2</cn>
      </apply>
      <ci>f</ci>
     </apply>
     <ci>x</ci>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   f=xf+x^{2}f+x.\,\!
  </annotation>
 </semantics>
</math>

</p>

<p>(This is the crucial step; recurrence relations can almost always be translated into equations for the generating functions.) Solving this equation for <em>f</em>, we get</p>

<p>

<math display="block" id="Examples_of_generating_functions:15">
 <semantics>
  <mrow>
   <mrow>
    <mi>f</mi>
    <mo>=</mo>
    <mfrac>
     <mi>x</mi>
     <mrow>
      <mn>1</mn>
      <mo>-</mo>
      <mi>x</mi>
      <mo>-</mo>
      <msup>
       <mi>x</mi>
       <mn>2</mn>
      </msup>
     </mrow>
    </mfrac>
   </mrow>
   <mo>.</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <ci>f</ci>
    <apply>
     <divide></divide>
     <ci>x</ci>
     <apply>
      <minus></minus>
      <cn type="integer">1</cn>
      <ci>x</ci>
      <apply>
       <csymbol cd="ambiguous">superscript</csymbol>
       <ci>x</ci>
       <cn type="integer">2</cn>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   f=\frac{x}{1-x-x^{2}}.
  </annotation>
 </semantics>
</math>

</p>

<p>The denominator can be factored using the <a href="golden_ratio" title="wikilink">golden ratio</a> φ<sub>1</sub> = (1 + √5)/2 and φ<sub>2</sub> = (1 − √5)/2, and the technique of <a href="partial_fraction_decomposition" title="wikilink">partial fraction decomposition</a> yields</p>

<p>

<math display="block" id="Examples_of_generating_functions:16">
 <semantics>
  <mrow>
   <mrow>
    <mi>f</mi>
    <mo>=</mo>
    <mrow>
     <mfrac>
      <mn>1</mn>
      <msqrt>
       <mn>5</mn>
      </msqrt>
     </mfrac>
     <mrow>
      <mo>(</mo>
      <mrow>
       <mfrac>
        <mn>1</mn>
        <mrow>
         <mn>1</mn>
         <mo>-</mo>
         <mrow>
          <msub>
           <mi>φ</mi>
           <mn>1</mn>
          </msub>
          <mi>x</mi>
         </mrow>
        </mrow>
       </mfrac>
       <mo>-</mo>
       <mfrac>
        <mn>1</mn>
        <mrow>
         <mn>1</mn>
         <mo>-</mo>
         <mrow>
          <msub>
           <mi>φ</mi>
           <mn>2</mn>
          </msub>
          <mi>x</mi>
         </mrow>
        </mrow>
       </mfrac>
      </mrow>
      <mo>)</mo>
     </mrow>
    </mrow>
   </mrow>
   <mo>.</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <ci>f</ci>
    <apply>
     <times></times>
     <apply>
      <divide></divide>
      <cn type="integer">1</cn>
      <apply>
       <root></root>
       <cn type="integer">5</cn>
      </apply>
     </apply>
     <apply>
      <minus></minus>
      <apply>
       <divide></divide>
       <cn type="integer">1</cn>
       <apply>
        <minus></minus>
        <cn type="integer">1</cn>
        <apply>
         <times></times>
         <apply>
          <csymbol cd="ambiguous">subscript</csymbol>
          <ci>φ</ci>
          <cn type="integer">1</cn>
         </apply>
         <ci>x</ci>
        </apply>
       </apply>
      </apply>
      <apply>
       <divide></divide>
       <cn type="integer">1</cn>
       <apply>
        <minus></minus>
        <cn type="integer">1</cn>
        <apply>
         <times></times>
         <apply>
          <csymbol cd="ambiguous">subscript</csymbol>
          <ci>φ</ci>
          <cn type="integer">2</cn>
         </apply>
         <ci>x</ci>
        </apply>
       </apply>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   f=\frac{1}{\sqrt{5}}\left(\frac{1}{1-\varphi_{1}x}-\frac{1}{1-\varphi_{2}x}%
\right).
  </annotation>
 </semantics>
</math>

</p>

<p>These two formal power series are known explicitly because they are <a href="geometric_series" title="wikilink">geometric series</a>; comparing coefficients, we find the explicit formula</p>

<p>

<math display="block" id="Examples_of_generating_functions:17">
 <semantics>
  <mrow>
   <mrow>
    <msub>
     <mi>F</mi>
     <mi>n</mi>
    </msub>
    <mo>=</mo>
    <mrow>
     <mfrac>
      <mn>1</mn>
      <msqrt>
       <mn>5</mn>
      </msqrt>
     </mfrac>
     <mrow>
      <mo stretchy="false">(</mo>
      <mrow>
       <msubsup>
        <mi>φ</mi>
        <mn>1</mn>
        <mi>n</mi>
       </msubsup>
       <mo>-</mo>
       <msubsup>
        <mi>φ</mi>
        <mn>2</mn>
        <mi>n</mi>
       </msubsup>
      </mrow>
      <mo stretchy="false">)</mo>
     </mrow>
    </mrow>
   </mrow>
   <mo>.</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <csymbol cd="ambiguous">subscript</csymbol>
     <ci>F</ci>
     <ci>n</ci>
    </apply>
    <apply>
     <times></times>
     <apply>
      <divide></divide>
      <cn type="integer">1</cn>
      <apply>
       <root></root>
       <cn type="integer">5</cn>
      </apply>
     </apply>
     <apply>
      <minus></minus>
      <apply>
       <csymbol cd="ambiguous">superscript</csymbol>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>φ</ci>
        <cn type="integer">1</cn>
       </apply>
       <ci>n</ci>
      </apply>
      <apply>
       <csymbol cd="ambiguous">superscript</csymbol>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>φ</ci>
        <cn type="integer">2</cn>
       </apply>
       <ci>n</ci>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   F_{n}=\frac{1}{\sqrt{5}}(\varphi_{1}^{n}-\varphi_{2}^{n}).
  </annotation>
 </semantics>
</math>

</p>
<h2 id="external-links">External links</h2>
<ul>
<li><a href="http://www.cut-the-knot.org/ctk/GeneratingFunctions.shtml">Generating Functions, Power Indices and Coin Change</a> at <a class="uri" href="cut-the-knot" title="wikilink">cut-the-knot</a></li>
<li><a href="http://www.math.upenn.edu/~wilf/gfologyLinked2.pdf">Generatingfunctionology (PDF)</a></li>
</ul>

<p>"</p>

<p><a href="Category:Generating_functions" title="wikilink">Category:Generating functions</a> <a href="Category:Mathematical_examples" title="wikilink">Generating functions</a></p>
</body>
</html>
