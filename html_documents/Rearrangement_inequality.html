<html lang="en">
<head>
<meta charset="utf-8"/>
<title offset="1139">Rearrangement inequality</title>
<script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_SVG.js" type="text/javascript">
</script>
</head>
<body>
<h1>Rearrangement inequality</h1>
<hr/>

<p>In <a class="uri" href="mathematics" title="wikilink">mathematics</a>, the <strong>rearrangement inequality</strong><a class="footnoteRef" href="#fn1" id="fnref1"><sup>1</sup></a> states that</p>

<p>

<math display="block" id="Rearrangement_inequality:0">
 <semantics>
  <mrow>
   <mrow>
    <mrow>
     <msub>
      <mi>x</mi>
      <mi>n</mi>
     </msub>
     <msub>
      <mi>y</mi>
      <mn>1</mn>
     </msub>
    </mrow>
    <mo>+</mo>
    <mi mathvariant="normal">⋯</mi>
    <mo>+</mo>
    <mrow>
     <msub>
      <mi>x</mi>
      <mn>1</mn>
     </msub>
     <msub>
      <mi>y</mi>
      <mi>n</mi>
     </msub>
    </mrow>
   </mrow>
   <mo>≤</mo>
   <mrow>
    <mrow>
     <msub>
      <mi>x</mi>
      <mrow>
       <mi>σ</mi>
       <mrow>
        <mo stretchy="false">(</mo>
        <mn>1</mn>
        <mo stretchy="false">)</mo>
       </mrow>
      </mrow>
     </msub>
     <msub>
      <mi>y</mi>
      <mn>1</mn>
     </msub>
    </mrow>
    <mo>+</mo>
    <mi mathvariant="normal">⋯</mi>
    <mo>+</mo>
    <mrow>
     <msub>
      <mi>x</mi>
      <mrow>
       <mi>σ</mi>
       <mrow>
        <mo stretchy="false">(</mo>
        <mi>n</mi>
        <mo stretchy="false">)</mo>
       </mrow>
      </mrow>
     </msub>
     <msub>
      <mi>y</mi>
      <mi>n</mi>
     </msub>
    </mrow>
   </mrow>
   <mo>≤</mo>
   <mrow>
    <mrow>
     <msub>
      <mi>x</mi>
      <mn>1</mn>
     </msub>
     <msub>
      <mi>y</mi>
      <mn>1</mn>
     </msub>
    </mrow>
    <mo>+</mo>
    <mi mathvariant="normal">⋯</mi>
    <mo>+</mo>
    <mrow>
     <msub>
      <mi>x</mi>
      <mi>n</mi>
     </msub>
     <msub>
      <mi>y</mi>
      <mi>n</mi>
     </msub>
    </mrow>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <and></and>
    <apply>
     <leq></leq>
     <apply>
      <plus></plus>
      <apply>
       <times></times>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>x</ci>
        <ci>n</ci>
       </apply>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>y</ci>
        <cn type="integer">1</cn>
       </apply>
      </apply>
      <ci>normal-⋯</ci>
      <apply>
       <times></times>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>x</ci>
        <cn type="integer">1</cn>
       </apply>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>y</ci>
        <ci>n</ci>
       </apply>
      </apply>
     </apply>
     <apply>
      <plus></plus>
      <apply>
       <times></times>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>x</ci>
        <apply>
         <times></times>
         <ci>σ</ci>
         <cn type="integer">1</cn>
        </apply>
       </apply>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>y</ci>
        <cn type="integer">1</cn>
       </apply>
      </apply>
      <ci>normal-⋯</ci>
      <apply>
       <times></times>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>x</ci>
        <apply>
         <times></times>
         <ci>σ</ci>
         <ci>n</ci>
        </apply>
       </apply>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>y</ci>
        <ci>n</ci>
       </apply>
      </apply>
     </apply>
    </apply>
    <apply>
     <leq></leq>
     <share href="#.cmml">
     </share>
     <apply>
      <plus></plus>
      <apply>
       <times></times>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>x</ci>
        <cn type="integer">1</cn>
       </apply>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>y</ci>
        <cn type="integer">1</cn>
       </apply>
      </apply>
      <ci>normal-⋯</ci>
      <apply>
       <times></times>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>x</ci>
        <ci>n</ci>
       </apply>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>y</ci>
        <ci>n</ci>
       </apply>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   x_{n}y_{1}+\cdots+x_{1}y_{n}\leq x_{\sigma(1)}y_{1}+\cdots+x_{\sigma(n)}y_{n}%
\leq x_{1}y_{1}+\cdots+x_{n}y_{n}
  </annotation>
 </semantics>
</math>

</p>

<p>for every choice of <a href="real_number" title="wikilink">real numbers</a></p>

<p>

<math display="block" id="Rearrangement_inequality:1">
 <semantics>
  <mrow>
   <mrow>
    <msub>
     <mi>x</mi>
     <mn>1</mn>
    </msub>
    <mo>≤</mo>
    <mi mathvariant="normal">⋯</mi>
    <mo>≤</mo>
    <msub>
     <mi>x</mi>
     <mi>n</mi>
    </msub>
   </mrow>
   <mrow>
    <mrow>
     <mtext>and</mtext>
     <msub>
      <mi>y</mi>
      <mn>1</mn>
     </msub>
    </mrow>
    <mo>≤</mo>
    <mi mathvariant="normal">⋯</mi>
    <mo>≤</mo>
    <msub>
     <mi>y</mi>
     <mi>n</mi>
    </msub>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <csymbol cd="ambiguous">formulae-sequence</csymbol>
    <apply>
     <and></and>
     <apply>
      <leq></leq>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>x</ci>
       <cn type="integer">1</cn>
      </apply>
      <ci>normal-⋯</ci>
     </apply>
     <apply>
      <leq></leq>
      <share href="#.cmml">
      </share>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>x</ci>
       <ci>n</ci>
      </apply>
     </apply>
    </apply>
    <apply>
     <and></and>
     <apply>
      <leq></leq>
      <list>
       <mtext>and</mtext>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>y</ci>
        <cn type="integer">1</cn>
       </apply>
      </list>
      <ci>normal-⋯</ci>
     </apply>
     <apply>
      <leq></leq>
      <share href="#.cmml">
      </share>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>y</ci>
       <ci>n</ci>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   x_{1}\leq\cdots\leq x_{n}\quad\text{and}\quad y_{1}\leq\cdots\leq y_{n}
  </annotation>
 </semantics>
</math>

</p>

<p>and every <a class="uri" href="permutation" title="wikilink">permutation</a></p>

<p>

<math display="block" id="Rearrangement_inequality:2">
 <semantics>
  <mrow>
   <msub>
    <mi>x</mi>
    <mrow>
     <mi>σ</mi>
     <mrow>
      <mo stretchy="false">(</mo>
      <mn>1</mn>
      <mo stretchy="false">)</mo>
     </mrow>
    </mrow>
   </msub>
   <mo>,</mo>
   <mi mathvariant="normal">…</mi>
   <mo>,</mo>
   <mpadded width="+1.7pt">
    <msub>
     <mi>x</mi>
     <mrow>
      <mi>σ</mi>
      <mrow>
       <mo stretchy="false">(</mo>
       <mi>n</mi>
       <mo stretchy="false">)</mo>
      </mrow>
     </mrow>
    </msub>
   </mpadded>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <list>
    <apply>
     <csymbol cd="ambiguous">subscript</csymbol>
     <ci>x</ci>
     <apply>
      <times></times>
      <ci>σ</ci>
      <cn type="integer">1</cn>
     </apply>
    </apply>
    <ci>normal-…</ci>
    <apply>
     <csymbol cd="ambiguous">subscript</csymbol>
     <ci>x</ci>
     <apply>
      <times></times>
      <ci>σ</ci>
      <ci>n</ci>
     </apply>
    </apply>
   </list>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   x_{\sigma(1)},\dots,x_{\sigma(n)}\,
  </annotation>
 </semantics>
</math>

</p>

<p>of <em>x</em><sub>1</sub>, . . ., <em>x<sub>n</sub></em>. If the numbers are different, meaning that</p>

<p>

<math display="block" id="Rearrangement_inequality:3">
 <semantics>
  <mrow>
   <mrow>
    <msub>
     <mi>x</mi>
     <mrow>
      <mi>σ</mi>
      <mrow>
       <mo stretchy="false">(</mo>
       <mn>1</mn>
       <mo stretchy="false">)</mo>
      </mrow>
     </mrow>
    </msub>
    <msub>
     <mi>y</mi>
     <mn>1</mn>
    </msub>
   </mrow>
   <mo>+</mo>
   <mi mathvariant="normal">⋯</mi>
   <mo>+</mo>
   <mrow>
    <msub>
     <mi>x</mi>
     <mrow>
      <mi>σ</mi>
      <mrow>
       <mo stretchy="false">(</mo>
       <mi>n</mi>
       <mo stretchy="false">)</mo>
      </mrow>
     </mrow>
    </msub>
    <msub>
     <mi>y</mi>
     <mi>n</mi>
    </msub>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <plus></plus>
    <apply>
     <times></times>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <ci>x</ci>
      <apply>
       <times></times>
       <ci>σ</ci>
       <cn type="integer">1</cn>
      </apply>
     </apply>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <ci>y</ci>
      <cn type="integer">1</cn>
     </apply>
    </apply>
    <ci>normal-⋯</ci>
    <apply>
     <times></times>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <ci>x</ci>
      <apply>
       <times></times>
       <ci>σ</ci>
       <ci>n</ci>
      </apply>
     </apply>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <ci>y</ci>
      <ci>n</ci>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   x_{\sigma(1)}y_{1}+\cdots+x_{\sigma(n)}y_{n}
  </annotation>
 </semantics>
</math>

</p>

<p>Therefore, it suffices to prove the upper bound. Since there are only finitely many permutations, there exists at least one for which</p>

<p>

<math display="block" id="Rearrangement_inequality:4">
 <semantics>
  <mrow>
   <mrow>
    <mrow>
     <msub>
      <mi>x</mi>
      <mrow>
       <mi>σ</mi>
       <mrow>
        <mo stretchy="false">(</mo>
        <mi>j</mi>
        <mo stretchy="false">)</mo>
       </mrow>
      </mrow>
     </msub>
     <msub>
      <mi>y</mi>
      <mi>j</mi>
     </msub>
    </mrow>
    <mo>+</mo>
    <mrow>
     <msub>
      <mi>x</mi>
      <mi>j</mi>
     </msub>
     <msub>
      <mi>y</mi>
      <mi>k</mi>
     </msub>
    </mrow>
   </mrow>
   <mo>≤</mo>
   <mrow>
    <mrow>
     <mrow>
      <msub>
       <mi>x</mi>
       <mi>j</mi>
      </msub>
      <msub>
       <mi>y</mi>
       <mi>j</mi>
      </msub>
     </mrow>
     <mo>+</mo>
     <mrow>
      <msub>
       <mi>x</mi>
       <mrow>
        <mi>σ</mi>
        <mrow>
         <mo stretchy="false">(</mo>
         <mi>j</mi>
         <mo stretchy="false">)</mo>
        </mrow>
       </mrow>
      </msub>
      <mpadded width="+1.7pt">
       <msub>
        <mi>y</mi>
        <mi>k</mi>
       </msub>
      </mpadded>
     </mrow>
    </mrow>
    <mo rspace="12.5pt">,</mo>
    <mrow>
     <mo stretchy="false">(</mo>
     <mn>3</mn>
     <mo stretchy="false">)</mo>
    </mrow>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <leq></leq>
    <apply>
     <plus></plus>
     <apply>
      <times></times>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>x</ci>
       <apply>
        <times></times>
        <ci>σ</ci>
        <ci>j</ci>
       </apply>
      </apply>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>y</ci>
       <ci>j</ci>
      </apply>
     </apply>
     <apply>
      <times></times>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>x</ci>
       <ci>j</ci>
      </apply>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>y</ci>
       <ci>k</ci>
      </apply>
     </apply>
    </apply>
    <list>
     <apply>
      <plus></plus>
      <apply>
       <times></times>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>x</ci>
        <ci>j</ci>
       </apply>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>y</ci>
        <ci>j</ci>
       </apply>
      </apply>
      <apply>
       <times></times>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>x</ci>
        <apply>
         <times></times>
         <ci>σ</ci>
         <ci>j</ci>
        </apply>
       </apply>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>y</ci>
        <ci>k</ci>
       </apply>
      </apply>
     </apply>
     <cn type="integer">3</cn>
    </list>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   x_{\sigma(j)}y_{j}+x_{j}y_{k}\leq x_{j}y_{j}+x_{\sigma(j)}y_{k}\,,\quad(3)
  </annotation>
 </semantics>
</math>

</p>

<p>is maximal. In case there are several permutations with this property, let σ denote one with the highest number of <a href="fixed_point_(mathematics)" title="wikilink">fixed points</a>.</p>

<p>We will now <a href="reductio_ad_absurdum" title="wikilink">prove by contradiction</a>, that σ has to be the identity (then we are done). Assume that σ is NOT the identity. Then there exists a <em>j</em> in {1, ..., <em>n</em> − 1} such that σ(<em>j</em>) ≠ <em>j</em> and σ(<em>i</em>) = <em>i</em> for all <em>i</em> in {1, ..., <em>j</em> − 1}. Hence σ(<em>j</em>) &gt; <em>j</em> and there exists a <em>k</em> in {<em>j</em> + 1, ..., <em>n</em>} with σ(<em>k</em>) = <em>j</em>. Now</p>

<p>

<math display="block" id="Rearrangement_inequality:5">
 <semantics>
  <mrow>
   <mrow>
    <mi>τ</mi>
    <mrow>
     <mo stretchy="false">(</mo>
     <mi>i</mi>
     <mo stretchy="false">)</mo>
    </mrow>
   </mrow>
   <mo>:=</mo>
   <mrow>
    <mo>{</mo>
    <mtable displaystyle="true">
     <mtr>
      <mtd columnalign="left">
       <mi>i</mi>
      </mtd>
      <mtd columnalign="left">
       <mrow>
        <mrow>
         <mrow>
          <mtext>for</mtext>
          <mi>i</mi>
         </mrow>
         <mo>∈</mo>
         <mrow>
          <mo stretchy="false">{</mo>
          <mn>1</mn>
          <mo>,</mo>
          <mi mathvariant="normal">…</mi>
          <mo>,</mo>
          <mi>j</mi>
          <mo stretchy="false">}</mo>
         </mrow>
        </mrow>
        <mo>,</mo>
       </mrow>
      </mtd>
     </mtr>
     <mtr>
      <mtd columnalign="left">
       <mrow>
        <mi>σ</mi>
        <mrow>
         <mo stretchy="false">(</mo>
         <mi>j</mi>
         <mo stretchy="false">)</mo>
        </mrow>
       </mrow>
      </mtd>
      <mtd columnalign="left">
       <mrow>
        <mrow>
         <mrow>
          <mtext>for</mtext>
          <mi>i</mi>
         </mrow>
         <mo>=</mo>
         <mi>k</mi>
        </mrow>
        <mo>,</mo>
       </mrow>
      </mtd>
     </mtr>
     <mtr>
      <mtd columnalign="left">
       <mrow>
        <mi>σ</mi>
        <mrow>
         <mo stretchy="false">(</mo>
         <mi>i</mi>
         <mo stretchy="false">)</mo>
        </mrow>
       </mrow>
      </mtd>
      <mtd columnalign="left">
       <mrow>
        <mrow>
         <mrow>
          <mtext>for</mtext>
          <mi>i</mi>
         </mrow>
         <mo>∈</mo>
         <mrow>
          <mrow>
           <mo stretchy="false">{</mo>
           <mrow>
            <mi>j</mi>
            <mo>+</mo>
            <mn>1</mn>
           </mrow>
           <mo>,</mo>
           <mi mathvariant="normal">…</mi>
           <mo>,</mo>
           <mi>n</mi>
           <mo stretchy="false">}</mo>
          </mrow>
          <mo>∖</mo>
          <mrow>
           <mo stretchy="false">{</mo>
           <mi>k</mi>
           <mo stretchy="false">}</mo>
          </mrow>
         </mrow>
        </mrow>
        <mo>,</mo>
       </mrow>
      </mtd>
     </mtr>
    </mtable>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <csymbol cd="latexml">assign</csymbol>
    <apply>
     <times></times>
     <ci>τ</ci>
     <ci>i</ci>
    </apply>
    <apply>
     <csymbol cd="latexml">cases</csymbol>
     <ci>i</ci>
     <apply>
      <in></in>
      <apply>
       <times></times>
       <mtext>for</mtext>
       <ci>i</ci>
      </apply>
      <set>
       <cn type="integer">1</cn>
       <ci>normal-…</ci>
       <ci>j</ci>
      </set>
     </apply>
     <apply>
      <times></times>
      <ci>σ</ci>
      <ci>j</ci>
     </apply>
     <apply>
      <eq></eq>
      <apply>
       <times></times>
       <mtext>for</mtext>
       <ci>i</ci>
      </apply>
      <ci>k</ci>
     </apply>
     <apply>
      <times></times>
      <ci>σ</ci>
      <ci>i</ci>
     </apply>
     <apply>
      <in></in>
      <apply>
       <times></times>
       <mtext>for</mtext>
       <ci>i</ci>
      </apply>
      <apply>
       <setdiff></setdiff>
       <set>
        <apply>
         <plus></plus>
         <ci>j</ci>
         <cn type="integer">1</cn>
        </apply>
        <ci>normal-…</ci>
        <ci>n</ci>
       </set>
       <set>
        <ci>k</ci>
       </set>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \tau(i):=\begin{cases}i&\text{for }i\in\{1,\ldots,j\},\\
\sigma(j)&\text{for }i=k,\\
\sigma(i)&\text{for }i\in\{j+1,\ldots,n\}\setminus\{k\},\end{cases}
  </annotation>
 </semantics>
</math>

</p>

<p>Expanding this product and rearranging gives</p>

<p><span class="LaTeX">$$x_{\sigma(j)}y_j+x_jy_k\le x_jy_j+x_{\sigma(j)}y_k\,, \quad(3)$$</span></p>

<p>hence the permutation</p>

<p><span class="LaTeX">$$\tau(i):=\begin{cases}i&amp;\text{for }i\in\{1,\ldots,j\},\\
\sigma(j)&amp;\text{for }i=k,\\
\sigma(i)&amp;\text{for }i\in\{j+1,\ldots,n\}\setminus\{k\},\end{cases}$$</span></p>

<p>which arises from σ by exchanging the values σ(<em>j</em>) and σ(<em>k</em>), has at least one additional fixed point compared to σ, namely at <em>j</em>, and also attains the maximum. This contradicts the choice of σ.</p>

<p>If</p>

<p><span class="LaTeX">$$x_1&lt;\cdots<x_n\quad\text{and}\quad math="" y_1<\cdots<y_n,<="">

then we have strict inequalities at (1), (2), and (3), hence the maximum can only be attained by the identity, any other permutation σ cannot be optimal.

==See also==
* [[Hardy–Littlewood inequality]]
* [[Chebyshev's sum inequality]]

==References==

<references></references>

[[Category:Inequalities]]
[[Category:Articles containing proofs]]"</x_n\quad\text{and}\quad>$$</span></p>
<section class="footnotes">
<hr/>
<ol>
<li id="fn1">, Section 10.2, Theorem 368<a href="#fnref1">↩</a></li>
</ol>
</section>
</body>
</html>
