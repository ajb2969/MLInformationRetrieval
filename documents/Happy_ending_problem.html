<html lang="en">
<head>
<meta charset="utf-8"/>
<title offset="910">Happy ending problem</title>
<script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_SVG.js" type="text/javascript">
</script>
</head>
<body>
<h1>Happy ending problem</h1>
<hr/>

<p> The "<strong>happy ending problem</strong>" (so named by <a href="Paul_Erdős" title="wikilink">Paul Erdős</a> because it led to the marriage of <a href="George_Szekeres" title="wikilink">George Szekeres</a> and <a href="Esther_Szekeres" title="wikilink">Esther Klein</a><a class="footnoteRef" href="#fn1" id="fnref1"><sup>1</sup></a>) is the following statement:</p>
<dl>
<dd><strong>Theorem</strong>: any set of five points in the plane in <a href="general_position" title="wikilink">general position</a><a class="footnoteRef" href="#fn2" id="fnref2"><sup>2</sup></a> has a subset of four points that form the vertices of a <a href="convex_polygon" title="wikilink">convex</a> <a class="uri" href="quadrilateral" title="wikilink">quadrilateral</a>.
</dd>
</dl>

<p>This was one of the original results that led to the development of <a href="Ramsey_theory" title="wikilink">Ramsey theory</a>.</p>

<p>The happy ending theorem can be proven by a simple case analysis: if four or more points are vertices of the <a href="convex_hull" title="wikilink">convex hull</a>, any four such points can be chosen. If on the other hand, the point set has the form of a triangle with two points inside it, the two inner points and one of the triangle sides can be chosen. See  for an illustrated explanation of this proof, and  for a more detailed survey of the problem.</p>

<p>The <strong>Erdős–Szekeres conjecture</strong> states precisely a more general relationship between the number of points in a general-position point set and its largest convex polygon. It remains unproven, but less precise bounds are known.</p>
<h2 id="larger-polygons">Larger polygons</h2>

<p>  proved the following generalisation:</p>
<dl>
<dd><strong>Theorem</strong>: for any positive <a class="uri" href="integer" title="wikilink">integer</a> <em>N</em>, any sufficiently large finite set of points in the plane in general position has a subset of <em>N</em> points that form the vertices of a convex polygon.
</dd>
</dl>

<p>The proof appeared in the same paper that proves the <a href="Erdős–Szekeres_theorem" title="wikilink">Erdős–Szekeres theorem</a> on monotonic subsequences in sequences of numbers.</p>

<p>Let <em>f</em>(<em>N</em>) denote the minimum <em>M</em> for which any set of <em>M</em> points in general position must contain a convex <em>N</em>-gon. It is known that</p>
<ul>
<li><em>f</em>(3) = 3, trivially.</li>
<li><em>f</em>(4) = 5.<a class="footnoteRef" href="#fn3" id="fnref3"><sup>3</sup></a></li>
<li><em>f</em>(5) = 9.<a class="footnoteRef" href="#fn4" id="fnref4"><sup>4</sup></a> A set of eight points with no convex pentagon is shown in the illustration, demonstrating that <em>f</em>(5) &gt; 8; the more difficult part of the proof is to show that every set of nine points in general position contains the vertices of a convex pentagon.</li>
<li><em>f</em>(6) = 17.<a class="footnoteRef" href="#fn5" id="fnref5"><sup>5</sup></a></li>
<li>The value of <em>f</em>(<em>N</em>) is unknown for all <em>N</em> &gt; 6; by the result of  it is known to be finite.</li>
</ul>

<p>On the basis of the known values of <em>f</em>(<em>N</em>) for <em>N</em> = 3, 4 and 5, Erdős and Szekeres conjectured in their original paper that</p>

<p>

<math display="block" id="Happy_ending_problem:0">
 <semantics>
  <mrow>
   <mrow>
    <mrow>
     <mi>f</mi>
     <mrow>
      <mo stretchy="false">(</mo>
      <mi>N</mi>
      <mo stretchy="false">)</mo>
     </mrow>
    </mrow>
    <mo>=</mo>
    <mrow>
     <mn>1</mn>
     <mo>+</mo>
     <msup>
      <mn>2</mn>
      <mrow>
       <mi>N</mi>
       <mo>-</mo>
       <mn>2</mn>
      </mrow>
     </msup>
    </mrow>
   </mrow>
   <mrow>
    <mrow>
     <mtext>for all</mtext>
     <mi>N</mi>
    </mrow>
    <mo>≥</mo>
    <mn>3.</mn>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <csymbol cd="ambiguous">formulae-sequence</csymbol>
    <apply>
     <eq></eq>
     <apply>
      <times></times>
      <ci>f</ci>
      <ci>N</ci>
     </apply>
     <apply>
      <plus></plus>
      <cn type="integer">1</cn>
      <apply>
       <csymbol cd="ambiguous">superscript</csymbol>
       <cn type="integer">2</cn>
       <apply>
        <minus></minus>
        <ci>N</ci>
        <cn type="integer">2</cn>
       </apply>
      </apply>
     </apply>
    </apply>
    <apply>
     <geq></geq>
     <apply>
      <times></times>
      <mtext>for all</mtext>
      <ci>N</ci>
     </apply>
     <cn type="float">3.</cn>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   f(N)=1+2^{N-2}\quad\mbox{for all }N\geq 3.
  </annotation>
 </semantics>
</math>

 They proved later, by constructing explicit examples, that</p>

<p>

<math display="block" id="Happy_ending_problem:1">
 <semantics>
  <mrow>
   <mrow>
    <mrow>
     <mi>f</mi>
     <mrow>
      <mo stretchy="false">(</mo>
      <mi>N</mi>
      <mo stretchy="false">)</mo>
     </mrow>
    </mrow>
    <mo>≥</mo>
    <mrow>
     <mn>1</mn>
     <mo>+</mo>
     <msup>
      <mn>2</mn>
      <mrow>
       <mi>N</mi>
       <mo>-</mo>
       <mn>2</mn>
      </mrow>
     </msup>
    </mrow>
   </mrow>
   <mo>,</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <geq></geq>
    <apply>
     <times></times>
     <ci>f</ci>
     <ci>N</ci>
    </apply>
    <apply>
     <plus></plus>
     <cn type="integer">1</cn>
     <apply>
      <csymbol cd="ambiguous">superscript</csymbol>
      <cn type="integer">2</cn>
      <apply>
       <minus></minus>
       <ci>N</ci>
       <cn type="integer">2</cn>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   f(N)\geq 1+2^{N-2},
  </annotation>
 </semantics>
</math>

<a class="footnoteRef" href="#fn6" id="fnref6"><sup>6</sup></a> but the best known upper bound when <em>N</em> ≥ 7 is</p>

<p>

<math display="block" id="Happy_ending_problem:2">
 <semantics>
  <mrow>
   <mrow>
    <mrow>
     <mi>f</mi>
     <mrow>
      <mo stretchy="false">(</mo>
      <mi>N</mi>
      <mo stretchy="false">)</mo>
     </mrow>
    </mrow>
    <mo>≤</mo>
    <mrow>
     <mrow>
      <mo>(</mo>
      <mtable columnspacing="0.4em" rowspacing="0.2ex">
       <mtr>
        <mtd>
         <mrow>
          <mrow>
           <mn>2</mn>
           <mi>N</mi>
          </mrow>
          <mo>-</mo>
          <mn>5</mn>
         </mrow>
        </mtd>
       </mtr>
       <mtr>
        <mtd>
         <mrow>
          <mi>N</mi>
          <mo>-</mo>
          <mn>2</mn>
         </mrow>
        </mtd>
       </mtr>
      </mtable>
      <mo>)</mo>
     </mrow>
     <mo>+</mo>
     <mn>1</mn>
    </mrow>
    <mo>=</mo>
    <mrow>
     <mi>O</mi>
     <mrow>
      <mo>(</mo>
      <mfrac>
       <msup>
        <mn>4</mn>
        <mi>N</mi>
       </msup>
       <msqrt>
        <mi>N</mi>
       </msqrt>
      </mfrac>
      <mo>)</mo>
     </mrow>
    </mrow>
   </mrow>
   <mo>.</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <and></and>
    <apply>
     <leq></leq>
     <apply>
      <times></times>
      <ci>f</ci>
      <ci>N</ci>
     </apply>
     <apply>
      <plus></plus>
      <apply>
       <csymbol cd="latexml">binomial</csymbol>
       <apply>
        <minus></minus>
        <apply>
         <times></times>
         <cn type="integer">2</cn>
         <ci>N</ci>
        </apply>
        <cn type="integer">5</cn>
       </apply>
       <apply>
        <minus></minus>
        <ci>N</ci>
        <cn type="integer">2</cn>
       </apply>
      </apply>
      <cn type="integer">1</cn>
     </apply>
    </apply>
    <apply>
     <eq></eq>
     <share href="#.cmml">
     </share>
     <apply>
      <times></times>
      <ci>O</ci>
      <apply>
       <divide></divide>
       <apply>
        <csymbol cd="ambiguous">superscript</csymbol>
        <cn type="integer">4</cn>
        <ci>N</ci>
       </apply>
       <apply>
        <root></root>
        <ci>N</ci>
       </apply>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   f(N)\leq{2N-5\choose N-2}+1=O\left(\frac{4^{N}}{\sqrt{N}}\right).
  </annotation>
 </semantics>
</math>

<a class="footnoteRef" href="#fn7" id="fnref7"><sup>7</sup></a></p>
<h2 id="empty-convex-polygons">Empty convex polygons</h2>

<p>There is also the question of whether any sufficiently large set of points in general position has an "empty" convex quadrilateral, <a class="uri" href="pentagon" title="wikilink">pentagon</a>, etc., that is, one that contains no other input point. The original solution to the happy ending problem can be adapted to show that any five points in general position have an empty convex quadrilateral, as shown in the illustration, and any ten points in general position have an empty convex pentagon.<a class="footnoteRef" href="#fn8" id="fnref8"><sup>8</sup></a> However, there exist arbitrarily large sets of points in general position that contain no empty convex <a class="uri" href="heptagon" title="wikilink">heptagon</a>.<a class="footnoteRef" href="#fn9" id="fnref9"><sup>9</sup></a></p>

<p>For a long time the question of the existence of empty <a href="hexagon" title="wikilink">hexagons</a> remained open, but  and  proved that every sufficiently large point set in general position contains a convex empty hexagon. More specifically, Gerken showed that the number of points needed is no more than <em>f</em>(9) for the same function <em>f</em> defined above, while Nicolás showed that the number of points needed is no more than <em>f</em>(25). Valtr (2006) supplies a simplification of Gerken's proof that however requires more points, <em>f</em>(15) instead of <em>f</em>(9). At least 30 points are needed: there exists a set of 29 points in general position with no empty convex hexagon.<a class="footnoteRef" href="#fn10" id="fnref10"><sup>10</sup></a></p>
<h2 id="related-problems">Related problems</h2>

<p>The problem of finding sets of <em>n</em> points minimizing the number of convex quadrilaterals is equivalent to minimizing the <a href="Crossing_number_(graph_theory)" title="wikilink">crossing number</a> in a straight-line <a href="graph_drawing" title="wikilink">drawing</a> of a <a href="complete_graph" title="wikilink">complete graph</a>. The number of quadrilaterals must be proportional to the fourth power of <em>n</em>, but the precise constant is not known.<a class="footnoteRef" href="#fn11" id="fnref11"><sup>11</sup></a></p>

<p>It is straightforward to show that, in higher-dimensional <a href="Euclidean_space" title="wikilink">Euclidean spaces</a>, sufficiently large sets of points will have a subset of <em>k</em> points that forms the vertices of a <a href="convex_polytope" title="wikilink">convex polytope</a>, for any <em>k</em> greater than the dimension: this follows immediately from existence of convex <em>k</em>-gons in sufficiently large planar point sets, by projecting the higher-dimensional point set into an arbitrary two-dimensional subspace. However, the number of points necessary to find <em>k</em> points in <a href="convex_position" title="wikilink">convex position</a> may be smaller in higher dimensions than it is in the plane, and it is possible to find subsets that are more highly constrained. In particular, in <em>d</em> dimensions, every <em>d</em> + 3 points in general position have a subset of <em>d</em> + 2 points that form the vertices of a <a href="cyclic_polytope" title="wikilink">cyclic polytope</a>.<a class="footnoteRef" href="#fn12" id="fnref12"><sup>12</sup></a> More generally, for every <em>d</em> and <em>k</em> &gt; <em>d</em> there exists a number <em>m</em>(<em>d</em>,<em>k</em>) such that every set of <em>m</em>(<em>d</em>,<em>k</em>) points in general position has a subset of <em>k</em> points that form the vertices of a <a href="neighborly_polytope" title="wikilink">neighborly polytope</a>.<a class="footnoteRef" href="#fn13" id="fnref13"><sup>13</sup></a></p>
<h2 id="notes">Notes</h2>
<h2 id="references">References</h2>
<ul>
<li>

<p>.</p></li>
<li>

<p>.</p></li>
<li>

<p>. Reprinted in: .</p></li>
<li>

<p>.</p></li>
<li>

<p>.</p></li>
<li>

<p>.</p></li>
<li>

<p>.</p></li>
<li>

<p>.</p></li>
<li>

<p>.</p></li>
<li>

<p>.</p></li>
<li>

<p>.</p></li>
<li>

<p>.</p></li>
<li>

<p>.</p></li>
<li>

<p>.</p></li>
<li>

<p>.</p></li>
<li>

<p>.</p></li>
<li>

<p>.</p></li>
<li>

<p>.</p></li>
</ul>
<h2 id="external-links">External links</h2>
<ul>
<li><a href="http://planetmath.org/encyclopedia/HappyEndingProblem.html">Happy ending problem</a> and <a href="http://planetmath.org/encyclopedia/RamseyTheoreticProofOfTheErdHosSzekeresTheorem.html">Ramsey-theoretic proof of the Erdős-Szekeres theorem</a> on <a class="uri" href="PlanetMath" title="wikilink">PlanetMath</a></li>
<li></li>
</ul>

<p>"</p>

<p><a href="Category:Discrete_geometry" title="wikilink">Category:Discrete geometry</a> <a href="Category:Euclidean_plane_geometry" title="wikilink">Category:Euclidean plane geometry</a> <a href="Category:Mathematical_problems" title="wikilink">Category:Mathematical problems</a> <a href="Category:Ramsey_theory" title="wikilink">Category:Ramsey theory</a></p>
<section class="footnotes">
<hr/>
<ol>
<li id="fn1"><a href="http://www.smh.com.au/news/obituaries/a-world-of-teaching-and-numbers--times-two/2005/11/06/1131211943674.html">A world of teaching and numbers - times two</a>, <a href="Michael_Cowling" title="wikilink">Michael Cowling</a>, <a href="The_Sydney_Morning_Herald" title="wikilink">The Sydney Morning Herald</a>, 2005-11-07, cited 2014-09-04<a href="#fnref1">↩</a></li>
<li id="fn2">In this context, general position means that no two points coincide and no three points are collinear.<a href="#fnref2">↩</a></li>
<li id="fn3">This was the original problem, proved by Esther Klein.<a href="#fnref3">↩</a></li>
<li id="fn4">According to , this was first proved by E. Makai; the first published proof appeared in .<a href="#fnref4">↩</a></li>
<li id="fn5">This has been proved by . They carried out a computer search which eliminated all possible configurations of 17 points without convex hexagons while examining only a tiny fraction of all configurations.<a href="#fnref5">↩</a></li>
<li id="fn6"><a href="#fnref6">↩</a></li>
<li id="fn7">. See <a href="binomial_coefficient" title="wikilink">binomial coefficient</a> and <a href="big_O_notation" title="wikilink">big O notation</a> for notation used here and <a href="Catalan_number" title="wikilink">Catalan numbers</a> or <a href="Stirling's_approximation" title="wikilink">Stirling's approximation</a> for the asymptotic expansion.<a href="#fnref7">↩</a></li>
<li id="fn8">.<a href="#fnref8">↩</a></li>
<li id="fn9"><a href="#fnref9">↩</a></li>
<li id="fn10">.<a href="#fnref10">↩</a></li>
<li id="fn11"><a href="#fnref11">↩</a></li>
<li id="fn12">, Ex. 6.5.6, p.120. Grünbaum attributes this result to a private communication of Micha A. Perles.<a href="#fnref12">↩</a></li>
<li id="fn13">, Ex. 7.3.6, p. 126. This result follows by applying a Ramsey-theoretic argument similar to Szekeres's original proof together with Perles's result on the case <em>k</em> = <em>d</em> + 2.<a href="#fnref13">↩</a></li>
</ol>
</section>
</body>
</html>
