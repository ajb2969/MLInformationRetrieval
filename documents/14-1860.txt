   Velocity Moments      Velocity Moments   In the field of computer vision , velocity moments are weighted averages of the intensities of pixels in a sequence of images, similar to image moments but in addition to describing an object's shape also describe its motion through the sequence of images. Velocity moments can be used to aid automated identification of a shape in an image when information about the motion is significant in its description. There are currently two established versions of velocity moments: Cartesian 1 and Zernike. 2  Cartesian velocity moments  Cartesian moments for single images  A Cartesian moment of a single image is calculated by       m   p  q    =    ∑   x  =  1   M     ∑   y  =  1   N     x  p    y  q    P   x  y            subscript  m    p  q      superscript   subscript     x  1    M     superscript   subscript     y  1    N      superscript  x  p    superscript  y  q    subscript  P    x  y         m_{pq}=\sum_{x=1}^{M}\sum_{y=1}^{N}x^{p}y^{q}P_{xy}     where   M   M   M   and   N   N   N   are the dimensions of the image,    P   x  y      subscript  P    x  y     P_{xy}   is the intensity of the pixel at the point    (  x  ,  y  )     x  y    (x,y)   in the image, and     x  p    y  q        superscript  x  p    superscript  y  q     x^{p}y^{q}   is the basis function.  Cartesian velocity moments for sequences of images  Cartesian velocity moments are based on these Cartesian moments. A Cartesian velocity moment    v   m   p  q  μ  γ        v   subscript  m    p  q  μ  γ      vm_{pq\mu\gamma}   is defined by       v   m   p  q  μ  γ     =    ∑   i  =  2    i  m  a  g  e  s      ∑   x  =  1   M     ∑   y  =  1   N    U   (  i  ,  μ  ,  γ  )   C   (  i  ,  p  ,  g  )    P   i   x  y               v   subscript  m    p  q  μ  γ       superscript   subscript     i  2      i  m  a  g  e  s      superscript   subscript     x  1    M     superscript   subscript     y  1    N     U   i  μ  γ   C   i  p  g    subscript  P   subscript  i    x  y           vm_{pq\mu\gamma}=\sum_{i=2}^{images}\sum_{x=1}^{M}\sum_{y=1}^{N}U(i,\mu,\gamma%
 )C(i,p,g)P_{i_{xy}}     where   M   M   M   and   N   N   N   are again the dimensions of the image,    i  m  a  g  e  s      i  m  a  g  e  s    images   is the number of images in the sequence, and    P   i   x  y       subscript  P   subscript  i    x  y      P_{i_{xy}}   is the intensity of the pixel at the point    (  x  ,  y  )     x  y    (x,y)   in image   i   i   i   .      C   (  i  ,  p  ,  q  )       C   i  p  q     C(i,p,q)   is taken from Central moments , added so the equation is translation invariant , defined as       C   (  i  ,  p  ,  q  )    =     (   x  -    x  i   ¯    )   p     (   y  -    y  i   ¯    )   q          C   i  p  q       superscript    x   normal-¯   subscript  x  i     p    superscript    y   normal-¯   subscript  y  i     q      C(i,p,q)=(x-\overline{x_{i}})^{p}(y-\overline{y_{i}})^{q}     where     x  i   ¯     normal-¯   subscript  x  i     \overline{x_{i}}   is the   x   x   x   coordinate of the centre of mass for image   i   i   i   , and similarly for   y   y   y   .      U   (  i  ,  μ  ,  γ  )       U   i  μ  γ     U(i,\mu,\gamma)   introduces velocity into the equation as       U   (  i  ,  μ  ,  γ  )    =     (     x  i   ¯   -    x   i  -  1    ¯    )   μ     (     y  i   ¯   -    y   i  -  1    ¯    )   γ          U   i  μ  γ       superscript     normal-¯   subscript  x  i     normal-¯   subscript  x    i  1      μ    superscript     normal-¯   subscript  y  i     normal-¯   subscript  y    i  1      γ      U(i,\mu,\gamma)=(\overline{x_{i}}-\overline{x_{i-1}})^{\mu}(\overline{y_{i}}-%
 \overline{y_{i-1}})^{\gamma}     where     x   i  -  1    ¯     normal-¯   subscript  x    i  1      \overline{x_{i-1}}   is the   x   x   x   coordinate of the centre of mass for the previous image,    i  -  1      i  1    i-1   , and again similarly for   y   y   y   .  After the Cartesian velocity moment is calculated, it can be normalised by        v   m   p  q  μ  γ     ¯   =    v   m   p  q  μ  γ      A  *  I         normal-¯    v   subscript  m    p  q  μ  γ          v   subscript  m    p  q  μ  γ       A  I      \overline{vm_{pq\mu\gamma}}=\frac{vm_{pq\mu\gamma}}{A*I}     where   A   A   A   is the average area of the object, in pixels, and   I   I   I   is the number of images. Now the value is not affected by the number of images in the sequence or the size of the object.  As Cartesian moments are non-orthogonal, so are Cartesian velocity moments, so different moments can be closely correlated. These velocity moments do however provide translation and scale invariance (unless the scale changes within the sequence of images).  Zernike velocity moments  Zernike moments for single images  A Zernike moment of a single image is calculated by       A   m  n    =     m  +  1   π     ∑  x     ∑  y      [    V   m  n     (  r  ,  θ  )    ]   *    P   x  y             subscript  A    m  n          m  1   π     subscript   x     subscript   y      superscript   delimited-[]     subscript  V    m  n     r  θ        subscript  P    x  y          A_{mn}=\frac{m+1}{\pi}\sum_{x}\sum_{y}[V_{mn}(r,\theta)]^{*}P_{xy}     where     *        {}^{*}   denotes the complex conjugate,   m   m   m   is an integer between   0   0    and   ∞     \infty   , and   n   n   n   is an integer such that    m  -   |  n  |       m    n     m-|n|   is even and     |  n  |   <  m        n   m    |n|   . For calculating Zernike moments, the image, or section of the image which is of interest is mapped to the unit disc , then    P   x  y      subscript  P    x  y     P_{xy}   is the intensity of the pixel at the point    (  x  ,  y  )     x  y    (x,y)   on the disc and      x  2   +   y  2    ≤  1         superscript  x  2    superscript  y  2    1    x^{2}+y^{2}\leq 1   is a restriction on values of   x   x   x   and   y   y   y   . The coordinates are then mapped to polar coordinates , and   r   r   r   and   θ   θ   \theta   are the polar coordinates of the point    (  x  ,  y  )     x  y    (x,y)   on the unit disc map.       V   m  n     (  r  ,  θ  )        subscript  V    m  n     r  θ     V_{mn}(r,\theta)   is derived from Zernike polynomials and is defined by        V   m  n     (  r  ,  θ  )    =    R   m  n     (  r  )    e   j  n  θ            subscript  V    m  n     r  θ       subscript  R    m  n    r   superscript  e    j  n  θ       V_{mn}(r,\theta)=R_{mn}(r)e^{jn\theta}           R   m  n     (  r  )    =    ∑   s  =  0     m  -   |  n  |    2       (   -  1   )   s   F   (  m  ,  n  ,  s  ,  r  )            subscript  R    m  n    r     superscript   subscript     s  0        m    n    2       superscript    1   s   F   m  n  s  r       R_{mn}(r)=\sum_{s=0}^{\frac{m-|n|}{2}}(-1)^{s}F(m,n,s,r)          F   (  m  ,  n  ,  s  ,  r  )    =      (   m  -  s   )   !     s  !     (     m  +   |  n  |    2   -  s   )   !     (     m  -   |  n  |    2   -  s   )   !      r   m  -   2  s            F   m  n  s  r            m  s        s           m    n    2   s            m    n    2   s       superscript  r    m    2  s        F(m,n,s,r)=\frac{(m-s)!}{s!(\frac{m+|n|}{2}-s)!(\frac{m-|n|}{2}-s)!}r^{m-2s}     Zernike velocity moments for sequences of images  Zernike velocity moments are based on these Zernike moments. A Zernike velocity moment    A   m  n  μ  γ      subscript  A    m  n  μ  γ     A_{mn\mu\gamma}   is defined by       A   m  n  μ  γ    =     m  +  1   π     ∑   i  =  2    i  m  a  g  e  s      ∑   x  =  1      ∑   y  =  1     U   (  i  ,  μ  ,  γ  )     [    V   m  n     (  r  ,  θ  )    ]   *    P   i   x  y               subscript  A    m  n  μ  γ          m  1   π     superscript   subscript     i  2      i  m  a  g  e  s      subscript     x  1      subscript     y  1      U   i  μ  γ    superscript   delimited-[]     subscript  V    m  n     r  θ        subscript  P   subscript  i    x  y            A_{mn\mu\gamma}=\frac{m+1}{\pi}\sum_{i=2}^{images}\sum_{x=1}\sum_{y=1}U(i,\mu,%
 \gamma)[V_{mn}(r,\theta)]^{*}P_{i_{xy}}     where    i  m  a  g  e  s      i  m  a  g  e  s    images   is again the number of images in the sequence, and    P   i   x  y       subscript  P   subscript  i    x  y      P_{i_{xy}}   is the intensity of the pixel at the point    (  x  ,  y  )     x  y    (x,y)   on the unit disc mapped from image   i   i   i   .      U   (  i  ,  μ  ,  γ  )       U   i  μ  γ     U(i,\mu,\gamma)   introduces velocity into the equation in the same way as in the Cartesian velocity moments and     [    V   m  n     (  r  ,  θ  )    ]   *     superscript   delimited-[]     subscript  V    m  n     r  θ        [V_{mn}(r,\theta)]^{*}   is from the Zernike moments equation above.  Like the Cartesian velocity moments, Zernike velocity moments can be normalised by        A   m  n  μ  γ    ¯   =    A   m  n  μ  γ     A  *  I         normal-¯   subscript  A    m  n  μ  γ        subscript  A    m  n  μ  γ      A  I      \overline{A_{mn\mu\gamma}}=\frac{A_{mn\mu\gamma}}{A*I}     where   A   A   A   is the average area of the object, in pixels, and   I   I   I   is the number of images.  As Zernike velocity moments are based on the orthogonal Zernike moments, they produce less correlated and more compact descriptions than Cartesian velocity moments. Zernike velocity moments also provide translation and scale invariance (even when the scale changes within the sequence).  Comparison of methods      Velocity moment type   Translation invariance   Scale invariance   Orthogonal       Cartesian   Yes   Yes (if the object does not change scale within the sequence)   No     Zernike   Yes   Yes   Yes     References    External links   CVonline Velocity Moments page   "  Category:Motion in computer vision  Category:Applications of computer vision     J. D. Shutler, M. S. Nixon, C. J. Harris, "Statistical Gait Description via Temporal Moments", Proc. SSIAI 2000 - Austin,Texas, :pp. 291-295, 2000 ↩  J. D. Shutler and M. S. Nixon, "Zernike Velocity Moments for Description and Recognition of Moving Shapes", Proc. BMVC 2001, Manchester, UK, 2:pp. 705-714, 2001 ↩     