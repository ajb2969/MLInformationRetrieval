<html lang="en">
<head>
<meta charset="utf-8"/>
<title offset="1400">Trace diagram</title>
<script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_SVG.js" type="text/javascript">
</script>
</head>
<body>
<h1>Trace diagram</h1>
<hr/>

<p> In <a class="uri" href="mathematics" title="wikilink">mathematics</a>, <strong>trace diagrams</strong> are a graphical means of performing computations in <a href="linear_algebra" title="wikilink">linear</a> and <a href="multilinear_algebra" title="wikilink">multilinear algebra</a>. They can be represented as (slightly modified) <a href="graph_theory" title="wikilink">graphs</a> in which some edges are labeled by <a href="matrix_(mathematics)" title="wikilink">matrices</a>. The simplest trace diagrams represent the <a href="trace_(linear_algebra)" title="wikilink">trace</a> and <a class="uri" href="determinant" title="wikilink">determinant</a> of a matrix. Several results in linear algebra, such as <a href="Cramer's_Rule" title="wikilink">Cramer's Rule</a> and the <a href="Cayley–Hamilton_theorem" title="wikilink">Cayley–Hamilton theorem</a>, have simple diagrammatic proofs. They are closely related to <a href="Penrose's_graphical_notation" title="wikilink">Penrose's graphical notation</a>.</p>
<h2 id="formal-definition">Formal definition</h2>

<p>Let <em>V</em> be a <a href="vector_space" title="wikilink">vector space</a> of <a href="vector_space" title="wikilink">dimension</a> <em>n</em> over a <a href="field_(mathematics)" title="wikilink">field</a> <em>F</em> (with <em>n</em>≥2), and let Fun(<em>V</em>,<em>V</em>) denote the <a href="linear_transformation" title="wikilink">linear transformations</a> on <em>V</em>. An ''' <em>n</em>-trace diagram''' is a <a href="graph_(mathematics)" title="wikilink">graph</a> 

<math display="inline" id="Trace_diagram:0">
 <semantics>
  <mrow>
   <mi class="ltx_font_mathcaligraphic">𝒟</mi>
   <mo>=</mo>
   <mrow>
    <mo stretchy="false">(</mo>
    <mrow>
     <msub>
      <mi>V</mi>
      <mn>1</mn>
     </msub>
     <mo>⊔</mo>
     <msub>
      <mi>V</mi>
      <mn>2</mn>
     </msub>
     <mo>⊔</mo>
     <msub>
      <mi>V</mi>
      <mi>n</mi>
     </msub>
    </mrow>
    <mo>,</mo>
    <mi>E</mi>
    <mo stretchy="false">)</mo>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <ci>𝒟</ci>
    <interval closure="open">
     <apply>
      <csymbol cd="latexml">square-union</csymbol>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>V</ci>
       <cn type="integer">1</cn>
      </apply>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>V</ci>
       <cn type="integer">2</cn>
      </apply>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>V</ci>
       <ci>n</ci>
      </apply>
     </apply>
     <ci>E</ci>
    </interval>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \mathcal{D}=(V_{1}\sqcup V_{2}\sqcup V_{n},E)
  </annotation>
 </semantics>
</math>

, where the sets <em>V</em><sub><em>i</em></sub> (<em>i</em> = 1, 2, <em>n</em>) are composed of <a href="Vertex_(graph_theory)" title="wikilink">vertices</a> of <a href="Degree_(graph_theory)" title="wikilink">degree</a> <em>i</em>, together with the following additional structures:</p>
<ul>
<li>a <em>ciliation</em> at each vertex in the graph, which is an explicit ordering of the adjacent edges at that vertex;</li>
<li>a labeling <em>V</em><sub>2</sub> → Fun(<em>V</em>,<em>V</em>) associating each degree-2 vertex to a linear transformation.</li>
</ul>

<p>Note that <em>V</em><sub>2</sub> and <em>V<sub>n</sub></em> should be considered as distinct sets in the case <em>n</em> = 2. A <strong>framed trace diagram</strong> is a trace diagram together with a partition of the degree-1 vertices <em>V</em><sub>1</sub> into two disjoint ordered collections called the <em>inputs</em> and the <em>outputs</em>.</p>

<p>The "graph" underlying a trace diagram may have the following special features, which are not always included in the standard definition of a graph:</p>
<ul>
<li><a href="Loop_(graph_theory)" title="wikilink">Loops</a> are permitted (a loop is an edges that connects a vertex to itself).</li>
<li>Edges that have no vertices are permitted, and are represented by small circles.</li>
<li>Multiple edges between the same two vertices are permitted.</li>
</ul>
<h3 id="drawing-conventions">Drawing conventions</h3>
<ul>
<li>When trace diagrams are drawn, the ciliation on an <em>n</em>-vertex is commonly represented by a small mark between two of the incident edges (in the figure above, a small red dot); the specific ordering of edges follows by proceeding counter-clockwise from this mark.</li>
<li>The ciliation and labeling at a degree-2 vertex are combined into a single directed node that allows one to differentiate the first edge (the <em>incoming</em> edge) from the second edge (the <em>outgoing</em> edge).</li>
<li>Framed diagrams are drawn with <em>inputs</em> at the bottom of the diagram and <em>outputs</em> at the top of the diagram. In both cases, the ordering corresponds to reading from left to right.</li>
</ul>
<h3 id="correspondence-with-multilinear-functions">Correspondence with multilinear functions</h3>

<p>Every framed trace diagram corresponds to a <a class="uri" href="multilinear" title="wikilink">multilinear</a> function between <a class="uri" href="tensor" title="wikilink">tensor</a> powers of the vector space <em>V</em>. The degree-1 vertices correspond to the inputs and outputs of the function, while the degree-<em>n</em> vertices correspond to the generalized <a href="Levi-Civita_symbol" title="wikilink">Levi-Civita symbol</a> (which is an <a href="anti-symmetric_tensor" title="wikilink">anti-symmetric tensor</a> related to the <a class="uri" href="determinant" title="wikilink">determinant</a>). If a diagram has no output strands, its function maps tensor products to a scalar. If there are no degree-1 vertices, the diagram is said to be <strong>closed</strong> and its corresponding function may be identified with a scalar.</p>

<p>By definition, a trace diagram's function is computed using <a href="signed_graph" title="wikilink">signed graph</a> coloring. For each <a href="edge_coloring" title="wikilink">edge coloring</a> of the graph's edges by <em>n</em> labels, so that no two edges adjacent to the same vertex have the same label, one assigns a <em>weight</em> based on the labels at the vertices and the labels adjacent to the matrix labels. These weights become the coefficients of the diagram's function.</p>

<p>In practice, a trace diagram's function is typically computed by <em>decomposing</em> the diagram into smaller pieces whose functions are known. The overall function can then be computed by re-composing the individual functions.</p>
<h2 id="examples">Examples</h2>
<h3 id="vector-diagrams">3-Vector diagrams</h3>

<p>Several <a href="vector_identities" title="wikilink">vector identities</a> have easy proofs using trace diagrams. This section covers 3-trace diagrams. In the translation of diagrams to functions, it can be shown that the positions of ciliations at the degree-3 vertices has no influence on the resulting function, so they may be omitted.</p>

<p>It can be shown that the <a href="cross_product" title="wikilink">cross product</a> and <a href="dot_product" title="wikilink">dot product</a> of 3-dimensional vectors are represented by</p>
<dl>
<dd>
</dd>
</dl>

<p>In this picture, the inputs to the function are shown as vectors in yellow boxes at the bottom of the diagram. The cross product diagram has an output vector, represented by the free strand at the top of the diagram. The dot product diagram does not have an output vector; hence, its output is a scalar.</p>

<p>As a first example, consider the scalar triple product identity</p>

<p>

<math display="block" id="Trace_diagram:1">
 <semantics>
  <mrow>
   <mrow>
    <mrow>
     <mrow>
      <mo stretchy="false">(</mo>
      <mrow>
       <mi>𝐮</mi>
       <mo>×</mo>
       <mi>𝐯</mi>
      </mrow>
      <mo stretchy="false">)</mo>
     </mrow>
     <mo>⋅</mo>
     <mi>𝐰</mi>
    </mrow>
    <mo>=</mo>
    <mrow>
     <mi>𝐮</mi>
     <mo>⋅</mo>
     <mrow>
      <mo stretchy="false">(</mo>
      <mrow>
       <mi>𝐯</mi>
       <mo>×</mo>
       <mi>𝐰</mi>
      </mrow>
      <mo stretchy="false">)</mo>
     </mrow>
    </mrow>
    <mo>=</mo>
    <mrow>
     <mrow>
      <mo stretchy="false">(</mo>
      <mrow>
       <mi>𝐰</mi>
       <mo>×</mo>
       <mi>𝐮</mi>
      </mrow>
      <mo stretchy="false">)</mo>
     </mrow>
     <mo>⋅</mo>
     <mi>𝐯</mi>
    </mrow>
    <mo>=</mo>
    <mrow>
     <mo movablelimits="false">det</mo>
     <mrow>
      <mo stretchy="false">(</mo>
      <mi>𝐮𝐯𝐰</mi>
      <mo stretchy="false">)</mo>
     </mrow>
    </mrow>
   </mrow>
   <mo>.</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <and></and>
    <apply>
     <eq></eq>
     <apply>
      <ci>normal-⋅</ci>
      <apply>
       <times></times>
       <ci>𝐮</ci>
       <ci>𝐯</ci>
      </apply>
      <ci>𝐰</ci>
     </apply>
     <apply>
      <ci>normal-⋅</ci>
      <ci>𝐮</ci>
      <apply>
       <times></times>
       <ci>𝐯</ci>
       <ci>𝐰</ci>
      </apply>
     </apply>
    </apply>
    <apply>
     <eq></eq>
     <share href="#.cmml">
     </share>
     <apply>
      <ci>normal-⋅</ci>
      <apply>
       <times></times>
       <ci>𝐰</ci>
       <ci>𝐮</ci>
      </apply>
      <ci>𝐯</ci>
     </apply>
    </apply>
    <apply>
     <eq></eq>
     <share href="#.cmml">
     </share>
     <apply>
      <determinant></determinant>
      <ci>𝐮𝐯𝐰</ci>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   (\mathbf{u}\times\mathbf{v})\cdot\mathbf{w}=\mathbf{u}\cdot(\mathbf{v}\times%
\mathbf{w})=(\mathbf{w}\times\mathbf{u})\cdot\mathbf{v}=\det(\mathbf{u}\mathbf%
{v}\mathbf{w}).
  </annotation>
 </semantics>
</math>

</p>

<p>To prove this diagrammatically, note that all of the following figures are different depictions of the same 3-trace diagram (as specified by the above definition):</p>
<dl>
<dd>
</dd>
</dl>

<p>Combining the above diagrams for the cross product and the dot product, one can read off the three leftmost diagrams as precisely the three leftmost scalar triple products in the above identity. It can also be shown that the rightmost diagram represents det[<strong>u</strong> <strong>v</strong> <strong>w</strong>]. The scalar triple product identity follows because each is a different representation of the same diagram's function.</p>

<p>As a second example, one can show that</p>
<dl>
<dd>
</dd>
</dl>

<p>(where the equality indicates that the identity holds for the underlying multilinear functions). One can show that this kind of identity does not change by "bending" the diagram or attaching more diagrams, provided the changes are consistent across all diagrams in the identity. Thus, one can bend the top of the diagram down to the bottom, and attach vectors to each of the free edges, to obtain</p>
<dl>
<dd>
</dd>
</dl>

<p>which reads</p>

<p>

<math display="block" id="Trace_diagram:2">
 <semantics>
  <mrow>
   <mrow>
    <mrow>
     <mrow>
      <mo stretchy="false">(</mo>
      <mrow>
       <mi>𝐱</mi>
       <mo>×</mo>
       <mi>𝐮</mi>
      </mrow>
      <mo stretchy="false">)</mo>
     </mrow>
     <mo>⋅</mo>
     <mrow>
      <mo stretchy="false">(</mo>
      <mrow>
       <mi>𝐯</mi>
       <mo>×</mo>
       <mi>𝐰</mi>
      </mrow>
      <mo stretchy="false">)</mo>
     </mrow>
    </mrow>
    <mo>=</mo>
    <mrow>
     <mrow>
      <mrow>
       <mo stretchy="false">(</mo>
       <mrow>
        <mi>𝐱</mi>
        <mo>⋅</mo>
        <mi>𝐯</mi>
       </mrow>
       <mo stretchy="false">)</mo>
      </mrow>
      <mrow>
       <mo stretchy="false">(</mo>
       <mrow>
        <mi>𝐮</mi>
        <mo>⋅</mo>
        <mi>𝐰</mi>
       </mrow>
       <mo stretchy="false">)</mo>
      </mrow>
     </mrow>
     <mo>-</mo>
     <mrow>
      <mrow>
       <mo stretchy="false">(</mo>
       <mrow>
        <mi>𝐱</mi>
        <mo>⋅</mo>
        <mi>𝐰</mi>
       </mrow>
       <mo stretchy="false">)</mo>
      </mrow>
      <mrow>
       <mo stretchy="false">(</mo>
       <mrow>
        <mi>𝐮</mi>
        <mo>⋅</mo>
        <mi>𝐯</mi>
       </mrow>
       <mo stretchy="false">)</mo>
      </mrow>
     </mrow>
    </mrow>
   </mrow>
   <mo>,</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <ci>normal-⋅</ci>
     <apply>
      <times></times>
      <ci>𝐱</ci>
      <ci>𝐮</ci>
     </apply>
     <apply>
      <times></times>
      <ci>𝐯</ci>
      <ci>𝐰</ci>
     </apply>
    </apply>
    <apply>
     <minus></minus>
     <apply>
      <times></times>
      <apply>
       <ci>normal-⋅</ci>
       <ci>𝐱</ci>
       <ci>𝐯</ci>
      </apply>
      <apply>
       <ci>normal-⋅</ci>
       <ci>𝐮</ci>
       <ci>𝐰</ci>
      </apply>
     </apply>
     <apply>
      <times></times>
      <apply>
       <ci>normal-⋅</ci>
       <ci>𝐱</ci>
       <ci>𝐰</ci>
      </apply>
      <apply>
       <ci>normal-⋅</ci>
       <ci>𝐮</ci>
       <ci>𝐯</ci>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   (\mathbf{x}\times\mathbf{u})\cdot(\mathbf{v}\times\mathbf{w})=(\mathbf{x}\cdot%
\mathbf{v})(\mathbf{u}\cdot\mathbf{w})-(\mathbf{x}\cdot\mathbf{w})(\mathbf{u}%
\cdot\mathbf{v}),
  </annotation>
 </semantics>
</math>

 a well-known identity relating four 3-dimensional vectors.</p>
<h3 id="diagrams-with-matrices">Diagrams with matrices</h3>

<p>The simplest closed diagrams with a single matrix label correspond to the coefficients of the <a href="characteristic_polynomial" title="wikilink">characteristic polynomial</a>, up to a scalar factor that depends only on the dimension of the matrix. One representation of these diagrams is shown below, where 

<math display="inline" id="Trace_diagram:3">
 <semantics>
  <mo>∝</mo>
  <annotation-xml encoding="MathML-Content">
   <csymbol cd="latexml">proportional-to</csymbol>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \propto
  </annotation>
 </semantics>
</math>

 is used to indicate equality up to a scalar factor that depends only on the dimension <em>n</em> of the underlying vector space.</p>
<dl>
<dd>.
</dd>
</dl>
<h2 id="properties">Properties</h2>

<p>Let <em>G</em> be the group of n×n matrices. If a closed trace diagram is labeled by <em>k</em> different matrices, it may be interpreted as a function from 

<math display="inline" id="Trace_diagram:4">
 <semantics>
  <msup>
   <mi>G</mi>
   <mi>k</mi>
  </msup>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <csymbol cd="ambiguous">superscript</csymbol>
    <ci>G</ci>
    <ci>k</ci>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   G^{k}
  </annotation>
 </semantics>
</math>

 to an algebra of multilinear functions. This function is <a href="invariant_(mathematics)" title="wikilink">invariant</a> under simultaneous <a href="conjugacy_class" title="wikilink">conjugation</a>, that is, the function corresponding to 

<math display="inline" id="Trace_diagram:5">
 <semantics>
  <mrow>
   <mo stretchy="false">(</mo>
   <msub>
    <mi>g</mi>
    <mn>1</mn>
   </msub>
   <mo>,</mo>
   <mi mathvariant="normal">…</mi>
   <mo>,</mo>
   <msub>
    <mi>g</mi>
    <mi>k</mi>
   </msub>
   <mo stretchy="false">)</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <vector>
    <apply>
     <csymbol cd="ambiguous">subscript</csymbol>
     <ci>g</ci>
     <cn type="integer">1</cn>
    </apply>
    <ci>normal-…</ci>
    <apply>
     <csymbol cd="ambiguous">subscript</csymbol>
     <ci>g</ci>
     <ci>k</ci>
    </apply>
   </vector>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   (g_{1},\ldots,g_{k})
  </annotation>
 </semantics>
</math>

 is the same as the function corresponding to 

<math display="inline" id="Trace_diagram:6">
 <semantics>
  <mrow>
   <mo stretchy="false">(</mo>
   <mrow>
    <mi>a</mi>
    <msub>
     <mi>g</mi>
     <mn>1</mn>
    </msub>
    <msup>
     <mi>a</mi>
     <mrow>
      <mo>-</mo>
      <mn>1</mn>
     </mrow>
    </msup>
   </mrow>
   <mo>,</mo>
   <mi mathvariant="normal">…</mi>
   <mo>,</mo>
   <mrow>
    <mi>a</mi>
    <msub>
     <mi>g</mi>
     <mi>k</mi>
    </msub>
    <msup>
     <mi>a</mi>
     <mrow>
      <mo>-</mo>
      <mn>1</mn>
     </mrow>
    </msup>
   </mrow>
   <mo stretchy="false">)</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <vector>
    <apply>
     <times></times>
     <ci>a</ci>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <ci>g</ci>
      <cn type="integer">1</cn>
     </apply>
     <apply>
      <csymbol cd="ambiguous">superscript</csymbol>
      <ci>a</ci>
      <apply>
       <minus></minus>
       <cn type="integer">1</cn>
      </apply>
     </apply>
    </apply>
    <ci>normal-…</ci>
    <apply>
     <times></times>
     <ci>a</ci>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <ci>g</ci>
      <ci>k</ci>
     </apply>
     <apply>
      <csymbol cd="ambiguous">superscript</csymbol>
      <ci>a</ci>
      <apply>
       <minus></minus>
       <cn type="integer">1</cn>
      </apply>
     </apply>
    </apply>
   </vector>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   (ag_{1}a^{-1},\ldots,ag_{k}a^{-1})
  </annotation>
 </semantics>
</math>

 for any invertible 

<math display="inline" id="Trace_diagram:7">
 <semantics>
  <mrow>
   <mi>a</mi>
   <mo>∈</mo>
   <mi>G</mi>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <in></in>
    <ci>a</ci>
    <ci>G</ci>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   a\in G
  </annotation>
 </semantics>
</math>

.</p>
<h2 id="extensions-and-applications">Extensions and applications</h2>

<p>Trace diagrams may be specialized for particular <a href="Lie_groups" title="wikilink">Lie groups</a> by altering the definition slightly. In this context, they are sometimes called <a class="uri" href="birdtracks" title="wikilink">birdtracks</a>, <a href="Penrose_graphical_notation" title="wikilink">tensor diagrams</a>, or <a href="Penrose_graphical_notation" title="wikilink">Penrose graphical notation</a>.</p>

<p>Trace diagrams have primarily been used by physicists as a tool for studying <a href="Lie_groups" title="wikilink">Lie groups</a>. The most common applications use <a href="representation_theory" title="wikilink">representation theory</a> to construct <a href="spin_network" title="wikilink">spin networks</a> from trace diagrams. In mathematics, they have been used to study <a href="character_variety" title="wikilink">character varieties</a>.</p>
<h2 id="see-also">See also</h2>
<ul>
<li><a href="Multilinear_map" title="wikilink">Multilinear map</a></li>
<li><a href="Gain_graph" title="wikilink">Gain graph</a></li>
</ul>
<h2 id="references">References</h2>

<p>Books:</p>
<ul>
<li><em>Diagram Techniques in Group Theory</em>, G. E. Stedman, Cambridge University Press, 1990</li>
<li><em>Group Theory: Birdtracks, Lie's, and Exceptional Groups</em>, <a href="Predrag_Cvitanović" title="wikilink">Predrag Cvitanović</a>, Princeton University Press, 2008, <a class="uri" href="http://birdtracks.eu/">http://birdtracks.eu/</a></li>
</ul>

<p>"</p>

<p><a href="Category:Multilinear_algebra" title="wikilink">Category:Multilinear algebra</a> <a class="uri" href="Category:Tensors" title="wikilink">Category:Tensors</a> <a href="Category:Linear_algebra" title="wikilink">Category:Linear algebra</a> <a href="Category:Matrix_theory" title="wikilink">Category:Matrix theory</a> <a href="Category:Diagram_algebras" title="wikilink">Category:Diagram algebras</a> <a href="Category:Application-specific_graphs" title="wikilink">Category:Application-specific graphs</a> <a class="uri" href="Category:Diagrams" title="wikilink">Category:Diagrams</a></p>
</body>
</html>
