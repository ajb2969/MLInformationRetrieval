   Ramanujan's sum      Ramanujan's sum   In number theory , a branch of mathematics , Ramanujan's sum , usually denoted c q ( n ), is a function of two positive integer variables q and n defined by the formula         c  q    (  n  )    =    ∑       a  =  1         (  a  ,  q  )   =  1       q    e   2  π  i    a  q    n      ,         subscript  c  q   n     superscript   subscript    STACKED    a  1      a  q   1     q    superscript  e    2  π  i    a  q   n       c_{q}(n)=\sum_{a=1\atop(a,q)=1}^{q}e^{2\pi i\tfrac{a}{q}n},     where ( a , q ) = 1 means that a only takes on values coprime to q .  Srinivasa Ramanujan introduced the sums in a 1918 paper. Ramanujan, On Certain Trigonometric Sums ...   These sums are obviously of great interest, and a few of their properties have been discussed already. But, so far as I know, they have never been considered from the point of view which I adopt in this paper; and I believe that all the results which it contains are new.   ( Papers , p. 179). In a footnote cites pp. 360–370 of the Dirichlet-Dedekind Vorlesungen über Zahlentheorie , 4th ed. In addition to the expansions discussed in this article, Ramanujan's sums are used in the proof of Vinogradov's theorem that every sufficiently-large odd number is the sum of three primes . 1  Notation  For integers a and b ,    a  ∣  b     fragments  a  normal-∣  b    a\mid b   is read " a divides b " and means that there is an integer c such that b = ac . Similarly,    a  ∤  b     not-divides  a  b    a\nmid b   is read " a does not divide b ". The summation symbol       ∑    d   ∣  m     f   (  d  )        subscript    fragments  d  normal-∣  m      f  d     \sum_{d\,\mid\,m}f(d)     means that d goes through all the positive divisors of m , e.g.         ∑    d   ∣  12     f   (  d  )     =    f   (  1  )    +   f   (  2  )    +   f   (  3  )    +   f   (  4  )    +   f   (  6  )    +   f   (  12  )      .        subscript    fragments  d  normal-∣  12      f  d        f  1     f  2     f  3     f  4     f  6     f  12      \sum_{d\,\mid\,12}f(d)=f(1)+f(2)+f(3)+f(4)+f(6)+f(12).       (  a  ,  b  )     a  b    (a,\,b)\;   is the greatest common divisor ,      ϕ   (  n  )       ϕ  n    \phi(n)\;   is Euler's totient function ,      μ   (  n  )       μ  n    \mu(n)\;   is the Möbius function , and      ζ   (  s  )       ζ  s    \zeta(s)\;   is the Riemann zeta function .  Formulas for c q ( n )  Trigonometry  These formulas come from the definition, Euler's formula       e   i  x    =    cos  x   +   i   sin  x      ,       superscript  e    i  x        x     i    x       e^{ix}=\cos x+i\sin x,   and elementary trigonometric identities.       c  1    (  n  )        subscript  c  1   n    \displaystyle c_{1}(n)     and so on (, , , ,.., ,...) They show that c q ( n ) is always real.  Kluyver  Let      ζ  q   =   e    2  π  i   q     .       subscript  ζ  q    superscript  e      2  π  i   q      \zeta_{q}=e^{\frac{2\pi i}{q}}.   Then is a root of the equation 0}} . Each of its powers ζ q , ζ q 2 , ... ζ q q = ζ q 0 = 1 is also a root. Therefore, since there are q of them, they are all of the roots. The numbers ζ q n where 1 ≤ n ≤ q are called the q -th roots of unity . is called a primitive  q -th root of unity because the smallest value of n that makes ζ q n = 1 is q . The other primitive q -th roots of are the numbers ζ q a where ( a , q ) = 1. Therefore, there are φ( q ) primitive q -th roots of unity.  Thus, the Ramanujan sum c q ( n ) is the sum of the n -th powers of the primitive q -th roots of unity.  It is a fact 2 that the powers of are precisely the primitive roots for all the divisors of q .  Example. Let q = 12. Then   ζ 12 , ζ 12 5 , ζ 12 7 , and ζ 12 11 are the primitive twelfth roots of unity,    ζ 12 2 and ζ 12 10 are the primitive sixth roots of unity,    ζ 12 3 = i and ζ 12 9 = − i are the primitive fourth roots of unity,    ζ 12 4 and ζ 12 8 are the primitive third roots of unity,    ζ 12 6 = −1 is the primitive second root of unity, and    ζ 12 12 = 1 is the primitive first root of unity.   Therefore, if        η  q    (  n  )    =    ∑   k  =  1   q    ζ  q   k  n            subscript  η  q   n     superscript   subscript     k  1    q    superscript   subscript  ζ  q     k  n       \eta_{q}(n)=\sum_{k=1}^{q}\zeta_{q}^{kn}     is the sum of the n -th powers of all the roots, primitive and imprimitive,         η  q    (  n  )    =    ∑    d   ∣  q      c  d    (  n  )      ,         subscript  η  q   n     subscript    fragments  d  normal-∣  q       subscript  c  d   n      \eta_{q}(n)=\sum_{d\,\mid\,q}c_{d}(n),     and by Möbius inversion ,         c  q    (  n  )    =    ∑    d   ∣  q     μ   (   q  d   )    η  d    (  n  )      .         subscript  c  q   n     subscript    fragments  d  normal-∣  q      μ    q  d    subscript  η  d   n      c_{q}(n)=\sum_{d\,\mid\,q}\mu\left(\frac{q}{d}\right)\eta_{d}(n).     It follows from the identity x q − 1 = ( x − 1)( x q −1 + x q −2 + ... + x + 1) that        η  q    (  n  )    =   {     0       if   q   ∤  n       q      if   q  ∣  n              subscript  η  q   n    cases  0   not-divides    if  q   n   q   fragments  if  q  normal-∣  n      \eta_{q}(n)=\begin{cases}0&\;\mbox{ if }q\nmid n\\
 q&\;\mbox{ if }q\mid n\\
 \end{cases}     and this leads to the formula         c  q    (  n  )    =    ∑    d   ∣   (  q  ,  n  )      μ   (   q  d   )   d     ,         subscript  c  q   n     subscript    fragments  d  normal-∣   fragments  normal-(  q  normal-,  n  normal-)       μ    q  d   d      c_{q}(n)=\sum_{d\,\mid\,(q,n)}\mu\left(\frac{q}{d}\right)d,     published by Kluyver in 1906. 3  This shows that c q ( n ) is always an integer. Compare it with the formula        ϕ   (  q  )    =    ∑    d   ∣  q     μ   (   q  d   )   d     .        ϕ  q     subscript    fragments  d  normal-∣  q      μ    q  d   d      \phi(q)=\sum_{d\,\mid\,q}\mu\left(\frac{q}{d}\right)d.     von Sterneck  It is easily shown from the definition that c q ( n ) is multiplicative when considered as a function of q for a fixed value of n : 4 i.e.         If    (  q  ,  r  )    =    1    then    c  q    (  n  )    c  r    (  n  )    =    c   q  r     (  n  )     .          If   q  r      1  then   subscript  c  q   n   subscript  c  r   n           subscript  c    q  r    n      \mbox{If }\;(q,r)=1\;\mbox{ then }\;c_{q}(n)c_{r}(n)=c_{qr}(n).     From the definition (or Kluyver's formula) it is straightforward to prove that, if p is a prime number,         c  p    (  n  )    =   {      -  1       if  p   ∤  n        ϕ   (  p  )       if  p  ∣  n        ,         subscript  c  p   n    cases    1    not-divides    if  p   n     ϕ  p    fragments  if  p  normal-∣  n      c_{p}(n)=\begin{cases}-1&\mbox{ if }p\nmid n\\
 \phi(p)&\mbox{ if }p\mid n\\
 \end{cases},     and if p k is a prime power where k > 1,         c   p  k     (  n  )    =   {     0      if   p   k  -  1     ∤  n        -   p   k  -  1        if   p   k  -  1    ∣  n  and   p  k   ∤  n        ϕ   (   p  k   )       if   p  k   ∣  n        .         subscript  c   superscript  p  k    n    cases  0   not-divides    if   superscript  p    k  1     n      superscript  p    k  1      fragments  if   superscript  p    k  1    normal-∣  n  and   superscript  p  k   not-divides  n     ϕ   superscript  p  k     fragments  if   superscript  p  k   normal-∣  n      c_{p^{k}}(n)=\begin{cases}0&\mbox{ if }p^{k-1}\nmid n\\
 -p^{k-1}&\mbox{ if }p^{k-1}\mid n\mbox{ and }p^{k}\nmid n\\
 \phi(p^{k})&\mbox{ if }p^{k}\mid n\\
 \end{cases}.     This result and the multiplicative property can be used to prove         c  q    (  n  )    =   μ   (   q   (  q  ,  n  )    )     ϕ   (  q  )     ϕ   (   q   (  q  ,  n  )    )       .         subscript  c  q   n     μ    q   q  n        ϕ  q     ϕ    q   q  n         c_{q}(n)=\mu\left(\frac{q}{(q,n)}\right)\frac{\phi(q)}{\phi\left(\frac{q}{(q,n%
 )}\right)}.     This is called von Sterneck's arithmetic function. 5 The equivalence of it and Ramanujan's sum is due to Hölder. 6 7  Other properties of c q ( n )  For all positive integers q ,          c  1    (  q  )    =  1   ,      c  q    (  1  )    =   μ   (  q  )     ,     and    c  q    (  q  )    =   ϕ   (  q  )       .     formulae-sequence       subscript  c  1   q   1    formulae-sequence       subscript  c  q   1     μ  q        and   subscript  c  q   q     ϕ  q       c_{1}(q)=1,\;\;c_{q}(1)=\mu(q),\;\mbox{ and }\;c_{q}(q)=\phi(q).         If  m  ≡  n   (   mod  q   )   then   c  q    (  m  )   =   c  q    (  n  )   .     fragments  If  m   n   pmod  q   then   subscript  c  q    fragments  normal-(  m  normal-)     subscript  c  q    fragments  normal-(  n  normal-)   normal-.    \mbox{If }m\equiv n\;\;(\mathop{{\rm mod}}q)\mbox{ then }c_{q}(m)=c_{q}(n).     For a fixed value of q the absolute value of the sequence   c q (1), c q (2), ... is bounded by φ( q ), and   for a fixed value of n the absolute value of the sequence   c 1 ( n ), c 2 ( n ), ... is bounded by n .   If q > 1        ∑   n  =  a     a  +  q   -  1      c  q    (  n  )     =  0.        superscript   subscript     n  a        a  q   1       subscript  c  q   n    0.    \sum_{n=a}^{a+q-1}c_{q}(n)=0.     Let m 1 , m 2 > 0, m = lcm( m 1 , m 2 ). Then 8 Ramanujan's sums satisfy an orthogonality property :        1  m     ∑   k  =  1   m     c   m  1     (  k  )    c   m  2     (  k  )      =   {      ϕ   (  m  )         m  1   =   m  2   =  m   ,       0    otherwise              1  m     superscript   subscript     k  1    m      subscript  c   subscript  m  1    k   subscript  c   subscript  m  2    k      cases    ϕ  m        subscript  m  1    subscript  m  2        m    0  otherwise     \frac{1}{m}\sum_{k=1}^{m}c_{m_{1}}(k)c_{m_{2}}(k)=\begin{cases}\phi(m)&m_{1}=m%
 _{2}=m,\\
 0&\text{otherwise}\end{cases}     Let n , k > 0. Then 9         ∑     gcd   (  d  ,  k  )    =  1    d  ∣  n       d     μ   (   n  d   )     ϕ   (  d  )       =    μ   (  n  )    c  n    (  k  )     ϕ   (  n  )      ,        subscript    superscript      d  k   1    fragments  d  normal-∣  n       d      μ    n  d      ϕ  d          μ  n   subscript  c  n   k     ϕ  n      \sum_{\stackrel{d\mid n}{\gcd(d,k)=1}}d\;\frac{\mu(\tfrac{n}{d})}{\phi(d)}=%
 \frac{\mu(n)c_{n}(k)}{\phi(n)},   known as the Brauer - Rademacher identity.  If n > 0 and a is any integer, we also have 10         ∑     gcd   (  k  ,  n  )    =  1    1  ≤  k  ≤  n       c  n    (   k  -  a   )     =   μ   (  n  )    c  n    (  a  )     ,        subscript    superscript      k  n   1       1  k       n         subscript  c  n     k  a       μ  n   subscript  c  n   a     \sum_{\stackrel{1\leq k\leq n}{\gcd(k,n)=1}}c_{n}(k-a)=\mu(n)c_{n}(a),   due to Cohen.  Ramanujan expansions  If f ( n ) is an arithmetic function (i.e. a complex-valued function of the integers or natural numbers), then a convergent infinite series of the form       f   (  n  )    =    ∑   q  =  1   ∞     a  q    c  q    (  n  )           f  n     superscript   subscript     q  1         subscript  a  q    subscript  c  q   n      f(n)=\sum_{q=1}^{\infty}a_{q}c_{q}(n)     or of the form       f   (  q  )    =    ∑   n  =  1   ∞     a  n    c  q    (  n  )           f  q     superscript   subscript     n  1         subscript  a  n    subscript  c  q   n      f(q)=\sum_{n=1}^{\infty}a_{n}c_{q}(n)     where the , is called a Ramanujan expansion 11 of f ( n ).  Ramanujan found expansions of some of the well-known functions of number theory. All of these results are proved in an "elementary" manner (i.e. only using formal manipulations of series and the simplest results about convergence). Ramanujan, On certain trigonometrical sums...   The majority of my formulae are "elementary" in the technical sense of the word — they can (that is to say) be proved by a combination of processes involving only finite algebra and simple general theorems concerning infinite series   ( Papers , p. 179) 12 13  The expansion of the zero function depends on a result from the analytic theory of prime numbers, namely that the series       ∑   n  =  1   ∞     μ   (  n  )    n       superscript   subscript     n  1          μ  n   n     \sum_{n=1}^{\infty}\frac{\mu(n)}{n}     converges to 0, and the results for r ( n ) and r ′( n ) depend on theorems in an earlier paper. 14  All the formulas in this section are from Ramanujan's 1918 paper.  Generating functions  The generating functions of the Ramanujan sums are Dirichlet series :       ζ   (  s  )     ∑    δ   ∣  q     μ   (   q  δ   )    δ   1  -  s       =    ∑   n  =  1   ∞      c  q    (  n  )     n  s           ζ  s    subscript    fragments  δ  normal-∣  q      μ    q  δ    superscript  δ    1  s         superscript   subscript     n  1           subscript  c  q   n    superscript  n  s       \zeta(s)\sum_{\delta\,\mid\,q}\mu\left(\frac{q}{\delta}\right)\delta^{1-s}=%
 \sum_{n=1}^{\infty}\frac{c_{q}(n)}{n^{s}}     is a generating function for the sequence c q (1), c q (2), ... where q is kept constant, and         σ   r  -  1     (  n  )      n   r  -  1    ζ   (  r  )     =    ∑   q  =  1   ∞      c  q    (  n  )     q  r              subscript  σ    r  1    n      superscript  n    r  1    ζ  r      superscript   subscript     q  1           subscript  c  q   n    superscript  q  r       \frac{\sigma_{r-1}(n)}{n^{r-1}\zeta(r)}=\sum_{q=1}^{\infty}\frac{c_{q}(n)}{q^{%
 r}}     is a generating function for the sequence c 1 ( n ), c 2 ( n ), ... where n is kept constant.  There is also the double Dirichlet series         ζ   (  s  )   ζ   (    r  +  s   -  1   )     ζ   (  r  )     =    ∑   q  =  1   ∞     ∑   n  =  1   ∞      c  q    (  n  )      q  r    n  s        .          ζ  s  ζ      r  s   1      ζ  r      superscript   subscript     q  1        superscript   subscript     n  1           subscript  c  q   n      superscript  q  r    superscript  n  s         \frac{\zeta(s)\zeta(r+s-1)}{\zeta(r)}=\sum_{q=1}^{\infty}\sum_{n=1}^{\infty}%
 \frac{c_{q}(n)}{q^{r}n^{s}}.     σ k ( n )  σ k ( n ) is the divisor function (i.e. the sum of the k -th powers of the divisors of n , including 1 and n ). σ 0 ( n ), the number of divisors of n , is usually written d ( n ) and σ 1 ( n ), the sum of the divisors of n , is usually written σ( n ).  If s > 0,        σ  s    (  n  )    =    n  s   ζ   (   s  +  1   )    (      c  1    (  n  )     1   s  +  1     +     c  2    (  n  )     2   s  +  1     +     c  3    (  n  )     3   s  +  1     +  …   )           subscript  σ  s   n      superscript  n  s   ζ    s  1          subscript  c  1   n    superscript  1    s  1          subscript  c  2   n    superscript  2    s  1          subscript  c  3   n    superscript  3    s  1     normal-…      \sigma_{s}(n)=n^{s}\zeta(s+1)\left(\frac{c_{1}(n)}{1^{s+1}}+\frac{c_{2}(n)}{2^%
 {s+1}}+\frac{c_{3}(n)}{3^{s+1}}+\dots\right)     and         σ   -  s     (  n  )    =   ζ   (   s  +  1   )    (      c  1    (  n  )     1   s  +  1     +     c  2    (  n  )     2   s  +  1     +     c  3    (  n  )     3   s  +  1     +  …   )     .         subscript  σ    s    n     ζ    s  1          subscript  c  1   n    superscript  1    s  1          subscript  c  2   n    superscript  2    s  1          subscript  c  3   n    superscript  3    s  1     normal-…      \sigma_{-s}(n)=\zeta(s+1)\left(\frac{c_{1}(n)}{1^{s+1}}+\frac{c_{2}(n)}{2^{s+1%
 }}+\frac{c_{3}(n)}{3^{s+1}}+\dots\right).     Setting s = 1 gives        σ   (  n  )    =     π  2   6   n   (      c  1    (  n  )    1   +     c  2    (  n  )    4   +     c  3    (  n  )    9   +  …   )     .        σ  n        superscript  π  2   6   n         subscript  c  1   n   1        subscript  c  2   n   4        subscript  c  3   n   9   normal-…      \sigma(n)=\frac{\pi^{2}}{6}n\left(\frac{c_{1}(n)}{1}+\frac{c_{2}(n)}{4}+\frac{%
 c_{3}(n)}{9}+\dots\right).     If the Riemann hypothesis is true, and    -   d   (  n  )          d  n     \displaystyle-d(n)     d ( n )  d ( n ) = σ 0 ( n ) is the number of divisors of n , including 1 and n itself.      n  =    p  1   a  1     p  2   a  2     p  3   a  3    ⋯       n     superscript   subscript  p  1    subscript  a  1     superscript   subscript  p  2    subscript  a  2     superscript   subscript  p  3    subscript  a  3    normal-⋯     n=p_{1}^{a_{1}}p_{2}^{a_{2}}p_{3}^{a_{3}}\cdots     where γ = 0.5772... is the Euler–Mascheroni constant .  φ ( n )  Euler's totient function φ( n ) is the number of positive integers less than n and coprime to n . Ramanujan defines a generalization of it, if         ϕ  s    (  n  )    =    n  s    (   1  -   p  1   -  s     )    (   1  -   p  2   -  s     )    (   1  -   p  3   -  s     )   ⋯    ,         subscript  ϕ  s   n      superscript  n  s     1   superscript   subscript  p  1     s       1   superscript   subscript  p  2     s       1   superscript   subscript  p  3     s     normal-⋯     \phi_{s}(n)=n^{s}(1-p_{1}^{-s})(1-p_{2}^{-s})(1-p_{3}^{-s})\cdots,     is the prime factorization of n , and s is a complex number, let        μ   (  n  )    n  s      ϕ  s    (  n  )   ζ   (  s  )     =    ∑   ν  =  1   ∞     μ   (   n  ν   )     ν  s             μ  n   superscript  n  s       subscript  ϕ  s   n  ζ  s      superscript   subscript     ν  1          μ    n  ν     superscript  ν  s       \frac{\mu(n)n^{s}}{\phi_{s}(n)\zeta(s)}=\sum_{\nu=1}^{\infty}\frac{\mu(n\nu)}{%
 \nu^{s}}     so that φ 1 ( n ) = φ ( n ) is Euler's function. 15  He proves that          ϕ  s    (  n  )   ζ   (   s  +  1   )     n  s    =     μ   (  1  )    c  1    (  n  )      ϕ   s  +  1     (  1  )     +    μ   (  2  )    c  2    (  n  )      ϕ   s  +  1     (  2  )     +    μ   (  3  )    c  3    (  n  )      ϕ   s  +  1     (  3  )     +  …    .           subscript  ϕ  s   n  ζ    s  1     superscript  n  s          μ  1   subscript  c  1   n      subscript  ϕ    s  1    1        μ  2   subscript  c  2   n      subscript  ϕ    s  1    2        μ  3   subscript  c  3   n      subscript  ϕ    s  1    3    normal-…     \frac{\phi_{s}(n)\zeta(s+1)}{n^{s}}=\frac{\mu(1)c_{1}(n)}{\phi_{s+1}(1)}+\frac%
 {\mu(2)c_{2}(n)}{\phi_{s+1}(2)}+\frac{\mu(3)c_{3}(n)}{\phi_{s+1}(3)}+\dots.     and uses this to show that        ϕ   (  n  )    =    6   π  2    n   (         c  1    (  n  )    -     c  2    (  n  )      2  2   -  1    -     c  3    (  n  )      3  2   -  1    -     c  5    (  n  )      5  2   -  1     +     c  6    (  n  )      (    2  2   -  1   )    (    3  2   -  1   )      -     c  7    (  n  )      7  2   -  1     +     c  10    (  n  )      (    2  2   -  1   )    (    5  2   -  1   )      -  …   )     .        ϕ  n       6   superscript  π  2    n               subscript  c  1   n        subscript  c  2   n      superscript  2  2   1         subscript  c  3   n      superscript  3  2   1         subscript  c  5   n      superscript  5  2   1          subscript  c  6   n        superscript  2  2   1      superscript  3  2   1           subscript  c  7   n      superscript  7  2   1          subscript  c  10   n        superscript  2  2   1      superscript  5  2   1      normal-…      \phi(n)=\frac{6}{\pi^{2}}n\left(c_{1}(n)-\frac{c_{2}(n)}{2^{2}-1}-\frac{c_{3}(%
 n)}{3^{2}-1}-\frac{c_{5}(n)}{5^{2}-1}+\frac{c_{6}(n)}{(2^{2}-1)(3^{2}-1)}-%
 \frac{c_{7}(n)}{7^{2}-1}+\frac{c_{10}(n)}{(2^{2}-1)(5^{2}-1)}-\dots\right).     Letting s = 1,       Λ   (  n  )    =  0        normal-Λ  n   0    Λ(n)=0     Note that the constant is the inverse 16 of the one in the formula for σ( n ).  Λ( n )  Von Mangoldt's function      -   Λ   (  m  )     =     c  m    (  1  )    +    1  2    c  m    (  2  )    +    1  3    c  m    (  3  )    +  …           normal-Λ  m         subscript  c  m   1       1  2    subscript  c  m   2       1  3    subscript  c  m   3   normal-…     -\Lambda(m)=c_{m}(1)+\frac{1}{2}c_{m}(2)+\frac{1}{3}c_{m}(3)+\dots   unless n = p k is a power of a prime number, in which case it is the natural logarithm log p .       0  =     c  1    (  n  )    +    1  2    c  2    (  n  )    +    1  3    c  3    (  n  )    +  …    .      0       subscript  c  1   n       1  2    subscript  c  2   n       1  3    subscript  c  3   n   normal-…     0=c_{1}(n)+\frac{1}{2}c_{2}(n)+\frac{1}{3}c_{3}(n)+\dots.     Zero  For all n > 0,         δ  2    (  n  )    =   π   (        c  1    (  n  )    1   -     c  3    (  n  )    3    +     c  5    (  n  )    5    -  …   )     .         subscript  δ  2   n     π             subscript  c  1   n   1        subscript  c  3   n   3         subscript  c  5   n   5    normal-…      \delta_{2}(n)=\pi\left(\frac{c_{1}(n)}{1}-\frac{c_{3}(n)}{3}+\frac{c_{5}(n)}{5%
 }-\dots\right).     This is equivalent to the prime number theorem . 17 18  r 2 s ( n ) (sums of squares)  r 2 s ( n ) is the number of way of representing n as the sum of 2 s  squares , counting different orders and signs as different (e.g., r 2 (13) = 8, as 13 = (±2) 2 + (±3) 2 = (±3) 2 + (±2) 2 .)  Ramanujan defines a function δ 2 s ( n ) and references a paper 19 in which he proved that r 2 s ( n ) = δ 2 s ( n ) for s = 1, 2, 3, and 4. For s > 4 he shows that δ 2 s ( n ) is a good approximation to r 2 s ( n ).  s = 1 has a special formula:        δ   2  s     (  n  )    =      π  s    n   s  -  1       (   s  -  1   )   !     (      c  1    (  n  )     1  s    +     c  4    (  n  )     2  s    +     c  3    (  n  )     3  s    +     c  8    (  n  )     4  s    +     c  5    (  n  )     5  s    +     c  12    (  n  )     6  s    +     c  7    (  n  )     7  s    +     c  16    (  n  )     8  s    +  …   )           subscript  δ    2  s    n          superscript  π  s    superscript  n    s  1         s  1            subscript  c  1   n    superscript  1  s         subscript  c  4   n    superscript  2  s         subscript  c  3   n    superscript  3  s         subscript  c  8   n    superscript  4  s         subscript  c  5   n    superscript  5  s         subscript  c  12   n    superscript  6  s         subscript  c  7   n    superscript  7  s         subscript  c  16   n    superscript  8  s    normal-…      \delta_{2s}(n)=\frac{\pi^{s}n^{s-1}}{(s-1)!}\left(\frac{c_{1}(n)}{1^{s}}+\frac%
 {c_{4}(n)}{2^{s}}+\frac{c_{3}(n)}{3^{s}}+\frac{c_{8}(n)}{4^{s}}+\frac{c_{5}(n)%
 }{5^{s}}+\frac{c_{12}(n)}{6^{s}}+\frac{c_{7}(n)}{7^{s}}+\frac{c_{16}(n)}{8^{s}%
 }+\dots\right)     In the following formulas the signs repeat with a period of 4.  If s ≡ 0 (mod 4),        δ   2  s     (  n  )    =      π  s    n   s  -  1       (   s  -  1   )   !     (             c  1    (  n  )     1  s    -     c  4    (  n  )     2  s     +     c  3    (  n  )     3  s     -     c  8    (  n  )     4  s     +     c  5    (  n  )     5  s     -     c  12    (  n  )     6  s     +     c  7    (  n  )     7  s     -     c  16    (  n  )     8  s     +  …   )           subscript  δ    2  s    n          superscript  π  s    superscript  n    s  1         s  1                          subscript  c  1   n    superscript  1  s         subscript  c  4   n    superscript  2  s          subscript  c  3   n    superscript  3  s          subscript  c  8   n    superscript  4  s          subscript  c  5   n    superscript  5  s          subscript  c  12   n    superscript  6  s          subscript  c  7   n    superscript  7  s          subscript  c  16   n    superscript  8  s     normal-…      \delta_{2s}(n)=\frac{\pi^{s}n^{s-1}}{(s-1)!}\left(\frac{c_{1}(n)}{1^{s}}-\frac%
 {c_{4}(n)}{2^{s}}+\frac{c_{3}(n)}{3^{s}}-\frac{c_{8}(n)}{4^{s}}+\frac{c_{5}(n)%
 }{5^{s}}-\frac{c_{12}(n)}{6^{s}}+\frac{c_{7}(n)}{7^{s}}-\frac{c_{16}(n)}{8^{s}%
 }+\dots\right)     If s ≡ 2 (mod 4),        δ   2  s     (  n  )    =      π  s    n   s  -  1       (   s  -  1   )   !     (          c  1    (  n  )     1  s    +     c  4    (  n  )     2  s     -     c  3    (  n  )     3  s     +     c  8    (  n  )     4  s    +     c  5    (  n  )     5  s    +     c  12    (  n  )     6  s     -     c  7    (  n  )     7  s     +     c  16    (  n  )     8  s    +  …   )           subscript  δ    2  s    n          superscript  π  s    superscript  n    s  1         s  1                    subscript  c  1   n    superscript  1  s         subscript  c  4   n    superscript  2  s          subscript  c  3   n    superscript  3  s          subscript  c  8   n    superscript  4  s         subscript  c  5   n    superscript  5  s         subscript  c  12   n    superscript  6  s          subscript  c  7   n    superscript  7  s          subscript  c  16   n    superscript  8  s    normal-…      \delta_{2s}(n)=\frac{\pi^{s}n^{s-1}}{(s-1)!}\left(\frac{c_{1}(n)}{1^{s}}+\frac%
 {c_{4}(n)}{2^{s}}-\frac{c_{3}(n)}{3^{s}}+\frac{c_{8}(n)}{4^{s}}+\frac{c_{5}(n)%
 }{5^{s}}+\frac{c_{12}(n)}{6^{s}}-\frac{c_{7}(n)}{7^{s}}+\frac{c_{16}(n)}{8^{s}%
 }+\dots\right)     If s ≡ 1 (mod 4) and s > 1,        δ   2  s     (  n  )    =      π  s    n   s  -  1       (   s  -  1   )   !     (         c  1    (  n  )     1  s    -     c  4    (  n  )     2  s    -     c  3    (  n  )     3  s    -     c  8    (  n  )     4  s     +     c  5    (  n  )     5  s     -     c  12    (  n  )     6  s    -     c  7    (  n  )     7  s    -     c  16    (  n  )     8  s     +  …   )           subscript  δ    2  s    n          superscript  π  s    superscript  n    s  1         s  1                  subscript  c  1   n    superscript  1  s         subscript  c  4   n    superscript  2  s         subscript  c  3   n    superscript  3  s         subscript  c  8   n    superscript  4  s          subscript  c  5   n    superscript  5  s          subscript  c  12   n    superscript  6  s         subscript  c  7   n    superscript  7  s         subscript  c  16   n    superscript  8  s     normal-…      \delta_{2s}(n)=\frac{\pi^{s}n^{s-1}}{(s-1)!}\left(\frac{c_{1}(n)}{1^{s}}-\frac%
 {c_{4}(n)}{2^{s}}-\frac{c_{3}(n)}{3^{s}}-\frac{c_{8}(n)}{4^{s}}+\frac{c_{5}(n)%
 }{5^{s}}-\frac{c_{12}(n)}{6^{s}}-\frac{c_{7}(n)}{7^{s}}-\frac{c_{16}(n)}{8^{s}%
 }+\dots\right)     If s ≡ 3 (mod 4),       r  2    (  n  )        subscript  r  2   n    \displaystyle r_{2}(n)     and therefore,         δ  2  ′    (  n  )    =    π  4    (         c  1    (    4  n   +  1   )    1   -     c  3    (    4  n   +  1   )    3    +     c  5    (    4  n   +  1   )    5    -     c  7    (    4  n   +  1   )    7    +  …   )     .         subscript   superscript  δ  normal-′   2   n       π  4                subscript  c  1       4  n   1    1        subscript  c  3       4  n   1    3         subscript  c  5       4  n   1    5         subscript  c  7       4  n   1    7    normal-…      \delta^{\prime}_{2}(n)=\frac{\pi}{4}\left(\frac{c_{1}(4n+1)}{1}-\frac{c_{3}(4n%
 +1)}{3}+\frac{c_{5}(4n+1)}{5}-\frac{c_{7}(4n+1)}{7}+\dots\right).     r ′ 2 s ( n ) (sums of triangles)  r ′ 2 s ( n ) is the number of ways n can be represented as the sum of 2 s  triangular numbers (i.e. the numbers 1, 3 = 1 + 2, 6 = 1 + 2 + 3, 10 = 1 + 2 + 3 + 4, 15, ...; the n -th triangular number is given by the formula n ( n + 1)/2.)  The analysis here is similar to that for squares. Ramanujan refers to the same paper as he did for the squares, where he showed that there is a function δ′ 2 s ( n ) such that r ′ 2 s ( n ) = δ′ 2 s ( n ) for s = 1, 2, 3, and 4, and that for s > 4, δ′ 2 s ( n ) is a good approximation to r ′ 2 s ( n ).  Again, s = 1 requires a special formula:         δ   2  s   ′    (  n  )    =      (   π  2   )   s     (   s  -  1   )   !      (   n  +   s  4    )    s  -  1     (      c  1    (   n  +   s  4    )     1  s    +     c  3    (   n  +   s  4    )     3  s    +     c  5    (   n  +   s  4    )     5  s    +  …   )     .         subscript   superscript  δ  normal-′     2  s    n        superscript    π  2   s       s  1      superscript    n    s  4      s  1           subscript  c  1     n    s  4      superscript  1  s         subscript  c  3     n    s  4      superscript  3  s         subscript  c  5     n    s  4      superscript  5  s    normal-…      \delta^{\prime}_{2s}(n)=\frac{(\frac{\pi}{2})^{s}}{(s-1)!}\left(n+\frac{s}{4}%
 \right)^{s-1}\left(\frac{c_{1}(n+\frac{s}{4})}{1^{s}}+\frac{c_{3}(n+\frac{s}{4%
 })}{3^{s}}+\frac{c_{5}(n+\frac{s}{4})}{5^{s}}+\dots\right).     If s is a multiple of 4,         δ   2  s   ′    (  n  )    =      (   π  2   )   s     (   s  -  1   )   !      (   n  +   s  4    )    s  -  1     (      c  1    (    2  n   +   s  2    )     1  s    +     c  3    (    2  n   +   s  2    )     3  s    +     c  5    (    2  n   +   s  2    )     5  s    +  …   )     .         subscript   superscript  δ  normal-′     2  s    n        superscript    π  2   s       s  1      superscript    n    s  4      s  1           subscript  c  1       2  n     s  2      superscript  1  s         subscript  c  3       2  n     s  2      superscript  3  s         subscript  c  5       2  n     s  2      superscript  5  s    normal-…      \delta^{\prime}_{2s}(n)=\frac{(\frac{\pi}{2})^{s}}{(s-1)!}\left(n+\frac{s}{4}%
 \right)^{s-1}\left(\frac{c_{1}(2n+\frac{s}{2})}{1^{s}}+\frac{c_{3}(2n+\frac{s}%
 {2})}{3^{s}}+\frac{c_{5}(2n+\frac{s}{2})}{5^{s}}+\dots\right).     If s is twice an odd number,         δ   2  s   ′    (  n  )    =      (   π  2   )   s     (   s  -  1   )   !      (   n  +   s  4    )    s  -  1     (        c  1    (    4  n   +  s   )     1  s    -     c  3    (    4  n   +  s   )     3  s     +     c  5    (    4  n   +  s   )     5  s     -  …   )     .         subscript   superscript  δ  normal-′     2  s    n        superscript    π  2   s       s  1      superscript    n    s  4      s  1               subscript  c  1       4  n   s     superscript  1  s         subscript  c  3       4  n   s     superscript  3  s          subscript  c  5       4  n   s     superscript  5  s     normal-…      \delta^{\prime}_{2s}(n)=\frac{(\frac{\pi}{2})^{s}}{(s-1)!}\left(n+\frac{s}{4}%
 \right)^{s-1}\left(\frac{c_{1}(4n+s)}{1^{s}}-\frac{c_{3}(4n+s)}{3^{s}}+\frac{c%
 _{5}(4n+s)}{5^{s}}-\dots\right).     If s is an odd number and s > 1,       r  2  ′    (  n  )        subscript   superscript  r  normal-′   2   n    \displaystyle r^{\prime}_{2}(n)     Therefore,       T  q    (  n  )        subscript  T  q   n    \displaystyle T_{q}(n)     Sums  Let      s  >  1      s  1    s>1     Then for      σ   -  s     (  1  )    +  ⋯  +    σ   -  s     (  n  )           subscript  σ    s    1   normal-⋯     subscript  σ    s    n     \displaystyle\sigma_{-s}(1)+\cdots+\sigma_{-s}(n)   ,        6   π  2     <    σ   (  n  )   ϕ   (  n  )     n  2    <  1.          6   superscript  π  2        σ  n  ϕ  n    superscript  n  2         1.     \;\frac{6}{\pi^{2}}<\frac{\sigma(n)\phi(n)}{n^{2}}<1.     See also   Gaussian period  Kloosterman sum   Notes  References             .      (pp. 179–199 of his Collected Papers )     (pp. 136–163 of his Collected Papers )         External links     "  Category:Number theory  Category:Srinivasa Ramanujan     Nathanson, ch. 8 ↩  Hardy & Wright, Thms 65, 66 ↩  G. H. Hardy, P. V. Seshu Aiyar, & B. M. Wilson, notes to On certain trigonometrical sums ... , Ramanujan, Papers , p. 343 ↩  Schwarz & Spilken (1994) p.16 ↩  B. Berndt, commentary to On certain trigonometrical sums... , Ramanujan, Papers , p. 371 ↩  Knopfmacher, p. 196 ↩  Hardy & Wright, p. 243 ↩  Tóth, external links, eq. 6 ↩  Tóth, external links, eq. 17. ↩  Tóth, external links, eq. 8. ↩  B. Berndt, commentary to On certain trigonometrical sums... , Ramanujan, Papers , pp. 369–371 ↩  The theory of formal Dirichlet series is discussed in Hardy & Wright, § 17.6 and in Knopfmacher. ↩  Knopfmacher, ch. 7, discusses Ramanujan expansions as a type of Fourier expansion in an inner product space which has the c q as an orthogonal basis. ↩  Ramanujan, On Certain Arithmetical Functions ↩  This is Jordan's totient function , J s ( n ). ↩  Cf. Hardy & Wright, Thm. 329, which states that $\;\frac{6}{\pi^2}<\frac{\sigma(n)\phi(n)}{n^2}<1.$ ↩  Hardy, Ramanujan , p. 141 ↩  B. Berndt, commentary to On certain trigonometrical sums... , Ramanujan, Papers , p. 371 ↩  Ramanujan, On Certain Arithmetical Functions ↩     