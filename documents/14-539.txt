   Query likelihood model      Query likelihood model   The query likelihood model is a language model used in information retrieval . A language model is constructed for each document in the collection. It is then possible to rank each document by the probability of specific documents given a query. This is interpreted as being the likelihood of a document being relevant given a query.  Calculating the likelihood  Using Bayes' rule , the probability   P   P   P   of a document   d   d   d   , given a query   q   q   q   can be written as follows:      P   (  d  |  q  )   =    P   (  q  |  d  )   P   (  d  )     P   (  q  )        fragments  P   fragments  normal-(  d  normal-|  q  normal-)       fragments  P   fragments  normal-(  q  normal-|  d  normal-)   P   fragments  normal-(  d  normal-)      P  q      P(d|q)=\frac{P(q|d)P(d)}{P(q)}     Since the probability of the query P(q) is the same for all documents, this can be ignored. Further, it is typical to assume that the probability of documents is uniform. Thus, P(d) is also ignored.      P   (  d  |  q  )   =  P   (  q  |  d  )      fragments  P   fragments  normal-(  d  normal-|  q  normal-)    P   fragments  normal-(  q  normal-|  d  normal-)     P(d|q)=P(q|d)     Documents are then ranked by the probability that a query is observed as a random sample from the document model. The multinomial unigram language model is commonly used to achieve this. We have:      P   (  q  |   M  d   )   =   K  q    ∏   t  ∈  V    P    (  t  |   M  d   )    t   f   t  ,  q         fragments  P   fragments  normal-(  q  normal-|   subscript  M  d   normal-)     subscript  K  q    subscript  product    t  V    P   superscript   fragments  normal-(  t  normal-|   subscript  M  d   normal-)     t   subscript  f   t  q        P(q|M_{d})=K_{q}\prod_{t\in V}P(t|M_{d})^{tf_{t,q}}   ,where the multinomial coefficient is     K  q   =     L  q   !   /   (   t    f    t  1   ,  q    !   t    f    t  2   ,  q    !   …  t    f    t  M   ,  q    !    )         subscript  K  q        subscript  L  q      t     subscript  f     t  1   q     t     subscript  f     t  2   q     normal-…  t     subscript  f     t  M   q         K_{q}=L_{q}!/(tf_{t1,q}!tf_{t2,q}!...tf_{tM,q}!)   for query   q   q   q   .  In practice the multinomial coefficient is usually removed from the calculation. The reason is that it is a constant for a given bag of words (such as all the words from a specific document   d   d   d   ). The language model    M  d     subscript  M  d    M_{d}   should be the true language model calculated from the distribution of words underlying each retrieved document. In practice this language model is unknown, so it is usually approximated by considering each term (unigram) from the retrieved document together with its probability of appearance. So    P   (  t  |   M  d   )      fragments  P   fragments  normal-(  t  normal-|   subscript  M  d   normal-)     P(t|M_{d})   is the probability of term   t   t   t   being generated by the language model    M  d     subscript  M  d    M_{d}   of document   d   d   d   . This probability is multiplied for all terms from query   q   q   q   to get a rank for document   d   d   d   in the interval    [  0  ,  1  ]     0  1    [0,1]   . The calculation is repeated for all documents to create a ranking of all documents in the document collection.  1  References    "  Category:Information retrieval techniques     Christopher D. Manning, Prabhakar Raghavan, Hinrich Schütze: An Introduction to Information Retrieval, page 241. Cambridge University Press, 2009 ↩     