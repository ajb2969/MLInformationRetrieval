<html lang="en">
<head>
<meta charset="utf-8"/>
<title offset="391">Continuous-repayment mortgage</title>
<script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_SVG.js" type="text/javascript">
</script>
</head>
<body>
<h1>Continuous-repayment mortgage</h1>
<hr/>
<figure><b>(Figure)</b>
<figcaption>The effect of earning 20% annual interest on an initial $1,000 investment at various compounding frequencies</figcaption>
</figure>

<p>Analogous to <a href="continuous_compounding" title="wikilink">continuous compounding</a>, a continuous annuity<a class="footnoteRef" href="#fn1" id="fnref1"><sup>1</sup></a><a class="footnoteRef" href="#fn2" id="fnref2"><sup>2</sup></a> is an <a href="Annuity_(finance_theory)#Ordinary_annuity" title="wikilink">ordinary annuity</a> in which the payment interval is narrowed indefinitely. A (theoretical) <strong>continuous repayment mortgage</strong> is a mortgage loan paid by means of a continuous annuity.</p>

<p>Mortgages (i.e., mortgage loans) are generally settled over a period of years by a series of fixed regular payments commonly referred to as an <a href="Annuity_(finance_theory)" title="wikilink">annuity</a>. Each payment accumulates <a href="compound_interest" title="wikilink">compound interest</a> from time of deposit to the end of the mortgage timespan at which point the sum of the payments with their accumulated interest equals the value of the loan with interest compounded over the entire timespan. Given loan <em>P</em><sub>0</sub>, per period interest rate i, number of periods <em>n</em> and fixed per period payment <em>x</em>, the end of term balancing equation is:</p>
<dl>
<dd><dl>
<dd>

<math display="inline" id="Continuous-repayment_mortgage:0">
 <semantics>
  <mrow>
   <mrow>
    <msub>
     <mi>P</mi>
     <mn>0</mn>
    </msub>
    <msup>
     <mrow>
      <mo stretchy="false">(</mo>
      <mrow>
       <mn>1</mn>
       <mo>+</mo>
       <mi>i</mi>
      </mrow>
      <mo stretchy="false">)</mo>
     </mrow>
     <mi>n</mi>
    </msup>
   </mrow>
   <mo>=</mo>
   <mrow>
    <msubsup>
     <mo largeop="true" symmetric="true">∑</mo>
     <mrow>
      <mi>k</mi>
      <mo>=</mo>
      <mn>1</mn>
     </mrow>
     <mi>n</mi>
    </msubsup>
    <mrow>
     <mi>x</mi>
     <msup>
      <mrow>
       <mo stretchy="false">(</mo>
       <mrow>
        <mn>1</mn>
        <mo>+</mo>
        <mi>i</mi>
       </mrow>
       <mo stretchy="false">)</mo>
      </mrow>
      <mrow>
       <mi>n</mi>
       <mo>-</mo>
       <mi>k</mi>
      </mrow>
     </msup>
    </mrow>
   </mrow>
   <mo>=</mo>
   <mfrac>
    <mrow>
     <mi>x</mi>
     <mrow>
      <mo stretchy="false">[</mo>
      <mrow>
       <msup>
        <mrow>
         <mo stretchy="false">(</mo>
         <mrow>
          <mn>1</mn>
          <mo>+</mo>
          <mi>i</mi>
         </mrow>
         <mo stretchy="false">)</mo>
        </mrow>
        <mi>n</mi>
       </msup>
       <mo>-</mo>
       <mn>1</mn>
      </mrow>
      <mo stretchy="false">]</mo>
     </mrow>
    </mrow>
    <mi>i</mi>
   </mfrac>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <and></and>
    <apply>
     <eq></eq>
     <apply>
      <times></times>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>P</ci>
       <cn type="integer">0</cn>
      </apply>
      <apply>
       <csymbol cd="ambiguous">superscript</csymbol>
       <apply>
        <plus></plus>
        <cn type="integer">1</cn>
        <ci>i</ci>
       </apply>
       <ci>n</ci>
      </apply>
     </apply>
     <apply>
      <apply>
       <csymbol cd="ambiguous">superscript</csymbol>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <sum></sum>
        <apply>
         <eq></eq>
         <ci>k</ci>
         <cn type="integer">1</cn>
        </apply>
       </apply>
       <ci>n</ci>
      </apply>
      <apply>
       <times></times>
       <ci>x</ci>
       <apply>
        <csymbol cd="ambiguous">superscript</csymbol>
        <apply>
         <plus></plus>
         <cn type="integer">1</cn>
         <ci>i</ci>
        </apply>
        <apply>
         <minus></minus>
         <ci>n</ci>
         <ci>k</ci>
        </apply>
       </apply>
      </apply>
     </apply>
    </apply>
    <apply>
     <eq></eq>
     <share href="#.cmml">
     </share>
     <apply>
      <divide></divide>
      <apply>
       <times></times>
       <ci>x</ci>
       <apply>
        <csymbol cd="latexml">delimited-[]</csymbol>
        <apply>
         <minus></minus>
         <apply>
          <csymbol cd="ambiguous">superscript</csymbol>
          <apply>
           <plus></plus>
           <cn type="integer">1</cn>
           <ci>i</ci>
          </apply>
          <ci>n</ci>
         </apply>
         <cn type="integer">1</cn>
        </apply>
       </apply>
      </apply>
      <ci>i</ci>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   P_{0}(1+i)^{n}=\sum_{k=1}^{n}x(1+i)^{n-k}=\frac{x[(1+i)^{n}-1]}{i}
  </annotation>
 </semantics>
</math>


</dd>
</dl>
</dd>
</dl>

<p>Summation can be computed using the standard formula for summation of a <a href="geometric_sequence" title="wikilink">geometric sequence</a>.</p>

<p>In a (theoretical) continuous-repayment mortgage the payment interval is narrowed indefinitely until the discrete interval process becomes continuous and the fixed interval payments become—in effect—a literal cash "flow" at a fixed annual rate. In this case, given loan <em>P</em><sub>0</sub>, annual interest rate <em>r</em>, loan timespan <em>T</em> (years) and annual rate <em>M</em><sub><em>a</em></sub>, the <a class="uri" href="infinitesimal" title="wikilink">infinitesimal</a> cash flow elements <em>M</em><sub><em>a</em></sub><em>δt</em> accumulate <a href="continuously_compounded_interest" title="wikilink">continuously compounded interest</a> from time t to the end of the loan timespan at which point the balancing equation is:</p>
<dl>
<dd><dl>
<dd>

<math display="inline" id="Continuous-repayment_mortgage:1">
 <semantics>
  <mrow>
   <mrow>
    <mrow>
     <msub>
      <mi>P</mi>
      <mn>0</mn>
     </msub>
     <msup>
      <mi>e</mi>
      <mrow>
       <mi>r</mi>
       <mi>T</mi>
      </mrow>
     </msup>
    </mrow>
    <mo>=</mo>
    <mrow>
     <munderover>
      <mo largeop="true" movablelimits="false" symmetric="true">∫</mo>
      <mn>0</mn>
      <mi>T</mi>
     </munderover>
     <mrow>
      <msub>
       <mi>M</mi>
       <mi>a</mi>
      </msub>
      <mpadded width="+1.7pt">
       <msup>
        <mi>e</mi>
        <mrow>
         <mi>r</mi>
         <mrow>
          <mo stretchy="false">(</mo>
          <mrow>
           <mi>T</mi>
           <mo>-</mo>
           <mi>t</mi>
          </mrow>
          <mo stretchy="false">)</mo>
         </mrow>
        </mrow>
       </msup>
      </mpadded>
      <mi>d</mi>
      <mi>t</mi>
     </mrow>
    </mrow>
    <mo>=</mo>
    <mfrac>
     <mrow>
      <msub>
       <mi>M</mi>
       <mi>a</mi>
      </msub>
      <mrow>
       <mo stretchy="false">(</mo>
       <mrow>
        <msup>
         <mi>e</mi>
         <mrow>
          <mi>r</mi>
          <mi>T</mi>
         </mrow>
        </msup>
        <mo>-</mo>
        <mn>1</mn>
       </mrow>
       <mo stretchy="false">)</mo>
      </mrow>
     </mrow>
     <mi>r</mi>
    </mfrac>
   </mrow>
   <mo>.</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <and></and>
    <apply>
     <eq></eq>
     <apply>
      <times></times>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>P</ci>
       <cn type="integer">0</cn>
      </apply>
      <apply>
       <csymbol cd="ambiguous">superscript</csymbol>
       <ci>e</ci>
       <apply>
        <times></times>
        <ci>r</ci>
        <ci>T</ci>
       </apply>
      </apply>
     </apply>
     <apply>
      <apply>
       <csymbol cd="ambiguous">superscript</csymbol>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <int></int>
        <cn type="integer">0</cn>
       </apply>
       <ci>T</ci>
      </apply>
      <apply>
       <times></times>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>M</ci>
        <ci>a</ci>
       </apply>
       <apply>
        <csymbol cd="ambiguous">superscript</csymbol>
        <ci>e</ci>
        <apply>
         <times></times>
         <ci>r</ci>
         <apply>
          <minus></minus>
          <ci>T</ci>
          <ci>t</ci>
         </apply>
        </apply>
       </apply>
       <ci>d</ci>
       <ci>t</ci>
      </apply>
     </apply>
    </apply>
    <apply>
     <eq></eq>
     <share href="#.cmml">
     </share>
     <apply>
      <divide></divide>
      <apply>
       <times></times>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>M</ci>
        <ci>a</ci>
       </apply>
       <apply>
        <minus></minus>
        <apply>
         <csymbol cd="ambiguous">superscript</csymbol>
         <ci>e</ci>
         <apply>
          <times></times>
          <ci>r</ci>
          <ci>T</ci>
         </apply>
        </apply>
        <cn type="integer">1</cn>
       </apply>
      </apply>
      <ci>r</ci>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   P_{0}e^{rT}=\int\limits_{0}^{T}M_{a}e^{r(T-t)}\,dt=\frac{M_{a}(e^{rT}-1)}{r}.
  </annotation>
 </semantics>
</math>


</dd>
</dl>
</dd>
</dl>

<p>Summation of the cash flow elements and accumulated interest is effected by integration as shown. It is assumed that compounding interval and payment interval are equal—i.e., compounding of interest always occurs at the same time as payment is deducted.<a class="footnoteRef" href="#fn3" id="fnref3"><sup>3</sup></a></p>

<p>Within the timespan of the loan the time continuous mortgage balance function obeys a first order <a href="linear_differential_equation" title="wikilink">linear differential equation</a> (LDE)<a class="footnoteRef" href="#fn4" id="fnref4"><sup>4</sup></a> and an alternative derivation thereof may be obtained by solving the LDE using the method of <a href="Laplace_transforms" title="wikilink">Laplace transforms</a>.</p>

<p>Application of the equation yields a number of results relevant to the financial process which it describes. Although this article focuses primarily on mortgages, the methods employed are relevant to any situation in which payment or saving is effected by a regular stream of fixed interval payments (annuity).</p>
<h2 id="derivation-of-time-continuous-equation">Derivation of time-continuous equation</h2>

<p>The classical formula for the present value of a series of <em>n</em> fixed monthly payments amount <em>x</em> invested at a monthly interest rate <em>i</em>% is:</p>

<p>

<math display="block" id="Continuous-repayment_mortgage:2">
 <semantics>
  <mrow>
   <mrow>
    <msub>
     <mi>P</mi>
     <mi>v</mi>
    </msub>
    <mrow>
     <mo stretchy="false">(</mo>
     <mi>n</mi>
     <mo stretchy="false">)</mo>
    </mrow>
   </mrow>
   <mo>=</mo>
   <mfrac>
    <mrow>
     <mi>x</mi>
     <mrow>
      <mo stretchy="false">(</mo>
      <mrow>
       <mn>1</mn>
       <mo>-</mo>
       <msup>
        <mrow>
         <mo stretchy="false">(</mo>
         <mrow>
          <mn>1</mn>
          <mo>+</mo>
          <mi>i</mi>
         </mrow>
         <mo stretchy="false">)</mo>
        </mrow>
        <mrow>
         <mo>-</mo>
         <mi>n</mi>
        </mrow>
       </msup>
      </mrow>
      <mo stretchy="false">)</mo>
     </mrow>
    </mrow>
    <mi>i</mi>
   </mfrac>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <times></times>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <ci>P</ci>
      <ci>v</ci>
     </apply>
     <ci>n</ci>
    </apply>
    <apply>
     <divide></divide>
     <apply>
      <times></times>
      <ci>x</ci>
      <apply>
       <minus></minus>
       <cn type="integer">1</cn>
       <apply>
        <csymbol cd="ambiguous">superscript</csymbol>
        <apply>
         <plus></plus>
         <cn type="integer">1</cn>
         <ci>i</ci>
        </apply>
        <apply>
         <minus></minus>
         <ci>n</ci>
        </apply>
       </apply>
      </apply>
     </apply>
     <ci>i</ci>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   P_{v}(n)=\frac{x(1-(1+i)^{-n})}{i}
  </annotation>
 </semantics>
</math>

</p>

<p>The formula may be re-arranged to determine the monthly payment <em>x</em> on a loan of amount <em>P</em><sub>0</sub> taken out for a period of <em>n</em> months at a monthly interest rate of <em>i</em>%:</p>

<p>

<math display="block" id="Continuous-repayment_mortgage:3">
 <semantics>
  <mrow>
   <mi>x</mi>
   <mo>=</mo>
   <mfrac>
    <mrow>
     <msub>
      <mi>P</mi>
      <mn>0</mn>
     </msub>
     <mo>⋅</mo>
     <mi>i</mi>
    </mrow>
    <mrow>
     <mn>1</mn>
     <mo>-</mo>
     <msup>
      <mrow>
       <mo stretchy="false">(</mo>
       <mrow>
        <mn>1</mn>
        <mo>+</mo>
        <mi>i</mi>
       </mrow>
       <mo stretchy="false">)</mo>
      </mrow>
      <mrow>
       <mo>-</mo>
       <mi>n</mi>
      </mrow>
     </msup>
    </mrow>
   </mfrac>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <ci>x</ci>
    <apply>
     <divide></divide>
     <apply>
      <ci>normal-⋅</ci>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>P</ci>
       <cn type="integer">0</cn>
      </apply>
      <ci>i</ci>
     </apply>
     <apply>
      <minus></minus>
      <cn type="integer">1</cn>
      <apply>
       <csymbol cd="ambiguous">superscript</csymbol>
       <apply>
        <plus></plus>
        <cn type="integer">1</cn>
        <ci>i</ci>
       </apply>
       <apply>
        <minus></minus>
        <ci>n</ci>
       </apply>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   x=\frac{P_{0}\cdot i}{1-(1+i)^{-n}}
  </annotation>
 </semantics>
</math>

</p>

<p>We begin with a small adjustment of the formula: replace <em>i</em> with <em>r</em>/<em>N</em> where <em>r</em> is the annual interest rate and <em>N</em> is the annual frequency of compounding periods (<em>N</em> = 12 for monthly payments). Also replace <em>n</em> with <em>NT</em> where <em>T</em> is the total loan period in years. In this more general form of the equation we are calculating <em>x</em>(<em>N</em>) as the fixed payment corresponding to frequency <em>N</em>. For example if <em>N</em> = 365, <em>x</em> corresponds to a daily fixed payment. As <em>N</em> increases, <em>x</em>(<em>N</em>) decreases but the product <em>N</em>·<em>x</em>(<em>N</em>) approaches a limiting value as will be shown:</p>

<p>

<math display="block" id="Continuous-repayment_mortgage:4">
 <semantics>
  <mrow>
   <mrow>
    <mi>x</mi>
    <mrow>
     <mo stretchy="false">(</mo>
     <mi>N</mi>
     <mo stretchy="false">)</mo>
    </mrow>
   </mrow>
   <mo>=</mo>
   <mfrac>
    <mrow>
     <msub>
      <mi>P</mi>
      <mn>0</mn>
     </msub>
     <mo>⋅</mo>
     <mi>r</mi>
    </mrow>
    <mrow>
     <mi>N</mi>
     <mrow>
      <mo stretchy="false">(</mo>
      <mrow>
       <mn>1</mn>
       <mo>-</mo>
       <msup>
        <mrow>
         <mo stretchy="false">(</mo>
         <mrow>
          <mn>1</mn>
          <mo>+</mo>
          <mfrac>
           <mi>r</mi>
           <mi>N</mi>
          </mfrac>
         </mrow>
         <mo stretchy="false">)</mo>
        </mrow>
        <mrow>
         <mo>-</mo>
         <mrow>
          <mi>N</mi>
          <mi>T</mi>
         </mrow>
        </mrow>
       </msup>
      </mrow>
      <mo stretchy="false">)</mo>
     </mrow>
    </mrow>
   </mfrac>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <times></times>
     <ci>x</ci>
     <ci>N</ci>
    </apply>
    <apply>
     <divide></divide>
     <apply>
      <ci>normal-⋅</ci>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>P</ci>
       <cn type="integer">0</cn>
      </apply>
      <ci>r</ci>
     </apply>
     <apply>
      <times></times>
      <ci>N</ci>
      <apply>
       <minus></minus>
       <cn type="integer">1</cn>
       <apply>
        <csymbol cd="ambiguous">superscript</csymbol>
        <apply>
         <plus></plus>
         <cn type="integer">1</cn>
         <apply>
          <divide></divide>
          <ci>r</ci>
          <ci>N</ci>
         </apply>
        </apply>
        <apply>
         <minus></minus>
         <apply>
          <times></times>
          <ci>N</ci>
          <ci>T</ci>
         </apply>
        </apply>
       </apply>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   x(N)=\frac{P_{0}\cdot r}{N(1-(1+\frac{r}{N})^{-NT})}
  </annotation>
 </semantics>
</math>

</p>

<p>

<math display="block" id="Continuous-repayment_mortgage:5">
 <semantics>
  <mrow>
   <mrow>
    <mrow>
     <mi>N</mi>
     <mo>⋅</mo>
     <mi>x</mi>
    </mrow>
    <mrow>
     <mo stretchy="false">(</mo>
     <mi>N</mi>
     <mo stretchy="false">)</mo>
    </mrow>
   </mrow>
   <mo>=</mo>
   <mfrac>
    <mrow>
     <msub>
      <mi>P</mi>
      <mn>0</mn>
     </msub>
     <mo>⋅</mo>
     <mi>r</mi>
    </mrow>
    <mrow>
     <mn>1</mn>
     <mo>-</mo>
     <msup>
      <mrow>
       <mo stretchy="false">(</mo>
       <mrow>
        <mn>1</mn>
        <mo>+</mo>
        <mfrac>
         <mi>r</mi>
         <mi>N</mi>
        </mfrac>
       </mrow>
       <mo stretchy="false">)</mo>
      </mrow>
      <mrow>
       <mo>-</mo>
       <mrow>
        <mi>N</mi>
        <mi>T</mi>
       </mrow>
      </mrow>
     </msup>
    </mrow>
   </mfrac>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <times></times>
     <apply>
      <ci>normal-⋅</ci>
      <ci>N</ci>
      <ci>x</ci>
     </apply>
     <ci>N</ci>
    </apply>
    <apply>
     <divide></divide>
     <apply>
      <ci>normal-⋅</ci>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>P</ci>
       <cn type="integer">0</cn>
      </apply>
      <ci>r</ci>
     </apply>
     <apply>
      <minus></minus>
      <cn type="integer">1</cn>
      <apply>
       <csymbol cd="ambiguous">superscript</csymbol>
       <apply>
        <plus></plus>
        <cn type="integer">1</cn>
        <apply>
         <divide></divide>
         <ci>r</ci>
         <ci>N</ci>
        </apply>
       </apply>
       <apply>
        <minus></minus>
        <apply>
         <times></times>
         <ci>N</ci>
         <ci>T</ci>
        </apply>
       </apply>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   N\cdot x(N)=\frac{P_{0}\cdot r}{1-(1+\frac{r}{N})^{-NT}}
  </annotation>
 </semantics>
</math>

</p>

<p>Note that <em>N</em>·<em>x</em>(<em>N</em>) is simply the amount paid per year – in effect an annual repayment rate <em>M</em><sub><em>a</em></sub>.</p>

<p>It is well established that:</p>

<p>

<math display="block" id="Continuous-repayment_mortgage:6">
 <semantics>
  <mrow>
   <mrow>
    <munder>
     <mo movablelimits="false">lim</mo>
     <mrow>
      <mi>N</mi>
      <mo>→</mo>
      <mi mathvariant="normal">∞</mi>
     </mrow>
    </munder>
    <msup>
     <mrow>
      <mo>(</mo>
      <mrow>
       <mn>1</mn>
       <mo>+</mo>
       <mfrac>
        <mi>r</mi>
        <mi>N</mi>
       </mfrac>
      </mrow>
      <mo>)</mo>
     </mrow>
     <mrow>
      <mi>N</mi>
      <mi>t</mi>
     </mrow>
    </msup>
   </mrow>
   <mo>=</mo>
   <msup>
    <mi>e</mi>
    <mrow>
     <mi>r</mi>
     <mi>t</mi>
    </mrow>
   </msup>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <limit></limit>
      <apply>
       <ci>normal-→</ci>
       <ci>N</ci>
       <infinity></infinity>
      </apply>
     </apply>
     <apply>
      <csymbol cd="ambiguous">superscript</csymbol>
      <apply>
       <plus></plus>
       <cn type="integer">1</cn>
       <apply>
        <divide></divide>
        <ci>r</ci>
        <ci>N</ci>
       </apply>
      </apply>
      <apply>
       <times></times>
       <ci>N</ci>
       <ci>t</ci>
      </apply>
     </apply>
    </apply>
    <apply>
     <csymbol cd="ambiguous">superscript</csymbol>
     <ci>e</ci>
     <apply>
      <times></times>
      <ci>r</ci>
      <ci>t</ci>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \lim_{N\to\infty}\left(1+\frac{r}{N}\right)^{Nt}=e^{rt}
  </annotation>
 </semantics>
</math>

 <a class="footnoteRef" href="#fn5" id="fnref5"><sup>5</sup></a><a class="footnoteRef" href="#fn6" id="fnref6"><sup>6</sup></a></p>

<p>Applying the same principle to the formula for annual repayment, we can determine a limiting value:</p>

<p>

<math display="block" id="Continuous-repayment_mortgage:7">
 <semantics>
  <mrow>
   <mrow>
    <msub>
     <mi>M</mi>
     <mi>a</mi>
    </msub>
    <mo>=</mo>
    <mrow>
     <munder>
      <mo movablelimits="false">lim</mo>
      <mrow>
       <mi>N</mi>
       <mo>→</mo>
       <mi mathvariant="normal">∞</mi>
      </mrow>
     </munder>
     <mrow>
      <mrow>
       <mi>N</mi>
       <mo>⋅</mo>
       <mi>x</mi>
      </mrow>
      <mrow>
       <mo stretchy="false">(</mo>
       <mi>N</mi>
       <mo stretchy="false">)</mo>
      </mrow>
     </mrow>
    </mrow>
    <mo>=</mo>
    <mrow>
     <munder>
      <mo movablelimits="false">lim</mo>
      <mrow>
       <mi>N</mi>
       <mo>→</mo>
       <mi mathvariant="normal">∞</mi>
      </mrow>
     </munder>
     <mfrac>
      <mrow>
       <msub>
        <mi>P</mi>
        <mn>0</mn>
       </msub>
       <mo>⋅</mo>
       <mi>r</mi>
      </mrow>
      <mrow>
       <mn>1</mn>
       <mo>-</mo>
       <msup>
        <mrow>
         <mo stretchy="false">(</mo>
         <mrow>
          <mn>1</mn>
          <mo>+</mo>
          <mfrac>
           <mi>r</mi>
           <mi>N</mi>
          </mfrac>
         </mrow>
         <mo stretchy="false">)</mo>
        </mrow>
        <mrow>
         <mo>-</mo>
         <mrow>
          <mi>N</mi>
          <mi>T</mi>
         </mrow>
        </mrow>
       </msup>
      </mrow>
     </mfrac>
    </mrow>
    <mo>=</mo>
    <mfrac>
     <mrow>
      <msub>
       <mi>P</mi>
       <mn>0</mn>
      </msub>
      <mo>⋅</mo>
      <mi>r</mi>
     </mrow>
     <mrow>
      <mn>1</mn>
      <mo>-</mo>
      <msup>
       <mi>e</mi>
       <mrow>
        <mo>-</mo>
        <mrow>
         <mi>r</mi>
         <mi>T</mi>
        </mrow>
       </mrow>
      </msup>
     </mrow>
    </mfrac>
   </mrow>
   <mo>.</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <and></and>
    <apply>
     <eq></eq>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <ci>M</ci>
      <ci>a</ci>
     </apply>
     <apply>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <limit></limit>
       <apply>
        <ci>normal-→</ci>
        <ci>N</ci>
        <infinity></infinity>
       </apply>
      </apply>
      <apply>
       <times></times>
       <apply>
        <ci>normal-⋅</ci>
        <ci>N</ci>
        <ci>x</ci>
       </apply>
       <ci>N</ci>
      </apply>
     </apply>
    </apply>
    <apply>
     <eq></eq>
     <share href="#.cmml">
     </share>
     <apply>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <limit></limit>
       <apply>
        <ci>normal-→</ci>
        <ci>N</ci>
        <infinity></infinity>
       </apply>
      </apply>
      <apply>
       <divide></divide>
       <apply>
        <ci>normal-⋅</ci>
        <apply>
         <csymbol cd="ambiguous">subscript</csymbol>
         <ci>P</ci>
         <cn type="integer">0</cn>
        </apply>
        <ci>r</ci>
       </apply>
       <apply>
        <minus></minus>
        <cn type="integer">1</cn>
        <apply>
         <csymbol cd="ambiguous">superscript</csymbol>
         <apply>
          <plus></plus>
          <cn type="integer">1</cn>
          <apply>
           <divide></divide>
           <ci>r</ci>
           <ci>N</ci>
          </apply>
         </apply>
         <apply>
          <minus></minus>
          <apply>
           <times></times>
           <ci>N</ci>
           <ci>T</ci>
          </apply>
         </apply>
        </apply>
       </apply>
      </apply>
     </apply>
    </apply>
    <apply>
     <eq></eq>
     <share href="#.cmml">
     </share>
     <apply>
      <divide></divide>
      <apply>
       <ci>normal-⋅</ci>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>P</ci>
        <cn type="integer">0</cn>
       </apply>
       <ci>r</ci>
      </apply>
      <apply>
       <minus></minus>
       <cn type="integer">1</cn>
       <apply>
        <csymbol cd="ambiguous">superscript</csymbol>
        <ci>e</ci>
        <apply>
         <minus></minus>
         <apply>
          <times></times>
          <ci>r</ci>
          <ci>T</ci>
         </apply>
        </apply>
       </apply>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   M_{a}=\lim_{N\to\infty}N\cdot x(N)=\lim_{N\to\infty}\frac{P_{0}\cdot r}{1-(1+%
\frac{r}{N})^{-NT}}=\frac{P_{0}\cdot r}{1-e^{-rT}}.
  </annotation>
 </semantics>
</math>

 <a class="footnoteRef" href="#fn7" id="fnref7"><sup>7</sup></a></p>

<p>At this point in the orthodox formula for present value, the latter is more properly represented as a function of annual compounding frequency <em>N</em> and time <em>t</em>:</p>

<p>

<math display="block" id="Continuous-repayment_mortgage:8">
 <semantics>
  <mrow>
   <mrow>
    <msub>
     <mi>P</mi>
     <mi>v</mi>
    </msub>
    <mrow>
     <mo stretchy="false">(</mo>
     <mi>N</mi>
     <mo>,</mo>
     <mi>t</mi>
     <mo stretchy="false">)</mo>
    </mrow>
   </mrow>
   <mo>=</mo>
   <mfrac>
    <mrow>
     <mrow>
      <mi>N</mi>
      <mo>⋅</mo>
      <mi>x</mi>
     </mrow>
     <mrow>
      <mo stretchy="false">(</mo>
      <mi>N</mi>
      <mo stretchy="false">)</mo>
     </mrow>
     <mrow>
      <mo stretchy="false">(</mo>
      <mrow>
       <mn>1</mn>
       <mo>-</mo>
       <msup>
        <mrow>
         <mo stretchy="false">(</mo>
         <mrow>
          <mn>1</mn>
          <mo>+</mo>
          <mfrac>
           <mi>r</mi>
           <mi>N</mi>
          </mfrac>
         </mrow>
         <mo stretchy="false">)</mo>
        </mrow>
        <mrow>
         <mo>-</mo>
         <mrow>
          <mi>N</mi>
          <mi>t</mi>
         </mrow>
        </mrow>
       </msup>
      </mrow>
      <mo stretchy="false">)</mo>
     </mrow>
    </mrow>
    <mi>r</mi>
   </mfrac>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <times></times>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <ci>P</ci>
      <ci>v</ci>
     </apply>
     <interval closure="open">
      <ci>N</ci>
      <ci>t</ci>
     </interval>
    </apply>
    <apply>
     <divide></divide>
     <apply>
      <times></times>
      <apply>
       <ci>normal-⋅</ci>
       <ci>N</ci>
       <ci>x</ci>
      </apply>
      <ci>N</ci>
      <apply>
       <minus></minus>
       <cn type="integer">1</cn>
       <apply>
        <csymbol cd="ambiguous">superscript</csymbol>
        <apply>
         <plus></plus>
         <cn type="integer">1</cn>
         <apply>
          <divide></divide>
          <ci>r</ci>
          <ci>N</ci>
         </apply>
        </apply>
        <apply>
         <minus></minus>
         <apply>
          <times></times>
          <ci>N</ci>
          <ci>t</ci>
         </apply>
        </apply>
       </apply>
      </apply>
     </apply>
     <ci>r</ci>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   P_{v}(N,t)=\frac{N\cdot x(N)(1-(1+\frac{r}{N})^{-Nt})}{r}
  </annotation>
 </semantics>
</math>

</p>

<p>Applying the limiting expression developed above we may write present value as a purely time dependent function:</p>

<p>

<math display="block" id="Continuous-repayment_mortgage:9">
 <semantics>
  <mrow>
   <mrow>
    <msub>
     <mi>P</mi>
     <mi>v</mi>
    </msub>
    <mrow>
     <mo stretchy="false">(</mo>
     <mi>t</mi>
     <mo stretchy="false">)</mo>
    </mrow>
   </mrow>
   <mo>=</mo>
   <mrow>
    <munder>
     <mo movablelimits="false">lim</mo>
     <mrow>
      <mi>N</mi>
      <mo>→</mo>
      <mi mathvariant="normal">∞</mi>
     </mrow>
    </munder>
    <mrow>
     <msub>
      <mi>P</mi>
      <mi>v</mi>
     </msub>
     <mrow>
      <mo stretchy="false">(</mo>
      <mi>N</mi>
      <mo>,</mo>
      <mi>t</mi>
      <mo stretchy="false">)</mo>
     </mrow>
    </mrow>
   </mrow>
   <mo>=</mo>
   <mrow>
    <mfrac>
     <msub>
      <mi>M</mi>
      <mi>a</mi>
     </msub>
     <mi>r</mi>
    </mfrac>
    <mrow>
     <mo stretchy="false">(</mo>
     <mrow>
      <mn>1</mn>
      <mo>-</mo>
      <msup>
       <mi>e</mi>
       <mrow>
        <mo>-</mo>
        <mrow>
         <mi>r</mi>
         <mi>t</mi>
        </mrow>
       </mrow>
      </msup>
     </mrow>
     <mo stretchy="false">)</mo>
    </mrow>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <and></and>
    <apply>
     <eq></eq>
     <apply>
      <times></times>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>P</ci>
       <ci>v</ci>
      </apply>
      <ci>t</ci>
     </apply>
     <apply>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <limit></limit>
       <apply>
        <ci>normal-→</ci>
        <ci>N</ci>
        <infinity></infinity>
       </apply>
      </apply>
      <apply>
       <times></times>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>P</ci>
        <ci>v</ci>
       </apply>
       <interval closure="open">
        <ci>N</ci>
        <ci>t</ci>
       </interval>
      </apply>
     </apply>
    </apply>
    <apply>
     <eq></eq>
     <share href="#.cmml">
     </share>
     <apply>
      <times></times>
      <apply>
       <divide></divide>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>M</ci>
        <ci>a</ci>
       </apply>
       <ci>r</ci>
      </apply>
      <apply>
       <minus></minus>
       <cn type="integer">1</cn>
       <apply>
        <csymbol cd="ambiguous">superscript</csymbol>
        <ci>e</ci>
        <apply>
         <minus></minus>
         <apply>
          <times></times>
          <ci>r</ci>
          <ci>t</ci>
         </apply>
        </apply>
       </apply>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   P_{v}(t)=\lim_{N\to\infty}P_{v}(N,t)=\frac{M_{a}}{r}(1-e^{-rt})
  </annotation>
 </semantics>
</math>

<a class="footnoteRef" href="#fn8" id="fnref8"><sup>8</sup></a></p>

<p>Noting that the balance due <em>P</em>(<em>t</em>) on a loan <em>t</em> years after its inception is simply the present value of the contributions for the remaining period (i.e. <em>T</em> − <em>t</em>), we determine:</p>

<p>

<math display="block" id="Continuous-repayment_mortgage:10">
 <semantics>
  <mrow>
   <mrow>
    <mi>P</mi>
    <mrow>
     <mo stretchy="false">(</mo>
     <mi>t</mi>
     <mo stretchy="false">)</mo>
    </mrow>
   </mrow>
   <mo>=</mo>
   <mrow>
    <mfrac>
     <msub>
      <mi>M</mi>
      <mi>a</mi>
     </msub>
     <mi>r</mi>
    </mfrac>
    <mrow>
     <mo stretchy="false">(</mo>
     <mrow>
      <mn>1</mn>
      <mo>-</mo>
      <msup>
       <mi>e</mi>
       <mrow>
        <mo>-</mo>
        <mrow>
         <mi>r</mi>
         <mrow>
          <mo stretchy="false">(</mo>
          <mrow>
           <mi>T</mi>
           <mo>-</mo>
           <mi>t</mi>
          </mrow>
          <mo stretchy="false">)</mo>
         </mrow>
        </mrow>
       </mrow>
      </msup>
     </mrow>
     <mo stretchy="false">)</mo>
    </mrow>
   </mrow>
   <mo>=</mo>
   <mfrac>
    <mrow>
     <msub>
      <mi>P</mi>
      <mn>0</mn>
     </msub>
     <mrow>
      <mo stretchy="false">(</mo>
      <mrow>
       <mn>1</mn>
       <mo>-</mo>
       <msup>
        <mi>e</mi>
        <mrow>
         <mo>-</mo>
         <mrow>
          <mi>r</mi>
          <mrow>
           <mo stretchy="false">(</mo>
           <mrow>
            <mi>T</mi>
            <mo>-</mo>
            <mi>t</mi>
           </mrow>
           <mo stretchy="false">)</mo>
          </mrow>
         </mrow>
        </mrow>
       </msup>
      </mrow>
      <mo stretchy="false">)</mo>
     </mrow>
    </mrow>
    <mrow>
     <mn>1</mn>
     <mo>-</mo>
     <msup>
      <mi>e</mi>
      <mrow>
       <mo>-</mo>
       <mrow>
        <mi>r</mi>
        <mi>T</mi>
       </mrow>
      </mrow>
     </msup>
    </mrow>
   </mfrac>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <and></and>
    <apply>
     <eq></eq>
     <apply>
      <times></times>
      <ci>P</ci>
      <ci>t</ci>
     </apply>
     <apply>
      <times></times>
      <apply>
       <divide></divide>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>M</ci>
        <ci>a</ci>
       </apply>
       <ci>r</ci>
      </apply>
      <apply>
       <minus></minus>
       <cn type="integer">1</cn>
       <apply>
        <csymbol cd="ambiguous">superscript</csymbol>
        <ci>e</ci>
        <apply>
         <minus></minus>
         <apply>
          <times></times>
          <ci>r</ci>
          <apply>
           <minus></minus>
           <ci>T</ci>
           <ci>t</ci>
          </apply>
         </apply>
        </apply>
       </apply>
      </apply>
     </apply>
    </apply>
    <apply>
     <eq></eq>
     <share href="#.cmml">
     </share>
     <apply>
      <divide></divide>
      <apply>
       <times></times>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>P</ci>
        <cn type="integer">0</cn>
       </apply>
       <apply>
        <minus></minus>
        <cn type="integer">1</cn>
        <apply>
         <csymbol cd="ambiguous">superscript</csymbol>
         <ci>e</ci>
         <apply>
          <minus></minus>
          <apply>
           <times></times>
           <ci>r</ci>
           <apply>
            <minus></minus>
            <ci>T</ci>
            <ci>t</ci>
           </apply>
          </apply>
         </apply>
        </apply>
       </apply>
      </apply>
      <apply>
       <minus></minus>
       <cn type="integer">1</cn>
       <apply>
        <csymbol cd="ambiguous">superscript</csymbol>
        <ci>e</ci>
        <apply>
         <minus></minus>
         <apply>
          <times></times>
          <ci>r</ci>
          <ci>T</ci>
         </apply>
        </apply>
       </apply>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   P(t)=\frac{M_{a}}{r}(1-e^{-r(T-t)})=\frac{P_{0}(1-e^{-r(T-t)})}{1-e^{-rT}}
  </annotation>
 </semantics>
</math>

 <a class="footnoteRef" href="#fn9" id="fnref9"><sup>9</sup></a></p>

<p>The graph(s) in the diagram are a comparison of balance due on a mortgage (1 million for 20 years @ <em>r</em> = 10%) calculated firstly according to the above time continuous model and secondly using the Excel PV function. As may be seen the curves are virtually indistinguishable – calculations effected using the model differ from those effected using the Excel PV function by a mere 0.3% (max). The data from which the graph(s) were derived can be viewed <a href="Media:Mortgage_Balance_model_data.pdf" title="wikilink">here.</a></p>
<h2 id="comparison-with-similar-physical-systems">Comparison with similar physical systems</h2>

<p>Define the "reverse time" variable <em>z</em> = <em>T</em> − <em>t</em>. (<em>t</em> = 0, <em>z</em> = <em>T</em> and <em>t</em> = <em>T</em>, <em>z</em> = 0). Then: </p>

<p>

<math display="block" id="Continuous-repayment_mortgage:11">
 <semantics>
  <mrow>
   <mrow>
    <mrow>
     <mi>P</mi>
     <mrow>
      <mo stretchy="false">(</mo>
      <mi>z</mi>
      <mo stretchy="false">)</mo>
     </mrow>
    </mrow>
    <mo>=</mo>
    <mrow>
     <mfrac>
      <msub>
       <mi>M</mi>
       <mi>a</mi>
      </msub>
      <mi>r</mi>
     </mfrac>
     <mrow>
      <mo stretchy="false">(</mo>
      <mrow>
       <mn>1</mn>
       <mo>-</mo>
       <msup>
        <mi>e</mi>
        <mrow>
         <mo>-</mo>
         <mrow>
          <mi>r</mi>
          <mi>z</mi>
         </mrow>
        </mrow>
       </msup>
      </mrow>
      <mo stretchy="false">)</mo>
     </mrow>
    </mrow>
   </mrow>
   <mo>.</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <times></times>
     <ci>P</ci>
     <ci>z</ci>
    </apply>
    <apply>
     <times></times>
     <apply>
      <divide></divide>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>M</ci>
       <ci>a</ci>
      </apply>
      <ci>r</ci>
     </apply>
     <apply>
      <minus></minus>
      <cn type="integer">1</cn>
      <apply>
       <csymbol cd="ambiguous">superscript</csymbol>
       <ci>e</ci>
       <apply>
        <minus></minus>
        <apply>
         <times></times>
         <ci>r</ci>
         <ci>z</ci>
        </apply>
       </apply>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   P(z)=\frac{M_{a}}{r}(1-e^{-rz}).
  </annotation>
 </semantics>
</math>

</p>

<p>This may be recognized as a solution to the "reverse time" differential equation:</p>

<p>

<math display="block" id="Continuous-repayment_mortgage:12">
 <semantics>
  <mrow>
   <mrow>
    <mfrac>
     <msub>
      <mi>M</mi>
      <mi>a</mi>
     </msub>
     <mi>r</mi>
    </mfrac>
    <mo>=</mo>
    <mrow>
     <mrow>
      <mfrac>
       <mn>1</mn>
       <mi>r</mi>
      </mfrac>
      <mfrac>
       <mrow>
        <mi>d</mi>
        <mi>P</mi>
        <mrow>
         <mo stretchy="false">(</mo>
         <mi>z</mi>
         <mo stretchy="false">)</mo>
        </mrow>
       </mrow>
       <mrow>
        <mi>d</mi>
        <mi>z</mi>
       </mrow>
      </mfrac>
     </mrow>
     <mo>+</mo>
     <mrow>
      <mi>P</mi>
      <mrow>
       <mo stretchy="false">(</mo>
       <mi>z</mi>
       <mo stretchy="false">)</mo>
      </mrow>
     </mrow>
    </mrow>
   </mrow>
   <mo>.</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <divide></divide>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <ci>M</ci>
      <ci>a</ci>
     </apply>
     <ci>r</ci>
    </apply>
    <apply>
     <plus></plus>
     <apply>
      <times></times>
      <apply>
       <divide></divide>
       <cn type="integer">1</cn>
       <ci>r</ci>
      </apply>
      <apply>
       <divide></divide>
       <apply>
        <times></times>
        <ci>d</ci>
        <ci>P</ci>
        <ci>z</ci>
       </apply>
       <apply>
        <times></times>
        <ci>d</ci>
        <ci>z</ci>
       </apply>
      </apply>
     </apply>
     <apply>
      <times></times>
      <ci>P</ci>
      <ci>z</ci>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \frac{M_{a}}{r}=\frac{1}{r}\frac{dP(z)}{dz}+P(z).
  </annotation>
 </semantics>
</math>

</p>

<p>Electrical/electronic engineers and physicists will be familiar with an equation of this nature: it is an exact analogue of the type of differential equation which governs (for example) the charging of a capacitor in an RC circuit.</p>

<p>

<math display="block" id="Continuous-repayment_mortgage:13">
 <semantics>
  <mrow>
   <mrow>
    <msub>
     <mi>V</mi>
     <mn>0</mn>
    </msub>
    <mo>=</mo>
    <mrow>
     <mrow>
      <mi>R</mi>
      <mi>C</mi>
      <mfrac>
       <mrow>
        <mi>d</mi>
        <mi>V</mi>
        <mrow>
         <mo stretchy="false">(</mo>
         <mi>t</mi>
         <mo stretchy="false">)</mo>
        </mrow>
       </mrow>
       <mrow>
        <mi>d</mi>
        <mi>t</mi>
       </mrow>
      </mfrac>
     </mrow>
     <mo>+</mo>
     <mrow>
      <mi>V</mi>
      <mrow>
       <mo stretchy="false">(</mo>
       <mi>t</mi>
       <mo stretchy="false">)</mo>
      </mrow>
     </mrow>
    </mrow>
   </mrow>
   <mo>.</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <csymbol cd="ambiguous">subscript</csymbol>
     <ci>V</ci>
     <cn type="integer">0</cn>
    </apply>
    <apply>
     <plus></plus>
     <apply>
      <times></times>
      <ci>R</ci>
      <ci>C</ci>
      <apply>
       <divide></divide>
       <apply>
        <times></times>
        <ci>d</ci>
        <ci>V</ci>
        <ci>t</ci>
       </apply>
       <apply>
        <times></times>
        <ci>d</ci>
        <ci>t</ci>
       </apply>
      </apply>
     </apply>
     <apply>
      <times></times>
      <ci>V</ci>
      <ci>t</ci>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   V_{0}=RC\frac{dV(t)}{dt}+V(t).
  </annotation>
 </semantics>
</math>

</p>

<p>The key characteristics of such equations are explained in detail at <a href="RC_circuit#Time-domain_considerations" title="wikilink">RC circuits</a>. For home owners with mortgages the important parameter to keep in mind is the <a href="time_constant" title="wikilink">time constant</a> of the equation which is simply the reciprocal of the annual interest rate <em>r</em>. So (for example) the time constant when the interest rate is 10% is 10 years and the period of a home loan should be determined – within the bounds of affordability – as a minimum multiple of this if the objective is to minimise interest paid on the loan.</p>
<h2 id="mortgage-difference-and-differential-equation">Mortgage difference and differential equation</h2>

<p>The conventional <a href="difference_equation" title="wikilink">difference equation</a> for a mortgage loan is relatively straightforward to derive - balance due in each successive period is the previous balance plus per period interest less the per period fixed payment.</p>

<p>Given an <strong>annual</strong> interest rate <em>r</em> and a borrower with an <strong>annual</strong> payment capability <em>M</em><sub><em>N</em></sub> (divided into N equal payments made at time intervals Δ<em>t</em> where Δ<em>t</em> = 1/<em>N</em> years), we may write:</p>

<p>

<math display="inline" id="Continuous-repayment_mortgage:14">
 <semantics>
  <msub>
   <mi>P</mi>
   <mrow>
    <mi>t</mi>
    <mo>+</mo>
    <mrow>
     <mi mathvariant="normal">Δ</mi>
     <mi>t</mi>
    </mrow>
   </mrow>
  </msub>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <csymbol cd="ambiguous">subscript</csymbol>
    <ci>P</ci>
    <apply>
     <plus></plus>
     <ci>t</ci>
     <apply>
      <times></times>
      <ci>normal-Δ</ci>
      <ci>t</ci>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \displaystyle P_{t+\Delta t}
  </annotation>
 </semantics>
</math>


</p>

<p>If <em>N</em> is increased indefinitely so that Δ<em>t</em> → 0, we obtain the continuous time differential equation:</p>

<p>

<math display="block" id="Continuous-repayment_mortgage:15">
 <semantics>
  <mrow>
   <mfrac>
    <mrow>
     <mrow>
      <mo>d</mo>
      <mi>P</mi>
     </mrow>
     <mrow>
      <mo stretchy="false">(</mo>
      <mi>t</mi>
      <mo stretchy="false">)</mo>
     </mrow>
    </mrow>
    <mrow>
     <mo>d</mo>
     <mi>t</mi>
    </mrow>
   </mfrac>
   <mo>=</mo>
   <mrow>
    <mrow>
     <mi>r</mi>
     <mi>P</mi>
     <mrow>
      <mo stretchy="false">(</mo>
      <mi>t</mi>
      <mo stretchy="false">)</mo>
     </mrow>
    </mrow>
    <mo>-</mo>
    <msub>
     <mi>M</mi>
     <mi>a</mi>
    </msub>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <divide></divide>
     <apply>
      <times></times>
      <apply>
       <ci>normal-d</ci>
       <ci>P</ci>
      </apply>
      <ci>t</ci>
     </apply>
     <apply>
      <ci>normal-d</ci>
      <ci>t</ci>
     </apply>
    </apply>
    <apply>
     <minus></minus>
     <apply>
      <times></times>
      <ci>r</ci>
      <ci>P</ci>
      <ci>t</ci>
     </apply>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <ci>M</ci>
      <ci>a</ci>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   {\operatorname{d}P(t)\over\operatorname{d}t}=rP(t)-M_{a}
  </annotation>
 </semantics>
</math>

 <a class="footnoteRef" href="#fn10" id="fnref10"><sup>10</sup></a><a class="footnoteRef" href="#fn11" id="fnref11"><sup>11</sup></a></p>

<p>Note that for there to be a continually diminishing mortgage balance, the following inequality must hold:</p>

<p>

<math display="block" id="Continuous-repayment_mortgage:16">
 <semantics>
  <mrow>
   <msub>
    <mi>P</mi>
    <mn>0</mn>
   </msub>
   <mo>⩽</mo>
   <mfrac>
    <msub>
     <mi>M</mi>
     <mi>a</mi>
    </msub>
    <mi>r</mi>
   </mfrac>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <leq></leq>
    <apply>
     <csymbol cd="ambiguous">subscript</csymbol>
     <ci>P</ci>
     <cn type="integer">0</cn>
    </apply>
    <apply>
     <divide></divide>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <ci>M</ci>
      <ci>a</ci>
     </apply>
     <ci>r</ci>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   P_{0}\leqslant\frac{M_{a}}{r}
  </annotation>
 </semantics>
</math>

<a class="footnoteRef" href="#fn12" id="fnref12"><sup>12</sup></a></p>

<p><em>P</em><sub>0</sub> is the same as <em>P</em>(0) – the original loan amount or loan balance at time <em>t</em> = 0.</p>
<h3 id="solving-the-difference-equation">Solving the difference equation</h3>

<p>We begin by re-writing the difference equation in recursive form:</p>

<p>

<math display="block" id="Continuous-repayment_mortgage:17">
 <semantics>
  <mrow>
   <msub>
    <mi>P</mi>
    <mrow>
     <mi>t</mi>
     <mo>+</mo>
     <mrow>
      <mi mathvariant="normal">Δ</mi>
      <mi>t</mi>
     </mrow>
    </mrow>
   </msub>
   <mo>=</mo>
   <mrow>
    <mrow>
     <msub>
      <mi>P</mi>
      <mi>t</mi>
     </msub>
     <mrow>
      <mo stretchy="false">(</mo>
      <mrow>
       <mn>1</mn>
       <mo>+</mo>
       <mrow>
        <mi>r</mi>
        <mi mathvariant="normal">Δ</mi>
        <mi>t</mi>
       </mrow>
      </mrow>
      <mo stretchy="false">)</mo>
     </mrow>
    </mrow>
    <mo>-</mo>
    <mrow>
     <msub>
      <mi>M</mi>
      <mi>N</mi>
     </msub>
     <mi mathvariant="normal">Δ</mi>
     <mpadded width="+2.8pt">
      <mi>t</mi>
     </mpadded>
    </mrow>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <csymbol cd="ambiguous">subscript</csymbol>
     <ci>P</ci>
     <apply>
      <plus></plus>
      <ci>t</ci>
      <apply>
       <times></times>
       <ci>normal-Δ</ci>
       <ci>t</ci>
      </apply>
     </apply>
    </apply>
    <apply>
     <minus></minus>
     <apply>
      <times></times>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>P</ci>
       <ci>t</ci>
      </apply>
      <apply>
       <plus></plus>
       <cn type="integer">1</cn>
       <apply>
        <times></times>
        <ci>r</ci>
        <ci>normal-Δ</ci>
        <ci>t</ci>
       </apply>
      </apply>
     </apply>
     <apply>
      <times></times>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>M</ci>
       <ci>N</ci>
      </apply>
      <ci>normal-Δ</ci>
      <ci>t</ci>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   P_{t+\Delta t}=P_{t}(1+r\Delta t)-M_{N}\Delta t\;
  </annotation>
 </semantics>
</math>

</p>

<p>Using the notation <em>P</em><sub><em>n</em></sub> to indicate the mortgage balance after <em>n</em> periods, we may apply the recursion relation iteratively to determine <em>P</em><sub>1</sub> and <em>P</em><sub>2</sub>:</p>

<p>

<math display="block" id="Continuous-repayment_mortgage:18">
 <semantics>
  <mrow>
   <msub>
    <mi>P</mi>
    <mn>1</mn>
   </msub>
   <mo>=</mo>
   <mrow>
    <mrow>
     <msub>
      <mi>P</mi>
      <mn>0</mn>
     </msub>
     <mrow>
      <mo stretchy="false">(</mo>
      <mrow>
       <mn>1</mn>
       <mo>+</mo>
       <mrow>
        <mi>r</mi>
        <mi mathvariant="normal">Δ</mi>
        <mi>t</mi>
       </mrow>
      </mrow>
      <mo stretchy="false">)</mo>
     </mrow>
    </mrow>
    <mo>-</mo>
    <mrow>
     <msub>
      <mi>M</mi>
      <mi>N</mi>
     </msub>
     <mi mathvariant="normal">Δ</mi>
     <mpadded width="+2.8pt">
      <mi>t</mi>
     </mpadded>
    </mrow>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <csymbol cd="ambiguous">subscript</csymbol>
     <ci>P</ci>
     <cn type="integer">1</cn>
    </apply>
    <apply>
     <minus></minus>
     <apply>
      <times></times>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>P</ci>
       <cn type="integer">0</cn>
      </apply>
      <apply>
       <plus></plus>
       <cn type="integer">1</cn>
       <apply>
        <times></times>
        <ci>r</ci>
        <ci>normal-Δ</ci>
        <ci>t</ci>
       </apply>
      </apply>
     </apply>
     <apply>
      <times></times>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>M</ci>
       <ci>N</ci>
      </apply>
      <ci>normal-Δ</ci>
      <ci>t</ci>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   P_{1}=P_{0}(1+r\Delta t)-M_{N}\Delta t\;
  </annotation>
 </semantics>
</math>

</p>

<p>

<math display="inline" id="Continuous-repayment_mortgage:19">
 <semantics>
  <msub>
   <mi>P</mi>
   <mn>2</mn>
  </msub>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <csymbol cd="ambiguous">subscript</csymbol>
    <ci>P</ci>
    <cn type="integer">2</cn>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \displaystyle P_{2}
  </annotation>
 </semantics>
</math>


</p>

<p>It can already be seen that the terms containing <em>M</em><sub><em>N</em></sub> form a geometric series with common ratio 1 + <em>r</em>Δ <em>t</em>. This enables us to write a general expression for <em>P</em><sub><em>n</em></sub>:</p>

<p>

<math display="inline" id="Continuous-repayment_mortgage:20">
 <semantics>
  <msub>
   <mi>P</mi>
   <mi>n</mi>
  </msub>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <csymbol cd="ambiguous">subscript</csymbol>
    <ci>P</ci>
    <ci>n</ci>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \displaystyle P_{n}
  </annotation>
 </semantics>
</math>


</p>

<p>Finally noting that <em>r</em> Δ <em>t</em> = <em>i</em> the per-period interest rate and 

<math display="inline" id="Continuous-repayment_mortgage:21">
 <semantics>
  <mrow>
   <mrow>
    <msub>
     <mi>M</mi>
     <mi>N</mi>
    </msub>
    <mi mathvariant="normal">Δ</mi>
    <mi>t</mi>
   </mrow>
   <mo>=</mo>
   <mi>x</mi>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <times></times>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <ci>M</ci>
      <ci>N</ci>
     </apply>
     <ci>normal-Δ</ci>
     <ci>t</ci>
    </apply>
    <ci>x</ci>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   M_{N}\Delta t=x
  </annotation>
 </semantics>
</math>

 the per period payment, the expression may be written in conventional form:</p>

<p>

<math display="block" id="Continuous-repayment_mortgage:22">
 <semantics>
  <mrow>
   <msub>
    <mi>P</mi>
    <mi>n</mi>
   </msub>
   <mo>=</mo>
   <mrow>
    <mrow>
     <msub>
      <mi>P</mi>
      <mn>0</mn>
     </msub>
     <msup>
      <mrow>
       <mo stretchy="false">(</mo>
       <mrow>
        <mn>1</mn>
        <mo>+</mo>
        <mi>i</mi>
       </mrow>
       <mo stretchy="false">)</mo>
      </mrow>
      <mi>n</mi>
     </msup>
    </mrow>
    <mo>-</mo>
    <mfrac>
     <mrow>
      <mi>x</mi>
      <mrow>
       <mo stretchy="false">[</mo>
       <mrow>
        <msup>
         <mrow>
          <mo stretchy="false">(</mo>
          <mrow>
           <mn>1</mn>
           <mo>+</mo>
           <mi>i</mi>
          </mrow>
          <mo stretchy="false">)</mo>
         </mrow>
         <mi>n</mi>
        </msup>
        <mo>-</mo>
        <mn>1</mn>
       </mrow>
       <mo stretchy="false">]</mo>
      </mrow>
     </mrow>
     <mi>i</mi>
    </mfrac>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <csymbol cd="ambiguous">subscript</csymbol>
     <ci>P</ci>
     <ci>n</ci>
    </apply>
    <apply>
     <minus></minus>
     <apply>
      <times></times>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>P</ci>
       <cn type="integer">0</cn>
      </apply>
      <apply>
       <csymbol cd="ambiguous">superscript</csymbol>
       <apply>
        <plus></plus>
        <cn type="integer">1</cn>
        <ci>i</ci>
       </apply>
       <ci>n</ci>
      </apply>
     </apply>
     <apply>
      <divide></divide>
      <apply>
       <times></times>
       <ci>x</ci>
       <apply>
        <csymbol cd="latexml">delimited-[]</csymbol>
        <apply>
         <minus></minus>
         <apply>
          <csymbol cd="ambiguous">superscript</csymbol>
          <apply>
           <plus></plus>
           <cn type="integer">1</cn>
           <ci>i</ci>
          </apply>
          <ci>n</ci>
         </apply>
         <cn type="integer">1</cn>
        </apply>
       </apply>
      </apply>
      <ci>i</ci>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   P_{n}=P_{0}(1+i)^{n}-\dfrac{x[(1+i)^{n}-1]}{i}
  </annotation>
 </semantics>
</math>

</p>

<p>If the loan timespan is m periods, then <em>P</em><sub><em>m</em></sub> = 0 and we obtain the standard present value formula:</p>

<p>

<math display="block" id="Continuous-repayment_mortgage:23">
 <semantics>
  <mrow>
   <msub>
    <mi>P</mi>
    <mn>0</mn>
   </msub>
   <mo>=</mo>
   <mfrac>
    <mrow>
     <mi>x</mi>
     <mrow>
      <mo stretchy="false">[</mo>
      <mrow>
       <mn>1</mn>
       <mo>-</mo>
       <msup>
        <mrow>
         <mo stretchy="false">(</mo>
         <mrow>
          <mn>1</mn>
          <mo>+</mo>
          <mi>i</mi>
         </mrow>
         <mo stretchy="false">)</mo>
        </mrow>
        <mrow>
         <mo>-</mo>
         <mi>m</mi>
        </mrow>
       </msup>
      </mrow>
      <mo stretchy="false">]</mo>
     </mrow>
    </mrow>
    <mi>i</mi>
   </mfrac>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <csymbol cd="ambiguous">subscript</csymbol>
     <ci>P</ci>
     <cn type="integer">0</cn>
    </apply>
    <apply>
     <divide></divide>
     <apply>
      <times></times>
      <ci>x</ci>
      <apply>
       <csymbol cd="latexml">delimited-[]</csymbol>
       <apply>
        <minus></minus>
        <cn type="integer">1</cn>
        <apply>
         <csymbol cd="ambiguous">superscript</csymbol>
         <apply>
          <plus></plus>
          <cn type="integer">1</cn>
          <ci>i</ci>
         </apply>
         <apply>
          <minus></minus>
          <ci>m</ci>
         </apply>
        </apply>
       </apply>
      </apply>
     </apply>
     <ci>i</ci>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   P_{0}=\dfrac{x[1-(1+i)^{-m}]}{i}
  </annotation>
 </semantics>
</math>

</p>
<h3 id="solving-the-differential-equation">Solving the differential equation</h3>

<p>

<math display="block" id="Continuous-repayment_mortgage:24">
 <semantics>
  <mrow>
   <mfrac>
    <mrow>
     <mrow>
      <mo>d</mo>
      <mi>P</mi>
     </mrow>
     <mrow>
      <mo stretchy="false">(</mo>
      <mi>t</mi>
      <mo stretchy="false">)</mo>
     </mrow>
    </mrow>
    <mrow>
     <mo>d</mo>
     <mi>t</mi>
    </mrow>
   </mfrac>
   <mo>=</mo>
   <mrow>
    <mrow>
     <mi>r</mi>
     <mi>P</mi>
     <mrow>
      <mo stretchy="false">(</mo>
      <mi>t</mi>
      <mo stretchy="false">)</mo>
     </mrow>
    </mrow>
    <mo>-</mo>
    <msub>
     <mi>M</mi>
     <mi>a</mi>
    </msub>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <divide></divide>
     <apply>
      <times></times>
      <apply>
       <ci>normal-d</ci>
       <ci>P</ci>
      </apply>
      <ci>t</ci>
     </apply>
     <apply>
      <ci>normal-d</ci>
      <ci>t</ci>
     </apply>
    </apply>
    <apply>
     <minus></minus>
     <apply>
      <times></times>
      <ci>r</ci>
      <ci>P</ci>
      <ci>t</ci>
     </apply>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <ci>M</ci>
      <ci>a</ci>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   {\operatorname{d}P(t)\over\operatorname{d}t}=rP(t)-M_{a}
  </annotation>
 </semantics>
</math>

</p>

<p>One method of solving the equation is to obtain the <a href="Laplace_transform" title="wikilink">Laplace transform</a> <em>P</em>(<em>s</em>):</p>

<p>

<math display="block" id="Continuous-repayment_mortgage:25">
 <semantics>
  <mrow>
   <mrow>
    <mrow>
     <mi>P</mi>
     <mrow>
      <mo stretchy="false">(</mo>
      <mi>s</mi>
      <mo stretchy="false">)</mo>
     </mrow>
    </mrow>
    <mo>=</mo>
    <mfrac>
     <msub>
      <mi>M</mi>
      <mi>a</mi>
     </msub>
     <mrow>
      <mi>s</mi>
      <mrow>
       <mo stretchy="false">(</mo>
       <mrow>
        <mi>r</mi>
        <mo>-</mo>
        <mi>s</mi>
       </mrow>
       <mo stretchy="false">)</mo>
      </mrow>
     </mrow>
    </mfrac>
    <mo>=</mo>
    <mrow>
     <mfrac>
      <msub>
       <mi>M</mi>
       <mi>a</mi>
      </msub>
      <mi>r</mi>
     </mfrac>
     <mo>×</mo>
     <mfrac>
      <mrow>
       <mo stretchy="false">(</mo>
       <mrow>
        <mo>-</mo>
        <mi>r</mi>
       </mrow>
       <mo stretchy="false">)</mo>
      </mrow>
      <mrow>
       <mi>s</mi>
       <mrow>
        <mo stretchy="false">(</mo>
        <mrow>
         <mi>s</mi>
         <mo>-</mo>
         <mi>r</mi>
        </mrow>
        <mo stretchy="false">)</mo>
       </mrow>
      </mrow>
     </mfrac>
    </mrow>
   </mrow>
   <mo>.</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <and></and>
    <apply>
     <eq></eq>
     <apply>
      <times></times>
      <ci>P</ci>
      <ci>s</ci>
     </apply>
     <apply>
      <divide></divide>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>M</ci>
       <ci>a</ci>
      </apply>
      <apply>
       <times></times>
       <ci>s</ci>
       <apply>
        <minus></minus>
        <ci>r</ci>
        <ci>s</ci>
       </apply>
      </apply>
     </apply>
    </apply>
    <apply>
     <eq></eq>
     <share href="#.cmml">
     </share>
     <apply>
      <times></times>
      <apply>
       <divide></divide>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>M</ci>
        <ci>a</ci>
       </apply>
       <ci>r</ci>
      </apply>
      <apply>
       <divide></divide>
       <apply>
        <minus></minus>
        <ci>r</ci>
       </apply>
       <apply>
        <times></times>
        <ci>s</ci>
        <apply>
         <minus></minus>
         <ci>s</ci>
         <ci>r</ci>
        </apply>
       </apply>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   P(s)=\frac{M_{a}}{s(r-s)}=\frac{M_{a}}{r}\times\frac{(-r)}{s(s-r)}.
  </annotation>
 </semantics>
</math>

</p>

<p>Using a <a href="Laplace_transform#Table_of_selected_Laplace_transforms" title="wikilink">table of Laplace transforms</a> and their time domain equivalents, <em>P</em>(<em>t</em>) may be determined:</p>

<p>

<math display="block" id="Continuous-repayment_mortgage:26">
 <semantics>
  <mrow>
   <mrow>
    <mrow>
     <mi>P</mi>
     <mrow>
      <mo stretchy="false">(</mo>
      <mi>t</mi>
      <mo stretchy="false">)</mo>
     </mrow>
    </mrow>
    <mo>=</mo>
    <mrow>
     <mfrac>
      <msub>
       <mi>M</mi>
       <mi>a</mi>
      </msub>
      <mi>r</mi>
     </mfrac>
     <mrow>
      <mo stretchy="false">(</mo>
      <mrow>
       <mn>1</mn>
       <mo>-</mo>
       <msup>
        <mi>e</mi>
        <mrow>
         <mi>r</mi>
         <mi>t</mi>
        </mrow>
       </msup>
      </mrow>
      <mo stretchy="false">)</mo>
     </mrow>
    </mrow>
   </mrow>
   <mo>.</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <times></times>
     <ci>P</ci>
     <ci>t</ci>
    </apply>
    <apply>
     <times></times>
     <apply>
      <divide></divide>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>M</ci>
       <ci>a</ci>
      </apply>
      <ci>r</ci>
     </apply>
     <apply>
      <minus></minus>
      <cn type="integer">1</cn>
      <apply>
       <csymbol cd="ambiguous">superscript</csymbol>
       <ci>e</ci>
       <apply>
        <times></times>
        <ci>r</ci>
        <ci>t</ci>
       </apply>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   P(t)=\frac{M_{a}}{r}(1-e^{rt}).
  </annotation>
 </semantics>
</math>

</p>

<p>In order to fit this solution to the particular start and end points of the mortgage function we need to introduce a time shift of <em>T</em> years (<em>T</em> = loan period) to ensure the function reaches zero at the end of the loan period:</p>

<p>

<math display="inline" id="Continuous-repayment_mortgage:27">
 <semantics>
  <mrow>
   <mrow>
    <mi>P</mi>
    <mrow>
     <mo stretchy="false">(</mo>
     <mi>t</mi>
     <mo stretchy="false">)</mo>
    </mrow>
   </mrow>
   <mo>=</mo>
   <mrow>
    <mstyle displaystyle="true">
     <mfrac>
      <msub>
       <mi>M</mi>
       <mi>a</mi>
      </msub>
      <mi>r</mi>
     </mfrac>
    </mstyle>
    <mrow>
     <mo stretchy="false">(</mo>
     <mrow>
      <mn>1</mn>
      <mo>-</mo>
      <msup>
       <mi>e</mi>
       <mrow>
        <mi>r</mi>
        <mrow>
         <mo stretchy="false">(</mo>
         <mrow>
          <mi>t</mi>
          <mo>-</mo>
          <mi>T</mi>
         </mrow>
         <mo stretchy="false">)</mo>
        </mrow>
       </mrow>
      </msup>
     </mrow>
     <mo stretchy="false">)</mo>
    </mrow>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <times></times>
     <ci>P</ci>
     <ci>t</ci>
    </apply>
    <apply>
     <times></times>
     <apply>
      <divide></divide>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>M</ci>
       <ci>a</ci>
      </apply>
      <ci>r</ci>
     </apply>
     <apply>
      <minus></minus>
      <cn type="integer">1</cn>
      <apply>
       <csymbol cd="ambiguous">superscript</csymbol>
       <ci>e</ci>
       <apply>
        <times></times>
        <ci>r</ci>
        <apply>
         <minus></minus>
         <ci>t</ci>
         <ci>T</ci>
        </apply>
       </apply>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \displaystyle P(t)=\frac{M_{a}}{r}(1-e^{r(t-T)})
  </annotation>
 </semantics>
</math>


</p>

<p>Note that both the original solution and "time-shifted" version satisfy the original differential equation whence both are derived.</p>

<p>Similar to the expression derived above for <em>P</em><sub><em>n</em></sub> in the difference equation, the expression for <em>P</em>(<em>t</em>) may be written in the following algebraically equivalent form:</p>

<p>

<math display="block" id="Continuous-repayment_mortgage:28">
 <semantics>
  <mrow>
   <mrow>
    <mi>P</mi>
    <mrow>
     <mo stretchy="false">(</mo>
     <mi>t</mi>
     <mo stretchy="false">)</mo>
    </mrow>
   </mrow>
   <mo>=</mo>
   <mrow>
    <mrow>
     <msub>
      <mi>P</mi>
      <mn>0</mn>
     </msub>
     <msup>
      <mi>e</mi>
      <mrow>
       <mi>r</mi>
       <mi>t</mi>
      </mrow>
     </msup>
    </mrow>
    <mo>-</mo>
    <mrow>
     <mfrac>
      <msub>
       <mi>M</mi>
       <mi>a</mi>
      </msub>
      <mi>r</mi>
     </mfrac>
     <mrow>
      <mo stretchy="false">(</mo>
      <mrow>
       <msup>
        <mi>e</mi>
        <mrow>
         <mi>r</mi>
         <mi>t</mi>
        </mrow>
       </msup>
       <mo>-</mo>
       <mn>1</mn>
      </mrow>
      <mo stretchy="false">)</mo>
     </mrow>
    </mrow>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <times></times>
     <ci>P</ci>
     <ci>t</ci>
    </apply>
    <apply>
     <minus></minus>
     <apply>
      <times></times>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>P</ci>
       <cn type="integer">0</cn>
      </apply>
      <apply>
       <csymbol cd="ambiguous">superscript</csymbol>
       <ci>e</ci>
       <apply>
        <times></times>
        <ci>r</ci>
        <ci>t</ci>
       </apply>
      </apply>
     </apply>
     <apply>
      <times></times>
      <apply>
       <divide></divide>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>M</ci>
        <ci>a</ci>
       </apply>
       <ci>r</ci>
      </apply>
      <apply>
       <minus></minus>
       <apply>
        <csymbol cd="ambiguous">superscript</csymbol>
        <ci>e</ci>
        <apply>
         <times></times>
         <ci>r</ci>
         <ci>t</ci>
        </apply>
       </apply>
       <cn type="integer">1</cn>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   P(t)=P_{0}e^{rt}-\frac{M_{a}}{r}(e^{rt}-1)
  </annotation>
 </semantics>
</math>

</p>
<h2 id="calculation-of-accumulated-interest-and-principal-payments">Calculation of accumulated interest and principal payments</h2>

<p>Re-arranging the original differential equation we obtain:</p>

<p>

<math display="block" id="Continuous-repayment_mortgage:29">
 <semantics>
  <mrow>
   <msub>
    <mi>M</mi>
    <mi>a</mi>
   </msub>
   <mo>=</mo>
   <mrow>
    <mrow>
     <mi>r</mi>
     <mi>P</mi>
     <mrow>
      <mo stretchy="false">(</mo>
      <mi>t</mi>
      <mo stretchy="false">)</mo>
     </mrow>
    </mrow>
    <mo>-</mo>
    <mfrac>
     <mrow>
      <mi>d</mi>
      <mi>P</mi>
      <mrow>
       <mo stretchy="false">(</mo>
       <mi>t</mi>
       <mo stretchy="false">)</mo>
      </mrow>
     </mrow>
     <mrow>
      <mi>d</mi>
      <mi>t</mi>
     </mrow>
    </mfrac>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <csymbol cd="ambiguous">subscript</csymbol>
     <ci>M</ci>
     <ci>a</ci>
    </apply>
    <apply>
     <minus></minus>
     <apply>
      <times></times>
      <ci>r</ci>
      <ci>P</ci>
      <ci>t</ci>
     </apply>
     <apply>
      <divide></divide>
      <apply>
       <times></times>
       <ci>d</ci>
       <ci>P</ci>
       <ci>t</ci>
      </apply>
      <apply>
       <times></times>
       <ci>d</ci>
       <ci>t</ci>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   M_{a}=rP(t)-\frac{dP(t)}{dt}
  </annotation>
 </semantics>
</math>

</p>

<p>Integrating both sides of the equation yields:</p>

<p>

<math display="block" id="Continuous-repayment_mortgage:30">
 <semantics>
  <mrow>
   <msub>
    <mi>M</mi>
    <mi>a</mi>
   </msub>
   <mo>.</mo>
   <mrow>
    <mi>t</mi>
    <mo>=</mo>
    <mrow>
     <mrow>
      <msubsup>
       <mo largeop="true" symmetric="true">∫</mo>
       <mn>0</mn>
       <mi>t</mi>
      </msubsup>
      <mrow>
       <mi>r</mi>
       <mi>P</mi>
       <mrow>
        <mo stretchy="false">(</mo>
        <mi>t</mi>
        <mo rspace="4.2pt" stretchy="false">)</mo>
       </mrow>
       <mi>d</mi>
       <mpadded width="+1.7pt">
        <mi>t</mi>
       </mpadded>
      </mrow>
     </mrow>
     <mo>-</mo>
     <mrow>
      <msubsup>
       <mo largeop="true" symmetric="true">∫</mo>
       <mn>0</mn>
       <mi>t</mi>
      </msubsup>
      <mrow>
       <mpadded width="+1.7pt">
        <mfrac>
         <mrow>
          <mi>d</mi>
          <mi>P</mi>
          <mrow>
           <mo stretchy="false">(</mo>
           <mi>t</mi>
           <mo stretchy="false">)</mo>
          </mrow>
         </mrow>
         <mrow>
          <mi>d</mi>
          <mi>t</mi>
         </mrow>
        </mfrac>
       </mpadded>
       <mi>d</mi>
       <mpadded width="+1.7pt">
        <mi>t</mi>
       </mpadded>
      </mrow>
     </mrow>
    </mrow>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <csymbol cd="ambiguous">formulae-sequence</csymbol>
    <apply>
     <csymbol cd="ambiguous">subscript</csymbol>
     <ci>M</ci>
     <ci>a</ci>
    </apply>
    <apply>
     <eq></eq>
     <ci>t</ci>
     <apply>
      <minus></minus>
      <apply>
       <apply>
        <csymbol cd="ambiguous">superscript</csymbol>
        <apply>
         <csymbol cd="ambiguous">subscript</csymbol>
         <int></int>
         <cn type="integer">0</cn>
        </apply>
        <ci>t</ci>
       </apply>
       <apply>
        <times></times>
        <ci>r</ci>
        <ci>P</ci>
        <ci>t</ci>
        <ci>d</ci>
        <ci>t</ci>
       </apply>
      </apply>
      <apply>
       <apply>
        <csymbol cd="ambiguous">superscript</csymbol>
        <apply>
         <csymbol cd="ambiguous">subscript</csymbol>
         <int></int>
         <cn type="integer">0</cn>
        </apply>
        <ci>t</ci>
       </apply>
       <apply>
        <times></times>
        <apply>
         <divide></divide>
         <apply>
          <times></times>
          <ci>d</ci>
          <ci>P</ci>
          <ci>t</ci>
         </apply>
         <apply>
          <times></times>
          <ci>d</ci>
          <ci>t</ci>
         </apply>
        </apply>
        <ci>d</ci>
        <ci>t</ci>
       </apply>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   M_{a}.t=\int_{0}^{t}rP(t)\,dt\,-\int_{0}^{t}\frac{dP(t)}{dt}\,dt\,
  </annotation>
 </semantics>
</math>

</p>

<p>The first integral on the right hand side determines the accumulated interest payments from time of inception to time t whilst the second determines the accumulated principal payments over the same period. The sum of these interest and principal payments must equal the cumulative fixed payments at time <em>t</em> i.e. <em>M</em><sub><em>a</em></sub><em>t</em>. Evaluating the first integral on the right we obtain an expression for <em>I</em>(<em>t</em>), the interest paid:</p>

<p>

<math display="block" id="Continuous-repayment_mortgage:31">
 <semantics>
  <mrow>
   <mrow>
    <mi>I</mi>
    <mrow>
     <mo stretchy="false">(</mo>
     <mi>t</mi>
     <mo stretchy="false">)</mo>
    </mrow>
   </mrow>
   <mo>=</mo>
   <mrow>
    <mrow>
     <msub>
      <mi>M</mi>
      <mi>a</mi>
     </msub>
     <mi>t</mi>
    </mrow>
    <mo>-</mo>
    <mfrac>
     <mrow>
      <msub>
       <mi>M</mi>
       <mi>a</mi>
      </msub>
      <mrow>
       <mo stretchy="false">(</mo>
       <mrow>
        <msup>
         <mi>e</mi>
         <mrow>
          <mi>r</mi>
          <mi>t</mi>
         </mrow>
        </msup>
        <mo>-</mo>
        <mn>1</mn>
       </mrow>
       <mo stretchy="false">)</mo>
      </mrow>
     </mrow>
     <mrow>
      <mi>r</mi>
      <msup>
       <mi>e</mi>
       <mrow>
        <mi>r</mi>
        <mi>T</mi>
       </mrow>
      </msup>
     </mrow>
    </mfrac>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <times></times>
     <ci>I</ci>
     <ci>t</ci>
    </apply>
    <apply>
     <minus></minus>
     <apply>
      <times></times>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>M</ci>
       <ci>a</ci>
      </apply>
      <ci>t</ci>
     </apply>
     <apply>
      <divide></divide>
      <apply>
       <times></times>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>M</ci>
        <ci>a</ci>
       </apply>
       <apply>
        <minus></minus>
        <apply>
         <csymbol cd="ambiguous">superscript</csymbol>
         <ci>e</ci>
         <apply>
          <times></times>
          <ci>r</ci>
          <ci>t</ci>
         </apply>
        </apply>
        <cn type="integer">1</cn>
       </apply>
      </apply>
      <apply>
       <times></times>
       <ci>r</ci>
       <apply>
        <csymbol cd="ambiguous">superscript</csymbol>
        <ci>e</ci>
        <apply>
         <times></times>
         <ci>r</ci>
         <ci>T</ci>
        </apply>
       </apply>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   I(t)=M_{a}t-\frac{M_{a}(e^{rt}-1)}{re^{rT}}
  </annotation>
 </semantics>
</math>

</p>

<p>Unsurprisingly the second integral evaluates to <em>P</em><sub>0</sub> − <em>P</em>(<em>t</em>) and therefore:</p>

<p>

<math display="block" id="Continuous-repayment_mortgage:32">
 <semantics>
  <mrow>
   <mrow>
    <mi>I</mi>
    <mrow>
     <mo stretchy="false">(</mo>
     <mi>t</mi>
     <mo stretchy="false">)</mo>
    </mrow>
   </mrow>
   <mo>=</mo>
   <mrow>
    <mrow>
     <mrow>
      <msub>
       <mi>M</mi>
       <mi>a</mi>
      </msub>
      <mi>t</mi>
     </mrow>
     <mo>-</mo>
     <msub>
      <mi>P</mi>
      <mn>0</mn>
     </msub>
    </mrow>
    <mo>+</mo>
    <mrow>
     <mi>P</mi>
     <mrow>
      <mo stretchy="false">(</mo>
      <mi>t</mi>
      <mo rspace="4.2pt" stretchy="false">)</mo>
     </mrow>
    </mrow>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <times></times>
     <ci>I</ci>
     <ci>t</ci>
    </apply>
    <apply>
     <plus></plus>
     <apply>
      <minus></minus>
      <apply>
       <times></times>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>M</ci>
        <ci>a</ci>
       </apply>
       <ci>t</ci>
      </apply>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>P</ci>
       <cn type="integer">0</cn>
      </apply>
     </apply>
     <apply>
      <times></times>
      <ci>P</ci>
      <ci>t</ci>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   I(t)=M_{a}t-P_{0}+P(t)\,
  </annotation>
 </semantics>
</math>

</p>

<p>The reader may easily verify that this expression is algebraically identical to the one above.</p>
<h2 id="loan-cost-factor">Loan cost factor</h2>

<p>The cost of a loan is simply the annual rate multiplied by loan period:</p>

<p>

<math display="block" id="Continuous-repayment_mortgage:33">
 <semantics>
  <mrow>
   <mi>C</mi>
   <mo>=</mo>
   <mrow>
    <msub>
     <mi>M</mi>
     <mi>a</mi>
    </msub>
    <mi>T</mi>
   </mrow>
   <mo>=</mo>
   <mfrac>
    <mrow>
     <msub>
      <mi>P</mi>
      <mn>0</mn>
     </msub>
     <mi>r</mi>
     <mi>T</mi>
    </mrow>
    <mrow>
     <mn>1</mn>
     <mo>-</mo>
     <msup>
      <mi>e</mi>
      <mrow>
       <mo>-</mo>
       <mrow>
        <mi>r</mi>
        <mi>T</mi>
       </mrow>
      </mrow>
     </msup>
    </mrow>
   </mfrac>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <and></and>
    <apply>
     <eq></eq>
     <ci>C</ci>
     <apply>
      <times></times>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>M</ci>
       <ci>a</ci>
      </apply>
      <ci>T</ci>
     </apply>
    </apply>
    <apply>
     <eq></eq>
     <share href="#.cmml">
     </share>
     <apply>
      <divide></divide>
      <apply>
       <times></times>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>P</ci>
        <cn type="integer">0</cn>
       </apply>
       <ci>r</ci>
       <ci>T</ci>
      </apply>
      <apply>
       <minus></minus>
       <cn type="integer">1</cn>
       <apply>
        <csymbol cd="ambiguous">superscript</csymbol>
        <ci>e</ci>
        <apply>
         <minus></minus>
         <apply>
          <times></times>
          <ci>r</ci>
          <ci>T</ci>
         </apply>
        </apply>
       </apply>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   C=M_{a}T=\frac{P_{0}rT}{1-e^{-rT}}
  </annotation>
 </semantics>
</math>

</p>

<p>Let <em>s</em> = <em>rT</em>. Then we may define loan cost factor <em>C</em>(<em>s</em>) such that <em>C</em> = <em>P</em><sub>0</sub><em>C</em>(s) i.e.: <em>C</em>(<em>s</em>) is the cost per unit of currency loaned.</p>

<p>

<math display="block" id="Continuous-repayment_mortgage:34">
 <semantics>
  <mrow>
   <mrow>
    <mi>C</mi>
    <mrow>
     <mo stretchy="false">(</mo>
     <mi>s</mi>
     <mo stretchy="false">)</mo>
    </mrow>
   </mrow>
   <mo>=</mo>
   <mfrac>
    <mrow>
     <mi>r</mi>
     <mi>T</mi>
    </mrow>
    <mrow>
     <mn>1</mn>
     <mo>-</mo>
     <msup>
      <mi>e</mi>
      <mrow>
       <mo>-</mo>
       <mrow>
        <mi>r</mi>
        <mi>T</mi>
       </mrow>
      </mrow>
     </msup>
    </mrow>
   </mfrac>
   <mo>=</mo>
   <mfrac>
    <mi>s</mi>
    <mrow>
     <mn>1</mn>
     <mo>-</mo>
     <msup>
      <mi>e</mi>
      <mrow>
       <mo>-</mo>
       <mi>s</mi>
      </mrow>
     </msup>
    </mrow>
   </mfrac>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <and></and>
    <apply>
     <eq></eq>
     <apply>
      <times></times>
      <ci>C</ci>
      <ci>s</ci>
     </apply>
     <apply>
      <divide></divide>
      <apply>
       <times></times>
       <ci>r</ci>
       <ci>T</ci>
      </apply>
      <apply>
       <minus></minus>
       <cn type="integer">1</cn>
       <apply>
        <csymbol cd="ambiguous">superscript</csymbol>
        <ci>e</ci>
        <apply>
         <minus></minus>
         <apply>
          <times></times>
          <ci>r</ci>
          <ci>T</ci>
         </apply>
        </apply>
       </apply>
      </apply>
     </apply>
    </apply>
    <apply>
     <eq></eq>
     <share href="#.cmml">
     </share>
     <apply>
      <divide></divide>
      <ci>s</ci>
      <apply>
       <minus></minus>
       <cn type="integer">1</cn>
       <apply>
        <csymbol cd="ambiguous">superscript</csymbol>
        <ci>e</ci>
        <apply>
         <minus></minus>
         <ci>s</ci>
        </apply>
       </apply>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   C(s)=\frac{rT}{1-e^{-rT}}=\frac{s}{1-e^{-s}}
  </annotation>
 </semantics>
</math>

</p>

<p>The function <em>C</em>(<em>s</em>) is characterised by having a limiting value of 1 when <em>s</em> is close to zero since for small values of <em>s</em>, exp(−<em>s</em>) ≈ 1 − <em>s</em> and the denominator simplifies to <em>s</em>. Also when <em>s</em> is very large, exp(−<em>s</em>) is small so <em>C</em>(<em>s</em>) ≈ <em>s</em> and thus loan cost <em>C</em> ≈ <em>P</em><sub>0</sub><em>rT</em> (<em>rT</em> &gt;&gt; 0).</p>

<p>By way of example, consider a loan of 1000000 at 10% repaid over 20 years. Then <em>s</em> = 0.1 × 20 = 2.</p>

<p>

<math display="block" id="Continuous-repayment_mortgage:35">
 <semantics>
  <mrow>
   <mi>C</mi>
   <mo>=</mo>
   <mrow>
    <mn>1000000</mn>
    <mo>×</mo>
    <mfrac>
     <mn>2</mn>
     <mrow>
      <mn>1</mn>
      <mo>-</mo>
      <msup>
       <mi>e</mi>
       <mrow>
        <mo>-</mo>
        <mn>2</mn>
       </mrow>
      </msup>
     </mrow>
    </mfrac>
   </mrow>
   <mo>≈</mo>
   <mrow>
    <mn>2.313</mn>
    <mo>×</mo>
    <msup>
     <mn>10</mn>
     <mn>6</mn>
    </msup>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <and></and>
    <apply>
     <eq></eq>
     <ci>C</ci>
     <apply>
      <times></times>
      <cn type="integer">1000000</cn>
      <apply>
       <divide></divide>
       <cn type="integer">2</cn>
       <apply>
        <minus></minus>
        <cn type="integer">1</cn>
        <apply>
         <csymbol cd="ambiguous">superscript</csymbol>
         <ci>e</ci>
         <apply>
          <minus></minus>
          <cn type="integer">2</cn>
         </apply>
        </apply>
       </apply>
      </apply>
     </apply>
    </apply>
    <apply>
     <approx></approx>
     <share href="#.cmml">
     </share>
     <apply>
      <times></times>
      <cn type="float">2.313</cn>
      <apply>
       <csymbol cd="ambiguous">superscript</csymbol>
       <cn type="integer">10</cn>
       <cn type="integer">6</cn>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   C=1000000\times\frac{2}{1-e^{-2}}\approx 2.313\times 10^{6}
  </annotation>
 </semantics>
</math>

</p>

<p>The product rT is an easily obtained but important parameter in determining loan cost according to the equation C=P<sub>0</sub>xC(s). This is best illustrated by plotting the cost factor function for s values in domain [0;5]. The linear behaviour of the function for higher values of <em>s</em> is clear.</p>
<h2 id="equivalent-simple-interest-cost-factor">Equivalent simple interest cost factor</h2>

<p>For a fixed term loan of t years, we may compare the above loan cost factor against an equivalent simple interest cost factor <em>1+s<sub>e</sub></em> where <em>s<sub>e</sub>=r<sub>e</sub>t</em> and <em>r<sub>e</sub></em> is the equivalent simple interest rate:</p>

<p>

<math display="block" id="Continuous-repayment_mortgage:36">
 <semantics>
  <mrow>
   <mfrac>
    <mi>s</mi>
    <mrow>
     <mn>1</mn>
     <mo>-</mo>
     <msup>
      <mi>e</mi>
      <mrow>
       <mo>-</mo>
       <mi>s</mi>
      </mrow>
     </msup>
    </mrow>
   </mfrac>
   <mo>=</mo>
   <mrow>
    <mn>1</mn>
    <mo>+</mo>
    <msub>
     <mi>s</mi>
     <mi>e</mi>
    </msub>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <divide></divide>
     <ci>s</ci>
     <apply>
      <minus></minus>
      <cn type="integer">1</cn>
      <apply>
       <csymbol cd="ambiguous">superscript</csymbol>
       <ci>e</ci>
       <apply>
        <minus></minus>
        <ci>s</ci>
       </apply>
      </apply>
     </apply>
    </apply>
    <apply>
     <plus></plus>
     <cn type="integer">1</cn>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <ci>s</ci>
      <ci>e</ci>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \frac{s}{1-e^{-s}}=1+s_{e}
  </annotation>
 </semantics>
</math>

</p>

<p>It is straightforward to determine <em>s<sub>e</sub></em> in terms of s. Dividing by loan time period t will then give the equivalent simple interest rate. More challenging is the reverse determination of s given <em>s<sub>e</sub></em>.</p>

<p>In his book <em>Problem Solving with True Basic</em>,<a class="footnoteRef" href="#fn13" id="fnref13"><sup>13</sup></a> Dr B.D. Hahn has a short section on certain 'hire purchase' schemes in which <em>interest is calculated in advance in one lump sum, which is added to the capital amount, the sum being equally divided over the repayment period. The buyer, however, is often under the impression that the interest is calculated on a reducing balance.</em></p>

<p>The above example is adapted from the one given in Dr Hahn's book in which he employs the Newton-Raphson algorithm to solve the same problem albeit for a discrete interval (i.e. monthly) repayment loan over the same time period (3 years). As with many similar examples the discrete interval problem and its solution is closely approximated by calculations based on the continuous repayment model - Dr Hahn's solution for interest rate is 40.8% as compared to the 41.6% calculated above.</p>
<h2 id="period-of-a-loan">Period of a loan</h2>

<p>If a borrower can afford an annual repayment rate <em>M</em><sub><em>a</em></sub>, then we can re-arrange the formula for calculating <em>M</em><sub><em>a</em></sub> to obtain an expression for the time period <em>T</em> of a given loan <em>P</em><sub>0</sub>:</p>

<p>

<math display="inline" id="Continuous-repayment_mortgage:37">
 <semantics>
  <mrow>
   <msub>
    <mi>M</mi>
    <mi>a</mi>
   </msub>
   <mo>=</mo>
   <mstyle displaystyle="true">
    <mfrac>
     <mrow>
      <msub>
       <mi>P</mi>
       <mn>0</mn>
      </msub>
      <mi>r</mi>
     </mrow>
     <mrow>
      <mn>1</mn>
      <mo>-</mo>
      <msup>
       <mi>e</mi>
       <mrow>
        <mo>-</mo>
        <mrow>
         <mi>r</mi>
         <mi>T</mi>
        </mrow>
       </mrow>
      </msup>
     </mrow>
    </mfrac>
   </mstyle>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <csymbol cd="ambiguous">subscript</csymbol>
     <ci>M</ci>
     <ci>a</ci>
    </apply>
    <apply>
     <divide></divide>
     <apply>
      <times></times>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>P</ci>
       <cn type="integer">0</cn>
      </apply>
      <ci>r</ci>
     </apply>
     <apply>
      <minus></minus>
      <cn type="integer">1</cn>
      <apply>
       <csymbol cd="ambiguous">superscript</csymbol>
       <ci>e</ci>
       <apply>
        <minus></minus>
        <apply>
         <times></times>
         <ci>r</ci>
         <ci>T</ci>
        </apply>
       </apply>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \displaystyle M_{a}=\frac{P_{0}r}{1-e^{-rT}}
  </annotation>
 </semantics>
</math>


</p>
<h2 id="minimum-payment-ratio">Minimum payment ratio</h2>

<p>The minimum payment ratio of a loan is the ratio of minimum possible payment rate to actual payment rate. The minimum possible payment rate is that which just covers the loan interest – a borrower would in theory pay this amount forever because there is never any decrease in loan capital. We will use the letter <em>k</em> to denote minimum payment ratio:</p>

<p>

<math display="block" id="Continuous-repayment_mortgage:38">
 <semantics>
  <mrow>
   <mi>k</mi>
   <mo>=</mo>
   <mfrac>
    <msub>
     <mi>M</mi>
     <mi>min</mi>
    </msub>
    <msub>
     <mi>M</mi>
     <mi>a</mi>
    </msub>
   </mfrac>
   <mo>=</mo>
   <mfrac>
    <mrow>
     <msub>
      <mi>P</mi>
      <mn>0</mn>
     </msub>
     <mi>r</mi>
    </mrow>
    <msub>
     <mi>M</mi>
     <mi>a</mi>
    </msub>
   </mfrac>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <and></and>
    <apply>
     <eq></eq>
     <ci>k</ci>
     <apply>
      <divide></divide>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>M</ci>
       <min></min>
      </apply>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>M</ci>
       <ci>a</ci>
      </apply>
     </apply>
    </apply>
    <apply>
     <eq></eq>
     <share href="#.cmml">
     </share>
     <apply>
      <divide></divide>
      <apply>
       <times></times>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>P</ci>
        <cn type="integer">0</cn>
       </apply>
       <ci>r</ci>
      </apply>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>M</ci>
       <ci>a</ci>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   k=\frac{M_{\min}}{M_{a}}=\frac{P_{0}r}{M_{a}}
  </annotation>
 </semantics>
</math>

</p>

<p>Now we may consider a small re-arrangement of the equation for loan period <em>T</em>:</p>

<p>

<math display="block" id="Continuous-repayment_mortgage:39">
 <semantics>
  <mrow>
   <mi>T</mi>
   <mo>=</mo>
   <mrow>
    <mo>-</mo>
    <mrow>
     <mfrac>
      <mn>1</mn>
      <mi>r</mi>
     </mfrac>
     <mrow>
      <mi>ln</mi>
      <mrow>
       <mo>(</mo>
       <mrow>
        <mn>1</mn>
        <mo>-</mo>
        <mfrac>
         <mrow>
          <msub>
           <mi>P</mi>
           <mn>0</mn>
          </msub>
          <mi>r</mi>
         </mrow>
         <msub>
          <mi>M</mi>
          <mi>a</mi>
         </msub>
        </mfrac>
       </mrow>
       <mo>)</mo>
      </mrow>
     </mrow>
    </mrow>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <ci>T</ci>
    <apply>
     <minus></minus>
     <apply>
      <times></times>
      <apply>
       <divide></divide>
       <cn type="integer">1</cn>
       <ci>r</ci>
      </apply>
      <apply>
       <ln></ln>
       <apply>
        <minus></minus>
        <cn type="integer">1</cn>
        <apply>
         <divide></divide>
         <apply>
          <times></times>
          <apply>
           <csymbol cd="ambiguous">subscript</csymbol>
           <ci>P</ci>
           <cn type="integer">0</cn>
          </apply>
          <ci>r</ci>
         </apply>
         <apply>
          <csymbol cd="ambiguous">subscript</csymbol>
          <ci>M</ci>
          <ci>a</ci>
         </apply>
        </apply>
       </apply>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   T=-\frac{1}{r}\ln\left(1-\frac{P_{0}r}{M_{a}}\right)
  </annotation>
 </semantics>
</math>

</p>

<p>

<math display="block" id="Continuous-repayment_mortgage:40">
 <semantics>
  <mrow>
   <mrow>
    <mi>r</mi>
    <mi>T</mi>
   </mrow>
   <mo>=</mo>
   <mrow>
    <mi>s</mi>
    <mrow>
     <mo stretchy="false">(</mo>
     <mi>k</mi>
     <mo stretchy="false">)</mo>
    </mrow>
   </mrow>
   <mo>=</mo>
   <mrow>
    <mo>-</mo>
    <mrow>
     <mi>ln</mi>
     <mrow>
      <mo stretchy="false">(</mo>
      <mrow>
       <mn>1</mn>
       <mo>-</mo>
       <mi>k</mi>
      </mrow>
      <mo rspace="5.3pt" stretchy="false">)</mo>
     </mrow>
    </mrow>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <and></and>
    <apply>
     <eq></eq>
     <apply>
      <times></times>
      <ci>r</ci>
      <ci>T</ci>
     </apply>
     <apply>
      <times></times>
      <ci>s</ci>
      <ci>k</ci>
     </apply>
    </apply>
    <apply>
     <eq></eq>
     <share href="#.cmml">
     </share>
     <apply>
      <minus></minus>
      <apply>
       <ln></ln>
       <apply>
        <minus></minus>
        <cn type="integer">1</cn>
        <ci>k</ci>
       </apply>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   rT=s(k)=-\ln(1-k)\;
  </annotation>
 </semantics>
</math>

</p>

<p>Plotting <em>s</em>(<em>k</em>) against <em>k</em> gives a very graphic demonstration of why it is a good idea to keep the <em>k</em> value well below the asymptote at <em>k</em> = 1 since in the vicinity thereof, <em>s</em>(<em>k</em>) increases sharply and therefore so does loan cost which is in turn an increasing function of parameter <em>s</em> (<em>rT</em> product).</p>
<h2 id="half-life-of-a-loan">"Half-life" of a loan</h2>

<p>A useful parameter of the mortgage model is the "half-life" of the loan which is the time it takes for the balance on the loan to reach half its original value. To determine the "half-life" we may write:</p>

<p>

<math display="block" id="Continuous-repayment_mortgage:41">
 <semantics>
  <mrow>
   <mfrac>
    <mrow>
     <mi>P</mi>
     <mrow>
      <mo stretchy="false">(</mo>
      <mi>t</mi>
      <mo stretchy="false">)</mo>
     </mrow>
    </mrow>
    <msub>
     <mi>P</mi>
     <mn>0</mn>
    </msub>
   </mfrac>
   <mo>=</mo>
   <mfrac>
    <mn>1</mn>
    <mn>2</mn>
   </mfrac>
   <mo>=</mo>
   <mfrac>
    <mrow>
     <mn>1</mn>
     <mo>-</mo>
     <msup>
      <mi>e</mi>
      <mrow>
       <mo>-</mo>
       <mrow>
        <mi>r</mi>
        <mrow>
         <mo stretchy="false">(</mo>
         <mrow>
          <mi>T</mi>
          <mo>-</mo>
          <mi>t</mi>
         </mrow>
         <mo stretchy="false">)</mo>
        </mrow>
       </mrow>
      </mrow>
     </msup>
    </mrow>
    <mrow>
     <mn>1</mn>
     <mo>-</mo>
     <msup>
      <mi>e</mi>
      <mrow>
       <mo>-</mo>
       <mrow>
        <mi>r</mi>
        <mi>T</mi>
       </mrow>
      </mrow>
     </msup>
    </mrow>
   </mfrac>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <and></and>
    <apply>
     <eq></eq>
     <apply>
      <divide></divide>
      <apply>
       <times></times>
       <ci>P</ci>
       <ci>t</ci>
      </apply>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>P</ci>
       <cn type="integer">0</cn>
      </apply>
     </apply>
     <apply>
      <divide></divide>
      <cn type="integer">1</cn>
      <cn type="integer">2</cn>
     </apply>
    </apply>
    <apply>
     <eq></eq>
     <share href="#.cmml">
     </share>
     <apply>
      <divide></divide>
      <apply>
       <minus></minus>
       <cn type="integer">1</cn>
       <apply>
        <csymbol cd="ambiguous">superscript</csymbol>
        <ci>e</ci>
        <apply>
         <minus></minus>
         <apply>
          <times></times>
          <ci>r</ci>
          <apply>
           <minus></minus>
           <ci>T</ci>
           <ci>t</ci>
          </apply>
         </apply>
        </apply>
       </apply>
      </apply>
      <apply>
       <minus></minus>
       <cn type="integer">1</cn>
       <apply>
        <csymbol cd="ambiguous">superscript</csymbol>
        <ci>e</ci>
        <apply>
         <minus></minus>
         <apply>
          <times></times>
          <ci>r</ci>
          <ci>T</ci>
         </apply>
        </apply>
       </apply>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \frac{P(t)}{P_{0}}=\frac{1}{2}=\frac{1-e^{-r(T-t)}}{1-e^{-rT}}
  </annotation>
 </semantics>
</math>

</p>

<p>Solving for <em>t</em> we obtain:</p>

<p>

<math display="block" id="Continuous-repayment_mortgage:42">
 <semantics>
  <mrow>
   <msub>
    <mi>t</mi>
    <mfrac>
     <mn>1</mn>
     <mn>2</mn>
    </mfrac>
   </msub>
   <mo>=</mo>
   <mrow>
    <mfrac>
     <mn>1</mn>
     <mi>r</mi>
    </mfrac>
    <mrow>
     <mi>ln</mi>
     <mrow>
      <mo>(</mo>
      <mfrac>
       <mrow>
        <mn>1</mn>
        <mo>+</mo>
        <msup>
         <mi>e</mi>
         <mrow>
          <mi>r</mi>
          <mi>T</mi>
         </mrow>
        </msup>
       </mrow>
       <mn>2</mn>
      </mfrac>
      <mo>)</mo>
     </mrow>
    </mrow>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <csymbol cd="ambiguous">subscript</csymbol>
     <ci>t</ci>
     <apply>
      <divide></divide>
      <cn type="integer">1</cn>
      <cn type="integer">2</cn>
     </apply>
    </apply>
    <apply>
     <times></times>
     <apply>
      <divide></divide>
      <cn type="integer">1</cn>
      <ci>r</ci>
     </apply>
     <apply>
      <ln></ln>
      <apply>
       <divide></divide>
       <apply>
        <plus></plus>
        <cn type="integer">1</cn>
        <apply>
         <csymbol cd="ambiguous">superscript</csymbol>
         <ci>e</ci>
         <apply>
          <times></times>
          <ci>r</ci>
          <ci>T</ci>
         </apply>
        </apply>
       </apply>
       <cn type="integer">2</cn>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   t_{\frac{1}{2}}=\frac{1}{r}\ln\left(\frac{1+e^{rT}}{2}\right)
  </annotation>
 </semantics>
</math>

 <a class="footnoteRef" href="#fn14" id="fnref14"><sup>14</sup></a></p>

<p>For example applying the formula to some test data (loan of 1 million at 10% for 20 years) we obtain the half-life as 14.34 years. If in practice the loan is being repaid via monthly instalments, the decimal portion can be converted to months and rounded so this answer would equate to 172 months.</p>
<h2 id="calculation-of-interest-rate">Calculation of interest rate</h2>

<p>In the discrete time interval model, calculation of a mortgage based interest rate given the remaining parameters has not been possible using analytic methods. Implementations such as the Excel "rate" function employ a numerical "trial and improvement" method to determine interest rate. At first glance this would also seem to be the case for the continuous repayment model. Given:</p>

<p>

<math display="block" id="Continuous-repayment_mortgage:43">
 <semantics>
  <mrow>
   <msub>
    <mi>P</mi>
    <mn>0</mn>
   </msub>
   <mo>=</mo>
   <mrow>
    <mfrac>
     <msub>
      <mi>M</mi>
      <mi>a</mi>
     </msub>
     <mi>r</mi>
    </mfrac>
    <mrow>
     <mo stretchy="false">(</mo>
     <mrow>
      <mn>1</mn>
      <mo>-</mo>
      <msup>
       <mi>e</mi>
       <mrow>
        <mo>-</mo>
        <mrow>
         <mi>r</mi>
         <mi>T</mi>
        </mrow>
       </mrow>
      </msup>
     </mrow>
     <mo stretchy="false">)</mo>
    </mrow>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <csymbol cd="ambiguous">subscript</csymbol>
     <ci>P</ci>
     <cn type="integer">0</cn>
    </apply>
    <apply>
     <times></times>
     <apply>
      <divide></divide>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>M</ci>
       <ci>a</ci>
      </apply>
      <ci>r</ci>
     </apply>
     <apply>
      <minus></minus>
      <cn type="integer">1</cn>
      <apply>
       <csymbol cd="ambiguous">superscript</csymbol>
       <ci>e</ci>
       <apply>
        <minus></minus>
        <apply>
         <times></times>
         <ci>r</ci>
         <ci>T</ci>
        </apply>
       </apply>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   P_{0}=\frac{M_{a}}{r}(1-e^{-rT})
  </annotation>
 </semantics>
</math>

</p>

<p>we may write:</p>

<p>

<math display="block" id="Continuous-repayment_mortgage:44">
 <semantics>
  <mrow>
   <mrow>
    <mi>r</mi>
    <msub>
     <mi>P</mi>
     <mn>0</mn>
    </msub>
   </mrow>
   <mo>=</mo>
   <mrow>
    <msub>
     <mi>M</mi>
     <mi>a</mi>
    </msub>
    <mrow>
     <mo stretchy="false">(</mo>
     <mrow>
      <mn>1</mn>
      <mo>-</mo>
      <msup>
       <mi>e</mi>
       <mrow>
        <mo>-</mo>
        <mrow>
         <mi>r</mi>
         <mi>T</mi>
        </mrow>
       </mrow>
      </msup>
     </mrow>
     <mo rspace="4.2pt" stretchy="false">)</mo>
    </mrow>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <times></times>
     <ci>r</ci>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <ci>P</ci>
      <cn type="integer">0</cn>
     </apply>
    </apply>
    <apply>
     <times></times>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <ci>M</ci>
      <ci>a</ci>
     </apply>
     <apply>
      <minus></minus>
      <cn type="integer">1</cn>
      <apply>
       <csymbol cd="ambiguous">superscript</csymbol>
       <ci>e</ci>
       <apply>
        <minus></minus>
        <apply>
         <times></times>
         <ci>r</ci>
         <ci>T</ci>
        </apply>
       </apply>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   rP_{0}=M_{a}(1-e^{-rT})\,
  </annotation>
 </semantics>
</math>

</p>

<p>

<math display="block" id="Continuous-repayment_mortgage:45">
 <semantics>
  <mrow>
   <mi></mi>
   <mo>⇒</mo>
   <mrow>
    <mrow>
     <mrow>
      <mi>r</mi>
      <msub>
       <mi>P</mi>
       <mn>0</mn>
      </msub>
     </mrow>
     <mo>-</mo>
     <msub>
      <mi>M</mi>
      <mi>a</mi>
     </msub>
    </mrow>
    <mo>+</mo>
    <mrow>
     <msub>
      <mi>M</mi>
      <mi>a</mi>
     </msub>
     <msup>
      <mi>e</mi>
      <mrow>
       <mo>-</mo>
       <mrow>
        <mi>r</mi>
        <mi>T</mi>
       </mrow>
      </mrow>
     </msup>
    </mrow>
   </mrow>
   <mo>=</mo>
   <mn>0</mn>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <and></and>
    <apply>
     <ci>normal-⇒</ci>
     <csymbol cd="latexml">absent</csymbol>
     <apply>
      <plus></plus>
      <apply>
       <minus></minus>
       <apply>
        <times></times>
        <ci>r</ci>
        <apply>
         <csymbol cd="ambiguous">subscript</csymbol>
         <ci>P</ci>
         <cn type="integer">0</cn>
        </apply>
       </apply>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>M</ci>
        <ci>a</ci>
       </apply>
      </apply>
      <apply>
       <times></times>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>M</ci>
        <ci>a</ci>
       </apply>
       <apply>
        <csymbol cd="ambiguous">superscript</csymbol>
        <ci>e</ci>
        <apply>
         <minus></minus>
         <apply>
          <times></times>
          <ci>r</ci>
          <ci>T</ci>
         </apply>
        </apply>
       </apply>
      </apply>
     </apply>
    </apply>
    <apply>
     <eq></eq>
     <share href="#.cmml">
     </share>
     <cn type="integer">0</cn>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \Rightarrow rP_{0}-M_{a}+M_{a}e^{-rT}=0
  </annotation>
 </semantics>
</math>

</p>

<p>In order to visualise the above as a function of <em>r</em> (for which we wish to determine zeroes), it will be helpful to select numerical values of <em>P</em><sub>0</sub>, <em>M</em><sub><em>a</em></sub> and <em>T</em> as 10000, 6000 and 3 respectively and plot as shown at right. It will be noted that the function has a minimum value which can be determined by differentiation:</p>

<p>

<math display="block" id="Continuous-repayment_mortgage:46">
 <semantics>
  <mrow>
   <mrow>
    <msup>
     <mi>f</mi>
     <mo>′</mo>
    </msup>
    <mrow>
     <mo stretchy="false">(</mo>
     <mi>r</mi>
     <mo stretchy="false">)</mo>
    </mrow>
   </mrow>
   <mo>=</mo>
   <mpadded width="+1.7pt">
    <mn>0</mn>
   </mpadded>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <times></times>
     <apply>
      <csymbol cd="ambiguous">superscript</csymbol>
      <ci>f</ci>
      <ci>normal-′</ci>
     </apply>
     <ci>r</ci>
    </apply>
    <cn type="integer">0</cn>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   f^{\prime}(r)=0\,
  </annotation>
 </semantics>
</math>

</p>

<p>

<math display="block" id="Continuous-repayment_mortgage:47">
 <semantics>
  <mrow>
   <mi></mi>
   <mo>⇒</mo>
   <mrow>
    <msub>
     <mi>P</mi>
     <mn>0</mn>
    </msub>
    <mo>-</mo>
    <mrow>
     <msub>
      <mi>M</mi>
      <mi>a</mi>
     </msub>
     <mi>T</mi>
     <msup>
      <mi>e</mi>
      <mrow>
       <mo>-</mo>
       <mrow>
        <mi>r</mi>
        <mi>T</mi>
       </mrow>
      </mrow>
     </msup>
    </mrow>
   </mrow>
   <mo>=</mo>
   <mn>0</mn>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <and></and>
    <apply>
     <ci>normal-⇒</ci>
     <csymbol cd="latexml">absent</csymbol>
     <apply>
      <minus></minus>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>P</ci>
       <cn type="integer">0</cn>
      </apply>
      <apply>
       <times></times>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>M</ci>
        <ci>a</ci>
       </apply>
       <ci>T</ci>
       <apply>
        <csymbol cd="ambiguous">superscript</csymbol>
        <ci>e</ci>
        <apply>
         <minus></minus>
         <apply>
          <times></times>
          <ci>r</ci>
          <ci>T</ci>
         </apply>
        </apply>
       </apply>
      </apply>
     </apply>
    </apply>
    <apply>
     <eq></eq>
     <share href="#.cmml">
     </share>
     <cn type="integer">0</cn>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \Rightarrow P_{0}-M_{a}Te^{-rT}=0
  </annotation>
 </semantics>
</math>

</p>

<p>

<math display="block" id="Continuous-repayment_mortgage:48">
 <semantics>
  <mrow>
   <mi></mi>
   <mo>⇒</mo>
   <mi>r</mi>
   <mo>=</mo>
   <mrow>
    <mfrac>
     <mn>1</mn>
     <mi>T</mi>
    </mfrac>
    <mrow>
     <mi>ln</mi>
     <mfrac>
      <mrow>
       <msub>
        <mi>M</mi>
        <mi>a</mi>
       </msub>
       <mi>T</mi>
      </mrow>
      <msub>
       <mi>P</mi>
       <mn>0</mn>
      </msub>
     </mfrac>
    </mrow>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <and></and>
    <apply>
     <ci>normal-⇒</ci>
     <csymbol cd="latexml">absent</csymbol>
     <ci>r</ci>
    </apply>
    <apply>
     <eq></eq>
     <share href="#.cmml">
     </share>
     <apply>
      <times></times>
      <apply>
       <divide></divide>
       <cn type="integer">1</cn>
       <ci>T</ci>
      </apply>
      <apply>
       <ln></ln>
       <apply>
        <divide></divide>
        <apply>
         <times></times>
         <apply>
          <csymbol cd="ambiguous">subscript</csymbol>
          <ci>M</ci>
          <ci>a</ci>
         </apply>
         <ci>T</ci>
        </apply>
        <apply>
         <csymbol cd="ambiguous">subscript</csymbol>
         <ci>P</ci>
         <cn type="integer">0</cn>
        </apply>
       </apply>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \Rightarrow r=\frac{1}{T}\ln{\frac{M_{a}T}{P_{0}}}
  </annotation>
 </semantics>
</math>

</p>

<p>Since the function is approximately parabolic between the roots at <em>r</em> = 0 and the sought value, we may estimate the required root as:</p>

<p>

<math display="block" id="Continuous-repayment_mortgage:49">
 <semantics>
  <mrow>
   <mi>r</mi>
   <mo>≈</mo>
   <mrow>
    <mfrac>
     <mn>2</mn>
     <mi>T</mi>
    </mfrac>
    <mrow>
     <mi>ln</mi>
     <mfrac>
      <mrow>
       <msub>
        <mi>M</mi>
        <mi>a</mi>
       </msub>
       <mi>T</mi>
      </mrow>
      <msub>
       <mi>P</mi>
       <mn>0</mn>
      </msub>
     </mfrac>
    </mrow>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <approx></approx>
    <ci>r</ci>
    <apply>
     <times></times>
     <apply>
      <divide></divide>
      <cn type="integer">2</cn>
      <ci>T</ci>
     </apply>
     <apply>
      <ln></ln>
      <apply>
       <divide></divide>
       <apply>
        <times></times>
        <apply>
         <csymbol cd="ambiguous">subscript</csymbol>
         <ci>M</ci>
         <ci>a</ci>
        </apply>
        <ci>T</ci>
       </apply>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>P</ci>
        <cn type="integer">0</cn>
       </apply>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   r\approx\frac{2}{T}\ln{\frac{M_{a}T}{P_{0}}}
  </annotation>
 </semantics>
</math>

</p>

<p>Using this as a starting point, increasingly accurate values for the root may be determined by repeated iterations of the <a href="Newton–Raphson" title="wikilink">Newton–Raphson algorithm</a>:<a class="footnoteRef" href="#fn15" id="fnref15"><sup>15</sup></a></p>

<p>

<math display="block" id="Continuous-repayment_mortgage:50">
 <semantics>
  <mrow>
   <mrow>
    <msub>
     <mi>r</mi>
     <mn>1</mn>
    </msub>
    <mo>=</mo>
    <mrow>
     <msub>
      <mi>r</mi>
      <mn>0</mn>
     </msub>
     <mo>-</mo>
     <mfrac>
      <mrow>
       <mi>f</mi>
       <mrow>
        <mo stretchy="false">(</mo>
        <msub>
         <mi>r</mi>
         <mn>0</mn>
        </msub>
        <mo stretchy="false">)</mo>
       </mrow>
      </mrow>
      <mrow>
       <msup>
        <mi>f</mi>
        <mo>′</mo>
       </msup>
       <mrow>
        <mo stretchy="false">(</mo>
        <msub>
         <mi>r</mi>
         <mn>0</mn>
        </msub>
        <mo stretchy="false">)</mo>
       </mrow>
      </mrow>
     </mfrac>
    </mrow>
   </mrow>
   <mo>.</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <csymbol cd="ambiguous">subscript</csymbol>
     <ci>r</ci>
     <cn type="integer">1</cn>
    </apply>
    <apply>
     <minus></minus>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <ci>r</ci>
      <cn type="integer">0</cn>
     </apply>
     <apply>
      <divide></divide>
      <apply>
       <times></times>
       <ci>f</ci>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>r</ci>
        <cn type="integer">0</cn>
       </apply>
      </apply>
      <apply>
       <times></times>
       <apply>
        <csymbol cd="ambiguous">superscript</csymbol>
        <ci>f</ci>
        <ci>normal-′</ci>
       </apply>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>r</ci>
        <cn type="integer">0</cn>
       </apply>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   r_{1}=r_{0}-\frac{f(r_{0})}{f^{\prime}(r_{0})}.\,\!
  </annotation>
 </semantics>
</math>

</p>

<p>Some experimentation on <a href="http://www58.wolframalpha.com">Wolfram Alpha</a> reveals that an <a href="http://www.wolframalpha.com/input/?i=solve+for+r+in+P%3Dm%2Fr*%281-exp%28-r*T%29%29">exact analytical solution</a> employing the <a href="Lambert_W_function" title="wikilink">Lambert-W</a> or "product log" function can be obtained. Setting <em>s</em> = <em>M</em><sub><em>a</em></sub><em>T</em>/<em>P</em><sub>0</sub> we obtain:</p>

<p>

<math display="block" id="Continuous-repayment_mortgage:51">
 <semantics>
  <mrow>
   <mi>r</mi>
   <mo>=</mo>
   <mrow>
    <mfrac>
     <mn>1</mn>
     <mi>T</mi>
    </mfrac>
    <mrow>
     <mo>(</mo>
     <mrow>
      <mrow>
       <mi>W</mi>
       <mrow>
        <mo stretchy="false">(</mo>
        <mrow>
         <mo>-</mo>
         <mrow>
          <mi>s</mi>
          <msup>
           <mi>e</mi>
           <mrow>
            <mo>-</mo>
            <mi>s</mi>
           </mrow>
          </msup>
         </mrow>
        </mrow>
        <mo stretchy="false">)</mo>
       </mrow>
      </mrow>
      <mo>+</mo>
      <mi>s</mi>
     </mrow>
     <mo>)</mo>
    </mrow>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <ci>r</ci>
    <apply>
     <times></times>
     <apply>
      <divide></divide>
      <cn type="integer">1</cn>
      <ci>T</ci>
     </apply>
     <apply>
      <plus></plus>
      <apply>
       <times></times>
       <ci>W</ci>
       <apply>
        <minus></minus>
        <apply>
         <times></times>
         <ci>s</ci>
         <apply>
          <csymbol cd="ambiguous">superscript</csymbol>
          <ci>e</ci>
          <apply>
           <minus></minus>
           <ci>s</ci>
          </apply>
         </apply>
        </apply>
       </apply>
      </apply>
      <ci>s</ci>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   r=\frac{1}{T}\left(W(-se^{-s})+s\right)
  </annotation>
 </semantics>
</math>

</p>

<p>In the region of interest <em>W</em>(−<em>se</em><sup>−<em>s</em></sup>) is a bi-valued function. The first value is just −<em>s</em> which yields the trivial solution <em>r</em> = 0. The second value evaluated within the context of the above formula will provide the required interest rate.</p>

<p>The following table shows calculation of an initial estimate of interest rate followed by a few iterations of the Newton–Raphson algorithm. There is rapid convergence to a solution accurate to several decimal places as may be corroborated against the <a href="Media:interest_rate_calc_example.pdf" title="wikilink">analytical solution</a> using the Lambert <em>W</em> or "productlog" function on Wolfram Alpha.</p>
<table>
<tbody>
<tr class="odd">
<td style="text-align: left;">
<p>align="center" style="background:#f0f0f0;" <strong>Loan</strong> (<em>P</em>)</p></td>
<td style="text-align: left;">
<p>align="center" style="background:#f0f0f0;" <strong>Period</strong> (<em>T</em>)</p></td>
<td style="text-align: left;">
<p>align="center" style="background:#f0f0f0;" <strong>Annual payment rate</strong> (<em>Ma</em>)</p></td>
<td style="text-align: left;">
<p>align="center" style="background:#f0f0f0;" <strong>Initial estimate:</strong> 2 ln(<em>MaT</em>/<em>P</em>)/<em>T</em></p></td>
</tr>
<tr class="even">
<td style="text-align: left;">
<p>10000</p></td>
<td style="text-align: left;">
<p>3</p></td>
<td style="text-align: left;">
<p>6000</p></td>
<td style="text-align: left;">
<p>39.185778%</p></td>
</tr>
</tbody>
</table>

<p><strong><em>Newton–Raphson iterations</em></strong></p>
<table>
<tbody>
<tr class="odd">
<td style="text-align: left;">
<p>align="center" style="background:#f0f0f0;" <em>n</em></p></td>
<td style="text-align: left;">
<p>align="center" style="background:#f0f0f0;" <em>r</em>(<em>n</em>)</p></td>
<td style="text-align: left;">
<p>align="center" style="background:#f0f0f0;" <em>f</em>[<em>r</em>(<em>n</em>)]</p></td>
<td style="text-align: left;">
<p>align="center" style="background:#f0f0f0;" <em>f</em>'[<em>r</em>(<em>n</em>)]</p></td>
</tr>
<tr class="even">
<td style="text-align: left;">
<p>0</p></td>
<td style="text-align: left;">
<p>39.185778%</p></td>
<td style="text-align: left;">
<p>−229.57</p></td>
<td style="text-align: left;">
<p>4444.44</p></td>
</tr>
<tr class="odd">
<td style="text-align: left;">
<p>1</p></td>
<td style="text-align: left;">
<p>44.351111%</p></td>
<td style="text-align: left;">
<p>21.13</p></td>
<td style="text-align: left;">
<p>5241.95</p></td>
</tr>
<tr class="even">
<td style="text-align: left;">
<p>2</p></td>
<td style="text-align: left;">
<p>43.948044%</p></td>
<td style="text-align: left;">
<p>0.12</p></td>
<td style="text-align: left;">
<p>5184.06</p></td>
</tr>
<tr class="odd">
<td style="text-align: left;">
<p>3</p></td>
<td style="text-align: left;">
<p>43.945798%</p></td>
<td style="text-align: left;">
<p>0</p></td>
<td style="text-align: left;">
<p>5183.74</p></td>
</tr>
</tbody>
</table>
<h2 id="present-value-and-future-value-formulae">Present value and future value formulae</h2>

<p>Corresponding to the standard formula for the present value of a series of fixed monthly payments, we have already established a time continuous analogue:</p>

<p>

<math display="block" id="Continuous-repayment_mortgage:52">
 <semantics>
  <mrow>
   <mrow>
    <mrow>
     <msub>
      <mi>P</mi>
      <mi>v</mi>
     </msub>
     <mrow>
      <mo stretchy="false">(</mo>
      <mi>t</mi>
      <mo stretchy="false">)</mo>
     </mrow>
    </mrow>
    <mo>=</mo>
    <mrow>
     <mfrac>
      <msub>
       <mi>M</mi>
       <mi>a</mi>
      </msub>
      <mi>r</mi>
     </mfrac>
     <mrow>
      <mo stretchy="false">(</mo>
      <mrow>
       <mn>1</mn>
       <mo>-</mo>
       <msup>
        <mi>e</mi>
        <mrow>
         <mo>-</mo>
         <mrow>
          <mi>r</mi>
          <mi>t</mi>
         </mrow>
        </mrow>
       </msup>
      </mrow>
      <mo stretchy="false">)</mo>
     </mrow>
    </mrow>
   </mrow>
   <mo>.</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <times></times>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <ci>P</ci>
      <ci>v</ci>
     </apply>
     <ci>t</ci>
    </apply>
    <apply>
     <times></times>
     <apply>
      <divide></divide>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>M</ci>
       <ci>a</ci>
      </apply>
      <ci>r</ci>
     </apply>
     <apply>
      <minus></minus>
      <cn type="integer">1</cn>
      <apply>
       <csymbol cd="ambiguous">superscript</csymbol>
       <ci>e</ci>
       <apply>
        <minus></minus>
        <apply>
         <times></times>
         <ci>r</ci>
         <ci>t</ci>
        </apply>
       </apply>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   P_{v}(t)=\frac{M_{a}}{r}(1-e^{-rt}).
  </annotation>
 </semantics>
</math>

</p>

<p>In similar fashion, a future value formula can be determined:</p>

<p>

<math display="block" id="Continuous-repayment_mortgage:53">
 <semantics>
  <mrow>
   <mrow>
    <mrow>
     <msub>
      <mi>F</mi>
      <mi>v</mi>
     </msub>
     <mrow>
      <mo stretchy="false">(</mo>
      <mi>t</mi>
      <mo stretchy="false">)</mo>
     </mrow>
    </mrow>
    <mo>=</mo>
    <mrow>
     <mfrac>
      <msub>
       <mi>M</mi>
       <mi>a</mi>
      </msub>
      <mi>r</mi>
     </mfrac>
     <mrow>
      <mo stretchy="false">(</mo>
      <mrow>
       <msup>
        <mi>e</mi>
        <mrow>
         <mi>r</mi>
         <mi>t</mi>
        </mrow>
       </msup>
       <mo>-</mo>
       <mn>1</mn>
      </mrow>
      <mo stretchy="false">)</mo>
     </mrow>
    </mrow>
   </mrow>
   <mo>.</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <times></times>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <ci>F</ci>
      <ci>v</ci>
     </apply>
     <ci>t</ci>
    </apply>
    <apply>
     <times></times>
     <apply>
      <divide></divide>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>M</ci>
       <ci>a</ci>
      </apply>
      <ci>r</ci>
     </apply>
     <apply>
      <minus></minus>
      <apply>
       <csymbol cd="ambiguous">superscript</csymbol>
       <ci>e</ci>
       <apply>
        <times></times>
        <ci>r</ci>
        <ci>t</ci>
       </apply>
      </apply>
      <cn type="integer">1</cn>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   F_{v}(t)=\frac{M_{a}}{r}(e^{rt}-1).
  </annotation>
 </semantics>
</math>

 <a class="footnoteRef" href="#fn16" id="fnref16"><sup>16</sup></a></p>

<p>In this case the annual rate <em>M</em><sub><em>a</em></sub> is determined from a specified (future) savings or sinking fund target <em>P</em><sub><em>T</em></sub> as follows.</p>

<p>

<math display="block" id="Continuous-repayment_mortgage:54">
 <semantics>
  <mrow>
   <mrow>
    <msub>
     <mi>M</mi>
     <mi>a</mi>
    </msub>
    <mo>=</mo>
    <mrow>
     <munder>
      <mo movablelimits="false">lim</mo>
      <mrow>
       <mi>N</mi>
       <mo>→</mo>
       <mi mathvariant="normal">∞</mi>
      </mrow>
     </munder>
     <mrow>
      <mrow>
       <mi>N</mi>
       <mo>⋅</mo>
       <mi>x</mi>
      </mrow>
      <mrow>
       <mo stretchy="false">(</mo>
       <mi>N</mi>
       <mo stretchy="false">)</mo>
      </mrow>
     </mrow>
    </mrow>
    <mo>=</mo>
    <mrow>
     <munder>
      <mo movablelimits="false">lim</mo>
      <mrow>
       <mi>N</mi>
       <mo>→</mo>
       <mi mathvariant="normal">∞</mi>
      </mrow>
     </munder>
     <mfrac>
      <mrow>
       <msub>
        <mi>P</mi>
        <mi>T</mi>
       </msub>
       <mo>⋅</mo>
       <mi>r</mi>
      </mrow>
      <mrow>
       <msup>
        <mrow>
         <mo stretchy="false">(</mo>
         <mrow>
          <mn>1</mn>
          <mo>+</mo>
          <mfrac>
           <mi>r</mi>
           <mi>N</mi>
          </mfrac>
         </mrow>
         <mo stretchy="false">)</mo>
        </mrow>
        <mrow>
         <mi>N</mi>
         <mi>T</mi>
        </mrow>
       </msup>
       <mo>-</mo>
       <mn>1</mn>
      </mrow>
     </mfrac>
    </mrow>
    <mo>=</mo>
    <mfrac>
     <mrow>
      <msub>
       <mi>P</mi>
       <mi>T</mi>
      </msub>
      <mo>⋅</mo>
      <mi>r</mi>
     </mrow>
     <mrow>
      <msup>
       <mi>e</mi>
       <mrow>
        <mi>r</mi>
        <mi>T</mi>
       </mrow>
      </msup>
      <mo>-</mo>
      <mn>1</mn>
     </mrow>
    </mfrac>
   </mrow>
   <mo>.</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <and></and>
    <apply>
     <eq></eq>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <ci>M</ci>
      <ci>a</ci>
     </apply>
     <apply>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <limit></limit>
       <apply>
        <ci>normal-→</ci>
        <ci>N</ci>
        <infinity></infinity>
       </apply>
      </apply>
      <apply>
       <times></times>
       <apply>
        <ci>normal-⋅</ci>
        <ci>N</ci>
        <ci>x</ci>
       </apply>
       <ci>N</ci>
      </apply>
     </apply>
    </apply>
    <apply>
     <eq></eq>
     <share href="#.cmml">
     </share>
     <apply>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <limit></limit>
       <apply>
        <ci>normal-→</ci>
        <ci>N</ci>
        <infinity></infinity>
       </apply>
      </apply>
      <apply>
       <divide></divide>
       <apply>
        <ci>normal-⋅</ci>
        <apply>
         <csymbol cd="ambiguous">subscript</csymbol>
         <ci>P</ci>
         <ci>T</ci>
        </apply>
        <ci>r</ci>
       </apply>
       <apply>
        <minus></minus>
        <apply>
         <csymbol cd="ambiguous">superscript</csymbol>
         <apply>
          <plus></plus>
          <cn type="integer">1</cn>
          <apply>
           <divide></divide>
           <ci>r</ci>
           <ci>N</ci>
          </apply>
         </apply>
         <apply>
          <times></times>
          <ci>N</ci>
          <ci>T</ci>
         </apply>
        </apply>
        <cn type="integer">1</cn>
       </apply>
      </apply>
     </apply>
    </apply>
    <apply>
     <eq></eq>
     <share href="#.cmml">
     </share>
     <apply>
      <divide></divide>
      <apply>
       <ci>normal-⋅</ci>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>P</ci>
        <ci>T</ci>
       </apply>
       <ci>r</ci>
      </apply>
      <apply>
       <minus></minus>
       <apply>
        <csymbol cd="ambiguous">superscript</csymbol>
        <ci>e</ci>
        <apply>
         <times></times>
         <ci>r</ci>
         <ci>T</ci>
        </apply>
       </apply>
       <cn type="integer">1</cn>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   M_{a}=\lim_{N\to\infty}N\cdot x(N)=\lim_{N\to\infty}\frac{P_{T}\cdot r}{(1+%
\frac{r}{N})^{NT}-1}=\frac{P_{T}\cdot r}{e^{rT}-1}.
  </annotation>
 </semantics>
</math>

 <a class="footnoteRef" href="#fn17" id="fnref17"><sup>17</sup></a></p>

<p>It will be noted that as might be expected:</p>

<p>

<math display="block" id="Continuous-repayment_mortgage:55">
 <semantics>
  <mrow>
   <mrow>
    <mrow>
     <msub>
      <mi>F</mi>
      <mi>v</mi>
     </msub>
     <mrow>
      <mo stretchy="false">(</mo>
      <mi>t</mi>
      <mo stretchy="false">)</mo>
     </mrow>
    </mrow>
    <mo>=</mo>
    <mrow>
     <mrow>
      <msub>
       <mi>P</mi>
       <mi>v</mi>
      </msub>
      <mrow>
       <mo stretchy="false">(</mo>
       <mi>t</mi>
       <mo stretchy="false">)</mo>
      </mrow>
     </mrow>
     <mo>×</mo>
     <msup>
      <mi>e</mi>
      <mrow>
       <mi>r</mi>
       <mi>t</mi>
      </mrow>
     </msup>
    </mrow>
   </mrow>
   <mo>.</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <times></times>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <ci>F</ci>
      <ci>v</ci>
     </apply>
     <ci>t</ci>
    </apply>
    <apply>
     <times></times>
     <apply>
      <times></times>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>P</ci>
       <ci>v</ci>
      </apply>
      <ci>t</ci>
     </apply>
     <apply>
      <csymbol cd="ambiguous">superscript</csymbol>
      <ci>e</ci>
      <apply>
       <times></times>
       <ci>r</ci>
       <ci>t</ci>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   F_{v}(t)=P_{v}(t)\times e^{rt}.\,
  </annotation>
 </semantics>
</math>

</p>

<p>Another way to calculate balance due <em>P</em>(<em>t</em>) on a continuous-repayment loan is to subtract the future value (at time <em>t</em>) of the payment stream from the future value of the loan (also at time <em>t</em>):</p>

<p>

<math display="block" id="Continuous-repayment_mortgage:56">
 <semantics>
  <mrow>
   <mrow>
    <mrow>
     <mi>P</mi>
     <mrow>
      <mo stretchy="false">(</mo>
      <mi>t</mi>
      <mo stretchy="false">)</mo>
     </mrow>
    </mrow>
    <mo>=</mo>
    <mrow>
     <mrow>
      <msub>
       <mi>P</mi>
       <mn>0</mn>
      </msub>
      <msup>
       <mi>e</mi>
       <mrow>
        <mi>r</mi>
        <mi>t</mi>
       </mrow>
      </msup>
     </mrow>
     <mo>-</mo>
     <mrow>
      <mfrac>
       <msub>
        <mi>M</mi>
        <mi>a</mi>
       </msub>
       <mi>r</mi>
      </mfrac>
      <mrow>
       <mo stretchy="false">(</mo>
       <mrow>
        <msup>
         <mi>e</mi>
         <mrow>
          <mi>r</mi>
          <mi>t</mi>
         </mrow>
        </msup>
        <mo>-</mo>
        <mn>1</mn>
       </mrow>
       <mo stretchy="false">)</mo>
      </mrow>
     </mrow>
    </mrow>
   </mrow>
   <mo>.</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <times></times>
     <ci>P</ci>
     <ci>t</ci>
    </apply>
    <apply>
     <minus></minus>
     <apply>
      <times></times>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>P</ci>
       <cn type="integer">0</cn>
      </apply>
      <apply>
       <csymbol cd="ambiguous">superscript</csymbol>
       <ci>e</ci>
       <apply>
        <times></times>
        <ci>r</ci>
        <ci>t</ci>
       </apply>
      </apply>
     </apply>
     <apply>
      <times></times>
      <apply>
       <divide></divide>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>M</ci>
        <ci>a</ci>
       </apply>
       <ci>r</ci>
      </apply>
      <apply>
       <minus></minus>
       <apply>
        <csymbol cd="ambiguous">superscript</csymbol>
        <ci>e</ci>
        <apply>
         <times></times>
         <ci>r</ci>
         <ci>t</ci>
        </apply>
       </apply>
       <cn type="integer">1</cn>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   P(t)=P_{0}e^{rt}-\frac{M_{a}}{r}(e^{rt}-1).
  </annotation>
 </semantics>
</math>

 <a class="footnoteRef" href="#fn18" id="fnref18"><sup>18</sup></a></p>
<h2 id="example">Example</h2>

<p>The following example from a school text book<a class="footnoteRef" href="#fn19" id="fnref19"><sup>19</sup></a> will illustrate the conceptual difference between a savings annuity based on discrete time intervals (per month in this case) and one based on continuous payment employing the above future value formula:</p>

<p><em>On his 30th birthday, an investor decides he wants to accumulate R500000 by his 40th birthday. Starting in one month's time he decides to make equal monthly payments into an account that pays interest at 12% per annum compounded monthly. What monthly payments will he have to make?</em></p>

<p>For the sake of brevity, we will solve the "discrete interval" problem using the Excel PMT function:</p>

<p>

<math display="block" id="Continuous-repayment_mortgage:57">
 <semantics>
  <mrow>
   <mrow>
    <mi>x</mi>
    <mrow>
     <mo stretchy="false">(</mo>
     <mn>12</mn>
     <mo stretchy="false">)</mo>
    </mrow>
   </mrow>
   <mo>=</mo>
   <mrow>
    <mi>P</mi>
    <mi>M</mi>
    <mi>T</mi>
    <mrow>
     <mo stretchy="false">(</mo>
     <mrow>
      <mn>1</mn>
      <mo lspace="0pt" rspace="3.5pt">%</mo>
     </mrow>
     <mo>,</mo>
     <mn>120</mn>
     <mo>,</mo>
     <mn>500000</mn>
     <mo stretchy="false">)</mo>
    </mrow>
   </mrow>
   <mo>=</mo>
   <mn>2173.55</mn>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <and></and>
    <apply>
     <eq></eq>
     <apply>
      <times></times>
      <ci>x</ci>
      <cn type="integer">12</cn>
     </apply>
     <apply>
      <times></times>
      <ci>P</ci>
      <ci>M</ci>
      <ci>T</ci>
      <vector>
       <apply>
        <csymbol cd="latexml">percent</csymbol>
        <cn type="integer">1</cn>
       </apply>
       <cn type="integer">120</cn>
       <cn type="integer">500000</cn>
      </vector>
     </apply>
    </apply>
    <apply>
     <eq></eq>
     <share href="#.cmml">
     </share>
     <cn type="float">2173.55</cn>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   x(12)=PMT(1\%,120,500000)=2173.55
  </annotation>
 </semantics>
</math>

</p>

<p>The amount paid annually would therefore be 26082.57.</p>

<p>For a theoretical continuous payment savings annuity we can only calculate an annual <em>rate</em> of payment:</p>

<p>

<math display="block" id="Continuous-repayment_mortgage:58">
 <semantics>
  <mrow>
   <msub>
    <mi>M</mi>
    <mi>a</mi>
   </msub>
   <mo>=</mo>
   <mfrac>
    <mrow>
     <mn>500000</mn>
     <mo>×</mo>
     <mrow>
      <mn>12</mn>
      <mo lspace="0pt" rspace="3.5pt">%</mo>
     </mrow>
    </mrow>
    <mrow>
     <msup>
      <mi>e</mi>
      <mrow>
       <mn>0.12</mn>
       <mo>⋅</mo>
       <mn>10</mn>
      </mrow>
     </msup>
     <mo>-</mo>
     <mn>1</mn>
    </mrow>
   </mfrac>
   <mo>=</mo>
   <mn>25860.77</mn>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <and></and>
    <apply>
     <eq></eq>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <ci>M</ci>
      <ci>a</ci>
     </apply>
     <apply>
      <divide></divide>
      <apply>
       <times></times>
       <cn type="integer">500000</cn>
       <apply>
        <csymbol cd="latexml">percent</csymbol>
        <cn type="integer">12</cn>
       </apply>
      </apply>
      <apply>
       <minus></minus>
       <apply>
        <csymbol cd="ambiguous">superscript</csymbol>
        <ci>e</ci>
        <apply>
         <ci>normal-⋅</ci>
         <cn type="float">0.12</cn>
         <cn type="integer">10</cn>
        </apply>
       </apply>
       <cn type="integer">1</cn>
      </apply>
     </apply>
    </apply>
    <apply>
     <eq></eq>
     <share href="#.cmml">
     </share>
     <cn type="float">25860.77</cn>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   M_{a}=\frac{500000\times 12\%}{e^{0.12\cdot 10}-1}=25860.77
  </annotation>
 </semantics>
</math>

</p>

<p>At this point there is a temptation to simply divide by 12 to obtain a monthly payment. However this would contradict the primary assumption upon which the "continuous payment" model is based: namely that the annual payment <em>rate</em> is defined as:</p>

<p>

<math display="block" id="Continuous-repayment_mortgage:59">
 <semantics>
  <mrow>
   <msub>
    <mi>M</mi>
    <mi>a</mi>
   </msub>
   <mo>=</mo>
   <mrow>
    <munder>
     <mo movablelimits="false">lim</mo>
     <mrow>
      <mi>N</mi>
      <mo>→</mo>
      <mi mathvariant="normal">∞</mi>
     </mrow>
    </munder>
    <mrow>
     <mrow>
      <mi>N</mi>
      <mo>⋅</mo>
      <mi>x</mi>
     </mrow>
     <mrow>
      <mo stretchy="false">(</mo>
      <mi>N</mi>
      <mo rspace="4.2pt" stretchy="false">)</mo>
     </mrow>
    </mrow>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <csymbol cd="ambiguous">subscript</csymbol>
     <ci>M</ci>
     <ci>a</ci>
    </apply>
    <apply>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <limit></limit>
      <apply>
       <ci>normal-→</ci>
       <ci>N</ci>
       <infinity></infinity>
      </apply>
     </apply>
     <apply>
      <times></times>
      <apply>
       <ci>normal-⋅</ci>
       <ci>N</ci>
       <ci>x</ci>
      </apply>
      <ci>N</ci>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   M_{a}=\lim_{N\to\infty}N\cdot x(N)\,
  </annotation>
 </semantics>
</math>

</p>

<p>Since it is of course impossible for an investor to make an infinitely small payment infinite times per annum, a bank or other lending institution wishing to offer "continuous payment" annuities or mortgages would in practice have to choose a large but finite value of <em>N</em> (annual frequency of payments) such that the continuous time formula will always be correct to within some minimal pre-specified error margin. For example hourly fixed payments (calculated using the conventional formula) in this example would accumulate to an annual payment of 25861.07 and the error would be <em>a</em> by 365×24. The (hypothetical) lending institution would then need to ensure its computational resources are sufficient to implement (when required) hourly deductions from customer accounts. In short cash "flow" for continuous payment annuities is to be understood in the very literal sense of the word.</p>
<dl>
<dd><em>"Monies paid into a fund in the financial world are paid at discrete – usually equally spaced – points in calendar time. In the continuous process the payment is made continuously, as one might pour fluid from one container into another, where the rate of payment is the fundamental quantity".</em><a class="footnoteRef" href="#fn20" id="fnref20"><sup>20</sup></a>
</dd>
</dl>

<p>The following table shows how as <em>N</em> (annual compounding frequency) increases, the <em>annual</em> payment approaches the limiting value of <em>M</em><sub><em>a</em></sub>, the annual payment <em>rate</em>. The difference (error) between annual payment and the limiting value is calculated and expressed as a percentage of the limiting value.</p>
<table>
<tbody>
<tr class="odd">
<td style="text-align: left;">
<p><strong>Compounding Period</strong></p></td>
<td style="text-align: left;">
<p><strong>Frequency (N)</strong></p></td>
<td style="text-align: left;">
<p><strong>Per period interest rate</strong></p></td>
<td style="text-align: left;">
<p><strong>Per period payment x(N)</strong></p></td>
<td style="text-align: left;">
<p><strong>Annual Payment</strong></p></td>
<td style="text-align: left;">
<p><strong>% Error</strong></p></td>
</tr>
<tr class="even">
<td style="text-align: left;">
<p>Bi-annual</p></td>
<td style="text-align: left;">
<p>2</p></td>
<td style="text-align: left;">
<p>6.000000%</p></td>
<td style="text-align: left;">
<p>13,592.28</p></td>
<td style="text-align: left;">
<p>27,184.56</p></td>
<td style="text-align: left;">
<p>5.118918%</p></td>
</tr>
<tr class="odd">
<td style="text-align: left;">
<p>Quarterly</p></td>
<td style="text-align: left;">
<p>4</p></td>
<td style="text-align: left;">
<p>3.000000%</p></td>
<td style="text-align: left;">
<p>6,631.19</p></td>
<td style="text-align: left;">
<p>26,524.76</p></td>
<td style="text-align: left;">
<p>2.567558%</p></td>
</tr>
<tr class="even">
<td style="text-align: left;">
<p>Monthly</p></td>
<td style="text-align: left;">
<p>12</p></td>
<td style="text-align: left;">
<p>1.000000%</p></td>
<td style="text-align: left;">
<p>2,173.55</p></td>
<td style="text-align: left;">
<p>26,082.57</p></td>
<td style="text-align: left;">
<p>0.857683%</p></td>
</tr>
<tr class="odd">
<td style="text-align: left;">
<p>Daily</p></td>
<td style="text-align: left;">
<p>365</p></td>
<td style="text-align: left;">
<p>0.032877%</p></td>
<td style="text-align: left;">
<p>70.87</p></td>
<td style="text-align: left;">
<p>25,868.07</p></td>
<td style="text-align: left;">
<p>0.028227%</p></td>
</tr>
<tr class="even">
<td style="text-align: left;">
<p>Hourly</p></td>
<td style="text-align: left;">
<p>8760</p></td>
<td style="text-align: left;">
<p>0.001370%</p></td>
<td style="text-align: left;">
<p>2.95</p></td>
<td style="text-align: left;">
<p>25,861.07</p></td>
<td style="text-align: left;">
<p>0.001176%</p></td>
</tr>
</tbody>
</table>

<p><a class="footnoteRef" href="#fn21" id="fnref21"><sup>21</sup></a><a class="footnoteRef" href="#fn22" id="fnref22"><sup>22</sup></a></p>

<p>It will be apparent from the above that the concept of a "continuous repayment" mortgage is a somewhat theoretical construct. Whether it has practical value or not is a question that would need to be carefully considered by economists and actuaries. In particular the meaning of an annual repayment <em>rate</em> must be clearly understood as illustrated in the above example.</p>

<p>However the "continuous payment" model does provide some meaningful insights into the behaviour of the discrete mortgage balance function – in particular that it is largely governed by a <a href="time_constant" title="wikilink">time constant</a> equal to the reciprocal of r the nominal annual interest rate. And if a mortgage were to be paid off via fixed daily amounts, then balance due calculations effected using the model would – in general – be accurate to within a small fraction of a percent. Finally the model demonstrates that it is to the modest advantage of the mortgage holder to increase frequency of payment where practically possible.</p>
<h2 id="summary-of-formulae-and-online-calculators">Summary of formulae and online calculators</h2>

<p><a href="http://developer.wolframalpha.com/widgets/gallery/view.jsp?id=b8acb9f3726fce014595187a18ed05b9">Annual payment rate</a> (mortgage loan):       

<math display="inline" id="Continuous-repayment_mortgage:60">
 <semantics>
  <mrow>
   <msub>
    <mi>M</mi>
    <mi>a</mi>
   </msub>
   <mo>=</mo>
   <mrow>
    <msub>
     <mo>lim</mo>
     <mrow>
      <mi>N</mi>
      <mo>→</mo>
      <mi mathvariant="normal">∞</mi>
     </mrow>
    </msub>
    <mrow>
     <mrow>
      <mi>N</mi>
      <mo>⋅</mo>
      <mi>x</mi>
     </mrow>
     <mrow>
      <mo stretchy="false">(</mo>
      <mi>N</mi>
      <mo stretchy="false">)</mo>
     </mrow>
    </mrow>
   </mrow>
   <mo>=</mo>
   <mfrac>
    <mrow>
     <msub>
      <mi>P</mi>
      <mn>0</mn>
     </msub>
     <mo>⋅</mo>
     <mi>r</mi>
    </mrow>
    <mrow>
     <mn>1</mn>
     <mo>-</mo>
     <msup>
      <mi>e</mi>
      <mrow>
       <mo>-</mo>
       <mrow>
        <mi>r</mi>
        <mi>T</mi>
       </mrow>
      </mrow>
     </msup>
    </mrow>
   </mfrac>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <and></and>
    <apply>
     <eq></eq>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <ci>M</ci>
      <ci>a</ci>
     </apply>
     <apply>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <limit></limit>
       <apply>
        <ci>normal-→</ci>
        <ci>N</ci>
        <infinity></infinity>
       </apply>
      </apply>
      <apply>
       <times></times>
       <apply>
        <ci>normal-⋅</ci>
        <ci>N</ci>
        <ci>x</ci>
       </apply>
       <ci>N</ci>
      </apply>
     </apply>
    </apply>
    <apply>
     <eq></eq>
     <share href="#.cmml">
     </share>
     <apply>
      <divide></divide>
      <apply>
       <ci>normal-⋅</ci>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>P</ci>
        <cn type="integer">0</cn>
       </apply>
       <ci>r</ci>
      </apply>
      <apply>
       <minus></minus>
       <cn type="integer">1</cn>
       <apply>
        <csymbol cd="ambiguous">superscript</csymbol>
        <ci>e</ci>
        <apply>
         <minus></minus>
         <apply>
          <times></times>
          <ci>r</ci>
          <ci>T</ci>
         </apply>
        </apply>
       </apply>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   M_{a}=\lim_{N\to\infty}N\cdot x(N)=\frac{P_{0}\cdot r}{1-e^{-rT}}
  </annotation>
 </semantics>
</math>

</p>

<p>Annual payment rate (sinking fund):       

<math display="inline" id="Continuous-repayment_mortgage:61">
 <semantics>
  <mrow>
   <msub>
    <mi>M</mi>
    <mi>a</mi>
   </msub>
   <mo>=</mo>
   <mrow>
    <msub>
     <mo>lim</mo>
     <mrow>
      <mi>N</mi>
      <mo>→</mo>
      <mi mathvariant="normal">∞</mi>
     </mrow>
    </msub>
    <mrow>
     <mrow>
      <mi>N</mi>
      <mo>⋅</mo>
      <mi>x</mi>
     </mrow>
     <mrow>
      <mo stretchy="false">(</mo>
      <mi>N</mi>
      <mo stretchy="false">)</mo>
     </mrow>
    </mrow>
   </mrow>
   <mo>=</mo>
   <mfrac>
    <mrow>
     <msub>
      <mi>P</mi>
      <mi>T</mi>
     </msub>
     <mo>⋅</mo>
     <mi>r</mi>
    </mrow>
    <mrow>
     <msup>
      <mi>e</mi>
      <mrow>
       <mi>r</mi>
       <mi>T</mi>
      </mrow>
     </msup>
     <mo>-</mo>
     <mn>1</mn>
    </mrow>
   </mfrac>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <and></and>
    <apply>
     <eq></eq>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <ci>M</ci>
      <ci>a</ci>
     </apply>
     <apply>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <limit></limit>
       <apply>
        <ci>normal-→</ci>
        <ci>N</ci>
        <infinity></infinity>
       </apply>
      </apply>
      <apply>
       <times></times>
       <apply>
        <ci>normal-⋅</ci>
        <ci>N</ci>
        <ci>x</ci>
       </apply>
       <ci>N</ci>
      </apply>
     </apply>
    </apply>
    <apply>
     <eq></eq>
     <share href="#.cmml">
     </share>
     <apply>
      <divide></divide>
      <apply>
       <ci>normal-⋅</ci>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>P</ci>
        <ci>T</ci>
       </apply>
       <ci>r</ci>
      </apply>
      <apply>
       <minus></minus>
       <apply>
        <csymbol cd="ambiguous">superscript</csymbol>
        <ci>e</ci>
        <apply>
         <times></times>
         <ci>r</ci>
         <ci>T</ci>
        </apply>
       </apply>
       <cn type="integer">1</cn>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   M_{a}=\lim_{N\to\infty}N\cdot x(N)=\frac{P_{T}\cdot r}{e^{rT}-1}
  </annotation>
 </semantics>
</math>

</p>

<p><a href="http://developer.wolframalpha.com/widgets/gallery/view.jsp?id=a99957c3b83e7d54e27d6f22d47b16f7">Future value:</a>       

<math display="inline" id="Continuous-repayment_mortgage:62">
 <semantics>
  <mrow>
   <mrow>
    <msub>
     <mi>F</mi>
     <mi>v</mi>
    </msub>
    <mrow>
     <mo stretchy="false">(</mo>
     <mi>t</mi>
     <mo stretchy="false">)</mo>
    </mrow>
   </mrow>
   <mo>=</mo>
   <mrow>
    <mfrac>
     <msub>
      <mi>M</mi>
      <mi>a</mi>
     </msub>
     <mi>r</mi>
    </mfrac>
    <mrow>
     <mo stretchy="false">(</mo>
     <mrow>
      <msup>
       <mi>e</mi>
       <mrow>
        <mi>r</mi>
        <mi>t</mi>
       </mrow>
      </msup>
      <mo>-</mo>
      <mn>1</mn>
     </mrow>
     <mo stretchy="false">)</mo>
    </mrow>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <times></times>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <ci>F</ci>
      <ci>v</ci>
     </apply>
     <ci>t</ci>
    </apply>
    <apply>
     <times></times>
     <apply>
      <divide></divide>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>M</ci>
       <ci>a</ci>
      </apply>
      <ci>r</ci>
     </apply>
     <apply>
      <minus></minus>
      <apply>
       <csymbol cd="ambiguous">superscript</csymbol>
       <ci>e</ci>
       <apply>
        <times></times>
        <ci>r</ci>
        <ci>t</ci>
       </apply>
      </apply>
      <cn type="integer">1</cn>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   F_{v}(t)=\frac{M_{a}}{r}(e^{rt}-1)
  </annotation>
 </semantics>
</math>

</p>

<p><a href="http://developer.wolframalpha.com/widgets/gallery/view.jsp?id=7507dafaedac784a18c852536bbd3c88">Present value:</a>       

<math display="inline" id="Continuous-repayment_mortgage:63">
 <semantics>
  <mrow>
   <mrow>
    <msub>
     <mi>P</mi>
     <mi>v</mi>
    </msub>
    <mrow>
     <mo stretchy="false">(</mo>
     <mi>t</mi>
     <mo stretchy="false">)</mo>
    </mrow>
   </mrow>
   <mo>=</mo>
   <mrow>
    <mfrac>
     <msub>
      <mi>M</mi>
      <mi>a</mi>
     </msub>
     <mi>r</mi>
    </mfrac>
    <mrow>
     <mo stretchy="false">(</mo>
     <mrow>
      <mn>1</mn>
      <mo>-</mo>
      <msup>
       <mi>e</mi>
       <mrow>
        <mo>-</mo>
        <mrow>
         <mi>r</mi>
         <mi>t</mi>
        </mrow>
       </mrow>
      </msup>
     </mrow>
     <mo stretchy="false">)</mo>
    </mrow>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <times></times>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <ci>P</ci>
      <ci>v</ci>
     </apply>
     <ci>t</ci>
    </apply>
    <apply>
     <times></times>
     <apply>
      <divide></divide>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>M</ci>
       <ci>a</ci>
      </apply>
      <ci>r</ci>
     </apply>
     <apply>
      <minus></minus>
      <cn type="integer">1</cn>
      <apply>
       <csymbol cd="ambiguous">superscript</csymbol>
       <ci>e</ci>
       <apply>
        <minus></minus>
        <apply>
         <times></times>
         <ci>r</ci>
         <ci>t</ci>
        </apply>
       </apply>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   P_{v}(t)=\frac{M_{a}}{r}(1-e^{-rt})
  </annotation>
 </semantics>
</math>

</p>

<p><a href="http://developer.wolframalpha.com/widgets/gallery/view.jsp?id=695553c0c5ba292284a3e1e64da6ed47">Loan balance:</a>       

<math display="inline" id="Continuous-repayment_mortgage:64">
 <semantics>
  <mrow>
   <mrow>
    <mi>P</mi>
    <mrow>
     <mo stretchy="false">(</mo>
     <mi>t</mi>
     <mo stretchy="false">)</mo>
    </mrow>
   </mrow>
   <mo>=</mo>
   <mrow>
    <mfrac>
     <msub>
      <mi>M</mi>
      <mi>a</mi>
     </msub>
     <mi>r</mi>
    </mfrac>
    <mrow>
     <mo stretchy="false">(</mo>
     <mrow>
      <mn>1</mn>
      <mo>-</mo>
      <msup>
       <mi>e</mi>
       <mrow>
        <mo>-</mo>
        <mrow>
         <mi>r</mi>
         <mrow>
          <mo stretchy="false">(</mo>
          <mrow>
           <mi>T</mi>
           <mo>-</mo>
           <mi>t</mi>
          </mrow>
          <mo stretchy="false">)</mo>
         </mrow>
        </mrow>
       </mrow>
      </msup>
     </mrow>
     <mo stretchy="false">)</mo>
    </mrow>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <times></times>
     <ci>P</ci>
     <ci>t</ci>
    </apply>
    <apply>
     <times></times>
     <apply>
      <divide></divide>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>M</ci>
       <ci>a</ci>
      </apply>
      <ci>r</ci>
     </apply>
     <apply>
      <minus></minus>
      <cn type="integer">1</cn>
      <apply>
       <csymbol cd="ambiguous">superscript</csymbol>
       <ci>e</ci>
       <apply>
        <minus></minus>
        <apply>
         <times></times>
         <ci>r</ci>
         <apply>
          <minus></minus>
          <ci>T</ci>
          <ci>t</ci>
         </apply>
        </apply>
       </apply>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   P(t)=\frac{M_{a}}{r}(1-e^{-r(T-t)})
  </annotation>
 </semantics>
</math>

</p>

<p><a href="http://developer.wolframalpha.com/widgets/gallery/view.jsp?id=cdad431591373e47eba5ab6c984c2b55">Loan period:</a>              

<math display="inline" id="Continuous-repayment_mortgage:65">
 <semantics>
  <mrow>
   <mi>T</mi>
   <mo>=</mo>
   <mrow>
    <mo>-</mo>
    <mrow>
     <mfrac>
      <mn>1</mn>
      <mi>r</mi>
     </mfrac>
     <mrow>
      <mi>ln</mi>
      <mrow>
       <mo>(</mo>
       <mrow>
        <mn>1</mn>
        <mo>-</mo>
        <mfrac>
         <mrow>
          <msub>
           <mi>P</mi>
           <mn>0</mn>
          </msub>
          <mi>r</mi>
         </mrow>
         <msub>
          <mi>M</mi>
          <mi>a</mi>
         </msub>
        </mfrac>
       </mrow>
       <mo>)</mo>
      </mrow>
     </mrow>
    </mrow>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <ci>T</ci>
    <apply>
     <minus></minus>
     <apply>
      <times></times>
      <apply>
       <divide></divide>
       <cn type="integer">1</cn>
       <ci>r</ci>
      </apply>
      <apply>
       <ln></ln>
       <apply>
        <minus></minus>
        <cn type="integer">1</cn>
        <apply>
         <divide></divide>
         <apply>
          <times></times>
          <apply>
           <csymbol cd="ambiguous">subscript</csymbol>
           <ci>P</ci>
           <cn type="integer">0</cn>
          </apply>
          <ci>r</ci>
         </apply>
         <apply>
          <csymbol cd="ambiguous">subscript</csymbol>
          <ci>M</ci>
          <ci>a</ci>
         </apply>
        </apply>
       </apply>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   T=-\frac{1}{r}\ln\left(1-\frac{P_{0}r}{M_{a}}\right)
  </annotation>
 </semantics>
</math>

</p>

<p><a href="http://developer.wolframalpha.com/widgets/gallery/view.jsp?id=8e887cf8e64ab8e7173701a979476567">Half-life of loan:</a>       

<math display="inline" id="Continuous-repayment_mortgage:66">
 <semantics>
  <mrow>
   <msub>
    <mi>t</mi>
    <mfrac>
     <mn>1</mn>
     <mn>2</mn>
    </mfrac>
   </msub>
   <mo>=</mo>
   <mrow>
    <mfrac>
     <mn>1</mn>
     <mi>r</mi>
    </mfrac>
    <mrow>
     <mi>ln</mi>
     <mrow>
      <mo>(</mo>
      <mfrac>
       <mrow>
        <mn>1</mn>
        <mo>+</mo>
        <msup>
         <mi>e</mi>
         <mrow>
          <mi>r</mi>
          <mi>T</mi>
         </mrow>
        </msup>
       </mrow>
       <mn>2</mn>
      </mfrac>
      <mo>)</mo>
     </mrow>
    </mrow>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <csymbol cd="ambiguous">subscript</csymbol>
     <ci>t</ci>
     <apply>
      <divide></divide>
      <cn type="integer">1</cn>
      <cn type="integer">2</cn>
     </apply>
    </apply>
    <apply>
     <times></times>
     <apply>
      <divide></divide>
      <cn type="integer">1</cn>
      <ci>r</ci>
     </apply>
     <apply>
      <ln></ln>
      <apply>
       <divide></divide>
       <apply>
        <plus></plus>
        <cn type="integer">1</cn>
        <apply>
         <csymbol cd="ambiguous">superscript</csymbol>
         <ci>e</ci>
         <apply>
          <times></times>
          <ci>r</ci>
          <ci>T</ci>
         </apply>
        </apply>
       </apply>
       <cn type="integer">2</cn>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   t_{\frac{1}{2}}=\frac{1}{r}\ln\left(\frac{1+e^{rT}}{2}\right)
  </annotation>
 </semantics>
</math>

</p>

<p><a href="http://developer.wolframalpha.com/widgets/gallery/view.jsp?id=65982e894fcde21153454b2ea4b2a8a">Interest rate:</a>           

<math display="inline" id="Continuous-repayment_mortgage:67">
 <semantics>
  <mrow>
   <mi>r</mi>
   <mo>≈</mo>
   <mrow>
    <mfrac>
     <mn>2</mn>
     <mi>T</mi>
    </mfrac>
    <mrow>
     <mi>ln</mi>
     <mfrac>
      <mrow>
       <msub>
        <mi>M</mi>
        <mi>a</mi>
       </msub>
       <mi>T</mi>
      </mrow>
      <msub>
       <mi>P</mi>
       <mn>0</mn>
      </msub>
     </mfrac>
    </mrow>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <approx></approx>
    <ci>r</ci>
    <apply>
     <times></times>
     <apply>
      <divide></divide>
      <cn type="integer">2</cn>
      <ci>T</ci>
     </apply>
     <apply>
      <ln></ln>
      <apply>
       <divide></divide>
       <apply>
        <times></times>
        <apply>
         <csymbol cd="ambiguous">subscript</csymbol>
         <ci>M</ci>
         <ci>a</ci>
        </apply>
        <ci>T</ci>
       </apply>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>P</ci>
        <cn type="integer">0</cn>
       </apply>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   r\approx\frac{2}{T}\ln{\frac{M_{a}T}{P_{0}}}
  </annotation>
 </semantics>
</math>

              

<math display="inline" id="Continuous-repayment_mortgage:68">
 <semantics>
  <mrow>
   <mi>r</mi>
   <mo>=</mo>
   <mrow>
    <mfrac>
     <mn>1</mn>
     <mi>T</mi>
    </mfrac>
    <mrow>
     <mo>(</mo>
     <mrow>
      <mrow>
       <mi>W</mi>
       <mrow>
        <mo stretchy="false">(</mo>
        <mrow>
         <mo>-</mo>
         <mrow>
          <mi>s</mi>
          <msup>
           <mi>e</mi>
           <mrow>
            <mo>-</mo>
            <mi>s</mi>
           </mrow>
          </msup>
         </mrow>
        </mrow>
        <mo stretchy="false">)</mo>
       </mrow>
      </mrow>
      <mo>+</mo>
      <mi>s</mi>
     </mrow>
     <mo>)</mo>
    </mrow>
    <mtext>with</mtext>
    <mi>s</mi>
   </mrow>
   <mo>=</mo>
   <mfrac>
    <mrow>
     <msub>
      <mi>M</mi>
      <mi>a</mi>
     </msub>
     <mi>t</mi>
    </mrow>
    <msub>
     <mi>P</mi>
     <mn>0</mn>
    </msub>
   </mfrac>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <and></and>
    <apply>
     <eq></eq>
     <ci>r</ci>
     <apply>
      <times></times>
      <apply>
       <divide></divide>
       <cn type="integer">1</cn>
       <ci>T</ci>
      </apply>
      <apply>
       <plus></plus>
       <apply>
        <times></times>
        <ci>W</ci>
        <apply>
         <minus></minus>
         <apply>
          <times></times>
          <ci>s</ci>
          <apply>
           <csymbol cd="ambiguous">superscript</csymbol>
           <ci>e</ci>
           <apply>
            <minus></minus>
            <ci>s</ci>
           </apply>
          </apply>
         </apply>
        </apply>
       </apply>
       <ci>s</ci>
      </apply>
      <mtext>with</mtext>
      <ci>s</ci>
     </apply>
    </apply>
    <apply>
     <eq></eq>
     <share href="#.cmml">
     </share>
     <apply>
      <divide></divide>
      <apply>
       <times></times>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>M</ci>
        <ci>a</ci>
       </apply>
       <ci>t</ci>
      </apply>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>P</ci>
       <cn type="integer">0</cn>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   r=\frac{1}{T}\left(W(-se^{-s})+s\right)\text{ with }s=\frac{M_{a}t}{P_{0}}
  </annotation>
 </semantics>
</math>

</p>

<p><a href="http://developer.wolframalpha.com/widgets/gallery/view.jsp?id=6c11cb78b7bbb5c22d5f5271b5494381">Universal mortgage calculator</a>. Given any three of four variables, this calculates the fourth (unknown) value.</p>

<p><a href="http://developer.wolframalpha.com/widgets/gallery/view.jsp?id=a2b56600097fa2ea81bfc9774f1baaf">Mortgage graph</a>. This illustrates the characteristic curve of mortgage balance vs time over a given loan timespan. Loan amount and loan interest rate (<em>p</em>/<em>a</em>) may also be specified. A discrete interval loan will have a very similar characteristic.</p>
<h2 id="notes">Notes</h2>
<h2 id="references">References</h2>
<ul>
<li></li>
<li></li>
<li></li>
<li></li>
<li></li>
</ul>
<h2 id="bibliography">Bibliography</h2>
<ul>
<li>Kreyszig, Erwin, <em>Advanced Engineering Mathematics</em> (1998, Wiley Publishers, USA), ISBN 0-471-15496-2.</li>
</ul>

<p>"</p>

<p><a class="uri" href="Category:Mortgage" title="wikilink">Category:Mortgage</a> <a href="Category:Mathematical_finance" title="wikilink">Category:Mathematical finance</a></p>
<section class="footnotes">
<hr/>
<ol>
<li id="fn1"> - Entry on [<a class="uri" href="http://books.google.com/books?id=UyIfgBIwLMQC&amp;lpg">http://books.google.com/books?id=UyIfgBIwLMQC&amp;lpg;</a>;=PA86&amp;dq;=Continuous%20annuity&amp;pg;=PA86#v=onepage&amp;q;=Continuous%20annuity&amp;f;=false continuous annuity]<a href="#fnref1">↩</a></li>
<li id="fn2"><a href="#Dictionary" title="wikilink">Mathematics Dictionary</a> p.86<a href="#fnref2">↩</a></li>
<li id="fn3">Strictly speaking compounding occurs momentarily before payment is deducted so that interest is calculated on the balance as it was before deduction of the period payment.<a href="#fnref3">↩</a></li>
<li id="fn4"><a href="#CFP" title="wikilink">Beckwith</a> p. 116: <em>"Technically speaking, the underlying equation is known as an ordinary, linear, first order, inhomogenous, scalar differential equation with a boundary condition."</em><a href="#fnref4">↩</a></li>
<li id="fn5"><a href="#CFP" title="wikilink">Beckwith</a> p.115<a href="#fnref5">↩</a></li>
<li id="fn6"><a href="#A&amp;T;" title="wikilink">Munem and Foulis</a> p.273<a href="#fnref6">↩</a></li>
<li id="fn7"><a href="#CFP" title="wikilink">Beckwith:</a> Equation (29) p. 123.<a href="#fnref7">↩</a></li>
<li id="fn8">See also:  ps. 470–471<a href="#fnref8">↩</a></li>
<li id="fn9"><a href="#CFP" title="wikilink">Beckwith:</a> Equation (31) p. 124.<a href="#fnref9">↩</a></li>
<li id="fn10"><a href="#CFP" title="wikilink">Beckwith:</a> Equation (25) p. 123<a href="#fnref10">↩</a></li>
<li id="fn11"><a href="#GIT" title="wikilink">Hackman:</a> Equation (2) p.1<a href="#fnref11">↩</a></li>
<li id="fn12">Where equality holds, the mortgage becomes a <a class="uri" href="perpetuity" title="wikilink">perpetuity</a>.<a href="#fnref12">↩</a></li>
<li id="fn13"><a href="#BDH" title="wikilink">Hahn</a> p. 247<a href="#fnref13">↩</a></li>
<li id="fn14"><a href="#CFP" title="wikilink">Beckwith:</a> Equation (23) p. 122. Beckwith uses this formula in relation to a sinking fund but notes (p.124) that the formula is identical for an amortization process.<a href="#fnref14">↩</a></li>
<li id="fn15"><a href="#CFP" title="wikilink">Beckwith:</a> (p.125):<em>"In the determination of rates of interest for given continuous payment schedules, it is frequently necessary to determine the roots of transcendental functions."</em>. Beckwith details two methods: Successive substitution and Newton–Raphson. (ps. 126–127).<a href="#fnref15">↩</a></li>
<li id="fn16">See also:  p. 22. Older actuarial textbooks refer to "interest convertible momently" and "payments momently" when discussing continuous annuities.<a href="#fnref16">↩</a></li>
<li id="fn17"><a href="#CFP" title="wikilink">Beckwith:</a> Equation (19) p. 121.<a href="#fnref17">↩</a></li>
<li id="fn18"><a href="#CFP" title="wikilink">Beckwith:</a> Equation (27) p. 123.<a href="#fnref18">↩</a></li>
<li id="fn19"><a href="#MJG" title="wikilink">Glencross</a> p. 67<a href="#fnref19">↩</a></li>
<li id="fn20"><a href="#CFP" title="wikilink">Beckwith</a> p. 114.<a href="#fnref20">↩</a></li>
<li id="fn21">Further worked examples and problems with solutions can be found in Professor Hackman's course notes. See Reference Section.<a href="#fnref21">↩</a></li>
<li id="fn22">Beckwith (pages 128–129) provides more complex examples involving interest rate calculation. The interested reader may verify the calculations by entering the resultant transcendental equations on Wolfram Alpha. Note: the line of working before eqn (38) in Beckwith's article is missing a pair of brackets<a href="#fnref22">↩</a></li>
</ol>
</section>
</body>
</html>
