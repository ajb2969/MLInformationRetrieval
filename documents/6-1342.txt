   Traffic flow      Traffic flow   In mathematics and civil engineering , traffic flow is the study of interactions between vehicles, drivers, and infrastructure (including highways, signage, and traffic control devices), with the aim of understanding and developing an optimal road network with efficient movement of traffic and minimal traffic congestion problems.  History  Attempts to produce a mathematical theory of traffic flow date back to the 1920s, when Frank Knight first produced an analysis of traffic equilibrium, which was refined into Wardrop's first and second principles of equilibrium in 1952.  Nonetheless, even with the advent of significant computer processing power, to date there has been no satisfactory general theory that can be consistently applied to real flow conditions. Current traffic models use a mixture of empirical and theoretical techniques. These models are then developed into traffic forecasts , to take account of proposed local or major changes, such as increased vehicle use, changes in land use or changes in mode of transport (with people moving from bus to train or car, for example), and to identify areas of congestion where the network needs to be adjusted.  Overview  Traffic phenomena are complex and nonlinear, depending on the interactions of a large number of vehicles . Due to the individual reactions of human drivers, vehicles do not interact simply following the laws of mechanics, but rather show phenomena of cluster formation and shock wave propagation, both forward and backward, depending on vehicle density in a given area. Some mathematical models in traffic flow make use of a vertical queue assumption, where the vehicles along a congested link do not spill back along the length of the link.  In a free-flowing network, traffic flow theory refers to the traffic stream variables of speed, flow, and concentration. These relationships are mainly concerned with uninterrupted traffic flow, primarily found on freeways or expressways. 1 Flow conditions are considered "free" when less than 12 vehicles per mile are on a road. "Stable" is sometimes described as 12–30 vehicles per mile per lane. As the density reaches the maximum flow rate (or flux ) and exceeds the optimum density (above 30 vehicles per mile), traffic flow becomes unstable, and even a minor incident can result in persistent stop-and-go driving conditions. "Breakdown" condition occurs when traffic becomes unstable and exceeds 67 vehicles per mile. 2 "Jam density" refers to extreme traffic density associated with completely stopped traffic flow, usually in the range of 185–250 vehicles per mile per lane.  However, calculations within congested networks are more complex and rely more on empirical studies and extrapolations from actual road counts. Because these are often urban or suburban in nature, other factors (such as road-user safety and environmental considerations) also dictate the optimum conditions.  There are common spatiotemporal empirical features of traffic congestion that are qualitatively the same for different highways in different countries measured during years of traffic observations. Some of these common features of traffic congestion define synchronized flow and wide moving jam traffic phases of congested traffic in Kerner ’s three-phase traffic theory of traffic flow.  Traffic stream properties  Traffic flow is generally constrained along a one-dimensional pathway (e.g. a travel lane). A time-space diagram provides a graphical depiction of the flow of vehicles along a pathway over time. Time is measured along the horizontal axis, and distance is measured along the vertical axis. Traffic flow in a time-space diagram is represented by the individual trajectory lines of individual vehicles. Vehicles following each other along a given travel lane will have parallel trajectories, and trajectories will cross when one vehicle passes another. Time-space diagrams are useful tools for displaying and analyzing the traffic flow characteristics of a given roadway segment over time (e.g. analyzing traffic flow congestion).  There are three main variables to visualize a traffic stream: speed (v), density (k), and flow (q).  Speed  Speed in traffic flow is defined as the distance covered per unit time. 3 The speed of every vehicle is almost impossible to track on a roadway; therefore, in practice, average speed is based on the sampling of vehicles over a period of time or area and is calculated and used in formulae. If speed is measured by keeping time as reference it is called time mean speed ; if it is measured by space reference it is called space mean speed .   Time mean speed is measured by taking a reference area on the roadway over a fixed period of time. In practice, it is measured by the use of loop detectors. Loop detectors, when spread over a reference area, can record the signature of vehicles and can track the speed of each vehicle. However, average speed measurements obtained from this method are not accurate because instantaneous speeds averaged among several vehicles does not account for the difference in travel time for the vehicles that are traveling at different speeds over the same distance.          v  t   =    (   1  /  m   )     ∑   i  =  1   m    v  i          subscript  v  t       1  m     superscript   subscript     i  1    m    subscript  v  i       v_{t}=(1/m)\sum_{i=1}^{m}v_{i}        where m represents the number of vehicles passing the fixed point.   Space mean speed is the speed measured by taking the whole roadway segment into account. Consecutive pictures or video of a roadway segment track the speed of individual vehicles, and then the average speed is calculated. It is considered more accurate than the time mean speed. The data for space calculating space mean speed may be taken from satellite pictures, a camera, or both.          v  s   =   n    (    ∑   i  =  1   n    (   1  /   v  i    )    )    -  1          subscript  v  s     n   superscript    superscript   subscript     i  1    n     1   subscript  v  i       1       v_{s}=n\left(\sum_{i=1}^{n}(1/v_{i})\right)^{-1}        where n represents the number of vehicles passing the roadway segment  The time mean speed is never less than space mean speed         v  t   =    v  s   +    σ  s  2    v  s          subscript  v  t      subscript  v  s      superscript   subscript  σ  s   2    subscript  v  s       v_{t}=v_{s}+\frac{\sigma_{s}^{2}}{v_{s}}        where    σ  s  2     superscript   subscript  σ  s   2    \sigma_{s}^{2}   is the variance of the space mean speed 4   In a time-space diagram, the instantaneous velocity, v = dx/dt, of a vehicle is equal to the slope along the vehicle’s trajectory. The average velocity of a vehicle is equal to the slope of the line connecting the trajectory endpoints where a vehicle enters and leaves the roadway segment. The vertical separation (distance) between parallel trajectories is the vehicle spacing (s) between a leading and following vehicle. Similarly, the horizontal separation (time) represents the vehicle headway (h). A time-space diagram is useful for relating headway and spacing to traffic flow and density, respectively.  Density  Density (k) is defined as the number of vehicles per unit length of the roadway. In traffic flow, the two most important densities are the critical density ( k c ) and jam density ( k j ). The maximum density achievable under free flow is k c , while k j is the maximum density achieved under congestion. In general, jam density is seven times the critical density. Inverse of density is spacing (s), which is the center-to-center distance between two vehicles.      k  =   1  s       k    1  s     k=\frac{1}{s}       The density ( k ) within a length of roadway ( L ) at a given time ( t 1 ) is equal to the inverse of the average spacing of the n vehicles.       K   (  L  ,   t  1   )    =   n  L   =   1    s  ¯    (   t  1   )             K   L   subscript  t  1       n  L          1     normal-¯  s    subscript  t  1        K(L,t_{1})=\frac{n}{L}=\frac{1}{\bar{s}(t_{1})}     In a time-space diagram, the density may be evaluated in the region A.       k   (  A  )    =   n  L   =     n   d  t     L   d  t    =    t  t    |  A  |            k  A     n  L            n  d  t     L  d  t             t  t     A       k(A)=\frac{n}{L}=\frac{n\,dt}{L\,dt}=\frac{tt}{\left|A\right|}     where tt is the total travel time in A .  Flow  Flow ( q ) is the number of vehicles passing a reference point per unit of time, vehicles per hour. The inverse of flow is headway ( h ), which is the time that elapses between the i th vehicle passing a reference point in space and the ( i + 1)th vehicle. In congestion, h remains constant. As a traffic jam forms, h approaches infinity.      q  =   k   v        q    k  v     q=kv\,         q  =   1  /   h        q    1  h     q=1/h\,     The flow ( q ) passing a fixed point ( x 1 ) during an interval ( T ) is equal to the inverse of the average headway of the m vehicles.       q   (  T  ,   x  1   )    =   m  T   =   1    h  ¯    (   x  1   )             q   T   subscript  x  1       m  T          1     normal-¯  h    subscript  x  1        q(T,x_{1})=\frac{m}{T}=\frac{1}{\bar{h}(x_{1})}     In a time-space diagram, the flow may be evaluated in the region B .       q   (  B  )    =   m  T   =     m   d  x     T   d  x    =    t  d    |  B  |            q  B     m  T            m  d  x     T  d  x             t  d     B       q(B)=\frac{m}{T}=\frac{m\,dx}{T\,dx}=\frac{td}{\left|B\right|}     where td is the total distance traveled in B .  Generalized density and flow in time-space diagram  A more general definition of the flow and density in a time-space diagram is illustrated by region C:       q   (  C  )    =    t  d    |  C  |          q  C       t  d     C      q(C)=\frac{td}{\left|C\right|}          k   (  C  )    =    t  t    |  C  |          k  C       t  t     C      k(C)=\frac{tt}{\left|C\right|}     where:       t  d   =     ∑   i  =  1   m     d   x  i           t  d     superscript   subscript     i  1    m     d   subscript  x  i       td=\sum_{i=1}^{m}\,dx_{i}          t  t   =     ∑   i  =  1   n     d   t  i           t  t     superscript   subscript     i  1    n     d   subscript  t  i       tt=\sum_{i=1}^{n}\,dt_{i}     Congestion shockwave  In addition to providing information on the speed, flow, and density of traffic streams, time-space diagrams may illustrate the propagation of congestion upstream from a traffic bottleneck (shockwave). Congestion shockwaves will vary in propagation length, depending upon the upstream traffic flow and density. However, shockwaves will generally travel upstream at a rate of approximately 20 km/h.  Stationary traffic  Traffic on a stretch of road said to be stationary if an observer does not detect movement in an arbitrary area of the time-space diagram. Traffic is stationary if all the vehicle trajectories are parallel and equidistant. It is also stationary if it is a superposition of families of trajectories with these properties (e.g. fast and slow drivers). Of course, by using a very small hole in the template one could sometimes view an empty region of the diagram and other times not, so that even in these cases, one could say that traffic was not stationary. Clearly, for such fine level of observation, stationary traffic does not exist. Obviously, we must exclude such a microscopic level of observation from the definition and must be satisfied if traffic appear to be similar through larger windows. In fact, we relax the definition even further by only requiring that the quantities t(A) and d(A) be approximately the same, regardless of where the "large" window (A) is placed.  Methods of analysis  Analysts approach the problem in three main ways, corresponding to the three main scales of observation in physics:   Microscopic scale: At the most basic level, every vehicle is considered as an individual. An equation can be written for each, usually an ordinary differential equation (ODE). Cellular automation models can also be used, where the road is divided into cells, each of which contains a moving car, or is empty. The Nagel–Schreckenberg model is a simple example of a such a model. As the cars interact it can model collective phenomena such as traffic jams .  Macroscopic scale: Similar to models of fluid dynamics , it is considered useful to employ a system of partial differential equations , which balance laws for some gross quantities of interest; e.g., the density of vehicles or their mean velocity.  Mesoscopic (kinetic) scale: A third, intermediate possibility, is to define a function    f   (  t  ,  x  ,  V  )       f   t  x  V     f(t,x,V)   which expresses the probability of having a vehicle at time   t   t   t   in position   x   x   x   which runs with velocity   V   V   V   . This function, following methods of statistical mechanics , can be computed using an integro-differential equation such as the Boltzmann equation .   The engineering approach to analysis of highway traffic flow problems is primarily based on empirical analysis (i.e., observation and mathematical curve fitting). One major reference used by American planners is the Highway Capacity Manual , 5 published by the Transportation Research Board , which is part of the United States National Academy of Sciences . This recommends modelling traffic flows using the whole travel time across a link using a delay/flow function, including the effects of queuing. This technique is used in many US traffic models and in the SATURN model in Europe. 6  In many parts of Europe, a hybrid empirical approach to traffic design is used, combining macro-, micro-, and mesoscopic features. Rather than simulating a steady state of flow for a journey, transient "demand peaks" of congestion are simulated. These are modeled by using small "time slices" across the network throughout the working day or weekend. Typically, the origins and destinations for trips are first estimated and a traffic model is generated before being calibrated by comparing the mathematical model with observed counts of actual traffic flows, classified by type of vehicle. "Matrix estimation" is then applied to the model to achieve a better match to observed link counts before any changes, and the revised model is used to generate a more realistic traffic forecast for any proposed scheme. The model would be run several times (including a current baseline, an "average day" forecast based on a range of economic parameters and supported by sensitivity analysis) in order to understand the implications of temporary blockages or incidents around the network. From the models, it is possible to total the time taken for all drivers of different types of vehicle on the network and thus deduce average fuel consumption and emissions.  Much of UK, Scandinavian, and Dutch authority practice is to use the modelling program CONTRAM for large schemes, which has been developed over several decades under the auspices of the UK's Transport Research Laboratory , and more recently with the support of the Swedish Road Administration . 7 By modelling forecasts of the road network for several decades into the future, the economic benefits of changes to the road network can be calculated, using estimates for value of time and other parameters. The output of these models can then be fed into a cost-benefit analysis program. 8  Cumulative vehicle count curves ( N -curves)  A cumulative vehicle count curve, the N -curve, shows the cumulative number of vehicles that pass a certain location x by time t , measured from the passage of some reference vehicle. 9 This curve can be plotted if the arrival times are known for individual vehicles approaching a location x , and the departure times are also known as they leave location x . Obtaining these arrival and departure times could involve data collection: for example, one could set two point sensors at locations X 1 and X 2 , and count the number of vehicles that pass this segment while also recording the time each vehicle arrives at X 1 and departs from X 2 . The resulting plot is a pair of cumulative curves where the vertical axis ( N ) represents the cumulative number of vehicles that pass the two points: X 1 and X 2 , and the horizontal axis ( t ) represents the elapsed time from X 1 and X 2 .  If vehicles experience no delay as they travel from X 1 to X 2 , then the arrivals of vehicles at location X 1 is represented by curve N 1 and the arrivals of the vehicles at location X 2 is represented by N 2 on Figure 8. More commonly, curve N 1 is known as the arrival curve of vehicles at location X 1 and curve N 2 is known as the arrival curve of vehicles at location X 2 . Using a one-lane signalized approach to an intersection as an example, where X 1 is the location of the stop bar at the approach and X 2 is an arbitrary line on the receiving lane just across of the intersection, when the traffic signal is green, vehicles can travel through both points with no delay and the time it takes to travel that distance is equal to the free-flow travel time. Graphically, this is shown as the two separate curves in Figure 8.  However, when the traffic signal is red, vehicles arrive at the stop bar ( X 1 ) and are delayed by the red light before crossing X 2 some time after the signal turns green. As a result, a queue builds at the stop bar as more vehicles are arriving at the intersection while the traffic signal is still red. Therefore, for as long as vehicles arriving at the intersection are still hindered by the queue, the curve N 2 no longer represents the vehicles’ arrival at location X 2 ; it now represents the vehicles’ virtual arrival at location X 2 , or in other words, it represents the vehicles' arrival at X 2 if they did not experience any delay. The vehicles' arrival at location X 2 , taking into account the delay from the traffic signal, is now represented by the curve N′ 2 on Figure 9.  However, the concept of the virtual arrival curve is flawed. This curve does not correctly show the queue length resulting from the interruption in traffic (i.e. red signal). It assumes that all vehicles are still reaching the stop bar before being delayed by the red light. In other words, the virtual arrival curve portrays the stacking of vehicles vertically at the stop bar. When the traffic signal turns green, these vehicles are served in a first-in-first-out (FIFO) order. For a multi-lane approach, however, the service order is not necessarily FIFO. Nonetheless, the interpretation is still useful because of the concern with average total delay instead of total delays for individual vehicles. 10  Step function vs. smooth function  The traffic light example depicts N -curves as smooth functions. Theoretically, however, plotting N -curves from collected data should result in a step-function (Figure 10). Each step represents the arrival or departure of one vehicle at that point in time. 11 When the N -curve is drawn on larger scale reflecting a period of time that covers several cycles, then the steps for individual vehicles can be ignored, and the curve will then look like a smooth function (Figure 8).  N -curve: traffic flow characteristics  The N -curve can be used in a number of different traffic analyses, including freeway bottlenecks and dynamic traffic assignment. This is due to the fact that a number of traffic flow characteristics can be derived from the plot of cumulative vehicle count curves. Illustrated in Figure 11 are the different traffic flow characteristics that can be derived from the N -curves.  These are the different traffic flow characteristics from Figure 11:      Symbol   Definition       N 1   the cumulative number of vehicles arriving at location X 1     N 2   the virtual cumulative number of vehicles arriving at location X 2 , or the cumulative number of vehicles that would have liked to cross X 2 by time t     N′ 2   the actual cumulative number of vehicles arriving at location X 2     TT FF   the time it takes to travel from location X 1 to location X 2 at free-flow conditions     w ( i )   the delay experienced by vehicle i as it travels from X 1 to X 2     TT ( i )   the total time it takes to travel from X 1 to X 2 including delays ( TT FF + w ( i ))     Q ( t )   the queue at any time t , or the number of vehicles being delayed at time t     n   total number of vehicles in the system     m   total number of delayed vehicles     TD   total delay experienced by m vehicles (area between N 2 and N′ 2 )     t 1   time at which congestion begins     t 2   time at which congestion ends     From these variables, the average delay experienced by each vehicle and the average queue length at any time t can be calculated, using the following formulas:       average delay (   w  avg   )   =    total delay experienced by  m  vehicles   total number of delayed vehicles   =    T  D   m           average delay (   subscript  w  avg   )       total delay experienced by  m  vehicles   total number of delayed vehicles            T  D   m      \text{average delay (}w_{\text{avg}}\text{)}=\frac{\text{total delay %
 experienced by }m\text{ vehicles}}{\text{total number of delayed vehicles}}=%
 \frac{TD}{m}          average queue (   Q  avg   )   =    total delay experienced by  m  vehicles   duration of congestion   =    T  D    (    t  2   -   t  1    )            average queue (   subscript  Q  avg   )       total delay experienced by  m  vehicles   duration of congestion            T  D      subscript  t  2    subscript  t  1        \text{average queue (}Q_{\text{avg}}\text{)}=\frac{\text{total delay %
 experienced by }m\text{ vehicles}}{\text{duration of congestion}}=\frac{TD}{(t%
 _{2}-t_{1})}     Applications  The bottleneck model  One application of the N -curve is the bottleneck model, where the cumulative vehicle count is known at a point before the bottleneck (i.e. this is location X 1 ). However, the cumulative vehicle count is not known at a point after the bottleneck (i.e. this is location X 2 ), but rather only the capacity of the bottleneck, or the discharge rate, μ , is known. The bottleneck model can be applied to real-world bottleneck situations such as those resulting from a roadway design problem or a traffic incident.  Take a roadway section where a bottleneck exists such as in Figure 12. At some location X 1 before the bottleneck, the arrivals of vehicles follow a regular N -curve. If the bottleneck is absent, the departure rate of vehicles at location X 2 is essentially the same as the arrival rate at X 1 at some later time (i.e. at time TT FF – free-flow travel time). However, due to the bottleneck, the system at location X 2 is now only able to have a departure rate of μ . When graphing this scenario, essentially we have the same situation as in Figure 9, where the arrival curve of vehicles is N 1 , the departure curve of vehicles absent the bottleneck is N 2 , and the limited departure curve of vehicles given the bottleneck is N′ 2 . The discharge rate μ is the slope of curve N′ 2 , and all the same traffic flow characteristics as in Figure 11 can be determined from this diagram. The maximum delay and maximum queue length can be found at a point M on Figure 13 where the slope of N 2 is the same as the slope of N′ 2 ; i.e. when the virtual arrival rate is equal to the discharge / departure rate μ .  The N -curve in the bottleneck model may also be used to calculate the benefits in removing the bottleneck, whether in terms of a capacity improvement or removing an incident to the side of the roadway.  Dynamic traffic assignment  Dynamic traffic assignment can also be solved using the N -curve. There are two main approaches to tackle this problem: system optimum, and user equilibrium. This application will be discussed further in the following section.  Kerner’s three-phase traffic theory  Kerner’s three-phase traffic theory is an alternative theory of traffic flow. Probably the most important result of the three-phase theory is that at any time instance there is a range of highway capacities of free flow at a bottleneck. The capacity range is between some maximum and minimum capacities. The range of highway capacities of free flow at the bottleneck in three-phase traffic theory contradicts fundamentally classical traffic theories as well as methods for traffic management and traffic control which at any time instant assume the existence of a particular deterministic or stochastic highway capacity of free flow at the bottleneck.  Traffic assignment  The aim of traffic flow analysis is to create and implement a model which would enable vehicles to reach their destination in the shortest possible time using the maximum roadway capacity. This is a four-step process:   Generation – the program estimates how many trips would be generated. For this, the program needs the statistical data of residence areas by population, location of workplaces etc.;  Distribution – after generation it makes the different Origin-Destination (OD) pairs between the location found in step 1;  Modal Split/Mode Choice – the system has to decide how much percentage of the population would be split between the difference modes of available transport, e.g. cars, buses, rails, etc.;  Route Assignment – finally, routes are assigned to the vehicles based on minimum criterion rules.   This cycle is repeated until the solution converges.  There are two main approaches to tackle this problem with the end objectives:   System optimum  User equilibrium   System optimum  System Optimum is based on the assumption that routes of all vehicles would be controlled by the system, and that rerouting would be based on maximum utilization of resources and minimum total system cost. (Cost can be interpreted as travel time.) Hence, in a System Optimum routing algorithm, all routes between a given OD pair have the same marginal cost. In traditional transportation economics, System Optimum is determined by equilibrium of demand function and marginal cost function. In this approach, marginal cost is roughly depicted as increasing function in traffic congestion. In traffic flow approach, the marginal cost of the trip can be expressed as sum of the cost(delay time, w) experienced by the driver and the externality(e) that a driver imposes on the rest of the users. 12 Suppose there is a freeway(0) and an alternative route(1), which users can be diverted onto off-ramp. Operator knows total arrival rate(A(t)), the capacity of the freeway(μ_0), and the capacity of the alternative route(μ_1). From the time 't_0', when freeway is congested, some of the users start moving to alternative route. However, when 't_1', alternative route is also full of capacity. Now operator decides the number of vehicles(N), which use alternative route. The optimal number of vehicles(N) can be obtained by calculus of variation, to make marginal cost of each route equal. Thus, optimal condition is T_0=T_1+∆_1 . In this graph, we can see that the queue on the alternative route should clear ∆_1 time units before it clears from the freeway. This solution does not define how we should allocates vehicles arriving between t_1 and T_1, we just can conclude that the optimal solution is not unique. If operator wants freeway not to be congested, operator can impose the congestion toll, e_0-e_1, which is the difference between the externality of freeway and alternative route. In this situation, freeway will maintain free flow speed, however alternative route will be extremely congested.  User equilibrium  The user optimum equilibrium assumes that all users choose their own route towards their destination based on the travel time that will be consumed in different route options. The users will choose the route which requires the least travel time. The user optimum model is often used in simulating the impact on traffic assignment by highway bottlenecks. When the congestion occurs on highway, it will extend the delay time in travelling through the highway and create a longer travel time. Under the user optimum assumption, the users would choose to wait until the travel time using a certain freeway is equal to the travel time using city streets, and hence equilibrium is reached. This equilibrium is called User Equilibrium, Wardrop Equilibrium or Nash Equilibrium.  The core principle of User Equilibrium is that all used routes between a given OD pair have the same travel time. An alternative route option is enabled to use when the actual travel time in the system has reached the free-flow travel time on that route.  For a highway user optimum model considering one alternative route, a typical process of traffic assignment is shown in Figure 15. When the traffic demand stays below the highway capacity, the delay time on highway stays zero. When the traffic demand exceeds the capacity, the queue of vehicle will appear on the highway and the delay time will increase. Some of users will turn to the city streets when the delay time reaches the difference between the free-flow travel time on highway and the free-flow travel time on city streets. It indicates that the users staying on the highway will spend as much travel time as the ones who turn to the city streets. At this stage, the travel time on both the highway and the alternative route stays the same. This situation may be ended when the demand falls below the road capacity, that is the travel time on highway begins to decrease and all the users will stay on the highway. The total of part area 1 and 3 represents the benefits by providing an alternative route. The total of area 4 and area 2 shows the total delay cost in the system, in which area 4 is the total delay occurs on the highway and area 2 is the extra delay by shifting traffic to city streets.  Time delay  Both User Optimum and System Optimum can be subdivided into two categories on the basis of the approach of time delay taken for their solution:   Predictive Time Delay  Reactive Time Delay   Predictive time delay is based on the concept that the system or the user knows when the congestion point is reached or when the delay of the freeway would be equal to the delay on city streets, and the decision for route assignment is taken in time. On the other hand, reactive time delay is when the system or user waits to experience the point where the delay is observed and the diversion of routes is in reaction to that experience. Predictive delay gives significantly better results than the reactive delay method.  Kerner’s network breakdown minimization (BM) principle  Kerner introduced an alternative approach to traffic assignment based on his network breakdown minimization (BM) principle . Rather than an explicit minimization of travel time that is the objective of System Optimum and User Equilibrium , the BM principle minimizes the probability of the occurrence of congestion in a traffic network. 13 Under sufficient traffic demand, the application of the BM principle should lead to implicit minimization of travel time in the network.  Variable speed limit assignment  This is an upcoming approach of eliminating shockwave and increasing safety for the vehicles. The concept is based on the fact that the risk of accident on a roadway increases with speed differential between the upstream and downstream vehicles. The two types of crash risk which can be reduced from VSL implementation are the rear-end crash and the lane-change crash. Different approaches have been implemented by researchers to build a suitable VSL algorithm.  Road junctions  A major consideration in road capacity relates to the design of junctions. By allowing long "weaving sections" on gently curving roads at graded intersections, vehicles can often move across lanes without causing significant interference to the flow. However, this is expensive and takes up a large amount of land, so other patterns are often used, particularly in urban or very rural areas. Most large models use crude simulations for intersections, but computer simulations are available to model specific sets of traffic lights, roundabouts, and other scenarios where flow is interrupted or shared with other types of road users or pedestrians. A well-designed junction can enable significantly more traffic flow at a range of traffic densities during the day. By matching such a model to an "Intelligent Transport System", traffic can be sent in uninterrupted "packets" of vehicles at predetermined speeds through a series of phased traffic lights. The UK's TRL has developed junction modelling programs for small-scale local schemes that can take account of detailed geometry and sight lines; ARCADY for roundabouts, PICADY for priority intersections, and OSCADY and TRANSYT for signals. Many other junction analysis software packages exist such as Sidra and LinSig and Synchro .  Kinematic wave model  The kinematic wave model was first applied to traffic flow by Lighthill and Whitham in 1955. Their two-part paper first developed the theory of kinematic waves using the motion of water as an example. In the second half, they extended the theory to traffic on “crowded arterial roads.” This paper was primarily concerned with developing the idea of traffic “humps” (increases in flow) and their effects on speed, especially through bottlenecks. 14  The authors began by discussing previous approaches to traffic flow theory. They note that at the time there had been some experimental work, but that “theoretical approaches to the subject [were] in their infancy.” One researcher in particular, John Glen Wardrop, was primarily concerned with statistical methods of examination, such as space mean speed, time mean speed, and “the effect of increase of flow on overtaking” and the resulting decrease in speed it would cause. Other previous research had focused on two separate models: one related traffic speed to traffic flow and another related speed to the headway between vehicles. 15  The goal of Lighthill and Whitham, on the other hand, was to propose a new method of study “suggested by theories of the flow about supersonic projectiles and of flood movement in rivers.” The resulting model would capture both of the aforementioned relationships, speed-flow and speed-headway, into a single curve, which would “[sum] up all the properties of a stretch of road which are relevant to its ability to handle the flow of congested traffic.” The model they presented related traffic flow to concentration (now typically known as density). They wrote, “The fundamental hypothesis of the theory is that at any point of the road the flow q (vehicles per hour) is a function of the concentration k (vehicles per mile).” According to this model, traffic flow resembled the flow of water in that “Slight changes in flow are propagated back through the stream of vehicles along ‘kinematic waves,’ whose velocity relative to the road is the slope of the graph of flow against concentration.” The authors included an example of such a graph; this flow-versus-concentration (density) plot is still used today (See Figure 3 above). 16  The authors used this flow-concentration model to illustrate the concept of shock waves, which slow down vehicles which enter them, and the conditions that surround them. They also discussed bottlenecks and intersections, relating both to their new model. For each of these topics, flow-concentration and time-space diagrams were included. Finally, the authors noted that no agreed-upon definition for capacity existed, and argued that it should be defined as the “maximum flow of which the road is capable.” Lighthill and Whitham also recognized that their model had a significant limitation: it was only appropriate for use on long, crowded roadways, as the “continuous flow” approach only works with a large number of vehicles. 17  Components of the kinematic wave model of traffic flow theory  The kinematic wave model of traffic flow theory is the simplest dynamic traffic flow model that reproduces the propagation of traffic waves. It is made up of three components: the fundamental diagram, the conservation equation, and initial conditions. The law of conservation is the fundamental law governing the kinematic wave model:          ∂  k    ∂  t    +    ∂  q    ∂  x     =  0   ,            k     t        q     x     0    \frac{\partial k}{\partial t}+\frac{\partial q}{\partial x}=0,     The fundamental diagram of the kinematic wave model relates traffic flow with density, as seen in Figure 3 above. It can be written as:      q  =   F   (  k  )        q    F  k     {q}={F(k)}     Finally, initial conditions must be defined to solve a problem using the model. A boundary is defined to be    k   (  t  ,  x  )       k   t  x     {k(t,x)}   , representing density as a function of time and position. These boundaries typically take two different forms, resulting in initial value problems (IVPs) and boundary value problems (BVPs). Initial value problems give the traffic density at time    t  =  0      t  0    {t}={0}   , such that     k   (  0  ,  x  )    =   g   (  x  )          k   0  x      g  x     {k(0,x)}={g(x)}   , where    g   (  x  )       g  x    {g(x)}   is the given density function. Boundary value problems give some function    g   (  t  )       g  t    {g(t)}   that represents the density at the    x  =  0      x  0    {x=0}   position, such that     k   (  t  ,  0  )    =   g   (  t  )          k   t  0      g  t     {k(t,0)}={g(t)}   . The model has many uses in traffic flow. One of the primary uses is in modeling traffic bottlenecks, as described in the following section.  Traffic bottleneck  Traffic bottlenecks are disruption of traffic on a roadway caused either due to road design, traffic lights, and accidents. There are two general types of bottle necks, stationary and moving bottlenecks. Stationary bottlenecks are those that arise due to a disturbance that occurs due to a stationary situation like narrowing of a roadway, an accident. Moving bottlenecks on the other hand are those vehicles or vehicle behavior that causes the disruption in the vehicles which are upstream of the vehicle. Generally moving bottlenecks are caused by heavy trucks as they are slow moving vehicles with less acceleration and also may make lane changes.  (Figure)  Figure 16   Bottlenecks are important considerations because they impact the flow in traffic, the average speeds of the vehicles. The main consequence of a bottleneck is an immediate reduction in capacity of the roadway. The Federal Highway Authority has stated that 40% of all congestion is from bottlenecks Figure 16 shows the piechart of various causes of congestion. Figure 17 18 shows the common causes of congestion or bottlenecks.  Stationary bottleneck  The general cause of stationary bottlenecks are lane drops which occurs when the a multilane roadway loses one or more its lane. This causes the vehicular traffic in the ending lanes to merge onto the other lanes.  Consider a stretch of highway with two lanes in one direction. Suppose that the fundamental diagram is modeled as shown here. The highway has a peak capacity of Q vehicles per hour, corresponding to a density of k c vehicles per mile. The highway normally becomes jammed at k j vehicles per mile.  Before capacity is reached, traffic may flow at A vehicles per hour, or a higher B vehicles per hour. In either case, the speed of vehicles is v f , or "free flow," because the roadway is under capacity.  Now, suppose that at a certain location x 0 , the highway narrows to one lane. The maximum capacity is now limited to D', or half of Q, since only one lane of the two is available. D shares the same flowrate as state D', but its vehicular density is higher.  Using a time-space diagram, we may model the bottleneck event. Suppose that at time 0, traffic begins to flow at rate B and speed v f . After time t1, vehicles arrive at the lower flowrate A.  Before the first vehicles reach location x 0 , the traffic flow is unimpeded. However, downstream of x 0 , the roadway narrows, reducing the capacity by half – and to below that of state B. Due to this, vehicles will begin queuing upstream of x 0 . This is represented by high-density state D. The vehicle speed in this state is the slower v d , as taken from the fundamental diagram. Downstream of the bottleneck, vehicles transition to state D', where they again travel at free-flow speed v f .  Once vehicles arrive at rate A starting at t1, the queue will begin to clear and eventually dissipate. State A has a flowrate below the one-lane capacity of states D and D'.  On the time-space diagram, a sample vehicle trajectory is represented with a dotted arrow line. The diagram can readily represent vehicular delay and queue length. It is a simple matter of taking horizontal and vertical measurements within the region of state D.  Moving bottleneck  As explained above, moving bottlenecks are caused due to slow moving vehicles that cause disruption in traffic. Moving bottlenecks can be active or inactive bottlenecks. If the reduced capacity(q u ) caused due to a moving bottleneck is greater than the actual capacity(μ) downstream of the vehicle, then this bottleneck is said to be an active bottleneck.Figure 20 shows the case of a truck moving with velocity 'v' approaching an downstream location with capacity 'μ'. If the reduced capacity of the truck (q u ) is less than the downstream capacity, then the truck becomes an inactive bottleneck.  Laval 2009 presents a framework for estimating analytical expressions for the capacity reductions caused by a subset of vehicles forced to slow down at horizontal/vertical curves on multilane freeway. In each of the lane the underperforming stream is described in terms of its desired speed distribution and is modeled as per Newell’s kinematic wave theory for moving bottlenecks. Lane changing in the presence of trucks can lead to a positive or negative impact on capacity. If the target lane is empty then the lane-changing increases capacity  For this example, consider three lanes of traffic in one direction. Assume that a truck starts traveling at speed v, slower than the free flow speed v f . As shown on the fundamental diagram below, q u represents the reduced capacity (2/3 of Q, or 2 of 3 lanes available) around the truck.  State A represents normal approaching traffic flow, again at speed v f . State U, with flowrate q u , corresponds to the queuing upstream of the truck. On the fundamental diagram, vehicle speed v u is slower than v f . But once drivers have navigated around the truck, they can again speed up and transition to downstream state D. While this state travels at free flow, the vehicle density is less because fewer vehicles get around the bottleneck.  Suppose that, at time t, the truck slows from free-flow to v. A queue builds behind the truck, represented by state U. Within the region of state U, vehicles drive slower as indicated by the sample trajectory. Because state U limits to a smaller flow than state A, the queue will back up behind the truck and eventually crowd out the entire highway (slope s is negative). If state U had the higher flow, there would still be a growing queue. However, it would not back up because the slope s would be positive.  Riemann's problem  Imagine a scenario in which a two lane road is reduced to one lane at point x o from here on the road’s capacity is reduced to half its original (½µ), Case I. Later along the road at point x 1 the 2nd lane is opened and the capacity is restored to its original (µ), Case II.  Case I There is a bottleneck limiting the flow of traffic which causes an increase in the density of cars (k) at location ( x o ). This causes a deceleration for all oncoming cars traveling at speed u to slow to speed v d . This shockwave will travel at the speed of the slope of line U-D on the fundamental diagram. The wave speed can be calculated as v shock = ( q D − q U )/( k D − k U ). This line delineates the congestion traffic from oncoming free-flow traffic. If the slope of U-D on the fundamental diagram is positive congestion will continue downstream of the highway. If it has a negative slope the congestion will continue upstream (see figure a). This deceleration is the case I of Riemann’s problem (see figure b and c).  Case II In case II of Riemann’s problem traffic goes from congestion to free-flow and the cars accelerate as the density drops. Again the slope of these shock waves can be calculated using the same formula v shock = ( q D − q U )/( k D − k U ). The difference this time is that traffic flow travels along the fundamental diagram not in a straight line across but many slopes between various points on the curved fundamental diagram (see figure d). This causes many lines emanating from point x 1 all in a fan shape, called rarefaction (see figure e). This model implies that the users later on in time will take longer to accelerate as they meet each of the lines. Instead a better approximation is a triangular diagram where the traffic increases abruptly as it would when a driver sees an opening in front of them (see figures f and g).  (Figure)  A and B|350px|Figure 24   (Figure)  C|350px|Figure 25   (Figure)  Figure 26   (Figure)  Figure 27   Criticism of generally accepted classical fundamentals and methodologies of traffic and transportation theory  In a critical review, 19 Kerner explained that generally accepted classical fundamentals and methodologies of traffic and transportation theory are inconsistent with the set of fundamental empirical features of traffic breakdown at a highway bottleneck.  Set of fundamental empirical features of traffic breakdown at highway bottlenecks  The set of fundamental empirical features of traffic breakdown at a highway bottleneck is as follows:   Traffic breakdown at a highway bottleneck is a local phase transition from free flow ( F ) to congested traffic whose downstream front is usually fixed at the bottleneck location. Such congested traffic is called synchronized flow ( S ). Within the downstream front of synchronized flow, vehicles accelerate from synchronized flow upstream of the bottleneck to free flow downstream of the bottleneck.    At the same bottleneck, traffic breakdown can be either spontaneous or induced.  The probability of traffic breakdown is an increasing flow rate function.  There is a well-known hysteresis phenomenon associated with traffic breakdown: When the breakdown has occurred at some flow rates with resulting congested pattern formation upstream of the bottleneck, then a return transition to free flow at the bottleneck is usually observed at considerably smaller flow rates.   A spontaneous traffic breakdown occurs, where there are free flows both upstream and downstream of the bottleneck before the breakdown has occurred. In contrast, an induced traffic breakdown is caused by a propagation of a congested pattern that has earlier emerged for example at another downstream bottleneck.  Empirical data that illustrates the set of fundamental empirical features of traffic breakdown at highway bottlenecks as well as explanations of the empirical data can be found in Wikipedia article Kerner’s breakdown minimization principle and in review. 20  Classical traffic flow theories  The generally accepted classical fundamentals and methodologies of traffic and transportation theory are as follows:  (i) The Lighthill-Whitham-Richards (LWR) model introduced in 1955–1956,. 21 22 Daganzo introduced a cell-transmission model (CTM) that is consistent with the LWR model. 23  (ii) A traffic flow instability that causes a growing wave of a local reduction of the vehicle speed. This classical traffic flow instability was introduced in 1959–1961 in the General Motors (GM) car-following model by Herman, Gazis, Montroll, Potts, and Rothery,. 24 25 The classical traffic flow instability of the GM model has been incorporated in a huge number of traffic flow models like Gipps's model, Payne's model, Newell's optimal velocity (OV) model, Wiedemann's model, Whitham's model, the Nagel-Schreckenberg (NaSch) cellular automaton (CA) model, Bando et al. OV model, Treiber's IDM, Krauß model, the Aw-Rascle model and many other well-known microscopic and macroscopic traffic-flow models, which are the basis of traffic simulation tools widely used by traffic engineers and researchers (see, e.g., references in review 26 ).  (iii) The understanding of highway capacity as a particular value. This understanding of road capacity was probably introduced in 1920–1935 (see 27 ). Currently, it is assumed that highway capacity of free flow at a highway bottleneck is a stochastic value. However, in accordance with the classical understanding of highway capacity, it is assumed that at a given time instant there can be only one particular value of this stochastic highway capacity (see references in the book 28 ).  (iv) Wardrop's user equilibrium (UE) and system optimum (SO) principles for traffic and transportation network optimization and control. 29  Failure of classical traffic flow theories  Kerner explains the failure of the generally accepted classical traffic flow theories as follows: 30  1. The LWR-theory fails because this theory cannot show empirical induced traffic breakdown observed in real traffic. Correspondingly, all applications of LWR-theory to the description of traffic breakdown at highway bottlenecks (like related applications of Daganzo’s cell-transmission model, cumulative vehicle count curves ( N -curves), bottleneck model, highway capacity models as well as associated applications of kinematic wave theory) are also inconsistent with the set of fundamental empirical features of traffic breakdown.  2. Two-phase traffic flow models of the GM model class (see references in 31 ) fail because traffic breakdown in the models of the GM class is a phase transition from free flow ( F ) to a moving jam ( J ) (called F → J transition): In a traffic flow model belonging to the GM model class due to traffic breakdown, a moving jam(s) appears spontaneously in an initially free flow at a highway bottleneck. In contrast with this model result, real traffic breakdown is a phase transition from free flow ( F ) to synchronized flow ( S ) (called F → S transition): Rather than a moving jam(s), due to traffic breakdown in real traffic, synchronized flow occurs whose downstream front is fixed at the bottleneck.  3. The understanding of highway capacity as a particular value (see references in the book 32 ) fails because this assumption about the nature of highway capacity contradicts the empirical evidence that traffic breakdown can be induced at a highway bottleneck.  4. Dynamic traffic assignment or/and any kind of traffic optimization and control based on Wardrop's SO or UE principles fail because of possible random transitions between the free flow and synchronized flow at highway bottlenecks. Due to such random transitions, the minimization of travel cost in a traffic network is not possible.  According to Kerner, 33 the inconsistence the generally accepted classical fundamentals and methodologies of traffic and transportation theory with the set of fundamental empirical features of traffic breakdown at a highway bottleneck can explain why network optimization and control approaches based on these fundamentals and methodologies have failed by their applications in the real world. Even several decades of a very intensive effort to improve and validate network optimization models have no success. Indeed, there can be found no examples where on-line implementations of the network optimization models based on these fundamentals and methodologies could reduce congestion in real traffic and transportation networks.  This is due to the fact that the fundamental empirical features of traffic breakdown at highway bottlenecks have been understood only during last 20 years. In contrast, the generally accepted fundamentals and methodologies of traffic and transportation theory have been introduced in the 50s-60s. Thus the scientists whose ideas led to these classical fundamentals and methodologies of traffic and transportation theory could not know the set of empirical features of real traffic breakdown.  Incommensurability of Kerner’s three-phase traffic theory and classical traffic-flow theories  The explanation of traffic breakdown at a highway bottleneck by a F → S transition in a metastable free flow at the bottleneck is the basic assumption of Kerner’s three-phase traffic theory . 34 The three-phase traffic theory is consistent with the set of fundamental empirical features of traffic breakdown. None of earlier traffic-flow theories incorporates a F→S transition in a metastable free flow at the bottleneck. Therefore, as above mentioned none of the classical traffic flow theories is consistent with the set of empirical features of real traffic breakdown at a highway bottleneck. The F→S phase transition in metastable free flow at highway bottleneck does explain the empirical evidence of the induced transition from free flow to synchronized flow together with the flow-rate dependence of the breakdown probability. In accordance with the classical book by Kuhn, 35 this shows the incommensurability of three-phase theory and the classical traffic-flow theories (for more details, see 36 ): The minimum highway capacity    C   m  i  n      subscript  C    m  i  n     C_{min}   , at which the F→S phase transition can still be induced at a highway bottleneck as stated in Kerner’s theory, has no sense for other traffic flow theories and models. The term "incommensurability" has been introduced by Kuhn in his classical book 37 to explain a paradigm shift in a scientific field. It must also be noted that the existence of these two traffic phases, free flow ( F ) and synchronized flow ( S ) at the same flow rate does not result from the stochastic nature of traffic: Even if there were no stochastic processes in vehicular traffic, the states F and S do exist at the same flow rate. However, classical stochastic approaches to traffic control do not assume a possibility of an F→S phase transition in metastable free flow. For this reason, these stochastic approaches cannot resolve the problem of the inconsistence of classical theories with the set of empirical features of real traffic breakdown.  See also   Data flow  Dijkstra's algorithm  Epidemiology of motor vehicle collisions  Floating car data  Flow (computer networking)  Fundamental diagram of traffic flow  Journal of Transport and Land Use  Microscopic traffic flow model  Microsimulation  Newell's car-following model  Newell–Daganzo merge model  Truck Lane Restriction  Road traffic control  Road traffic safety#Statistics  Rule 184  Three-phase traffic theory  Kerner’s breakdown minimization principle  Three-detector problem and Newell's method  TIRTL  Traffic bottleneck  Traffic wave  Traffic counter  Traffic congestion: Reconstruction with Kerner’s three-phase theory  Traffic engineering  Turning movement counters   References  Further reading  A survey about the state of art in traffic flow modelling:   N. Bellomo, V. Coscia, M. Delitala, On the Mathematical Theory of Vehicular Traffic Flow I. Fluid Dynamic and Kinetic Modelling, Math. Mod. Meth. App. Sc. , Vol. 12, No. 12 (2002) 1801–1843  S. Maerivoet, Modelling Traffic on Motorways: State-of-the-Art, Numerical Data Analysis, and Dynamic Traffic Assignment , Katholieke Universiteit Leuven, 2006  M. Garavello and B. Piccoli, Traffic Flow on Networks, American Institute of Mathematical Sciences (AIMS), Springfield, MO, 2006. pp xvi+243 ISBN 978-1-60133-000-0  Carlos F.Daganzo, "Fundamentals of Transportation and Traffic Operations.",Pergamon-Elsevier, Oxford, U.K. (1997)  B.S. Kerner, Introduction to Modern Traffic Flow Theory and Control: The Long Road to Three-Phase Traffic Theory , Springer, Berlin, New York 2009  Cassidy, M.J. and R.L. Bertini. "Observations at a Freeway Bottleneck." Transportation and Traffic Theory (1999).  Daganzo, Carlos F. "A Simple Traffic Analysis Procedure." Networks and Spatial Economics 1.i (2001) : 77–101.  Lindgren, Robert V.R. "Analysis of Flow Features in Queued Traffic on a German Freeway." Portland State University (2005).  Ni, B. and J.D. Leonard. "Direct Methods of Determining Traffic Stream Characteristics by Definition." Transportation Research Record (2006).   Useful books from the physical point of view:   M. Treiber and A. Kesting, "Traffic Flow Dynamics", Springer, 2013  B.S. Kerner, The Physics of Traffic , Springer, Berlin, New York 2004  [ http://xstructure.inr.ac.ru/x-bin/theme2.py?arxiv=cond-mat&level; ;=2&index1;=28 Traffic flow on arxiv.org]  May, Adolf. Traffic Flow Fundamentals . Prentice Hall, Englewood Cliffs, NJ, 1990.  Taylor, Nicholas. The Contram dynamic traffic assignment model  TRL 2003   External links   The Transportation Research Board's (TRB) fifth edition of the Highway Capacity Manual (HCM 2010)   "  Category:Road transport  Category:Mathematical physics  Category:Conservation equations  Category:Road traffic management     ↩  ↩  Ergotmc at GTRI Georgia Tech http://ergotmc.gtri.gatech.edu/ ↩  Lint, J. W. C. V., "Reliable travel time prediction for freeways", Phd thesis, Netherlands TRAIL Research School, 2004 ↩  Highway Capacity Manual 2000 ↩  SATURN ITS Transport Software Site ↩  Introduction to Contram ↩  UK Department for Transport 's WebTag guidance on the conduct of transport studies ↩  Cassidy, M.J. and R.L. Bertini. "Some Traffic Features at Freeway Bottlenecks." Transportation Research Part B: Methodological 33.1 (1999) : 25–42 ↩  Pitstick, Mark E. "Measuring Delay and Simulating Performance at Isolated Signalized Intersections Using Cumulative Curves." Transportation Research Record 1287 (1990) ↩   Juan Carlos Muñoz and Jorge A. Laval. “System optimum dynamic traffic assignment graphical solution method for a congested freeway and one destination”. Transportation Research Part B : Methodological (2006) ↩  Minimizing the probability of the occurrence of traffic congestion in a traffic network ↩  ↩     figure missing ↩  Boris S. Kerner, "Criticism of generally accepted fundamentals and methodologies of traffic and transportation theory: A brief review", Physica A: Statistical Mechanics and its Applications 392, 5261–5282 (2013). doi:10.1016/j.physa.2013.06.004 ↩    P.I. Richards, "Shockwaves on the highway". Oper. Res., 4, 42-51 (1956) ↩  C.F. Daganzo "The cell transmission model: a simple dynamic representation of highway traffic". Trans. Res. B, 28, 269-287 (1994) ) ↩  R. Herman, E.W. Montroll, R.B. Potts, and R.W. Rothery, "Traffic dynamics: analysis of stability in car following". Oper. Res. , 7, 86-106 (1959) ↩  D.C. Gazis, R. Herman, and R.W. Rothery. "Nonlinear follow-the-leader models of traffic flow". Oper. Res., 9, 545-567 (1961) ↩   Greenshields, B.D. "A study of traffic capacity". Highway Research Board Proceedings, 14, 448-477 (1935) ) ↩  Elefteriadou, L. "An Introduction to Traffic Flow Theory". Springer Optimization and Its Applications, Vol. 84 (Springer, Berlin 2014) ↩  J.G. Wardrop, "Some theoretical aspects of road traffic research", in Proc. of Inst. of Civil Eng. II., 1, 325—362 (1952) ↩       T.S. Kuhn, "The structure of scientific revolutions". Fourth edition. (The University of Chicago Press, Chicago, London 2012) ↩  Boris S. Kerner, Sergey L. Klenov, and Michael Schreckenberg, "Probabilistic physical characteristics of phase transitions at highway bottlenecks: Incommensurability of three-phase and two-phase traffic-flow theories" Phys. Rev. E 89, 052807 (2014). doi: 10.1103/PhysRevE.89.052807 ↩      