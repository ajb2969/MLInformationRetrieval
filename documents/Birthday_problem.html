<html lang="en">
<head>
<meta charset="utf-8"/>
<title offset="32">Birthday problem</title>
<script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_SVG.js" type="text/javascript">
</script>
</head>
<body>
<h1>Birthday problem</h1>
<hr/>

<p>In <a href="probability_theory" title="wikilink">probability theory</a>, the <strong>birthday problem</strong> or <strong>birthday <a class="uri" href="paradox" title="wikilink">paradox</a></strong><a class="footnoteRef" href="#fn1" id="fnref1"><sup>1</sup></a> concerns the <a class="uri" href="probability" title="wikilink">probability</a> that, in a set of 

<math display="inline" id="Birthday_problem:0">
 <semantics>
  <mi>n</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>n</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   n
  </annotation>
 </semantics>
</math>

 <a href="random" title="wikilink">randomly</a> chosen people, some pair of them will have the same <a class="uri" href="birthday" title="wikilink">birthday</a>. By the <a href="pigeonhole_principle" title="wikilink">pigeonhole principle</a>, the probability reaches 100% when the number of people reaches 367 (since there are 366 possible birthdays, including <a href="February_29" title="wikilink">February 29</a>). However, 99.9% probability is reached with just 70 people, and 50% probability with 23 people. These conclusions include the assumption that each day of the year (except February 29) is equally probable for a birthday. The history of the problem is obscure. <a href="W._W._Rouse_Ball" title="wikilink">W. W. Rouse Ball</a> indicated (without citation) that it was first discussed by <a href="Harold_Davenport" title="wikilink">Harold Davenport</a>.<a class="footnoteRef" href="#fn2" id="fnref2"><sup>2</sup></a> However, <a href="Richard_von_Mises" title="wikilink">Richard von Mises</a> proposed an earlier version of what we consider today to be the birthday problem.<a class="footnoteRef" href="#fn3" id="fnref3"><sup>3</sup></a></p>

<p>The mathematics behind this problem led to a well-known cryptographic attack called the <a href="birthday_attack" title="wikilink">birthday attack</a>, which uses this probabilistic model to reduce the complexity of finding a <a href="Collision_attack" title="wikilink">collision</a> for a <a href="hash_function" title="wikilink">hash function</a>.</p>
<figure><b>(Figure)</b>
<figcaption>A graph showing the computed probability of at least two people sharing a birthday amongst a certain number of people.</figcaption>
</figure>
<h2 id="understanding-the-problem">Understanding the problem</h2>

<p>The birthday problem is to find the probability that, in a group of N people, there is at least one pair of people who have the same birthday. See <a href="#Same_birthday_as_you" title="wikilink">"Same birthday as you"</a> further for an analysis of the case of finding the probability of a given, fixed person having the same birthday as any of the remaining 

<math display="inline" id="Birthday_problem:1">
 <semantics>
  <mrow>
   <mi>N</mi>
   <mo>-</mo>
   <mn>1</mn>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <minus></minus>
    <ci>N</ci>
    <cn type="integer">1</cn>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   N-1
  </annotation>
 </semantics>
</math>

 people.</p>

<p>In the example given earlier, a list of 23 people, comparing the birthday of the first person on the list to the others allows 22 chances for a matching birthday, the second person on the list to the others allows 21 chances for a matching birthday (in fact the 'second' person also has total 22 chances of matching birthday with the others but his/her chance of matching birthday with the 'first' person, one chance, has already been counted with the first person's 22 chances and shall not be duplicated), third person has 20 chances, and so on. Hence total chances are

<math display="block" id="Birthday_problem:2">
 <semantics>
  <mrow>
   <mrow>
    <mn>22</mn>
    <mo>+</mo>
    <mn>21</mn>
    <mo>+</mo>
    <mn>20</mn>
    <mo>+</mo>
    <mi mathvariant="normal">⋯</mi>
    <mo>+</mo>
    <mn>1</mn>
   </mrow>
   <mo>=</mo>
   <mn>253</mn>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <plus></plus>
     <cn type="integer">22</cn>
     <cn type="integer">21</cn>
     <cn type="integer">20</cn>
     <ci>normal-⋯</ci>
     <cn type="integer">1</cn>
    </apply>
    <cn type="integer">253</cn>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   22+21+20+\cdots+1=253
  </annotation>
 </semantics>
</math>

, so comparing every person to all of the others allows 253 distinct chances (<a href="combination" title="wikilink">combinations</a>): in a group of 23 people there are 

<math display="inline" id="Birthday_problem:3">
 <semantics>
  <mrow>
   <mrow>
    <mo>(</mo>
    <mstyle scriptlevel="+1">
     <mtable columnspacing="0.4em" rowspacing="0.2ex">
      <mtr>
       <mtd>
        <mn>23</mn>
       </mtd>
      </mtr>
      <mtr>
       <mtd>
        <mn>2</mn>
       </mtd>
      </mtr>
     </mtable>
    </mstyle>
    <mo>)</mo>
   </mrow>
   <mo>=</mo>
   <mfrac>
    <mrow>
     <mn>23</mn>
     <mo>⋅</mo>
     <mn>22</mn>
    </mrow>
    <mn>2</mn>
   </mfrac>
   <mo>=</mo>
   <mn>253</mn>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <and></and>
    <apply>
     <eq></eq>
     <apply>
      <csymbol cd="latexml">binomial</csymbol>
      <cn type="integer">23</cn>
      <cn type="integer">2</cn>
     </apply>
     <apply>
      <divide></divide>
      <apply>
       <ci>normal-⋅</ci>
       <cn type="integer">23</cn>
       <cn type="integer">22</cn>
      </apply>
      <cn type="integer">2</cn>
     </apply>
    </apply>
    <apply>
     <eq></eq>
     <share href="#.cmml">
     </share>
     <cn type="integer">253</cn>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \textstyle{23\choose 2}=\frac{23\cdot 22}{2}=253
  </annotation>
 </semantics>
</math>


 distinct possible combinations of pairing.</p>

<p>Presuming all birthdays are equally probable,<ref name="nonuniform birthdays">In reality, birthdays are not evenly distributed throughout the year; there are more births per day in some seasons than in others, but for the purposes of this problem the distribution is treated as uniform. In particular, many children are born in the summer, especially the months of August and September (for the northern hemisphere) <a href="http://scienceworld.wolfram.com/astronomy/LeapDay.html">1</a>, and in the U.S. it has been noted that many children are conceived around the holidays of <a class="uri" href="Christmas" title="wikilink">Christmas</a> and <a href="New_Year's_Day" title="wikilink">New Year's Day</a>. Also, because hospitals rarely schedule C-sections and induced labor on the weekend, more Americans are born on Mondays and Tuesdays than on weekends; where many of the people share a birth year (e.g. a class in a school), this creates a tendency toward particular dates. In Sweden 9.3% of the population is born in March and 7.3% in November when a uniform distribution would give 8.3% <a href="http://www.scb.se/statistik/BE/BE0101/2006A01a/BE0101_2006A01a_SM_BE12SM0701.pdf">Swedish statistics board</a>. See also:</ref></p>
<ul>
<li></li>
<li></li>
</ul>

<p>These factors tend to increase the chance of identical birth dates, since a denser subset has more possible pairs (in the extreme case when everyone was born on three days, there would obviously be many identical birthdays). The problem of a non-uniform number of births occurring during each day of the year was first understood by <a href="Murray_Klamkin" title="wikilink">Murray Klamkin</a> in 1967. A formal proof that the probability of two matching birthdays is least for a uniform distribution of birthdays was given by D. Bloom (1973). the probability of a given birthday for a person chosen from the entire population at random is 1/365 (ignoring <a href="February_29" title="wikilink">February 29</a>). Although the number of pairings in a group of 23 people is not statistically equivalent to 253 pairs chosen independently, the birthday problem becomes less surprising if a group is thought of in terms of the number of possible pairs, rather than as the number of individuals.</p>
<h2 id="calculating-the-probability">Calculating the probability</h2>

<p>The problem is to compute the approximate probability that in a group of 

<math display="inline" id="Birthday_problem:4">
 <semantics>
  <mi>n</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>n</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   n
  </annotation>
 </semantics>
</math>

 people, at least two have the same birthday. For simplicity, disregard variations in the distribution, such as <a href="leap_year" title="wikilink">leap years</a>, <a href="twin" title="wikilink">twins</a>, seasonal or weekday variations, and assume that the 365 possible birthdays are equally likely. Real-life birthday distributions are not uniform since not all dates are equally likely.<a class="footnoteRef" href="#fn4" id="fnref4"><sup>4</sup></a></p>

<p>The goal is to compute 

<math display="inline" id="Birthday_problem:5">
 <semantics>
  <mrow>
   <mi>P</mi>
   <mrow>
    <mo stretchy="false">(</mo>
    <mi>A</mi>
    <mo stretchy="false">)</mo>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <times></times>
    <ci>P</ci>
    <ci>A</ci>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   P(A)
  </annotation>
 </semantics>
</math>

, the probability that at least two people in the room have the same birthday. However, it is simpler to calculate <mtpl></mtpl>, the probability that no two people in the room have the same birthday. Then, because 

<math display="inline" id="Birthday_problem:6">
 <semantics>
  <mi>A</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>A</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   A
  </annotation>
 </semantics>
</math>

 and <mtpl></mtpl> are the only two possibilities and are also <a href="mutually_exclusive_events" title="wikilink">mutually exclusive</a>, <mtpl> 1 − <em>P</em>(<em>A</em>').}}</mtpl></p>

<p>In deference to widely published solutions concluding that 23 is the minimum number of people necessary to have a 

<math display="inline" id="Birthday_problem:7">
 <semantics>
  <mrow>
   <mi>P</mi>
   <mrow>
    <mo stretchy="false">(</mo>
    <mi>A</mi>
    <mo stretchy="false">)</mo>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <times></times>
    <ci>P</ci>
    <ci>A</ci>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   P(A)
  </annotation>
 </semantics>
</math>

 that is greater than 50%, the following calculation of 

<math display="inline" id="Birthday_problem:8">
 <semantics>
  <mrow>
   <mi>P</mi>
   <mrow>
    <mo stretchy="false">(</mo>
    <mi>A</mi>
    <mo stretchy="false">)</mo>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <times></times>
    <ci>P</ci>
    <ci>A</ci>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   P(A)
  </annotation>
 </semantics>
</math>


 will use 23 people as an example.</p>

<p>When events are <a href="independence_(probability_theory)" title="wikilink">independent</a> of each other, the probability of all of the events occurring is equal to a product of the probabilities of each of the events occurring. Therefore, if <mtpl></mtpl> can be described as 23 independent events, <mtpl></mtpl> could be calculated as 

<math display="inline" id="Birthday_problem:9">
 <semantics>
  <mrow>
   <mi>P</mi>
   <mrow>
    <mo stretchy="false">(</mo>
    <mn>1</mn>
    <mo stretchy="false">)</mo>
   </mrow>
   <mi mathvariant="normal"></mi>
   <mi mathvariant="normal">×</mi>
   <mi>P</mi>
   <mrow>
    <mo stretchy="false">(</mo>
    <mn>2</mn>
    <mo stretchy="false">)</mo>
   </mrow>
   <mi mathvariant="normal"></mi>
   <mi mathvariant="normal">×</mi>
   <mi>P</mi>
   <mrow>
    <mo stretchy="false">(</mo>
    <mn>3</mn>
    <mo stretchy="false">)</mo>
   </mrow>
   <mi mathvariant="normal"></mi>
   <mi mathvariant="normal">×</mi>
   <mi mathvariant="normal"></mi>
   <mi mathvariant="normal">…</mi>
   <mi mathvariant="normal"></mi>
   <mi mathvariant="normal">×</mi>
   <mi>P</mi>
   <mrow>
    <mo stretchy="false">(</mo>
    <mn>23</mn>
    <mo stretchy="false">)</mo>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <times></times>
    <ci>P</ci>
    <cn type="integer">1</cn>
    <ci>normal-</ci>
    <ci>normal-×</ci>
    <ci>P</ci>
    <cn type="integer">2</cn>
    <ci>normal-</ci>
    <ci>normal-×</ci>
    <ci>P</ci>
    <cn type="integer">3</cn>
    <ci>normal-</ci>
    <ci>normal-×</ci>
    <ci>normal-</ci>
    <ci>normal-…</ci>
    <ci>normal-</ci>
    <ci>normal-×</ci>
    <ci>P</ci>
    <cn type="integer">23</cn>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   P(1) ×P(2) ×P(3) × ... ×P(23)
  </annotation>
 </semantics>
</math>

.</p>

<p>The 23 independent events correspond to the 23 people, and can be defined in order. Each event can be defined as the corresponding person not sharing his/her birthday with any of the previously analyzed people. For <em>Event 1</em>, there are no previously analyzed people. Therefore, the probability, 

<math display="inline" id="Birthday_problem:10">
 <semantics>
  <mrow>
   <mi>P</mi>
   <mrow>
    <mo stretchy="false">(</mo>
    <mn>1</mn>
    <mo stretchy="false">)</mo>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <times></times>
    <ci>P</ci>
    <cn type="integer">1</cn>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   P(1)
  </annotation>
 </semantics>
</math>

, that <em>Person 1</em> does not share his/her birthday with previously analyzed people is 1, or 100%. Ignoring leap years for this analysis, the probability of 

<math display="inline" id="Birthday_problem:11">
 <semantics>
  <mn>1</mn>
  <annotation-xml encoding="MathML-Content">
   <cn type="integer">1</cn>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   1
  </annotation>
 </semantics>
</math>

 can also be written as 

<math display="inline" id="Birthday_problem:12">
 <semantics>
  <mfrac>
   <mn>365</mn>
   <mn>365</mn>
  </mfrac>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <divide></divide>
    <cn type="integer">365</cn>
    <cn type="integer">365</cn>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \frac{365}{365}
  </annotation>
 </semantics>
</math>

, for reasons that will become clear below.</p>

<p>For <em>Event 2</em>, the only previously analyzed people are <em>Person 1</em>. Assuming that birthdays are equally likely to happen on each of the 365 days of the year, the probability, 

<math display="inline" id="Birthday_problem:13">
 <semantics>
  <mrow>
   <mi>P</mi>
   <mrow>
    <mo stretchy="false">(</mo>
    <mn>2</mn>
    <mo stretchy="false">)</mo>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <times></times>
    <ci>P</ci>
    <cn type="integer">2</cn>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   P(2)
  </annotation>
 </semantics>
</math>


, that <em>Person 2</em> has a different birthday than <em>Person 1</em> is 

<math display="inline" id="Birthday_problem:14">
 <semantics>
  <mfrac>
   <mn>364</mn>
   <mn>365</mn>
  </mfrac>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <divide></divide>
    <cn type="integer">364</cn>
    <cn type="integer">365</cn>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \frac{364}{365}
  </annotation>
 </semantics>
</math>

. This is because, if <em>Person 2</em> was born on any of the other 364 days of the year, <em>Persons 1</em> and <em>2</em> will not share the same birthday.</p>

<p>Similarly, if <em>Person 3</em> is born on any of the 363 days of the year other than the birthdays of <em>Persons 1</em> and <em>2</em>, <em>Person 3</em> will not share their birthday. This makes the probability 

<math display="inline" id="Birthday_problem:15">
 <semantics>
  <mrow>
   <mrow>
    <mi>P</mi>
    <mrow>
     <mo stretchy="false">(</mo>
     <mn>3</mn>
     <mo stretchy="false">)</mo>
    </mrow>
   </mrow>
   <mo>=</mo>
   <mfrac>
    <mn>363</mn>
    <mn>365</mn>
   </mfrac>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <times></times>
     <ci>P</ci>
     <cn type="integer">3</cn>
    </apply>
    <apply>
     <divide></divide>
     <cn type="integer">363</cn>
     <cn type="integer">365</cn>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   P(3)=\frac{363}{365}
  </annotation>
 </semantics>
</math>

.</p>

<p>This analysis continues until <em>Person 23</em> is reached, whose probability of not sharing his/her birthday with people analyzed before, 

<math display="inline" id="Birthday_problem:16">
 <semantics>
  <mrow>
   <mi>P</mi>
   <mrow>
    <mo stretchy="false">(</mo>
    <mn>23</mn>
    <mo stretchy="false">)</mo>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <times></times>
    <ci>P</ci>
    <cn type="integer">23</cn>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   P(23)
  </annotation>
 </semantics>
</math>

, is 

<math display="inline" id="Birthday_problem:17">
 <semantics>
  <mfrac>
   <mn>343</mn>
   <mn>365</mn>
  </mfrac>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <divide></divide>
    <cn type="integer">343</cn>
    <cn type="integer">365</cn>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \frac{343}{365}
  </annotation>
 </semantics>
</math>

.</p>

<p><mtpl></mtpl> is equal to the product of these individual probabilities: </p>

<p>The terms of equation () can be collected to arrive at: </p>

<p>Evaluating equation () gives <mtpl></mtpl></p>

<p>Therefore, 

<math display="inline" id="Birthday_problem:18">
 <semantics>
  <mrow>
   <mrow>
    <mi>P</mi>
    <mrow>
     <mo stretchy="false">(</mo>
     <mi>A</mi>
     <mo stretchy="false">)</mo>
    </mrow>
    <mi mathvariant="normal">≈</mi>
    <mi mathvariant="normal"></mi>
    <mn>1</mn>
    <mi mathvariant="normal"></mi>
    <mi mathvariant="normal">−</mi>
    <mi mathvariant="normal"></mi>
    <mn>0.492703</mn>
   </mrow>
   <mo>=</mo>
   <mn>0.507297</mn>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <times></times>
     <ci>P</ci>
     <ci>A</ci>
     <ci>normal-≈</ci>
     <ci>normal-</ci>
     <cn type="integer">1</cn>
     <ci>normal-</ci>
     <ci>normal-−</ci>
     <ci>normal-</ci>
     <cn type="float">0.492703</cn>
    </apply>
    <cn type="float">0.507297</cn>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   P(A)≈ 1 − 0.492703=0.507297
  </annotation>
 </semantics>
</math>


 (50.7297%)</p>

<p>This process can be generalized to a group of 

<math display="inline" id="Birthday_problem:19">
 <semantics>
  <mi>n</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>n</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   n
  </annotation>
 </semantics>
</math>

 people, where 

<math display="inline" id="Birthday_problem:20">
 <semantics>
  <mrow>
   <mi>p</mi>
   <mrow>
    <mo stretchy="false">(</mo>
    <mi>n</mi>
    <mo stretchy="false">)</mo>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <times></times>
    <ci>p</ci>
    <ci>n</ci>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   p(n)
  </annotation>
 </semantics>
</math>

 is the probability of at least two of the 

<math display="inline" id="Birthday_problem:21">
 <semantics>
  <mi>n</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>n</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   n
  </annotation>
 </semantics>
</math>

 people sharing a birthday. It is easier to first calculate the probability 

<math display="inline" id="Birthday_problem:22">
 <semantics>
  <mrow>
   <mover accent="true">
    <mi>p</mi>
    <mo>¯</mo>
   </mover>
   <mrow>
    <mo stretchy="false">(</mo>
    <mi>n</mi>
    <mo stretchy="false">)</mo>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <times></times>
    <apply>
     <ci>normal-¯</ci>
     <ci>p</ci>
    </apply>
    <ci>n</ci>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \overline{p}(n)
  </annotation>
 </semantics>
</math>

 that all 

<math display="inline" id="Birthday_problem:23">
 <semantics>
  <mi>n</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>n</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   n
  </annotation>
 </semantics>
</math>


 birthdays are <em>different</em>. According to the <a href="pigeonhole_principle" title="wikilink">pigeonhole principle</a>, 

<math display="inline" id="Birthday_problem:24">
 <semantics>
  <mrow>
   <mover accent="true">
    <mi>p</mi>
    <mo>¯</mo>
   </mover>
   <mrow>
    <mo stretchy="false">(</mo>
    <mi>n</mi>
    <mo stretchy="false">)</mo>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <times></times>
    <apply>
     <ci>normal-¯</ci>
     <ci>p</ci>
    </apply>
    <ci>n</ci>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \overline{p}(n)
  </annotation>
 </semantics>
</math>

 is zero when 

<math display="inline" id="Birthday_problem:25">
 <semantics>
  <mrow>
   <mi>n</mi>
   <mo>></mo>
   <mrow>
    <mi mathvariant="normal"></mi>
    <mn>365</mn>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <gt></gt>
    <ci>n</ci>
    <apply>
     <times></times>
     <ci>normal-</ci>
     <cn type="integer">365</cn>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   n> 365
  </annotation>
 </semantics>
</math>

. When 

<math display="inline" id="Birthday_problem:26">
 <semantics>
  <mrow>
   <mi>n</mi>
   <mi mathvariant="normal">≤</mi>
   <mi mathvariant="normal"></mi>
   <mn>365</mn>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <times></times>
    <ci>n</ci>
    <ci>normal-≤</ci>
    <ci>normal-</ci>
    <cn type="integer">365</cn>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   n≤ 365
  </annotation>
 </semantics>
</math>

:</p>

<p>

<math display="inline" id="Birthday_problem:27">
 <semantics>
  <mrow>
   <mover accent="true">
    <mi>p</mi>
    <mo stretchy="false">¯</mo>
   </mover>
   <mrow>
    <mo stretchy="false">(</mo>
    <mi>n</mi>
    <mo stretchy="false">)</mo>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <times></times>
    <apply>
     <ci>normal-¯</ci>
     <ci>p</ci>
    </apply>
    <ci>n</ci>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \displaystyle\bar{p}(n)
  </annotation>
 </semantics>
</math>


</p>

<p>where '

<math display="inline" id="Birthday_problem:28">
 <semantics>
  <mo lspace="0pt" rspace="3.5pt">!</mo>
  <annotation-xml encoding="MathML-Content">
   <factorial></factorial>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   !
  </annotation>
 </semantics>
</math>


' is the <a class="uri" href="factorial" title="wikilink">factorial</a> operator, 

<math display="inline" id="Birthday_problem:29">
 <semantics>
  <mrow>
   <mo>(</mo>
   <mstyle scriptlevel="+1">
    <mtable columnspacing="0.4em" rowspacing="0.2ex">
     <mtr>
      <mtd>
       <mn>365</mn>
      </mtd>
     </mtr>
     <mtr>
      <mtd>
       <mi>n</mi>
      </mtd>
     </mtr>
    </mtable>
   </mstyle>
   <mo>)</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <csymbol cd="latexml">binomial</csymbol>
    <cn type="integer">365</cn>
    <ci>n</ci>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \textstyle{365\choose n}
  </annotation>
 </semantics>
</math>

 is the <a href="binomial_coefficient" title="wikilink">binomial coefficient</a> and 

<math display="inline" id="Birthday_problem:30">
 <semantics>
  <mmultiscripts>
   <mi>P</mi>
   <mi>r</mi>
   <none></none>
   <mprescripts></mprescripts>
   <mi>k</mi>
   <none></none>
  </mmultiscripts>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <csymbol cd="ambiguous">subscript</csymbol>
    <apply>
     <csymbol cd="ambiguous">subscript</csymbol>
     <ci>P</ci>
     <ci>r</ci>
    </apply>
    <ci>k</ci>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   {{}_{k}P_{r}}
  </annotation>
 </semantics>
</math>

 denotes <a class="uri" href="permutation" title="wikilink">permutation</a>.</p>

<p>The equation expresses the fact that the first person has no one to share a birthday, the second person cannot have the same birthday as the first (

<math display="inline" id="Birthday_problem:31">
 <semantics>
  <mfrac>
   <mn>364</mn>
   <mn>365</mn>
  </mfrac>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <divide></divide>
    <cn type="integer">364</cn>
    <cn type="integer">365</cn>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \frac{364}{365}
  </annotation>
 </semantics>
</math>

), the third cannot have the same birthday as the first two (

<math display="inline" id="Birthday_problem:32">
 <semantics>
  <mfrac>
   <mn>363</mn>
   <mn>365</mn>
  </mfrac>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <divide></divide>
    <cn type="integer">363</cn>
    <cn type="integer">365</cn>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \frac{363}{365}
  </annotation>
 </semantics>
</math>

), and in general the <mtpl></mtpl> birthday cannot be the same as any of the 

<math display="inline" id="Birthday_problem:33">
 <semantics>
  <mrow>
   <mi>n</mi>
   <mi mathvariant="normal">−</mi>
   <mi mathvariant="normal"></mi>
   <mn>1</mn>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <times></times>
    <ci>n</ci>
    <ci>normal-−</ci>
    <ci>normal-</ci>
    <cn type="integer">1</cn>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   n− 1
  </annotation>
 </semantics>
</math>


 preceding birthdays.</p>

<p>The <a href="event_(probability_theory)" title="wikilink">event</a> of at least two of the 

<math display="inline" id="Birthday_problem:34">
 <semantics>
  <mi>n</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>n</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   n
  </annotation>
 </semantics>
</math>

 persons having the same birthday is <a href="complementary_event" title="wikilink">complementary</a> to all 

<math display="inline" id="Birthday_problem:35">
 <semantics>
  <mi>n</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>n</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   n
  </annotation>
 </semantics>
</math>

 birthdays being different. Therefore, its probability 

<math display="inline" id="Birthday_problem:36">
 <semantics>
  <mrow>
   <mi>p</mi>
   <mrow>
    <mo stretchy="false">(</mo>
    <mi>n</mi>
    <mo stretchy="false">)</mo>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <times></times>
    <ci>p</ci>
    <ci>n</ci>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   p(n)
  </annotation>
 </semantics>
</math>

 is</p>

<p>

<math display="block" id="Birthday_problem:37">
 <semantics>
  <mrow>
   <mrow>
    <mrow>
     <mi>p</mi>
     <mrow>
      <mo stretchy="false">(</mo>
      <mi>n</mi>
      <mo stretchy="false">)</mo>
     </mrow>
    </mrow>
    <mo>=</mo>
    <mrow>
     <mn>1</mn>
     <mo>-</mo>
     <mrow>
      <mover accent="true">
       <mi>p</mi>
       <mo stretchy="false">¯</mo>
      </mover>
      <mrow>
       <mo stretchy="false">(</mo>
       <mi>n</mi>
       <mo stretchy="false">)</mo>
      </mrow>
     </mrow>
    </mrow>
   </mrow>
   <mo>.</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <times></times>
     <ci>p</ci>
     <ci>n</ci>
    </apply>
    <apply>
     <minus></minus>
     <cn type="integer">1</cn>
     <apply>
      <times></times>
      <apply>
       <ci>normal-¯</ci>
       <ci>p</ci>
      </apply>
      <ci>n</ci>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   p(n)=1-\bar{p}(n).\,
  </annotation>
 </semantics>
</math>

</p>

<p>This probability surpasses 

<math display="inline" id="Birthday_problem:38">
 <semantics>
  <mfrac>
   <mn>1</mn>
   <mn>2</mn>
  </mfrac>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <divide></divide>
    <cn type="integer">1</cn>
    <cn type="integer">2</cn>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \frac{1}{2}
  </annotation>
 </semantics>
</math>


 for 

<math display="inline" id="Birthday_problem:39">
 <semantics>
  <mrow>
   <mi>n</mi>
   <mo>=</mo>
   <mn>23</mn>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <ci>n</ci>
    <cn type="integer">23</cn>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   n=23
  </annotation>
 </semantics>
</math>

 (with value about 50.7%). The following table shows the probability for some other values of 

<math display="inline" id="Birthday_problem:40">
 <semantics>
  <mi>n</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>n</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   n
  </annotation>
 </semantics>
</math>

 (this table ignores the existence of leap years, as described above, as well as assuming that each birthday is equally likely):</p>
<figure><b>(Figure)</b>
<figcaption>The probability that no two people share a birthday in a group of <em>n</em> people. Note that the vertical scale is logarithmic (each step down is 10<sup>20</sup> times less likely).</figcaption>
</figure>
<table>
<thead>
<tr class="header">
<th style="text-align: left;">
<p><em>n</em></p></th>
<th style="text-align: left;">
<p><em>p</em>(<em>n</em>)</p></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">
<p>1</p></td>
<td style="text-align: left;">
<p>0.0%</p></td>
</tr>
<tr class="even">
<td style="text-align: left;">
<p>5</p></td>
<td style="text-align: left;">
<p>2.7%</p></td>
</tr>
<tr class="odd">
<td style="text-align: left;">
<p>10</p></td>
<td style="text-align: left;">
<p>11.7%</p></td>
</tr>
<tr class="even">
<td style="text-align: left;">
<p>20</p></td>
<td style="text-align: left;">
<p>41.1%</p></td>
</tr>
<tr class="odd">
<td style="text-align: left;">
<p>23</p></td>
<td style="text-align: left;">
<p>50.7%</p></td>
</tr>
<tr class="even">
<td style="text-align: left;">
<p>30</p></td>
<td style="text-align: left;">
<p>70.6%</p></td>
</tr>
<tr class="odd">
<td style="text-align: left;">
<p>40</p></td>
<td style="text-align: left;">
<p>89.1%</p></td>
</tr>
<tr class="even">
<td style="text-align: left;">
<p>50</p></td>
<td style="text-align: left;">
<p>97.0%</p></td>
</tr>
<tr class="odd">
<td style="text-align: left;">
<p>60</p></td>
<td style="text-align: left;">
<p>99.4%</p></td>
</tr>
<tr class="even">
<td style="text-align: left;">
<p>70</p></td>
<td style="text-align: left;">
<p>99.9%</p></td>
</tr>
<tr class="odd">
<td style="text-align: left;">
<p>100</p></td>
<td style="text-align: left;">
<p>99.99997%</p></td>
</tr>
<tr class="even">
<td style="text-align: left;">
<p>200</p></td>
<td style="text-align: left;">
<p>99.9999999999999999999999999998%</p></td>
</tr>
<tr class="odd">
<td style="text-align: left;">
<p>300</p></td>
<td style="text-align: left;">
<p>(100 − (6×10<sup>−80</sup>))%</p></td>
</tr>
<tr class="even">
<td style="text-align: left;">
<p>350</p></td>
<td style="text-align: left;">
<p>(100 − (3×10<sup>−129</sup>))%</p></td>
</tr>
<tr class="odd">
<td style="text-align: left;">
<p>365</p></td>
<td style="text-align: left;">
<p>(100 − (1.45×10<sup>−155</sup>))%</p></td>
</tr>
<tr class="even">
<td style="text-align: left;">
<p>366</p></td>
<td style="text-align: left;">
<p>100%</p></td>
</tr>
<tr class="odd">
<td style="text-align: left;">
<p>367</p></td>
<td style="text-align: left;">
<p>100%</p></td>
</tr>
</tbody>
</table>
<h2 id="abstract-proof">Abstract proof</h2>

<p>Here we prove the same result as above, but with results about sets and functions to provide a simpler proof.</p>

<p>Firstly, define 

<math display="inline" id="Birthday_problem:41">
 <semantics>
  <mi class="ltx_font_mathcaligraphic">𝒮</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>𝒮</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \mathcal{S}
  </annotation>
 </semantics>
</math>

 to be a set of 

<math display="inline" id="Birthday_problem:42">
 <semantics>
  <mi>N</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>N</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   N
  </annotation>
 </semantics>
</math>

 people and let 

<math display="inline" id="Birthday_problem:43">
 <semantics>
  <mi class="ltx_font_mathcaligraphic">ℬ</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>ℬ</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \mathcal{B}
  </annotation>
 </semantics>
</math>


 be the set of dates in a year.</p>

<p>Define the birthday function 

<math display="inline" id="Birthday_problem:44">
 <semantics>
  <mrow>
   <mi>b</mi>
   <mo>:</mo>
   <mrow>
    <mi class="ltx_font_mathcaligraphic">𝒮</mi>
    <mo>↦</mo>
    <mi class="ltx_font_mathcaligraphic">ℬ</mi>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <ci>normal-:</ci>
    <ci>b</ci>
    <apply>
     <csymbol cd="latexml">maps-to</csymbol>
     <ci>𝒮</ci>
     <ci>ℬ</ci>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   b:\mathcal{S}\mapsto\mathcal{B}
  </annotation>
 </semantics>
</math>

 to be the map that sends a person to their birthdate. So everyone in 

<math display="inline" id="Birthday_problem:45">
 <semantics>
  <mi class="ltx_font_mathcaligraphic">𝒮</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>𝒮</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \mathcal{S}
  </annotation>
 </semantics>
</math>

 has a unique birthday if and only if the birthday function is <a class="uri" href="injective" title="wikilink">injective</a>.</p>

<p>Now we consider how many functions, and how many injective functions, exist between 

<math display="inline" id="Birthday_problem:46">
 <semantics>
  <mi class="ltx_font_mathcaligraphic">𝒮</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>𝒮</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \mathcal{S}
  </annotation>
 </semantics>
</math>

 and 

<math display="inline" id="Birthday_problem:47">
 <semantics>
  <mi class="ltx_font_mathcaligraphic">ℬ</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>ℬ</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \mathcal{B}
  </annotation>
 </semantics>
</math>

.</p>

<p>Since 

<math display="inline" id="Birthday_problem:48">
 <semantics>
  <mrow>
   <mrow>
    <mo stretchy="false">|</mo>
    <mi class="ltx_font_mathcaligraphic">𝒮</mi>
    <mo stretchy="false">|</mo>
   </mrow>
   <mo>=</mo>
   <mi>N</mi>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <abs></abs>
     <ci>𝒮</ci>
    </apply>
    <ci>N</ci>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   |\mathcal{S}|=N
  </annotation>
 </semantics>
</math>


 and 

<math display="inline" id="Birthday_problem:49">
 <semantics>
  <mrow>
   <mrow>
    <mo stretchy="false">|</mo>
    <mi class="ltx_font_mathcaligraphic">ℬ</mi>
    <mo stretchy="false">|</mo>
   </mrow>
   <mo>=</mo>
   <mn>366</mn>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <abs></abs>
     <ci>ℬ</ci>
    </apply>
    <cn type="integer">366</cn>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   |\mathcal{B}|=366
  </annotation>
 </semantics>
</math>

, it follows that there are 

<math display="inline" id="Birthday_problem:50">
 <semantics>
  <msup>
   <mn>366</mn>
   <mi>N</mi>
  </msup>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <csymbol cd="ambiguous">superscript</csymbol>
    <cn type="integer">366</cn>
    <ci>N</ci>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   366^{N}
  </annotation>
 </semantics>
</math>

 possible functions,<a class="footnoteRef" href="#fn5" id="fnref5"><sup>5</sup></a> and 

<math display="inline" id="Birthday_problem:51">
 <semantics>
  <mstyle displaystyle="true">
   <mfrac>
    <mrow>
     <mn>366</mn>
     <mo lspace="0pt" rspace="3.5pt">!</mo>
    </mrow>
    <mrow>
     <mrow>
      <mo stretchy="false">(</mo>
      <mrow>
       <mn>366</mn>
       <mo>-</mo>
       <mi>N</mi>
      </mrow>
      <mo stretchy="false">)</mo>
     </mrow>
     <mo lspace="0pt" rspace="3.5pt">!</mo>
    </mrow>
   </mfrac>
  </mstyle>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <divide></divide>
    <apply>
     <factorial></factorial>
     <cn type="integer">366</cn>
    </apply>
    <apply>
     <factorial></factorial>
     <apply>
      <minus></minus>
      <cn type="integer">366</cn>
      <ci>N</ci>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \dfrac{366!}{(366-N)!}
  </annotation>
 </semantics>
</math>

 possible injective functions (see <a href="Twelvefold_way#case_i" title="wikilink">Twelvefold way#case i</a>).</p>

<p>Let A be the statement "Everybody in the set 

<math display="inline" id="Birthday_problem:52">
 <semantics>
  <mi class="ltx_font_mathcaligraphic">𝒮</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>𝒮</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \mathcal{S}
  </annotation>
 </semantics>
</math>

 has a unique birthday" (so P(A') is what we are actually looking for). By definition, P(A) is the fraction of injective functions out of all possible functions (i.e., the probability of the birthday function being one that assigns only one person to each birthdate), which gives 

<math display="inline" id="Birthday_problem:53">
 <semantics>
  <mrow>
   <mrow>
    <mi>P</mi>
    <mrow>
     <mo stretchy="false">(</mo>
     <mi>A</mi>
     <mo stretchy="false">)</mo>
    </mrow>
   </mrow>
   <mo>=</mo>
   <mstyle displaystyle="true">
    <mfrac>
     <mrow>
      <mn>366</mn>
      <mo lspace="0pt" rspace="3.5pt">!</mo>
     </mrow>
     <mrow>
      <msup>
       <mn>366</mn>
       <mi>N</mi>
      </msup>
      <mrow>
       <mrow>
        <mo stretchy="false">(</mo>
        <mrow>
         <mn>366</mn>
         <mo>-</mo>
         <mi>N</mi>
        </mrow>
        <mo stretchy="false">)</mo>
       </mrow>
       <mo lspace="0pt" rspace="3.5pt">!</mo>
      </mrow>
     </mrow>
    </mfrac>
   </mstyle>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <times></times>
     <ci>P</ci>
     <ci>A</ci>
    </apply>
    <apply>
     <divide></divide>
     <apply>
      <factorial></factorial>
      <cn type="integer">366</cn>
     </apply>
     <apply>
      <times></times>
      <apply>
       <csymbol cd="ambiguous">superscript</csymbol>
       <cn type="integer">366</cn>
       <ci>N</ci>
      </apply>
      <apply>
       <factorial></factorial>
       <apply>
        <minus></minus>
        <cn type="integer">366</cn>
        <ci>N</ci>
       </apply>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   P(A)=\dfrac{366!}{366^{N}(366-N)!}
  </annotation>
 </semantics>
</math>


.</p>

<p>Hence, 

<math display="inline" id="Birthday_problem:54">
 <semantics>
  <mrow>
   <mrow>
    <mi>P</mi>
    <mrow>
     <mo stretchy="false">(</mo>
     <msup>
      <mi>A</mi>
      <mo>′</mo>
     </msup>
     <mo stretchy="false">)</mo>
    </mrow>
   </mrow>
   <mo>=</mo>
   <mrow>
    <mn>1</mn>
    <mo>-</mo>
    <mstyle displaystyle="true">
     <mfrac>
      <mrow>
       <mn>366</mn>
       <mo lspace="0pt" rspace="3.5pt">!</mo>
      </mrow>
      <mrow>
       <msup>
        <mn>366</mn>
        <mi>N</mi>
       </msup>
       <mrow>
        <mrow>
         <mo stretchy="false">(</mo>
         <mrow>
          <mn>366</mn>
          <mo>-</mo>
          <mrow>
           <mo stretchy="false">(</mo>
           <mi>N</mi>
           <mo stretchy="false">)</mo>
          </mrow>
         </mrow>
         <mo stretchy="false">)</mo>
        </mrow>
        <mo lspace="0pt" rspace="3.5pt">!</mo>
       </mrow>
      </mrow>
     </mfrac>
    </mstyle>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <times></times>
     <ci>P</ci>
     <apply>
      <csymbol cd="ambiguous">superscript</csymbol>
      <ci>A</ci>
      <ci>normal-′</ci>
     </apply>
    </apply>
    <apply>
     <minus></minus>
     <cn type="integer">1</cn>
     <apply>
      <divide></divide>
      <apply>
       <factorial></factorial>
       <cn type="integer">366</cn>
      </apply>
      <apply>
       <times></times>
       <apply>
        <csymbol cd="ambiguous">superscript</csymbol>
        <cn type="integer">366</cn>
        <ci>N</ci>
       </apply>
       <apply>
        <factorial></factorial>
        <apply>
         <minus></minus>
         <cn type="integer">366</cn>
         <ci>N</ci>
        </apply>
       </apply>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   P(A^{\prime})=1-\dfrac{366!}{366^{N}(366-(N))!}
  </annotation>
 </semantics>
</math>

</p>
<h2 id="approximations">Approximations</h2>

<p>  The <a href="Taylor_series" title="wikilink">Taylor series</a> expansion of the <a href="exponential_function" title="wikilink">exponential function</a> (the constant e ≈ 2.718281828)</p>

<p>

<math display="block" id="Birthday_problem:55">
 <semantics>
  <mrow>
   <msup>
    <mi>e</mi>
    <mi>x</mi>
   </msup>
   <mo>=</mo>
   <mrow>
    <mn>1</mn>
    <mo>+</mo>
    <mi>x</mi>
    <mo>+</mo>
    <mfrac>
     <msup>
      <mi>x</mi>
      <mn>2</mn>
     </msup>
     <mrow>
      <mn>2</mn>
      <mo lspace="0pt" rspace="3.5pt">!</mo>
     </mrow>
    </mfrac>
    <mo>+</mo>
    <mi mathvariant="normal">⋯</mi>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <csymbol cd="ambiguous">superscript</csymbol>
     <ci>e</ci>
     <ci>x</ci>
    </apply>
    <apply>
     <plus></plus>
     <cn type="integer">1</cn>
     <ci>x</ci>
     <apply>
      <divide></divide>
      <apply>
       <csymbol cd="ambiguous">superscript</csymbol>
       <ci>x</ci>
       <cn type="integer">2</cn>
      </apply>
      <apply>
       <factorial></factorial>
       <cn type="integer">2</cn>
      </apply>
     </apply>
     <ci>normal-⋯</ci>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   e^{x}=1+x+\frac{x^{2}}{2!}+\cdots
  </annotation>
 </semantics>
</math>

</p>

<p>provides a first-order approximation for <em>e</em><sup><em>x</em></sup> for <em>x</em> ≪ 1:</p>

<p>

<math display="block" id="Birthday_problem:56">
 <semantics>
  <mrow>
   <mrow>
    <msup>
     <mi>e</mi>
     <mi>x</mi>
    </msup>
    <mo>≈</mo>
    <mrow>
     <mn>1</mn>
     <mo>+</mo>
     <mi>x</mi>
    </mrow>
   </mrow>
   <mo>.</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <approx></approx>
    <apply>
     <csymbol cd="ambiguous">superscript</csymbol>
     <ci>e</ci>
     <ci>x</ci>
    </apply>
    <apply>
     <plus></plus>
     <cn type="integer">1</cn>
     <ci>x</ci>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   e^{x}\approx 1+x.
  </annotation>
 </semantics>
</math>

</p>

<p>To apply this approximation to the first expression derived for <em><u style="text-decoration:overline">p</u></em>(<em>n</em>), set 

<math display="inline" id="Birthday_problem:57">
 <semantics>
  <mrow>
   <mi>x</mi>
   <mo>=</mo>
   <mrow>
    <mo>-</mo>
    <mrow>
     <mi>a</mi>
     <mo>/</mo>
     <mn>365</mn>
    </mrow>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <ci>x</ci>
    <apply>
     <minus></minus>
     <apply>
      <divide></divide>
      <ci>a</ci>
      <cn type="integer">365</cn>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   x=-a/365
  </annotation>
 </semantics>
</math>

. Thus,</p>

<p>

<math display="block" id="Birthday_problem:58">
 <semantics>
  <mrow>
   <mrow>
    <msup>
     <mi>e</mi>
     <mrow>
      <mo>-</mo>
      <mrow>
       <mi>a</mi>
       <mo>/</mo>
       <mn>365</mn>
      </mrow>
     </mrow>
    </msup>
    <mo>≈</mo>
    <mrow>
     <mn>1</mn>
     <mo>-</mo>
     <mfrac>
      <mi>a</mi>
      <mn>365</mn>
     </mfrac>
    </mrow>
   </mrow>
   <mo>.</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <approx></approx>
    <apply>
     <csymbol cd="ambiguous">superscript</csymbol>
     <ci>e</ci>
     <apply>
      <minus></minus>
      <apply>
       <divide></divide>
       <ci>a</ci>
       <cn type="integer">365</cn>
      </apply>
     </apply>
    </apply>
    <apply>
     <minus></minus>
     <cn type="integer">1</cn>
     <apply>
      <divide></divide>
      <ci>a</ci>
      <cn type="integer">365</cn>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   e^{-a/365}\approx 1-\frac{a}{365}.
  </annotation>
 </semantics>
</math>

</p>

<p>Then, replace <em>a</em> with non-negative integers for each term in the formula of <em><u style="text-decoration:overline">p</u></em>(<em>n</em>) until <em>a</em> = <em>n</em> − 1, for example, when <em>a</em> = 1,</p>

<p>

<math display="block" id="Birthday_problem:59">
 <semantics>
  <mrow>
   <mrow>
    <msup>
     <mi>e</mi>
     <mrow>
      <mo>-</mo>
      <mrow>
       <mn>1</mn>
       <mo>/</mo>
       <mn>365</mn>
      </mrow>
     </mrow>
    </msup>
    <mo>≈</mo>
    <mrow>
     <mn>1</mn>
     <mo>-</mo>
     <mfrac>
      <mn>1</mn>
      <mn>365</mn>
     </mfrac>
    </mrow>
   </mrow>
   <mo>.</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <approx></approx>
    <apply>
     <csymbol cd="ambiguous">superscript</csymbol>
     <ci>e</ci>
     <apply>
      <minus></minus>
      <apply>
       <divide></divide>
       <cn type="integer">1</cn>
       <cn type="integer">365</cn>
      </apply>
     </apply>
    </apply>
    <apply>
     <minus></minus>
     <cn type="integer">1</cn>
     <apply>
      <divide></divide>
      <cn type="integer">1</cn>
      <cn type="integer">365</cn>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   e^{-1/365}\approx 1-\frac{1}{365}.
  </annotation>
 </semantics>
</math>

</p>

<p>The first expression derived for <em><u style="text-decoration:overline">p</u></em>(<em>n</em>) can be approximated as</p>

<p>

<math display="inline" id="Birthday_problem:60">
 <semantics>
  <mrow>
   <mover accent="true">
    <mi>p</mi>
    <mo stretchy="false">¯</mo>
   </mover>
   <mrow>
    <mo stretchy="false">(</mo>
    <mi>n</mi>
    <mo stretchy="false">)</mo>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <times></times>
    <apply>
     <ci>normal-¯</ci>
     <ci>p</ci>
    </apply>
    <ci>n</ci>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \displaystyle\bar{p}(n)
  </annotation>
 </semantics>
</math>


</p>

<p>Therefore,</p>

<p>

<math display="block" id="Birthday_problem:61">
 <semantics>
  <mrow>
   <mrow>
    <mrow>
     <mi>p</mi>
     <mrow>
      <mo stretchy="false">(</mo>
      <mi>n</mi>
      <mo stretchy="false">)</mo>
     </mrow>
    </mrow>
    <mo>=</mo>
    <mrow>
     <mn>1</mn>
     <mo>-</mo>
     <mrow>
      <mover accent="true">
       <mi>p</mi>
       <mo stretchy="false">¯</mo>
      </mover>
      <mrow>
       <mo stretchy="false">(</mo>
       <mi>n</mi>
       <mo stretchy="false">)</mo>
      </mrow>
     </mrow>
    </mrow>
    <mo>≈</mo>
    <mrow>
     <mn>1</mn>
     <mo>-</mo>
     <msup>
      <mi>e</mi>
      <mrow>
       <mo>-</mo>
       <mrow>
        <mrow>
         <mi>n</mi>
         <mrow>
          <mo stretchy="false">(</mo>
          <mrow>
           <mi>n</mi>
           <mo>-</mo>
           <mn>1</mn>
          </mrow>
          <mo stretchy="false">)</mo>
         </mrow>
        </mrow>
        <mo>/</mo>
        <mrow>
         <mo stretchy="false">(</mo>
         <mrow>
          <mn>2</mn>
          <mo>×</mo>
          <mn>365</mn>
         </mrow>
         <mo stretchy="false">)</mo>
        </mrow>
       </mrow>
      </mrow>
     </msup>
    </mrow>
   </mrow>
   <mo>.</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <and></and>
    <apply>
     <eq></eq>
     <apply>
      <times></times>
      <ci>p</ci>
      <ci>n</ci>
     </apply>
     <apply>
      <minus></minus>
      <cn type="integer">1</cn>
      <apply>
       <times></times>
       <apply>
        <ci>normal-¯</ci>
        <ci>p</ci>
       </apply>
       <ci>n</ci>
      </apply>
     </apply>
    </apply>
    <apply>
     <approx></approx>
     <share href="#.cmml">
     </share>
     <apply>
      <minus></minus>
      <cn type="integer">1</cn>
      <apply>
       <csymbol cd="ambiguous">superscript</csymbol>
       <ci>e</ci>
       <apply>
        <minus></minus>
        <apply>
         <divide></divide>
         <apply>
          <times></times>
          <ci>n</ci>
          <apply>
           <minus></minus>
           <ci>n</ci>
           <cn type="integer">1</cn>
          </apply>
         </apply>
         <apply>
          <times></times>
          <cn type="integer">2</cn>
          <cn type="integer">365</cn>
         </apply>
        </apply>
       </apply>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   p(n)=1-\bar{p}(n)\approx 1-e^{-n(n-1)/(2\times 365)}.
  </annotation>
 </semantics>
</math>

</p>

<p>An even coarser approximation is given by</p>

<p>

<math display="block" id="Birthday_problem:62">
 <semantics>
  <mrow>
   <mrow>
    <mrow>
     <mi>p</mi>
     <mrow>
      <mo stretchy="false">(</mo>
      <mi>n</mi>
      <mo stretchy="false">)</mo>
     </mrow>
    </mrow>
    <mo>≈</mo>
    <mrow>
     <mn>1</mn>
     <mo>-</mo>
     <msup>
      <mi>e</mi>
      <mrow>
       <mo>-</mo>
       <mrow>
        <msup>
         <mi>n</mi>
         <mn>2</mn>
        </msup>
        <mo>/</mo>
        <mrow>
         <mo stretchy="false">(</mo>
         <mrow>
          <mn>2</mn>
          <mo>×</mo>
          <mn>365</mn>
         </mrow>
         <mo stretchy="false">)</mo>
        </mrow>
       </mrow>
      </mrow>
     </msup>
    </mrow>
   </mrow>
   <mo>,</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <approx></approx>
    <apply>
     <times></times>
     <ci>p</ci>
     <ci>n</ci>
    </apply>
    <apply>
     <minus></minus>
     <cn type="integer">1</cn>
     <apply>
      <csymbol cd="ambiguous">superscript</csymbol>
      <ci>e</ci>
      <apply>
       <minus></minus>
       <apply>
        <divide></divide>
        <apply>
         <csymbol cd="ambiguous">superscript</csymbol>
         <ci>n</ci>
         <cn type="integer">2</cn>
        </apply>
        <apply>
         <times></times>
         <cn type="integer">2</cn>
         <cn type="integer">365</cn>
        </apply>
       </apply>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   p(n)\approx 1-e^{-n^{2}/(2\times 365)},\,
  </annotation>
 </semantics>
</math>

</p>

<p>which, as the graph illustrates, is still fairly accurate.</p>

<p>According to the approximation, the same approach can be applied to any number of "people" and "days". If rather than 365 days there are <em>d</em>, if there are <em>n</em> persons, and if <em>n</em> ≪ <em>d</em>, then using the same approach as above we achieve the result that if <em>p</em>(<em>n</em>, <em>d</em>) is the probability that at least two out of <em>n</em> people share the same birthday from a set of <em>d</em> available days, then:</p>

<p>

<math display="inline" id="Birthday_problem:63">
 <semantics>
  <mrow>
   <mi>p</mi>
   <mrow>
    <mo stretchy="false">(</mo>
    <mi>n</mi>
    <mo>,</mo>
    <mi>d</mi>
    <mo stretchy="false">)</mo>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <times></times>
    <ci>p</ci>
    <interval closure="open">
     <ci>n</ci>
     <ci>d</ci>
    </interval>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \displaystyle p(n,d)
  </annotation>
 </semantics>
</math>


</p>
<h3 id="a-simple-exponentiation">A simple exponentiation</h3>

<p>The probability of any two people not having the same birthday is 364/365. In a room containing <em>n</em> people, there are <em>C</em>(<em>n</em>, 2) = <em>n</em>(<em>n</em> − 1)/2 pairs of people, i.e. <em>C</em>(<em>n</em>, 2) events. The probability of no two people sharing the same birthday can be approximated by assuming that these events are independent and hence by multiplying their probability together. In short 364/365 can be multiplied by itself <em>C</em>(<em>n</em>, 2) times, which gives us</p>

<p>

<math display="block" id="Birthday_problem:64">
 <semantics>
  <mrow>
   <mrow>
    <mrow>
     <mover accent="true">
      <mi>p</mi>
      <mo stretchy="false">¯</mo>
     </mover>
     <mrow>
      <mo stretchy="false">(</mo>
      <mi>n</mi>
      <mo stretchy="false">)</mo>
     </mrow>
    </mrow>
    <mo>≈</mo>
    <msup>
     <mrow>
      <mo>(</mo>
      <mfrac>
       <mn>364</mn>
       <mn>365</mn>
      </mfrac>
      <mo>)</mo>
     </mrow>
     <mrow>
      <mi>C</mi>
      <mrow>
       <mo stretchy="false">(</mo>
       <mi>n</mi>
       <mo>,</mo>
       <mn>2</mn>
       <mo stretchy="false">)</mo>
      </mrow>
     </mrow>
    </msup>
   </mrow>
   <mo>.</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <approx></approx>
    <apply>
     <times></times>
     <apply>
      <ci>normal-¯</ci>
      <ci>p</ci>
     </apply>
     <ci>n</ci>
    </apply>
    <apply>
     <csymbol cd="ambiguous">superscript</csymbol>
     <apply>
      <divide></divide>
      <cn type="integer">364</cn>
      <cn type="integer">365</cn>
     </apply>
     <apply>
      <times></times>
      <ci>C</ci>
      <interval closure="open">
       <ci>n</ci>
       <cn type="integer">2</cn>
      </interval>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \bar{p}(n)\approx\left(\frac{364}{365}\right)^{C(n,2)}.
  </annotation>
 </semantics>
</math>

</p>

<p>Since this is the probability of no one having the same birthday, then the probability of someone sharing a birthday is</p>

<p>

<math display="block" id="Birthday_problem:65">
 <semantics>
  <mrow>
   <mrow>
    <mrow>
     <mi>p</mi>
     <mrow>
      <mo stretchy="false">(</mo>
      <mi>n</mi>
      <mo stretchy="false">)</mo>
     </mrow>
    </mrow>
    <mo>≈</mo>
    <mrow>
     <mn>1</mn>
     <mo>-</mo>
     <msup>
      <mrow>
       <mo>(</mo>
       <mfrac>
        <mn>364</mn>
        <mn>365</mn>
       </mfrac>
       <mo>)</mo>
      </mrow>
      <mrow>
       <mi>C</mi>
       <mrow>
        <mo stretchy="false">(</mo>
        <mi>n</mi>
        <mo>,</mo>
        <mn>2</mn>
        <mo stretchy="false">)</mo>
       </mrow>
      </mrow>
     </msup>
    </mrow>
   </mrow>
   <mo>.</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <approx></approx>
    <apply>
     <times></times>
     <ci>p</ci>
     <ci>n</ci>
    </apply>
    <apply>
     <minus></minus>
     <cn type="integer">1</cn>
     <apply>
      <csymbol cd="ambiguous">superscript</csymbol>
      <apply>
       <divide></divide>
       <cn type="integer">364</cn>
       <cn type="integer">365</cn>
      </apply>
      <apply>
       <times></times>
       <ci>C</ci>
       <interval closure="open">
        <ci>n</ci>
        <cn type="integer">2</cn>
       </interval>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   p(n)\approx 1-\left(\frac{364}{365}\right)^{C(n,2)}.
  </annotation>
 </semantics>
</math>

</p>
<h3 id="poisson-approximation">Poisson approximation</h3>

<p>Applying the <a href="Poisson_distribution" title="wikilink">Poisson</a> approximation for the binomial on the group of 23 people,</p>

<p>

<math display="block" id="Birthday_problem:66">
 <semantics>
  <mrow>
   <mrow>
    <mi>Poi</mi>
    <mrow>
     <mo>(</mo>
     <mfrac>
      <mrow>
       <mi>C</mi>
       <mrow>
        <mo stretchy="false">(</mo>
        <mn>23</mn>
        <mo>,</mo>
        <mn>2</mn>
        <mo stretchy="false">)</mo>
       </mrow>
      </mrow>
      <mn>365</mn>
     </mfrac>
     <mo>)</mo>
    </mrow>
   </mrow>
   <mo>=</mo>
   <mrow>
    <mi>Poi</mi>
    <mrow>
     <mo>(</mo>
     <mfrac>
      <mn>253</mn>
      <mn>365</mn>
     </mfrac>
     <mo>)</mo>
    </mrow>
   </mrow>
   <mo>≈</mo>
   <mrow>
    <mi>Poi</mi>
    <mrow>
     <mo stretchy="false">(</mo>
     <mn>0.6932</mn>
     <mo stretchy="false">)</mo>
    </mrow>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <and></and>
    <apply>
     <eq></eq>
     <apply>
      <times></times>
      <ci>Poi</ci>
      <apply>
       <divide></divide>
       <apply>
        <times></times>
        <ci>C</ci>
        <interval closure="open">
         <cn type="integer">23</cn>
         <cn type="integer">2</cn>
        </interval>
       </apply>
       <cn type="integer">365</cn>
      </apply>
     </apply>
     <apply>
      <times></times>
      <ci>Poi</ci>
      <apply>
       <divide></divide>
       <cn type="integer">253</cn>
       <cn type="integer">365</cn>
      </apply>
     </apply>
    </apply>
    <apply>
     <approx></approx>
     <share href="#.cmml">
     </share>
     <apply>
      <times></times>
      <ci>Poi</ci>
      <cn type="float">0.6932</cn>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \mathrm{Poi}\left(\frac{C(23,2)}{365}\right)=\mathrm{Poi}\left(\frac{253}{365}%
\right)\approx\mathrm{Poi}(0.6932)
  </annotation>
 </semantics>
</math>

</p>

<p>

<math display="block" id="Birthday_problem:67">
 <semantics>
  <mrow>
   <mrow>
    <mi>Pr</mi>
    <mrow>
     <mo stretchy="false">(</mo>
     <mrow>
      <mi>X</mi>
      <mo>></mo>
      <mn>0</mn>
     </mrow>
     <mo stretchy="false">)</mo>
    </mrow>
   </mrow>
   <mo>=</mo>
   <mrow>
    <mn>1</mn>
    <mo>-</mo>
    <mrow>
     <mi>Pr</mi>
     <mrow>
      <mo stretchy="false">(</mo>
      <mrow>
       <mi>X</mi>
       <mo>=</mo>
       <mn>0</mn>
      </mrow>
      <mo stretchy="false">)</mo>
     </mrow>
    </mrow>
   </mrow>
   <mo>≈</mo>
   <mrow>
    <mn>1</mn>
    <mo>-</mo>
    <msup>
     <mi>e</mi>
     <mrow>
      <mo>-</mo>
      <mn>0.6932</mn>
     </mrow>
    </msup>
   </mrow>
   <mo>≈</mo>
   <mrow>
    <mn>1</mn>
    <mo>-</mo>
    <mn>0.499998</mn>
   </mrow>
   <mo>=</mo>
   <mn>0.500002.</mn>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <and></and>
    <apply>
     <eq></eq>
     <apply>
      <ci>Pr</ci>
      <apply>
       <gt></gt>
       <ci>X</ci>
       <cn type="integer">0</cn>
      </apply>
     </apply>
     <apply>
      <minus></minus>
      <cn type="integer">1</cn>
      <apply>
       <ci>Pr</ci>
       <apply>
        <eq></eq>
        <ci>X</ci>
        <cn type="integer">0</cn>
       </apply>
      </apply>
     </apply>
    </apply>
    <apply>
     <approx></approx>
     <share href="#.cmml">
     </share>
     <apply>
      <minus></minus>
      <cn type="integer">1</cn>
      <apply>
       <csymbol cd="ambiguous">superscript</csymbol>
       <ci>e</ci>
       <apply>
        <minus></minus>
        <cn type="float">0.6932</cn>
       </apply>
      </apply>
     </apply>
    </apply>
    <apply>
     <approx></approx>
     <share href="#.cmml">
     </share>
     <apply>
      <minus></minus>
      <cn type="integer">1</cn>
      <cn type="float">0.499998</cn>
     </apply>
    </apply>
    <apply>
     <eq></eq>
     <share href="#.cmml">
     </share>
     <cn type="float">0.500002.</cn>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \Pr(X>0)=1-\Pr(X=0)\approx 1-e^{-0.6932}\approx 1-0.499998=0.500002.
  </annotation>
 </semantics>
</math>

</p>

<p>The result is over 50% as previous descriptions.</p>
<h3 id="square-approximation">Square approximation</h3>

<p>A good <a href="rule_of_thumb" title="wikilink">rule of thumb</a> which can be used for <a href="mental_calculation" title="wikilink">mental calculation</a> is the relation</p>

<p>

<math display="block" id="Birthday_problem:68">
 <semantics>
  <mrow>
   <mrow>
    <mi>p</mi>
    <mrow>
     <mo stretchy="false">(</mo>
     <mi>n</mi>
     <mo stretchy="false">)</mo>
    </mrow>
   </mrow>
   <mo>≈</mo>
   <mfrac>
    <msup>
     <mi>n</mi>
     <mn>2</mn>
    </msup>
    <mrow>
     <mn>2</mn>
     <mi>m</mi>
    </mrow>
   </mfrac>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <approx></approx>
    <apply>
     <times></times>
     <ci>p</ci>
     <ci>n</ci>
    </apply>
    <apply>
     <divide></divide>
     <apply>
      <csymbol cd="ambiguous">superscript</csymbol>
      <ci>n</ci>
      <cn type="integer">2</cn>
     </apply>
     <apply>
      <times></times>
      <cn type="integer">2</cn>
      <ci>m</ci>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   p(n)\approx{n^{2}\over 2m}
  </annotation>
 </semantics>
</math>

</p>

<p>which can also be written as</p>

<p>

<math display="block" id="Birthday_problem:69">
 <semantics>
  <mrow>
   <mi>n</mi>
   <mo>≈</mo>
   <msqrt>
    <mrow>
     <mrow>
      <mrow>
       <mn>2</mn>
       <mi>m</mi>
      </mrow>
      <mo>×</mo>
      <mi>p</mi>
     </mrow>
     <mrow>
      <mo stretchy="false">(</mo>
      <mi>n</mi>
      <mo stretchy="false">)</mo>
     </mrow>
    </mrow>
   </msqrt>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <approx></approx>
    <ci>n</ci>
    <apply>
     <root></root>
     <apply>
      <times></times>
      <apply>
       <times></times>
       <apply>
        <times></times>
        <cn type="integer">2</cn>
        <ci>m</ci>
       </apply>
       <ci>p</ci>
      </apply>
      <ci>n</ci>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   n\approx\sqrt{2m\times p(n)}
  </annotation>
 </semantics>
</math>

</p>

<p>which works well for probabilities less than or equal to 0.5.</p>

<p>For instance, to estimate the number of people required for a 0.5 chance of a shared birthday, we get</p>

<p>

<math display="block" id="Birthday_problem:70">
 <semantics>
  <mrow>
   <mi>n</mi>
   <mo>≈</mo>
   <msqrt>
    <mrow>
     <mn>2</mn>
     <mo>×</mo>
     <mn>365</mn>
     <mo>×</mo>
     <mn>0.5</mn>
    </mrow>
   </msqrt>
   <mo>=</mo>
   <msqrt>
    <mn>365</mn>
   </msqrt>
   <mo>≈</mo>
   <mn>19</mn>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <and></and>
    <apply>
     <approx></approx>
     <ci>n</ci>
     <apply>
      <root></root>
      <apply>
       <times></times>
       <cn type="integer">2</cn>
       <cn type="integer">365</cn>
       <cn type="float">0.5</cn>
      </apply>
     </apply>
    </apply>
    <apply>
     <eq></eq>
     <share href="#.cmml">
     </share>
     <apply>
      <root></root>
      <cn type="integer">365</cn>
     </apply>
    </apply>
    <apply>
     <approx></approx>
     <share href="#.cmml">
     </share>
     <cn type="integer">19</cn>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   n\approx\sqrt{2\times 365\times 0.5}=\sqrt{365}\approx 19
  </annotation>
 </semantics>
</math>

</p>

<p>Which is not too far from the correct answer of 23.</p>
<h3 id="approximation-of-number-of-people">Approximation of number of people</h3>

<p>This can also be approximated using the following formula for the <em>number</em> of people necessary to have at least a 50% chance of matching:</p>

<p>

<math display="block" id="Birthday_problem:71">
 <semantics>
  <mrow>
   <mi>n</mi>
   <mo>≈</mo>
   <mrow>
    <mfrac>
     <mn>1</mn>
     <mn>2</mn>
    </mfrac>
    <mo>+</mo>
    <msqrt>
     <mrow>
      <mfrac>
       <mn>1</mn>
       <mn>4</mn>
      </mfrac>
      <mo>+</mo>
      <mrow>
       <mn>2</mn>
       <mo>×</mo>
       <mrow>
        <mi>ln</mi>
        <mrow>
         <mo stretchy="false">(</mo>
         <mn>2</mn>
         <mo stretchy="false">)</mo>
        </mrow>
       </mrow>
       <mo>×</mo>
       <mn>365</mn>
      </mrow>
     </mrow>
    </msqrt>
   </mrow>
   <mo>=</mo>
   <mn>22.999943.</mn>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <and></and>
    <apply>
     <approx></approx>
     <ci>n</ci>
     <apply>
      <plus></plus>
      <apply>
       <divide></divide>
       <cn type="integer">1</cn>
       <cn type="integer">2</cn>
      </apply>
      <apply>
       <root></root>
       <apply>
        <plus></plus>
        <apply>
         <divide></divide>
         <cn type="integer">1</cn>
         <cn type="integer">4</cn>
        </apply>
        <apply>
         <times></times>
         <cn type="integer">2</cn>
         <apply>
          <ln></ln>
          <cn type="integer">2</cn>
         </apply>
         <cn type="integer">365</cn>
        </apply>
       </apply>
      </apply>
     </apply>
    </apply>
    <apply>
     <eq></eq>
     <share href="#.cmml">
     </share>
     <cn type="float">22.999943.</cn>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   n\approx\frac{1}{2}+\sqrt{\frac{1}{4}+2\times\ln(2)\times 365}=22.999943.
  </annotation>
 </semantics>
</math>

 This is a result of the good approximation that an event with 1 in <em>k</em> probability will have a 50% chance of occurring at least once if it is repeated <em>k</em> ln 2 times.<a class="footnoteRef" href="#fn6" id="fnref6"><sup>6</sup></a></p>
<h3 id="probability-table">Probability table</h3>
<dl>
<dd>
<table>
<thead>
<tr class="header">
<th style="text-align: left;">
<p>length of<br/>
hex string</p></th>
<th style="text-align: left;"><ol>
<li>bits</li>
</ol></th>
<th style="text-align: left;">
<p>hash space<br/>
size<br/>
(2<sup>#bits</sup>)</p></th>
<th style="text-align: left;">
<p>Number of hashed elements such that {probability of at least one hash collision ≥ <em>p</em>}</p></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">
<p><em>p</em> = 

<math display="inline" id="Birthday_problem:72">
 <semantics>
  <mrow>
   <msup>
    <mn>10</mn>
    <mi mathvariant="normal">−</mi>
   </msup>
   <mn>18</mn>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <times></times>
    <apply>
     <csymbol cd="ambiguous">superscript</csymbol>
     <cn type="integer">10</cn>
     <ci>normal-−</ci>
    </apply>
    <cn type="integer">18</cn>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   10^{−}18
  </annotation>
 </semantics>
</math>

</p></td>
<td style="text-align: left;">
<p><em>p</em> = 

<math display="inline" id="Birthday_problem:73">
 <semantics>
  <mrow>
   <msup>
    <mn>10</mn>
    <mi mathvariant="normal">−</mi>
   </msup>
   <mn>15</mn>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <times></times>
    <apply>
     <csymbol cd="ambiguous">superscript</csymbol>
     <cn type="integer">10</cn>
     <ci>normal-−</ci>
    </apply>
    <cn type="integer">15</cn>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   10^{−}15
  </annotation>
 </semantics>
</math>

</p></td>
<td style="text-align: left;">
<p><em>p</em> = 

<math display="inline" id="Birthday_problem:74">
 <semantics>
  <mrow>
   <msup>
    <mn>10</mn>
    <mi mathvariant="normal">−</mi>
   </msup>
   <mn>12</mn>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <times></times>
    <apply>
     <csymbol cd="ambiguous">superscript</csymbol>
     <cn type="integer">10</cn>
     <ci>normal-−</ci>
    </apply>
    <cn type="integer">12</cn>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   10^{−}12
  </annotation>
 </semantics>
</math>

</p></td>
<td style="text-align: left;">
<p><em>p</em> = 

<math display="inline" id="Birthday_problem:75">
 <semantics>
  <mrow>
   <msup>
    <mn>10</mn>
    <mi mathvariant="normal">−</mi>
   </msup>
   <mn>9</mn>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <times></times>
    <apply>
     <csymbol cd="ambiguous">superscript</csymbol>
     <cn type="integer">10</cn>
     <ci>normal-−</ci>
    </apply>
    <cn type="integer">9</cn>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   10^{−}9
  </annotation>
 </semantics>
</math>

</p></td>
</tr>
<tr class="even">
<td style="text-align: left;">
<p>8</p></td>
<td style="text-align: left;">
<p>32</p></td>
<td style="text-align: left;">
<p>4.3

<math display="inline" id="Birthday_problem:76">
 <semantics>
  <mrow>
   <mi></mi>
   <mo>×</mo>
   <msup>
    <mn>10</mn>
    <mn>9</mn>
   </msup>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <times></times>
    <csymbol cd="latexml">absent</csymbol>
    <apply>
     <csymbol cd="ambiguous">superscript</csymbol>
     <cn type="integer">10</cn>
     <cn type="integer">9</cn>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \times 10^{9}
  </annotation>
 </semantics>
</math>

</p></td>
<td style="text-align: left;">
<p>2</p></td>
</tr>
<tr class="odd">
<td style="text-align: left;">
<p>(10)</p></td>
<td style="text-align: left;">
<p>(40)</p></td>
<td style="text-align: left;">
<p>(1.1

<math display="inline" id="Birthday_problem:77">
 <semantics>
  <mrow>
   <mi></mi>
   <mo>×</mo>
   <mrow>
    <msup>
     <mn>10</mn>
     <mn>1</mn>
    </msup>
    <mn>2</mn>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <times></times>
    <csymbol cd="latexml">absent</csymbol>
    <apply>
     <times></times>
     <apply>
      <csymbol cd="ambiguous">superscript</csymbol>
      <cn type="integer">10</cn>
      <cn type="integer">1</cn>
     </apply>
     <cn type="integer">2</cn>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \times 10^{1}2
  </annotation>
 </semantics>
</math>

)</p></td>
<td style="text-align: left;">
<p>2</p></td>
</tr>
<tr class="even">
<td style="text-align: left;">
<p>(12)</p></td>
<td style="text-align: left;">
<p>(48)</p></td>
<td style="text-align: left;">
<p>(2.8

<math display="inline" id="Birthday_problem:78">
 <semantics>
  <mrow>
   <mi></mi>
   <mo>×</mo>
   <mrow>
    <msup>
     <mn>10</mn>
     <mn>1</mn>
    </msup>
    <mn>4</mn>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <times></times>
    <csymbol cd="latexml">absent</csymbol>
    <apply>
     <times></times>
     <apply>
      <csymbol cd="ambiguous">superscript</csymbol>
      <cn type="integer">10</cn>
      <cn type="integer">1</cn>
     </apply>
     <cn type="integer">4</cn>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \times 10^{1}4
  </annotation>
 </semantics>
</math>

)</p></td>
<td style="text-align: left;">
<p>2</p></td>
</tr>
<tr class="odd">
<td style="text-align: left;">
<p>16</p></td>
<td style="text-align: left;">
<p>64</p></td>
<td style="text-align: left;">
<p>1.8

<math display="inline" id="Birthday_problem:79">
 <semantics>
  <mrow>
   <mi></mi>
   <mo>×</mo>
   <mrow>
    <msup>
     <mn>10</mn>
     <mn>1</mn>
    </msup>
    <mn>9</mn>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <times></times>
    <csymbol cd="latexml">absent</csymbol>
    <apply>
     <times></times>
     <apply>
      <csymbol cd="ambiguous">superscript</csymbol>
      <cn type="integer">10</cn>
      <cn type="integer">1</cn>
     </apply>
     <cn type="integer">9</cn>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \times 10^{1}9
  </annotation>
 </semantics>
</math>

</p></td>
<td style="text-align: left;">
<p>6.1</p></td>
</tr>
<tr class="even">
<td style="text-align: left;">
<p>(24)</p></td>
<td style="text-align: left;">
<p>(96)</p></td>
<td style="text-align: left;">
<p>(7.9

<math display="inline" id="Birthday_problem:80">
 <semantics>
  <mrow>
   <mi></mi>
   <mo>×</mo>
   <mrow>
    <msup>
     <mn>10</mn>
     <mn>2</mn>
    </msup>
    <mn>8</mn>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <times></times>
    <csymbol cd="latexml">absent</csymbol>
    <apply>
     <times></times>
     <apply>
      <csymbol cd="ambiguous">superscript</csymbol>
      <cn type="integer">10</cn>
      <cn type="integer">2</cn>
     </apply>
     <cn type="integer">8</cn>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \times 10^{2}8
  </annotation>
 </semantics>
</math>

)</p></td>
<td style="text-align: left;">
<p>4.0

<math display="inline" id="Birthday_problem:81">
 <semantics>
  <mrow>
   <mi></mi>
   <mo>×</mo>
   <msup>
    <mn>10</mn>
    <mn>5</mn>
   </msup>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <times></times>
    <csymbol cd="latexml">absent</csymbol>
    <apply>
     <csymbol cd="ambiguous">superscript</csymbol>
     <cn type="integer">10</cn>
     <cn type="integer">5</cn>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \times 10^{5}
  </annotation>
 </semantics>
</math>

</p></td>
</tr>
<tr class="odd">
<td style="text-align: left;">
<p>32</p></td>
<td style="text-align: left;">
<p>128</p></td>
<td style="text-align: left;">
<p>3.4

<math display="inline" id="Birthday_problem:82">
 <semantics>
  <mrow>
   <mi></mi>
   <mo>×</mo>
   <mrow>
    <msup>
     <mn>10</mn>
     <mn>3</mn>
    </msup>
    <mn>8</mn>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <times></times>
    <csymbol cd="latexml">absent</csymbol>
    <apply>
     <times></times>
     <apply>
      <csymbol cd="ambiguous">superscript</csymbol>
      <cn type="integer">10</cn>
      <cn type="integer">3</cn>
     </apply>
     <cn type="integer">8</cn>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \times 10^{3}8
  </annotation>
 </semantics>
</math>

</p></td>
<td style="text-align: left;">
<p>2.6

<math display="inline" id="Birthday_problem:83">
 <semantics>
  <mrow>
   <mi></mi>
   <mo>×</mo>
   <mrow>
    <msup>
     <mn>10</mn>
     <mn>1</mn>
    </msup>
    <mn>0</mn>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <times></times>
    <csymbol cd="latexml">absent</csymbol>
    <apply>
     <times></times>
     <apply>
      <csymbol cd="ambiguous">superscript</csymbol>
      <cn type="integer">10</cn>
      <cn type="integer">1</cn>
     </apply>
     <cn type="integer">0</cn>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \times 10^{1}0
  </annotation>
 </semantics>
</math>

</p></td>
</tr>
<tr class="even">
<td style="text-align: left;">
<p>(48)</p></td>
<td style="text-align: left;">
<p>(192)</p></td>
<td style="text-align: left;">
<p>(6.3

<math display="inline" id="Birthday_problem:84">
 <semantics>
  <mrow>
   <mi></mi>
   <mo>×</mo>
   <mrow>
    <msup>
     <mn>10</mn>
     <mn>5</mn>
    </msup>
    <mn>7</mn>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <times></times>
    <csymbol cd="latexml">absent</csymbol>
    <apply>
     <times></times>
     <apply>
      <csymbol cd="ambiguous">superscript</csymbol>
      <cn type="integer">10</cn>
      <cn type="integer">5</cn>
     </apply>
     <cn type="integer">7</cn>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \times 10^{5}7
  </annotation>
 </semantics>
</math>

)</p></td>
<td style="text-align: left;">
<p>1.1

<math display="inline" id="Birthday_problem:85">
 <semantics>
  <mrow>
   <mi></mi>
   <mo>×</mo>
   <mrow>
    <msup>
     <mn>10</mn>
     <mn>2</mn>
    </msup>
    <mn>0</mn>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <times></times>
    <csymbol cd="latexml">absent</csymbol>
    <apply>
     <times></times>
     <apply>
      <csymbol cd="ambiguous">superscript</csymbol>
      <cn type="integer">10</cn>
      <cn type="integer">2</cn>
     </apply>
     <cn type="integer">0</cn>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \times 10^{2}0
  </annotation>
 </semantics>
</math>

</p></td>
</tr>
<tr class="odd">
<td style="text-align: left;">
<p>64</p></td>
<td style="text-align: left;">
<p>256</p></td>
<td style="text-align: left;">
<p>1.2

<math display="inline" id="Birthday_problem:86">
 <semantics>
  <mrow>
   <mi></mi>
   <mo>×</mo>
   <mrow>
    <msup>
     <mn>10</mn>
     <mn>7</mn>
    </msup>
    <mn>7</mn>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <times></times>
    <csymbol cd="latexml">absent</csymbol>
    <apply>
     <times></times>
     <apply>
      <csymbol cd="ambiguous">superscript</csymbol>
      <cn type="integer">10</cn>
      <cn type="integer">7</cn>
     </apply>
     <cn type="integer">7</cn>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \times 10^{7}7
  </annotation>
 </semantics>
</math>

</p></td>
<td style="text-align: left;">
<p>4.8

<math display="inline" id="Birthday_problem:87">
 <semantics>
  <mrow>
   <mi></mi>
   <mo>×</mo>
   <mrow>
    <msup>
     <mn>10</mn>
     <mn>2</mn>
    </msup>
    <mn>9</mn>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <times></times>
    <csymbol cd="latexml">absent</csymbol>
    <apply>
     <times></times>
     <apply>
      <csymbol cd="ambiguous">superscript</csymbol>
      <cn type="integer">10</cn>
      <cn type="integer">2</cn>
     </apply>
     <cn type="integer">9</cn>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \times 10^{2}9
  </annotation>
 </semantics>
</math>

</p></td>
</tr>
<tr class="even">
<td style="text-align: left;">
<p>(96)</p></td>
<td style="text-align: left;">
<p>(384)</p></td>
<td style="text-align: left;">
<p>(3.9

<math display="inline" id="Birthday_problem:88">
 <semantics>
  <mrow>
   <mi></mi>
   <mo>×</mo>
   <mrow>
    <msup>
     <mn>10</mn>
     <mn>1</mn>
    </msup>
    <mn>15</mn>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <times></times>
    <csymbol cd="latexml">absent</csymbol>
    <apply>
     <times></times>
     <apply>
      <csymbol cd="ambiguous">superscript</csymbol>
      <cn type="integer">10</cn>
      <cn type="integer">1</cn>
     </apply>
     <cn type="integer">15</cn>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \times 10^{1}15
  </annotation>
 </semantics>
</math>

)</p></td>
<td style="text-align: left;">
<p>8.9

<math display="inline" id="Birthday_problem:89">
 <semantics>
  <mrow>
   <mi></mi>
   <mo>×</mo>
   <mrow>
    <msup>
     <mn>10</mn>
     <mn>4</mn>
    </msup>
    <mn>8</mn>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <times></times>
    <csymbol cd="latexml">absent</csymbol>
    <apply>
     <times></times>
     <apply>
      <csymbol cd="ambiguous">superscript</csymbol>
      <cn type="integer">10</cn>
      <cn type="integer">4</cn>
     </apply>
     <cn type="integer">8</cn>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \times 10^{4}8
  </annotation>
 </semantics>
</math>

</p></td>
</tr>
<tr class="odd">
<td style="text-align: left;">
<p>128</p></td>
<td style="text-align: left;">
<p>512</p></td>
<td style="text-align: left;">
<p>1.3

<math display="inline" id="Birthday_problem:90">
 <semantics>
  <mrow>
   <mi></mi>
   <mo>×</mo>
   <mrow>
    <msup>
     <mn>10</mn>
     <mn>1</mn>
    </msup>
    <mn>54</mn>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <times></times>
    <csymbol cd="latexml">absent</csymbol>
    <apply>
     <times></times>
     <apply>
      <csymbol cd="ambiguous">superscript</csymbol>
      <cn type="integer">10</cn>
      <cn type="integer">1</cn>
     </apply>
     <cn type="integer">54</cn>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \times 10^{1}54
  </annotation>
 </semantics>
</math>

</p></td>
<td style="text-align: left;">
<p>1.6

<math display="inline" id="Birthday_problem:91">
 <semantics>
  <mrow>
   <mi></mi>
   <mo>×</mo>
   <mrow>
    <msup>
     <mn>10</mn>
     <mn>6</mn>
    </msup>
    <mn>8</mn>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <times></times>
    <csymbol cd="latexml">absent</csymbol>
    <apply>
     <times></times>
     <apply>
      <csymbol cd="ambiguous">superscript</csymbol>
      <cn type="integer">10</cn>
      <cn type="integer">6</cn>
     </apply>
     <cn type="integer">8</cn>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \times 10^{6}8
  </annotation>
 </semantics>
</math>

</p></td>
</tr>
</tbody>
</table>
</dd>
</dl>

<p>The white fields in this table show the number of hashes needed to achieve the given probability of collision (column) given a hash space of a certain size in bits (row). Using the birthday analogy: the "hash space size" resembles the "available days", the "probability of collision" resembles the "probability of shared birthday", and the "required number of hashed elements" resembles the "required number of people in a group". One could of course also use this chart to determine the minimum hash size required (given upper bounds on the hashes and probability of error), or the probability of collision (for fixed number of hashes and probability of error).</p>

<p>For comparison, 10<sup>−18</sup> to 10<sup>−15</sup> is the uncorrectable bit error rate of a typical hard disk.<a class="footnoteRef" href="#fn7" id="fnref7"><sup>7</sup></a> In theory, 128-bit hash functions, such as <a class="uri" href="MD5" title="wikilink">MD5</a>, should stay within that range until about 820 billion documents, even if its possible outputs are many more.</p>
<h2 id="an-upper-bound">An upper bound</h2>

<p>The argument below is adapted from an argument of <a href="Paul_Halmos" title="wikilink">Paul Halmos</a>.<ref>In his autobiography, Halmos criticized the form in which the birthday paradox is often presented, in terms of numerical computation. He believed that it should be used as an example in the use of more abstract mathematical concepts. He wrote:</ref></p>
<blockquote>

<p>The reasoning is based on important tools that all students of mathematics should have ready access to. The birthday problem used to be a splendid illustration of the advantages of pure thought over mechanical manipulation; the inequalities can be obtained in a minute or two, whereas the multiplications would take much longer, and be much more subject to error, whether the instrument is a pencil or an old-fashioned desk computer. What <a href="calculator" title="wikilink">calculators</a> do not yield is understanding, or mathematical facility, or a solid basis for more advanced, generalized theories.</p>
</blockquote>

<p></p>

<p>As stated above, the probability that no two birthdays coincide is</p>

<p>

<math display="block" id="Birthday_problem:92">
 <semantics>
  <mrow>
   <mrow>
    <mrow>
     <mn>1</mn>
     <mo>-</mo>
     <mrow>
      <mi>p</mi>
      <mrow>
       <mo stretchy="false">(</mo>
       <mi>n</mi>
       <mo stretchy="false">)</mo>
      </mrow>
     </mrow>
    </mrow>
    <mo>=</mo>
    <mrow>
     <mover accent="true">
      <mi>p</mi>
      <mo stretchy="false">¯</mo>
     </mover>
     <mrow>
      <mo stretchy="false">(</mo>
      <mi>n</mi>
      <mo stretchy="false">)</mo>
     </mrow>
    </mrow>
    <mo>=</mo>
    <mrow>
     <munderover>
      <mo largeop="true" movablelimits="false" symmetric="true">∏</mo>
      <mrow>
       <mi>k</mi>
       <mo>=</mo>
       <mn>1</mn>
      </mrow>
      <mrow>
       <mi>n</mi>
       <mo>-</mo>
       <mn>1</mn>
      </mrow>
     </munderover>
     <mrow>
      <mo>(</mo>
      <mrow>
       <mn>1</mn>
       <mo>-</mo>
       <mfrac>
        <mi>k</mi>
        <mn>365</mn>
       </mfrac>
      </mrow>
      <mo>)</mo>
     </mrow>
    </mrow>
   </mrow>
   <mo>.</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <and></and>
    <apply>
     <eq></eq>
     <apply>
      <minus></minus>
      <cn type="integer">1</cn>
      <apply>
       <times></times>
       <ci>p</ci>
       <ci>n</ci>
      </apply>
     </apply>
     <apply>
      <times></times>
      <apply>
       <ci>normal-¯</ci>
       <ci>p</ci>
      </apply>
      <ci>n</ci>
     </apply>
    </apply>
    <apply>
     <eq></eq>
     <share href="#.cmml">
     </share>
     <apply>
      <apply>
       <csymbol cd="ambiguous">superscript</csymbol>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <csymbol cd="latexml">product</csymbol>
        <apply>
         <eq></eq>
         <ci>k</ci>
         <cn type="integer">1</cn>
        </apply>
       </apply>
       <apply>
        <minus></minus>
        <ci>n</ci>
        <cn type="integer">1</cn>
       </apply>
      </apply>
      <apply>
       <minus></minus>
       <cn type="integer">1</cn>
       <apply>
        <divide></divide>
        <ci>k</ci>
        <cn type="integer">365</cn>
       </apply>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   1-p(n)=\bar{p}(n)=\prod_{k=1}^{n-1}\left(1-{k\over 365}\right).
  </annotation>
 </semantics>
</math>

</p>

<p>As in earlier paragraphs, interest lies in the smallest <em>n</em> such that <em>p</em>(<em>n</em>) &gt; 1/2; or equivalently, the smallest <em>n</em> such that <em><u style="text-decoration:overline">p</u></em>(<em>n</em>) −<em>x</em> in the above expression we replace 1 − <em>k</em>/365 with <em>e</em><sup>−<em>k</em>/365</sup>. This yields</p>

<p>

<math display="block" id="Birthday_problem:93">
 <semantics>
  <mrow>
   <mrow>
    <mrow>
     <mover accent="true">
      <mi>p</mi>
      <mo stretchy="false">¯</mo>
     </mover>
     <mrow>
      <mo stretchy="false">(</mo>
      <mi>n</mi>
      <mo stretchy="false">)</mo>
     </mrow>
    </mrow>
    <mo>=</mo>
    <mrow>
     <munderover>
      <mo largeop="true" movablelimits="false" symmetric="true">∏</mo>
      <mrow>
       <mi>k</mi>
       <mo>=</mo>
       <mn>1</mn>
      </mrow>
      <mrow>
       <mi>n</mi>
       <mo>-</mo>
       <mn>1</mn>
      </mrow>
     </munderover>
     <mrow>
      <mo>(</mo>
      <mrow>
       <mn>1</mn>
       <mo>-</mo>
       <mfrac>
        <mi>k</mi>
        <mn>365</mn>
       </mfrac>
      </mrow>
      <mo>)</mo>
     </mrow>
    </mrow>
    <mo><</mo>
    <mrow>
     <munderover>
      <mo largeop="true" movablelimits="false" symmetric="true">∏</mo>
      <mrow>
       <mi>k</mi>
       <mo>=</mo>
       <mn>1</mn>
      </mrow>
      <mrow>
       <mi>n</mi>
       <mo>-</mo>
       <mn>1</mn>
      </mrow>
     </munderover>
     <mrow>
      <mo>(</mo>
      <msup>
       <mi>e</mi>
       <mrow>
        <mo>-</mo>
        <mrow>
         <mi>k</mi>
         <mo>/</mo>
         <mn>365</mn>
        </mrow>
       </mrow>
      </msup>
      <mo>)</mo>
     </mrow>
    </mrow>
    <mo>=</mo>
    <msup>
     <mi>e</mi>
     <mrow>
      <mo>-</mo>
      <mrow>
       <mrow>
        <mo stretchy="false">(</mo>
        <mrow>
         <mi>n</mi>
         <mrow>
          <mo stretchy="false">(</mo>
          <mrow>
           <mi>n</mi>
           <mo>-</mo>
           <mn>1</mn>
          </mrow>
          <mo stretchy="false">)</mo>
         </mrow>
        </mrow>
        <mo stretchy="false">)</mo>
       </mrow>
       <mo>/</mo>
       <mrow>
        <mo stretchy="false">(</mo>
        <mrow>
         <mn>2</mn>
         <mo>×</mo>
         <mn>365</mn>
        </mrow>
        <mo stretchy="false">)</mo>
       </mrow>
      </mrow>
     </mrow>
    </msup>
   </mrow>
   <mo>.</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <and></and>
    <apply>
     <eq></eq>
     <apply>
      <times></times>
      <apply>
       <ci>normal-¯</ci>
       <ci>p</ci>
      </apply>
      <ci>n</ci>
     </apply>
     <apply>
      <apply>
       <csymbol cd="ambiguous">superscript</csymbol>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <csymbol cd="latexml">product</csymbol>
        <apply>
         <eq></eq>
         <ci>k</ci>
         <cn type="integer">1</cn>
        </apply>
       </apply>
       <apply>
        <minus></minus>
        <ci>n</ci>
        <cn type="integer">1</cn>
       </apply>
      </apply>
      <apply>
       <minus></minus>
       <cn type="integer">1</cn>
       <apply>
        <divide></divide>
        <ci>k</ci>
        <cn type="integer">365</cn>
       </apply>
      </apply>
     </apply>
    </apply>
    <apply>
     <lt></lt>
     <share href="#.cmml">
     </share>
     <apply>
      <apply>
       <csymbol cd="ambiguous">superscript</csymbol>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <csymbol cd="latexml">product</csymbol>
        <apply>
         <eq></eq>
         <ci>k</ci>
         <cn type="integer">1</cn>
        </apply>
       </apply>
       <apply>
        <minus></minus>
        <ci>n</ci>
        <cn type="integer">1</cn>
       </apply>
      </apply>
      <apply>
       <csymbol cd="ambiguous">superscript</csymbol>
       <ci>e</ci>
       <apply>
        <minus></minus>
        <apply>
         <divide></divide>
         <ci>k</ci>
         <cn type="integer">365</cn>
        </apply>
       </apply>
      </apply>
     </apply>
    </apply>
    <apply>
     <eq></eq>
     <share href="#.cmml">
     </share>
     <apply>
      <csymbol cd="ambiguous">superscript</csymbol>
      <ci>e</ci>
      <apply>
       <minus></minus>
       <apply>
        <divide></divide>
        <apply>
         <times></times>
         <ci>n</ci>
         <apply>
          <minus></minus>
          <ci>n</ci>
          <cn type="integer">1</cn>
         </apply>
        </apply>
        <apply>
         <times></times>
         <cn type="integer">2</cn>
         <cn type="integer">365</cn>
        </apply>
       </apply>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \bar{p}(n)=\prod_{k=1}^{n-1}\left(1-{k\over 365}\right)<\prod_{k=1}^{n-1}\left%
(e^{-k/365}\right)=e^{-(n(n-1))/(2\times 365)}.
  </annotation>
 </semantics>
</math>

</p>

<p>Therefore, the expression above is not only an approximation, but also an <a href="upper_bound" title="wikilink">upper bound</a> of <em><u style="text-decoration:overline">p</u></em>(<em>n</em>). The inequality</p>

<p>

<math display="block" id="Birthday_problem:94">
 <semantics>
  <mrow>
   <msup>
    <mi>e</mi>
    <mrow>
     <mo>-</mo>
     <mrow>
      <mrow>
       <mo stretchy="false">(</mo>
       <mrow>
        <mi>n</mi>
        <mrow>
         <mo stretchy="false">(</mo>
         <mrow>
          <mi>n</mi>
          <mo>-</mo>
          <mn>1</mn>
         </mrow>
         <mo stretchy="false">)</mo>
        </mrow>
       </mrow>
       <mo stretchy="false">)</mo>
      </mrow>
      <mo>/</mo>
      <mrow>
       <mo stretchy="false">(</mo>
       <mrow>
        <mn>2</mn>
        <mo>⋅</mo>
        <mn>365</mn>
       </mrow>
       <mo stretchy="false">)</mo>
      </mrow>
     </mrow>
    </mrow>
   </msup>
   <mo><</mo>
   <mfrac>
    <mn>1</mn>
    <mn>2</mn>
   </mfrac>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <lt></lt>
    <apply>
     <csymbol cd="ambiguous">superscript</csymbol>
     <ci>e</ci>
     <apply>
      <minus></minus>
      <apply>
       <divide></divide>
       <apply>
        <times></times>
        <ci>n</ci>
        <apply>
         <minus></minus>
         <ci>n</ci>
         <cn type="integer">1</cn>
        </apply>
       </apply>
       <apply>
        <ci>normal-⋅</ci>
        <cn type="integer">2</cn>
        <cn type="integer">365</cn>
       </apply>
      </apply>
     </apply>
    </apply>
    <apply>
     <divide></divide>
     <cn type="integer">1</cn>
     <cn type="integer">2</cn>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   e^{-(n(n-1))/(2\cdot 365)}<\frac{1}{2}
  </annotation>
 </semantics>
</math>

</p>

<p>implies <em><u style="text-decoration:overline">p</u></em>(<em>n</em>) n^2-n &gt; 2\times365\ln 2 \,\! .</p>

<p>Now, 730 ln 2 is approximately 505.997, which is barely below 506, the value of <em>n</em><sup>2</sup> − <em>n</em> attained when <em>n</em> = 23. Therefore, 23 people suffice. Solving <em>n</em><sup>2</sup> − <em>n</em> = 2 · 365 · ln 2 for <em>n</em> gives, by the way, the approximate formula of Frank H. Mathis cited above.</p>

<p>This derivation only shows that <em>at most</em> 23 people are needed to ensure a birthday match with even chance; it leaves open the possibility that <em>n</em> is 22 or less could also work.</p>
<h2 id="generalizations">Generalizations</h2>
<h3 id="the-generalized-birthday-problem">The generalized birthday problem</h3>

<p>Given a year with <em>d</em> days, the <strong>generalized birthday problem</strong> asks for the minimal number <em>n</em>(<em>d</em>) such that, in a set of <em>n</em>(<em>d</em>) randomly chosen people, the probability of a birthday coincidence is at least 50%. In other words, <em>n</em>(<em>d</em>) is the minimal integer <em>n</em> such that</p>

<p>

<math display="block" id="Birthday_problem:95">
 <semantics>
  <mrow>
   <mrow>
    <mrow>
     <mn>1</mn>
     <mo>-</mo>
     <mrow>
      <mrow>
       <mo>(</mo>
       <mrow>
        <mn>1</mn>
        <mo>-</mo>
        <mfrac>
         <mn>1</mn>
         <mi>d</mi>
        </mfrac>
       </mrow>
       <mo>)</mo>
      </mrow>
      <mrow>
       <mo>(</mo>
       <mrow>
        <mn>1</mn>
        <mo>-</mo>
        <mfrac>
         <mn>2</mn>
         <mi>d</mi>
        </mfrac>
       </mrow>
       <mo>)</mo>
      </mrow>
      <mi mathvariant="normal">⋯</mi>
      <mrow>
       <mo>(</mo>
       <mrow>
        <mn>1</mn>
        <mo>-</mo>
        <mfrac>
         <mrow>
          <mi>n</mi>
          <mo>-</mo>
          <mn>1</mn>
         </mrow>
         <mi>d</mi>
        </mfrac>
       </mrow>
       <mo>)</mo>
      </mrow>
     </mrow>
    </mrow>
    <mo>≥</mo>
    <mfrac>
     <mn>1</mn>
     <mn>2</mn>
    </mfrac>
   </mrow>
   <mo>.</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <geq></geq>
    <apply>
     <minus></minus>
     <cn type="integer">1</cn>
     <apply>
      <times></times>
      <apply>
       <minus></minus>
       <cn type="integer">1</cn>
       <apply>
        <divide></divide>
        <cn type="integer">1</cn>
        <ci>d</ci>
       </apply>
      </apply>
      <apply>
       <minus></minus>
       <cn type="integer">1</cn>
       <apply>
        <divide></divide>
        <cn type="integer">2</cn>
        <ci>d</ci>
       </apply>
      </apply>
      <ci>normal-⋯</ci>
      <apply>
       <minus></minus>
       <cn type="integer">1</cn>
       <apply>
        <divide></divide>
        <apply>
         <minus></minus>
         <ci>n</ci>
         <cn type="integer">1</cn>
        </apply>
        <ci>d</ci>
       </apply>
      </apply>
     </apply>
    </apply>
    <apply>
     <divide></divide>
     <cn type="integer">1</cn>
     <cn type="integer">2</cn>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   1-\left(1-\frac{1}{d}\right)\left(1-\frac{2}{d}\right)\cdots\left(1-\frac{n-1}%
{d}\right)\geq\frac{1}{2}.
  </annotation>
 </semantics>
</math>

</p>

<p>The classical birthday problem thus corresponds to determining <em>n</em>(365). The first 99 values of <em>n</em>(<em>d</em>) are given here:</p>
<dl>
<dd>
<table>
<thead>
<tr class="header">
<th style="text-align: left;">
<p><em>d</em></p></th>
<th style="text-align: left;">
<p>1–2</p></th>
<th style="text-align: left;">
<p>3–5</p></th>
<th style="text-align: left;">
<p>6–9</p></th>
<th style="text-align: left;">
<p>10–16</p></th>
<th style="text-align: left;">
<p>17–23</p></th>
<th style="text-align: left;">
<p>24–32</p></th>
<th style="text-align: left;">
<p>33–42</p></th>
<th style="text-align: left;">
<p>43–54</p></th>
<th style="text-align: left;">
<p>55–68</p></th>
<th style="text-align: left;">
<p>69–82</p></th>
<th style="text-align: left;">
<p>83–99</p></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">
<p><em>n</em>(<em>d</em>)</p></td>
<td style="text-align: left;">
<p>2</p></td>
<td style="text-align: left;">
<p>3</p></td>
<td style="text-align: left;">
<p>4</p></td>
<td style="text-align: left;">
<p>5</p></td>
<td style="text-align: left;">
<p>6</p></td>
<td style="text-align: left;">
<p>7</p></td>
<td style="text-align: left;">
<p>8</p></td>
<td style="text-align: left;">
<p>9</p></td>
<td style="text-align: left;">
<p>10</p></td>
<td style="text-align: left;">
<p>11</p></td>
<td style="text-align: left;">
<p>12</p></td>
</tr>
</tbody>
</table>
</dd>
</dl>

<p>A number of bounds and formulas for <em>n</em>(<em>d</em>) have been published.<a class="footnoteRef" href="#fn8" id="fnref8"><sup>8</sup></a> For any <em>d</em>≥1, the number <em>n</em>(<em>d</em>) satisfies<a class="footnoteRef" href="#fn9" id="fnref9"><sup>9</sup></a></p>

<p>

<math display="inline" id="Birthday_problem:96">
 <semantics>
  <mrow>
   <mrow>
    <mrow>
     <mo stretchy="false">(</mo>
     <mrow>
      <mn>3</mn>
      <mo>-</mo>
      <mrow>
       <mn>2</mn>
       <mrow>
        <mi>ln</mi>
        <mn>2</mn>
       </mrow>
      </mrow>
     </mrow>
     <mo stretchy="false">)</mo>
    </mrow>
    <mo>/</mo>
    <mn>6</mn>
   </mrow>
   <mo>≈</mo>
   <mn>0.27</mn>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <approx></approx>
    <apply>
     <divide></divide>
     <apply>
      <minus></minus>
      <cn type="integer">3</cn>
      <apply>
       <times></times>
       <cn type="integer">2</cn>
       <apply>
        <ln></ln>
        <cn type="integer">2</cn>
       </apply>
      </apply>
     </apply>
     <cn type="integer">6</cn>
    </apply>
    <cn type="float">0.27</cn>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   (3-2\ln 2)/6\approx 0.27
  </annotation>
 </semantics>
</math>

 gets arbitrarily close to 

<math display="inline" id="Birthday_problem:97">
 <semantics>
  <mrow>
   <mrow>
    <mn>9</mn>
    <mo>-</mo>
    <msqrt>
     <mrow>
      <mn>86</mn>
      <mrow>
       <mi>ln</mi>
       <mn>2</mn>
      </mrow>
     </mrow>
    </msqrt>
   </mrow>
   <mo>≈</mo>
   <mn>1.28</mn>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <approx></approx>
    <apply>
     <minus></minus>
     <cn type="integer">9</cn>
     <apply>
      <root></root>
      <apply>
       <times></times>
       <cn type="integer">86</cn>
       <apply>
        <ln></ln>
        <cn type="integer">2</cn>
       </apply>
      </apply>
     </apply>
    </apply>
    <cn type="float">1.28</cn>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   9-\sqrt{86\ln 2}\approx 1.28
  </annotation>
 </semantics>
</math>

, while it has 

<math display="inline" id="Birthday_problem:98">
 <semantics>
  <mrow>
   <mo>⌈</mo>
   <msqrt>
    <mrow>
     <mn>2</mn>
     <mi>d</mi>
     <mrow>
      <mi>ln</mi>
      <mn>2</mn>
     </mrow>
    </mrow>
   </msqrt>
   <mo>⌉</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <ceiling></ceiling>
    <apply>
     <root></root>
     <apply>
      <times></times>
      <cn type="integer">2</cn>
      <ci>d</ci>
      <apply>
       <ln></ln>
       <cn type="integer">2</cn>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \left\lceil\sqrt{2d\ln 2}\right\rceil
  </annotation>
 </semantics>
</math>

 as its maximum, taken for <em>d</em>=43. The bounds are sufficiently tight to give the exact value of <em>n</em>(<em>d</em>) in 99% of all cases, for example <em>n</em>(365)=23. In general, it follows from these bounds that <em>n</em>(<em>d</em>) always equals either 

<math display="inline" id="Birthday_problem:99">
 <semantics>
  <mrow>
   <mrow>
    <mo>⌈</mo>
    <msqrt>
     <mrow>
      <mn>2</mn>
      <mi>d</mi>
      <mrow>
       <mi>ln</mi>
       <mn>2</mn>
      </mrow>
     </mrow>
    </msqrt>
    <mo>⌉</mo>
   </mrow>
   <mo>+</mo>
   <mn>1</mn>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <plus></plus>
    <apply>
     <ceiling></ceiling>
     <apply>
      <root></root>
      <apply>
       <times></times>
       <cn type="integer">2</cn>
       <ci>d</ci>
       <apply>
        <ln></ln>
        <cn type="integer">2</cn>
       </apply>
      </apply>
     </apply>
    </apply>
    <cn type="integer">1</cn>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \left\lceil\sqrt{2d\ln 2}\right\rceil+1
  </annotation>
 </semantics>
</math>

 or 

<math display="inline" id="Birthday_problem:100">
 <semantics>
  <mrow>
   <mo stretchy="false">⌈</mo>
   <mi>x</mi>
   <mo stretchy="false">⌉</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <ceiling></ceiling>
    <ci>x</ci>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \lceil x\rceil
  </annotation>
 </semantics>
</math>

 where 

<math display="block" id="Birthday_problem:101">
 <semantics>
  <mrow>
   <mrow>
    <mi>n</mi>
    <mrow>
     <mo stretchy="false">(</mo>
     <mi>d</mi>
     <mo stretchy="false">)</mo>
    </mrow>
   </mrow>
   <mo>=</mo>
   <mrow>
    <mo>⌈</mo>
    <msqrt>
     <mrow>
      <mn>2</mn>
      <mi>d</mi>
      <mrow>
       <mi>ln</mi>
       <mn>2</mn>
      </mrow>
     </mrow>
    </msqrt>
    <mo>⌉</mo>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <times></times>
     <ci>n</ci>
     <ci>d</ci>
    </apply>
    <apply>
     <ceiling></ceiling>
     <apply>
      <root></root>
      <apply>
       <times></times>
       <cn type="integer">2</cn>
       <ci>d</ci>
       <apply>
        <ln></ln>
        <cn type="integer">2</cn>
       </apply>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   n(d)=\left\lceil\sqrt{2d\ln 2}\right\rceil
  </annotation>
 </semantics>
</math>

 denotes the <a href="Floor_and_ceiling_functions" title="wikilink">ceiling function</a>. The formula</p>

<p>

<math display="block" id="Birthday_problem:102">
 <semantics>
  <mrow>
   <mrow>
    <mi>n</mi>
    <mrow>
     <mo stretchy="false">(</mo>
     <mi>d</mi>
     <mo stretchy="false">)</mo>
    </mrow>
   </mrow>
   <mo>=</mo>
   <mrow>
    <mo>⌈</mo>
    <mrow>
     <msqrt>
      <mrow>
       <mn>2</mn>
       <mi>d</mi>
       <mrow>
        <mi>ln</mi>
        <mn>2</mn>
       </mrow>
      </mrow>
     </msqrt>
     <mo>+</mo>
     <mfrac>
      <mrow>
       <mn>3</mn>
       <mo>-</mo>
       <mrow>
        <mn>2</mn>
        <mrow>
         <mi>ln</mi>
         <mn>2</mn>
        </mrow>
       </mrow>
      </mrow>
      <mn>6</mn>
     </mfrac>
    </mrow>
    <mo>⌉</mo>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <times></times>
     <ci>n</ci>
     <ci>d</ci>
    </apply>
    <apply>
     <ceiling></ceiling>
     <apply>
      <plus></plus>
      <apply>
       <root></root>
       <apply>
        <times></times>
        <cn type="integer">2</cn>
        <ci>d</ci>
        <apply>
         <ln></ln>
         <cn type="integer">2</cn>
        </apply>
       </apply>
      </apply>
      <apply>
       <divide></divide>
       <apply>
        <minus></minus>
        <cn type="integer">3</cn>
        <apply>
         <times></times>
         <cn type="integer">2</cn>
         <apply>
          <ln></ln>
          <cn type="integer">2</cn>
         </apply>
        </apply>
       </apply>
       <cn type="integer">6</cn>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   n(d)=\left\lceil\sqrt{2d\ln 2}+\frac{3-2\ln 2}{6}\right\rceil
  </annotation>
 </semantics>
</math>

</p>

<p>holds for 73% of all integers <em>d</em>.<a class="footnoteRef" href="#fn10" id="fnref10"><sup>10</sup></a> The formula</p>

<p>

<math display="block" id="Birthday_problem:103">
 <semantics>
  <mrow>
   <mrow>
    <mi>n</mi>
    <mrow>
     <mo stretchy="false">(</mo>
     <mi>d</mi>
     <mo stretchy="false">)</mo>
    </mrow>
   </mrow>
   <mo>=</mo>
   <mrow>
    <mo>⌈</mo>
    <mrow>
     <msqrt>
      <mrow>
       <mn>2</mn>
       <mi>d</mi>
       <mrow>
        <mi>ln</mi>
        <mn>2</mn>
       </mrow>
      </mrow>
     </msqrt>
     <mo>+</mo>
     <mfrac>
      <mrow>
       <mn>3</mn>
       <mo>-</mo>
       <mrow>
        <mn>2</mn>
        <mrow>
         <mi>ln</mi>
         <mn>2</mn>
        </mrow>
       </mrow>
      </mrow>
      <mn>6</mn>
     </mfrac>
     <mo>+</mo>
     <mfrac>
      <mrow>
       <mn>9</mn>
       <mo>-</mo>
       <mrow>
        <mn>4</mn>
        <msup>
         <mrow>
          <mo stretchy="false">(</mo>
          <mrow>
           <mi>ln</mi>
           <mn>2</mn>
          </mrow>
          <mo stretchy="false">)</mo>
         </mrow>
         <mn>2</mn>
        </msup>
       </mrow>
      </mrow>
      <mrow>
       <mn>72</mn>
       <msqrt>
        <mrow>
         <mn>2</mn>
         <mi>d</mi>
         <mrow>
          <mi>ln</mi>
          <mn>2</mn>
         </mrow>
        </mrow>
       </msqrt>
      </mrow>
     </mfrac>
    </mrow>
    <mo>⌉</mo>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <times></times>
     <ci>n</ci>
     <ci>d</ci>
    </apply>
    <apply>
     <ceiling></ceiling>
     <apply>
      <plus></plus>
      <apply>
       <root></root>
       <apply>
        <times></times>
        <cn type="integer">2</cn>
        <ci>d</ci>
        <apply>
         <ln></ln>
         <cn type="integer">2</cn>
        </apply>
       </apply>
      </apply>
      <apply>
       <divide></divide>
       <apply>
        <minus></minus>
        <cn type="integer">3</cn>
        <apply>
         <times></times>
         <cn type="integer">2</cn>
         <apply>
          <ln></ln>
          <cn type="integer">2</cn>
         </apply>
        </apply>
       </apply>
       <cn type="integer">6</cn>
      </apply>
      <apply>
       <divide></divide>
       <apply>
        <minus></minus>
        <cn type="integer">9</cn>
        <apply>
         <times></times>
         <cn type="integer">4</cn>
         <apply>
          <csymbol cd="ambiguous">superscript</csymbol>
          <apply>
           <ln></ln>
           <cn type="integer">2</cn>
          </apply>
          <cn type="integer">2</cn>
         </apply>
        </apply>
       </apply>
       <apply>
        <times></times>
        <cn type="integer">72</cn>
        <apply>
         <root></root>
         <apply>
          <times></times>
          <cn type="integer">2</cn>
          <ci>d</ci>
          <apply>
           <ln></ln>
           <cn type="integer">2</cn>
          </apply>
         </apply>
        </apply>
       </apply>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   n(d)=\left\lceil\sqrt{2d\ln 2}+\frac{3-2\ln 2}{6}+\frac{9-4(\ln 2)^{2}}{72%
\sqrt{2d\ln 2}}\right\rceil
  </annotation>
 </semantics>
</math>

</p>

<p>holds for <a href="almost_all" title="wikilink">almost all</a> <em>d</em>, i.e., for a set of integers <em>d</em> with <a href="asymptotic_density" title="wikilink">asymptotic density</a> 1.<a class="footnoteRef" href="#fn11" id="fnref11"><sup>11</sup></a> The formula</p>

<p>

<math display="block" id="Birthday_problem:104">
 <semantics>
  <mrow>
   <mrow>
    <mi>n</mi>
    <mrow>
     <mo stretchy="false">(</mo>
     <mi>d</mi>
     <mo stretchy="false">)</mo>
    </mrow>
   </mrow>
   <mo>=</mo>
   <mrow>
    <mo>⌈</mo>
    <mrow>
     <mrow>
      <msqrt>
       <mrow>
        <mn>2</mn>
        <mi>d</mi>
        <mrow>
         <mi>ln</mi>
         <mn>2</mn>
        </mrow>
       </mrow>
      </msqrt>
      <mo>+</mo>
      <mfrac>
       <mrow>
        <mn>3</mn>
        <mo>-</mo>
        <mrow>
         <mn>2</mn>
         <mrow>
          <mi>ln</mi>
          <mn>2</mn>
         </mrow>
        </mrow>
       </mrow>
       <mn>6</mn>
      </mfrac>
      <mo>+</mo>
      <mfrac>
       <mrow>
        <mn>9</mn>
        <mo>-</mo>
        <mrow>
         <mn>4</mn>
         <msup>
          <mrow>
           <mo stretchy="false">(</mo>
           <mrow>
            <mi>ln</mi>
            <mn>2</mn>
           </mrow>
           <mo stretchy="false">)</mo>
          </mrow>
          <mn>2</mn>
         </msup>
        </mrow>
       </mrow>
       <mrow>
        <mn>72</mn>
        <msqrt>
         <mrow>
          <mn>2</mn>
          <mi>d</mi>
          <mrow>
           <mi>ln</mi>
           <mn>2</mn>
          </mrow>
         </mrow>
        </msqrt>
       </mrow>
      </mfrac>
     </mrow>
     <mo>-</mo>
     <mfrac>
      <mrow>
       <mn>2</mn>
       <msup>
        <mrow>
         <mo stretchy="false">(</mo>
         <mrow>
          <mi>ln</mi>
          <mn>2</mn>
         </mrow>
         <mo stretchy="false">)</mo>
        </mrow>
        <mn>2</mn>
       </msup>
      </mrow>
      <mrow>
       <mn>135</mn>
       <mi>d</mi>
      </mrow>
     </mfrac>
    </mrow>
    <mo>⌉</mo>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <times></times>
     <ci>n</ci>
     <ci>d</ci>
    </apply>
    <apply>
     <ceiling></ceiling>
     <apply>
      <minus></minus>
      <apply>
       <plus></plus>
       <apply>
        <root></root>
        <apply>
         <times></times>
         <cn type="integer">2</cn>
         <ci>d</ci>
         <apply>
          <ln></ln>
          <cn type="integer">2</cn>
         </apply>
        </apply>
       </apply>
       <apply>
        <divide></divide>
        <apply>
         <minus></minus>
         <cn type="integer">3</cn>
         <apply>
          <times></times>
          <cn type="integer">2</cn>
          <apply>
           <ln></ln>
           <cn type="integer">2</cn>
          </apply>
         </apply>
        </apply>
        <cn type="integer">6</cn>
       </apply>
       <apply>
        <divide></divide>
        <apply>
         <minus></minus>
         <cn type="integer">9</cn>
         <apply>
          <times></times>
          <cn type="integer">4</cn>
          <apply>
           <csymbol cd="ambiguous">superscript</csymbol>
           <apply>
            <ln></ln>
            <cn type="integer">2</cn>
           </apply>
           <cn type="integer">2</cn>
          </apply>
         </apply>
        </apply>
        <apply>
         <times></times>
         <cn type="integer">72</cn>
         <apply>
          <root></root>
          <apply>
           <times></times>
           <cn type="integer">2</cn>
           <ci>d</ci>
           <apply>
            <ln></ln>
            <cn type="integer">2</cn>
           </apply>
          </apply>
         </apply>
        </apply>
       </apply>
      </apply>
      <apply>
       <divide></divide>
       <apply>
        <times></times>
        <cn type="integer">2</cn>
        <apply>
         <csymbol cd="ambiguous">superscript</csymbol>
         <apply>
          <ln></ln>
          <cn type="integer">2</cn>
         </apply>
         <cn type="integer">2</cn>
        </apply>
       </apply>
       <apply>
        <times></times>
        <cn type="integer">135</cn>
        <ci>d</ci>
       </apply>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   n(d)=\left\lceil\sqrt{2d\ln 2}+\frac{3-2\ln 2}{6}+\frac{9-4(\ln 2)^{2}}{72%
\sqrt{2d\ln 2}}-\frac{2(\ln 2)^{2}}{135d}\right\rceil
  </annotation>
 </semantics>
</math>

</p>

<p>holds for all <em>d</em> up to 10<sup>18</sup>, but it is conjectured that there are infinitely many counter-examples to this formula.<a class="footnoteRef" href="#fn12" id="fnref12"><sup>12</sup></a> The formula</p>

<p>

<math display="block" id="Birthday_problem:105">
 <semantics>
  <mrow>
   <mrow>
    <mi>p</mi>
    <mrow>
     <mo stretchy="false">(</mo>
     <mi>n</mi>
     <mo>;</mo>
     <mi>d</mi>
     <mo stretchy="false">)</mo>
    </mrow>
   </mrow>
   <mo>=</mo>
   <mrow>
    <mo>{</mo>
    <mtable displaystyle="true">
     <mtr>
      <mtd columnalign="left">
       <mrow>
        <mn>1</mn>
        <mo>-</mo>
        <mrow>
         <mstyle displaystyle="false">
          <msubsup>
           <mo largeop="true" symmetric="true">∏</mo>
           <mrow>
            <mi>k</mi>
            <mo>=</mo>
            <mn>1</mn>
           </mrow>
           <mrow>
            <mi>n</mi>
            <mo>-</mo>
            <mn>1</mn>
           </mrow>
          </msubsup>
         </mstyle>
         <mrow>
          <mo>(</mo>
          <mrow>
           <mn>1</mn>
           <mo>-</mo>
           <mstyle displaystyle="false">
            <mfrac>
             <mi>k</mi>
             <mi>d</mi>
            </mfrac>
           </mstyle>
          </mrow>
          <mo>)</mo>
         </mrow>
        </mrow>
       </mrow>
      </mtd>
      <mtd columnalign="left">
       <mrow>
        <mi>n</mi>
        <mo>≤</mo>
        <mi>d</mi>
       </mrow>
      </mtd>
     </mtr>
     <mtr>
      <mtd columnalign="left">
       <mn>1</mn>
      </mtd>
      <mtd columnalign="left">
       <mrow>
        <mi>n</mi>
        <mo>></mo>
        <mi>d</mi>
       </mrow>
      </mtd>
     </mtr>
    </mtable>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <times></times>
     <ci>p</ci>
     <list>
      <ci>n</ci>
      <ci>d</ci>
     </list>
    </apply>
    <apply>
     <csymbol cd="latexml">cases</csymbol>
     <apply>
      <minus></minus>
      <cn type="integer">1</cn>
      <apply>
       <apply>
        <csymbol cd="ambiguous">superscript</csymbol>
        <apply>
         <csymbol cd="ambiguous">subscript</csymbol>
         <csymbol cd="latexml">product</csymbol>
         <apply>
          <eq></eq>
          <ci>k</ci>
          <cn type="integer">1</cn>
         </apply>
        </apply>
        <apply>
         <minus></minus>
         <ci>n</ci>
         <cn type="integer">1</cn>
        </apply>
       </apply>
       <apply>
        <minus></minus>
        <cn type="integer">1</cn>
        <apply>
         <divide></divide>
         <ci>k</ci>
         <ci>d</ci>
        </apply>
       </apply>
      </apply>
     </apply>
     <apply>
      <leq></leq>
      <ci>n</ci>
      <ci>d</ci>
     </apply>
     <cn type="integer">1</cn>
     <apply>
      <gt></gt>
      <ci>n</ci>
      <ci>d</ci>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   p(n;d)=\begin{cases}1-\prod_{k=1}^{n-1}\left(1-{k\over d}\right)&n\leq d\\
1&n>d\end{cases}
  </annotation>
 </semantics>
</math>

</p>

<p>holds for all <em>d</em> up to 10<sup>18</sup>, and it is conjectured that this formula holds for all <em>d</em>.<a class="footnoteRef" href="#fn13" id="fnref13"><sup>13</sup></a></p>
<h3 id="cast-as-a-collision-problem">Cast as a collision problem</h3>

<p>The birthday problem can be generalized as follows: given <em>n</em> random integers drawn from a <a href="Uniform_distribution_(discrete)" title="wikilink">discrete uniform distribution</a> with range [1,<em>d</em>], what is the probability <em>p</em>(<em>n</em>;<em>d</em>) that at least two numbers are the same? (<em>d=365</em> gives the usual birthday problem.)</p>

<p>The generic results can be derived using the same arguments given above.</p>

<p>

<math display="block" id="Birthday_problem:106">
 <semantics>
  <mrow>
   <mrow>
    <mi>p</mi>
    <mrow>
     <mo stretchy="false">(</mo>
     <mi>n</mi>
     <mo>;</mo>
     <mi>d</mi>
     <mo stretchy="false">)</mo>
    </mrow>
   </mrow>
   <mo>≈</mo>
   <mrow>
    <mn>1</mn>
    <mo>-</mo>
    <msup>
     <mi>e</mi>
     <mrow>
      <mo>-</mo>
      <mrow>
       <mrow>
        <mi>n</mi>
        <mrow>
         <mo stretchy="false">(</mo>
         <mrow>
          <mi>n</mi>
          <mo>-</mo>
          <mn>1</mn>
         </mrow>
         <mo stretchy="false">)</mo>
        </mrow>
       </mrow>
       <mo>/</mo>
       <mrow>
        <mo stretchy="false">(</mo>
        <mrow>
         <mn>2</mn>
         <mi>d</mi>
        </mrow>
        <mo stretchy="false">)</mo>
       </mrow>
      </mrow>
     </mrow>
    </msup>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <approx></approx>
    <apply>
     <times></times>
     <ci>p</ci>
     <list>
      <ci>n</ci>
      <ci>d</ci>
     </list>
    </apply>
    <apply>
     <minus></minus>
     <cn type="integer">1</cn>
     <apply>
      <csymbol cd="ambiguous">superscript</csymbol>
      <ci>e</ci>
      <apply>
       <minus></minus>
       <apply>
        <divide></divide>
        <apply>
         <times></times>
         <ci>n</ci>
         <apply>
          <minus></minus>
          <ci>n</ci>
          <cn type="integer">1</cn>
         </apply>
        </apply>
        <apply>
         <times></times>
         <cn type="integer">2</cn>
         <ci>d</ci>
        </apply>
       </apply>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   p(n;d)\approx 1-e^{-n(n-1)/(2d)}
  </annotation>
 </semantics>
</math>

</p>

<p>

<math display="block" id="Birthday_problem:107">
 <semantics>
  <mrow>
   <mrow>
    <mi>p</mi>
    <mrow>
     <mo stretchy="false">(</mo>
     <mi>n</mi>
     <mo>;</mo>
     <mi>d</mi>
     <mo stretchy="false">)</mo>
    </mrow>
   </mrow>
   <mo>≈</mo>
   <mrow>
    <mn>1</mn>
    <mo>-</mo>
    <msup>
     <mrow>
      <mo>(</mo>
      <mfrac>
       <mrow>
        <mi>d</mi>
        <mo>-</mo>
        <mn>1</mn>
       </mrow>
       <mi>d</mi>
      </mfrac>
      <mo>)</mo>
     </mrow>
     <mrow>
      <mrow>
       <mi>n</mi>
       <mrow>
        <mo stretchy="false">(</mo>
        <mrow>
         <mi>n</mi>
         <mo>-</mo>
         <mn>1</mn>
        </mrow>
        <mo stretchy="false">)</mo>
       </mrow>
      </mrow>
      <mo>/</mo>
      <mn>2</mn>
     </mrow>
    </msup>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <approx></approx>
    <apply>
     <times></times>
     <ci>p</ci>
     <list>
      <ci>n</ci>
      <ci>d</ci>
     </list>
    </apply>
    <apply>
     <minus></minus>
     <cn type="integer">1</cn>
     <apply>
      <csymbol cd="ambiguous">superscript</csymbol>
      <apply>
       <divide></divide>
       <apply>
        <minus></minus>
        <ci>d</ci>
        <cn type="integer">1</cn>
       </apply>
       <ci>d</ci>
      </apply>
      <apply>
       <divide></divide>
       <apply>
        <times></times>
        <ci>n</ci>
        <apply>
         <minus></minus>
         <ci>n</ci>
         <cn type="integer">1</cn>
        </apply>
       </apply>
       <cn type="integer">2</cn>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   p(n;d)\approx 1-\left(\frac{d-1}{d}\right)^{n(n-1)/2}
  </annotation>
 </semantics>
</math>

</p>

<p>

<math display="block" id="Birthday_problem:108">
 <semantics>
  <mrow>
   <mrow>
    <mrow>
     <mi>n</mi>
     <mrow>
      <mo stretchy="false">(</mo>
      <mi>p</mi>
      <mo>;</mo>
      <mi>d</mi>
      <mo stretchy="false">)</mo>
     </mrow>
    </mrow>
    <mo>≈</mo>
    <msqrt>
     <mrow>
      <mrow>
       <mn>2</mn>
       <mi>d</mi>
      </mrow>
      <mo>⋅</mo>
      <mrow>
       <mi>ln</mi>
       <mrow>
        <mo>(</mo>
        <mfrac>
         <mn>1</mn>
         <mrow>
          <mn>1</mn>
          <mo>-</mo>
          <mi>p</mi>
         </mrow>
        </mfrac>
        <mo>)</mo>
       </mrow>
      </mrow>
     </mrow>
    </msqrt>
   </mrow>
   <mo>.</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <approx></approx>
    <apply>
     <times></times>
     <ci>n</ci>
     <list>
      <ci>p</ci>
      <ci>d</ci>
     </list>
    </apply>
    <apply>
     <root></root>
     <apply>
      <ci>normal-⋅</ci>
      <apply>
       <times></times>
       <cn type="integer">2</cn>
       <ci>d</ci>
      </apply>
      <apply>
       <ln></ln>
       <apply>
        <divide></divide>
        <cn type="integer">1</cn>
        <apply>
         <minus></minus>
         <cn type="integer">1</cn>
         <ci>p</ci>
        </apply>
       </apply>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   n(p;d)\approx\sqrt{2d\cdot\ln\left({1\over 1-p}\right)}.
  </annotation>
 </semantics>
</math>

</p>

<p>Conversely, if <em>n(p;d)</em> denotes the number of random integers drawn from [1,<em>d</em>] to obtain a probability <em>p</em> that at least two numbers are the same, then</p>

<p>

<math display="block" id="Birthday_problem:109">
 <semantics>
  <mrow>
   <msub>
    <mi>p</mi>
    <mn>0</mn>
   </msub>
   <mo>=</mo>
   <mrow>
    <mrow>
     <mfrac>
      <mn>1</mn>
      <msup>
       <mi>d</mi>
       <mrow>
        <mi>m</mi>
        <mo>+</mo>
        <mi>n</mi>
       </mrow>
      </msup>
     </mfrac>
     <mrow>
      <munderover>
       <mo largeop="true" movablelimits="false" symmetric="true">∑</mo>
       <mrow>
        <mi>i</mi>
        <mo>=</mo>
        <mn>1</mn>
       </mrow>
       <mi>m</mi>
      </munderover>
      <mrow>
       <munderover>
        <mo largeop="true" movablelimits="false" symmetric="true">∑</mo>
        <mrow>
         <mi>j</mi>
         <mo>=</mo>
         <mn>1</mn>
        </mrow>
        <mi>n</mi>
       </munderover>
       <mrow>
        <msub>
         <mi>S</mi>
         <mn>2</mn>
        </msub>
        <mrow>
         <mo stretchy="false">(</mo>
         <mi>m</mi>
         <mo>,</mo>
         <mi>i</mi>
         <mo stretchy="false">)</mo>
        </mrow>
        <msub>
         <mi>S</mi>
         <mn>2</mn>
        </msub>
        <mrow>
         <mo stretchy="false">(</mo>
         <mi>n</mi>
         <mo>,</mo>
         <mi>j</mi>
         <mo stretchy="false">)</mo>
        </mrow>
        <mrow>
         <munderover>
          <mo largeop="true" movablelimits="false" symmetric="true">∏</mo>
          <mrow>
           <mi>k</mi>
           <mo>=</mo>
           <mn>0</mn>
          </mrow>
          <mrow>
           <mrow>
            <mi>i</mi>
            <mo>+</mo>
            <mi>j</mi>
           </mrow>
           <mo>-</mo>
           <mn>1</mn>
          </mrow>
         </munderover>
         <mi>d</mi>
        </mrow>
       </mrow>
      </mrow>
     </mrow>
    </mrow>
    <mo>-</mo>
    <mi>k</mi>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <csymbol cd="ambiguous">subscript</csymbol>
     <ci>p</ci>
     <cn type="integer">0</cn>
    </apply>
    <apply>
     <minus></minus>
     <apply>
      <times></times>
      <apply>
       <divide></divide>
       <cn type="integer">1</cn>
       <apply>
        <csymbol cd="ambiguous">superscript</csymbol>
        <ci>d</ci>
        <apply>
         <plus></plus>
         <ci>m</ci>
         <ci>n</ci>
        </apply>
       </apply>
      </apply>
      <apply>
       <apply>
        <csymbol cd="ambiguous">superscript</csymbol>
        <apply>
         <csymbol cd="ambiguous">subscript</csymbol>
         <sum></sum>
         <apply>
          <eq></eq>
          <ci>i</ci>
          <cn type="integer">1</cn>
         </apply>
        </apply>
        <ci>m</ci>
       </apply>
       <apply>
        <apply>
         <csymbol cd="ambiguous">superscript</csymbol>
         <apply>
          <csymbol cd="ambiguous">subscript</csymbol>
          <sum></sum>
          <apply>
           <eq></eq>
           <ci>j</ci>
           <cn type="integer">1</cn>
          </apply>
         </apply>
         <ci>n</ci>
        </apply>
        <apply>
         <times></times>
         <apply>
          <csymbol cd="ambiguous">subscript</csymbol>
          <ci>S</ci>
          <cn type="integer">2</cn>
         </apply>
         <interval closure="open">
          <ci>m</ci>
          <ci>i</ci>
         </interval>
         <apply>
          <csymbol cd="ambiguous">subscript</csymbol>
          <ci>S</ci>
          <cn type="integer">2</cn>
         </apply>
         <interval closure="open">
          <ci>n</ci>
          <ci>j</ci>
         </interval>
         <apply>
          <apply>
           <csymbol cd="ambiguous">superscript</csymbol>
           <apply>
            <csymbol cd="ambiguous">subscript</csymbol>
            <csymbol cd="latexml">product</csymbol>
            <apply>
             <eq></eq>
             <ci>k</ci>
             <cn type="integer">0</cn>
            </apply>
           </apply>
           <apply>
            <minus></minus>
            <apply>
             <plus></plus>
             <ci>i</ci>
             <ci>j</ci>
            </apply>
            <cn type="integer">1</cn>
           </apply>
          </apply>
          <ci>d</ci>
         </apply>
        </apply>
       </apply>
      </apply>
     </apply>
     <ci>k</ci>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   p_{0}=\frac{1}{d^{m+n}}\sum_{i=1}^{m}\sum_{j=1}^{n}S_{2}(m,i)S_{2}(n,j)\prod_{%
k=0}^{i+j-1}d-k
  </annotation>
 </semantics>
</math>

</p>

<p>The birthday problem in this more generic sense applies to <a href="hash_function" title="wikilink">hash functions</a>: the expected number of <em>N</em>-<a class="uri" href="bit" title="wikilink">bit</a> hashes that can be generated before getting a collision is not 2<sup><em>N</em></sup>, but rather only 2<sup><em>N</em>/2</sup>. This is exploited by <a href="birthday_attack" title="wikilink">birthday attacks</a> on <a href="cryptographic_hash_function" title="wikilink">cryptographic hash functions</a> and is the reason why a small number of collisions in a <a href="hash_table" title="wikilink">hash table</a> are, for all practical purposes, inevitable.</p>

<p>The theory behind the birthday problem was used by Zoe Schnabel<a class="footnoteRef" href="#fn14" id="fnref14"><sup>14</sup></a> under the name of <a href="mark_and_recapture" title="wikilink">capture-recapture</a> statistics to estimate the size of fish population in lakes.</p>
<h4 id="generalization-to-multiple-types">Generalization to multiple types</h4>

<p>The basic problem considers all trials to be of one "type". The birthday problem has been generalized to consider an arbitrary number of types.<a class="footnoteRef" href="#fn15" id="fnref15"><sup>15</sup></a> In the simplest extension there are two types of people, say <em>m</em> men and <em>n</em> women, and the problem becomes characterizing the probability of a shared birthday between at least one man and one woman. (Shared birthdays between, say, two women do not count.) The probability of <em>no</em> (i.e. zero) shared birthdays here is</p>

<p>

<math display="block" id="Birthday_problem:110">
 <semantics>
  <mrow>
   <mrow>
    <mrow>
     <mi>n</mi>
     <mrow>
      <mo stretchy="false">(</mo>
      <mi>p</mi>
      <mo>;</mo>
      <mn>365</mn>
      <mo stretchy="false">)</mo>
     </mrow>
    </mrow>
    <mo>≈</mo>
    <msqrt>
     <mrow>
      <mrow>
       <mn>2</mn>
       <mo>×</mo>
       <mn>365</mn>
      </mrow>
      <mrow>
       <mi>ln</mi>
       <mrow>
        <mo>(</mo>
        <mfrac>
         <mn>1</mn>
         <mrow>
          <mn>1</mn>
          <mo>-</mo>
          <mi>p</mi>
         </mrow>
        </mfrac>
        <mo>)</mo>
       </mrow>
      </mrow>
     </mrow>
    </msqrt>
   </mrow>
   <mo>.</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <approx></approx>
    <apply>
     <times></times>
     <ci>n</ci>
     <list>
      <ci>p</ci>
      <cn type="integer">365</cn>
     </list>
    </apply>
    <apply>
     <root></root>
     <apply>
      <times></times>
      <apply>
       <times></times>
       <cn type="integer">2</cn>
       <cn type="integer">365</cn>
      </apply>
      <apply>
       <ln></ln>
       <apply>
        <divide></divide>
        <cn type="integer">1</cn>
        <apply>
         <minus></minus>
         <cn type="integer">1</cn>
         <ci>p</ci>
        </apply>
       </apply>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   n(p;365)\approx\sqrt{2\times 365\ln\left({1\over 1-p}\right)}.
  </annotation>
 </semantics>
</math>

</p>

<p>where <em>d</em> = 365 and <em>S</em><sub>2</sub> are <a href="Stirling_numbers_of_the_second_kind" title="wikilink">Stirling numbers of the second kind</a>. Consequently, the desired probability is 1 − <em>p</em><sub>0</sub>.</p>

<p>This variation of the birthday problem is interesting because there is not a unique solution for the total number of people <em>m</em> + <em>n</em>. For example, the usual 0.5 probability value is realized for both a 32-member group of 16 men and 16 women and a 49-member group of 43 women and 6 men.</p>
<h2 id="other-birthday-problems">Other birthday problems</h2>
<h3 id="reverse-problem">Reverse problem</h3>

<p>For a fixed probability <em>p</em>:</p>
<ul>
<li>Find the greatest <em>n</em> for which the probability <em>p</em>(<em>n</em>) is smaller than the given <em>p</em>, or</li>
<li>Find the smallest <em>n</em> for which the probability <em>p</em>(<em>n</em>) is greater than the given <em>p</em>.</li>
</ul>

<p>Taking the above formula for <em>d</em> = 365 we have:</p>

<p>

<math display="block" id="Birthday_problem:111">
 <semantics>
  <mrow>
   <mrow>
    <mi>q</mi>
    <mrow>
     <mo stretchy="false">(</mo>
     <mi>n</mi>
     <mo stretchy="false">)</mo>
    </mrow>
   </mrow>
   <mo>=</mo>
   <mrow>
    <mn>1</mn>
    <mo>-</mo>
    <msup>
     <mrow>
      <mo>(</mo>
      <mfrac>
       <mrow>
        <mn>365</mn>
        <mo>-</mo>
        <mn>1</mn>
       </mrow>
       <mn>365</mn>
      </mfrac>
      <mo>)</mo>
     </mrow>
     <mi>n</mi>
    </msup>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <times></times>
     <ci>q</ci>
     <ci>n</ci>
    </apply>
    <apply>
     <minus></minus>
     <cn type="integer">1</cn>
     <apply>
      <csymbol cd="ambiguous">superscript</csymbol>
      <apply>
       <divide></divide>
       <apply>
        <minus></minus>
        <cn type="integer">365</cn>
        <cn type="integer">1</cn>
       </apply>
       <cn type="integer">365</cn>
      </apply>
      <ci>n</ci>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   q(n)=1-\left(\frac{365-1}{365}\right)^{n}
  </annotation>
 </semantics>
</math>

</p>
<h4 id="sample-calculations">Sample calculations</h4>
<table>
<thead>
<tr class="header">
<th style="text-align: left;">
<p><em>p</em></p></th>
<th style="text-align: left;">
<p><em>n</em></p></th>
<th style="text-align: left;">
<p><em>n</em>↓</p></th>
<th style="text-align: left;">
<p><em>p</em>(<em>n</em>↓)</p></th>
<th style="text-align: left;">
<p><em>n</em>↑</p></th>
<th style="text-align: left;">
<p><em>p</em>(<em>n</em>↑)</p></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">
<p><span style="color:magenta">0.01</span></p></td>
<td style="text-align: left;">
<p>0.14178√365 = <span style="color:magenta">2.70864</span></p></td>
<td style="text-align: left;">
<p>2</p></td>
<td style="text-align: left;">
<p>0.00274</p></td>
<td style="text-align: left;">
<p>3</p></td>
<td style="text-align: left;">
<p><span style="color:magenta">0.00820</span></p></td>
</tr>
<tr class="even">
<td style="text-align: left;">
<p>0.05</p></td>
<td style="text-align: left;">
<p>0.32029√365 = 6.11916</p></td>
<td style="text-align: left;">
<p>6</p></td>
<td style="text-align: left;">
<p>0.04046</p></td>
<td style="text-align: left;">
<p>7</p></td>
<td style="text-align: left;">
<p>0.05624</p></td>
</tr>
<tr class="odd">
<td style="text-align: left;">
<p><span style="color:magenta">0.1</span></p></td>
<td style="text-align: left;">
<p>0.45904√365 = <span style="color:magenta"> 8.77002</span></p></td>
<td style="text-align: left;">
<p>8</p></td>
<td style="text-align: left;">
<p>0.07434</p></td>
<td style="text-align: left;">
<p>9</p></td>
<td style="text-align: left;">
<p><span style="color:magenta">0.09462</span></p></td>
</tr>
<tr class="even">
<td style="text-align: left;">
<p><span style="color:magenta">0.2</span></p></td>
<td style="text-align: left;">
<p>0.66805√365 = <span style="color:magenta">12.76302</span></p></td>
<td style="text-align: left;">
<p>12</p></td>
<td style="text-align: left;">
<p>0.16702</p></td>
<td style="text-align: left;">
<p>13</p></td>
<td style="text-align: left;">
<p><span style="color:magenta">0.19441</span></p></td>
</tr>
<tr class="odd">
<td style="text-align: left;">
<p>0.3</p></td>
<td style="text-align: left;">
<p>0.84460√365 = 16.13607</p></td>
<td style="text-align: left;">
<p>16</p></td>
<td style="text-align: left;">
<p>0.28360</p></td>
<td style="text-align: left;">
<p>17</p></td>
<td style="text-align: left;">
<p>0.31501</p></td>
</tr>
<tr class="even">
<td style="text-align: left;">
<p>0.5</p></td>
<td style="text-align: left;">
<p>1.17741√365 = 22.49439</p></td>
<td style="text-align: left;">
<p>22</p></td>
<td style="text-align: left;">
<p>0.47570</p></td>
<td style="text-align: left;">
<p>23</p></td>
<td style="text-align: left;">
<p>0.50730</p></td>
</tr>
<tr class="odd">
<td style="text-align: left;">
<p>0.7</p></td>
<td style="text-align: left;">
<p>1.55176√365 = 29.64625</p></td>
<td style="text-align: left;">
<p>29</p></td>
<td style="text-align: left;">
<p>0.68097</p></td>
<td style="text-align: left;">
<p>30</p></td>
<td style="text-align: left;">
<p>0.70632</p></td>
</tr>
<tr class="even">
<td style="text-align: left;">
<p>0.8</p></td>
<td style="text-align: left;">
<p>1.79412√365 = 34.27666</p></td>
<td style="text-align: left;">
<p>34</p></td>
<td style="text-align: left;">
<p>0.79532</p></td>
<td style="text-align: left;">
<p>35</p></td>
<td style="text-align: left;">
<p>0.81438</p></td>
</tr>
<tr class="odd">
<td style="text-align: left;">
<p>0.9</p></td>
<td style="text-align: left;">
<p>2.14597√365 = 40.99862</p></td>
<td style="text-align: left;">
<p>40</p></td>
<td style="text-align: left;">
<p>0.89123</p></td>
<td style="text-align: left;">
<p>41</p></td>
<td style="text-align: left;">
<p>0.90315</p></td>
</tr>
<tr class="even">
<td style="text-align: left;">
<p>0.95</p></td>
<td style="text-align: left;">
<p>2.44775√365 = 46.76414</p></td>
<td style="text-align: left;">
<p>46</p></td>
<td style="text-align: left;">
<p>0.94825</p></td>
<td style="text-align: left;">
<p>47</p></td>
<td style="text-align: left;">
<p>0.95477</p></td>
</tr>
<tr class="odd">
<td style="text-align: left;">
<p><span style="color:magenta">0.99</span></p></td>
<td style="text-align: left;">
<p>3.03485√365 = <span style="color:magenta">57.98081</span></p></td>
<td style="text-align: left;">
<p>57</p></td>
<td style="text-align: left;">
<p><span style="color:magenta">0.99012</span></p></td>
<td style="text-align: left;">
<p>58</p></td>
<td style="text-align: left;">
<p>0.99166</p></td>
</tr>
</tbody>
</table>

<p>Note: some values falling outside the bounds have been <span style="color:magenta">colored</span> to show that the approximation is <strong>not</strong> always exact.</p>
<h3 id="first-match">First match</h3>

<p>A related question is, as people enter a room one at a time, which one is most likely to be the first to have the same birthday as someone already in the room? That is, for what <em>n</em> is <em>p</em>(<em>n</em>) − <em>p</em>(<em>n</em> − 1) maximum? The answer is 20—if there's a prize for first match, the best position in line is 20th.</p>
<h3 id="same-birthday-as-you">Same birthday as you</h3>

<p> Note that in the birthday problem, neither of the two people is chosen in advance. By way of contrast, the probability <em>q</em>(<em>n</em>) that someone in a room of <em>n</em> other people has the same birthday as a particular person (for example, you), is given by</p>

<p>

<math display="block" id="Birthday_problem:112">
 <semantics>
  <mrow>
   <mrow>
    <mrow>
     <mi>q</mi>
     <mrow>
      <mo stretchy="false">(</mo>
      <mi>n</mi>
      <mo>;</mo>
      <mi>d</mi>
      <mo stretchy="false">)</mo>
     </mrow>
    </mrow>
    <mo>=</mo>
    <mrow>
     <mn>1</mn>
     <mo>-</mo>
     <msup>
      <mrow>
       <mo>(</mo>
       <mfrac>
        <mrow>
         <mi>d</mi>
         <mo>-</mo>
         <mn>1</mn>
        </mrow>
        <mi>d</mi>
       </mfrac>
       <mo>)</mo>
      </mrow>
      <mi>n</mi>
     </msup>
    </mrow>
   </mrow>
   <mo>.</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <times></times>
     <ci>q</ci>
     <list>
      <ci>n</ci>
      <ci>d</ci>
     </list>
    </apply>
    <apply>
     <minus></minus>
     <cn type="integer">1</cn>
     <apply>
      <csymbol cd="ambiguous">superscript</csymbol>
      <apply>
       <divide></divide>
       <apply>
        <minus></minus>
        <ci>d</ci>
        <cn type="integer">1</cn>
       </apply>
       <ci>d</ci>
      </apply>
      <ci>n</ci>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   q(n;d)=1-\left(\frac{d-1}{d}\right)^{n}.
  </annotation>
 </semantics>
</math>

 and for general <em>d</em> by</p>

<p>

<math display="inline" id="Birthday_problem:113">
 <semantics>
  <mrow>
   <mn>253</mn>
   <mo>=</mo>
   <mfrac>
    <mrow>
     <mn>23</mn>
     <mo>×</mo>
     <mrow>
      <mo stretchy="false">(</mo>
      <mrow>
       <mn>23</mn>
       <mo>-</mo>
       <mn>1</mn>
      </mrow>
      <mo stretchy="false">)</mo>
     </mrow>
    </mrow>
    <mn>2</mn>
   </mfrac>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <cn type="integer">253</cn>
    <apply>
     <divide></divide>
     <apply>
      <times></times>
      <cn type="integer">23</cn>
      <apply>
       <minus></minus>
       <cn type="integer">23</cn>
       <cn type="integer">1</cn>
      </apply>
     </apply>
     <cn type="integer">2</cn>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   253=\frac{23\times(23-1)}{2}
  </annotation>
 </semantics>
</math>

</p>

<p>In the standard case of <em>d</em> = 365 substituting <em>n</em> = 23 gives about 6.1%, which is less than 1 chance in 16. For a greater than 50% chance that one person in a roomful of <em>n</em> people has the same birthday as <em>you</em>, <em>n</em> would need to be at least 253. Note that this number is significantly higher than 365/2 = 182.5: the reason is that it is likely that there are some birthday matches among the other people in the room.</p>

<p>It is not a coincidence that 

<math display="inline" id="Birthday_problem:114">
 <semantics>
  <mrow>
   <mi>p</mi>
   <mrow>
    <mo stretchy="false">(</mo>
    <mi>n</mi>
    <mo>,</mo>
    <mi>k</mi>
    <mo>,</mo>
    <mi>m</mi>
    <mo stretchy="false">)</mo>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <times></times>
    <ci>p</ci>
    <vector>
     <ci>n</ci>
     <ci>k</ci>
     <ci>m</ci>
    </vector>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \displaystyle p(n,k,m)
  </annotation>
 </semantics>
</math>


; a similar approximate pattern can be found using a number of possibilities different from 365, or a target probability different from 50%.</p>
<h3 id="near-matches">Near matches</h3>

<p>Another generalization is to ask what is the probability of finding at least one pair in a group of <em>n</em> people with birthdays within <em>k</em> calendar days of each other's, if there are <em>m</em> equally likely birthdays.</p>

<p>

<math display="block" id="Birthday_problem:115">
 <semantics>
  <mrow>
   <mrow>
    <mrow>
     <munderover>
      <mo largeop="true" movablelimits="false" symmetric="true">∑</mo>
      <mrow>
       <mi>k</mi>
       <mo>=</mo>
       <mn>1</mn>
      </mrow>
      <mi>n</mi>
     </munderover>
     <mrow>
      <mi>q</mi>
      <mrow>
       <mo stretchy="false">(</mo>
       <mrow>
        <mi>k</mi>
        <mo>-</mo>
        <mn>1</mn>
       </mrow>
       <mo>;</mo>
       <mi>d</mi>
       <mo stretchy="false">)</mo>
      </mrow>
     </mrow>
    </mrow>
    <mo>=</mo>
    <mrow>
     <mrow>
      <mi>n</mi>
      <mo>-</mo>
      <mi>d</mi>
     </mrow>
     <mo>+</mo>
     <mrow>
      <mi>d</mi>
      <msup>
       <mrow>
        <mo>(</mo>
        <mfrac>
         <mrow>
          <mi>d</mi>
          <mo>-</mo>
          <mn>1</mn>
         </mrow>
         <mi>d</mi>
        </mfrac>
        <mo>)</mo>
       </mrow>
       <mi>n</mi>
      </msup>
     </mrow>
    </mrow>
   </mrow>
   <mo>.</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <apply>
      <csymbol cd="ambiguous">superscript</csymbol>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <sum></sum>
       <apply>
        <eq></eq>
        <ci>k</ci>
        <cn type="integer">1</cn>
       </apply>
      </apply>
      <ci>n</ci>
     </apply>
     <apply>
      <times></times>
      <ci>q</ci>
      <list>
       <apply>
        <minus></minus>
        <ci>k</ci>
        <cn type="integer">1</cn>
       </apply>
       <ci>d</ci>
      </list>
     </apply>
    </apply>
    <apply>
     <plus></plus>
     <apply>
      <minus></minus>
      <ci>n</ci>
      <ci>d</ci>
     </apply>
     <apply>
      <times></times>
      <ci>d</ci>
      <apply>
       <csymbol cd="ambiguous">superscript</csymbol>
       <apply>
        <divide></divide>
        <apply>
         <minus></minus>
         <ci>d</ci>
         <cn type="integer">1</cn>
        </apply>
        <ci>d</ci>
       </apply>
       <ci>n</ci>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \sum_{k=1}^{n}q(k-1;d)=n-d+d\left(\frac{d-1}{d}\right)^{n}.
  </annotation>
 </semantics>
</math>

<a class="footnoteRef" href="#fn16" id="fnref16"><sup>16</sup></a></p>

<p>The number of people required so that the probability that some pair will have a birthday separated by <em>k</em> days or fewer will be higher than 50% is:</p>
<table>
<thead>
<tr class="header">
<th style="text-align: left;">
<p><em>k</em></p></th>
<th style="text-align: left;"><ol>
<li>people required(i.e. <em>n</em>) when <em>m</em>=365</li>
</ol></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">
<p>0</p></td>
<td style="text-align: left;">
<p>23</p></td>
</tr>
<tr class="even">
<td style="text-align: left;">
<p>1</p></td>
<td style="text-align: left;">
<p>14</p></td>
</tr>
<tr class="odd">
<td style="text-align: left;">
<p>2</p></td>
<td style="text-align: left;">
<p>11</p></td>
</tr>
<tr class="even">
<td style="text-align: left;">
<p>3</p></td>
<td style="text-align: left;">
<p>9</p></td>
</tr>
<tr class="odd">
<td style="text-align: left;">
<p>4</p></td>
<td style="text-align: left;">
<p>8</p></td>
</tr>
<tr class="even">
<td style="text-align: left;">
<p>5</p></td>
<td style="text-align: left;">
<p>8</p></td>
</tr>
<tr class="odd">
<td style="text-align: left;">
<p>6</p></td>
<td style="text-align: left;">
<p>7</p></td>
</tr>
<tr class="even">
<td style="text-align: left;">
<p>7</p></td>
<td style="text-align: left;">
<p>7</p></td>
</tr>
</tbody>
</table>

<p>Thus in a group of just seven random people, it is more likely than not that two of them will have a birthday within a week of each other.<a class="footnoteRef" href="#fn17" id="fnref17"><sup>17</sup></a></p>
<h3 id="collision-counting">Collision counting</h3>

<p>The probability that the <em>k</em>th integer randomly chosen from [1, <em>d</em>] will repeat at least one previous choice equals <em>q</em>(<em>k</em> − 1; <em>d</em>) above. The expected total number of times a selection will repeat a previous selection as <em>n</em> such integers are chosen equals<a class="footnoteRef" href="#fn18" id="fnref18"><sup>18</sup></a></p>

<p>

<math display="inline" id="Birthday_problem:116">
 <semantics>
  <mrow>
   <mpadded width="+1.7pt">
    <mover accent="true">
     <mi>n</mi>
     <mo>¯</mo>
    </mover>
   </mpadded>
   <mo>=</mo>
   <mrow>
    <mn>1</mn>
    <mo>+</mo>
    <mrow>
     <mi>Q</mi>
     <mrow>
      <mo stretchy="false">(</mo>
      <mi>M</mi>
      <mo stretchy="false">)</mo>
     </mrow>
    </mrow>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <ci>normal-¯</ci>
     <ci>n</ci>
    </apply>
    <apply>
     <plus></plus>
     <cn type="float">1</cn>
     <apply>
      <times></times>
      <ci>Q</ci>
      <ci>M</ci>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \overline{n}\,=\,1+Q(M)
  </annotation>
 </semantics>
</math>

</p>
<h3 id="average-number-of-people">Average number of people</h3>

<p>In an alternative formulation of the birthday problem, one asks the <em>average</em> number of people required to find a pair with the same birthday. If we consider the probability function Pr[<em>n</em> people have at least one shared birthday], this <em>average</em> is determining the <a class="uri" href="Mean" title="wikilink">Mean</a> of the distribution, as opposed to the customary formulation which determines the <a class="uri" href="Median" title="wikilink">Median</a>. The problem is relevant to several <a href="hash_function" title="wikilink">hashing algorithms</a> analyzed by <a href="Donald_Knuth" title="wikilink">Donald Knuth</a> in his book <em><a href="The_Art_of_Computer_Programming" title="wikilink">The Art of Computer Programming</a></em>. It may be shown<a class="footnoteRef" href="#fn19" id="fnref19"><sup>19</sup></a><a class="footnoteRef" href="#fn20" id="fnref20"><sup>20</sup></a> that if one samples uniformly, with replacement, from a population of size <em>M</em>, the number of trials required for the first repeated sampling of <em>some</em> individual has <a href="expected_value" title="wikilink">expected value</a> 

<math display="block" id="Birthday_problem:117">
 <semantics>
  <mrow>
   <mrow>
    <mrow>
     <mi>Q</mi>
     <mrow>
      <mo stretchy="false">(</mo>
      <mi>M</mi>
      <mo stretchy="false">)</mo>
     </mrow>
    </mrow>
    <mo>=</mo>
    <mrow>
     <munderover>
      <mo largeop="true" movablelimits="false" symmetric="true">∑</mo>
      <mrow>
       <mi>k</mi>
       <mo>=</mo>
       <mn>1</mn>
      </mrow>
      <mi>M</mi>
     </munderover>
     <mfrac>
      <mrow>
       <mi>M</mi>
       <mo lspace="0pt" rspace="3.5pt">!</mo>
      </mrow>
      <mrow>
       <mrow>
        <mrow>
         <mo stretchy="false">(</mo>
         <mrow>
          <mi>M</mi>
          <mo>-</mo>
          <mi>k</mi>
         </mrow>
         <mo stretchy="false">)</mo>
        </mrow>
        <mo lspace="0pt" rspace="3.5pt">!</mo>
       </mrow>
       <msup>
        <mi>M</mi>
        <mi>k</mi>
       </msup>
      </mrow>
     </mfrac>
    </mrow>
   </mrow>
   <mo>.</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <times></times>
     <ci>Q</ci>
     <ci>M</ci>
    </apply>
    <apply>
     <apply>
      <csymbol cd="ambiguous">superscript</csymbol>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <sum></sum>
       <apply>
        <eq></eq>
        <ci>k</ci>
        <cn type="integer">1</cn>
       </apply>
      </apply>
      <ci>M</ci>
     </apply>
     <apply>
      <divide></divide>
      <apply>
       <factorial></factorial>
       <ci>M</ci>
      </apply>
      <apply>
       <times></times>
       <apply>
        <factorial></factorial>
        <apply>
         <minus></minus>
         <ci>M</ci>
         <ci>k</ci>
        </apply>
       </apply>
       <apply>
        <csymbol cd="ambiguous">superscript</csymbol>
        <ci>M</ci>
        <ci>k</ci>
       </apply>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   Q(M)=\sum_{k=1}^{M}\frac{M!}{(M-k)!M^{k}}.
  </annotation>
 </semantics>
</math>

, where</p>

<p>

<math display="block" id="Birthday_problem:118">
 <semantics>
  <mrow>
   <mrow>
    <mi>Q</mi>
    <mrow>
     <mo stretchy="false">(</mo>
     <mi>M</mi>
     <mo stretchy="false">)</mo>
    </mrow>
   </mrow>
   <mo>=</mo>
   <mrow>
    <mn>1</mn>
    <mo>+</mo>
    <mfrac>
     <mrow>
      <mi>M</mi>
      <mo>-</mo>
      <mn>1</mn>
     </mrow>
     <mi>M</mi>
    </mfrac>
    <mo>+</mo>
    <mfrac>
     <mrow>
      <mrow>
       <mo stretchy="false">(</mo>
       <mrow>
        <mi>M</mi>
        <mo>-</mo>
        <mn>1</mn>
       </mrow>
       <mo stretchy="false">)</mo>
      </mrow>
      <mrow>
       <mo stretchy="false">(</mo>
       <mrow>
        <mi>M</mi>
        <mo>-</mo>
        <mn>2</mn>
       </mrow>
       <mo stretchy="false">)</mo>
      </mrow>
     </mrow>
     <msup>
      <mi>M</mi>
      <mn>2</mn>
     </msup>
    </mfrac>
    <mo>+</mo>
    <mi mathvariant="normal">⋯</mi>
    <mo>+</mo>
    <mfrac>
     <mrow>
      <mrow>
       <mo stretchy="false">(</mo>
       <mrow>
        <mi>M</mi>
        <mo>-</mo>
        <mn>1</mn>
       </mrow>
       <mo stretchy="false">)</mo>
      </mrow>
      <mrow>
       <mo stretchy="false">(</mo>
       <mrow>
        <mi>M</mi>
        <mo>-</mo>
        <mn>2</mn>
       </mrow>
       <mo stretchy="false">)</mo>
      </mrow>
      <mi mathvariant="normal">⋯</mi>
      <mn>1</mn>
     </mrow>
     <msup>
      <mi>M</mi>
      <mrow>
       <mi>M</mi>
       <mo>-</mo>
       <mn>1</mn>
      </mrow>
     </msup>
    </mfrac>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <times></times>
     <ci>Q</ci>
     <ci>M</ci>
    </apply>
    <apply>
     <plus></plus>
     <cn type="integer">1</cn>
     <apply>
      <divide></divide>
      <apply>
       <minus></minus>
       <ci>M</ci>
       <cn type="integer">1</cn>
      </apply>
      <ci>M</ci>
     </apply>
     <apply>
      <divide></divide>
      <apply>
       <times></times>
       <apply>
        <minus></minus>
        <ci>M</ci>
        <cn type="integer">1</cn>
       </apply>
       <apply>
        <minus></minus>
        <ci>M</ci>
        <cn type="integer">2</cn>
       </apply>
      </apply>
      <apply>
       <csymbol cd="ambiguous">superscript</csymbol>
       <ci>M</ci>
       <cn type="integer">2</cn>
      </apply>
     </apply>
     <ci>normal-⋯</ci>
     <apply>
      <divide></divide>
      <apply>
       <times></times>
       <apply>
        <minus></minus>
        <ci>M</ci>
        <cn type="integer">1</cn>
       </apply>
       <apply>
        <minus></minus>
        <ci>M</ci>
        <cn type="integer">2</cn>
       </apply>
       <ci>normal-⋯</ci>
       <cn type="integer">1</cn>
      </apply>
      <apply>
       <csymbol cd="ambiguous">superscript</csymbol>
       <ci>M</ci>
       <apply>
        <minus></minus>
        <ci>M</ci>
        <cn type="integer">1</cn>
       </apply>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   Q(M)=1+\frac{M-1}{M}+\frac{(M-1)(M-2)}{M^{2}}+\cdots+\frac{(M-1)(M-2)\cdots 1}%
{M^{M-1}}
  </annotation>
 </semantics>
</math>

</p>

<p>The function</p>

<p>

<math display="block" id="Birthday_problem:119">
 <semantics>
  <mrow>
   <mrow>
    <mrow>
     <mi>Q</mi>
     <mrow>
      <mo stretchy="false">(</mo>
      <mi>M</mi>
      <mo stretchy="false">)</mo>
     </mrow>
    </mrow>
    <mo>∼</mo>
    <mrow>
     <mrow>
      <mrow>
       <mrow>
        <msqrt>
         <mfrac>
          <mrow>
           <mi>π</mi>
           <mi>M</mi>
          </mrow>
          <mn>2</mn>
         </mfrac>
        </msqrt>
        <mo>-</mo>
        <mfrac>
         <mn>1</mn>
         <mn>3</mn>
        </mfrac>
       </mrow>
       <mo>+</mo>
       <mrow>
        <mfrac>
         <mn>1</mn>
         <mn>12</mn>
        </mfrac>
        <msqrt>
         <mfrac>
          <mi>π</mi>
          <mrow>
           <mn>2</mn>
           <mi>M</mi>
          </mrow>
         </mfrac>
        </msqrt>
       </mrow>
      </mrow>
      <mo>-</mo>
      <mfrac>
       <mn>4</mn>
       <mrow>
        <mn>135</mn>
        <mi>M</mi>
       </mrow>
      </mfrac>
     </mrow>
     <mo>+</mo>
     <mi mathvariant="normal">⋯</mi>
    </mrow>
   </mrow>
   <mo>.</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <csymbol cd="latexml">similar-to</csymbol>
    <apply>
     <times></times>
     <ci>Q</ci>
     <ci>M</ci>
    </apply>
    <apply>
     <plus></plus>
     <apply>
      <minus></minus>
      <apply>
       <plus></plus>
       <apply>
        <minus></minus>
        <apply>
         <root></root>
         <apply>
          <divide></divide>
          <apply>
           <times></times>
           <ci>π</ci>
           <ci>M</ci>
          </apply>
          <cn type="integer">2</cn>
         </apply>
        </apply>
        <apply>
         <divide></divide>
         <cn type="integer">1</cn>
         <cn type="integer">3</cn>
        </apply>
       </apply>
       <apply>
        <times></times>
        <apply>
         <divide></divide>
         <cn type="integer">1</cn>
         <cn type="integer">12</cn>
        </apply>
        <apply>
         <root></root>
         <apply>
          <divide></divide>
          <ci>π</ci>
          <apply>
           <times></times>
           <cn type="integer">2</cn>
           <ci>M</ci>
          </apply>
         </apply>
        </apply>
       </apply>
      </apply>
      <apply>
       <divide></divide>
       <cn type="integer">4</cn>
       <apply>
        <times></times>
        <cn type="integer">135</cn>
        <ci>M</ci>
       </apply>
      </apply>
     </apply>
     <ci>normal-⋯</ci>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   Q(M)\sim\sqrt{\frac{\pi M}{2}}-\frac{1}{3}+\frac{1}{12}\sqrt{\frac{\pi}{2M}}-%
\frac{4}{135M}+\cdots.
  </annotation>
 </semantics>
</math>

</p>

<p>has been studied by <a href="Srinivasa_Ramanujan" title="wikilink">Srinivasa Ramanujan</a> and has <a href="asymptotic_expansion" title="wikilink">asymptotic expansion</a>:</p>

<p>

<math display="inline" id="Birthday_problem:120">
 <semantics>
  <mrow>
   <mpadded width="+1.7pt">
    <mover accent="true">
     <mi>n</mi>
     <mo>¯</mo>
    </mover>
   </mpadded>
   <mo>=</mo>
   <mrow>
    <mn>1</mn>
    <mo>+</mo>
    <mrow>
     <mi>Q</mi>
     <mrow>
      <mo stretchy="false">(</mo>
      <mi>M</mi>
      <mo stretchy="false">)</mo>
     </mrow>
    </mrow>
   </mrow>
   <mo>≈</mo>
   <mn>24.61659</mn>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <and></and>
    <apply>
     <eq></eq>
     <apply>
      <ci>normal-¯</ci>
      <ci>n</ci>
     </apply>
     <apply>
      <plus></plus>
      <cn type="float">1</cn>
      <apply>
       <times></times>
       <ci>Q</ci>
       <ci>M</ci>
      </apply>
     </apply>
    </apply>
    <apply>
     <approx></approx>
     <share href="#.cmml">
     </share>
     <cn type="float">24.61659</cn>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \scriptstyle\overline{n}\,=\,1+Q(M)\approx 24.61659
  </annotation>
 </semantics>
</math>

</p>

<p>With <em>M</em> = 365 days in a year, the average number of people required to find a pair with the same birthday is 

<math display="inline" id="Birthday_problem:121">
 <semantics>
  <mrow>
   <mn>1</mn>
   <mo>,</mo>
   <mn>000</mn>
   <mo>,</mo>
   <mrow>
    <mn>000</mn>
    <msqrt>
     <mi>N</mi>
    </msqrt>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <list>
    <cn type="integer">1</cn>
    <cn type="integer">000</cn>
    <apply>
     <times></times>
     <cn type="integer">000</cn>
     <apply>
      <root></root>
      <ci>N</ci>
     </apply>
    </apply>
   </list>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \scriptstyle 1,000,000\sqrt{N}
  </annotation>
 </semantics>
</math>

, somewhat more than 23, the number required for a 50% chance. In the best case, two people will suffice; at worst, the maximum possible number of <em>M</em> + 1 = 366 people is needed; but on <a class="uri" href="average" title="wikilink">average</a>, only 25 people are required.</p>

<p>An <em>informal</em> demonstration of the problem can be made from the <a href="list_of_Prime_Ministers_of_Australia" title="wikilink">list of Prime Ministers of Australia</a>, of which there have been 27, in which <a href="Paul_Keating" title="wikilink">Paul Keating</a>, the 24th Prime Minister, and <a href="Edmund_Barton" title="wikilink">Edmund Barton</a>, the first Prime Minister, share the same birthday, 18 January.</p>

<p>In the <a href="2014_FIFA_World_Cup" title="wikilink">2014 FIFA World Cup</a>, each of the 32 squads had 23 players. An analysis of the official squad lists suggested that 16 squads had pairs of players sharing birthdays, and of these 5 squads had two pairs: Argentina, France, Iran, South Korea and Switzerland each had two pairs, and Australia, Bosnia Herzegovina, Brazil, Cameroon, Colombia, Honduras, Netherlands, Nigeria, Russia, Spain and USA each with one pair.<a class="footnoteRef" href="#fn21" id="fnref21"><sup>21</sup></a></p>
<h2 id="partition-problem">Partition problem</h2>

<p>A related problem is the <a href="partition_problem" title="wikilink">partition problem</a>, a variant of the <a href="knapsack_problem" title="wikilink">knapsack problem</a> from operations research. Some weights are put on a <a href="Weighing_scale" title="wikilink">balance scale</a>; each weight is an integer number of grams randomly chosen between one gram and one million grams (one metric ton). The question is whether one can usually (that is, with probability close to 1) transfer the weights between the left and right arms to balance the scale. (In case the sum of all the weights is an odd number of grams, a discrepancy of one gram is allowed.) If there are only two or three weights, the answer is very clearly no; although there are some combinations which work, the majority of randomly selected combinations of three weights do not. If there are very many weights, the answer is clearly yes. The question is, how many are just sufficient? That is, what is the number of weights such that it is equally likely for it to be possible to balance them as it is to be impossible?</p>

<p>Some people's intuition is that the answer is above 100,000. Most people's intuition is that it is in the thousands or tens of thousands, while others feel it should at least be in the hundreds. The correct answer is 23.</p>

<p>The reason is that the correct comparison is to the number of partitions of the weights into left and right. There are 2<sup><em>N</em>−1</sup> different partitions for <em>N</em> weights, and the left sum minus the right sum can be thought of as a new random quantity for each partition. The distribution of the sum of weights is approximately <a href="normal_distribution" title="wikilink">Gaussian</a>, with a peak at 1,000,000 <em>N</em> and width 

<math display="inline" id="Birthday_problem:122">
 <semantics>
  <mrow>
   <mn>1</mn>
   <mo>,</mo>
   <mn>000</mn>
   <mo>,</mo>
   <mrow>
    <mn>000</mn>
    <msqrt>
     <mi>N</mi>
    </msqrt>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <list>
    <cn type="integer">1</cn>
    <cn type="integer">000</cn>
    <apply>
     <times></times>
     <cn type="integer">000</cn>
     <apply>
      <root></root>
      <ci>N</ci>
     </apply>
    </apply>
   </list>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \scriptstyle 1,000,000\sqrt{N}
  </annotation>
 </semantics>
</math>

, so that when 2<sup><em>N</em>−1</sup> is approximately equal to <span class="LaTeX">$\scriptstyle 1,000,000\sqrt{N}$</span> the transition occurs. 2<sup>23−1</sup> is about 4 million, while the width of the distribution is only 5 million.<a class="footnoteRef" href="#fn22" id="fnref22"><sup>22</sup></a></p>
<h2 id="in-fiction">In fiction</h2>

<p><a href="Arthur_C._Clarke" title="wikilink">Arthur C. Clarke</a>'s novel <em><a href="A_Fall_of_Moondust" title="wikilink">A Fall of Moondust</a></em>, published in 1961, contains a section where the main characters, trapped underground for an indefinite amount of time, are celebrating a birthday and find themselves discussing the validity of the Birthday problem. As stated by a physicist passenger: "If you have a group of more than twenty-four people, the odds are better than even that two of them have the same birthday." Eventually, out of 22 present, it is revealed that two characters share the same birthday, May 23.</p>
<h2 id="notes-and-references">Notes and references</h2>
<h2 id="bibliography">Bibliography</h2>
<ul>
<li></li>
<li></li>
<li></li>
<li></li>
<li></li>
<li></li>
<li></li>
</ul>
<h2 id="external-links">External links</h2>
<ul>
<li><a class="uri" href="http://www.efgh.com/math/birthday.htm">http://www.efgh.com/math/birthday.htm</a></li>
<li></li>
<li><a href="http://www.damninteresting.com/?p=402">A humorous article explaining the paradox</a></li>
<li><a href="http://wiki.stat.ucla.edu/socr/index.php/SOCR_EduMaterials_Activities_BirthdayExperiment">SOCR EduMaterials activities birthday experiment</a></li>
<li><a href="http://betterexplained.com/articles/understanding-the-birthday-paradox/">Understanding the Birthday Problem (Better Explained)</a></li>
<li><a href="http://www.matifutbol.com/en/eurobirthdays.html">Eurobirthdays 2012. A birthday problem.</a> A practical football example of the birthday paradox.</li>
<li></li>
</ul>

<p>"</p>

<p><a href="Category:Probability_theory_paradoxes" title="wikilink">Category:Probability theory paradoxes</a> <a href="Category:Named_probability_problems" title="wikilink">Category:Named probability problems</a> <a href="Category:Applied_probability" title="wikilink">Category:Applied probability</a> <a class="uri" href="Category:Birthdays" title="wikilink">Category:Birthdays</a> <a href="Category:Mathematical_problems" title="wikilink">Category:Mathematical problems</a> <a class="uri" href="Category:Coincidence" title="wikilink">Category:Coincidence</a></p>
<section class="footnotes">
<hr/>
<ol>
<li id="fn1">This is not a <a class="uri" href="paradox" title="wikilink">paradox</a> in the sense of leading to a <a href="logic" title="wikilink">logical</a> contradiction, but is called a paradox because the mathematical truth contradicts naive <a href="intuition_(knowledge)" title="wikilink">intuition</a>: an intuitive guess would suggest that the chance of two individuals sharing the same birthday in a group of 23 is much lower than 50%, but the birthday problem demonstrates that this is not the case.<a href="#fnref1">↩</a></li>
<li id="fn2"><a href="W._W._Rouse_Ball" title="wikilink">W. W. Rouse Ball</a>, 1960, <em>Other Questions on Probability</em>, in ''Mathematical Recreations and Essays, Macmillan', New York, p 45.<a href="#fnref2">↩</a></li>
<li id="fn3"><a href="http://www.teacherlink.org/content/math/interactive/probability/lessonplans/birthday/home.html">The Birthday Problem</a><a href="#fnref3">↩</a></li>
<li id="fn4"></li>
<li id="fn5"><a href="#fnref5">↩</a></li>
<li id="fn6"><a href="#fnref6">↩</a></li>
<li id="fn7">Jim Gray, Catharine van Ingen. <a href="http://arxiv.org/abs/cs/0701166">Empirical Measurements of Disk Failure Rates and Error Rates</a><a href="#fnref7">↩</a></li>
<li id="fn8"><a href="#fnref8">↩</a></li>
<li id="fn9"><a href="#fnref9">↩</a></li>
<li id="fn10"><a href="#fnref10">↩</a></li>
<li id="fn11"></li>
<li id="fn12"><a href="#fnref12">↩</a></li>
<li id="fn13"></li>
<li id="fn14">Z. E. Schnabel (1938) <em>The Estimation of the Total Fish Population of a Lake</em>, <a href="American_Mathematical_Monthly" title="wikilink">American Mathematical Monthly</a> <strong>45</strong>, 348–352.<a href="#fnref14">↩</a></li>
<li id="fn15"><a href="Michael_Christopher_Wendl" title="wikilink">M. C. Wendl</a> (2003) <em><a href="http://dx.doi.org/10.1016/S0167-7152(03)00168-8">Collision Probability Between Sets of Random Variables</a></em>, Statistics and Probability Letters <strong>64</strong>(3), 249–254.<a href="#fnref15">↩</a></li>
<li id="fn16">M. Abramson and W. O. J. Moser (1970) <em>More Birthday Surprises</em>, <a href="American_Mathematical_Monthly" title="wikilink">American Mathematical Monthly</a> <strong>77</strong>, 856–858<a href="#fnref16">↩</a></li>
<li id="fn17"></li>
<li id="fn18"><a href="#fnref18">↩</a></li>
<li id="fn19">D. E. Knuth; <em><a href="The_Art_of_Computer_Programming" title="wikilink">The Art of Computer Programming</a>. Vol. 3, Sorting and Searching</em> (Addison-Wesley, Reading, Massachusetts, 1973)<a href="#fnref19">↩</a></li>
<li id="fn20">P. Flajolet, P. J. Grabner, P. Kirschenhofer, H. Prodinger (1995), <em>On Ramanujan's Q-Function</em>, Journal of Computational and Applied Mathematics <strong>58</strong>, 103–116<a href="#fnref20">↩</a></li>
<li id="fn21"><a class="uri" href="http://www.bbc.co.uk/news/magazine-27835311">http://www.bbc.co.uk/news/magazine-27835311</a><a href="#fnref21">↩</a></li>
<li id="fn22">C. Borgs, J. Chayes, and B. Pittel (2001) <em>Phase Transition and Finite Size Scaling in the Integer Partition Problem</em>, Random Structures and Algorithms <strong>19</strong>(3–4), 247–288.<a href="#fnref22">↩</a></li>
</ol>
</section>
</body>
</html>
