   De Boor's algorithm      De Boor's algorithm   In the mathematical subfield of numerical analysis the de Boor's algorithm is a fast and numerically stable  algorithm for evaluating spline curves in B-spline form. It is a generalization of the de Casteljau's algorithm for BÃ©zier curves . The algorithm was devised by Carl R. de Boor . Simplified, potentially faster variants of the de Boor algorithm have been created but they suffer from comparatively lower stability. 1 2  Introduction  The general setting is as follows. We would like to construct a curve whose shape is described by a sequence of p points     ğ  0   ,   ğ  1   ,  â€¦  ,   ğ   p  -  1        subscript  ğ  0    subscript  ğ  1   normal-â€¦   subscript  ğ    p  1      \mathbf{d}_{0},\mathbf{d}_{1},\dots,\mathbf{d}_{p-1}   , which plays the role of a control polygon . The curve can be described as a function    ğ¬   (  x  )       ğ¬  x    \mathbf{s}(x)   of one parameter x . To pass through the sequence of points, the curve must satisfy      ğ¬   (   u  0   )    =    ğ  0   ,  â€¦    ,    ğ¬   (   u   p  -  1    )    =   ğ   p  -  1        formulae-sequence      ğ¬   subscript  u  0      subscript  ğ  0   normal-â€¦        ğ¬   subscript  u    p  1      subscript  ğ    p  1       \mathbf{s}(u_{0})=\mathbf{d}_{0},\dots,\mathbf{s}(u_{p-1})=\mathbf{d}_{p-1}   . But this is not quite the case: in general we are satisfied that the curve "approximates" the control polygon. We assume that u 0 , ..., u p-1 are given to us along with     ğ  0   ,   ğ  1   ,  â€¦  ,   ğ   p  -  1        subscript  ğ  0    subscript  ğ  1   normal-â€¦   subscript  ğ    p  1      \mathbf{d}_{0},\mathbf{d}_{1},\dots,\mathbf{d}_{p-1}   .  One approach to solve this problem is by splines . A spline is a curve that is a piecewise n th degree polynomial. This means that, on any interval [u i , u i+1 ) , the curve must be equal to a polynomial of degree at most n . It may be equal to different polynomials on different intervals. The polynomials must be synchronized : when the polynomials from intervals [u i-1 , u i ) and [u i , u i+1 ) meet at the point u i , they must have the same value at this point and their derivatives must be equal (to ensure that the curve is smooth).  De Boor's algorithm is an algorithm which, given u 0 , ..., u p-1 and     ğ  0   ,   ğ  1   ,  â€¦  ,   ğ   p  -  1        subscript  ğ  0    subscript  ğ  1   normal-â€¦   subscript  ğ    p  1      \mathbf{d}_{0},\mathbf{d}_{1},\dots,\mathbf{d}_{p-1}   , finds the value of spline curve    ğ¬   (  x  )       ğ¬  x    \mathbf{s}(x)   at a point x . It uses O (n 2 ) + O (n + p) operations where n is the degree and p the number of control points of s .  Outline of the algorithm  Suppose we want to evaluate the spline curve for a parameter value    x  âˆˆ   [   u  â„“   ,   u   â„“  +  1    ]       x    subscript  u  normal-â„“    subscript  u    normal-â„“  1       x\in[u_{\ell},u_{\ell+1}]   . We can express the curve as        ğ¬   (  x  )    =    âˆ‘   i  =  0    p  -  1      ğ  i    N  i  n    (  x  )      ,        ğ¬  x     superscript   subscript     i  0      p  1       subscript  ğ  i    superscript   subscript  N  i   n   x      \mathbf{s}(x)=\sum_{i=0}^{p-1}\mathbf{d}_{i}N_{i}^{n}(x),   where 3         N  i  n    (  x  )    =      x  -   u  i      u   i  +  n    -   u  i      N  i   n  -  1     (  x  )    +      u   i  +  n  +  1    -  x     u   i  +  n  +  1    -   u   i  +  1       N   i  +  1    n  -  1     (  x  )      ,         superscript   subscript  N  i   n   x           x   subscript  u  i       subscript  u    i  n     subscript  u  i      superscript   subscript  N  i     n  1    x          subscript  u    i  n  1    x      subscript  u    i  n  1     subscript  u    i  1       superscript   subscript  N    i  1      n  1    x      N_{i}^{n}(x)=\frac{x-u_{i}}{u_{i+n}-u_{i}}N_{i}^{n-1}(x)+\frac{u_{i+n+1}-x}{u_%
 {i+n+1}-u_{i+1}}N_{i+1}^{n-1}(x),     and       N  i  0    (  x  )   =   {      1  ,       if  x   âˆˆ   [   u  i   ,   u   i  +  1    )         0  ,     otherwise         fragments   superscript   subscript  N  i   0    fragments  normal-(  x  normal-)     fragments  normal-{    1      if  x     subscript  u  i    subscript  u    i  1        0  otherwise       N_{i}^{0}(x)=\left\{\begin{matrix}1,&\mbox{if }x\in[u_{i},u_{i+1})\\
 0,&\mbox{otherwise }\end{matrix}\right.     Due to the spline locality property,       ğ¬   (  x  )    =    âˆ‘   i  =   â„“  -  n    â„“     ğ  i    N  i  n    (  x  )           ğ¬  x     superscript   subscript     i    normal-â„“  n     normal-â„“      subscript  ğ  i    superscript   subscript  N  i   n   x      \mathbf{s}(x)=\sum_{i=\ell-n}^{\ell}\mathbf{d}_{i}N_{i}^{n}(x)   So the value    ğ¬   (  x  )       ğ¬  x    \mathbf{s}(x)   is determined by the control points     ğ   â„“  -  n    ,   ğ    â„“  -  n   +  1    ,  â€¦  ,   ğ  â„“       subscript  ğ    normal-â„“  n     subscript  ğ      normal-â„“  n   1    normal-â€¦   subscript  ğ  normal-â„“     \mathbf{d}_{\ell-n},\mathbf{d}_{\ell-n+1},\dots,\mathbf{d}_{\ell}   ; the other control points    ğ  i     subscript  ğ  i    \mathbf{d}_{i}   have no influence. De Boor's algorithm, described in the next section, is a procedure which efficiently calculates the expression for    ğ¬   (  x  )       ğ¬  x    \mathbf{s}(x)   .  The algorithm  Suppose    x  âˆˆ   [   u  â„“   ,   u   â„“  +  1    )       x    subscript  u  normal-â„“    subscript  u    normal-â„“  1       x\in[u_{\ell},u_{\ell+1})   and     ğ  i   [  0  ]    =   ğ  i        superscript   subscript  ğ  i    delimited-[]  0     subscript  ğ  i     \mathbf{d}_{i}^{[0]}=\mathbf{d}_{i}   for    i  =    â„“  -  n   ,  â€¦  ,  â„“       i     normal-â„“  n   normal-â€¦  normal-â„“     i=\ell-n,\dots,\ell   . Now calculate        ğ  i   [  k  ]    =     (   1  -   Î±   k  ,  i     )    ğ   i  -  1    [   k  -  1   ]     +    Î±   k  ,  i     ğ  i   [   k  -  1   ]       ;    k  =   1  ,  â€¦  ,  n    ;   i  =     â„“  -  n   +  k   ,  â€¦  ,  â„“        formulae-sequence     superscript   subscript  ğ  i    delimited-[]  k          1   subscript  Î±   k  i      superscript   subscript  ğ    i  1     delimited-[]    k  1         subscript  Î±   k  i     superscript   subscript  ğ  i    delimited-[]    k  1         formulae-sequence    k   1  normal-â€¦  n      i       normal-â„“  n   k   normal-â€¦  normal-â„“       \mathbf{d}_{i}^{[k]}=(1-\alpha_{k,i})\mathbf{d}_{i-1}^{[k-1]}+\alpha_{k,i}%
 \mathbf{d}_{i}^{[k-1]};\qquad k=1,\dots,n;\quad i=\ell-n+k,\dots,\ell   with        Î±   k  ,  i    =    x  -   u  i      u    i  +  n  +  1   -  k    -   u  i      .       subscript  Î±   k  i        x   subscript  u  i       subscript  u      i  n  1   k     subscript  u  i       \alpha_{k,i}=\frac{x-u_{i}}{u_{i+n+1-k}-u_{i}}.   Then     ğ¬   (  x  )    =   ğ  â„“   [  n  ]          ğ¬  x    superscript   subscript  ğ  normal-â„“    delimited-[]  n      \mathbf{s}(x)=\mathbf{d}_{\ell}^{[n]}   .  See also   De Casteljau's algorithm  BÃ©zier curve  NURBS   External links   De Boor's Algorithm  The DeBoor-Cox Calculation   Computer code  TinySpline: Open source C-library for splines which implements De Boor's algorithm  References    "  Category:Numerical analysis  Category:Splines  Category:Interpolation     â†©  â†©  http://www.cs.mtu.edu/~shene/COURSES/cs3621/NOTES/spline/B-spline/bspline-basis.html â†©     