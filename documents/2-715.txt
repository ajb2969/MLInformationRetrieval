   Riemann sum      Riemann sum   (Figure)  Four of the Riemann summation methods for approximating the area under curves. Right  and left methods make the approximation using the right and left endpoints of each subinterval, respectively. Maximum and minimum methods make the approximation using the largest and smallest endpoint values of each subinterval, respectively. The values of the sums converge as the subintervals halve from top-left to bottom-right.   In mathematics , a Riemann sum is an approximation that takes the form Σ f(x)*Δx. It is named after German mathematician Bernhard Riemann . One very common application is approximating the area of functions or lines on a graph, but also the length of curves and other approximations.  The sum is calculated by dividing the region up into shapes ( rectangles , trapezoids , parabolas , or cubics ) that together form a region that is similar to the region being measured, then calculating the area for each of these shapes, and finally adding all of these small areas together. This approach can be used to find a numerical approximation for a definite integral even if the fundamental theorem of calculus does not make it easy to find a closed-form solution .  Because the region filled by the small shapes is usually not exactly the same shape as the region being measured, the Riemann sum will differ from the area being measured. This error can be reduced by dividing up the region more finely, using smaller and smaller shapes. As the shapes get smaller and smaller, the sum approaches the Riemann integral .  Definition  Let f : D → R be a function defined on a subset, D , of the real line, R . Let I = [ a , b ] be a closed interval contained in D , and let       P  =   {   [   x  0   ,   x  1   ]   ,   [   x  1   ,   x  2   ]   ,  …  ,   [   x   n  -  1    ,   x  n   ]   }    ,      P     subscript  x  0    subscript  x  1      subscript  x  1    subscript  x  2    normal-…    subscript  x    n  1     subscript  x  n       P=\left\{[x_{0},x_{1}],[x_{1},x_{2}],\dots,[x_{n-1},x_{n}]\right\},   be a partition of I , where      x  i  *     superscript   subscript  x  i      x_{i}^{*}   Notice the use of "a" instead of "the" in the previous sentence. This is due to the fact that the choice of    [   x   i  -  1    ,   x  i   ]      subscript  x    i  1     subscript  x  i     [x_{i-1},x_{i}]   in the interval    x  i  *     superscript   subscript  x  i      x_{i}^{*}   is arbitrary, so for any given function f defined on an interval I and a fixed partition P , one might produce different Riemann sums depending on which     x   i  -  1    ≤   x  i  *   ≤   x  i          subscript  x    i  1     superscript   subscript  x  i           subscript  x  i      x_{i-1}\leq x_{i}^{*}\leq x_{i}   is chosen, as long as    x  i  *     superscript   subscript  x  i      x_{i}^{*}   holds true.  Example: Specific choices of     x  i  *   =   x   i  -  1         superscript   subscript  x  i      subscript  x    i  1      x_{i}^{*}=x_{i-1}   give us different types of Riemann sums:   If     x  i  *   =   x  i        superscript   subscript  x  i      subscript  x  i     x_{i}^{*}=x_{i}   for all i , then S is called a left Riemann sum .  If     x  i  *   =    1  2    (    x  i   +   x   i  -  1     )         superscript   subscript  x  i         1  2      subscript  x  i    subscript  x    i  1        x_{i}^{*}=\tfrac{1}{2}(x_{i}+x_{i-1})   for all i , then S is called a right Riemann sum .  If     S  =    ∑   i  =  1   n     v  i    (    x  i   -   x   i  -  1     )      ,      S    superscript   subscript     i  1    n      subscript  v  i      subscript  x  i    subscript  x    i  1         S=\sum_{i=1}^{n}v_{i}(x_{i}-x_{i-1}),   for all i , then S is called a middle Riemann sum .  The average of the left and right Riemann sum is the trapezoidal sum .  If it is given that         v  i     subscript  v  i    v_{i}       where    [   x   i  -  1    ,   x  i   ]      subscript  x    i  1     subscript  x  i     [x_{i-1},x_{i}]   is the supremum of f over    v  i     subscript  v  i    v_{i}   , then S is defined to be an upper Riemann sum .    Similarly, if    [   x   i  -  1    ,   x  i   ]      subscript  x    i  1     subscript  x  i     [x_{i-1},x_{i}]   is the infimum of f over    x  i  *     superscript   subscript  x  i      x_{i}^{*}   , then S is a lower Riemann sum .   Any Riemann sum on a given partition (that is, for any choice of    x   i  -  1      subscript  x    i  1     x_{i-1}   between    x  i     subscript  x  i    x_{i}   and      Δ  x   =    b  -  a   n    .        normal-Δ  x       b  a   n     \Delta x=\frac{b-a}{n}.   ) is contained between the lower and the upper Riemann sums. A function is defined to be Riemann integrable if the lower and upper Riemann sums get ever closer as the partition gets finer and finer. This fact can also be used for numerical integration .  Methods  The four methods of Riemann summation are usually best approached with partitions of equal size. The interval [ a , b ] is therefore divided into n subintervals, each of length       a  ,   a  +   Δ  x    ,   a  +   2  Δ  x    ,  …  ,   a  +    (   n  -  2   )   Δ  x    ,   a  +    (   n  -  1   )   Δ  x    ,  b   .     a    a    normal-Δ  x      a    2  normal-Δ  x    normal-…    a      n  2   normal-Δ  x      a      n  1   normal-Δ  x    b    a,a+\Delta x,a+2\Delta x,\ldots,a+(n-2)\Delta x,a+(n-1)\Delta x,b.     The points in the partition will then be       Δ  x   [    f   (  a  )    +   f   (   a  +   Δ  x    )    +   f   (   a  +   2  Δ  x    )    +  ⋯  +   f   (   b  -   Δ  x    )     ]    .      normal-Δ  x   delimited-[]      f  a     f    a    normal-Δ  x       f    a    2  normal-Δ  x     normal-⋯    f    b    normal-Δ  x         \Delta x\left[f(a)+f(a+\Delta x)+f(a+2\Delta x)+\cdots+f(b-\Delta x)\right].     Left Riemann Sum  For the left Riemann sum, approximating the function by its value at the left-end point gives multiple rectangles with base Δ x and height f ( a + i Δ x ). Doing this for i = 0, 1, ..., n − 1, and adding up the resulting areas gives       Δ  x   [    f   (   a  +   Δ  x    )    +   f   (   a  +   2  Δ  x    )    +  ⋯  +   f   (  b  )     ]    .      normal-Δ  x   delimited-[]      f    a    normal-Δ  x       f    a    2  normal-Δ  x     normal-⋯    f  b       \Delta x\left[f(a+\Delta x)+f(a+2\Delta x)+\cdots+f(b)\right].     The left Riemann sum amounts to an overestimation if f is monotonically decreasing on this interval, and an underestimation if it is monotonically increasing .  Right Riemann Sum  f is here approximated by the value at the right endpoint. This gives multiple rectangles with base Δ x and height f ( a + i Δ x ). Doing this for i = 1, ..., n , and adding up the resulting areas produces        |     ∫  a  b    f   (  x  )   d  x    -   A  right    |   ≤     M  1     (   b  -  a   )   2     2  n     ,            superscript   subscript   a   b     f  x  d  x     subscript  A  right          subscript  M  1    superscript    b  a   2      2  n      \left|\int_{a}^{b}f(x)\,dx-A_{\mathrm{right}}\right|\leq\frac{M_{1}(b-a)^{2}}{%
 2n},     The right Riemann sum amounts to an underestimation if f is monotonically decreasing , and an overestimation if it is monotonically increasing . The error of this formula will be      M  1     subscript  M  1    M_{1}     where     f  ′    (  x  )        superscript  f  normal-′   x    f^{\prime}(x)   is the maximum value of the absolute value of     Δ  x   [    f   (   a  +     Δ  x   2     )    +   f   (   a  +     3  Δ  x   2     )    +  ⋯  +   f   (   b  -     Δ  x   2     )     ]    .      normal-Δ  x   delimited-[]      f    a      normal-Δ  x   2       f    a      3  normal-Δ  x   2     normal-⋯    f    b      normal-Δ  x   2         \Delta x\left[f(a+\tfrac{\Delta x}{2})+f(a+\tfrac{3\Delta x}{2})+\cdots+f(b-%
 \tfrac{\Delta x}{2})\right].   on the interval.  Middle sum  Approximating f at the midpoint of intervals gives f ( a + Δ x /2) for the first interval, for the next one f ( a + 3Δ x /2), and so on until f ( b − Δ x /2). Summing up the areas gives        |     ∫  a  b    f   (  x  )   d  x    -   A  mid    |   ≤     M  2     (   b  -  a   )   3     24   n  2      ,            superscript   subscript   a   b     f  x  d  x     subscript  A  mid          subscript  M  2    superscript    b  a   3      24   superscript  n  2       \left|\int_{a}^{b}f(x)\,dx-A_{\mathrm{mid}}\right|\leq\frac{M_{2}(b-a)^{3}}{24%
 n^{2}},     The error of this formula will be      M  2     subscript  M  2    M_{2}     where     f  ′′    (  x  )        superscript  f  ′′   x    f^{\prime\prime}(x)   is the maximum value of the absolute value of    A  =     1  2    h   (    b  1   +   b  2    )        A      1  2   h     subscript  b  1    subscript  b  2       A=\tfrac{1}{2}h(b_{1}+b_{2})   on the interval.  Trapezoidal Rule  In this case, the values of the function f on an interval are approximated by the average of the values at the left and right endpoints. In the same manner as above, a simple calculation using the area formula         1  2    Δ  x   [    f   (  a  )    +   2  f   (   a  +   Δ  x    )    +   2  f   (   a  +   2  Δ  x    )    +   2  f   (   a  +   3  Δ  x    )    +  ⋯  +   f   (  b  )     ]    .        1  2   normal-Δ  x   delimited-[]      f  a     2  f    a    normal-Δ  x       2  f    a    2  normal-Δ  x       2  f    a    3  normal-Δ  x     normal-⋯    f  b       \tfrac{1}{2}\Delta x\left[f(a)+2f(a+\Delta x)+2f(a+2\Delta x)+2f(a+3\Delta x)+%
 \cdots+f(b)\right].   for a trapezium with parallel sides b 1 , b 2 and height h produces        |     ∫  a  b    f   (  x  )   d  x    -   A  trap    |   ≤     M  2     (   b  -  a   )   3     12   n  2      ,            superscript   subscript   a   b     f  x  d  x     subscript  A  trap          subscript  M  2    superscript    b  a   3      12   superscript  n  2       \left|\int_{a}^{b}f(x)\,dx-A_{\mathrm{trap}}\right|\leq\frac{M_{2}(b-a)^{3}}{1%
 2n^{2}},     The error of this formula will be      M  2     subscript  M  2    M_{2}     where      f  ′′    (  x  )    .       superscript  f  ′′   x    f^{\prime\prime}(x).   is the maximum value of the absolute value of    2  n      2  n    \tfrac{2}{n}     The approximation obtained with the trapezoid rule for a function is the same as the average of the left hand and right hand sums of that function.  Example  Taking an example, the area under the curve of y = x 2 between 0 and 2 can be procedurally computed using Riemann's method.  The interval [0, 2] is firstly divided into n subintervals, each of which is given a width of     x  1   ,   x  2   ,  …  ,   x  n       subscript  x  1    subscript  x  2   normal-…   subscript  x  n     x_{1},x_{2},\ldots,x_{n}   ; these are the widths of the Riemann rectangles (hereafter "boxes"). Because the right Riemann sum is to be used, the sequence of x coordinates for the boxes will be     x  1  2   ,   x  2  2   ,  …  ,   x  n  2       superscript   subscript  x  1   2    superscript   subscript  x  2   2   normal-…   superscript   subscript  x  n   2     x_{1}^{2},x_{2}^{2},\ldots,x_{n}^{2}   . Therefore, the sequence of the heights of the boxes will be     x  i   =    2  i   n        subscript  x  i       2  i   n     x_{i}=\tfrac{2i}{n}   . It is an important fact that     x  n   =  2       subscript  x  n   2    x_{n}=2   , and     2  n   ×   x  i  2         2  n    superscript   subscript  x  i   2     \tfrac{2}{n}\times x_{i}^{2}   .  The area of each box will be   S   S   \displaystyle S   and therefore the n th right Riemann sum will be:        lim   n  →  ∞    S   =    lim   n  →  ∞     (    8  3   +   4  n   +   4   3   n  2      )    =   8  3           subscript    normal-→  n     S     subscript    normal-→  n         8  3     4  n     4    3   superscript  n  2              8  3      \lim_{n\to\infty}S=\lim_{n\to\infty}\left(\frac{8}{3}+\frac{4}{n}+\frac{4}{3n^%
 {2}}\right)=\frac{8}{3}     If the limit is viewed as n → ∞, it can be concluded that the approximation approaches the actual value of the area under the curve as the number of boxes increases. Hence:        ∫  0  2      x  2    d  x    =   8  3         superscript   subscript   0   2      superscript  x  2   d  x      8  3     \int_{0}^{2}x^{2}\,dx=\frac{8}{3}     This method agrees with the definite integral as calculated in more mechanical ways:      y  =   x  2       y   superscript  x  2     y=x^{2}     Animations  Image:Riemann sum (leftbox).gif|Left sum Image:Riemann sum (rightbox).gif|Right sum Image:Riemann sum (middlebox).gif|Middle sum Image:Riemann sum (y=x^2).gif|With $y=x^2$  See also   Riemann integral  Riemann–Stieltjes integral  Lebesgue integral  Simpson's rule  Euler method and midpoint method , related methods for solving differential equations  Antiderivative   References     External links   A simulation showing the convergence of Riemann sums   "  Category:Integral calculus   