   Theorem on formal functions      Theorem on formal functions   In algebraic geometry , the theorem on formal functions states the following: 1   Let    f  :   X  →  S      normal-:  f   normal-→  X  S     f:X\to S   be a proper morphism of noetherian schemes with a coherent sheaf   ℱ   ℱ   \mathcal{F}   on X . Let    S  0     subscript  S  0    S_{0}   be a closed subscheme of S defined by   ℐ   ℐ   \mathcal{I}   and     X  ^   ,   S  ^       normal-^  X    normal-^  S     \widehat{X},\widehat{S}    formal completions with respect to     X  0   =    f   -  1     (   S  0   )         subscript  X  0      superscript  f    1     subscript  S  0      X_{0}=f^{-1}(S_{0})   and    S  0     subscript  S  0    S_{0}   . Then for each    p  ≥  0      p  0    p\geq 0   the canonical (continuous) map:       (    R  p    f  *   ℱ   )   ∧   →     lim  ←   k     R  p    f  *    ℱ  k        normal-→   superscript     superscript  R  p    subscript  f    ℱ       subscript  projective-limit  k      superscript  R  p    subscript  f     subscript  ℱ  k       (R^{p}f_{*}\mathcal{F})^{\wedge}\to\underleftarrow{\lim}_{k}R^{p}f_{*}\mathcal%
 {F}_{k}      is an isomorphism of (topological)    𝒪   S  ^      subscript  𝒪   normal-^  S     \mathcal{O}_{\widehat{S}}   -modules, where  The left term is     lim  ←       R  p    f  *   ℱ    ⊗   𝒪  S     𝒪  S    /   ℐ   k  +  1        projective-limit      subscript  tensor-product   subscript  𝒪  S       superscript  R  p    subscript  f    ℱ    subscript  𝒪  S     superscript  ℐ    k  1       \underleftarrow{\lim}R^{p}f_{*}\mathcal{F}\otimes_{\mathcal{O}_{S}}\mathcal{O}%
 _{S}/{\mathcal{I}^{k+1}}   .       ℱ  k   =   ℱ   ⊗   𝒪  S     (    𝒪  S   /   ℐ   k  +  1     )         subscript  ℱ  k     subscript  tensor-product   subscript  𝒪  S    ℱ     subscript  𝒪  S    superscript  ℐ    k  1        \mathcal{F}_{k}=\mathcal{F}\otimes_{\mathcal{O}_{S}}(\mathcal{O}_{S}/{\mathcal%
 {I}}^{k+1})     The canonical map is one obtained by passage to limit.     The theorem is used to deduce some other important theorems: Stein factorization and a version of Zariski's main theorem that says that a proper  birational morphism into a normal variety is an isomorphism. Some other corollaries (with the notations as above) are:  Corollary : 2 For any    s  ∈  S      s  S    s\in S   , topologically,        (    (    R  p    f  *   ℱ   )   s   )   ∧   ≃    lim  ←     H  p    (    f   -  1     (  s  )    ,   ℱ   ⊗   𝒪  S     (    𝒪  s   /   𝔪  s  k    )    )        similar-to-or-equals   superscript   subscript     superscript  R  p    subscript  f    ℱ   s      projective-limit     superscript  H  p       superscript  f    1    s     subscript  tensor-product   subscript  𝒪  S    ℱ     subscript  𝒪  s    superscript   subscript  𝔪  s   k          ((R^{p}f_{*}\mathcal{F})_{s})^{\wedge}\simeq\underleftarrow{\lim}H^{p}(f^{-1}(%
 s),\mathcal{F}\otimes_{\mathcal{O}_{S}}(\mathcal{O}_{s}/\mathfrak{m}_{s}^{k}))   where the completion on the left is with respect to    𝔪  s     subscript  𝔪  s    \mathfrak{m}_{s}   .  Corollary : 3 Let r be such that      dim   f   -  1      (  s  )    ≤  r         dim   superscript  f    1     s   r    \operatorname{dim}f^{-1}(s)\leq r   for all    s  ∈  S      s  S    s\in S   . Then          R  i    f  *   ℱ   =  0   ,   i  >  r    .     formulae-sequence       superscript  R  i    subscript  f    ℱ   0     i  r     R^{i}f_{*}\mathcal{F}=0,\quad i>r.     Corollay : 4 For each    s  ∈  S      s  S    s\in S   , there exists an open neighborhood U of s such that            R  i    f  *   ℱ   |   U   =  0   ,   i  >    dim   f   -  1      (  s  )      .     formulae-sequence     evaluated-at     superscript  R  i    subscript  f    ℱ   U   0     i     dim   superscript  f    1     s      R^{i}f_{*}\mathcal{F}|_{U}=0,\quad i>\operatorname{dim}f^{-1}(s).     Corollary : 5 If      f  *    𝒪  X    =   𝒪  S          subscript  f     subscript  𝒪  X     subscript  𝒪  S     f_{*}\mathcal{O}_{X}=\mathcal{O}_{S}   , then     f   -  1     (  s  )        superscript  f    1    s    f^{-1}(s)   is connected for all    s  ∈  S      s  S    s\in S   .  The theorem also leads to the Grothendieck existence theorem , which gives an equivalence between the category of coherent sheaves on a scheme and the category of coherent sheaves on its formal completion (in particular, it yields algebralizability.)  Finally, it is possible to weaken the hypothesis in the theorem; cf. Illusie. According to Illusie (pg. 204), the proof given in EGA III is due to Serre. The original proof (due to Grothendieck) was never published.  The construction of the canonical map  Let the setting be as in the lede. In the proof one uses the following alternative definition of the canonical map.  Let     i  ′   :    X  ^   →   X  ,  i    :    S  ^   →  S        normal-:   superscript  i  normal-′    normal-→   normal-^  X    X  i      normal-:     normal-→   normal-^  S   S      i^{\prime}:\widehat{X}\to X,i:\widehat{S}\to S   be the canonical maps. Then we have the base change map of    𝒪   S  ^      subscript  𝒪   normal-^  S     \mathcal{O}_{\widehat{S}}   -modules        i  *    R  q    f  *   ℱ   →    R  p     f  ^   *    (    i   ′  *    ℱ   )       normal-→     superscript  i     superscript  R  q    subscript  f    ℱ      superscript  R  p    subscript   normal-^  f        superscript  i   normal-′     ℱ      i^{*}R^{q}f_{*}\mathcal{F}\to R^{p}\widehat{f}_{*}(i^{\prime*}\mathcal{F})   . where     f  ^   :    X  ^   →   S  ^       normal-:   normal-^  f    normal-→   normal-^  X    normal-^  S      \widehat{f}:\widehat{X}\to\widehat{S}   is induced by    f  :   X  →  S      normal-:  f   normal-→  X  S     f:X\to S   . Since   ℱ   ℱ   \mathcal{F}   is coherent, we can identify     i   ′  *    ℱ       superscript  i   normal-′     ℱ    i^{\prime*}\mathcal{F}   with    ℱ  ^     normal-^  ℱ    \widehat{\mathcal{F}}   . Since     R  q    f  *   ℱ       superscript  R  q    subscript  f    ℱ    R^{q}f_{*}\mathcal{F}   is also coherent (as f is proper), doing the same identification, the above reads:        (    R  q    f  *   ℱ   )   ∧   →    R  p     f  ^   *    ℱ  ^       normal-→   superscript     superscript  R  q    subscript  f    ℱ        superscript  R  p    subscript   normal-^  f      normal-^  ℱ      (R^{q}f_{*}\mathcal{F})^{\wedge}\to R^{p}\widehat{f}_{*}\widehat{\mathcal{F}}   . Using    f  :    X  n   →   S  n       normal-:  f   normal-→   subscript  X  n    subscript  S  n      f:X_{n}\to S_{n}   where     X  n   =   (   X  0   ,    𝒪  X   /   𝒥   n  +  1     )        subscript  X  n     subscript  X  0      subscript  𝒪  X    superscript  𝒥    n  1        X_{n}=(X_{0},\mathcal{O}_{X}/\mathcal{J}^{n+1})   and     S  n   =   (   S  0   ,    𝒪  S   /   ℐ   n  +  1     )        subscript  S  n     subscript  S  0      subscript  𝒪  S    superscript  ℐ    n  1        S_{n}=(S_{0},\mathcal{O}_{S}/\mathcal{I}^{n+1})   , one also obtains (after passing to limit):        R  q     f  ^   *    ℱ  ^    →    lim  ←     R  p    f  *    ℱ  n        normal-→     superscript  R  q    subscript   normal-^  f      normal-^  ℱ     projective-limit     superscript  R  p    subscript  f     subscript  ℱ  n       R^{q}\widehat{f}_{*}\widehat{\mathcal{F}}\to\underleftarrow{\lim}R^{p}f_{*}%
 \mathcal{F}_{n}   where    ℱ  n     subscript  ℱ  n    \mathcal{F}_{n}   are as before. One can verify that the composition of the two maps is the same map in the lede. (cf. EGA III-1, section 4)  Notes  References   Luc Illusie , Topics in Algebraic Geometry     "  Category:Theorems in algebraic geometry     ↩  ↩  ↩  The same argument as in the preceding corollary ↩  ↩     