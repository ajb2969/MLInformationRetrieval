   Multiset      Multiset   In mathematics , a multiset (or bag ) is a generalization of the concept of a set that, unlike a set, allows multiple instances of the multiset's elements . The multiplicity of an element is the number of instances of the element in a specific multiset.  For example, an infinite number of multisets exist which contain elements a and b , varying only by multiplicity:   The unique set { a , b } contains only elements a and b , each having multiplicity 1  In multiset { a , a , b }, a has multiplicity 2 and b has multiplicity 1  In multiset { a , a , a , b , b , b }, a and b both have multiplicity 3   Nicolaas Govert de Bruijn coined the word multiset in the 1970s, according to Donald Knuth . 1 However, the use of multisets predates the word multiset by many centuries. Knuth attributes the first study of multisets to the Indian mathematician BhÄskarÄchÄrya , who described permutations of multisets around 1150. Knuth also lists other names that were proposed or used for multisets, including list , bunch , bag , heap , sample , weighted set , collection , and suite . 2  Overview  The number of times an element belongs to the multiset is the multiplicity of that member. The total number of elements in a multiset, including repeated memberships, is the cardinality of the multiset. For example, in the multiset { a , a , b , b , b , c } the multiplicities of the members a , b , and c are respectively 2, 3, and 1, and the cardinality of the multiset is 6. To distinguish between sets and multisets, a notation that incorporates square brackets is sometimes used: the multiset {2,2,3} can be represented as [2,2,3]. 3 In multisets, as in sets and in contrast to tuples , the order of elements is irrelevant: The multisets { a , a , b } and { a , b , a } are equal.  History  Blizard (1989) traced multisets back to the very origin of numbers, arguing that â€œin ancient times, the number n was often represented by a collection of n strokes, tally marks, or units.â€ These and similar collections of objects are multisets as strokes, tally marks, or units are considered indistinguishable. This shows that people implicitly used multisets even before mathematics emerged.  This shows that necessity in this structure has been always so urgent that multisets have been several times rediscovered and appeared in literature under different names (Blizard, 1991). For instance, they are called bags by Peterson (1981), who attributed this term to Cerf, Gostelow, Estrin, and Volanski (1971). A multiset has been also called an aggregate, heap, bunch, sample, weighted set, occurrence set, and fireset (finitely repeated element set) (cf. (Blizard, 1991; Singh, et al., 2007)).  Although multisets were implicitly utilized from ancient times, their explicit exploration happened much later. The first known study of multisets is attributed to the Indian mathematician Bhascara Acharya (circa 1150), who described permutations of multisets (Knuth, 1998). Angelelli (1965) discovered another early reference to the concept of multiset in the work of Marius Nizolius (1498-1576). Much later Kircher (1650) found the number of multiset permutations when one element can be repeated. Prestet (1675) published a general rule for multiset permutations. Wallis (1685) explains this rule in more detail.  In the explicit form, multisets appeared in the work of Richard Dedekind " Was sind und was sollen die Zahlen? " (1888). However, mathematicians formalized multisets and began to study them as a precise mathematical object (structure) only in the 20th century.  Formal definition  Within set theory , a multiset may be formally defined as a 2- tuple     (  A  ,  m  )     A  m    \left(A,m\right)   where   A   A   A   is some set and    m  :   A  â†’   â„•    â‰¥  1        normal-:  m   normal-â†’  A   subscript  â„•    absent  1       m\colon A\to\mathbb{N}_{\geq 1}   is a function from   A   A   A   to the set     â„•    â‰¥  1    =   {  1  ,  2  ,  3  ,  â€¦  }        subscript  â„•    absent  1     1  2  3  normal-â€¦     \mathbb{N}_{\geq 1}=\left\{1,2,3,\dots\right\}   of positive  natural numbers . The set   A   A   A   is called the underlying set of elements . For each   a   a   a   in   A   A   A   the multiplicity (that is, number of occurrences) of   a   a   a   is the number     m    (  a  )       m  a    m\!\left(a\right)   . If a universe   U   U   U   in which the elements of   A   A   A   must live is specified, the definition can be simplified to just a multiplicity function     m  U   :   U  â†’  â„•      normal-:   subscript  m  U    normal-â†’  U  â„•     m_{U}\colon U\to\mathbb{N}   from   U   U   U   to the set    â„•  =   {  0  ,  1  ,  2  ,  3  ,  â€¦  }       â„•   0  1  2  3  normal-â€¦     \mathbb{N}=\left\{0,1,2,3,\dots\right\}   of natural numbers, obtained by extending   m   m   m   to   U   U   U   with values 0 for each element not in   A   A   A   . This extended multiplicity function is the multiplicity function called    1  A     subscript  1  A    1_{A}   below. Like any function, the function   m   m   m   may be defined as its graph : the set of ordered pairs     {   (  a  ,   m   (  a  )    )   :   a  âˆˆ  A   }     conditional-set   a    m  a      a  A     \left\{\left(a,m\left(a\right)\right):a\in A\right\}   . With these definitions the multiset written as    {  a  ,  a  ,  b  }     a  a  b    \left\{a,a,b\right\}   is defined as    (   {  a  ,  b  }   ,   {   (  a  ,  2  )   ,   (  b  ,  1  )   }   )      a  b     a  2    b  1      \left(\left\{a,b\right\},\left\{\left(a,2\right),\left(b,1\right)\right\}\right)   , and the multiset    {  a  ,  b  }     a  b    \left\{a,b\right\}   is defined as    (   {  a  ,  b  }   ,   {   (  a  ,  1  )   ,   (  b  ,  1  )   }   )      a  b     a  1    b  1      \left(\left\{a,b\right\},\left\{\left(a,1\right),\left(b,1\right)\right\}\right)   .  The concept of a multiset is a generalization of the concept of a set. A multiset corresponds to an ordinary set if the multiplicity of every element is one (as opposed to some larger natural number). An indexed family ,    (   a  i   )     subscript  a  i    \left(a_{i}\right)   , where   i   i   i   is in some index-set, may define a multiset, sometimes written    {   a  i   }      subscript  a  i     \left\{a_{i}\right\}   , in which the multiplicity of any element   x   x   x   is the number of indices   i   i   i   such that     a  i   =  x       subscript  a  i   x    a_{i}=x   . The condition for this to be possible is that no element occurs infinitely many times in the family: even in an infinite multiset, the multiplicities must be finite numbers.  It is possible to extend the definition of a multiset by allowing multiplicities of individual elements to be infinite cardinals instead of natural numbers. Not all properties carry over to this generalization however, and this article uses the definition above, with finite multiplicities.  Multiplicity function  The set indicator function of a normal set is generalized to the multiplicity function for multisets. The set indicator function of a subset A of a set X is the function       ðŸ  A   :   X  â†’   {  0  ,  1  }       normal-:   subscript  1  A    normal-â†’  X   0  1      \mathbf{1}_{A}:X\to\{0,1\}\,     defined by        ðŸ  A    (  x  )    =   {     1       if  x   âˆˆ  A   ,       0       if  x   âˆ‰  A   .              subscript  1  A   x    cases  1      if  x   A   0      if  x   A      \mathbf{1}_{A}(x)=\begin{cases}1&\text{if }x\in A,\\
 0&\text{if }x\notin A.\end{cases}     The set indicator function of the intersection of sets is the minimum function of the indicator functions         ðŸ   A  âˆ©  B     (  x  )    =   min   {    ðŸ  A    (  x  )    ,    ðŸ  B    (  x  )    }     .         subscript  1    A  B    x        subscript  1  A   x      subscript  1  B   x      \mathbf{1}_{A\cap B}(x)=\min\{\mathbf{1}_{A}(x),\mathbf{1}_{B}(x)\}.     The set indicator function of the union of sets is the maximum function of the indicator functions         ðŸ   A  âˆª  B     (  x  )    =   max   {    ðŸ  A    (  x  )    ,    ðŸ  B    (  x  )    }     .         subscript  1    A  B    x        subscript  1  A   x      subscript  1  B   x      \mathbf{1}_{A\cup B}(x)=\max\{{\mathbf{1}_{A}(x),\mathbf{1}_{B}(x)}\}.     The set indicator function of a subset is smaller than or equal to that of the superset        A  âŠ†  B   â‡”    âˆ€   x   ðŸ  A    (  x  )     â‰¤    ðŸ  B    (  x  )      .     normal-â‡”    A  B      for-all    x   subscript  1  A   x       subscript  1  B   x      A\subseteq B\Leftrightarrow\forall x\mathbf{1}_{A}(x)\leq\mathbf{1}_{B}(x).     The set indicator function of a cartesian product is the product of the indicator functions of the cartesian factors         ðŸ   A  Ã—  B     (  x  ,  y  )    =      ðŸ  A    (  x  )    â‹…   ðŸ  B     (  y  )     .         subscript  1    A  B     x  y       normal-â‹…     subscript  1  A   x    subscript  1  B    y     \mathbf{1}_{A\times B}(x,y)=\mathbf{1}_{A}(x)\cdot\mathbf{1}_{B}(y).     The cardinality of a (finite) set is the sum of the indicator function values        |  A  |   =    âˆ‘   x  âˆˆ  X      ðŸ  A    (  x  )      .        A     subscript     x  X       subscript  1  A   x      |A|=\sum_{x\in X}\mathbf{1}_{A}(x).     Now generalize the concept of set indicator function by releasing the constraint that the values are 0 and 1 only and allow the values 2, 3, 4 and so on. The resulting function is called a multiplicity function and such a function defines a multiset . The concepts of intersection, union, subset, cartesian product and cardinality of multisets are defined by the above formulas.  The multiplicity function of a multiset sum , is the sum of the multiplicity functions         ðŸ   A  âŠŽ  B     (  x  )    =     ðŸ  A    (  x  )    +    ðŸ  B    (  x  )      .         subscript  1   normal-âŠŽ  A  B    x        subscript  1  A   x      subscript  1  B   x      \mathbf{1}_{A\uplus B}(x)=\mathbf{1}_{A}(x)+\mathbf{1}_{B}(x).     The multiplicity function of a multiset difference is the zero-truncated subtraction of the multiplicity functions         ðŸ   A  âˆ–  B     (  x  )    =   max   (  0  ,     ðŸ  A    (  x  )    -    ðŸ  B    (  x  )     )     .         subscript  1    A  B    x     0       subscript  1  A   x      subscript  1  B   x       \mathbf{1}_{A\setminus B}(x)=\max(0,\mathbf{1}_{A}(x)-\mathbf{1}_{B}(x)).     The scalar multiplication of a multiset by a natural number n may be defined as:         ðŸ   n  âŠ—  A     (  x  )    =    n  Ã—   ðŸ  A     (  x  )     .         subscript  1   tensor-product  n  A    x       n   subscript  1  A    x     \mathbf{1}_{n\otimes A}(x)=n\times\mathbf{1}_{A}(x).\,     A small finite multiset, A , is represented by a list where each element, x , occurs as many times as the multiplicity, 1 A ( x ), indicates.        {  1  ,  1  ,  1  ,  3  }   âˆ©   {  1  ,  1  ,  2  }    =   {  1  ,  1  }          1  1  1  3    1  1  2     1  1     \{1,1,1,3\}\cap\{1,1,2\}=\{1,1\}\,           {  1  ,  1  }   âˆª   {  1  ,  2  }    =   {  1  ,  1  ,  2  }          1  1    1  2     1  1  2     \{1,1\}\cup\{1,2\}=\{1,1,2\}\,          {  1  ,  1  }   âŠ†   {  1  ,  1  ,  1  ,  2  }        1  1    1  1  1  2     \{1,1\}\subseteq\{1,1,1,2\}\,          |   {  1  ,  1  }   |   =   2          1  1    2    \left|\{1,1\}\right|=2\,           {  1  ,  1  }   Ã—   {  1  ,  2  }    =   {   (  1  ,  1  )   ,   (  1  ,  1  )   ,   (  1  ,  2  )   ,   (  1  ,  2  )   }          1  1    1  2      1  1    1  1    1  2    1  2      \{1,1\}\times\{1,2\}=\{(1,1),(1,1),(1,2),(1,2)\}\,           {  1  ,  1  }   âŠŽ   {  1  ,  2  }    =   {  1  ,  1  ,  1  ,  2  }        normal-âŠŽ   1  1    1  2     1  1  1  2     \{1,1\}\uplus\{1,2\}=\{1,1,1,2\}\,     Examples  One of the simplest and most natural examples is the multiset of prime factors of a number n . Here the underlying set of elements is the set of prime divisors of n . For example the number 120 has the prime factorization      120  =    2  3    3  1     5  1         120     superscript  2  3    superscript  3  1    superscript  5  1      120=2^{3}3^{1}5^{1}\,     which gives the multiset {2, 2, 2, 3, 5}.  A related example is the multiset of solutions of an algebraic equation. A quadratic equation , for example, has two solutions. However, in some cases they are both the same number. Thus the multiset of solutions of the equation could be { 3, 5 }, or it could be { 4, 4 }. In the latter case it has a solution of multiplicity 2.  A special case of the above are the eigenvalues of a matrix, if these are defined as the multiset of roots of its characteristic polynomial . However a choice is made here: the (usual) definition of eigenvalues does not refer to the characteristic polynomial, and other possibilities give rise to different notions of multiplicity, and therefore to different multisets. The geometric multiplicity of   Î»   Î»   Î»   as eigenvalue of a matrix   A   A   A   is the dimension of the kernel of    A  -   Î»  I       A    Î»  I     A-Î»I   , which is often smaller than its multiplicity as root of the characteristic polynomial (the algebraic multiplicity) when the latter is larger thanÂ 1. The set of eigenvalues of   A   A   A   is also the set of roots of its minimal polynomial , but the multiset of those roots need not be the same either as the one defined using algebraic multiplicity, or using the geometric multiplicity.  Free commutative monoids  The free commutative  monoid on a set X (see free object ) can be taken to be the set of finite multisets with elements drawn from X , with the monoid operation being multiset sum and the empty multiset as identity element. Such monoids are also known as (finite) formal sums of elements of X with natural coefficients. The free commutative semigroup is the subset of the free commutative monoid which contains all multisets with elements drawn from X except the empty multiset.  Free abelian groups are formal sums (i.e. linear combinations) of elements of X with integer coefficients. Equivalently, they may be seen as signed finite multisets with elements drawn from X .  Counting multisets  The number of multisets of cardinality k , with elements taken from a finite set of cardinality n , is called the multiset coefficient or multiset number . This number is written by some authors as    (    (      n      k      )    )     binomial  n  k    \textstyle\left(\!\!{n\choose k}\!\!\right)   , a notation that is meant to resemble that of binomial coefficients ; it is used for instance in (Stanley, 1997), and could be pronounced " n multichoose k " to resemble " n choose k " for    (      n      k      )     binomial  n  k    {\textstyle\left({{n}\atop{k}}\right)}   . Unlike for binomial coefficients, there is no "multiset theorem" in which multiset coefficients would occur, and they should not be confused with the unrelated multinomial coefficients that occur in the multinomial theorem . The value of multiset coefficients can be given explicitly as        (    (     n      k     )    )   =   (       n  +  k   -  1       k     )   =     (    n  +  k   -  1   )   !     k  !     (   n  -  1   )   !     =    n   (   n  +  1   )    (   n  +  2   )   â‹¯   (    n  +  k   -  1   )     k  !     ,         binomial  n  k    binomial      n  k   1   k                n  k   1        k       n  1               n    n  1     n  2   normal-â‹¯      n  k   1      k       \left(\!\!{n\choose k}\!\!\right)={n+k-1\choose k}=\frac{(n+k-1)!}{k!\,(n-1)!}%
 ={n(n+1)(n+2)\cdots(n+k-1)\over k!},     where the second expression is as a binomial coefficient; many authors in fact avoid separate notation and just write binomial coefficients. So, the number of such multisets is the same as the number of subsets of cardinality k in a set of cardinality n + k âˆ’ 1. The analogy with binomial coefficients can be stressed by writing the numerator in the above expression as a rising factorial power        (    (     n      k     )    )   =    n   k  Â¯     k  !     ,       binomial  n  k      superscript  n   normal-Â¯  k      k      \left(\!\!{n\choose k}\!\!\right)={n^{\overline{k}}\over k!},   to match the expression of binomial coefficients using a falling factorial power:        (     n      k     )   =    n   k  Â¯     k  !     .       binomial  n  k      superscript  n   normal-Â¯  k      k      {n\choose k}={n^{\underline{k}}\over k!}.     There are for example 4 multisets of cardinality 3 with elements taken from the set {1,2} of cardinality 2 ( n =2, k =3), namely : {1,1,1}, {1,1,2}, {1,2,2}, {2,2,2}. And there are also 4 subsets of cardinality 3 in the set {1,2,3,4} of cardinality 4 (n+k-1 = 4) , namely : {1, 2, 3}, {1, 2, 4}, {1, 3, 4}, {2, 3, 4}.  One simple way to prove the equality of multiset coefficients and binomial coefficients given above, involves representing multisets in the following way. First, consider the notation for multisets that would represent { a , a , a , a , a , a , b , b , c , c , c , d , d , d , d , d , d , d } (6 a s, 2 b s, 3 c s, 7 d s) in this form:      âˆ™  âˆ™  âˆ™  âˆ™  âˆ™  âˆ™  âˆ£  âˆ™  âˆ™  âˆ£  âˆ™  âˆ™  âˆ™  âˆ£  âˆ™  âˆ™  âˆ™  âˆ™  âˆ™  âˆ™  âˆ™     fragments  normal-âˆ™  normal-âˆ™  normal-âˆ™  normal-âˆ™  normal-âˆ™  normal-âˆ™  normal-âˆ£  normal-âˆ™  normal-âˆ™  normal-âˆ£  normal-âˆ™  normal-âˆ™  normal-âˆ™  normal-âˆ£  normal-âˆ™  normal-âˆ™  normal-âˆ™  normal-âˆ™  normal-âˆ™  normal-âˆ™  normal-âˆ™    \bullet\bullet\bullet\bullet\bullet\bullet\mid\bullet\bullet\mid\bullet\bullet%
 \bullet\mid\bullet\bullet\bullet\bullet\bullet\bullet\bullet     This is a multiset of cardinality k=18 made of elements of a set of cardinality n=4. The number of characters including both dots and vertical lines used in this notation is 18Â +Â 4Â âˆ’Â 1. The number of vertical lines is 4 âˆ’ 1. The number of multisets of cardinality 18 is then the number of ways to arrange the 4Â âˆ’Â 1 vertical lines among the 18 + 4 âˆ’ 1 characters, and is thus the number of subsets of cardinality 4 âˆ’ 1 in a set of cardinality 18Â +Â 4Â âˆ’Â 1. Equivalently, it is the number of ways to arrange the 18 dots among the 18Â +Â 4Â âˆ’Â 1 characters, which is the number of subsets of cardinality 18 of a set of cardinality 18Â +Â 4Â âˆ’Â 1. This is        (       4  +  18   -  1        4  -  1      )   =   (       4  +  18   -  1       18     )   =  1330   ,         binomial      4  18   1     4  1     binomial      4  18   1   18        1330     {4+18-1\choose 4-1}={4+18-1\choose 18}=1330,     thus is the value of the multiset coefficient and its equivalencies:        (    (     4      18     )    )   =   (     21      18     )   =    21  !     18  !    3  !     =   (     21      3     )   =   (    (     19      3     )    )    ,         binomial  4  18    binomial  21  18            21       18     3           binomial  21  3         binomial  19  3      \left(\!\!{4\choose 18}\!\!\right)={21\choose 18}=\frac{21!}{18!\,3!}={21%
 \choose 3}=\left(\!\!{19\choose 3}\!\!\right),       =\frac{{\color{Purple}{\mathfrak{     4\cdot5\cdot6\cdot7\cdot8\cdot9\cdot10\cdot11\cdot12\cdot13\cdot14\cdot15\cdot16\cdot17\cdot18}}} \mathbf{\cdot19\cdot20\cdot21}}{\mathbf{1\cdot2\cdot3}{\color{Purple}{\mathfrak{\cdot 4\cdot5\cdot6\cdot7\cdot8\cdot9\cdot10\cdot11\cdot12\cdot13\cdot14\cdot15\cdot16\cdot17\cdot18}}}},    =\frac{     1\cdot2\cdot3\cdot4\cdot5\cdots16\cdot17\cdot18\;\mathbf{\cdot\;19\cdot20\cdot21}} {\,1\cdot2\cdot3\cdot4\cdot5\cdots 16\cdot17\cdot18\,\times\,\mathbf{1\cdot2\cdot3\quad}},          =    19  â‹…  20  â‹…  21    1  â‹…  2  â‹…  3     .      absent     normal-â‹…  19  20  21    normal-â‹…  1  2  3      =\frac{19\cdot 20\cdot 21}{1\cdot 2\cdot 3}.        One may define a generalized binomial coefficient       (     n      k     )   =    n   (   n  -  1   )    (   n  -  2   )   â‹¯   (    n  -  k   +  1   )     k  !         binomial  n  k       n    n  1     n  2   normal-â‹¯      n  k   1      k      {n\choose k}={n(n-1)(n-2)\cdots(n-k+1)\over k!}     in which n is not required to be a nonnegative integer, but may be negative or a non-integer, or a non-real complex number . (If k =Â 0, then the value of this coefficient is 1 because it is the empty product .) Then the number of multisets of cardinality k in a set of cardinality n is        (    (     n      k     )    )   =     (   -  1   )   k    (      -  n       k     )     .       binomial  n  k      superscript    1   k    binomial    n   k      \left(\!\!{n\choose k}\!\!\right)=(-1)^{k}{-n\choose k}.     Recurrence relation  A recurrence relation for multiset coefficients may be given as        (    (     n      k     )    )   =     (    (     n       k  -  1      )    )   +   (    (      n  -  1       k     )    )     for  n     ,   k  >  0      formulae-sequence     binomial  n  k       binomial  n    k  1     binomial    n  1   k      for  n       k  0     \left(\!\!{n\choose k}\!\!\right)=\left(\!\!{n\choose k-1}\!\!\right)+\left(\!%
 \!{n-1\choose k}\!\!\right)\quad\mbox{for }n,k>0     with        (    (     n      0     )    )   =  1   ,    n  âˆˆ   ð’©  ,  and       (    (     0      k     )    )   =  0   ,   k  >  0.        formulae-sequence     binomial  n  0   1    formulae-sequence    n   ð’©  and     formulae-sequence     binomial  0  k   0     k  0.       \left(\!\!{n\choose 0}\!\!\right)=1,\quad n\in\mathcal{N},\quad\mbox{and}\quad%
 \left(\!\!{0\choose k}\!\!\right)=0,\quad k>0.     The above recurrence may be interpreted as follows. Let [ n ]Â :=Â {1,Â ..., n } be the source set. There is always exactly one (empty) multiset of size 0, and if n =Â 0 there are no larger multisets, which gives the initial conditions.  Now, consider the case in which n , k >Â 0. A multiset of cardinality k with elements from [ n ] might or might not contain any instance of the final element n . If it does appear, then by removing n once, one is left with a multiset of cardinality k âˆ’Â 1 of elements from [ n ], and every such multiset can arise, which gives a total of      (    (     n       k  -  1      )    )     binomial  n    k  1     \left(\!\!{n\choose k-1}\!\!\right)   possibilities.  If n does not appear, then our original multiset is equal to a multiset of cardinality k with elements from [ n âˆ’Â 1], of which there are       (    (      n  -  1       k     )    )   .     binomial    n  1   k    \left(\!\!{n-1\choose k}\!\!\right).     Thus,        (    (     n      k     )    )   =    (    (     n       k  -  1      )    )   +   (    (      n  -  1       k     )    )     .       binomial  n  k      binomial  n    k  1     binomial    n  1   k      \left(\!\!{n\choose k}\!\!\right)=\left(\!\!{n\choose k-1}\!\!\right)+\left(\!%
 \!{n-1\choose k}\!\!\right).     Polynomial notation  The set { x } may be represented by the monomial  x . The set of subsets, {Â {},Â { x }Â }, is represented by the binomial 1Â + x .  The set { x , y } may be represented by the monomial xÂ·y . The set of subsets, { {}, { x }, { y }, { x , y } }, is represented by the polynomial   (1 + x )Â·(1 + y ) = 1 + x + y + xÂ·y .   The multiset { x,x } may be represented by the monomial xÂ·x = x 2 . The multiset of submultisets, {Â {},Â { x },Â { x }, { x,x }Â }, is represented by the polynomial   (1 + x ) 2 = 1 + x + x + xÂ·x = 1 + 2Â· x + x 2 .   The multiset of submultisets of the multiset x n is         (   1  +  x   )   n   =    âˆ‘   k  =  0   n     (     n      k     )   â‹…   x  k      .       superscript    1  x   n     superscript   subscript     k  0    n    normal-â‹…   binomial  n  k    superscript  x  k       (1+x)^{n}=\sum_{k=0}^{n}{n\choose k}\cdot x^{k}.     That is why the binomial coefficient counts the number of k - combinations of an n -set.  The multiset x K Â· y Nâˆ’K , containing N elements, K of which are hits, is called a statistical population , and a submultiset is called a statistical sample . The set of samples is   (1Â + x ) K Â·(1Â + y ) Nâˆ’K    which by the binomial theorem equals        âˆ‘   n  =  0   N     âˆ‘   k  =  0   K     (     K      k     )   â‹…   (      N  -  K        n  -  k      )   â‹…   x  k   â‹…   y   n  -  k       .      superscript   subscript     n  0    N     superscript   subscript     k  0    K    normal-â‹…   binomial  K  k    binomial    N  K     n  k     superscript  x  k    superscript  y    n  k        \sum_{n=0}^{N}\sum_{k=0}^{K}{K\choose k}\cdot{N-K\choose n-k}\cdot x^{k}\cdot y%
 ^{n-k}.     So the number of n -samples with k hits is        (     K      k     )   â‹…   (      N  -  K        n  -  k      )    .     normal-â‹…   binomial  K  k    binomial    N  K     n  k      {K\choose k}\cdot{N-K\choose n-k}.     See hypergeometric distribution and inferential statistics for further on the distribution of hits.  The infinite set of finite multisets of elements taken from the set { x }:   { {}, { x }, { x , x }, { x , x , x }, ... }   may be represented by the formal power series   S =Â 1Â + x + x 2 + x 3 +Â ...Â =Â 1Â + xS .   The formal solution,   S =Â (1Â âˆ’ x ) âˆ’1 ,   makes sense as a set of multisets, but the intermediate result, 1âˆ’ x , does not make sense as a set of multisets.  The infinite set of finite multisets of elements taken from the set xÂ·y is   (1Â âˆ’ x ) âˆ’1 Â·(1Â âˆ’ y ) âˆ’1 =Â 1Â +Â ( x + y )Â +Â ( x 2 + xÂ·y + y 2 )Â +Â ...   The special case y = x : The infinite multiset of finite multisets of elements taken from the multiset x 2 is   (1Â âˆ’ x ) âˆ’2 =Â  1Â +Â 2Â· x +Â 3Â· x 2 +Â ...   The general case: The infinite multiset of finite multisets of elements taken from the multiset x n is        (   1  -  x   )    -  n    =    âˆ‘   k  =  0   âˆž     (      -  n       k     )   â‹…    (   -  x   )   k          superscript    1  x     n      superscript   subscript     k  0       normal-â‹…   binomial    n   k    superscript    x   k       (1-x)^{-n}=\sum_{k=0}^{\infty}{-n\choose k}\cdot(-x)^{k}   .  This explains why "multisets are negative sets". The negative binomial coefficients count the number of k -multisets of elements taken from an n -set.  Cumulant generating function  A non-negative integer , n , can be represented by the monomial x n . A finite multiset of non-negative integers , say {2,Â 2,Â 2,Â 3,Â 5}, can likewise be represented by a polynomial f ( x ), say f ( x ) = 3Â· x 2 + x 3 + x 5 .  It is convenient to consider the cumulant generating function  g ( t )Â =Â log( f (e t )), say g ( t )Â =Â log(3Â·e 2Â· t +Â e 3Â· t +Â e 5Â· t )Â .   The cardinality of the multiset is e g (0) = f (1), say 3 + 1 + 1 = 5.    The derivative  g is g '( t ) = f (e t ) âˆ’1 Â· f '(e t )Â·e t , say g '( t ) = (3Â·e 2Â· t +Â e 3Â· t +Â e 5Â· t ) âˆ’1 Â·(6Â·e 2Â· t +Â 3Â·e 3Â· t +Â 5Â·e 5Â· t )Â .  The mean value of the multiset is Î¼Â = g '(0)Â = f (1) âˆ’1 Â· f '(1), say Î¼Â =Â (3+1+1) âˆ’1 Â·(6+3+5) = 2.8Â .  The variance of the multiset is Ïƒ 2 = g 'Â '(0)Â .    The numbers (Â Î¼,Â Ïƒ 2 ,Â Â·Â·Â·Â ) Â =Â ( g '(0), g 'Â '(0),Â Â·Â·Â·Â ) are called cumulants .  The infinite set of non-negative integers {0, 1, 2, Â·Â·Â·} is represented by the formal power series 1Â + x + x 2 +Â Â·Â·Â·Â =Â (1Â âˆ’ x ) âˆ’1 . The mean value and standard deviation are undefined. Nevertheless it has a cumulant-generating function, g ( t )Â =Â âˆ’log(1âˆ’e t ). The derivative of this cumulant-generating function is g '( t )Â =Â (e âˆ’ t âˆ’1) âˆ’1 .  A finite multiset of real numbers , A = { A i }, is represented by the cumulant generating function         g  A    (  t  )    =   log   (    âˆ‘  i    e   t  â‹…   A  i      )     .         subscript  g  A   t       subscript   i    superscript  e   normal-â‹…  t   subscript  A  i         g_{A}(t)=\log\left(\sum_{i}e^{t\cdot A_{i}}\right).     This representation is unique: different multisets have different cumulant generating functions. See partition function (statistical mechanics) for the case where the numbers in question are the energy levels of a physical system.  The cumulant-generating function of a multiset of n real numbers having mean Î¼ and standard deviation Ïƒ is: g ( t )Â =Â log( n )Â +Â Î¼Â· t +Â 2 âˆ’1 Â·(ÏƒÂ· t ) 2 +Â Â·Â·Â·Â , and the derivative is simply: g '( t )Â =Â Î¼Â +Â Ïƒ 2 Â· t +Â Â·Â·Â·  The cumulant-generating function of set, { k }, consisting of a single real number, k , is g ( t )Â = kÂ·t , and the derivative is the number itself: g '( t )Â = k . So the concept of the derivative of the cumulant generating function of a multiset of real numbers is a generalization of the concept of a real number .  The cumulant-generating function of a constant multiset, { k, k, k, k, Â·Â·Â· , k } of n elements all equal to the same real number k , is g ( t )Â =Â log( n )+ kÂ·t , and the derivative is the number itself: g '( t )Â = k , irrespective of n .  The cumulant-generating function of the multiset of sums of elements of two multisets of numbers is the sum of the two cumulant-generating functions:        g   A  +  B     (  t  )    =   log   (    âˆ‘  i     âˆ‘  j    e   t  â‹…   (    A  i   +   B  j    )       )    =   log   (    âˆ‘  i     âˆ‘  j     e   t  â‹…   A  i     â‹…   e   t  â‹…   B  j        )             subscript  g    A  B    t       subscript   i     subscript   j    superscript  e   normal-â‹…  t     subscript  A  i    subscript  B  j                  subscript   i     subscript   j    normal-â‹…   superscript  e   normal-â‹…  t   subscript  A  i      superscript  e   normal-â‹…  t   subscript  B  j            g_{A+B}(t)=\log\left(\sum_{i}\sum_{j}e^{t\cdot(A_{i}+B_{j})}\right)=\log\left(%
 \sum_{i}\sum_{j}e^{t\cdot A_{i}}\cdot e^{t\cdot B_{j}}\right)         g   A  +  B     (  t  )    =   log   (    âˆ‘  i     e   t  â‹…   A  i     â‹…    âˆ‘  j    e   t  â‹…   B  j        )    =    log   (    âˆ‘  i    e   t  â‹…   A  i      )    +   log   (    âˆ‘  j    e   t  â‹…   B  j      )              subscript  g    A  B    t       subscript   i    normal-â‹…   superscript  e   normal-â‹…  t   subscript  A  i       subscript   j    superscript  e   normal-â‹…  t   subscript  B  j                    subscript   i    superscript  e   normal-â‹…  t   subscript  A  i           subscript   j    superscript  e   normal-â‹…  t   subscript  B  j           g_{A+B}(t)=\log\left(\sum_{i}e^{t\cdot A_{i}}\cdot\sum_{j}e^{t\cdot B_{j}}%
 \right)=\log\left(\sum_{i}e^{t\cdot A_{i}}\right)+\log\left(\sum_{j}e^{t\cdot B%
 _{j}}\right)         g   A  +  B     (  t  )    =     g  A    (  t  )    +    g  B    (  t  )            subscript  g    A  B    t        subscript  g  A   t      subscript  g  B   t      g_{A+B}(t)=g_{A}(t)+g_{B}(t)     There is unfortunately no general formula for computing the cumulant generating function of a product        g   A  â‹…  B     (  t  )    =   log   (    âˆ‘  i     âˆ‘  j    e   t  â‹…   A  i   â‹…   B  j       )           subscript  g   normal-â‹…  A  B    t       subscript   i     subscript   j    superscript  e   normal-â‹…  t   subscript  A  i    subscript  B  j          g_{A\cdot B}(t)=\log\left(\sum_{i}\sum_{j}e^{t\cdot A_{i}\cdot B_{j}}\right)\,     but the special case of a constant times a multiset of numbers is:         g   k  â‹…  A     (  t  )    =   log   (    âˆ‘  i    e   t  â‹…   (   k  â‹…   A  i    )      )    =   log   (    âˆ‘  i    e    (   t  â‹…  k   )   â‹…   A  i      )    =    g  A    (   k  â‹…  t   )     .           subscript  g   normal-â‹…  k  A    t       subscript   i    superscript  e   normal-â‹…  t   normal-â‹…  k   subscript  A  i                 subscript   i    superscript  e   normal-â‹…   normal-â‹…  t  k    subscript  A  i               subscript  g  A    normal-â‹…  k  t       g_{k\cdot A}(t)=\log\left(\sum_{i}e^{t\cdot(k\cdot A_{i})}\right)=\log\left(%
 \sum_{i}e^{(t\cdot k)\cdot A_{i}}\right)=g_{A}\left(k\cdot t\right).     The multiset 2Â· A =Â {2Â· A i } is not the same multiset as 2Ã— A = A + A =Â { A i + A j }. For example, 2Â·{+1,âˆ’1} = {+2,âˆ’2} while 2Ã—{+1,âˆ’1} = {+1,âˆ’1} + {+1,âˆ’1} = {+1+1,+1âˆ’1,âˆ’1+1,âˆ’1âˆ’1} = {+2,0,0,âˆ’2}.         g   k  Ã—  A     (  t  )    =    k  â‹…   g  A     (  t  )     .         subscript  g    k  A    t      normal-â‹…  k   subscript  g  A    t     g_{k\times A}(t)=k\cdot g_{A}(t).     The standard normal distribution is like a limit of big multisets of numbers.        lim   k  â†’  âˆž      k   -  1    â‹…   (    k  2   Ã—   {   +  1   ,   -  1   }    )     .      subscript    normal-â†’  k      normal-â‹…   superscript  k    1       superscript  k  2      1     1        \lim_{k\rightarrow\infty}k^{-1}\cdot(k^{2}\times\{+1,-1\}).     This limit does not make sense as a multiset of numbers, but the derivative of the cumulant generating functions of the multisets in question makes sense, and the limit is well defined.       lim   k  â†’  âˆž      g    k   -  1    â‹…   (    k  2   Ã—   {   +  1   ,   -  1   }    )    â€²    (  t  )        subscript    normal-â†’  k        subscript   superscript  g  normal-â€²    normal-â‹…   superscript  k    1       superscript  k  2      1     1       t     \displaystyle\lim_{k\rightarrow\infty}g^{\prime}_{k^{-1}\cdot(k^{2}\times\{+1,%
 -1\})}(t)     The constant term k 2 Â·log(2) vanishes by differentiation. The terms Â·Â·Â· vanish in the limit. So for the standard normal distribution , having mean 0 and standard deviation 1, the derivative of the cumulant generating function is simply g '( t )Â = t . For the normal distribution having mean Î¼ and standard deviation Ïƒ, the derivative of the cumulant generating function is g '( t )Â =Â Î¼Â +Â Ïƒ 2 Â· t .  See also random variable .  Applications  Multisets have various applications (Singh, et al., 2007). They are becoming the main structure of combinatorics because in its search for higher rigorousness, modern combinatorics has been developed not for sets but for multisets (Aigner, 1979; Anderson, 1987; Stanley, 1999). Multisets have become an important tool in databases (Libkin and Wong, 1994; 1995; Grumbach and Milo, 1996). For instance, multisets are often used to implement relations in database systems. Multisets also play an important role in computer science (Knuth, 1997; 1998).  There are also other applications. For instance, Rado (1975) uses multisets as a device to investigate the properties of families of sets. He writes, "The notion of a set takes no account of multiple occurrence of any one of its members, and yet it is just this kind of information which is frequently of importance. We need only think of the set of roots of a polynomial f(x) or the spectrum of a linear operator."  Generalizations  Different generalizations of multisets have been introduced, studied and applied to solving problems.  Yager (1986) introduced fuzzy multisets under the name fuzzy bags.  Grzymala-Busse (1987) introduced the concept of a rough multiset, using multirelations.  Blizard (1989) generalized multisets to real valued multisets, i.e., multisets in which multiplicity of an element can be any non-negative real number. Blizard (1990) also introduced multisets with negative multiplicity.  Loeb (1992) introduced hybrid sets as a generalization of multisets in which multiplicity of an element is any integer number.  Miyamoto (2001) further generalized multisets introducing multisets in which multiplicity of an element is any real-valued step function.  Alkhazaleh, Salleh and Hassan (2011) introduced soft multisets, while Alkhazaleh and Salleh (2012) introduced fuzzy soft multisets.  Burgin (1990; 1992; 2004; 2011) unified multisets and all their generalizations by the concept of a named set, which also comprises all other generalizations of sets.  Notes    References   Aigner, M. (1979). Combinatorial Theory , Springer Verlag, New York/Berlin.  Alkhazaleh, S. and Salleh, A.R. (2012). Fuzzy Soft Multiset Theory, Abstract and Applied Analysis , article ID 350600, 20 p.  Alkhazaleh, S., Salleh, A.R. and Hassan, N. (2011). Soft Multisets Theory, Applied Mathematical Sciences , 5(72):3561â€“3573.  Anderson, I. (1987). Combinatorics of Finite Sets , Clarendon Press, Oxford.  Angelelli, I. (1965). Leibniz's misunderstanding of Nizolius' notion of 'multitudo', Notre Dame Journal of Formal Logic, 6:319â€“322.  Blizard, Wayne D. (1989). "Multiset theory," Notre Dame Journal of Formal Logic , 30(1), Winter:36â€“66. http://projecteuclid.org/euclid.ndjfl/1093634995 MR990203 0668.03027  Blizard, WD. (1989). Real-valued Multisets and Fuzzy Sets, Fuzzy Sets and Systems , 33:77â€“97.  Blizard, W. (1990). Negative Membership, Notre Dame Journal of Formal Logic , 31(1):346â€“368.  Blizard, WD. (1991). The Development of Multiset Theory, Modern Logic , 1(4):319â€“352.  Bogart, Kenneth P. (2000). Introductory combinatorics , 3rd. ed. San Diego CA: Harcourt.  Burgin M. (1990). Theory of Named Sets as a Foundational Basis for Mathematics, In: Structures in Mathematical Theories , San Sebastian, pp.Â 417â€“420 (http://www.blogg.org/blog-30140-date-2005-10-26.html)  Burgin, M. (1992). On the concept of a multiset in cybernetics, Cybernetics and System Analysis , 3:165â€“167.  Burgin, M. (2004). Unified Foundations of Mathematics, Preprint Mathematics LO/0403186, 39 p. (electronic edition: http://arXiv.org )  Burgin, M. (2011), Theory of Named Sets, Mathematics Research Developments , Nova Science Pub Inc, ISBN 978-1-61122-788-8, books.google.com  Dedekind R. (1888). Was sind und was sollen die Zahlen? , Vieweg, Braunschweig.  Gessel, Ira M., and Stanley, Richard P. (1995). "Algebraic enumeration" in Graham, R. L., GrÃ¶tschel, M., & LovÃ¡sz, L., eds., Handbook of combinatorics , 2:1021â€“1061. Elsevier, ISBN 0-444-82351-4, 0-444-88002-X, 0-262-07171-1, 0-262-07169-X.  Grzymala-Busse, J. (1987). Learning from examples based on rough multisets, in Proceedings of the 2nd International Symposium on Methodologies for Intelligent Systems , Charlotte, NC, USA, pp.Â 325â€“332.  Grumbach, S. and Milo, T. (1996). Towards tractable algebras for bags, Journal of Computer and System Sciences , 52(3):570â€“588.  Hickman, J. L. (1980). A note on the concept of multiset, Bulletin of the Australian Mathematical Society , 22:211â€“17.  Kircher, A. (1650). Musurgia Universalis , Corbelletti, Rome.  Knuth, Donald E. (1998). The Art of Computer Programming , Vol. 2: Seminumerical Algorithms, Addison Wesley. p.Â 694. ISBN 0-201-89684-2.  Knuth, D. (1998). The Art of Computer Programming , Vol. 3: Sorting and Searching, Addison-Wesley, Reading, Mass.  Libkin, L. and Wong, L. (1994). Some properties of query languages for bags, in Proceedings of the Workshop on Database Programming Languages , Springer Verlag, pp.Â 97â€“114.  Libkin, L. and Wong, L. (1995). On representation and querying incomplete information in databases with bags, Information Processing Letters , 56(4):209â€“214.  Loeb, D. (1992). Sets with a negative numbers of elements, Advances in Mathematics , 91:64â€“74.  Miyamoto S. (2001). Fuzzy Multisets and their Generalizations, in â€˜'Multiset Processingâ€™', LNCS 2235:225â€“235.  Prestet, J. (1675). Elemens des Mathematiques , AndrÃ© Pralard, Paris.  Singh D. (1994) A Note on the Development of Multiset Theory, Modern Logic , 4:405â€“406.  Singh D, Ibrahim AM, Yohanna T, and Singh JN. (2007) An overview of the applications of multisets, Novi Sad Journ. Math. , 37(2):73â€“92.  Stanley, Richard P. (1997, 1999). Enumerative Combinatorics, Vols. 1 and 2. , Cambridge University Press. ISBN 0-521-55309-1, 0-521-56069-1.  Syropoulos, Apostolos. (2001). "Mathematics of Multisets" in C. S. Calude et al., eds., Multiset processing: Mathematical, computer science, and molecular computing points of view , LNCS 2235. Springer-Verlag: 347â€“358.  Yager, R. R. (1986). On the Theory of Bags, International Journal of General Systems , 13:23â€“37.  Wallis (1685). A treatise of algebra , John Playford, London.   See also   Set Theory   "  Category:Basic concepts in set theory  Category:Factorial and binomial topics     â†©   â†©     