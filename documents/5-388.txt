   Pell number      Pell number   In mathematics , the Pell numbers are an infinite sequence of integers , known since ancient times, that comprise the denominators of the closest rational approximations to the square root of 2 . This sequence of approximations begins 1/1, 3/2, 7/5, 17/12, and 41/29, so the sequence of Pell numbers begins with 1, 2, 5, 12, and 29. The numerators of the same sequence of approximations are half the companion Pell numbers or Pell-Lucas numbers ; these numbers form a second infinite sequence that begins with 2, 6, 14, 34, and 82.  Both the Pell numbers and the companion Pell numbers may be calculated by means of a recurrence relation similar to that for the Fibonacci numbers , and both sequences of numbers grow exponentially , proportionally to powers of the silver ratio 1 + √2. As well as being used to approximate the square root of two, Pell numbers can be used to find square triangular numbers , to construct integer approximations to the right isosceles triangle , and to solve certain combinatorial enumeration problems. 1  As with Pell's equation , the name of the Pell numbers stems from Leonhard Euler's mistaken attribution of the equation and the numbers derived from it to John Pell . The Pell-Lucas numbers are also named after Édouard Lucas , who studied sequences defined by recurrences of this type; the Pell and companion Pell numbers are Lucas sequences .  Pell numbers  The Pell numbers are defined by the recurrence relation       P  n   =   {     0       if  n   =  0   ;       1       if  n   =  1   ;         2   P   n  -  1     +   P   n  -  2       otherwise.           subscript  P  n    cases  0      if  n   0   1      if  n   1       2   subscript  P    n  1      subscript  P    n  2     otherwise.     P_{n}=\begin{cases}0&\mbox{if }n=0;\\
 1&\mbox{if }n=1;\\
 2P_{n-1}+P_{n-2}&\mbox{otherwise.}\end{cases}     In words, the sequence of Pell numbers starts with 0 and 1, and then each Pell number is the sum of twice the previous Pell number and the Pell number before that. The first few terms of the sequence are    , 1 , 2 , 5 , 12 , 29 , 70 , 169 , 408, 985, 2378, 5741, 13860, ... .    The Pell numbers can also be expressed by the closed form formula        P  n   =      (   1  +   2    )   n   -    (   1  -   2    )   n     2   2      .       subscript  P  n        superscript    1    2    n    superscript    1    2    n      2    2       P_{n}=\frac{(1+\sqrt{2})^{n}-(1-\sqrt{2})^{n}}{2\sqrt{2}}.   For large values of n , the     (   1  +   2    )   n     superscript    1    2    n    \scriptstyle(1+\sqrt{2})^{n}   term dominates this expression, so the Pell numbers are approximately proportional to powers of the silver ratio     (   1  +   2    )      1    2     \scriptstyle(1+\sqrt{2})   , analogous to the growth rate of Fibonacci numbers as powers of the golden ratio .  A third definition is possible, from the matrix formula        (      P   n  +  1       P  n        P  n      P   n  -  1       )   =    (     2    1      1    0     )   n    .         subscript  P    n  1     subscript  P  n      subscript  P  n    subscript  P    n  1       superscript    2  1    1  0    n     \begin{pmatrix}P_{n+1}&P_{n}\\
 P_{n}&P_{n-1}\end{pmatrix}=\begin{pmatrix}2&1\\
 1&0\end{pmatrix}^{n}.     Many identities can be derived or proven from these definitions; for instance an identity analogous to Cassini's identity for Fibonacci numbers,          P   n  +  1     P   n  -  1     -   P  n  2    =    (   -  1   )   n    ,           subscript  P    n  1     subscript  P    n  1      superscript   subscript  P  n   2     superscript    1   n     P_{n+1}P_{n-1}-P_{n}^{2}=(-1)^{n},   is an immediate consequence of the matrix formula (found by considering the determinants of the matrices on the left and right sides of the matrix formula). 2  Approximation to the square root of two  Pell numbers arise historically and most notably in the rational approximation to the square root of 2 . If two large integers x and y form a solution to the Pell equation         x  2   -   2   y  2     =   ±  1    ,         superscript  x  2     2   superscript  y  2      plus-or-minus  1     \displaystyle x^{2}-2y^{2}=\pm 1,   then their ratio    x  y      x  y    \tfrac{x}{y}   provides a close approximation to    2      2    \scriptstyle\sqrt{2}   . The sequence of approximations of this form is      1  ,   3  2   ,   7  5   ,   17  12   ,   41  29   ,   99  70   ,  …     1    3  2     7  5     17  12     41  29     99  70   normal-…    1,\frac{3}{2},\frac{7}{5},\frac{17}{12},\frac{41}{29},\frac{99}{70},\dots   where the denominator of each fraction is a Pell number and the numerator is the sum of a Pell number and its predecessor in the sequence. That is, the solutions have the form      P   n  -  1    +   P  n     P  n          subscript  P    n  1     subscript  P  n     subscript  P  n     \tfrac{P_{n-1}+P_{n}}{P_{n}}   . The approximation       2   ≈   577  408         2     577  408     \sqrt{2}\approx\frac{577}{408}   of this type was known to Indian mathematicians in the third or fourth century B.C. 3 The Greek mathematicians of the fifth century B.C. also knew of this sequence of approximations: 4 Plato refers to the numerators as rational diameters . 5 In the 2nd century CE Theon of Smyrna used the term the side and diameter numbers to describe the denominators and numerators of this sequence. 6  These approximations can be derived from the continued fraction expansion of    2      2    \scriptstyle\sqrt{2}   :        2   =   1  +   1   2  +    1   2  +    1   2  +    1   2  +    1   2  +   ⋱                   .        2     1   continued-fraction  1    2   continued-fraction  1    2   continued-fraction  1    2   continued-fraction  1    2   continued-fraction  1    2  normal-⋱               \sqrt{2}=1+\cfrac{1}{2+\cfrac{1}{2+\cfrac{1}{2+\cfrac{1}{2+\cfrac{1}{2+\ddots%
 \,}}}}}.   Truncating this expansion to any number of terms produces one of the Pell-number-based approximations in this sequence; for instance,        577  408   =   1  +   1   2  +    1   2  +    1   2  +    1   2  +    1   2  +    1   2  +    1  2                       .        577  408     1   continued-fraction  1    2   continued-fraction  1    2   continued-fraction  1    2   continued-fraction  1    2   continued-fraction  1    2   continued-fraction  1    2   continued-fraction  1  2                  \frac{577}{408}=1+\cfrac{1}{2+\cfrac{1}{2+\cfrac{1}{2+\cfrac{1}{2+\cfrac{1}{2+%
 \cfrac{1}{2+\cfrac{1}{2}}}}}}}.     As Knuth (1994) describes, the fact that Pell numbers approximate    2      2    \scriptstyle\sqrt{2}   allows them to be used for accurate rational approximations to a regular octagon with vertex coordinates    (   ±   P  i    ,   ±   P   i  +  1     )      plus-or-minus   subscript  P  i     plus-or-minus   subscript  P    i  1       (\pm P_{i},\pm P_{i+1})   and    (   ±   P   i  +  1     ,   ±   P  i    )      plus-or-minus   subscript  P    i  1      plus-or-minus   subscript  P  i      (\pm P_{i+1},\pm P_{i})   . All vertices are equally distant from the origin, and form nearly uniform angles around the origin. Alternatively, the points    (   ±   (    P  i   +   P   i  -  1     )    ,  0  )      plus-or-minus     subscript  P  i    subscript  P    i  1      0    (\pm(P_{i}+P_{i-1}),0)   ,    (  0  ,   ±   (    P  i   +   P   i  -  1     )    )     0   plus-or-minus     subscript  P  i    subscript  P    i  1        (0,\pm(P_{i}+P_{i-1}))   , and    (   ±   P  i    ,   ±   P  i    )      plus-or-minus   subscript  P  i     plus-or-minus   subscript  P  i      (\pm P_{i},\pm P_{i})   form approximate octagons in which the vertices are nearly equally distant from the origin and form uniform angles.  Primes and squares  A Pell prime is a Pell number that is prime . The first few Pell primes are   2, 5, 29, 5741, ... .   For these n s are   2, 3, 5, 11, 13, 29, 41, 53, 59, 89, 97, 101, 167, 181, 191, ...   As with the Fibonacci numbers, a Pell number    P  n     subscript  P  n    P_{n}   can only be prime if n itself is prime, because if and only if a divides b , then    P  a     subscript  P  a    P_{a}   divides    P  b     subscript  P  b    P_{b}   .  If and only if a prime p  congruent to 1 or 7 (mod 8), then p divides P p-1 , otherwise, p divides P p+1 . (The only exception is p = 2, if and only if p = 2, then p divides P p )  The only Pell numbers that are squares, cubes, or any higher power of an integer are 0, 1, and 169 = 13 2 . 7  However, despite having so few squares or other powers, Pell numbers have a close connection to square triangular numbers . 8 Specifically, these numbers arise from the following identity of Pell numbers:         (    (    P   k  -  1    +   P  k    )   ⋅   P  k    )   2   =      (    P   k  -  1    +   P  k    )   2   ⋅   (     (    P   k  -  1    +   P  k    )   2   -    (   -  1   )   k    )    2    .       superscript   normal-⋅     subscript  P    k  1     subscript  P  k     subscript  P  k    2      normal-⋅   superscript     subscript  P    k  1     subscript  P  k    2      superscript     subscript  P    k  1     subscript  P  k    2    superscript    1   k     2     \bigl((P_{k-1}+P_{k})\cdot P_{k}\bigr)^{2}=\frac{(P_{k-1}+P_{k})^{2}\cdot\left%
 ((P_{k-1}+P_{k})^{2}-(-1)^{k}\right)}{2}.   The left side of this identity describes a square number , while the right side describes a triangular number , so the result is a square triangular number.  Santana and Diaz-Barrero (2006) prove another identity relating Pell numbers to squares and showing that the sum of the Pell numbers up to    P    4  n   +  1      subscript  P      4  n   1     P_{4n+1}   is always a square:         ∑   i  =  0     4  n   +  1     P  i    =    (    ∑   r  =  0   n     2  r    (       2  n   +  1        2  r      )     )   2   =    (    P   2  n    +   P    2  n   +  1     )   2    .          superscript   subscript     i  0        4  n   1     subscript  P  i     superscript    superscript   subscript     r  0    n      superscript  2  r    binomial      2  n   1     2  r      2         superscript     subscript  P    2  n     subscript  P      2  n   1     2      \sum_{i=0}^{4n+1}P_{i}=\left(\sum_{r=0}^{n}2^{r}{2n+1\choose 2r}\right)^{2}=(P%
 _{2n}+P_{2n+1})^{2}.   For instance, the sum of the Pell numbers up to    P  5     subscript  P  5    P_{5}   ,     0  +  1  +  2  +  5  +  12  +  29   =  49        0  1  2  5  12  29   49    0+1+2+5+12+29=49   , is the square of      P  2   +   P  3    =   2  +  5   =  7           subscript  P  2    subscript  P  3      2  5        7     P_{2}+P_{3}=2+5=7   . The numbers     P   2  n    +   P    2  n   +  1         subscript  P    2  n     subscript  P      2  n   1      P_{2n}+P_{2n+1}   forming the square roots of these sums,   1, 7, 41, 239, 1393, 8119, 47321, ... ,   are known as the Newman–Shanks–Williams (NSW) numbers .  Pythagorean triples  If a right triangle has integer side lengths a , b , c (necessarily satisfying the Pythagorean theorem  a 2 + b 2 = c 2 ), then ( a , b , c ) is known as a Pythagorean triple . As Martin (1875) describes, the Pell numbers can be used to form Pythagorean triples in which a and b are one unit apart, corresponding to right triangles that are nearly isosceles. Each such triple has the form       (     2   P  n    P   n  +  1     ,    P   n  +  1   2   -   P  n  2    ,    P   n  +  1   2   +   P  n  2     =   P    2  n   +  1     )   .         2   subscript  P  n    subscript  P    n  1        superscript   subscript  P    n  1    2    superscript   subscript  P  n   2       superscript   subscript  P    n  1    2    superscript   subscript  P  n   2      subscript  P      2  n   1      (2P_{n}P_{n+1},P_{n+1}^{2}-P_{n}^{2},P_{n+1}^{2}+P_{n}^{2}=P_{2n+1}).   The sequence of Pythagorean triples formed in this way is   (4,3,5), (20,21,29), (120,119,169), (696,697,985), ....   Pell-Lucas numbers  The companion Pell numbers or Pell-Lucas numbers are defined by the recurrence relation       Q  n   =   {     2       if  n   =  0   ;       2       if  n   =  1   ;         2   Q   n  -  1     +   Q   n  -  2       otherwise.           subscript  Q  n    cases  2      if  n   0   2      if  n   1       2   subscript  Q    n  1      subscript  Q    n  2     otherwise.     Q_{n}=\begin{cases}2&\mbox{if }n=0;\\
 2&\mbox{if }n=1;\\
 2Q_{n-1}+Q_{n-2}&\mbox{otherwise.}\end{cases}     In words: the first two numbers in the sequence are both 2, and each successive number is formed by adding twice the previous Pell-Lucas number to the Pell-Lucas number before that, or equivalently, by adding the next Pell number to the previous Pell number: thus, 82 is the companion to 29, and 82 = 2 * 34 + 14 = 70 + 12. The first few terms of the sequence are : 2 , 2 , 6 , 14 , 34 , 82 , 198 , 478 ...  Like the Fibonacci number to Lucas number ,     Q  n   =    P   2  n     P  n         subscript  Q  n      subscript  P    2  n     subscript  P  n      Q_{n}=\frac{P_{2n}}{P_{n}}   for all natural number n .  The companion Pell numbers can be expressed by the closed form formula        Q  n   =     (   1  +   2    )   n   +    (   1  -   2    )   n     .       subscript  Q  n      superscript    1    2    n    superscript    1    2    n      Q_{n}=(1+\sqrt{2})^{n}+(1-\sqrt{2})^{n}.     These numbers are all even; each such number is twice the numerator in one of the rational approximations to    2      2    \scriptstyle\sqrt{2}   discussed above.  Like the Lucas sequence, if a Pell-Lucas number     Q  n   2       subscript  Q  n   2    \frac{Q_{n}}{2}   is prime, it is necessary that n be either prime or a power of 2. The Pell-Lucas primes are   3, 7, 17, 41, 239, 577, ... .   For these n s are   2, 3, 4, 5, 7, 8, 16, 19, 29, 47, 59, 163, 257, 421, ... .   Computations and connections  The following table gives the first few powers of the silver ratio     δ  =   δ  S   =   1  +   2          δ   subscript  δ  S          1    2       \delta=\delta_{S}=1+\sqrt{2}   and its conjugate     δ  ¯   =   1  -   2         normal-¯  δ     1    2      \bar{\delta}=1-\sqrt{2}   .         n   n   n           (   1  +   2    )   n     superscript    1    2    n    (1+\sqrt{2})^{n}           (   1  -   2    )   n     superscript    1    2    n    (1-\sqrt{2})^{n}          0        1  +   0   2     =  1.0        1    0    2     1.0    1+0\sqrt{2}=1.0           1  -   0   2     =  1.0        1    0    2     1.0    1-0\sqrt{2}=1.0        1        1  +   1   2     =   2.41421  …         1    1    2       2.41421  normal-…     1+1\sqrt{2}=2.41421\ldots           1  -   1   2     =   -   0.41421  …          1    1    2         0.41421  normal-…      1-1\sqrt{2}=-0.41421\ldots        2        3  +   2   2     =   5.82842  …         3    2    2       5.82842  normal-…     3+2\sqrt{2}=5.82842\ldots           3  -   2   2     =   0.17157  …         3    2    2       0.17157  normal-…     3-2\sqrt{2}=0.17157\ldots        3        7  +   5   2     =   14.07106  …         7    5    2       14.07106  normal-…     7+5\sqrt{2}=14.07106\ldots           7  -   5   2     =   -   0.07106  …          7    5    2         0.07106  normal-…      7-5\sqrt{2}=-0.07106\ldots        4        17  +   12   2     =   33.97056  …         17    12    2       33.97056  normal-…     17+12\sqrt{2}=33.97056\ldots           17  -   12   2     =   0.02943  …         17    12    2       0.02943  normal-…     17-12\sqrt{2}=0.02943\ldots        5        41  +   29   2     =   82.01219  …         41    29    2       82.01219  normal-…     41+29\sqrt{2}=82.01219\ldots           41  -   29   2     =   -   0.01219  …          41    29    2         0.01219  normal-…      41-29\sqrt{2}=-0.01219\ldots        6        99  +   70   2     =   197.9949  …         99    70    2       197.9949  normal-…     99+70\sqrt{2}=197.9949\ldots           99  -   70   2     =   0.0050  …         99    70    2       0.0050  normal-…     99-70\sqrt{2}=0.0050\ldots        7        239  +   169   2     =   478.00209  …         239    169    2       478.00209  normal-…     239+169\sqrt{2}=478.00209\ldots           239  -   169   2     =   -   0.00209  …          239    169    2         0.00209  normal-…      239-169\sqrt{2}=-0.00209\ldots        8        577  +   408   2     =   1153.99913  …         577    408    2       1153.99913  normal-…     577+408\sqrt{2}=1153.99913\ldots           577  -   408   2     =   0.00086  …         577    408    2       0.00086  normal-…     577-408\sqrt{2}=0.00086\ldots        9        1393  +   985   2     =   2786.00035  …         1393    985    2       2786.00035  normal-…     1393+985\sqrt{2}=2786.00035\ldots           1393  -   985   2     =   -   0.00035  …          1393    985    2         0.00035  normal-…      1393-985\sqrt{2}=-0.00035\ldots        10        3363  +   2378   2     =   6725.99985  …         3363    2378    2       6725.99985  normal-…     3363+2378\sqrt{2}=6725.99985\ldots           3363  -   2378   2     =   0.00014  …         3363    2378    2       0.00014  normal-…     3363-2378\sqrt{2}=0.00014\ldots        11        8119  +   5741   2     =   16238.00006  …         8119    5741    2       16238.00006  normal-…     8119+5741\sqrt{2}=16238.00006\ldots           8119  -   5741   2     =   -   0.00006  …          8119    5741    2         0.00006  normal-…      8119-5741\sqrt{2}=-0.00006\ldots        12        19601  +   13860   2     =   39201.99997  …         19601    13860    2       39201.99997  normal-…     19601+13860\sqrt{2}=39201.99997\ldots           19601  -   13860   2     =   0.00002  …         19601    13860    2       0.00002  normal-…     19601-13860\sqrt{2}=0.00002\ldots        The coefficients are the half companion Pell numbers    H  n     subscript  H  n    H_{n}   and the Pell numbers    P  n     subscript  P  n    P_{n}   which are the (non-negative) solutions to      H  2   -   2   P  2     =   ±  1          superscript  H  2     2   superscript  P  2      plus-or-minus  1     H^{2}-2P^{2}=\pm 1   . A square triangular number is a number    N  =    t   (   t  +  1   )    2   =   s  2         N      t    t  1    2         superscript  s  2      N=\frac{t(t+1)}{2}=s^{2}   which is both the    t    t   t\,   th triangular number and the    s    s   s\,   th square number. A near isosceles Pythagorean triple is an integer solution to      a  2   +   b  2    =   c  2          superscript  a  2    superscript  b  2     superscript  c  2     a^{2}+b^{2}=c^{2}   where     a  +  1   =  b        a  1   b    a+1=b   .  The next table shows that splitting the odd number    H  n     subscript  H  n    H_{n}   into nearly equal halves gives a square triangular number when n is even and a near isosceles Pythagorean triple when n is odd. All solutions arise in this manner.         n   n   n          H  n     subscript  H  n    H_{n}          P  n     subscript  P  n    P_{n}      t   t+1   s   a   b   c       0   1   0   0   0   0     1   1   1      0   1   1     2   3   2   1   2   1     3   7   5      3   4   5     4   17   12   8   9   6     5   41   29      20   21   29     6   99   70   49   50   35     7   239   169      119   120   169     8   577   408   288   289   204     9   1393   985      696   697   985     10   3363   2378   1681   1682   1189     11   8119   5741      4059   4060   5741     12   19601   13860   9800   9801   6930     Definitions  The half companion Pell Numbers    H  n     subscript  H  n    H_{n}   and the Pell numbers    P  n     subscript  P  n    P_{n}   can be derived in a number of easily equivalent ways:  Raising to powers :        (   1  +   2    )   n   =    H  n   +    P  n    2          superscript    1    2    n      subscript  H  n      subscript  P  n     2       (1+\sqrt{2})^{n}=H_{n}+P_{n}\sqrt{2}            (   1  -   2    )   n   =    H  n   -    P  n    2      .       superscript    1    2    n      subscript  H  n      subscript  P  n     2       (1-\sqrt{2})^{n}=H_{n}-P_{n}\sqrt{2}.     From this it follows that there are closed forms :        H  n   =      (   1  +   2    )   n   +    (   1  -   2    )   n    2    .       subscript  H  n        superscript    1    2    n    superscript    1    2    n    2     H_{n}=\frac{(1+\sqrt{2})^{n}+(1-\sqrt{2})^{n}}{2}.   and         P  n    2    =      (   1  +   2    )   n   -    (   1  -   2    )   n    2    .         subscript  P  n     2         superscript    1    2    n    superscript    1    2    n    2     P_{n}\sqrt{2}=\frac{(1+\sqrt{2})^{n}-(1-\sqrt{2})^{n}}{2}.     Paired recurrences :       H  n   =   {     1       if  n   =  0   ;         H   n  -  1    +   2   P   n  -  1        otherwise.           subscript  H  n    cases  1      if  n   0      subscript  H    n  1      2   subscript  P    n  1      otherwise.     H_{n}=\begin{cases}1&\mbox{if }n=0;\\
 H_{n-1}+2P_{n-1}&\mbox{otherwise.}\end{cases}          P  n   =   {     0       if  n   =  0   ;         H   n  -  1    +   P   n  -  1       otherwise.           subscript  P  n    cases  0      if  n   0      subscript  H    n  1     subscript  P    n  1     otherwise.     P_{n}=\begin{cases}0&\mbox{if }n=0;\\
 H_{n-1}+P_{n-1}&\mbox{otherwise.}\end{cases}     and matrix formulations :        (      H  n        P  n      )   =    (     1    2      1    1     )    (      H   n  -  1         P   n  -  1       )    =     (     1    2      1    1     )   n    (     1      0     )     .           subscript  H  n      subscript  P  n         1  2    1  1       subscript  H    n  1       subscript  P    n  1               superscript    1  2    1  1    n     1    0        \begin{pmatrix}H_{n}\\
 P_{n}\end{pmatrix}=\begin{pmatrix}1&2\\
 1&1\end{pmatrix}\begin{pmatrix}H_{n-1}\\
 P_{n-1}\end{pmatrix}=\begin{pmatrix}1&2\\
 1&1\end{pmatrix}^{n}\begin{pmatrix}1\\
 0\end{pmatrix}.     So        (      H  n      2   P  n         P  n      H  n      )   =    (     1    2      1    1     )   n    .         subscript  H  n     2   subscript  P  n       subscript  P  n    subscript  H  n      superscript    1  2    1  1    n     \begin{pmatrix}H_{n}&2P_{n}\\
 P_{n}&H_{n}\end{pmatrix}=\begin{pmatrix}1&2\\
 1&1\end{pmatrix}^{n}.     Approximations  The difference between     H  n      subscript  H  n    H_{n}\,   and     P  n    2        subscript  P  n     2     P_{n}\sqrt{2}   is      (   1  -   2    )   n   ≈    (   -  0.41421   )   n        superscript    1    2    n    superscript    0.41421   n     (1-\sqrt{2})^{n}\approx(-0.41421)^{n}   which goes rapidly to zero. So      (   1  +   2    )   n   =    H  n   +    P  n    2          superscript    1    2    n      subscript  H  n      subscript  P  n     2       (1+\sqrt{2})^{n}=H_{n}+P_{n}\sqrt{2}   is extremely close    2    H  n        2   subscript  H  n     2H_{n}\,   .  From this last observation it follows that the integer ratios     H  n    P  n        subscript  H  n    subscript  P  n     \frac{H_{n}}{P_{n}}   rapidly approach     2       2    \sqrt{2}\,   while      H  n    H   n  -  1          subscript  H  n    subscript  H    n  1      \frac{H_{n}}{H_{n-1}}\,   and      P  n    P   n  -  1          subscript  P  n    subscript  P    n  1      \frac{P_{n}}{P_{n-1}}\,   rapidly approach    1  +    2        1    2     1+\sqrt{2}\,   .  === H 2 − 2 P 2 = ±1 ===  Since    2      2    \sqrt{2}   is irrational, we can't have     H  P   =    2          H  P     2     \frac{H}{P}=\sqrt{2}\,   i.e.      H  2    P  2    =     2   P  2     P  2            superscript  H  2    superscript  P  2        2   superscript  P  2     superscript  P  2      \frac{H^{2}}{P^{2}}=\frac{2P^{2}}{P^{2}}\,   . The best we can achieve is either      H  2    P  2    =      2   P  2    -  1    P  2            superscript  H  2    superscript  P  2          2   superscript  P  2    1    superscript  P  2      \frac{H^{2}}{P^{2}}=\frac{2P^{2}-1}{P^{2}}\,   or      H  2    P  2    =     2   P  2    +  1    P  2           superscript  H  2    superscript  P  2          2   superscript  P  2    1    superscript  P  2      \frac{H^{2}}{P^{2}}=\frac{2P^{2}+1}{P^{2}}   .  The (non-negative) solutions to      H  2   -   2   P  2     =   1          superscript  H  2     2   superscript  P  2     1    H^{2}-2P^{2}=1\,   are exactly the pairs     H  n   ,    P  n   with   n        subscript  H  n      subscript  P  n   with  n     H_{n},P_{n}\mbox{ with }n\,   even and the solutions to      H  2   -   2   P  2     =   -   1           superscript  H  2     2   superscript  P  2       1     H^{2}-2P^{2}=-1\,   are exactly the pairs     H  n   ,    P  n   with   n        subscript  H  n      subscript  P  n   with  n     H_{n},P_{n}\mbox{ with }n\,   odd. To see this, note first that        H   n  +  1   2   -   2   P   n  +  1   2     =     (    H  n   +   2   P  n     )   2   -   2    (    H  n   +   P  n    )   2     =   -   (    H  n  2   -   2   P  n  2     )             superscript   subscript  H    n  1    2     2   superscript   subscript  P    n  1    2        superscript     subscript  H  n     2   subscript  P  n     2     2   superscript     subscript  H  n    subscript  P  n    2               superscript   subscript  H  n   2     2   superscript   subscript  P  n   2         H_{n+1}^{2}-2P_{n+1}^{2}=(H_{n}+2P_{n})^{2}-2(H_{n}+P_{n})^{2}=-(H_{n}^{2}-2P_%
 {n}^{2})\,   so that these differences, starting with      H  0  2   -   2   P  0  2     =   1          superscript   subscript  H  0   2     2   superscript   subscript  P  0   2     1    H_{0}^{2}-2P_{0}^{2}=1\,   are alternately     1  and   -   1         1  and   1    1\mbox{ and }-1\,   . Then note that every positive solution comes in this way from a solution with smaller integers since       (    2  P   -  H   )   2   -   2    (   H  -  P   )   2     =   -   (    H  2   -   2   P  2     )           superscript      2  P   H   2     2   superscript    H  P   2          superscript  H  2     2   superscript  P  2        (2P-H)^{2}-2(H-P)^{2}=-(H^{2}-2P^{2})\,   . The smaller solution also has positive integers with the one exception    H  =  P  =   1         H  P       1     H=P=1\,   which comes from     H  0   =   1  and   P  0    =   0          subscript  H  0     1  and   subscript  P  0         0     H_{0}=1\mbox{ and }P_{0}=0\,   .  Square triangular numbers  The required equation      t   (   t  +  1   )    2   =    s  2            t    t  1    2    superscript  s  2     \frac{t(t+1)}{2}=s^{2}\,   is equivalent to      4   t  2    +   4  t   +  1   =    8   s  2    +   1            4   superscript  t  2      4  t   1       8   superscript  s  2    1     4t^{2}+4t+1=8s^{2}+1\,   which becomes     H  2   =    2   P  2    +  1        superscript  H  2       2   superscript  P  2    1     H^{2}=2P^{2}+1   with the substitutions    H  =    2  t   +   1  and  P    =   2  s         H      2  t     1  and  P           2  s      H=2t+1\mbox{ and }P=2s   . Hence the nth solution is     t  n   =     H   2  n    -  1   2        subscript  t  n        subscript  H    2  n    1   2     t_{n}=\frac{H_{2n}-1}{2}   and      s  n   =    P   2  n    2    .       subscript  s  n      subscript  P    2  n    2     s_{n}=\frac{P_{2n}}{2}.     Observe that   t   t   t   and    t  +  1      t  1    t+1   are relatively prime so that      t   (   t  +  1   )    2   =    s  2            t    t  1    2    superscript  s  2     \frac{t(t+1)}{2}=s^{2}\,   happens exactly when they are adjacent integers, one a square    H  2     superscript  H  2    H^{2}   and the other twice a square    2   P  2       2   superscript  P  2     2P^{2}   . Since we know all solutions of that equation, we also have       t  n   =   {      2   P  n  2        if  n  is even   ;        H  n  2      if  n  is odd.            subscript  t  n    cases    2   superscript   subscript  P  n   2      if  n  is even    superscript   subscript  H  n   2     if  n  is odd.      t_{n}=\begin{cases}2P_{n}^{2}&\mbox{if }n\mbox{ is even};\\
 H_{n}^{2}&\mbox{if }n\mbox{ is odd.}\end{cases}   and     s  n   =    H  n     P  n          subscript  s  n      subscript  H  n    subscript  P  n      s_{n}=H_{n}P_{n}\,     This alternate expression is seen in the next table.         n   n   n          H  n     subscript  H  n    H_{n}          P  n     subscript  P  n    P_{n}       t   t+1   s    a   b   c       0   1   0             1   1   1    1   2   1    3   4   5     2   3   2    8   9   6    21   20   29     3   7   5    49   50   35    119   120   169     4   17   12    288   289   204    697   696   985     5   41   29    1681   1682   1189    4059   4060   5741     6   99   70    9800   9801   6930    23661   23660   33461     Pythagorean triples  The equality     c  2   =    a  2   +    (   a  +  1   )   2    =    2   a  2    +   2  a   +  1          superscript  c  2      superscript  a  2    superscript    a  1   2             2   superscript  a  2      2  a   1      c^{2}=a^{2}+(a+1)^{2}=2a^{2}+2a+1   occurs exactly when     2   c  2    =    4   a  2    +   4  a   +  2         2   superscript  c  2        4   superscript  a  2      4  a   2     2c^{2}=4a^{2}+4a+2   which becomes     2   P  2    =    H  2   +  1         2   superscript  P  2       superscript  H  2   1     2P^{2}=H^{2}+1   with the substitutions    H  =    2  a   +   1  and  P    =  c        H      2  a     1  and  P         c     H=2a+1\mbox{ and }P=c   . Hence the nth solution is     a  n   =     H    2  n   +  1    -  1   2        subscript  a  n        subscript  H      2  n   1    1   2     a_{n}=\frac{H_{2n+1}-1}{2}   and      c  n   =   P    2  n   +  1     .       subscript  c  n    subscript  P      2  n   1      c_{n}={P_{2n+1}}.\,     The table above shows that, in one order or the other,      a  n   and   b  n    =    a  n   +  1          subscript  a  n   and   subscript  b  n       subscript  a  n   1     a_{n}\mbox{ and }b_{n}=a_{n}+1   are     H  n    H   n  +  1    and  2   P  n    P   n  +  1         subscript  H  n    subscript  H    n  1    and  2   subscript  P  n    subscript  P    n  1      H_{n}H_{n+1}\mbox{ and }2P_{n}P_{n+1}   while      c  n   =     H   n  +  1     P  n    +    P   n  +  1     H  n      .       subscript  c  n        subscript  H    n  1     subscript  P  n       subscript  P    n  1     subscript  H  n       c_{n}=H_{n+1}P_{n}+P_{n+1}H_{n}.     Notes    References                       External links     "  Category:Integer sequences  Category:Recurrence relations     For instance, Sellers (2002) proves that the number of perfect matchings in the Cartesian product of a path graph and the graph K 4 - e can be calculated as the product of a Pell number with the corresponding Fibonacci number. ↩  For the matrix formula and its consequences see Ercolano (1979) and Kilic and Tasci (2005). Additional identities for the Pell numbers are listed by Horadam (1971) and Bicknell (1975). ↩  As recorded in the Shulba Sutras ; see e.g. Dutka (1986), who cites Thibaut (1875) for this information. ↩  See Knorr (1976) for the fifth century date, which matches Proclus ' claim that the side and diameter numbers were discovered by the Pythagoreans . For more detailed exploration of later Greek knowledge of these numbers see Thompson (1929), Vedova (1951), Ridenhour (1986), Knorr (1998), and Filep (1999). ↩  For instance, as several of the references from the previous note observe, in Plato's Republic there is a reference to the "rational diameter of 5", by which Plato means 7, the numerator of the approximation 7/5 of which 5 is the denominator. ↩  . ↩  Pethő (1992); Cohn (1996). Although the Fibonacci numbers are defined by a very similar recurrence to the Pell numbers, Cohn writes that an analogous result for the Fibonacci numbers seems much more difficult to prove. (However, this was proven in 2006 by Bugeaud et al.) ↩  Sesskin (1962). See the square triangular number article for a more detailed derivation. ↩     