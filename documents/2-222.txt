   Controllability      Controllability   Controllability is an important property of a control system , and the controllability property plays a crucial role in many control problems, such as stabilization of unstable systems by feedback, or optimal control.  Controllability and observability are dual aspects of the same problem.  Roughly, the concept of controllability denotes the ability to move a system around in its entire configuration space using only certain admissible manipulations. The exact definition varies slightly within the framework or the type of models applied.  The following are examples of variations of controllability notions which have been introduced in the systems and control literature:   State controllability  Output controllability  Controllability in the behavioural framework   State controllability  The state of a deterministic system , which is the set of values of all the system's state variables (those variables characterized by dynamic equations), completely describes the system at any given time. In particular, no information on the past of a system is needed to help in predicting the future, if the states at the present time are known and all current and future values of the control variables (those whose values can be chosen) are known.  Complete state controllability (or simply controllability if no other context is given) describes the ability of an external input (the vector of control variables) to move the internal state of a system from any initial state to any other final state in a finite time interval. 1  Note that controllability does not mean that once a state is reached, that state can be maintained, but merely that that (or any) state can be reached.  Continuous linear systems  Consider the continuous  linear system 2        𝐱  ˙    (  t  )    =    A   (  t  )   𝐱   (  t  )    +   B   (  t  )   𝐮   (  t  )            normal-˙  𝐱   t       A  t  𝐱  t     B  t  𝐮  t      \dot{\mathbf{x}}(t)=A(t)\mathbf{x}(t)+B(t)\mathbf{u}(t)           𝐲   (  t  )    =    C   (  t  )   𝐱   (  t  )    +   D   (  t  )   𝐮   (  t  )      .        𝐲  t       C  t  𝐱  t     D  t  𝐮  t      \mathbf{y}(t)=C(t)\mathbf{x}(t)+D(t)\mathbf{u}(t).     There exists a control   u   u   u   from state    x  0     subscript  x  0    x_{0}   at time    t  0     subscript  t  0    t_{0}   to state    x  1     subscript  x  1    x_{1}   at time     t  1   >   t  0        subscript  t  1    subscript  t  0     t_{1}>t_{0}   if and only if     x  1   -   ϕ   (   t  0   ,   t  1   )    x  0         subscript  x  1     ϕ    subscript  t  0    subscript  t  1     subscript  x  0      x_{1}-\phi(t_{0},t_{1})x_{0}   is in the column space of       W   (   t  0   ,   t  1   )    =    ∫   t  0    t  1     ϕ   (   t  0   ,  t  )   B   (  t  )   B    (  t  )   T   ϕ    (   t  0   ,  t  )   T   d  t          W    subscript  t  0    subscript  t  1       superscript   subscript    subscript  t  0     subscript  t  1      ϕ    subscript  t  0   t   B  t  B   superscript  t  T   ϕ   superscript    subscript  t  0   t   T   d  t      W(t_{0},t_{1})=\int_{t_{0}}^{t_{1}}\phi(t_{0},t)B(t)B(t)^{T}\phi(t_{0},t)^{T}dt   where   ϕ   ϕ   \phi   is the state-transition matrix , and    W   (   t  0   ,   t  1   )       W    subscript  t  0    subscript  t  1      W(t_{0},t_{1})   is the Controllability Gramian .  In fact, if    η  0     subscript  η  0    \eta_{0}   is a solution to     W   (   t  0   ,   t  1   )   η   =    x  1   -   ϕ   (   t  0   ,   t  1   )    x  0           W    subscript  t  0    subscript  t  1    η      subscript  x  1     ϕ    subscript  t  0    subscript  t  1     subscript  x  0       W(t_{0},t_{1})\eta=x_{1}-\phi(t_{0},t_{1})x_{0}   then a control given by     u   (  t  )    =   -   B    (  t  )   T   ϕ    (   t  0   ,  t  )   T    η  0           u  t       B   superscript  t  T   ϕ   superscript    subscript  t  0   t   T    subscript  η  0       u(t)=-B(t)^{T}\phi(t_{0},t)^{T}\eta_{0}   would make the desired transfer.  Note that the matrix   W   W   W   defined as above has the following properties:       W   (   t  0   ,   t  1   )       W    subscript  t  0    subscript  t  1      W(t_{0},t_{1})   is symmetric      W   (   t  0   ,   t  1   )       W    subscript  t  0    subscript  t  1      W(t_{0},t_{1})   is positive semidefinite for     t  1   ≥   t  0        subscript  t  1    subscript  t  0     t_{1}\geq t_{0}         W   (   t  0   ,   t  1   )       W    subscript  t  0    subscript  t  1      W(t_{0},t_{1})   satisfies the linear matrix differential equation            d   d  t    W   (  t  ,   t  1   )    =     A   (  t  )   W   (  t  ,   t  1   )    +   W   (  t  ,   t  1   )   A    (  t  )   T     -   B   (  t  )   B    (  t  )   T      ,    W   (   t  1   ,   t  1   )    =  0      formulae-sequence        d    d  t    W   t   subscript  t  1           A  t  W   t   subscript  t  1       W   t   subscript  t  1    A   superscript  t  T       B  t  B   superscript  t  T          W    subscript  t  1    subscript  t  1     0     \frac{d}{dt}W(t,t_{1})=A(t)W(t,t_{1})+W(t,t_{1})A(t)^{T}-B(t)B(t)^{T},\;W(t_{1%
 },t_{1})=0             W   (   t  0   ,   t  1   )       W    subscript  t  0    subscript  t  1      W(t_{0},t_{1})   satisfies the equation          W   (   t  0   ,   t  1   )    =    W   (   t  0   ,  t  )    +   ϕ   (   t  0   ,  t  )   W   (  t  ,   t  1   )   ϕ    (   t  0   ,  t  )   T           W    subscript  t  0    subscript  t  1         W    subscript  t  0   t      ϕ    subscript  t  0   t   W   t   subscript  t  1    ϕ   superscript    subscript  t  0   t   T       W(t_{0},t_{1})=W(t_{0},t)+\phi(t_{0},t)W(t,t_{1})\phi(t_{0},t)^{T}    3      Continuous linear time-invariant (LTI) systems  Consider the continuous linear time-invariant system        𝐱  ˙    (  t  )    =    A  𝐱   (  t  )    +   B  𝐮   (  t  )            normal-˙  𝐱   t       A  𝐱  t     B  𝐮  t      \dot{\mathbf{x}}(t)=A\mathbf{x}(t)+B\mathbf{u}(t)          𝐲   (  t  )    =    C  𝐱   (  t  )    +   D  𝐮   (  t  )           𝐲  t       C  𝐱  t     D  𝐮  t      \mathbf{y}(t)=C\mathbf{x}(t)+D\mathbf{u}(t)     where     𝐱   𝐱   \mathbf{x}   is the    n  ×  1      n  1    n\times 1   "state vector",     𝐲   𝐲   \mathbf{y}   is the    m  ×  1      m  1    m\times 1   "output vector",     𝐮   𝐮   \mathbf{u}   is the    r  ×  1      r  1    r\times 1   "input (or control) vector",     A   A   A   is the    n  ×  n      n  n    n\times n   "state matrix",     B   B   B   is the    n  ×  r      n  r    n\times r   "input matrix",     C   C   C   is the    m  ×  n      m  n    m\times n   "output matrix",     D   D   D   is the    m  ×  r      m  r    m\times r   "feedthrough (or feedforward) matrix".  The     n  ×  n   r        n  n   r    n\times nr   controllability matrix is given by      R  =   [     B     A  B       A  2   B     …      A   n  -  1    B      ]       R    B    A  B      superscript  A  2   B   normal-…     superscript  A    n  1    B       R=\begin{bmatrix}B&AB;&A;^{2}B&...&A;^{n-1}B\end{bmatrix}     The system is controllable if the controllability matrix has full row rank (i.e.     rank   (  R  )    =  n       rank  R   n    \operatorname{rank}(R)=n   ).  Discrete linear time-invariant (LTI) systems  For a discrete-time linear state-space system (i.e. time variable    k  ∈  ℤ      k  ℤ    k\in\mathbb{Z}   ) the state equation is       𝐱   (   k  +  1   )    =    A  𝐱   (  k  )    +   B  𝐮   (  k  )           x    k  1        A  x  k     B  u  k      \textbf{x}(k+1)=A\textbf{x}(k)+B\textbf{u}(k)     where   A   A   A   is an    n  ×  n      n  n    n\times n   matrix and   B   B   B   is a    n  ×  r      n  r    n\times r   matrix (i.e.   𝐮   𝐮   \mathbf{u}   is   r   r   r   inputs collected in a    r  ×  1      r  1    r\times 1   vector). The test for controllability is that the     n  ×  n   r        n  n   r    n\times nr   matrix      𝒞  =   [     B     A  B       A  2   B     ⋯      A   n  -  1    B      ]       𝒞    B    A  B      superscript  A  2   B   normal-⋯     superscript  A    n  1    B       \mathcal{C}=\begin{bmatrix}B&AB;&A;^{2}B&\cdots&A;^{n-1}B\end{bmatrix}     has full row rank (i.e.,     rank   (  𝒞  )    =  n       rank  𝒞   n    \operatorname{rank}(\mathcal{C})=n   ). That is, if the system is controllable,   𝒞   𝒞   \mathcal{C}   will have   n   n   n   columns that are linearly independent ; if   n   n   n   columns of   𝒞   𝒞   \mathcal{C}   are linearly independent , each of the   n   n   n   states is reachable by giving the system proper inputs through the variable    u   (  k  )       u  k    u(k)   .  Derivation  Given the state    𝐱   (  0  )       x  0    \textbf{x}(0)   at an initial time, arbitrarily denoted as k =0, the state equation gives      𝐱   (  1  )    =    A  𝐱   (  0  )    +   B  𝐮   (  0  )      ,        x  1       A  x  0     B  u  0      \textbf{x}(1)=A\textbf{x}(0)+B\textbf{u}(0),   then      𝐱   (  2  )    =    A  𝐱   (  1  )    +   B  𝐮   (  1  )     =     A  2   𝐱   (  0  )    +   A  B  𝐮   (  0  )    +   B  𝐮   (  1  )      ,          x  2       A  x  1     B  u  1              superscript  A  2   x  0     A  B  u  0     B  u  1       \textbf{x}(2)=A\textbf{x}(1)+B\textbf{u}(1)=A^{2}\textbf{x}(0)+AB\textbf{u}(0)%
 +B\textbf{u}(1),   and so on with repeated back-substitutions of the state variable, eventually yielding       𝐱   (  n  )    =    B  𝐮   (   n  -  1   )    +   A  B  𝐮   (   n  -  2   )    +  ⋯  +    A   n  -  1    B  𝐮   (  0  )    +    A  n   𝐱   (  0  )           x  n       B  u    n  1      A  B  u    n  2    normal-⋯     superscript  A    n  1    B  u  0      superscript  A  n   x  0      \textbf{x}(n)=B\textbf{u}(n-1)+AB\textbf{u}(n-2)+\cdots+A^{n-1}B\textbf{u}(0)+%
 A^{n}\textbf{x}(0)     or equivalently         𝐱   (  n  )    -    A  n   𝐱   (  0  )     =    [    B   A   B    ⋯    A   n  -  1    B   ]     [    𝐮  T    (   n  -  1   )    𝐮  T    (   n  -  2   )    ⋯    𝐮  T    (  0  )    ]   T     .          x  n      superscript  A  n   x  0       delimited-[]    B  A  B  normal-⋯   superscript  A    n  1    B     superscript   delimited-[]     superscript  u  T     n  1    superscript  u  T     n  2   normal-⋯   superscript  u  T   0    T      \textbf{x}(n)-A^{n}\textbf{x}(0)=[B\,\,AB\,\,\cdots\,\,A^{n-1}B][\textbf{u}^{T%
 }(n-1)\,\,\textbf{u}^{T}(n-2)\,\,\cdots\,\,\textbf{u}^{T}(0)]^{T}.     Imposing any desired value of the state vector    𝐱   (  n  )       x  n    \textbf{x}(n)   on the left side, this can always be solved for the stacked vector of control vectors if and only if the matrix of matrices at the beginning of the right side has full row rank.  Example  For example, consider the case when    n  =  2      n  2    n=2   and    r  =  1      r  1    r=1   (i.e. only one control input). Thus,   B   B   B   and    A  B      A  B    AB   are    2  ×  1      2  1    2\times 1   vectors. If    [     B     A  B      ]      B    A  B      \begin{bmatrix}B&AB;\end{bmatrix}   has rank 2 (full rank), and so   B   B   B   and    A  B      A  B    AB   are linearly independent and span the entire plane. If the rank is 1, then   B   B   B   and    A  B      A  B    AB   are collinear and do not span the plane.  Assume that the initial state is zero.  At time    k  =  0      k  0    k=0        x   (  1  )    =    A  𝐱   (  0  )    +   B  𝐮   (  0  )     =   B  𝐮   (  0  )            x  1       A  x  0     B  u  0           B  u  0      x(1)=A\textbf{x}(0)+B\textbf{u}(0)=B\textbf{u}(0)     At time    k  =  1      k  1    k=1        x   (  2  )    =    A  𝐱   (  1  )    +   B  𝐮   (  1  )     =    A  B  𝐮   (  0  )    +   B  𝐮   (  1  )             x  2       A  x  1     B  u  1             A  B  u  0     B  u  1       x(2)=A\textbf{x}(1)+B\textbf{u}(1)=AB\textbf{u}(0)+B\textbf{u}(1)     At time    k  =  0      k  0    k=0   all of the reachable states are on the line formed by the vector   B   B   B   . At time    k  =  1      k  1    k=1   all of the reachable states are linear combinations of    A  B      A  B    AB   and   B   B   B   . If the system is controllable then these two vectors can span the entire plane and can be done so for time    k  =  2      k  2    k=2   . The assumption made that the initial state is zero is merely for convenience. Clearly if all states can be reached from the origin then any state can be reached from another state (merely a shift in coordinates).  This example holds for all positive   n   n   n   , but the case of    n  =  2      n  2    n=2   is easier to visualize.  ===Analogy for example of n = 2=== Consider an analogy to the previous example system. You are sitting in your car on an infinite, flat plane and facing north. The goal is to reach any point in the plane by driving a distance in a straight line, come to a full stop, turn, and driving another distance, again, in a straight line. If your car has no steering then you can only drive straight, which means you can only drive on a line (in this case the north-south line since you started facing north). The lack of steering case would be analogous to when the rank of   C   C   C   is 1 (the two distances you drove are on the same line).  Now, if your car did have steering then you could easily drive to any point in the plane and this would be the analogous case to when the rank of   C   C   C   is 2.  If you change this example to    n  =  3      n  3    n=3   then the analogy would be flying in space to reach any position in 3D space (ignoring the orientation of the aircraft ). You are allowed to:   fly in a straight line  turn left or right by any amount ( Yaw )  direct the plane upwards or downwards by any amount ( Pitch )   Although the 3-dimensional case is harder to visualize, the concept of controllability is still analogous.  Nonlinear systems  Nonlinear systems in the control-affine form       𝐱  ˙   =    𝐟   (  𝐱  )    +    ∑   i  =  1   m     𝐠  i    (  𝐱  )    u  i           normal-˙  𝐱       𝐟  𝐱     superscript   subscript     i  1    m      subscript  𝐠  i   𝐱   subscript  u  i        \dot{\mathbf{x}}=\mathbf{f(x)}+\sum_{i=1}^{m}\mathbf{g}_{i}(\mathbf{x})u_{i}     are locally accessible about    x  0     subscript  x  0    x_{0}   if the accessibility distribution   R   R   R   spans   n   n   n   space, when   n   n   n   equals the rank of   x   x   x   and R is given by: 4       R  =   [      𝐠  1     ⋯     𝐠  m      [    ad   𝐠  i   k    𝐠  𝐣    ]     ⋯     [    ad  𝐟  k    𝐠  𝐢    ]      ]    .      R     subscript  𝐠  1   normal-⋯   subscript  𝐠  m    delimited-[]     subscript   superscript  ad  k    subscript  𝐠  i     subscript  𝐠  𝐣     normal-⋯   delimited-[]     subscript   superscript  ad  k   𝐟    subscript  𝐠  𝐢         R=\begin{bmatrix}\mathbf{g}_{1}&\cdots&\mathbf{g}_{m}&[\mathrm{ad}^{k}_{%
 \mathbf{g}_{i}}\mathbf{\mathbf{g}_{j}}]&\cdots&[\mathrm{ad}^{k}_{\mathbf{f}}%
 \mathbf{\mathbf{g}_{i}}]\end{bmatrix}.     Here,    [    ad  𝐟  k   𝐠   ]     delimited-[]     subscript   superscript  ad  k   𝐟   𝐠     [\mathrm{ad}^{k}_{\mathbf{f}}\mathbf{\mathbf{g}}]   is the repeated Lie bracket operation defined by        [    ad  𝐟  k   𝐠   ]   =   [     𝐟    ⋯    j    ⋯     [  𝐟  ,  𝐠  ]      ]    .       delimited-[]     subscript   superscript  ad  k   𝐟   𝐠      𝐟  normal-⋯  j  normal-⋯   𝐟  𝐠       [\mathrm{ad}^{k}_{\mathbf{f}}\mathbf{\mathbf{g}}]=\begin{bmatrix}\mathbf{f}&%
 \cdots&j;&\cdots&\mathbf{[\mathbf{f},\mathbf{g}]}\end{bmatrix}.     The controllability matrix for linear systems in the previous section can in fact be derived from this equation.  Output controllability  Output controllability is the related notion for the output of the system (denoted y in the previous equations); the output controllability describes the ability of an external input to move the output from any initial condition to any final condition in a finite time interval. It is not necessary that there is any relationship between state controllability and output controllability. In particular:   A controllable system is not necessarily output controllable. For example, if matrix D = 0 and matrix C does not have full row rank, then some positions of the output are masked by the limiting structure of the output matrix. Moreover, even though the system can be moved to any state in finite time, there may be some outputs that are inaccessible by all states. A trivial numerical example uses D =0 and a C matrix with at least one row of zeros; thus, the system is not able to produce a non-zero output along that dimension.  An output controllable system is not necessarily state controllable. For example, if the dimension of the state space is greater than the dimension of the output, then there will be a set of possible state configurations for each individual output. That is, the system can have significant zero dynamics , which are trajectories of the system that are not observable from the output. Consequently, being able to drive an output to a particular position in finite time says nothing about the state configuration of the system.   For a linear continuous-time system, like the example above, described by matrices   A   A   A   ,   B   B   B   ,   C   C   C   , and   D   D   D   , the     m  ×   (   n  +  1   )    r        m    n  1    r    m\times(n+1)r    output controllability matrix      [      C  B      C  A  B      C   A  2   B     ⋯     C   A   n  -  1    B     D     ]        C  B     C  A  B     C   superscript  A  2   B   normal-⋯    C   superscript  A    n  1    B   D     \begin{bmatrix}CB&CAB;&CA;^{2}B&\cdots&CA;^{n-1}B&D;\end{bmatrix}   has full row rank (i.e. rank   m   m   m   ) if and only if the system is output controllable. 5 This result is known as Kalman 's criterion of controllability.  Controllability under input constraints  In systems with limited control authority, it is often no longer possible to move any initial state to any final state inside the controllable subspace. This phenomenon is caused by constraints on the input that could be inherent to the system (e.g. due to saturating actuator) or imposed on the system for other reasons (e.g. due to safety-related concerns). The controllability of systems with input and state constraints is studied in the context of reachability 6 and viability theory . 7  Controllability in the behavioural framework  In the so-called behavioral system theoretic approach due to Willems (see people in systems and control ), models considered do not directly define an input–output structure. In this framework systems are described by admissible trajectories of a collection of variables, some of which might be interpreted as inputs or outputs.  A system is then defined to be controllable in this setting, if any past part of a behavior (trajectory of the external veriables) can be concatenated with any future trajectory of the behavior in such a way that the concatenation is contained in the behavior, i.e. is part of the admissible system behavior. 8  Stabilizability  A slightly weaker notion than controllability is that of stabilizability . A system is said to be stabilizable when all uncontrollable state variables can be made to have stable dynamics . Thus, even though some of the state variables cannot be controlled (as determined by the controllability test above) all the state variables will still remain bounded during the system's behavior. 9  See also   Observability  State observer   Notes  References  External links    MATLAB function for checking controllability of a system  Mathematica function for checking controllability of a system   fr:Représentation d'état#Systèmes linéaires "  Category:Control theory     ↩  A linear time-invariant system behaves the same but with the coefficients being constant in time. ↩  ↩  Isidori, Alberto (1989). Nonlinear Control Systems , p. 92–3. Springer-Verlag, London. ISBN 3-540-19916-0. ↩   ↩  ↩  ↩      