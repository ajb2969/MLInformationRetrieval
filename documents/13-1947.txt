   Three-detector problem and Newell's method      Three-detector problem and Newell's method   The Three-detector problem 1 is a problem in traffic flow theory. Given is a homogeneous freeway and the vehicle counts at two detector stations. We seek the vehicle counts at some intermediate location. The method can be applied to incident detection and diagnosis by comparing the observed and predicted data, so a realistic solution to this problem is important. Newell G.F. 2 3 4 proposed a simple method to solve this problem. In Newell's method , one gets the cumulative count curve (N-curve) of any intermediate location just by shifting the N-curves of the upstream and downstream detectors. Newell's method was developed before the variational theory of traffic flow was proposed to deal systematically with vehicle counts. 5 6 7 This article shows how Newell's method fits in the context of variational theory.  A special case to demonstrate Newell's method  Assumption. In this special case, we use the Triangular Fundamental Diagram (TFD) with three parameters: free flow speed    v  f     subscript  v  f    v_{f}   , wave velocity -w and maximum density    k  j     subscript  k  j    k_{j}   (see Figure 1). Additionally, we will consider a long study period where traffic past upstream detector (U) is unrestricted and traffic past downstream detector (D) is restricted so that waves from both boundaries point into the (t,x) solution space (see Figure 2).  The goal of three-detector problem is calculating the vehicle at a generic point (P) on the "world line" of detector M (See Figure 2). Upstream.  Since the upstream state is uncongested, there must be a characteristic with slope    v  f     subscript  v  f    v_{f}   that reaches P from the upstream detector. Such a wave must be emitted     τ  1   =    L  U   /   v  f         subscript  τ  1      subscript  L  U    subscript  v  f      \tau_{1}=L_{U}/v_{f}   times unit earlier, at point P' on the figure. Since the vehicle number does not change along this characteristic, we see that the vehicle number at the M-detector calculated from conditions upstream is the same as that observed at the upstream detector    τ  1     subscript  τ  1    \tau_{1}   time units earlier. Since     τ  1     subscript  τ  1    \tau_{1}   is independent of the traffic state (it is a constant), this result is equivalent to shifting the smoothed N-curve of the upstream detector (curve U of Figure 3) to the right by an amount    τ  1     subscript  τ  1    \tau_{1}   .  Downstream. Likewise, since the state over the downstream detector is queued, there will be a wave reaching P from a location    P  2     subscript  P  2    P_{2}   with wave velocity     -  w   <  0        w   0    -w<0   . The change in vehicular label along this characteristic can be obtained from the moving observer construction of Figure 4, for an observer moving with the wave. In our particular case, the slanted line corresponding to the observer is parallel to the congested part of TFD. This means that the observer flow is independent of the traffic state and takes on the value     k  j    (   -  w   )        subscript  k  j     w     k_{j}(-w)   . Therefore, in the time that it takes for the wave to reach the middle location,     τ  2   =    L  D   /   (   -  w   )         subscript  τ  2      subscript  L  D     w      \tau_{2}=L_{D}/(-w)   , the change in count is    δ  =    k  j    (   -  w   )    τ  2    =    k  j    L  D          δ     subscript  k  j     w    subscript  τ  2            subscript  k  j    subscript  L  D       \delta=k_{j}(-w)\tau_{2}=k_{j}L_{D}   ; i.e., the change in count equals the number of vehicles that fit between M and D at jam density. This result is equivalent to shifting the D-curve to the right    τ  2     subscript  τ  2    \tau_{2}   units and up   δ   δ   \delta   units.  Actual count at M. In view of the Newell-Luke Minimum Principle, we see that the actual count at M should be the lower envelope of the U'- and D'-curves. This is the dark curves, M(t). The intersections of the U'- and D'- curves denote the shock's passages over the detector; i.e., the times when transitions between queued and unqueued states take place as the queue advances and recedes over the middle detector. The area between the U'- and M-curves is the delay experienced upstream of location M, trip times are the horizontal separation between curves U(t), M(t) and D(t), accumulation is given by vertical separations, etc.  Mathematical expression. In terms of the function N(t,x) and the detector location (    x  u     subscript  x  u    x_{u}   ,    x  m     subscript  x  m    x_{m}   ,    x  d     subscript  x  d    x_{d}   ) as follows:       N   (  t  ,   x  m   )    =    min   {   N   (   t  -    L  U   /   v  f     ,   x  u   )    ,    N   (   t  +    L  D   /  w    ,   x  d   )    +    k  j     L  D      }     (  1  )          N   t   subscript  x  m          N     t     subscript  L  U    subscript  v  f      subscript  x  u         N     t     subscript  L  D   w     subscript  x  d        subscript  k  j    subscript  L  D      1     N(t,x_{m})=\min\{\ N(t-L_{U}/v_{f},x_{u})\ ,\ N(t+L_{D}/w,x_{d})+k_{j}L_{D}\ %
 \}\qquad(1)   where     L  U   =    x  m   -   x  u         subscript  L  U      subscript  x  m    subscript  x  u      L_{U}=x_{m}-x_{u}   and     L  D   =    x  d   -   x  m         subscript  L  D      subscript  x  d    subscript  x  m      L_{D}=x_{d}-x_{m}   .  Basic principles of variational theory (VT)  Goal. Suppose we know the number of vehicles (N) along a boundary in a time-space region and we are looking for the number of vehicles at a generic point P (denoted as    N  p     subscript  N  p    N_{p}   ) beyond that boundary in the direction of increasing time(see Figure 5). 8  Suppose, again, that an observer starts moving from the boundary to point P along path L. We know the vehicle number the observer sees,    N  L     subscript  N  L    N_{L}   . We then break the path of the observer into small sections (such as the one show between A and B) and note that we also know the maximum number of vehicles that can pass the observer along that small section is,    C   A  B      subscript  C    A  B     C_{AB}   . The relative capacity formula tells us that it is     C   A  B    =   r   (   v  0   )   Δ  t        subscript  C    A  B      r   superscript  v  0   normal-Δ  t     C_{AB}=r(v^{0})\Delta{t}   . For TFD and using    v   A  B      subscript  v    A  B     v_{AB}   for the slope of segment AB,    C   A  B      subscript  C    A  B     C_{AB}   can be written as:        C   A  B    =   r   (   v   A  B    )   Δ  t   =     q  0   Δ  t   -    k  0   Δ  x    =     q  0    (    t  B   -   t  A    )    -    k  0    (    x  B   -   x  A    )      ;    f  o   r    v   A  B     ∈    [   -  w   ,   v  f   ]    (  2  )        formulae-sequence       subscript  C    A  B      r   subscript  v    A  B    normal-Δ  t             subscript  q  0   normal-Δ  t      subscript  k  0   normal-Δ  x              subscript  q  0      subscript  t  B    subscript  t  A        subscript  k  0      subscript  x  B    subscript  x  A            f  o  r   subscript  v    A  B         w    subscript  v  f    2      C_{AB}=r(v_{AB})\Delta{t}=q_{0}\Delta{t}-k_{0}\Delta{x}=q_{0}(t_{B}-t_{A})-k_{%
 0}(x_{B}-x_{A});for\ v_{AB}\in[-w,v_{f}]\qquad(2)   So, if we now add the vehicle number on the boundary to the sum of all    C   A  B      subscript  C    A  B     C_{AB}   along path L we get an upper bound for    N  p     subscript  N  p    N_{p}   . This upper bound applies to any observer that moves with speeds in the range    [   -  w   ,   v  f   ]       w    subscript  v  f     [-w,v_{f}]   . Thus we can write:        N  P   ≤    N  L   +    ∑  L    (   C   A  B    )      ,    v   A  B    ∈    [   -  w   ,   v  f   ]    (  3  )        formulae-sequence     subscript  N  P      subscript  N  L     subscript   L    subscript  C    A  B          subscript  v    A  B        w    subscript  v  f    3      N_{P}\leq N_{L}+\sum_{L}(C_{AB}),\ v_{AB}\in[-w,v_{f}]\qquad(3)   Equations (1) and (2) are based on the relative capacity constraint which itself follows from the conservation law.  Maximum principle. It states that    N  P     subscript  N  P    N_{P}   is the largest possible value, subject to the capacity constraints. Thus the VT recipe is:       N  P   =     min  L    {    N  L   +    ∑  L    (   C   A  B    )     }     (  4  )         subscript  N  P      subscript   L      subscript  N  L     subscript   L    subscript  C    A  B       4     N_{P}=\min_{L}\{N_{L}+\sum_{L}(C_{AB})\}\qquad(4)   Equation (4) is a shortest path(i.e., calculus of variations) problem with     C   A  B    =   r   (   v   A  B    )         subscript  C    A  B      r   subscript  v    A  B       C_{AB}=r(v_{AB})   as the cost function. It turns out that it produces the same solution as Kinematic wave theory.  Generalized solution   Three  steps:  1. Find the minimum upstream count,     N  U     subscript  N  U    N_{U}     2. Find the minimum downstream count,     N  D     subscript  N  D    N_{D}     3. Choose the lower of the two,      N  P   =   min   {    N  U    ,   N  D   }         subscript  N  P      subscript  N  U    subscript  N  D      N_{P}=\min\{N_{U}\ ,\ N_{D}\}     Step 1  All possible observer straight lines between the upstream boundary and point P have to constructed with observer speeds smaller than free flow speed:        C   Q  P    =     q  0   Δ  t   -    k  0   Δ  x    =     q  0    (    t  P   -   t  Q    )    -    k  0    (    x  P   -   x  Q    )       (  5  )      formulae-sequence       subscript  C    Q  P         subscript  q  0   normal-Δ  t      subscript  k  0   normal-Δ  x              subscript  q  0      subscript  t  P    subscript  t  Q        subscript  k  0      subscript  x  P    subscript  x  Q        5    C_{QP}=q_{0}\Delta{t}-k_{0}\Delta{x}=q_{0}(t_{P}-t_{Q})-k_{0}(x_{P}-x_{Q})%
 \qquad(5)   where     Δ  t   =    t  P   -   t  Q    =    (    x  M   -   x  U    )    v   Q  P             normal-Δ  t      subscript  t  P    subscript  t  Q              subscript  x  M    subscript  x  U     subscript  v    Q  P        \Delta{t}=t_{P}-t_{Q}=\frac{(x_{M}-x_{U})}{v_{QP}}   for     v   Q  P    ∈   [  0  ,   v  f   ]        subscript  v    Q  P     0   subscript  v  f      v_{QP}\in[0,v_{f}]   and     Δ  x   =    x  M   -   x  U          normal-Δ  x      subscript  x  M    subscript  x  U      \Delta{x}=x_{M}-x_{U}     Thus we need to minimize      N  Q   +    q  0    (    t  P   -   t  Q    )     -    k  0    (    x  M   -   x  U    )           subscript  N  Q      subscript  q  0      subscript  t  P    subscript  t  Q         subscript  k  0      subscript  x  M    subscript  x  U       {N_{Q}+q_{0}(t_{P}-t_{Q})-k_{0}(x_{M}-x_{U})}   ; i.e.,       N  U   =     min   t  Q     {     N  Q   +    q  0    (    t  P   -   t  Q    )     -    k  0    (    x  M   -   x  U    )     }     (  6  )         subscript  N  U      subscript    subscript  t  Q         subscript  N  Q      subscript  q  0      subscript  t  P    subscript  t  Q         subscript  k  0      subscript  x  M    subscript  x  U       6     N_{U}=\min_{t_{Q}}\{N_{Q}+q_{0}(t_{P}-t_{Q})-k_{0}(x_{M}-x_{U})\}\qquad(6)   Since       d   N  Q    /  d   t   ≤   q  0             d   subscript  N  Q    d   t    subscript  q  0     dN_{Q}/dt\leq q_{0}   , we see that the objective function is non-increasing and therefore     t  Q  *   =   t   P  1         superscript   subscript  t  Q      subscript  t   subscript  P  1      t_{Q}^{*}=t_{P_{1}}   . So Q should be placed at    P  1     subscript  P  1    P_{1}   and we have:        C   Q  P    =   C    P  1   P    =     q  0    (     x  M   -   x  U     v  f    )    -    k  0    (    x  M   -   x  U    )     =  0    (  7  )      formulae-sequence       subscript  C    Q  P     subscript  C     subscript  P  1   P              subscript  q  0        subscript  x  M    subscript  x  U     subscript  v  f        subscript  k  0      subscript  x  M    subscript  x  U           0    7    C_{QP}=C_{P_{1}P}=q_{0}\left(\frac{x_{M}-x_{U}}{v_{f}}\right)-k_{0}(x_{M}-x_{U%
 })=0\qquad(7)   Thus,     N  U   =   N   P  1         subscript  N  U    subscript  N   subscript  P  1      N_{U}=N_{P_{1}}     Step 2  We have     N  D   =    min   Q    ′      {    N   Q    ′     +   C    Q    ′    P     }    =    min   Q    ′      {     N   Q    ′     +    q  0   Δ  t    -    k  0   Δ  x    }           subscript  N  D     subscript    superscript  Q   normal-′        subscript  N   superscript  Q   normal-′      subscript  C     superscript  Q   normal-′    P             subscript    superscript  Q   normal-′          subscript  N   superscript  Q   normal-′        subscript  q  0   normal-Δ  t       subscript  k  0   normal-Δ  x        N_{D}=\min_{Q^{^{\prime}}}\{N_{Q^{^{\prime}}}+C_{Q^{^{\prime}}P}\}=\min_{Q^{^{%
 \prime}}}\{N_{Q^{^{\prime}}}+q_{0}\Delta{t}-k_{0}\Delta{x}\}   So repeat the same steps we find that    N  D     subscript  N  D    N_{D}   is minimized when     Q    ′    =   P  2        superscript  Q   normal-′     subscript  P  2     Q^{^{\prime}}=P_{2}   . And at point    P  2     subscript  P  2    P_{2}   we get:       N  D   =      N   P  2    +    q  0    (     x  D   -   x  M    w   )     -    k  0    (    x  D   -   x  M    )      (  8  )         subscript  N  D         subscript  N   subscript  P  2       subscript  q  0        subscript  x  D    subscript  x  M    w        subscript  k  0      subscript  x  D    subscript  x  M      8     N_{D}=N_{P_{2}}+q_{0}(\frac{x_{D}-x_{M}}{w})-k_{0}(x_{D}-x_{M})\qquad(8)   Since the FD is triangular,       q  0   w   +   k  0    =   k  j            subscript  q  0   w    subscript  k  0     subscript  k  j     \frac{q_{0}}{w}+k_{0}=k_{j}   . Therefore (8) reduces to:       N  D   =     N   P  2    +    (    x  D   -   x  M    )    k  j      (  9  )         subscript  N  D       subscript  N   subscript  P  2         subscript  x  D    subscript  x  M     subscript  k  j     9     N_{D}=N_{P_{2}}+(x_{D}-x_{M})k_{j}\qquad(9)     Step 3  To get the solution we now choose the lower of    N  U     subscript  N  U    N_{U}   and    N  D     subscript  N  D    N_{D}   .        N  P   =   min   {    N  U    ,   N  D   }    =   min   {    N   P  1     ,    N   P  2    +    (    x  D   -   x  M    )    k  j     }      (  10  )      formulae-sequence       subscript  N  P      subscript  N  U    subscript  N  D            subscript  N   subscript  P  1       subscript  N   subscript  P  2         subscript  x  D    subscript  x  M     subscript  k  j        10    N_{P}=\min\{N_{U}\ ,\ N_{D}\}=\min\{N_{P_{1}}\ ,\ N_{P_{2}}+(x_{D}-x_{M})k_{j}%
 \}\qquad(10)     This is Newell's the recipe for the 3-detector problem.  See also   Fundamental diagram of traffic flow  Kerner’s breakdown minimization principle  Microscopic traffic flow model  Microsimulation  Newell's Car Following Model  Road traffic control  Rule 184  Three-phase traffic theory  Traffic bottleneck  Traffic congestion: Reconstruction with Kerner’s three-phase theory  Traffic counter  Traffic flow  Traffic wave   References  "  Category:Road transport  Category:Road traffic management  Category:Transportation engineering     Daganzo, Carlos. 1997. Fundamentals of transportation and traffic operations. Oxford: Pergamon. ↩  Newell, G. F. 1993. "A simplified theory of kinematic waves in highway traffic. Part I, General theory". Transportation Research. Part B, Methodological. 27B (4). ↩  Newell, G. F. 1993. "A simplified theory of kinematic waves in highway traffic. Part II. Queuing at freeway bottlenecks". Transportation Research. Part B, Methodological. 27B (4). ↩  Newell, G. F. 1993. "A simplified theory of kinematic waves in highway traffic. Part III. Multi-destination flows". Transportation Research. Part B, Methodological. 27B (4). ↩  Daganzo, Carlos F. 2005. "A variational formulation of kinematic waves: solution methods". Transportation Research. Part B, Methodological. 39B (10). ↩  Daganzo, Carlos F. 2005. "A variational formulation of kinematic waves: basic theory and complex boundary conditions". Transportation Research. Part B, Methodological. 39B (2). ↩  Daganzo, Carlos F. 2006. "On the variational theory of traffic flow: well-posedness, duality and applications". Networks and Heterogeneous Media. 1 (4). ↩  Daganzo, Carlos F. Lecture notes: Operation of transportation facilities. Compiled by Offer Grembek ↩     