<html lang="en">
<head>
<meta charset="utf-8"/>
<title offset="1133">Quadratic assignment problem</title>
<script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_SVG.js" type="text/javascript">
</script>
</head>
<body>
<h1>Quadratic assignment problem</h1>
<hr/>

<p>The <strong>quadratic assignment problem</strong> (<strong>QAP</strong>) is one of the fundamental <a href="combinatorial_optimization" title="wikilink">combinatorial optimization</a> problems in the branch of <a href="Optimization_(mathematics)" title="wikilink">optimization</a> or <a href="operations_research" title="wikilink">operations research</a> in <a class="uri" href="mathematics" title="wikilink">mathematics</a>, from the category of the <a href="facilities_location" title="wikilink">facilities location</a> problems.</p>

<p>The problem models the following real-life problem:</p>
<dl>
<dd>There are a set of <em>n</em> facilities and a set of <em>n</em> locations. For each pair of locations, a <em>distance</em> is specified and for each pair of facilities a <em>weight</em> or <em>flow</em> is specified (e.g., the amount of supplies transported between the two facilities). The problem is to assign all facilities to different locations with the goal of minimizing the sum of the distances multiplied by the corresponding flows.
</dd>
</dl>

<p>Intuitively, the cost function encourages factories with high flows between each other to be placed close together.</p>

<p>The problem statement resembles that of the <a href="assignment_problem" title="wikilink">assignment problem</a>, except that the <a href="Loss_function" title="wikilink">cost function</a> is expressed in terms of quadratic inequalities, hence the name.</p>
<h2 id="formal-mathematical-definition">Formal mathematical definition</h2>

<p>The formal definition of the quadratic assignment problem is as follows:</p>
<dl>
<dd>Given two sets, <em>P</em> ("facilities") and <em>L</em> ("locations"), of equal size, together with a <a href="weight_function" title="wikilink">weight function</a> <em>w</em> : <em>P</em> × <em>P</em> → <strong><a href="real_number" title="wikilink">R</a></strong> and a distance function <em>d</em> : <em>L</em> × <em>L</em> → <strong><a href="real_number" title="wikilink">R</a></strong>. Find the <a class="uri" href="bijection" title="wikilink">bijection</a> <em>f</em> : <em>P</em> → <em>L</em> ("assignment") such that the cost function:
</dd>
</dl>
<dl>
<dd><dl>
<dd>

<math display="inline" id="Quadratic_assignment_problem:0">
 <semantics>
  <mrow>
   <msub>
    <mo largeop="true" symmetric="true">∑</mo>
    <mrow>
     <mrow>
      <mi>a</mi>
      <mo>,</mo>
      <mi>b</mi>
     </mrow>
     <mo>∈</mo>
     <mi>P</mi>
    </mrow>
   </msub>
   <mrow>
    <mrow>
     <mrow>
      <mi>w</mi>
      <mrow>
       <mo stretchy="false">(</mo>
       <mi>a</mi>
       <mo>,</mo>
       <mi>b</mi>
       <mo stretchy="false">)</mo>
      </mrow>
     </mrow>
     <mo>⋅</mo>
     <mi>d</mi>
    </mrow>
    <mrow>
     <mo stretchy="false">(</mo>
     <mrow>
      <mi>f</mi>
      <mrow>
       <mo stretchy="false">(</mo>
       <mi>a</mi>
       <mo stretchy="false">)</mo>
      </mrow>
     </mrow>
     <mo>,</mo>
     <mrow>
      <mi>f</mi>
      <mrow>
       <mo stretchy="false">(</mo>
       <mi>b</mi>
       <mo stretchy="false">)</mo>
      </mrow>
     </mrow>
     <mo stretchy="false">)</mo>
    </mrow>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <apply>
     <csymbol cd="ambiguous">subscript</csymbol>
     <sum></sum>
     <apply>
      <in></in>
      <list>
       <ci>a</ci>
       <ci>b</ci>
      </list>
      <ci>P</ci>
     </apply>
    </apply>
    <apply>
     <times></times>
     <apply>
      <ci>normal-⋅</ci>
      <apply>
       <times></times>
       <ci>w</ci>
       <interval closure="open">
        <ci>a</ci>
        <ci>b</ci>
       </interval>
      </apply>
      <ci>d</ci>
     </apply>
     <interval closure="open">
      <apply>
       <times></times>
       <ci>f</ci>
       <ci>a</ci>
      </apply>
      <apply>
       <times></times>
       <ci>f</ci>
       <ci>b</ci>
      </apply>
     </interval>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \sum_{a,b\in P}w(a,b)\cdot d(f(a),f(b))
  </annotation>
 </semantics>
</math>


</dd>
</dl>
</dd>
<dd>is minimized.
</dd>
</dl>

<p>Usually weight and distance functions are viewed as square real-valued <a href="matrix_(mathematics)" title="wikilink">matrices</a>, so that the cost function is written down as:</p>

<p>

<math display="block" id="Quadratic_assignment_problem:1">
 <semantics>
  <mrow>
   <munder>
    <mo largeop="true" movablelimits="false" symmetric="true">∑</mo>
    <mrow>
     <mrow>
      <mi>a</mi>
      <mo>,</mo>
      <mi>b</mi>
     </mrow>
     <mo>∈</mo>
     <mi>P</mi>
    </mrow>
   </munder>
   <mrow>
    <msub>
     <mi>w</mi>
     <mrow>
      <mi>a</mi>
      <mo>,</mo>
      <mi>b</mi>
     </mrow>
    </msub>
    <msub>
     <mi>d</mi>
     <mrow>
      <mrow>
       <mi>f</mi>
       <mrow>
        <mo stretchy="false">(</mo>
        <mi>a</mi>
        <mo stretchy="false">)</mo>
       </mrow>
      </mrow>
      <mo>,</mo>
      <mrow>
       <mi>f</mi>
       <mrow>
        <mo stretchy="false">(</mo>
        <mi>b</mi>
        <mo stretchy="false">)</mo>
       </mrow>
      </mrow>
     </mrow>
    </msub>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <apply>
     <csymbol cd="ambiguous">subscript</csymbol>
     <sum></sum>
     <apply>
      <in></in>
      <list>
       <ci>a</ci>
       <ci>b</ci>
      </list>
      <ci>P</ci>
     </apply>
    </apply>
    <apply>
     <times></times>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <ci>w</ci>
      <list>
       <ci>a</ci>
       <ci>b</ci>
      </list>
     </apply>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <ci>d</ci>
      <list>
       <apply>
        <times></times>
        <ci>f</ci>
        <ci>a</ci>
       </apply>
       <apply>
        <times></times>
        <ci>f</ci>
        <ci>b</ci>
       </apply>
      </list>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \sum_{a,b\in P}w_{a,b}d_{f(a),f(b)}
  </annotation>
 </semantics>
</math>

</p>

<p>In matrix notation:</p>

<p>

<math display="block" id="Quadratic_assignment_problem:2">
 <semantics>
  <mrow>
   <munder>
    <mi>min</mi>
    <mrow>
     <mi>X</mi>
     <mo>∈</mo>
     <msub>
      <mi mathvariant="normal">Π</mi>
      <mi>n</mi>
     </msub>
    </mrow>
   </munder>
   <mrow>
    <mo>trace</mo>
    <mrow>
     <mo stretchy="false">(</mo>
     <mrow>
      <mi>W</mi>
      <mi>X</mi>
      <mi>D</mi>
      <msup>
       <mi>X</mi>
       <mi>T</mi>
      </msup>
     </mrow>
     <mo stretchy="false">)</mo>
    </mrow>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <times></times>
    <apply>
     <csymbol cd="ambiguous">subscript</csymbol>
     <min></min>
     <apply>
      <in></in>
      <ci>X</ci>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>normal-Π</ci>
       <ci>n</ci>
      </apply>
     </apply>
    </apply>
    <apply>
     <ci>trace</ci>
     <apply>
      <times></times>
      <ci>W</ci>
      <ci>X</ci>
      <ci>D</ci>
      <apply>
       <csymbol cd="ambiguous">superscript</csymbol>
       <ci>X</ci>
       <ci>T</ci>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \min_{X\in\Pi_{n}}\operatorname{trace}(WXDX^{T})
  </annotation>
 </semantics>
</math>

 where 

<math display="inline" id="Quadratic_assignment_problem:3">
 <semantics>
  <msub>
   <mi mathvariant="normal">Π</mi>
   <mi>n</mi>
  </msub>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <csymbol cd="ambiguous">subscript</csymbol>
    <ci>normal-Π</ci>
    <ci>n</ci>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \Pi_{n}
  </annotation>
 </semantics>
</math>


 are the permutation matrices, "W" is the weight matrix and "D" is the distance matrix.</p>
<h2 id="computational-complexity">Computational complexity</h2>

<p>The problem is <a class="uri" href="NP-hard" title="wikilink">NP-hard</a>, so there is no known <a class="uri" href="algorithm" title="wikilink">algorithm</a> for solving this problem in polynomial time, and even small instances may require long computation time. It was also proven that the problem does not have an approximation algorithm running in polynomial time for any factor, unless P = NP.<a class="footnoteRef" href="#fn1" id="fnref1"><sup>1</sup></a> The <a href="travelling_salesman_problem" title="wikilink">travelling salesman problem</a> may be seen as a special case of QAP if one assumes that the flows connect all facilities only along a single ring, all flows have the same non-zero (constant) value. Many other problems of standard <a href="combinatorial_optimization" title="wikilink">combinatorial optimization</a> problems may be written in this form.</p>
<h2 id="applications">Applications</h2>

<p>In addition to the original plant location formulation, QAP is a mathematical model for the problem of placement of interconnected <a href="electronic_component" title="wikilink">electronic components</a> onto a <a href="printed_circuit_board" title="wikilink">printed circuit board</a> or on a <a href="integrated_circuit" title="wikilink">microchip</a>, which is part of the <a href="place_and_route" title="wikilink">place and route</a> stage of <a href="computer_aided_design" title="wikilink">computer aided design</a> in the electronics industry.</p>
<h2 id="see-also">See also</h2>
<ul>
<li><a href="Quadratic_bottleneck_assignment_problem" title="wikilink">Quadratic bottleneck assignment problem</a></li>
</ul>
<h2 id="references">References</h2>
<ul>
<li>

<p>A2.5: ND43, pg.218.</p></li>
</ul>
<h2 id="external-links">External links</h2>
<ul>
<li><a class="uri" href="http://www.seas.upenn.edu/qaplib/">http://www.seas.upenn.edu/qaplib/</a> QAPLIB - A Quadratic Assignment Problem Library</li>
<li><a class="uri" href="http://issuu.com/spconguy/docs/ant-algorithm-applied-to-the-quadratic-assignment-">http://issuu.com/spconguy/docs/ant-algorithm-applied-to-the-quadratic-assignment-</a> - A QAP sample application</li>
</ul>

<p>"</p>

<p><a href="Category:NP-hard_problems" title="wikilink">Category:NP-hard problems</a> <a href="Category:Combinatorial_optimization" title="wikilink">Category:Combinatorial optimization</a></p>
<section class="footnotes">
<hr/>
<ol>
<li id="fn1"><a href="#fnref1">↩</a></li>
</ol>
</section>
</body>
</html>
