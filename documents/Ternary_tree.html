<html lang="en">
<head>
<meta charset="utf-8"/>
<title offset="66">Ternary tree</title>
<script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_SVG.js" type="text/javascript">
</script>
</head>
<body>
<h1>Ternary tree</h1>
<hr/>
<dl>
<dd>
</dd>
</dl>

<p>In <a href="computer_science" title="wikilink">computer science</a>, a <strong>ternary tree</strong> is a <a href="tree_data_structure" title="wikilink">tree data structure</a> in which each node has <strong>at most three</strong> child <a href="Node_(computer_science)" title="wikilink">nodes</a>, usually distinguished as "left", “mid” and "right". Nodes with children are parent nodes, and child nodes may contain references to their parents. Outside the tree, there is often a reference to the "root" node (the ancestor of all nodes), if it exists. Any node in the data structure can be reached by starting at root node and repeatedly following references to either the left, mid or right child.</p>

<p>Ternary trees are used to implement <a href="Ternary_search_tree" title="wikilink">Ternary search trees</a> and <a href="Ternary_heap" title="wikilink">Ternary heaps</a>.</p>
<h2 id="definition">Definition</h2>
<ul>
<li><strong>Directed Edge</strong> - The link from the parent to the child.</li>
<li><strong>Root</strong> - The node with no parents. There is at most one root node in a rooted tree.</li>
<li><strong>Leaf Node</strong> - The node which has no children.</li>
<li><strong>Parent Node</strong> - Any node connected by a directed edge to it's child or children.</li>
<li><strong>Child Node</strong> - Any node connected to a parent node by a directed edge.</li>
<li><strong>Depth</strong> - Length of the path from the root to the node. The set of all nodes at a given depth is sometimes called a level of the tree. The root node is at depth zero.</li>
<li><strong>Height</strong> - Length of the path from the root to the deepest node in the tree. A (rooted) tree with only one node (the root) has a height of zero. In the example diagram, the tree has height of 2.</li>
<li><strong>Sibling</strong> - Nodes that share the same parent node.</li>
</ul>

<p>- A node p is an ancestor of a node q if it exists on the path from q to the root. The node q is then termed a descendant of p.</p>

<p>- A size of a node is the number of descendants it has including itself.</p>
<h2 id="properties-of-ternary-trees">Properties of ternary trees</h2>
<ul>
<li><strong>Maximum number of nodes</strong></li>
</ul>

<p>– Let 

<math display="inline" id="Ternary_tree:0">
 <semantics>
  <mi>h</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>h</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   h
  </annotation>
 </semantics>
</math>

 be height of a ternary tree.</p>

<p>– Let 

<math display="inline" id="Ternary_tree:1">
 <semantics>
  <mrow>
   <mi>M</mi>
   <mrow>
    <mo stretchy="false">(</mo>
    <mi>h</mi>
    <mo stretchy="false">)</mo>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <times></times>
    <ci>M</ci>
    <ci>h</ci>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   M(h)
  </annotation>
 </semantics>
</math>

 be the maximum number of nodes in a ternary tree of height h</p>
<table>
<thead>
<tr class="header">
<th style="text-align: left;">
<p>h</p></th>
<th style="text-align: left;">
<p><em>M</em>(<em>h</em>)</p></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">
<p>0</p></td>
<td style="text-align: left;">
<p>1</p></td>
</tr>
<tr class="even">
<td style="text-align: left;">
<p>1</p></td>
<td style="text-align: left;">
<p>4</p></td>
</tr>
<tr class="odd">
<td style="text-align: left;">
<p>2</p></td>
<td style="text-align: left;">
<p>13</p></td>
</tr>
<tr class="even">
<td style="text-align: left;">
<p>3</p></td>
<td style="text-align: left;">
<p>40</p></td>
</tr>
</tbody>
</table>

<p>– 

<math display="inline" id="Ternary_tree:2">
 <semantics>
  <mrow>
   <mrow>
    <mi>M</mi>
    <mrow>
     <mo stretchy="false">(</mo>
     <mi>h</mi>
     <mo stretchy="false">)</mo>
    </mrow>
   </mrow>
   <mo>=</mo>
   <mrow>
    <mn>1</mn>
    <mo>+</mo>
    <mn>3</mn>
    <mo>+</mo>
    <mn>9</mn>
    <mo>+</mo>
    <mi mathvariant="normal">⋯</mi>
    <mo>+</mo>
    <msup>
     <mn>3</mn>
     <mi>h</mi>
    </msup>
   </mrow>
   <mo>=</mo>
   <mrow>
    <msubsup>
     <mo largeop="true" symmetric="true">∑</mo>
     <mrow>
      <mi>i</mi>
      <mo>=</mo>
      <mn>0</mn>
     </mrow>
     <mi>h</mi>
    </msubsup>
    <msup>
     <mn>3</mn>
     <mi>i</mi>
    </msup>
   </mrow>
   <mo>=</mo>
   <mfrac>
    <mrow>
     <msup>
      <mn>3</mn>
      <mrow>
       <mi>h</mi>
       <mo>+</mo>
       <mn>1</mn>
      </mrow>
     </msup>
     <mo>-</mo>
     <mn>1</mn>
    </mrow>
    <mn>2</mn>
   </mfrac>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <and></and>
    <apply>
     <eq></eq>
     <apply>
      <times></times>
      <ci>M</ci>
      <ci>h</ci>
     </apply>
     <apply>
      <plus></plus>
      <cn type="integer">1</cn>
      <cn type="integer">3</cn>
      <cn type="integer">9</cn>
      <ci>normal-⋯</ci>
      <apply>
       <csymbol cd="ambiguous">superscript</csymbol>
       <cn type="integer">3</cn>
       <ci>h</ci>
      </apply>
     </apply>
    </apply>
    <apply>
     <eq></eq>
     <share href="#.cmml">
     </share>
     <apply>
      <apply>
       <csymbol cd="ambiguous">superscript</csymbol>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <sum></sum>
        <apply>
         <eq></eq>
         <ci>i</ci>
         <cn type="integer">0</cn>
        </apply>
       </apply>
       <ci>h</ci>
      </apply>
      <apply>
       <csymbol cd="ambiguous">superscript</csymbol>
       <cn type="integer">3</cn>
       <ci>i</ci>
      </apply>
     </apply>
    </apply>
    <apply>
     <eq></eq>
     <share href="#.cmml">
     </share>
     <apply>
      <divide></divide>
      <apply>
       <minus></minus>
       <apply>
        <csymbol cd="ambiguous">superscript</csymbol>
        <cn type="integer">3</cn>
        <apply>
         <plus></plus>
         <ci>h</ci>
         <cn type="integer">1</cn>
        </apply>
       </apply>
       <cn type="integer">1</cn>
      </apply>
      <cn type="integer">2</cn>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   M(h)=1+3+9+\cdots+3^{h}=\sum_{i=0}^{h}3^{i}=\frac{3^{h+1}-1}{2}
  </annotation>
 </semantics>
</math>

</p>

<p>– Every tree of height h has at most 

<math display="inline" id="Ternary_tree:3">
 <semantics>
  <mfrac>
   <mrow>
    <msup>
     <mn>3</mn>
     <mrow>
      <mi>h</mi>
      <mo>+</mo>
      <mn>1</mn>
     </mrow>
    </msup>
    <mo>-</mo>
    <mn>1</mn>
   </mrow>
   <mn>2</mn>
  </mfrac>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <divide></divide>
    <apply>
     <minus></minus>
     <apply>
      <csymbol cd="ambiguous">superscript</csymbol>
      <cn type="integer">3</cn>
      <apply>
       <plus></plus>
       <ci>h</ci>
       <cn type="integer">1</cn>
      </apply>
     </apply>
     <cn type="integer">1</cn>
    </apply>
    <cn type="integer">2</cn>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \frac{3^{h+1}-1}{2}
  </annotation>
 </semantics>
</math>

 nodes.</p>
<ul>
<li>If a node 

<math display="inline" id="Ternary_tree:4">
 <semantics>
  <mi>N</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>N</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   N
  </annotation>
 </semantics>
</math>

 occupies TREE 

<math display="inline" id="Ternary_tree:5">
 <semantics>
  <mrow>
   <mo stretchy="false">[</mo>
   <mi>k</mi>
   <mo stretchy="false">]</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <csymbol cd="latexml">delimited-[]</csymbol>
    <ci>k</ci>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   [k]
  </annotation>
 </semantics>
</math>

, then its <strong>Left Child</strong> is stored in TREE 

<math display="inline" id="Ternary_tree:6">
 <semantics>
  <mrow>
   <mo stretchy="false">[</mo>
   <mrow>
    <mrow>
     <mn>3</mn>
     <mi>k</mi>
    </mrow>
    <mo>-</mo>
    <mn>1</mn>
   </mrow>
   <mo stretchy="false">]</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <csymbol cd="latexml">delimited-[]</csymbol>
    <apply>
     <minus></minus>
     <apply>
      <times></times>
      <cn type="integer">3</cn>
      <ci>k</ci>
     </apply>
     <cn type="integer">1</cn>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   [3k-1]
  </annotation>
 </semantics>
</math>

.</li>
<li><strong>Mid Child</strong> is stored in TREE 

<math display="inline" id="Ternary_tree:7">
 <semantics>
  <mrow>
   <mo stretchy="false">[</mo>
   <mrow>
    <mn>3</mn>
    <mi>k</mi>
   </mrow>
   <mo stretchy="false">]</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <csymbol cd="latexml">delimited-[]</csymbol>
    <apply>
     <times></times>
     <cn type="integer">3</cn>
     <ci>k</ci>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   [3k]
  </annotation>
 </semantics>
</math>

.</li>
<li><strong>Right Child</strong> is stored in TREE 

<math display="inline" id="Ternary_tree:8">
 <semantics>
  <mrow>
   <mo stretchy="false">[</mo>
   <mrow>
    <mrow>
     <mn>3</mn>
     <mi>k</mi>
    </mrow>
    <mo>+</mo>
    <mn>1</mn>
   </mrow>
   <mo stretchy="false">]</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <csymbol cd="latexml">delimited-[]</csymbol>
    <apply>
     <plus></plus>
     <apply>
      <times></times>
      <cn type="integer">3</cn>
      <ci>k</ci>
     </apply>
     <cn type="integer">1</cn>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   [3k+1]
  </annotation>
 </semantics>
</math>

.</li>
</ul>
<h2 id="common-operations">Common operations</h2>
<h3 id="insertion">Insertion</h3>

<p>Nodes can be inserted into ternary trees in between three other nodes or added after an <a href="external_node" title="wikilink">external node</a>. In Ternary trees, a node that is inserted is specified as to which child it is.</p>
<h4 id="external-nodes">External nodes</h4>

<p>Say that the external node being added onto is node A. To add a new node after node A, A assigns the new node as one of its children and the new node assigns node A as its parent.</p>
<h4 id="internal-nodes">Internal nodes</h4>

<p>Insertion on <a href="internal_node" title="wikilink">internal nodes</a> is more complex than on external nodes. Say that the internal node is node A and that node B is the child of A. (If the insertion is to insert a right child, then B is the right child of A, and similarly with a left child insertion or mid child.) A assigns its child to the new node and the new node assigns its parent to A. Then the new node assigns its child to B and B assigns its parent as the new node.</p>
<h3 id="deletion">Deletion</h3>

<p>Deletion is the process whereby a node is removed from the tree. Only certain nodes in a ternary tree can be removed unambiguously.</p>
<h4 id="node-with-zero-or-one-child">Node with zero or one child</h4>

<p>Say that the node to delete is node A. If a node has no children (<a href="external_node" title="wikilink">external node</a>), deletion is accomplished by setting the child of A's parent to <a href="null_pointer" title="wikilink">null</a> and A's parent to null. If it has one child, set the parent of A's child to A's parent and set the child of A's parent to A's child.</p>
<h2 id="comparison-with-other-trees">Comparison with other trees</h2>

<p>The picture below is a binary search tree that represents 12 two-letter words. All nodes on the left child have smaller values, while all nodes on the right child have greater values for all nodes. A search starts from the root. To find the word "ON", we compare it to "IN" and take the right branch. Every comparison could access each character of both words.</p>

<p><code>        in</code><br/>
<code>      /    \</code><br/>
<code>     be    of</code><br/>
<code>    /  \  /  \</code><br/>
<code>   as  by is  or</code><br/>
<code>    \   \  \  / \</code><br/>
<code>    at  he it on to </code></p>

<p>Digital search tries to store strings character by character. The next picture is a tree that represents the same set of 12 words;</p>

<p><code>         _ _ _ _ _ _ _ _ _ _ _ _ _ </code><br/>
<code>        /     /    / \       \     \</code><br/>
<code>       /     /    /   \       \     \</code><br/>
<code>      a     b    h     i       o     t</code><br/>
<code>     / \   / \   |   / | \    /|\    |</code><br/>
<code>    s  t  e   y  e  n  s  t  f n r   o</code><br/>
<code>   as at be  by he in is it of on or to</code></p>

<p>each input word is shown beneath the node that represents it. In a tree representing words of lower case letters, each node has 26-way branching. Searches are very fast: A search for "IS" starts at the root, takes the "I" branch, then the "S" branch, and ends at the desired node. At every node, one accesses an array element, tests for null, and takes a branch.</p>

<p><code>                    i</code><br/>
<code>              /     |    \</code><br/>
<code>             /      |     \</code><br/>
<code>            b       s      o</code><br/>
<code>         / |  \    / \    |  \</code><br/>
<code>        a  e   h  n   t   n   t</code><br/>
<code>        |   \  |         / \  |</code><br/>
<code>        s    y e        f  r  o</code><br/>
<code>         \</code><br/>
<code>          t</code></p>

<p>The above picture is a balanced ternary search tree for the same set of 12 words. The low and high pointers are shown as angled lines, while equal pointers are shown as vertical lines. A search for the word "IS" starts at the root, proceeds down the equal child to the node with value "S", and stops there after two comparisons. A search for "AX" makes three comparisons to the first letter "A" and two comparisons to the second letter "X" before reporting that the word is not in the tree.<a class="footnoteRef" href="#fn1" id="fnref1"><sup>1</sup></a></p>
<h2 id="examples-of-ternary-trees">Examples of ternary trees</h2>
<ul>
<li><a href="Ternary_search_tree" title="wikilink">Ternary search tree</a></li>
<li><a href="Ternary_heap" title="wikilink">Ternary heap</a></li>
<li>Two infinite ternary trees containing all primitive Pythagorean triples are described in <a href="Tree_of_primitive_Pythagorean_triples" title="wikilink">Tree of primitive Pythagorean triples</a> and in <a href="Formulas_for_generating_Pythagorean_triples#Pythagorean_triples_by_use_of_matrices_and_linear_transformations" title="wikilink">Formulas for generating Pythagorean triples</a>. The root node in both trees contains triple [3,4,5].<a class="footnoteRef" href="#fn2" id="fnref2"><sup>2</sup></a></li>
</ul>
<h2 id="see-also">See also</h2>
<ul>
<li><a href="Binary_tree" title="wikilink">Binary tree</a></li>
<li><a href="Tree_structure" title="wikilink">Tree structure</a></li>
</ul>
<h2 id="references">References</h2>

<p>"</p>

<p><a href="Category:Trees_(data_structures)" title="wikilink">Category:Trees (data structures)</a></p>
<section class="footnotes">
<hr/>
<ol>
<li id="fn1">Jon Bentley and Bob Sedgewick (1998), Dr. Dobb's Journal<a href="#fnref1">↩</a></li>
<li id="fn2"><a href="#fnref2">↩</a></li>
</ol>
</section>
</body>
</html>
