   De Bruijn notation      De Bruijn notation   In mathematical logic , the De Bruijn notation is a syntax for terms in the λ calculus invented by the Dutch  mathematician  Nicolaas Govert de Bruijn . 1 It can be seen as a reversal of the usual syntax for the λ calculus where the argument in an application is placed next to its corresponding binder in the function instead of after the latter's body.  Formal definition  Terms (    M  ,  N  ,  …     M  N  normal-…    M,N,\ldots   ) in the De Bruijn notation are either variables (   v   v   v   ), or have one of two wagon prefixes. The abstractor wagon , written    [  v  ]     delimited-[]  v    [v]   , corresponds to the usual λ-binder of the λ calculus , and the applicator wagon , written    (  M  )    M   (M)   , corresponds to the argument in an application in the λ calculus.      M  ,  N  ,  …  :  :=   v   |   [  v  ]    M   |   (  M  )   N     fragments  M  normal-,  N  normal-,  normal-…  normal-:  assign  v  normal-|   fragments  normal-[  v  normal-]   M  normal-|   fragments  normal-(  M  normal-)   N    M,N,...::=\ v\ |\ [v]\;M\ |\ (M)\;N     Terms in the traditional syntax can be converted to the De Bruijn notation by defining an inductive function   ℐ   ℐ   \mathcal{I}   for which:          ℐ   (  v  )        =  v        ℐ   (  λ  v  .  M  )        =    [  v  ]   ℐ   (  M  )          ℐ   (    M   N   )         =    (   ℐ   (  N  )    )   ℐ   (  M  )     .           ℐ  v     absent  v      fragments  I   fragments  normal-(  λ  v  normal-.  M  normal-)      absent     delimited-[]  v   ℐ  M        ℐ    M  N      absent      ℐ  N   ℐ  M       \begin{aligned}\displaystyle\mathcal{I}(v)&\displaystyle=v\\
 \displaystyle\mathcal{I}(\lambda v.\ M)&\displaystyle=[v]\;\mathcal{I}(M)\\
 \displaystyle\mathcal{I}(M\;N)&\displaystyle=(\mathcal{I}(N))\mathcal{I}(M).%
 \end{aligned}      All operations on λ-terms commute with respect to the   ℐ   ℐ   \mathcal{I}   translation. For example, the usual β-reduction,       (  λ  v  .  M  )   N   ⟶  β   M   [  v  :=  N  ]      fragments   fragments  normal-(  λ  v  normal-.  M  normal-)   N    subscript  normal-⟶  β    M   fragments  normal-[  v  assign  N  normal-]     (\lambda v.\ M)\;N\ \ \longrightarrow_{\beta}\ \ M[v:=N]   in the De Bruijn notation is, predictably,       (  N  )    [  v  ]   M   ⟶  β   M   [  v  :=  N  ]   .     fragments   fragments  normal-(  N  normal-)    fragments  normal-[  v  normal-]   M    subscript  normal-⟶  β    M   fragments  normal-[  v  assign  N  normal-]   normal-.    (N)\;[v]\;M\ \ \longrightarrow_{\beta}\ \ M[v:=N].     A feature of this notation is that abstractor and applicator wagons of β-redexes are paired like parentheses. For example, consider the stages in the β-reduction of the term     (  M  )    (  N  )    [  u  ]    (  P  )    [  v  ]    [  w  ]    (  Q  )   z      M  N   delimited-[]  u   P   delimited-[]  v    delimited-[]  w   Q  z    (M)\;(N)\;[u]\;(P)\;[v]\;[w]\;(Q)\;z   , where the redexes are underlined: 2           (  M  )       (  N  )    [  u  ]    ¯     (  P  )    [  v  ]    [  w  ]    (  Q  )   z        ⟶  β     (  M  )       (  P   [  u  :=  N  ]   )    [  v  ]    ¯     [  w  ]    (  Q   [  u  :=  N  ]   )   z           ⟶  β        (  M  )    [  w  ]    ¯     (  Q   [  u  :=  N  ,  v  :=  P   [  u  :=  N  ]   ]   )   z           ⟶  β     (  Q   [  u  :=  N  ,  v  :=  P   [  u  :=  N  ]   ,  w  :=  M  ]   )   z  .           M   normal-¯    N   delimited-[]  u     P   delimited-[]  v    delimited-[]  w   Q  z    fragments   subscript  normal-⟶  β    fragments  normal-(  M  normal-)    normal-¯   fragments   fragments  normal-(  P   fragments  normal-[  u  assign  N  normal-]   normal-)    fragments  normal-[  v  normal-]      fragments  normal-[  w  normal-]    fragments  normal-(  Q   fragments  normal-[  u  assign  N  normal-]   normal-)   z      missing-subexpression    fragments   subscript  normal-⟶  β    normal-¯    M   delimited-[]  w      fragments  normal-(  Q   fragments  normal-[  u  assign  N  normal-,  v  assign  P   fragments  normal-[  u  assign  N  normal-]   normal-]   normal-)   z      missing-subexpression    fragments   subscript  normal-⟶  β    fragments  normal-(  Q   fragments  normal-[  u  assign  N  normal-,  v  assign  P   fragments  normal-[  u  assign  N  normal-]   normal-,  w  assign  M  normal-]   normal-)   z  normal-.      \begin{aligned}\displaystyle(M)\;\underline{(N)\;[u]}\;(P)\;[v]\;[w]\;(Q)\;z&%
 \displaystyle{\ \longrightarrow_{\beta}\ }(M)\;\underline{(P[u:=N])\;[v]}\;[w]%
 \;(Q[u:=N])\;z\\
 &\displaystyle{\ \longrightarrow_{\beta}\ }\underline{(M)\;[w]}\;(Q[u:=N,v:=P[%
 u:=N]])\;z\\
 &\displaystyle{\ \longrightarrow_{\beta}\ }(Q[u:=N,v:=P[u:=N],w:=M])\;z.\end{aligned}      Thus, if one views the applicator as an open paren (' ( ') and the abstractor as a close bracket (' ] '), then the pattern in the above term is ' ((](]] '. De Bruijn called an applicator and its corresponding abstractor in this interpretation partners , and wagons without partners bachelors . A sequence of wagons, which he called a segment , is well balanced if all its wagons are partnered.  Advantages of the De Bruijn notation  In a well balanced segment, the partnered wagons may be moved around arbitrarily and, as long as parity is not destroyed, the meaning of the term stays the same. For example, in the above example, the applicator    (  M  )    M   (M)   can be brought to its abstractor    [  w  ]     delimited-[]  w    [w]   , or the abstractor to the applicator. In fact, all  commutatives and permutative conversions on lambda terms may be described simply in terms of parity-preserving reorderings of partnered wagons. One thus obtains a generalised conversion primitive for λ-terms in the De Bruijn notation.  Several properties of λ-terms that are difficult to state and prove using the traditional notation are easily expressed in the De Bruijn notation. For example, in a type-theoretic setting, one can easily compute the canonical class of types for a term in a typing context, and restate the type checking problem to one of verifying that the checked type is a member of this class. 3 De Bruijn notation has also been shown to be useful in calculi for explicit substitution in pure type systems . 4  See also   Mathematical notation   References  "  Category:Lambda calculus     ↩  The example is from page 384. ↩  ↩  . ↩     