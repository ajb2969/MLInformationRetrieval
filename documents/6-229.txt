   Change of variables      Change of variables   In mathematics , the operation of substitution consists in replacing all the occurrences of a free variable appearing in an expression or a formula by a number or another expression. In other words, an expression involving free variables may be considered as defining a function , and substituting values to the variables in the expression is equivalent to applying the function defined by the expression to these values.  A change of variables is commonly a particular type of substitution, where the substituted values are expressions that depend on other variables. This is a standard technique used to reduce a difficult problem to a simpler one. A change of coordinates is a common type of change of variables. However, if the expression in which the variables are changed involves derivatives or integrals , the change of variable does not reduce to a substitution.  A very simple example of a useful variable change can be seen in the problem of finding the roots of the sixth order polynomial:         x  6   -   9   x  3     +  8   =   0.            superscript  x  6     9   superscript  x  3     8   0.    x^{6}-9x^{3}+8=0.\,     Sixth order polynomial equations are generally impossible to solve in terms of radicals (see Abel–Ruffini theorem ). This particular equation, however, may be written          (   x  3   )   2   -   9   (   x  3   )     +  8   =  0           superscript   superscript  x  3   2     9   superscript  x  3     8   0    (x^{3})^{2}-9(x^{3})+8=0   (this is a simple case of a polynomial decomposition ). Thus the equation may be simplified by defining a new variable x 3 = u . Substituting x by    u  3       3   u    \sqrt[3]{u}   into the polynomial gives          u  2   -   9  u    +  8   =  0   ,           superscript  u  2     9  u    8   0    u^{2}-9u+8=0,     which is just a quadratic equation with solutions:       u  =   1  and     u  =  8.      formulae-sequence    u   1  and      u  8.     u=1\quad\text{and}\quad u=8.     The solutions in terms of the original variable are obtained by substituting x 3 back in for u :        x  3   =   1  and      x  3   =  8.      formulae-sequence     superscript  x  3    1  and       superscript  x  3   8.     x^{3}=1\quad\text{and}\quad x^{3}=8.     Then, assuming that x is real ,       x  =    (  1  )    1  /  3    =  1     and  x   =    (  8  )    1  /  3    =  2.      formulae-sequence      x   superscript  1    1  3         1         and  x    superscript  8    1  3         2.      x=(1)^{1/3}=1\quad\text{and}\quad x=(8)^{1/3}=2.     Simple example  Consider the system of equations        x  y   +  x  +  y   =  71          x  y   x  y   71    xy+x+y=71            x  2   y   +   x   y  2     =  880           superscript  x  2   y     x   superscript  y  2     880    x^{2}y+xy^{2}=880     where   x   x   x   and   y   y   y   are positive integers with    x  >  y      x  y    x>y   . (Source: 1991 AIME )  Solving this normally is not terrible, but it may get a little tedious. However, we can rewrite the second equation as     x  y   (   x  +  y   )    =  880        x  y    x  y    880    xy(x+y)=880   . Making the substitution     s  =   x  +  y    ,   t  =   x  y       formulae-sequence    s    x  y      t    x  y      s=x+y,t=xy   reduces the system to      s  +  t   =  71   ,    s  t   =  880.      formulae-sequence      s  t   71       s  t   880.     s+t=71,st=880.   Solving this gives     (  s  ,  t  )   =   (  16  ,  55  )        s  t    16  55     (s,t)=(16,55)   or      (  s  ,  t  )   =   (  55  ,  16  )    .       s  t    55  16     (s,t)=(55,16).   Back-substituting the first ordered pair gives us      x  +  y   =  16   ,    x  y   =  55      formulae-sequence      x  y   16       x  y   55     x+y=16,xy=55   , which easily gives the solution      (  x  ,  y  )   =   (  11  ,  5  )    .       x  y    11  5     (x,y)=(11,5).   Back-substituting the second ordered pair gives us      x  +  y   =  55   ,    x  y   =  16      formulae-sequence      x  y   55       x  y   16     x+y=55,xy=16   , which gives no solutions. Hence the solution that solves the system is     (  x  ,  y  )   =   (  11  ,  5  )        x  y    11  5     (x,y)=(11,5)   .  Formal introduction  Let   A   A   A   ,   B   B   B   be smooth manifolds and let    Φ  :   A  →  B      normal-:  normal-Φ   normal-→  A  B     \Phi:A\rightarrow B   be a    C  r     superscript  C  r    C^{r}   - diffeomorphism between them, that is   Φ   normal-Φ   \Phi   is a   r   r   r   times continuously differentiable, bijective map from   A   A   A   to   B   B   B   with   r   r   r   times continuously differentiable inverse from   B   B   B   to   A   A   A   . Here   r   r   r   may be any natural number (or zero),   ∞     \infty   ( smooth ) or   ω   ω   \omega   ( analytic ).  The map   Φ   normal-Φ   \Phi   is called a regular coordinate transformation or regular variable substitution , where regular refers to the    C  r     superscript  C  r    C^{r}   -ness of   Φ   normal-Φ   \Phi   . Usually one will write    x  =   Φ   (  y  )        x    normal-Φ  y     x=\Phi(y)   to indicate the replacement of the variable   x   x   x   by the variable   y   y   y   by substituting the value of   Φ   normal-Φ   \Phi   in   y   y   y   for every occurrence of   x   x   x   .  Other examples  Coordinate transformation  Some systems can be more easily solved when switching to cylindrical coordinates . Consider for example the equation       U   (  x  ,  y  ,  z  )    :=    (    x  2   +   y  2    )     1  -    x  2     x  2   +   y  2        =  0.       assign    U   x  y  z         superscript  x  2    superscript  y  2        1     superscript  x  2      superscript  x  2    superscript  y  2             0.     U(x,y,z):=(x^{2}+y^{2})\sqrt{1-\frac{x^{2}}{x^{2}+y^{2}}}=0.   This may be a potential energy function for some physical problem. If one does not immediately see a solution, one might try the substitution       (  x  ,  y  ,  z  )   =   Φ   (  r  ,  θ  ,  z  )         x  y  z     normal-Φ   r  θ  z      \displaystyle(x,y,z)=\Phi(r,\theta,z)   given by     Φ   (  r  ,  θ  ,  z  )    =   (   r   cos   (  θ  )     ,   r   sin   (  θ  )     ,  z  )         normal-Φ   r  θ  z       r    θ      r    θ    z     \displaystyle\Phi(r,\theta,z)=(r\cos(\theta),r\sin(\theta),z)   . Note that if   θ   θ   \theta   runs outside a    2  π      2  π    2\pi   -length interval, for example,    [  0  ,   2  π   ]     0    2  π     [0,2\pi]   , the map   Φ   normal-Φ   \Phi   is no longer bijective. Therefore   Φ   normal-Φ   \Phi   should be limited to, for example     (  0  ,  ∞  ]   ×   [  0  ,   2  π   )   ×   [   -  ∞   ,  ∞  ]        0     0    2  π             (0,\infty]\times[0,2\pi)\times[-\infty,\infty]   . Notice how    r  =  0      r  0    r=0   is excluded, for   Φ   normal-Φ   \Phi   is not bijective in the origin (   θ   θ   \theta   can take any value, the point will be mapped to (0, 0, z)). Then, replacing all occurrences of the original variables by the new expressions prescribed by   Φ   normal-Φ   \Phi   and using the identity       sin  2   x   +    cos  2   x    =  1          superscript   2   x     superscript   2   x    1    \sin^{2}x+\cos^{2}x=1   , we get       V   (  r  ,  θ  ,  z  )    =    r  2     1  -     r  2     cos  2   θ     r  2       =    r  2     1  -    cos  2   θ      =    r  2    |   sin  θ   |            V   r  θ  z       superscript  r  2       1       superscript  r  2     superscript   2   θ     superscript  r  2               superscript  r  2       1    superscript   2   θ              superscript  r  2       θ        V(r,\theta,z)=r^{2}\sqrt{1-\frac{r^{2}\cos^{2}\theta}{r^{2}}}=r^{2}\sqrt{1-%
 \cos^{2}\theta}=r^{2}\left|\sin\theta\right|   . Now the solutions can be readily found     sin   (  θ  )    =  0        θ   0    \sin(\theta)=0   , so    θ  =  0      θ  0    \theta=0   or    θ  =  π      θ  π    \theta=\pi   . Applying the inverse of   Φ   normal-Φ   \Phi   shows that this is equivalent to    y  =  0      y  0    y=0   while    x  ≠  0      x  0    x\not=0   . Indeed we see that for    y  =  0      y  0    y=0   the function vanishes, except for the origin.  Note that, had we allowed    r  =  0      r  0    r=0   , the origin would also have been a solution, though it is not a solution to the original problem. Here the bijectivity of   Φ   normal-Φ   \Phi   is crucial. Note also that the function is always positive (for     x  ,  y  ,  z   ∈   \reals        x  y  z   \reals    x,y,z\in\reals   ), hence the absolute values.  Differentiation  The chain rule is used to simplify complicated differentiation. For example, to calculate the derivative       d   d  x     (   sin   (   x  2   )    )         d    d  x       superscript  x  2      \frac{d}{dx}\left(\sin(x^{2})\right)\,     the variable x may be changed by introducing x 2 = u . Then, by the chain rule:       d   d  x    =    d   d  u      d  u    d  x     =    d   d  x     (  u  )    d   d  u     =    d   d  x     (   x  2   )    d   d  u     =   2  x    d   d  u              d    d  x        d    d  u        d  u     d  x              d    d  x    u    d    d  u              d    d  x     superscript  x  2     d    d  u            2  x    d    d  u        \frac{d}{dx}=\frac{d}{du}\frac{du}{dx}=\frac{d}{dx}\left(u\right)\frac{d}{du}=%
 \frac{d}{dx}\left(x^{2}\right)\frac{d}{du}=2x\frac{d}{du}\,     so that        d   d  x     (   sin   (   x  2   )    )    =   2  x   d   d  u     (   sin   (  u  )    )    =   2  x   cos   (   x  2   )               d    d  x       superscript  x  2       2  x    d    d  u      u           2  x     superscript  x  2        \frac{d}{dx}\left(\sin(x^{2})\right)=2x\frac{d}{du}\left(\sin(u)\right)=2x\cos%
 (x^{2})\,     where in the very last step u has been replaced with x 2 .  Integration  Difficult integrals may often be evaluated by changing variables; this is enabled by the substitution rule and is analogous to the use of the chain rule above. Difficult integrals may also be solved by simplifying the integral using a change of variables given by the corresponding Jacobian matrix and determinant . Using the Jacobian determinant and the corresponding change of variable that it gives is the basis of coordinate systems such as polar, cylindrical, and spherical coordinate systems.  Differential equations  Variable changes for differentiation and integration are taught in elementary calculus and the steps are rarely carried out in full.  The very broad use of variable changes is apparent when considering differential equations, where the independent variables may be changed using the chain rule or the dependent variables are changed resulting in some differentiation to be carried out. Exotic changes, such as the mingling of dependent and independent variables in point and contact transformations , can be very complicated but allow much freedom.  Very often, a general form for a change is substituted into a problem and parameters picked along the way to best simplify the problem.  Scaling and shifting  Probably the simplest change is the scaling and shifting of variables, that is replacing them with new variables that are "stretched" and "moved" by constant amounts. This is very common in practical applications to get physical parameters out of problems. For an n th order derivative, the change simply results in         d  n   y    d   x  n     =     y  scale    x  scale  n       d  n    y  ^     d    x  ^   n               superscript  d  n   y     d   superscript  x  n          subscript  y  scale    superscript   subscript  x  scale   n         superscript  d  n    normal-^  y      d   superscript   normal-^  x   n        \frac{d^{n}y}{dx^{n}}=\frac{y_{\text{scale}}}{x_{\text{scale}}^{n}}\frac{d^{n}%
 \hat{y}}{d\hat{x}^{n}}     where      x  =     x  ^    x  scale    +   x  shift        x       normal-^  x    subscript  x  scale     subscript  x  shift      x=\hat{x}x_{\text{scale}}+x_{\text{shift}}          y  =     y  ^    y  scale    +   y  shift     .      y       normal-^  y    subscript  y  scale     subscript  y  shift      y=\hat{y}y_{\text{scale}}+y_{\text{shift}}.     This may be shown readily through the chain rule and linearity of differentiation. This change is very common in practical applications to get physical parameters out of problems, for example, the boundary value problem      μ     d  2   u    d   y  2     =    d  p    d  x    ;  u   (  0  )   =  u   (  L  )   =  0     fragments  μ       superscript  d  2   u     d   superscript  y  2          d  p     d  x     normal-;  u   fragments  normal-(  0  normal-)    u   fragments  normal-(  L  normal-)    0    \mu\frac{d^{2}u}{dy^{2}}=\frac{dp}{dx}\quad;\quad u(0)=u(L)=0     describes parallel fluid flow between flat solid walls separated by a distance δ; µ is the viscosity and      d  p   /  d   x          d  p   d   x    dp/dx   the pressure gradient , both constants. By scaling the variables the problem becomes         d  2    u  ^     d    y  ^   2     =  1  ;   u  ^    (  0  )   =   u  ^    (  1  )   =  0     fragments       superscript  d  2    normal-^  u      d   superscript   normal-^  y   2      1   normal-;   normal-^  u    fragments  normal-(  0  normal-)     normal-^  u    fragments  normal-(  1  normal-)    0    \frac{d^{2}\hat{u}}{d\hat{y}^{2}}=1\quad;\quad\hat{u}(0)=\hat{u}(1)=0     where        y  =     y  ^   L   and     u  =    u  ^     L  2   μ     d  p    d  x       .     formulae-sequence    y      normal-^  y   L   and      u     normal-^  u      superscript  L  2   μ       d  p     d  x        y=\hat{y}L\qquad\text{and}\qquad u=\hat{u}\frac{L^{2}}{\mu}\frac{dp}{dx}.     Scaling is useful for many reasons. It simplifies analysis both by reducing the number of parameters and by simply making the problem neater. Proper scaling may normalize variables, that is make them have a sensible unitless range such as 0 to 1. Finally, if a problem mandates numeric solution, the fewer the parameters the fewer the number of computations.  Momentum vs. velocity  Consider a system of equations       m   v  ˙    =   -    ∂  H    ∂  x           m   normal-˙  v          H     x       m\dot{v}=-\frac{\partial H}{\partial x}          m   x  ˙    =    ∂  H    ∂  v          m   normal-˙  x        H     v      m\dot{x}=\frac{\partial H}{\partial v}   for a given function    H   (  x  ,  v  )       H   x  v     H(x,v)   . The mass can be eliminated by the (trivial) substitution     Φ   (  p  )    =    1  /  m   ⋅  v         normal-Φ  p    normal-⋅    1  m   v     \Phi(p)=1/m\cdot v   . Clearly this is a bijective map from   ℝ   ℝ   \mathbb{R}   to   ℝ   ℝ   \mathbb{R}   . Under the substitution    v  =   Φ   (  p  )        v    normal-Φ  p     v=\Phi(p)   the system becomes       p  ˙   =   -    ∂  H    ∂  x          normal-˙  p         H     x       \dot{p}=-\frac{\partial H}{\partial x}          x  ˙   =    ∂  H    ∂  p         normal-˙  x       H     p      \dot{x}=\frac{\partial H}{\partial p}     Lagrangian mechanics  Given a force field    ϕ   (  t  ,  x  ,  v  )       ϕ   t  x  v     \phi(t,x,v)   , Newton 's equations of motion are       m   x  ¨    =   ϕ   (  t  ,  x  ,  v  )          m   normal-¨  x      ϕ   t  x  v      m\ddot{x}=\phi(t,x,v)   . Lagrange examined how these equations of motion change under an arbitrary substitution of variables    x  =   Ψ   (  t  ,  y  )        x    normal-Ψ   t  y      x=\Psi(t,y)   ,    v  =      ∂  Ψ    (  t  ,  y  )     ∂  t    +      ∂  Ψ    (  t  ,  y  )     ∂  y    ⋅  w        v          normal-Ψ    t  y      t     normal-⋅        normal-Ψ    t  y      y    w      v=\frac{\partial\Psi(t,y)}{\partial t}+\frac{\partial\Psi(t,y)}{\partial y}\cdot
 w   .  He found that the equations        ∂  L    ∂  y    =    d   d  t      ∂  L    ∂  w             L     y        normal-d    normal-d  t        L     w       \frac{\partial{L}}{\partial y}=\frac{\mathrm{d}}{\mathrm{d}t}\frac{\partial{L}%
 }{\partial{w}}   are equivalent to Newton's equations for the function    L  =   T  -  V       L    T  V     L=T-V   , where T is the kinetic, and V the potential energy.  In fact, when the substitution is chosen well (exploiting for example symmetries and constraints of the system) these equations are much easier to solve than Newton's equations in Cartesian coordinates.  See also   Change of variables (PDE)  Substitution property of equality  Instantiation of universals   "  Category:Elementary algebra  Category:Mathematical physics   