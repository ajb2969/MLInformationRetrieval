   Diode modelling      Diode modelling   In electronics , diode modelling refers to the mathematical models used to approximate the actual behavior of real diodes to enable calculations and circuit analysis. A diode 's I - V curve is nonlinear (it is well described by the Shockley diode law ). This nonlinearity complicates calculations in circuits involving diodes so simpler models are often required.  This article discusses the modelling of p-n junction diodes, but the techniques may be generalized to other solid state diodes.  Large-signal modelling  Shockley diode model  The Shockley diode equation relates the diode current   I   I   I   of a p-n junction diode to the diode voltage    V  D     subscript  V  D    V_{D}   . This relationship is the diode I-V characteristic :        I  =    I  S    (    e    V  D   /   (   n   V  T    )     -  1   )        I     subscript  I  S      superscript  e     subscript  V  D     n   subscript  V  T      1      I=I_{S}\left(e^{V_{D}/(nV_{T})}-1\right)   ,     where    I  S     subscript  I  S    I_{S}   is the saturation current or scale current of the diode (the magnitude of the current that flows for negative    V  D     subscript  V  D    V_{D}   in excess of a few    V  T     subscript  V  T    V_{T}   , typically 10 −12 A). The scale current is proportional to the cross-sectional area of the diode. Continuing with the symbols    V  T     subscript  V  T    V_{T}   is the thermal voltage (     k  T   /  q        k  T   q    kT/q   , about 26 mV at normal temperatures), and   n   n   n   is known as the diode ideality factor (for silicon diodes   n   n   n   is approximately 1 to 2).  When     V  D   ≫   n   V  T       much-greater-than   subscript  V  D     n   subscript  V  T      V_{D}\gg nV_{T}   the formula can be simplified to:        I  ≈    I  S   ⋅   e    V  D   /   (   n   V  T    )          I   normal-⋅   subscript  I  S    superscript  e     subscript  V  D     n   subscript  V  T         I\approx I_{S}\cdot e^{V_{D}/(nV_{T})}   .     This expression is, however, only an approximation of a more complex I-V characteristic. Its applicability is particularly limited in case of ultrashallow junctions, for which better analytical models exist. 1  Diode-resistor circuit example  To illustrate the complications in using this law, consider the problem of finding the voltage across the diode in Figure 1.  (Figure)  Figure 1: Diode circuit with resistive load.   Because the current flowing through the diode is the same as the current throughout the entire circuit, we can lay down another equation. By Kirchhoff's laws , the current flowing in the circuit is        I  =     V  S   -   V  D    R       I       subscript  V  S    subscript  V  D    R     I=\frac{V_{S}-V_{D}}{R}   .     These two equations determine the diode current and the diode voltage. To solve these two equations, we could substitute the current   I   I   I   from the second equation into the first equation, and then try to rearrange the resulting equation to get    V  D     subscript  V  D    V_{D}   in terms of    V  S     subscript  V  S    V_{S}   . A difficulty with this method is that the diode law is nonlinear. Nonetheless, a formula expressing   I   I   I   directly in terms of    V  S     subscript  V  S    V_{S}   without involving    V  D     subscript  V  D    V_{D}   can be obtained using the Lambert   W   W   W   -function , which is the inverse function of     f   (  w  )    =   w   e  w          f  w     w   superscript  e  w      f(w)=we^{w}   , that is,    w  =   W   (  f  )        w    W  f     w=W(f)   . This solution is discussed next.  Explicit solution  An explicit expression for the diode current can be obtained in terms of the Lambert W -function (also called the Omega function). A guide to these manipulations follows. A new variable   w   w   w   is introduced as        w  =      I  S   R    n   V  T      (    I   I  S    +  1   )        w         subscript  I  S   R     n   subscript  V  T         I   subscript  I  S    1      w=\frac{I_{S}R}{nV_{T}}\left(\frac{I}{I_{S}}+1\right)   .     Following the substitutions     I  /   I  S    =    e     V  D   /  n    V  T     -  1         I   subscript  I  S       superscript  e       subscript  V  D   n    subscript  V  T     1     I/I_{S}=e^{V_{D}/nV_{T}}-1   :         w   e  w    =      I  S   R    n   V  T      e     V  D   /  n    V  T      e      I  S   R    n   V  T      (    I   I  S    +  1   )            w   superscript  e  w           subscript  I  S   R     n   subscript  V  T      superscript  e       subscript  V  D   n    subscript  V  T      superscript  e         subscript  I  S   R     n   subscript  V  T         I   subscript  I  S    1        we^{w}=\frac{I_{S}R}{nV_{T}}e^{V_{D}/nV_{T}}e^{\frac{I_{S}R}{nV_{T}}\left(%
 \frac{I}{I_{S}}+1\right)}        and     V  D   =    V  S   -   I  R         subscript  V  D      subscript  V  S     I  R      V_{D}=V_{S}-IR   :         w   e  w    =      I  S   R    n   V  T      e     V  S   /  n    V  T      e    -   I  R     n   V  T       e    I  R   I  S     n   V  T    I  S       e      I  S   R   /  n    V  T            w   superscript  e  w           subscript  I  S   R     n   subscript  V  T      superscript  e       subscript  V  S   n    subscript  V  T      superscript  e        I  R      n   subscript  V  T       superscript  e      I  R   subscript  I  S      n   subscript  V  T    subscript  I  S       superscript  e         subscript  I  S   R   n    subscript  V  T        we^{w}=\frac{I_{S}R}{nV_{T}}e^{V_{S}/nV_{T}}e^{\frac{-IR}{nV_{T}}}e^{\frac{IRI%
 _{S}}{nV_{T}I_{S}}}e^{I_{S}R/nV_{T}}        rearrangement of the diode law in terms of w becomes:         w   e  w    =      I  S   R    n   V  T      e    (    V  s   +    I  s   R    )   /   (   n   V  T    )            w   superscript  e  w           subscript  I  S   R     n   subscript  V  T      superscript  e       subscript  V  s      subscript  I  s   R      n   subscript  V  T         we^{w}=\frac{I_{S}R}{nV_{T}}e^{(V_{s}+I_{s}R)/(nV_{T})}   ,     which using the Lambert   W   W   W   -function becomes        w  =   W   (      I  S   R    n   V  T      e    (    V  s   +    I  s   R    )   /   (   n   V  T    )      )        w    W         subscript  I  S   R     n   subscript  V  T      superscript  e       subscript  V  s      subscript  I  s   R      n   subscript  V  T          w=W\left(\frac{I_{S}R}{nV_{T}}e^{(V_{s}+I_{s}R)/(nV_{T})}\right)   .     With the approximations (valid for the most common values of the parameters)      I  s   R   ≪   V  S      much-less-than     subscript  I  s   R    subscript  V  S     I_{s}R\ll V_{S}   and     I  /   I  S    ≫  1     much-greater-than    I   subscript  I  S    1    I/I_{S}\gg 1   , this solution becomes        I  ≈     n   V  T    R   W   (      I  S   R    n   V  T      e    V  s   /   (   n   V  T    )      )        I        n   subscript  V  T    R   W         subscript  I  S   R     n   subscript  V  T      superscript  e     subscript  V  s     n   subscript  V  T          I\approx\frac{nV_{T}}{R}W\left(\frac{I_{S}R}{nV_{T}}e^{V_{s}/(nV_{T})}\right)   .     Once the current is determined, the diode voltage can be found using either of the other equations.  For large x,    W   (  x  )       W  x    W(x)   can be approximated by     W   (  x  )    =     ln  x   -   ln   ln  x     +   o   (  1  )           W  x         x       x       o  1      W(x)=\ln x-\ln\ln x+o(1)   . For common physical parameters and resistances,       I  S   R    n   V  T      e    V  s   /   (   n   V  T    )              subscript  I  S   R     n   subscript  V  T      superscript  e     subscript  V  s     n   subscript  V  T        \frac{I_{S}R}{nV_{T}}e^{V_{s}/(nV_{T})}   will be on the order of 10 40 .  Iterative solution  The diode voltage    V  D     subscript  V  D    V_{D}   can be found in terms of    V  S     subscript  V  S    V_{S}   for any particular set of values by an iterative method using a calculator or computer 2 The diode law is rearranged by dividing by    I  S     subscript  I  S    I_{S}   , and adding 1. The diode law becomes          I   I  S    +  1   =   e    V  D   /   (   n   V  T    )             I   subscript  I  S    1    superscript  e     subscript  V  D     n   subscript  V  T        \frac{I}{I_{S}}+1=e^{V_{D}/(nV_{T})}   .     By taking natural logarithms of both sides the exponential is removed, and the equation becomes          V  D    n   V  T     =   ln   (    I   I  S    +  1   )           subscript  V  D     n   subscript  V  T           I   subscript  I  S    1      \frac{V_{D}}{nV_{T}}=\ln\left(\frac{I}{I_{S}}+1\right)   .     For any   I   I   I   , this equation determines    V  D     subscript  V  D    V_{D}   . However,   I   I   I   also must satisfy the Kirchhoff's law equation, given above. This expression is substituted for   I   I   I   to obtain          V  D    n   V  T     =   ln   (      (    V  S   -   V  D    )   /  R    I  S    +  1   )           subscript  V  D     n   subscript  V  T                subscript  V  S    subscript  V  D    R    subscript  I  S    1      \frac{V_{D}}{nV_{T}}=\ln\left(\frac{(V_{S}-V_{D})/R}{I_{S}}+1\right)   ,     or         V  D   =   n   V  T    ln   (      V  S   -   V  D     R   I  S     +  1   )          subscript  V  D     n   subscript  V  T            subscript  V  S    subscript  V  D      R   subscript  I  S     1       V_{D}=nV_{T}\ln\left(\frac{V_{S}-V_{D}}{RI_{S}}+1\right)   .     The voltage of the source    V  S     subscript  V  S    V_{S}   is a known given value, but    V  D     subscript  V  D    V_{D}   is on both sides of the equation, which forces an iterative solution: a starting value for    V  D     subscript  V  D    V_{D}   is guessed and put into the right side of the equation. Carrying out the various operations on the right side, we come up with a new value for    V  D     subscript  V  D    V_{D}   . This new value now is substituted on the right side, and so forth. If this iteration converges the values of    V  D     subscript  V  D    V_{D}   become closer and closer together as the process continues, and we can stop iteration when the accuracy is sufficient. Once    V  D     subscript  V  D    V_{D}   is found,   I   I   I   can be found from the Kirchhoff's law equation.  Sometimes an iterative procedure depends critically on the first guess. In this example, almost any first guess will do, say     V  D   =    600   mV        subscript  V  D     600  mV     V_{D}=600\,\mathrm{mV}   . Sometimes an iterative procedure does not converge at all: in this problem an iteration based on the exponential function does not converge, and that is why the equations were rearranged to use a logarithm. Finding a convergent iterative formulation is an art, and every problem is different.  Graphical solution  Graphical analysis is a simple way to derive a numerical solution to the transcendental equations describing the diode. As with most graphical methods, it has the advantage of easy visualization. By plotting the I - V curves, it is possible to obtain an approximate solution to any arbitrary degree of accuracy. This process is the graphical equivalent of the two previous approaches, which are more amenable to computer implementation.  This method plots the two current-voltage equations on a graph and the point of intersection of the two curves satisfies both equations, giving the value of the current flowing through the circuit and the voltage across the diode. The following figure illustrates such method.  (Figure)  Graphical determination of the operating point through the intersection of the diode characteristic with the resistive load line.   Piecewise linear model  In practice, the graphical method is complicated and impractical for complex circuits. Another method of modelling a diode is called piecewise linear (PWL) modelling . In mathematics, this means taking a function and breaking it down into several linear segments. This method is used to approximate the diode characteristic curve as a series of linear segments. The real diode is modelled as 3 components in series: an ideal diode, a voltage source and a resistor . The figure below shows a real diode I-V curve being approximated by a two-segment piecewise linear model. Typically the sloped line segment would be chosen tangent to the diode curve at the Q-point . Then the slope of this line is given by the reciprocal of the small-signal resistance of the diode at the Q-point.  (Figure)  A piecewise linear approximation of the diode characteristic.   Mathematically idealized diode  Firstly, let us consider a mathematically idealized diode. In such an ideal diode, if the diode is reverse biased, the current flowing through it is zero. This ideal diode starts conducting at 0 V and for any positive voltage an infinite current flows and the diode acts like a short circuit. The I-V characteristics of an ideal diode are shown below:  (Figure)  I-V characteristic of an ideal diode.   Ideal diode in series with voltage source  Now let us consider the case when we add a voltage source in series with the diode in the form shown below:  (Figure)  Ideal diode with a series voltage source.   When forward biased, the ideal diode is simply a short circuit and when reverse biased, an open circuit. If the anode of the diode is connected to 0 V, the voltage at the cathode will be at Vt and so the potential at the cathode will be greater than the potential at the anode and the diode will be reverse biased. In order to get the diode to conduct, the voltage at the anode will need to be taken to Vt . This circuit approximates the cut-in voltage present in real diodes. The combined I-V characteristic of this circuit is shown below:  (Figure)  I-V characteristic of an ideal diode with a series voltage source.   The Shockley diode model can be used to predict the approximate value of    V  t     subscript  V  t    V_{t}   .         I  =    I  S    (    e    V  D   /   (   n  ⋅   V  T    )     -  1   )     ⇔      normal-⇔    I     subscript  I  S      superscript  e     subscript  V  D    normal-⋅  n   subscript  V  T      1     absent    I=I_{S}\left(e^{V_{D}/(n\cdot V_{T})}-1\right)\Leftrightarrow           ln   (   1  +   I   I  S     )    =    V  D    n  ⋅   V  T      ⇔      normal-⇔        1    I   subscript  I  S         subscript  V  D    normal-⋅  n   subscript  V  T      absent    \ln\left(1+\frac{I}{I_{S}}\right)=\frac{V_{D}}{n\cdot V_{T}}\Leftrightarrow           V  D   =    n  ⋅   V  T     ln   (   1  +   I   I  S     )     ≈    n  ⋅   V  T     ln   (   I   I  S    )      ⇔      normal-⇔       subscript  V  D      normal-⋅  n   subscript  V  T        1    I   subscript  I  S               normal-⋅  n   subscript  V  T        I   subscript  I  S        absent    V_{D}=n\cdot V_{T}\ln\left(1+\frac{I}{I_{S}}\right)\approx n\cdot V_{T}\ln%
 \left(\frac{I}{I_{S}}\right)\Leftrightarrow     V_D \approx n \cdot V_T \cdot \ln{10} \cdot \log_{10}{\left( \frac{I}{I_S} \right)}      Using    n  =  1      n  1    n=1   and    T  =   25  C       T    25  C     T=25C   :         V  D   ≈   0.05916  ⋅    log  10    (   I   I  S    )          subscript  V  D    normal-⋅  0.05916    subscript   10     I   subscript  I  S        V_{D}\approx 0.05916\cdot\log_{10}{\left(\frac{I}{I_{S}}\right)}        Typical values of the saturation current at room temperature are:        I  S   =   10   -  12         subscript  I  S    superscript  10    12      I_{S}=10^{-12}   for silicon diodes;       I  S   =   10   -  6         subscript  I  S    superscript  10    6      I_{S}=10^{-6}   for germanium diodes.   As the variation of    V  D     subscript  V  D    V_{D}   goes with the logarithm of the ratio    I   I  S       I   subscript  I  S     \frac{I}{I_{S}}   , its value varies very little for a big variation of the ratio. The use of base 10 logarithms makes it easier to think in orders of magnitude.  For a current of 1.0 mA:        V  D   ≈   0.53  V        subscript  V  D     0.53  V     V_{D}\approx 0.53V   for silicon diodes (9 orders of magnitude);       V  D   ≈   0.18  V        subscript  V  D     0.18  V     V_{D}\approx 0.18V   for germanium diodes (3 orders of magnitude).   For a current of 100 mA:        V  D   ≈   0.65  V        subscript  V  D     0.65  V     V_{D}\approx 0.65V   for silicon diodes (11 orders of magnitude);       V  D   ≈   0.30  V        subscript  V  D     0.30  V     V_{D}\approx 0.30V   for germanium diodes (5 orders of magnitude).   Values of 0.6 or 0.7 Volts are commonly used for silicon diodes 3  Diode with voltage source and current-limiting resistor  The last thing needed is a resistor to limit the current, as shown below:  (Figure)  Ideal diode with a series voltage source and resistor.   The I-V characteristic of the final circuit looks like this:  (Figure)  I-V characteristic of an ideal diode with a series voltage source and resistor.   The real diode now can be replaced with the combined ideal diode, voltage source and resistor and the circuit then is modelled using just linear elements. If the sloped-line segment is tangent to the real diode curve at the Q-point , this approximate circuit has the same small-signal circuit at the Q-point as the real diode.  Dual PWL-diodes or 3-Line PWL model  (Figure)  I-V characteristic of the standard PWL model (marked by red-triangles), as described above. Shown for reference is the standard Shockley-diode model (marked by blue-diamonds). The Shockley parameters are Is=1e-12A, Vt=0.0258v   When more accuracy is desired in modelling the diode's turn-on characteristic, the model can be enhanced by doubling-up the standard PWL-model. This model uses two piecewise-linear diodes in parallel, as a way to model a single diode more accurately.    Small-signal modelling  Resistance  Using the Shockley equation, the small-signal diode resistance    r  D     subscript  r  D    r_{D}   of the diode can be derived about some operating point ( Q-point ) where the DC bias current is    I  Q     subscript  I  Q    I_{Q}   and the Q-point applied voltage is    V  Q     subscript  V  Q    V_{Q}   . 4 To begin, the diode small-signal conductance     g  D     subscript  g  D    g_{D}   is found, that is, the change in current in the diode caused by a small change in voltage across the diode, divided by this voltage change, namely:         g  D   =      d  I    d  V    |   Q   =     I  s    V  T     e    V  Q   /   V  T      ≈    I  Q    V  T           subscript  g  D    evaluated-at      d  I     d  V    Q             subscript  I  s    subscript  V  T     superscript  e     subscript  V  Q    subscript  V  T              subscript  I  Q    subscript  V  T       g_{D}=\frac{dI}{dV}\Big|_{Q}=\frac{I_{s}}{V_{T}}e^{V_{Q}/V_{T}}\approx\frac{I_%
 {Q}}{V_{T}}   .     The latter approximation assumes that the bias current    I  Q     subscript  I  Q    I_{Q}   is large enough so that the factor of 1 in the parentheses of the Shockley diode equation can be ignored. This approximation is accurate even at rather small voltages, because the thermal voltage      V  T   ≈    25   mV        subscript  V  T     25  mV     V_{T}\approx 25\,\mathrm{mV}   at 300K, so     V  Q   /   V  T        subscript  V  Q    subscript  V  T     V_{Q}/V_{T}   tends to be large, meaning that the exponential is very large.  Noting that the small-signal resistance    r  D     subscript  r  D    r_{D}   is the reciprocal of the small-signal conductance just found, the diode resistance is independent of the ac current, but depends on the dc current, and is given as         r  D   =    n  ⋅   V  T     I  Q         subscript  r  D      normal-⋅  n   subscript  V  T     subscript  I  Q      r_{D}=\frac{n\cdot V_{T}}{I_{Q}}   .     Capacitance  The charge in the diode carrying current    I  Q     subscript  I  Q    I_{Q}   is known to be      Q  =     I  Q    τ  F    +   Q  J        Q       subscript  I  Q    subscript  τ  F     subscript  Q  J      Q=I_{Q}\tau_{F}+Q_{J}   ,  where    τ  F     subscript  τ  F    \tau_{F}   is the forward transit time of charge carriers: 5 The first term in the charge is the charge in transit across the diode when the current    I  Q     subscript  I  Q    I_{Q}   flows. The second term is the charge stored in the junction itself when it is viewed as a simple capacitor ; that is, as a pair of electrodes with opposite charges on them. It is the charge stored on the diode by virtue of simply having a voltage across it, regardless of any current it conducts.  In a similar fashion as before, the diode capacitance is the change in diode charge with diode voltage:         C  D   =    d  Q    d   V  Q     =      d   I  Q     d   V  Q      τ  F    +    d   Q  J     d   V  Q      ≈      I  Q    V  T     τ  F    +   C  J           subscript  C  D       d  Q     d   subscript  V  Q                  d   subscript  I  Q      d   subscript  V  Q      subscript  τ  F        d   subscript  Q  J      d   subscript  V  Q                  subscript  I  Q    subscript  V  T     subscript  τ  F     subscript  C  J       C_{D}=\frac{dQ}{dV_{Q}}=\frac{dI_{Q}}{dV_{Q}}\tau_{F}+\frac{dQ_{J}}{dV_{Q}}%
 \approx\frac{I_{Q}}{V_{T}}\tau_{F}+C_{J}   ,     where     C  J   =       d   Q  J     d   V  Q             subscript  C  J         d   subscript  Q  J      d   subscript  V  Q         C_{J}=\begin{matrix}\frac{dQ_{J}}{dV_{Q}}\end{matrix}   is the junction capacitance and the first term is called the diffusion capacitance , because it is related to the current diffusing through the junction.  Variation of Forward Voltage with Temperature  The Shockley diode equation has an exponential of     V  D   /   (    k  T   /  q   )        subscript  V  D       k  T   q     V_{D}/(kT/q)   , which would lead one to expect that the forward-voltage increases with temperature. In fact, this is generally not the case: as temperature rises, the saturation current    I  S     subscript  I  S    I_{S}   rises, and this effect dominates. So as the diode becomes hotter , the forward-voltage (for a given current) decreases .  Here is some detailed experimental data , which shows this for a 1N4005 silicon diode. In fact, some silicon diodes are used as temperature sensors; for example, the CY7 series from OMEGA has a forward voltage of 1.02V in liquid nitrogen (77K), 0.54V at room temperature, and 0.29V at 100 °C. 6  In addition, there is a small change of the material parameter bandgap with temperature. For LEDs, this bandgap change also shifts their colour: they move towards the blue end of the spectrum when cooled.  Since the diode forward-voltage drops as its temperature rises, this can lead to thermal runaway in bipolar-transistor circuits (base-emitter junction of a BJT acts as a diode), where a change in bias leads to an increase in power-dissipation, which in turn changes the bias even further.  See also   Bipolar junction transistor  Semiconductor device modelling   References  "  Category:Electronic device modeling     . ↩  . ↩  . ↩   ↩  http://www.omega.com/Temperature/pdf/CY7.pdf datasheet ↩     