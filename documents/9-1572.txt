   Local volatility      Local volatility   A local volatility model, in mathematical finance and financial engineering , is one that treats volatility as a function of both the current asset level    S  t     subscript  S  t    S_{t}   and of time   t   t   t   . As such, a local volatility model is a generalisation of the Black-Scholes model, where the volatility is a constant (i.e. a trivial function of    S  t     subscript  S  t    S_{t}   and   t   t   t   ).  Formulation  In mathematical finance , the asset S t that underlies a financial derivative , is typically assumed to follow a stochastic differential equation of the form       d   S  t    =     (    r  t   -   d  t    )     S  t    d  t   +    σ  t     S  t    d   W  t           d   subscript  S  t           subscript  r  t    subscript  d  t     subscript  S  t   d  t      subscript  σ  t    subscript  S  t   d   subscript  W  t       dS_{t}=(r_{t}-d_{t})S_{t}\,dt+\sigma_{t}S_{t}\,dW_{t}   , where    r  t     subscript  r  t    r_{t}   is the instantaneous risk free rate , giving an average local direction to the dynamics, and    W  t     subscript  W  t    W_{t}   is a Wiener process , representing the inflow of randomness into the dynamics. The amplitude of this randomness is measured by the instant volatility    σ  t     subscript  σ  t    \sigma_{t}   . In the simplest model i.e. the Black-Scholes model,    σ  t     subscript  σ  t    \sigma_{t}   is assumed to be constant; in reality, the realized volatility of an underlying actually varies with time.  When such volatility has a randomness of its own—often described by a different equation driven by a different W —the model above is called a stochastic volatility model. And when such volatility is merely a function of the current asset level S t and of time t , we have a local volatility model. The local volatility model is a useful simplification of the stochastic volatility model.  "Local volatility" is thus a term used in quantitative finance to denote the set of diffusion coefficients,     σ  t   =   σ   (   S  t   ,  t  )         subscript  σ  t     σ    subscript  S  t   t      \sigma_{t}=\sigma(S_{t},t)   , that are consistent with market prices for all options on a given underlying. This model is used to calculate exotic option valuations which are consistent with observed prices of vanilla options .  Development  The concept of a local volatility was developed when Bruno Dupire  1 and Emanuel Derman and Iraj Kani 2 noted that there is a unique diffusion process consistent with the risk neutral densities derived from the market prices of European options.  Derman and Kani described and implemented a local volatility function to model instantaneous volatility. They used this function at each node in a binomial options pricing model . The tree successfully produced option valuations consistent with all market prices across strikes and expirations. 3 The Derman-Kani model was thus formulated with discrete time and stock-price steps. The key continuous -time equations used in local volatility models were developed by Bruno Dupire in 1994. Dupire's equation states        ∂  C    ∂  T    =     1  2    σ  2    (  K  ,  T  ;   S  0   )    K  2      ∂  2   C    ∂   K  2      -    (   r  -  d   )   K    ∂  C    ∂  K     -   d  C            C     T          1  2    superscript  σ  2    K  T   subscript  S  0     superscript  K  2       superscript   2   C      superscript  K  2          r  d   K      C     K       d  C      \frac{\partial C}{\partial T}=\frac{1}{2}\sigma^{2}(K,T;S_{0})K^{2}\frac{%
 \partial^{2}C}{\partial K^{2}}-(r-d)K\frac{\partial C}{\partial K}-dC     There exist few known parametrisation of the volatility surface based on the heston model (Schonbusher, SVI and gSVI) as well as their de-arbitraging methodologies. 4  Derivation  Given the price of the asset    S  t     subscript  S  t    S_{t}   governed by the risk neutral SDE       d   S  t    =     (   r  -  d   )    S  t   d  t   +   σ   (  t  ,   S  t   )    S  t   d   W  t           d   subscript  S  t          r  d    subscript  S  t   d  t     σ   t   subscript  S  t     subscript  S  t   d   subscript  W  t       dS_{t}=(r-d)S_{t}dt+\sigma(t,S_{t})S_{t}dW_{t}     The transition probability    p   (  t  ,   S  t   )       p   t   subscript  S  t      p(t,S_{t})   conditional to    S  0     subscript  S  0    S_{0}   satisfies the forward Kolmogorov equation (also known as Fokker–Planck equation )       p  t   =    -    [    (   r  -  d   )    s   p   ]   s    +    1  2     [     (   σ  s   )   2   p   ]    s  s           subscript  p  t        subscript   delimited-[]      r  d   s  p    s        1  2    subscript   delimited-[]     superscript    σ  s   2   p      s  s        p_{t}=-[(r-d)s\,p]_{s}+\frac{1}{2}[(\sigma s)^{2}p]_{ss}     Because of the Martingale pricing theorem, the price of a call option with maturity   T   T   T   and strike   K   K   K   is     C   C   \displaystyle C     Differentiating the price of a call option twice with respect to   K   K   K          C  K   =   -    e   -   r  T       ∫  K  ∞    p  d  s           subscript  C  K        superscript  e      r  T       superscript   subscript   K       p  d  s        C_{K}=-e^{-rT}\int_{K}^{\infty}pds   and replacing in the formula for the price of a call option and rearranging terms        e   -   r  T       ∫  K  ∞     s    p   d  s     =   C  -    K    C  K            superscript  e      r  T       superscript   subscript   K       s  p  d  s       C    K   subscript  C  K       e^{-rT}\int_{K}^{\infty}s\,p\,ds=C-K\,C_{K}   Differentiating the price of a call option with respect to   K   K   K   twice       C   K  K    =    e   -   r  T     p        subscript  C    K  K       superscript  e      r  T     p     C_{KK}=e^{-rT}p     Differentiating the price of a call option with respect to   T   T   T   yields       C  T   =    -    r   C    +    e   -   r  T       ∫  K  ∞     (   s  -  K   )    p  T   d  s           subscript  C  T         r  C       superscript  e      r  T       superscript   subscript   K         s  K    subscript  p  T   d  s        C_{T}=-r\,C+e^{-rT}\int_{K}^{\infty}(s-K)p_{T}ds   using the Forward Kolmogorov equation       C  T   =     -    r   C    -    e   -   r  T       ∫  K  ∞     (   s  -  K   )      [    (   r  -  d   )    s   p   ]   s    d  s      +    1  2    e   -   r  T       ∫  K  ∞     (   s  -  K   )      [      (   σ  s   )   2    p   ]    s  s     d  s           subscript  C  T           r  C       superscript  e      r  T       superscript   subscript   K         s  K    subscript   delimited-[]      r  d   s  p    s   d  s          1  2    superscript  e      r  T       superscript   subscript   K         s  K    subscript   delimited-[]     superscript    σ  s   2   p      s  s    d  s        C_{T}=-r\,C-e^{-rT}\int_{K}^{\infty}(s-K)[(r-d)s\,p]_{s}\,ds+\frac{1}{2}e^{-rT%
 }\int_{K}^{\infty}(s-K)[(\sigma s)^{2}\,p]_{ss}\,ds   integrating by parts the first integral once and the second integral twice       C  T   =    -    r   C    +    (   r  -  d   )    e   -   r  T       ∫  K  ∞     s    p   d  s     +    1  2    e   -   r  T        (   σ  K   )   2    p         subscript  C  T         r  C        r  d    superscript  e      r  T       superscript   subscript   K       s  p  d  s         1  2    superscript  e      r  T      superscript    σ  K   2   p      C_{T}=-r\,C+(r-d)e^{-rT}\int_{K}^{\infty}s\,p\,ds+\frac{1}{2}e^{-rT}(\sigma K)%
 ^{2}\,p   using the formulas derived differentiating the price of a call option with respect to   K   K   K         C  T     subscript  C  T    \displaystyle C_{T}     Use  Local volatility models are useful in any options market in which the underlying's volatility is predominantly a function of the level of the underlying, interest-rate derivatives for example. Time-invariant local volatilities are supposedly inconsistent with the dynamics of the equity index implied volatility surface, 5 6 but see , who claims that such models provide the best average hedge for equity index options. Local volatility models are nonetheless useful in the formulation of stochastic volatility models. 7  Local volatility models have a number of attractive features. 8 Because the only source of randomness is the stock price, local volatility models are easy to calibrate. Also, they lead to complete markets where hedging can be based only on the underlying asset. The general non-parametric approach by Dupire is however problematic, as one needs to arbitrarily pre-interpolate the input implied volatility surface before applying the method. Alternative parametric approaches have been proposed, notably the highly tractable mixture dynamical local volatility models by Damiano Brigo and Fabio Mercurio . 9 10  Since in local volatility models the volatility is a deterministic function of the random stock price, local volatility models are not very well used to price cliquet options or forward start options , whose values depend specifically on the random nature of volatility itself.  References       http://ssrn.com/abstract=2428532   "  Category:Derivatives (finance)     http://www.risk.net/data/risk/pdf/technical/2007/risk20_0707_technical_volatility.pdf ↩  ↩   http://www.readcube.com/articles/10.1002/wilm.10201?locale=en ↩  ↩  ↩  ↩  ↩  ↩  ↩     