   Proofs of quadratic reciprocity      Proofs of quadratic reciprocity   In number theory , the law of quadratic reciprocity , like the Pythagorean theorem , has lent itself to an unusual number of proofs . Several hundred proofs of the law of quadratic reciprocity have been found.  Proofs that are accessible  Of relatively elementary, combinatorial proofs, there are two which apply types of double counting . One by Gotthold Eisenstein counts lattice points . Another applies Zolotarev's lemma to Z / pqZ expressed by the Chinese remainder theorem as Z / pZ √ó Z / qZ , and calculates the signature of a permutation .  Eisenstein's proof  Eisenstein's proof of quadratic reciprocity is a simplification of Gauss's third proof. It is more geometrically intuitive and requires less technical manipulation.  The point of departure is "Eisenstein's lemma", which states that for distinct odd primes p , q ,        (   q  p   )   =    (   -  1   )      ‚àë  u     ‚åä    q  u   /  p   ‚åã      ,        q  p    superscript    1     subscript   u         q  u   p        \left(\frac{q}{p}\right)=(-1)^{\sum_{u}\left\lfloor qu/p\right\rfloor},   where    ‚åä  x  ‚åã      x    \left\lfloor x\right\rfloor   denotes the floor function (the largest integer less than or equal to x ), and where the sum is taken over the even integers u = 2, 4, 6, ..., p ‚àí1. For example,       (   7  11   )   =    (   -  1   )     ‚åä   14  /  11   ‚åã   +   ‚åä   28  /  11   ‚åã   +   ‚åä   42  /  11   ‚åã   +   ‚åä   56  /  11   ‚åã   +   ‚åä   70  /  11   ‚åã     =    (   -  1   )    1  +  2  +  3  +  5  +  6    =    (   -  1   )   17   =   -  1.           7  11    superscript    1         14  11        28  11        42  11        56  11        70  11            superscript    1     1  2  3  5  6          superscript    1   17          1.      \left(\frac{7}{11}\right)=(-1)^{\left\lfloor 14/11\right\rfloor+\left\lfloor 2%
 8/11\right\rfloor+\left\lfloor 42/11\right\rfloor+\left\lfloor 56/11\right%
 \rfloor+\left\lfloor 70/11\right\rfloor}=(-1)^{1+2+3+5+6}=(-1)^{17}=-1.   This result is very similar to Gauss's lemma , and can be proved in a similar fashion (proof given below).  Using this representation of ( q / p ), the main argument is quite elegant. The sum     Œ£  u    ‚åä    q  u   /  p   ‚åã        subscript  normal-Œ£  u         q  u   p      \Sigma_{u}\left\lfloor qu/p\right\rfloor   counts the number of lattice points with even x -coordinate in the interior of the triangle ABC in the following diagram:     (Figure)  Lattice point diagram    |     Because each column has an even number of points (namely q ‚àí1 points), the number of such lattice points in the region BCYX is the same modulo 2 as the number of such points in the region CZY:  (Figure)  The number of points with even x -coordinate inside BCYX (marked by O's) is equal modulo 2 to the number of such points in CZY (marked by X's)   Then by flipping the diagram in both axes, we see that the number of points with even x -coordinate inside CZY is the same as the number of points inside AXY having odd  x -coordinates:  (Figure)  The number of points with even x -coordinate inside CZY is equal to the number of points with odd  x -coordinate inside AXY   The conclusion is that        (   q  p   )   =    (   -  1   )   Œº    ,        q  p    superscript    1   Œº     \left(\frac{q}{p}\right)=(-1)^{\mu},   where Œº is the total number of lattice points in the interior of AYX. Switching p and q , the same argument shows that        (   p  q   )   =    (   -  1   )   ŒΩ    ,        p  q    superscript    1   ŒΩ     \left(\frac{p}{q}\right)=(-1)^{\nu},   where ŒΩ is the number of lattice points in the interior of WYA. Since there are no lattice points on the line AY itself (because p and q are relatively prime ), and since the total number of points in the rectangle WYXA is        (    p  -  1   2   )    (    q  -  1   2   )    ,          p  1   2       q  1   2     \left(\frac{p-1}{2}\right)\left(\frac{q-1}{2}\right),   we obtain finally         (   q  p   )    (   p  q   )    =    (   -  1   )    Œº  +  ŒΩ    =    (   -  1   )      (   p  -  1   )    (   q  -  1   )    /  4     .            q  p     p  q     superscript    1     Œº  ŒΩ          superscript    1         p  1     q  1    4       \left(\frac{q}{p}\right)\left(\frac{p}{q}\right)=(-1)^{\mu+\nu}=(-1)^{(p-1)(q-%
 1)/4}.     Proof of Eisenstein's lemma  For an even integer u in the range 1 ‚â§ u ‚â§ p ‚àí1, denote by r ( u ) the least positive residue of qu modulo p . (For example, for p = 11, q = 7, we allow u = 2, 4, 6, 8, 10, and the corresponding values of r ( u ) are 3, 6, 9, 1, 4.) The numbers (‚àí1) r ( u ) r ( u ), again treated as least positive residues modulo p , are all even (in our running example, they are 8, 6, 2, 10, 4.) Furthermore, they are all distinct, because if (‚àí1) r ( u ) r ( u ) ‚â° (‚àí1) r ( t ) r ( t ) mod p , then we may divide out by q to obtain u ‚â° ¬± t mod p . This forces u ‚â° t mod p , because both u and t are even , whereas p is odd. Since there exactly ( p ‚àí1)/2 of them and they are distinct, they must be simply a rearrangement of the even integers 2, 4, ..., p ‚àí1. Multiplying them together, we obtain        (  -  1  )    r   (  2  )     2  q  ‚ãÖ    (  -  1  )    r   (  4  )     4  q  ‚ãÖ  ‚ãØ  ‚ãÖ    (  -  1  )    r   (   p  -  1   )      (  p  -  1  )   q  ‚â°  2  ‚ãÖ  4  ‚ãÖ  ‚ãØ  ‚ãÖ   (  p  -  1  )   (mod  p  )  .     fragments   superscript   fragments  normal-(   1  normal-)     r  2    2  q  normal-‚ãÖ   superscript   fragments  normal-(   1  normal-)     r  4    4  q  normal-‚ãÖ  normal-‚ãØ  normal-‚ãÖ   superscript   fragments  normal-(   1  normal-)     r    p  1      fragments  normal-(  p   1  normal-)   q   2  normal-‚ãÖ  4  normal-‚ãÖ  normal-‚ãØ  normal-‚ãÖ   fragments  normal-(  p   1  normal-)   (mod  p  normal-)  normal-.    (-1)^{r(2)}2q\cdot(-1)^{r(4)}4q\cdot\cdots\cdot(-1)^{r(p-1)}(p-1)q\equiv 2%
 \cdot 4\cdot\cdots\cdot(p-1)\text{ (mod }p).   Dividing out successively by 2, 4, ..., p ‚àí1 on both sides (which is permissible since none of them are divisible by p ) and rearranging, we have       q    (   p  -  1   )   /  2    ‚â°    (  -  1  )     r   (  2  )    +   r   (  4  )    +  ‚ãØ  +   r   (   p  -  1   )      (mod  p  )  .     fragments   superscript  q      p  1   2      superscript   fragments  normal-(   1  normal-)       r  2     r  4   normal-‚ãØ    r    p  1      (mod  p  normal-)  normal-.    q^{(p-1)/2}\equiv(-1)^{r(2)+r(4)+\cdots+r(p-1)}\text{ (mod }p).   On the other hand, by the definition of r ( u ) and the floor function,         q  u   p   =    ‚åä    q  u   p   ‚åã   +    r   (  u  )    p     ,          q  u   p           q  u   p        r  u   p      \frac{qu}{p}=\left\lfloor\frac{qu}{p}\right\rfloor+\frac{r(u)}{p},   and so since p is odd and u is even, we see that    ‚åä    q  u   /  p   ‚åã          q  u   p     \left\lfloor qu/p\right\rfloor   and r ( u ) are congruent modulo 2. Finally this shows that       q    (   p  -  1   )   /  2    ‚â°    (  -  1  )      ‚àë  u     ‚åä    q  u   /  p   ‚åã     (mod  p  )  .     fragments   superscript  q      p  1   2      superscript   fragments  normal-(   1  normal-)     subscript   u         q  u   p      (mod  p  normal-)  normal-.    q^{(p-1)/2}\equiv(-1)^{\sum_{u}\left\lfloor qu/p\right\rfloor}\text{ (mod }p).   We are finished because the left hand side is just an alternative expression for ( q / p ) .  Proof using algebraic number theory  The proof presented here is by no means the simplest known; however, it is quite a deep one, in the sense that it motivates some of the ideas of Artin reciprocity .  Cyclotomic field setup  Suppose that p is an odd prime. The action takes place inside the cyclotomic field       L  =   ùêê   (   Œ∂  p   )     ,      L    ùêê   subscript  Œ∂  p      L=\mathbf{Q}(\zeta_{p}),   where Œ∂ p is a primitive p th  root of unity . The basic theory of cyclotomic fields informs us that there is a canonical isomorphism       G  =   Gal   (   L  /  ùêê   )    ‚âÖ    (     \Z   /  p    \Z    )   √ó    ,        G   Gal    L  ùêê          superscript      \Z  p   \Z        G=\operatorname{Gal}(L/\mathbf{Q})\cong(\Z/p\Z)^{\times},   which sends the automorphism œÉ a satisfying        œÉ  a    (   Œ∂  p   )    =   Œ∂  p  a          subscript  œÉ  a    subscript  Œ∂  p     superscript   subscript  Œ∂  p   a     \sigma_{a}(\zeta_{p})=\zeta_{p}^{a}   to the element       a  ‚àà    (     \Z   /  p    \Z    )   √ó    .      a   superscript      \Z  p   \Z       a\in(\Z/p\Z)^{\times}.     (This is because the morphism of reduction from Z to Z/qZ is injective on the set of p-th roots of unity)  Now consider the subgroup H of squares of elements of G . Since G is cyclic, H has index 2 in G , so the subfield corresponding to H under the Galois correspondence must be a quadratic extension of Q . (In fact it is the unique quadratic extension of Q contained in L .) The Gaussian period theory determines which one; it turns out to be       ùêê   (    p  *    )    ,      ùêê     superscript  p       \mathbf{Q}(\sqrt{p^{*}}),   where       p  *   =   {     p     if  p  =  1  (mod  4  )  ,        -  p      if  p  =  3  (mod  4  )  .            superscript  p     cases  p   fragments  if  p   1  (mod  4  normal-)  normal-,     p    fragments  if  p   3  (mod  4  normal-)  normal-.      p^{*}=\begin{cases}p&\mbox{if }p=1\text{ (mod }4),\\
 -p&\mbox{if }p=3\text{ (mod }4).\end{cases}     At this point we start to see a hint of quadratic reciprocity emerging from our framework. On one hand, the image of H in       (    ùêô  /  p   ùêô   )   √ó     superscript      ùêô  p   ùêô      (\mathbf{Z}/p\mathbf{Z})^{\times}   consists precisely of the (nonzero) quadratic residues modulo p . On the other hand, H is related to an attempt to take the square root of p (or possibly of ‚àí p ). In other words, if now q is an odd prime (different from p ), we have so far shown that         (   q  p   )   =   1  ‚áî      œÉ  q   ‚àà   H  ‚áî    œÉ  q   fixes  ùêê   (    p  *    )       .     formulae-sequence      q  p    1  iff       subscript  œÉ  q    H  iff     subscript  œÉ  q   fixes  ùêê     superscript  p          \left(\frac{q}{p}\right)=1\quad\iff\quad\sigma_{q}\in H\quad\iff\quad\sigma_{q%
 }\mbox{ fixes }\mathbf{Q}(\sqrt{p^{*}}).     The Frobenius automorphism  Choose any prime ideal Œ≤ of the ring of integers O L lying over q , which is unramified, and let      œï  ‚àà   Gal   (   L  /  ùêê   )        œï   Gal    L  ùêê      \phi\in\operatorname{Gal}(L/\mathbf{Q})   be the Frobenius automorphism associated to Œ≤; the characteristic property of   œï   œï   \phi   is that      œï   (  x  )   ‚â°   x  q   (mod  Œ≤  )     fragments  œï   fragments  normal-(  x  normal-)     superscript  x  q   (mod  Œ≤  normal-)    \phi(x)\equiv x^{q}\text{ (mod }\beta)\,\!   for any x in O L . (The existence of such a Frobenius element depends on quite a bit of algebraic number theory machinery.)  The key fact about   œï   œï   \phi   that we need is that for any subfield K of L ,        œï  fixes  K   ‚áî   q  splits completely in  K    .       œï  fixes  K   iff    q  splits completely in  K     \phi\mbox{ fixes }K\quad\iff\quad q\mbox{ splits completely in }K.   Indeed, let Œ¥ be any ideal of O K below Œ≤ (and hence above q ). Then, since      œï   (  x  )   ‚â°   x  q   (mod  Œ¥  )     fragments  œï   fragments  normal-(  x  normal-)     superscript  x  q   (mod  Œ¥  normal-)    \phi(x)\equiv x^{q}\text{ (mod }\delta)\,\!   for any x in O K , we see that        œï  |   K   ‚àà   Gal   (   K  /  ùêê   )         evaluated-at  œï  K    Gal    K  ùêê      \phi|_{K}\in\operatorname{Gal}(K/\mathbf{Q})   is a Frobenius for Œ¥. A standard result concerning   œï   œï   \phi   is that its order is equal to the corresponding inertial degree; that is,      ord   (  œï   |  K   )   =   [   O  K   /  Œ¥   O  K   :  ùêô  /  q  ùêô  ]   .     fragments  ord   fragments  normal-(  œï   subscript  normal-|  K   normal-)     fragments  normal-[   subscript  O  K    Œ¥   subscript  O  K   normal-:  Z   q  Z  normal-]   normal-.    \operatorname{ord}(\phi|_{K})=[O_{K}/\delta O_{K}:\mathbf{Z}/q\mathbf{Z}].   The left hand side is equal to 1 if and only if œÜ fixes K , and the right hand side is equal to one if and only q splits completely in K , so we are done.  Now, since the p th roots of unity are distinct modulo Œ≤ (i.e. the polynomial X p ‚àí 1 is separable in characteristic q ), we must have        œï   (   Œ∂  p   )    =   Œ∂  p  q    ;        œï   subscript  Œ∂  p     superscript   subscript  Œ∂  p   q     \phi(\zeta_{p})=\zeta_{p}^{q};   that is,   œï   œï   \phi   coincides with the automorphism œÉ q defined earlier. Taking K to be the quadratic field in which we are interested, we obtain the equivalence        (   q  p   )   =   1  ‚áî   q  splits completely in  ùêê   (    p  *    )      .        q  p    1  iff    q  splits completely in  ùêê     superscript  p         \left(\frac{q}{p}\right)=1\quad\iff\quad q\mbox{ splits completely in }\mathbf%
 {Q}(\sqrt{p^{*}}).     Completing the proof  Finally we must show that        q  splits completely in  ùêê   (    p  *    )    ‚áî   (    p  *   q   )    =  1.         q  splits completely in  ùêê     superscript  p      iff     superscript  p    q    1.    q\mbox{ splits completely in }\mathbf{Q}(\sqrt{p^{*}})\quad\iff\quad\left(%
 \frac{p^{*}}{q}\right)=1.   Once we have done this, the law of quadratic reciprocity falls out immediately since       (    p  *   q   )   =   (   q  p   )          superscript  p    q     q  p     \left(\frac{p^{*}}{q}\right)=\left(\frac{q}{p}\right)   if p = 1 mod 4, and       (    p  *   q   )   =   (    -  p   q   )   =    (    -  1   q   )    (   p  q   )    =   {      +   (    p  q    )       if  q  =  1  (mod  4  )  ,        -   (    p  q    )       if  q  =  3  (mod  4  )                superscript  p    q       p   q              1   q     p  q          cases      p  q     fragments  if  q   1  (mod  4  normal-)  normal-,       p  q     fragments  if  q   3  (mod  4  normal-)       \left(\frac{p^{*}}{q}\right)=\left(\frac{-p}{q}\right)=\left(\frac{-1}{q}%
 \right)\left(\frac{p}{q}\right)=\begin{cases}+\left(\frac{p}{q}\right)&\mbox{%
 if }q=1\text{ (mod }4),\\
 -\left(\frac{p}{q}\right)&\mbox{if }q=3\text{ (mod }4)\end{cases}   if p = 3 mod 4.  To show the last equivalence, suppose first that       (    p  *   q   )   =  1.         superscript  p    q   1.    \left(\frac{p^{*}}{q}\right)=1.   In this case, there is some integer x (not divisible by q ) such that       x  2   ‚â°   p  *   (mod  q  )  ,     fragments   superscript  x  2     superscript  p    (mod  q  normal-)  normal-,    x^{2}\equiv p^{*}\text{ (mod }q),\,\!   say        x  2   -   p  *    =   c  q          superscript  x  2    superscript  p       c  q     x^{2}-p^{*}=cq\,\!   for some integer c . Let       K  =   ùêê   (    p  *    )     ,      K    ùêê     superscript  p        K=\mathbf{Q}(\sqrt{p^{*}}),   and consider the ideal      (   x  -    p  *     ,  q  )       x     superscript  p      q    (x-\sqrt{p^{*}},q)   of K . It certainly divides the principal ideal ( q ). It cannot be equal to ( q ), since      x  -    p  *        x     superscript  p       x-\sqrt{p^{*}}   is not divisible by q . It cannot be the unit ideal, because then       (   x  +    p  *     )   =    (   x  +    p  *     )    (   x  -    p  *     ,  q  )    =   (   c  q   ,   q   (   x  +    p  *     )    )           x     superscript  p          x     superscript  p         x     superscript  p      q            c  q     q    x     superscript  p           (x+\sqrt{p^{*}})=(x+\sqrt{p^{*}})(x-\sqrt{p^{*}},q)=(cq,q(x+\sqrt{p^{*}}))   is divisible by q , which is again impossible. Therefore ( q ) must split in K .  Conversely, suppose that ( q ) splits, and let Œ≤ be a prime of K above q . Then        (  q  )   ‚ää  Œ≤   ,      q  Œ≤    (q)\subsetneq\beta,   so we may choose some        a  +   b    p  *      ‚àà   Œ≤  ‚àñ   (  q  )     ,        a    b     superscript  p         Œ≤  q     a+b\sqrt{p^{*}}\in\beta\setminus(q),   where a and b are in Q . Actually, since       p  *   =  1  (mod  4  )  ,     fragments   superscript  p     1  (mod  4  normal-)  normal-,    p^{*}=1\text{ (mod }4),   elementary theory of quadratic fields implies that the ring of integers of K is precisely       ùêô   [    1  +    p  *     2   ]    ,      ùêô   delimited-[]      1     superscript  p      2      \mathbf{Z}\left[\frac{1+\sqrt{p^{*}}}{2}\right],   so the denominators of a and b are at worst equal to 2. Since q ‚â† 2, we may safely multiply a and b by 2, and assume that        a  +   b    p  *      ‚àà   Œ≤  ‚àñ   (  q  )     ,        a    b     superscript  p         Œ≤  q     a+b\sqrt{p^{*}}\in\beta\setminus(q),   where now a and b are in Z . In this case we have         (   a  +   b    p  *      )    (   a  -   b    p  *      )    =    a  2   -    b  2    p  *     ‚àà   Œ≤  ‚à©  ùêô   =   (  q  )    ,            a    b     superscript  p         a    b     superscript  p           superscript  a  2      superscript  b  2    superscript  p             Œ≤  ùêô        q     (a+b\sqrt{p^{*}})(a-b\sqrt{p^{*}})=a^{2}-b^{2}p^{*}\in\beta\cap\mathbf{Z}=(q),   so      q  ‚à£   a  2   -   b  2    p  *   .     fragments  q  normal-‚à£   superscript  a  2     superscript  b  2    superscript  p    normal-.    q\mid a^{2}-b^{2}p^{*}.\,\!   However, q cannot divide b , since then also q divides a , which contradicts our choice of       a  +   b    p  *      .      a    b     superscript  p        a+b\sqrt{p^{*}}.   Therefore, we may divide by b modulo q , to obtain       p  *   =    (  a   b   -  1    )   2   (mod  q  )     fragments   superscript  p      superscript   fragments  normal-(  a   superscript  b    1    normal-)   2   (mod  q  normal-)    p^{*}=(ab^{-1})^{2}\text{ (mod }q)\,\!   as desired.  References  Every textbook on elementary number theory (and quite a few on algebraic number theory ) has a proof of quadratic reciprocity. Two are especially noteworthy:  Franz Lemmermeyer's Reciprocity Laws: From Euler to Eisenstein has many proofs (some in exercises) of both quadratic and higher-power reciprocity laws and a discussion of their history. Its immense bibliography includes literature citations for 196 different published proofs.  Kenneth Ireland and Michael Rosen's A Classical Introduction to Modern Number Theory also has many proofs of quadratic reciprocity (and many exercises), and covers the cubic and biquadratic cases as well. Exercise 13.26 (p 202) says it all    Count the number of proofs to the law of quadratic reciprocity given thus far in this book and devise another one.            G. Rousseau. "On the Quadratic Reciprocity Law", J. Austral. Math. Soc. (Series A) , v51, 1991, 423‚Äì425. ( online )    L. Washington. Introduction to Cyclotomic Fields , 2nd ed.   External links   Chronology of Proofs of the Quadratic Reciprocity Law (233 proofs!)   "  Category:Algebraic number theory  Category:Article proofs   