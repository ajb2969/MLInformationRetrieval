<html lang="en">
<head>
<meta charset="utf-8"/>
<title offset="294">Difference in differences</title>
<script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_SVG.js" type="text/javascript">
</script>
</head>
<body>
<h1>Difference in differences</h1>
<hr>'''Difference in differences''' (sometimes 'Difference-in-Differences',<ref>{{cite book |last=Angrist |first=J. D. |last2=Pischke |first2=J. S. |year=2008 |title=Mostly harmless econometrics: An empiricist's companion |publisher=Princeton University Press |location= |isbn=9780691120348 }}</ref> 'DID',<ref>{{cite journal |last=Abadie |first=A. |year=2005 |title=Semiparametric difference-in-differences estimators |journal=[[Review of Economic Studies]] |volume=72 |issue=1 |pages=1–19 |doi=10.1111/0034-6527.00321 }}</ref> or 'DD'<ref name="Bertrand">{{cite journal |last=Bertrand |first=M. |last2=Duflo |first2=E. |authorlink2=Esther Duflo |last3=Mullainathan |first3=S. |year=2004 |title=How Much Should We Trust Differences-in-Differences Estimates? |journal=[[Quarterly Journal of Economics]] |volume=119 |issue=1 |pages=249–275 |doi=10.1162/003355304772839588 |jstor= }}</ref>) is a [[statistics|statistical technique]] used in [[econometrics]]  and [[quan
<p>titative research|quantitative sociology]], which attempts to mimic an <a href="experiment" title="wikilink">experimental research design</a> using <a href="observational_study" title="wikilink">observational study data</a>. It calculates the effect of a treatment (i.e., an explanatory variable or an independent variable) on an outcome (i.e., a response variable or dependent variable) by comparing the average change over time in the outcome variable for the treatment group to the average change over time for the control group. This method may be subject to certain biases (<a href="Regression_toward_the_mean" title="wikilink">mean reversion</a> bias, etc.), although it is intended to eliminate some of the effect of <a href="selection_bias" title="wikilink">selection bias</a>. In contrast to a <a href="Fixed_effects_model" title="wikilink">within-subjects estimate</a> of the treatment effect (which measures differences over time) or a between-subjects estimate of the treatment effect (which measures the difference between the treatment and control groups), the DID measures the difference in the differences between the treatment and control group over time.</p>
<h2 id="general-definition">General definition</h2>

<p><a href="File:Illustration_of_Difference_in_Differences.png" title="wikilink">thumb|upright=1.3</a> Difference in differences requires data measured at two or more different time periods. In the example pictured, the treatment group is represented by the line P and the control group is represented by the line S. Both groups are measured on the outcome (dependent) variable at Time 1 before either group has received the treatment (i.e., the independent or explanatory variable), represented by the points P<sub>1</sub> and S<sub>1</sub>. The treatment group then receives or experiences the treatment and both groups are again measured after this at Time 2. Not all of the difference between the treatment and control groups at Time 2 (that is, the difference between P<sub>2</sub> and S<sub>2</sub>) can be explained as being an effect of the treatment, because the treatment group and control group did not start out at the same point at Time 1. DID therefore calculates the "normal" difference in the outcome variable between the two groups (the difference that would still exist if neither group experienced the treatment), represented by the dotted line Q. (Notice that the slope from P<sub>1</sub> to Q is the same as the slope from S<sub>1</sub> to S<sub>2</sub>.) The treatment effect is the difference between the observed outcome and the "normal" outcome (the difference between P<sub>2</sub> and Q).</p>
<h2 id="formal-definition">Formal definition</h2>

<p>Consider the model</p>

<p>

<math display="inline" id="Difference_in_differences:0">
 <semantics>
  <mrow>
   <mpadded width="+3.3pt">
    <msub>
     <mi>y</mi>
     <mrow>
      <mi>i</mi>
      <mi>s</mi>
      <mi>t</mi>
     </mrow>
    </msub>
   </mpadded>
   <mo rspace="5.8pt">=</mo>
   <mrow>
    <msub>
     <mi>γ</mi>
     <mi>s</mi>
    </msub>
    <mo>+</mo>
    <msub>
     <mi>λ</mi>
     <mi>t</mi>
    </msub>
    <mo>+</mo>
    <mrow>
     <mi>δ</mi>
     <msub>
      <mi>D</mi>
      <mrow>
       <mi>s</mi>
       <mi>t</mi>
      </mrow>
     </msub>
    </mrow>
    <mo>+</mo>
    <msub>
     <mi>ϵ</mi>
     <mrow>
      <mi>i</mi>
      <mi>s</mi>
      <mi>t</mi>
     </mrow>
    </msub>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <csymbol cd="ambiguous">subscript</csymbol>
     <ci>y</ci>
     <apply>
      <times></times>
      <ci>i</ci>
      <ci>s</ci>
      <ci>t</ci>
     </apply>
    </apply>
    <apply>
     <plus></plus>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <ci>γ</ci>
      <ci>s</ci>
     </apply>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <ci>λ</ci>
      <ci>t</ci>
     </apply>
     <apply>
      <times></times>
      <ci>δ</ci>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>D</ci>
       <apply>
        <times></times>
        <ci>s</ci>
        <ci>t</ci>
       </apply>
      </apply>
     </apply>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <ci>ϵ</ci>
      <apply>
       <times></times>
       <ci>i</ci>
       <ci>s</ci>
       <ci>t</ci>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   y_{ist}~{}=~{}\gamma_{s}+\lambda_{t}+\delta D_{st}+\epsilon_{ist}
  </annotation>
 </semantics>
</math>

</p>

<p>where 

<math display="inline" id="Difference_in_differences:1">
 <semantics>
  <msub>
   <mi>y</mi>
   <mrow>
    <mi>i</mi>
    <mi>s</mi>
    <mi>t</mi>
   </mrow>
  </msub>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <csymbol cd="ambiguous">subscript</csymbol>
    <ci>y</ci>
    <apply>
     <times></times>
     <ci>i</ci>
     <ci>s</ci>
     <ci>t</ci>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   y_{ist}
  </annotation>
 </semantics>
</math>

 is the dependent variable for <a href="Sampling_(statistics)" title="wikilink">individual</a> 

<math display="inline" id="Difference_in_differences:2">
 <semantics>
  <mi>i</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>i</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   i
  </annotation>
 </semantics>
</math>

, given 

<math display="inline" id="Difference_in_differences:3">
 <semantics>
  <mi>s</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>s</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   s
  </annotation>
 </semantics>
</math>


 and 

<math display="inline" id="Difference_in_differences:4">
 <semantics>
  <mi>t</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>t</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   t
  </annotation>
 </semantics>
</math>

. The dimensions 

<math display="inline" id="Difference_in_differences:5">
 <semantics>
  <mi>s</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>s</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   s
  </annotation>
 </semantics>
</math>

 and 

<math display="inline" id="Difference_in_differences:6">
 <semantics>
  <mi>t</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>t</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   t
  </annotation>
 </semantics>
</math>

 may for example be country and time. 

<math display="inline" id="Difference_in_differences:7">
 <semantics>
  <msub>
   <mi>γ</mi>
   <mi>s</mi>
  </msub>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <csymbol cd="ambiguous">subscript</csymbol>
    <ci>γ</ci>
    <ci>s</ci>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \gamma_{s}
  </annotation>
 </semantics>
</math>

 and 

<math display="inline" id="Difference_in_differences:8">
 <semantics>
  <msub>
   <mi>λ</mi>
   <mi>t</mi>
  </msub>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <csymbol cd="ambiguous">subscript</csymbol>
    <ci>λ</ci>
    <ci>t</ci>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \lambda_{t}
  </annotation>
 </semantics>
</math>


 is then the vertical intercept for 

<math display="inline" id="Difference_in_differences:9">
 <semantics>
  <mi>s</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>s</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   s
  </annotation>
 </semantics>
</math>

 and 

<math display="inline" id="Difference_in_differences:10">
 <semantics>
  <mi>t</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>t</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   t
  </annotation>
 </semantics>
</math>

 respectively. 

<math display="inline" id="Difference_in_differences:11">
 <semantics>
  <msub>
   <mi>D</mi>
   <mrow>
    <mi>s</mi>
    <mi>t</mi>
   </mrow>
  </msub>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <csymbol cd="ambiguous">subscript</csymbol>
    <ci>D</ci>
    <apply>
     <times></times>
     <ci>s</ci>
     <ci>t</ci>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   D_{st}
  </annotation>
 </semantics>
</math>

 is a <a href="Dummy_variable_(statistics)" title="wikilink">dummy variable</a> indicating <a href="Treatment_and_control_groups" title="wikilink">treatment</a> status, 

<math display="inline" id="Difference_in_differences:12">
 <semantics>
  <mi>δ</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>δ</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \delta
  </annotation>
 </semantics>
</math>

 is the treatment effect, and 

<math display="inline" id="Difference_in_differences:13">
 <semantics>
  <msub>
   <mi>ϵ</mi>
   <mrow>
    <mi>i</mi>
    <mi>s</mi>
    <mi>t</mi>
   </mrow>
  </msub>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <csymbol cd="ambiguous">subscript</csymbol>
    <ci>ϵ</ci>
    <apply>
     <times></times>
     <ci>i</ci>
     <ci>s</ci>
     <ci>t</ci>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \epsilon_{ist}
  </annotation>
 </semantics>
</math>


 is an <a href="Errors_and_residuals_in_statistics" title="wikilink">error term</a>.</p>

<p>Let</p>

<p>

<math display="inline" id="Difference_in_differences:14">
 <semantics>
  <mrow>
   <mpadded width="+3.3pt">
    <msub>
     <mover accent="true">
      <mi>y</mi>
      <mo>¯</mo>
     </mover>
     <mrow>
      <mi>s</mi>
      <mi>t</mi>
     </mrow>
    </msub>
   </mpadded>
   <mo rspace="5.8pt">=</mo>
   <mrow>
    <mfrac>
     <mn>1</mn>
     <mi>n</mi>
    </mfrac>
    <mrow>
     <msubsup>
      <mo largeop="true" symmetric="true">∑</mo>
      <mrow>
       <mi>i</mi>
       <mo>=</mo>
       <mn>1</mn>
      </mrow>
      <mi>n</mi>
     </msubsup>
     <msub>
      <mi>y</mi>
      <mrow>
       <mi>i</mi>
       <mi>s</mi>
       <mi>t</mi>
      </mrow>
     </msub>
    </mrow>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <csymbol cd="ambiguous">subscript</csymbol>
     <apply>
      <ci>normal-¯</ci>
      <ci>y</ci>
     </apply>
     <apply>
      <times></times>
      <ci>s</ci>
      <ci>t</ci>
     </apply>
    </apply>
    <apply>
     <times></times>
     <apply>
      <divide></divide>
      <cn type="integer">1</cn>
      <ci>n</ci>
     </apply>
     <apply>
      <apply>
       <csymbol cd="ambiguous">superscript</csymbol>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <sum></sum>
        <apply>
         <eq></eq>
         <ci>i</ci>
         <cn type="integer">1</cn>
        </apply>
       </apply>
       <ci>n</ci>
      </apply>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>y</ci>
       <apply>
        <times></times>
        <ci>i</ci>
        <ci>s</ci>
        <ci>t</ci>
       </apply>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \overline{y}_{st}~{}=~{}\frac{1}{n}\sum_{i=1}^{n}y_{ist}
  </annotation>
 </semantics>
</math>

,</p>

<p>

<math display="inline" id="Difference_in_differences:15">
 <semantics>
  <mrow>
   <mpadded width="+3.3pt">
    <msub>
     <mover accent="true">
      <mi>γ</mi>
      <mo>¯</mo>
     </mover>
     <mi>s</mi>
    </msub>
   </mpadded>
   <mo rspace="5.8pt">=</mo>
   <mrow>
    <mfrac>
     <mn>1</mn>
     <mi>n</mi>
    </mfrac>
    <mrow>
     <msubsup>
      <mo largeop="true" symmetric="true">∑</mo>
      <mrow>
       <mi>i</mi>
       <mo>=</mo>
       <mn>1</mn>
      </mrow>
      <mi>n</mi>
     </msubsup>
     <mpadded width="+3.3pt">
      <msub>
       <mi>γ</mi>
       <mi>s</mi>
      </msub>
     </mpadded>
    </mrow>
   </mrow>
   <mo rspace="5.8pt">=</mo>
   <msub>
    <mi>γ</mi>
    <mi>s</mi>
   </msub>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <and></and>
    <apply>
     <eq></eq>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <apply>
       <ci>normal-¯</ci>
       <ci>γ</ci>
      </apply>
      <ci>s</ci>
     </apply>
     <apply>
      <times></times>
      <apply>
       <divide></divide>
       <cn type="integer">1</cn>
       <ci>n</ci>
      </apply>
      <apply>
       <apply>
        <csymbol cd="ambiguous">superscript</csymbol>
        <apply>
         <csymbol cd="ambiguous">subscript</csymbol>
         <sum></sum>
         <apply>
          <eq></eq>
          <ci>i</ci>
          <cn type="integer">1</cn>
         </apply>
        </apply>
        <ci>n</ci>
       </apply>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>γ</ci>
        <ci>s</ci>
       </apply>
      </apply>
     </apply>
    </apply>
    <apply>
     <eq></eq>
     <share href="#.cmml">
     </share>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <ci>γ</ci>
      <ci>s</ci>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \overline{\gamma}_{s}~{}=~{}\frac{1}{n}\sum_{i=1}^{n}\gamma_{s}~{}=~{}\gamma_{s}
  </annotation>
 </semantics>
</math>

,</p>

<p>

<math display="inline" id="Difference_in_differences:16">
 <semantics>
  <mrow>
   <mpadded width="+3.3pt">
    <msub>
     <mover accent="true">
      <mi>λ</mi>
      <mo>¯</mo>
     </mover>
     <mi>t</mi>
    </msub>
   </mpadded>
   <mo rspace="5.8pt">=</mo>
   <mrow>
    <mfrac>
     <mn>1</mn>
     <mi>n</mi>
    </mfrac>
    <mrow>
     <msubsup>
      <mo largeop="true" symmetric="true">∑</mo>
      <mrow>
       <mi>i</mi>
       <mo>=</mo>
       <mn>1</mn>
      </mrow>
      <mi>n</mi>
     </msubsup>
     <mpadded width="+3.3pt">
      <msub>
       <mi>λ</mi>
       <mi>t</mi>
      </msub>
     </mpadded>
    </mrow>
   </mrow>
   <mo rspace="5.8pt">=</mo>
   <msub>
    <mi>λ</mi>
    <mi>t</mi>
   </msub>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <and></and>
    <apply>
     <eq></eq>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <apply>
       <ci>normal-¯</ci>
       <ci>λ</ci>
      </apply>
      <ci>t</ci>
     </apply>
     <apply>
      <times></times>
      <apply>
       <divide></divide>
       <cn type="integer">1</cn>
       <ci>n</ci>
      </apply>
      <apply>
       <apply>
        <csymbol cd="ambiguous">superscript</csymbol>
        <apply>
         <csymbol cd="ambiguous">subscript</csymbol>
         <sum></sum>
         <apply>
          <eq></eq>
          <ci>i</ci>
          <cn type="integer">1</cn>
         </apply>
        </apply>
        <ci>n</ci>
       </apply>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>λ</ci>
        <ci>t</ci>
       </apply>
      </apply>
     </apply>
    </apply>
    <apply>
     <eq></eq>
     <share href="#.cmml">
     </share>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <ci>λ</ci>
      <ci>t</ci>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \overline{\lambda}_{t}~{}=~{}\frac{1}{n}\sum_{i=1}^{n}\lambda_{t}~{}=~{}%
\lambda_{t}
  </annotation>
 </semantics>
</math>

,</p>

<p>

<math display="inline" id="Difference_in_differences:17">
 <semantics>
  <mrow>
   <mpadded width="+3.3pt">
    <msub>
     <mover accent="true">
      <mi>D</mi>
      <mo>¯</mo>
     </mover>
     <mrow>
      <mi>s</mi>
      <mi>t</mi>
     </mrow>
    </msub>
   </mpadded>
   <mo rspace="5.8pt">=</mo>
   <mrow>
    <mfrac>
     <mn>1</mn>
     <mi>n</mi>
    </mfrac>
    <mrow>
     <msubsup>
      <mo largeop="true" symmetric="true">∑</mo>
      <mrow>
       <mi>i</mi>
       <mo>=</mo>
       <mn>1</mn>
      </mrow>
      <mi>n</mi>
     </msubsup>
     <mpadded width="+3.3pt">
      <msub>
       <mi>D</mi>
       <mrow>
        <mi>s</mi>
        <mi>t</mi>
       </mrow>
      </msub>
     </mpadded>
    </mrow>
   </mrow>
   <mo rspace="5.8pt">=</mo>
   <msub>
    <mi>D</mi>
    <mrow>
     <mi>s</mi>
     <mi>t</mi>
    </mrow>
   </msub>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <and></and>
    <apply>
     <eq></eq>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <apply>
       <ci>normal-¯</ci>
       <ci>D</ci>
      </apply>
      <apply>
       <times></times>
       <ci>s</ci>
       <ci>t</ci>
      </apply>
     </apply>
     <apply>
      <times></times>
      <apply>
       <divide></divide>
       <cn type="integer">1</cn>
       <ci>n</ci>
      </apply>
      <apply>
       <apply>
        <csymbol cd="ambiguous">superscript</csymbol>
        <apply>
         <csymbol cd="ambiguous">subscript</csymbol>
         <sum></sum>
         <apply>
          <eq></eq>
          <ci>i</ci>
          <cn type="integer">1</cn>
         </apply>
        </apply>
        <ci>n</ci>
       </apply>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>D</ci>
        <apply>
         <times></times>
         <ci>s</ci>
         <ci>t</ci>
        </apply>
       </apply>
      </apply>
     </apply>
    </apply>
    <apply>
     <eq></eq>
     <share href="#.cmml">
     </share>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <ci>D</ci>
      <apply>
       <times></times>
       <ci>s</ci>
       <ci>t</ci>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \overline{D}_{st}~{}=~{}\frac{1}{n}\sum_{i=1}^{n}D_{st}~{}=~{}D_{st}
  </annotation>
 </semantics>
</math>

,</p>

<p>

<math display="inline" id="Difference_in_differences:18">
 <semantics>
  <mrow>
   <mpadded width="+3.3pt">
    <msub>
     <mover accent="true">
      <mi>ϵ</mi>
      <mo>¯</mo>
     </mover>
     <mrow>
      <mi>s</mi>
      <mi>t</mi>
     </mrow>
    </msub>
   </mpadded>
   <mo rspace="5.8pt">=</mo>
   <mrow>
    <mfrac>
     <mn>1</mn>
     <mi>n</mi>
    </mfrac>
    <mrow>
     <msubsup>
      <mo largeop="true" symmetric="true">∑</mo>
      <mrow>
       <mi>i</mi>
       <mo>=</mo>
       <mn>1</mn>
      </mrow>
      <mi>n</mi>
     </msubsup>
     <msub>
      <mi>ϵ</mi>
      <mrow>
       <mi>i</mi>
       <mi>s</mi>
       <mi>t</mi>
      </mrow>
     </msub>
    </mrow>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <csymbol cd="ambiguous">subscript</csymbol>
     <apply>
      <ci>normal-¯</ci>
      <ci>ϵ</ci>
     </apply>
     <apply>
      <times></times>
      <ci>s</ci>
      <ci>t</ci>
     </apply>
    </apply>
    <apply>
     <times></times>
     <apply>
      <divide></divide>
      <cn type="integer">1</cn>
      <ci>n</ci>
     </apply>
     <apply>
      <apply>
       <csymbol cd="ambiguous">superscript</csymbol>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <sum></sum>
        <apply>
         <eq></eq>
         <ci>i</ci>
         <cn type="integer">1</cn>
        </apply>
       </apply>
       <ci>n</ci>
      </apply>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>ϵ</ci>
       <apply>
        <times></times>
        <ci>i</ci>
        <ci>s</ci>
        <ci>t</ci>
       </apply>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \overline{\epsilon}_{st}~{}=~{}\frac{1}{n}\sum_{i=1}^{n}\epsilon_{ist}
  </annotation>
 </semantics>
</math>


,</p>

<p>and suppose for simplicity that 

<math display="inline" id="Difference_in_differences:19">
 <semantics>
  <mrow>
   <mi>s</mi>
   <mo>=</mo>
   <mrow>
    <mn>1</mn>
    <mo>,</mo>
    <mn>2</mn>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <ci>s</ci>
    <list>
     <cn type="integer">1</cn>
     <cn type="integer">2</cn>
    </list>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   s=1,2
  </annotation>
 </semantics>
</math>

 and 

<math display="inline" id="Difference_in_differences:20">
 <semantics>
  <mrow>
   <mi>t</mi>
   <mo>=</mo>
   <mrow>
    <mn>1</mn>
    <mo>,</mo>
    <mn>2</mn>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <ci>t</ci>
    <list>
     <cn type="integer">1</cn>
     <cn type="integer">2</cn>
    </list>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   t=1,2
  </annotation>
 </semantics>
</math>

. Then</p>

<p>

<math display="inline" id="Difference_in_differences:21">
 <semantics>
  <mrow>
   <mrow>
    <mo stretchy="false">(</mo>
    <mrow>
     <msub>
      <mover accent="true">
       <mi>y</mi>
       <mo>¯</mo>
      </mover>
      <mn>11</mn>
     </msub>
     <mo>-</mo>
     <msub>
      <mover accent="true">
       <mi>y</mi>
       <mo>¯</mo>
      </mover>
      <mn>12</mn>
     </msub>
    </mrow>
    <mo stretchy="false">)</mo>
   </mrow>
   <mo>-</mo>
   <mrow>
    <mo stretchy="false">(</mo>
    <mrow>
     <msub>
      <mover accent="true">
       <mi>y</mi>
       <mo>¯</mo>
      </mover>
      <mn>21</mn>
     </msub>
     <mo>-</mo>
     <msub>
      <mover accent="true">
       <mi>y</mi>
       <mo>¯</mo>
      </mover>
      <mn>22</mn>
     </msub>
    </mrow>
    <mo stretchy="false">)</mo>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <minus></minus>
    <apply>
     <minus></minus>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <apply>
       <ci>normal-¯</ci>
       <ci>y</ci>
      </apply>
      <cn type="integer">11</cn>
     </apply>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <apply>
       <ci>normal-¯</ci>
       <ci>y</ci>
      </apply>
      <cn type="integer">12</cn>
     </apply>
    </apply>
    <apply>
     <minus></minus>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <apply>
       <ci>normal-¯</ci>
       <ci>y</ci>
      </apply>
      <cn type="integer">21</cn>
     </apply>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <apply>
       <ci>normal-¯</ci>
       <ci>y</ci>
      </apply>
      <cn type="integer">22</cn>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   (\overline{y}_{11}-\overline{y}_{12})-(\overline{y}_{21}-\overline{y}_{22})
  </annotation>
 </semantics>
</math>

 

<math display="inline" id="Difference_in_differences:22">
 <semantics>
  <mrow>
   <mi></mi>
   <mo>=</mo>
   <mrow>
    <mrow>
     <mo>[</mo>
     <mrow>
      <mrow>
       <mo stretchy="false">(</mo>
       <mrow>
        <msub>
         <mi>γ</mi>
         <mn>1</mn>
        </msub>
        <mo>+</mo>
        <msub>
         <mi>λ</mi>
         <mn>1</mn>
        </msub>
        <mo>+</mo>
        <mrow>
         <mi>δ</mi>
         <msub>
          <mi>D</mi>
          <mn>11</mn>
         </msub>
        </mrow>
        <mo>+</mo>
        <msub>
         <mover accent="true">
          <mi>ϵ</mi>
          <mo>¯</mo>
         </mover>
         <mn>11</mn>
        </msub>
       </mrow>
       <mo stretchy="false">)</mo>
      </mrow>
      <mo>-</mo>
      <mrow>
       <mo stretchy="false">(</mo>
       <mrow>
        <msub>
         <mi>γ</mi>
         <mn>1</mn>
        </msub>
        <mo>+</mo>
        <msub>
         <mi>λ</mi>
         <mn>2</mn>
        </msub>
        <mo>+</mo>
        <mrow>
         <mi>δ</mi>
         <msub>
          <mi>D</mi>
          <mn>12</mn>
         </msub>
        </mrow>
        <mo>+</mo>
        <msub>
         <mover accent="true">
          <mi>ϵ</mi>
          <mo>¯</mo>
         </mover>
         <mn>12</mn>
        </msub>
       </mrow>
       <mo stretchy="false">)</mo>
      </mrow>
     </mrow>
     <mo>]</mo>
    </mrow>
    <mo>-</mo>
    <mrow>
     <mo>[</mo>
     <mrow>
      <mrow>
       <mo stretchy="false">(</mo>
       <mrow>
        <msub>
         <mi>γ</mi>
         <mn>2</mn>
        </msub>
        <mo>+</mo>
        <msub>
         <mi>λ</mi>
         <mn>1</mn>
        </msub>
        <mo>+</mo>
        <mrow>
         <mi>δ</mi>
         <msub>
          <mi>D</mi>
          <mn>21</mn>
         </msub>
        </mrow>
        <mo>+</mo>
        <msub>
         <mover accent="true">
          <mi>ϵ</mi>
          <mo>¯</mo>
         </mover>
         <mn>21</mn>
        </msub>
       </mrow>
       <mo stretchy="false">)</mo>
      </mrow>
      <mo>-</mo>
      <mrow>
       <mo stretchy="false">(</mo>
       <mrow>
        <msub>
         <mi>γ</mi>
         <mn>2</mn>
        </msub>
        <mo>+</mo>
        <msub>
         <mi>λ</mi>
         <mn>2</mn>
        </msub>
        <mo>+</mo>
        <mrow>
         <mi>δ</mi>
         <msub>
          <mi>D</mi>
          <mn>22</mn>
         </msub>
        </mrow>
        <mo>+</mo>
        <msub>
         <mover accent="true">
          <mi>ϵ</mi>
          <mo>¯</mo>
         </mover>
         <mn>22</mn>
        </msub>
       </mrow>
       <mo stretchy="false">)</mo>
      </mrow>
     </mrow>
     <mo>]</mo>
    </mrow>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <csymbol cd="latexml">absent</csymbol>
    <apply>
     <minus></minus>
     <apply>
      <csymbol cd="latexml">delimited-[]</csymbol>
      <apply>
       <minus></minus>
       <apply>
        <plus></plus>
        <apply>
         <csymbol cd="ambiguous">subscript</csymbol>
         <ci>γ</ci>
         <cn type="integer">1</cn>
        </apply>
        <apply>
         <csymbol cd="ambiguous">subscript</csymbol>
         <ci>λ</ci>
         <cn type="integer">1</cn>
        </apply>
        <apply>
         <times></times>
         <ci>δ</ci>
         <apply>
          <csymbol cd="ambiguous">subscript</csymbol>
          <ci>D</ci>
          <cn type="integer">11</cn>
         </apply>
        </apply>
        <apply>
         <csymbol cd="ambiguous">subscript</csymbol>
         <apply>
          <ci>normal-¯</ci>
          <ci>ϵ</ci>
         </apply>
         <cn type="integer">11</cn>
        </apply>
       </apply>
       <apply>
        <plus></plus>
        <apply>
         <csymbol cd="ambiguous">subscript</csymbol>
         <ci>γ</ci>
         <cn type="integer">1</cn>
        </apply>
        <apply>
         <csymbol cd="ambiguous">subscript</csymbol>
         <ci>λ</ci>
         <cn type="integer">2</cn>
        </apply>
        <apply>
         <times></times>
         <ci>δ</ci>
         <apply>
          <csymbol cd="ambiguous">subscript</csymbol>
          <ci>D</ci>
          <cn type="integer">12</cn>
         </apply>
        </apply>
        <apply>
         <csymbol cd="ambiguous">subscript</csymbol>
         <apply>
          <ci>normal-¯</ci>
          <ci>ϵ</ci>
         </apply>
         <cn type="integer">12</cn>
        </apply>
       </apply>
      </apply>
     </apply>
     <apply>
      <csymbol cd="latexml">delimited-[]</csymbol>
      <apply>
       <minus></minus>
       <apply>
        <plus></plus>
        <apply>
         <csymbol cd="ambiguous">subscript</csymbol>
         <ci>γ</ci>
         <cn type="integer">2</cn>
        </apply>
        <apply>
         <csymbol cd="ambiguous">subscript</csymbol>
         <ci>λ</ci>
         <cn type="integer">1</cn>
        </apply>
        <apply>
         <times></times>
         <ci>δ</ci>
         <apply>
          <csymbol cd="ambiguous">subscript</csymbol>
          <ci>D</ci>
          <cn type="integer">21</cn>
         </apply>
        </apply>
        <apply>
         <csymbol cd="ambiguous">subscript</csymbol>
         <apply>
          <ci>normal-¯</ci>
          <ci>ϵ</ci>
         </apply>
         <cn type="integer">21</cn>
        </apply>
       </apply>
       <apply>
        <plus></plus>
        <apply>
         <csymbol cd="ambiguous">subscript</csymbol>
         <ci>γ</ci>
         <cn type="integer">2</cn>
        </apply>
        <apply>
         <csymbol cd="ambiguous">subscript</csymbol>
         <ci>λ</ci>
         <cn type="integer">2</cn>
        </apply>
        <apply>
         <times></times>
         <ci>δ</ci>
         <apply>
          <csymbol cd="ambiguous">subscript</csymbol>
          <ci>D</ci>
          <cn type="integer">22</cn>
         </apply>
        </apply>
        <apply>
         <csymbol cd="ambiguous">subscript</csymbol>
         <apply>
          <ci>normal-¯</ci>
          <ci>ϵ</ci>
         </apply>
         <cn type="integer">22</cn>
        </apply>
       </apply>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   =\left[(\gamma_{1}+\lambda_{1}+\delta D_{11}+\overline{\epsilon}_{11})-(\gamma%
_{1}+\lambda_{2}+\delta D_{12}+\overline{\epsilon}_{12})\right]-\left[(\gamma_%
{2}+\lambda_{1}+\delta D_{21}+\overline{\epsilon}_{21})-(\gamma_{2}+\lambda_{2%
}+\delta D_{22}+\overline{\epsilon}_{22})\right]
  </annotation>
 </semantics>
</math>

 

<math display="inline" id="Difference_in_differences:23">
 <semantics>
  <mrow>
   <mi></mi>
   <mo>=</mo>
   <mrow>
    <mrow>
     <mrow>
      <mrow>
       <mrow>
        <mi>δ</mi>
        <mrow>
         <mo stretchy="false">(</mo>
         <mrow>
          <msub>
           <mi>D</mi>
           <mn>11</mn>
          </msub>
          <mo>-</mo>
          <msub>
           <mi>D</mi>
           <mn>12</mn>
          </msub>
         </mrow>
         <mo stretchy="false">)</mo>
        </mrow>
       </mrow>
       <mo>+</mo>
       <mrow>
        <mi>δ</mi>
        <mrow>
         <mo stretchy="false">(</mo>
         <mrow>
          <msub>
           <mi>D</mi>
           <mn>22</mn>
          </msub>
          <mo>-</mo>
          <msub>
           <mi>D</mi>
           <mn>21</mn>
          </msub>
         </mrow>
         <mo stretchy="false">)</mo>
        </mrow>
       </mrow>
       <mo>+</mo>
       <msub>
        <mover accent="true">
         <mi>ϵ</mi>
         <mo>¯</mo>
        </mover>
        <mn>11</mn>
       </msub>
      </mrow>
      <mo>-</mo>
      <msub>
       <mover accent="true">
        <mi>ϵ</mi>
        <mo>¯</mo>
       </mover>
       <mn>12</mn>
      </msub>
     </mrow>
     <mo>+</mo>
     <msub>
      <mover accent="true">
       <mi>ϵ</mi>
       <mo>¯</mo>
      </mover>
      <mn>22</mn>
     </msub>
    </mrow>
    <mo>-</mo>
    <msub>
     <mover accent="true">
      <mi>ϵ</mi>
      <mo>¯</mo>
     </mover>
     <mn>21</mn>
    </msub>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <csymbol cd="latexml">absent</csymbol>
    <apply>
     <minus></minus>
     <apply>
      <plus></plus>
      <apply>
       <minus></minus>
       <apply>
        <plus></plus>
        <apply>
         <times></times>
         <ci>δ</ci>
         <apply>
          <minus></minus>
          <apply>
           <csymbol cd="ambiguous">subscript</csymbol>
           <ci>D</ci>
           <cn type="integer">11</cn>
          </apply>
          <apply>
           <csymbol cd="ambiguous">subscript</csymbol>
           <ci>D</ci>
           <cn type="integer">12</cn>
          </apply>
         </apply>
        </apply>
        <apply>
         <times></times>
         <ci>δ</ci>
         <apply>
          <minus></minus>
          <apply>
           <csymbol cd="ambiguous">subscript</csymbol>
           <ci>D</ci>
           <cn type="integer">22</cn>
          </apply>
          <apply>
           <csymbol cd="ambiguous">subscript</csymbol>
           <ci>D</ci>
           <cn type="integer">21</cn>
          </apply>
         </apply>
        </apply>
        <apply>
         <csymbol cd="ambiguous">subscript</csymbol>
         <apply>
          <ci>normal-¯</ci>
          <ci>ϵ</ci>
         </apply>
         <cn type="integer">11</cn>
        </apply>
       </apply>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <apply>
         <ci>normal-¯</ci>
         <ci>ϵ</ci>
        </apply>
        <cn type="integer">12</cn>
       </apply>
      </apply>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <apply>
        <ci>normal-¯</ci>
        <ci>ϵ</ci>
       </apply>
       <cn type="integer">22</cn>
      </apply>
     </apply>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <apply>
       <ci>normal-¯</ci>
       <ci>ϵ</ci>
      </apply>
      <cn type="integer">21</cn>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   =\delta(D_{11}-D_{12})+\delta(D_{22}-D_{21})+\overline{\epsilon}_{11}-%
\overline{\epsilon}_{12}+\overline{\epsilon}_{22}-\overline{\epsilon}_{21}
  </annotation>
 </semantics>
</math>


.</p>

<p>The <a href="Ordinary_least_squares#Assumptions" title="wikilink">strict exogeneity assumption</a> then implies that</p>

<p>

<math display="inline" id="Difference_in_differences:24">
 <semantics>
  <mrow>
   <mrow>
    <mi>E</mi>
    <mrow>
     <mo>[</mo>
     <mrow>
      <mrow>
       <mo stretchy="false">(</mo>
       <mrow>
        <msub>
         <mover accent="true">
          <mi>y</mi>
          <mo>¯</mo>
         </mover>
         <mn>11</mn>
        </msub>
        <mo>-</mo>
        <msub>
         <mover accent="true">
          <mi>y</mi>
          <mo>¯</mo>
         </mover>
         <mn>12</mn>
        </msub>
       </mrow>
       <mo stretchy="false">)</mo>
      </mrow>
      <mo>-</mo>
      <mrow>
       <mo stretchy="false">(</mo>
       <mrow>
        <msub>
         <mover accent="true">
          <mi>y</mi>
          <mo>¯</mo>
         </mover>
         <mn>21</mn>
        </msub>
        <mo>-</mo>
        <msub>
         <mover accent="true">
          <mi>y</mi>
          <mo>¯</mo>
         </mover>
         <mn>22</mn>
        </msub>
       </mrow>
       <mo stretchy="false">)</mo>
      </mrow>
     </mrow>
     <mo rspace="5.8pt">]</mo>
    </mrow>
   </mrow>
   <mo rspace="5.8pt">=</mo>
   <mrow>
    <mrow>
     <mi>δ</mi>
     <mrow>
      <mo stretchy="false">(</mo>
      <mrow>
       <msub>
        <mi>D</mi>
        <mn>11</mn>
       </msub>
       <mo>-</mo>
       <msub>
        <mi>D</mi>
        <mn>12</mn>
       </msub>
      </mrow>
      <mo stretchy="false">)</mo>
     </mrow>
    </mrow>
    <mo>+</mo>
    <mrow>
     <mi>δ</mi>
     <mrow>
      <mo stretchy="false">(</mo>
      <mrow>
       <msub>
        <mi>D</mi>
        <mn>22</mn>
       </msub>
       <mo>-</mo>
       <msub>
        <mi>D</mi>
        <mn>21</mn>
       </msub>
      </mrow>
      <mo stretchy="false">)</mo>
     </mrow>
    </mrow>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <times></times>
     <ci>E</ci>
     <apply>
      <csymbol cd="latexml">delimited-[]</csymbol>
      <apply>
       <minus></minus>
       <apply>
        <minus></minus>
        <apply>
         <csymbol cd="ambiguous">subscript</csymbol>
         <apply>
          <ci>normal-¯</ci>
          <ci>y</ci>
         </apply>
         <cn type="integer">11</cn>
        </apply>
        <apply>
         <csymbol cd="ambiguous">subscript</csymbol>
         <apply>
          <ci>normal-¯</ci>
          <ci>y</ci>
         </apply>
         <cn type="integer">12</cn>
        </apply>
       </apply>
       <apply>
        <minus></minus>
        <apply>
         <csymbol cd="ambiguous">subscript</csymbol>
         <apply>
          <ci>normal-¯</ci>
          <ci>y</ci>
         </apply>
         <cn type="integer">21</cn>
        </apply>
        <apply>
         <csymbol cd="ambiguous">subscript</csymbol>
         <apply>
          <ci>normal-¯</ci>
          <ci>y</ci>
         </apply>
         <cn type="integer">22</cn>
        </apply>
       </apply>
      </apply>
     </apply>
    </apply>
    <apply>
     <plus></plus>
     <apply>
      <times></times>
      <ci>δ</ci>
      <apply>
       <minus></minus>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>D</ci>
        <cn type="integer">11</cn>
       </apply>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>D</ci>
        <cn type="integer">12</cn>
       </apply>
      </apply>
     </apply>
     <apply>
      <times></times>
      <ci>δ</ci>
      <apply>
       <minus></minus>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>D</ci>
        <cn type="integer">22</cn>
       </apply>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>D</ci>
        <cn type="integer">21</cn>
       </apply>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   E\left[(\overline{y}_{11}-\overline{y}_{12})-(\overline{y}_{21}-\overline{y}_{%
22})\right]~{}=~{}\delta(D_{11}-D_{12})+\delta(D_{22}-D_{21})
  </annotation>
 </semantics>
</math>

.</p>

<p><a href="Without_loss_of_generality" title="wikilink">Without loss of generality</a>, assume that 

<math display="inline" id="Difference_in_differences:25">
 <semantics>
  <mrow>
   <msub>
    <mi>D</mi>
    <mn>22</mn>
   </msub>
   <mo>=</mo>
   <mn>1</mn>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <csymbol cd="ambiguous">subscript</csymbol>
     <ci>D</ci>
     <cn type="integer">22</cn>
    </apply>
    <cn type="integer">1</cn>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   D_{22}=1
  </annotation>
 </semantics>
</math>

 and 

<math display="inline" id="Difference_in_differences:26">
 <semantics>
  <mrow>
   <msub>
    <mi>D</mi>
    <mn>11</mn>
   </msub>
   <mo>=</mo>
   <msub>
    <mi>D</mi>
    <mn>12</mn>
   </msub>
   <mo>=</mo>
   <msub>
    <mi>D</mi>
    <mn>21</mn>
   </msub>
   <mo>=</mo>
   <mn>0</mn>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <and></and>
    <apply>
     <eq></eq>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <ci>D</ci>
      <cn type="integer">11</cn>
     </apply>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <ci>D</ci>
      <cn type="integer">12</cn>
     </apply>
    </apply>
    <apply>
     <eq></eq>
     <share href="#.cmml">
     </share>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <ci>D</ci>
      <cn type="integer">21</cn>
     </apply>
    </apply>
    <apply>
     <eq></eq>
     <share href="#.cmml">
     </share>
     <cn type="integer">0</cn>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   D_{11}=D_{12}=D_{21}=0
  </annotation>
 </semantics>
</math>

, giving the DID estimator</p>

<p>

<math display="inline" id="Difference_in_differences:27">
 <semantics>
  <mrow>
   <mpadded width="+3.3pt">
    <mover accent="true">
     <mi>δ</mi>
     <mo stretchy="false">^</mo>
    </mover>
   </mpadded>
   <mo rspace="5.8pt">=</mo>
   <mrow>
    <mrow>
     <mo stretchy="false">(</mo>
     <mrow>
      <msub>
       <mover accent="true">
        <mi>y</mi>
        <mo>¯</mo>
       </mover>
       <mn>11</mn>
      </msub>
      <mo>-</mo>
      <msub>
       <mover accent="true">
        <mi>y</mi>
        <mo>¯</mo>
       </mover>
       <mn>12</mn>
      </msub>
     </mrow>
     <mo stretchy="false">)</mo>
    </mrow>
    <mo>-</mo>
    <mrow>
     <mo stretchy="false">(</mo>
     <mrow>
      <msub>
       <mover accent="true">
        <mi>y</mi>
        <mo>¯</mo>
       </mover>
       <mn>21</mn>
      </msub>
      <mo>-</mo>
      <msub>
       <mover accent="true">
        <mi>y</mi>
        <mo>¯</mo>
       </mover>
       <mn>22</mn>
      </msub>
     </mrow>
     <mo stretchy="false">)</mo>
    </mrow>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <ci>normal-^</ci>
     <ci>δ</ci>
    </apply>
    <apply>
     <minus></minus>
     <apply>
      <minus></minus>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <apply>
        <ci>normal-¯</ci>
        <ci>y</ci>
       </apply>
       <cn type="integer">11</cn>
      </apply>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <apply>
        <ci>normal-¯</ci>
        <ci>y</ci>
       </apply>
       <cn type="integer">12</cn>
      </apply>
     </apply>
     <apply>
      <minus></minus>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <apply>
        <ci>normal-¯</ci>
        <ci>y</ci>
       </apply>
       <cn type="integer">21</cn>
      </apply>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <apply>
        <ci>normal-¯</ci>
        <ci>y</ci>
       </apply>
       <cn type="integer">22</cn>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \hat{\delta}~{}=~{}(\overline{y}_{11}-\overline{y}_{12})-(\overline{y}_{21}-%
\overline{y}_{22})
  </annotation>
 </semantics>
</math>

,</p>

<p>which can be interpreted as the treatment effect of the treatment indicated by 

<math display="inline" id="Difference_in_differences:28">
 <semantics>
  <msub>
   <mi>D</mi>
   <mrow>
    <mi>s</mi>
    <mi>t</mi>
   </mrow>
  </msub>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <csymbol cd="ambiguous">subscript</csymbol>
    <ci>D</ci>
    <apply>
     <times></times>
     <ci>s</ci>
     <ci>t</ci>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   D_{st}
  </annotation>
 </semantics>
</math>


.</p>
<h2 id="assumptions">Assumptions</h2>
<figure><b>(Figure)</b>
<figcaption> Illustration of the parallel trend assumption</figcaption>
</figure>

<p>All the assumptions of the <a href="Ordinary_least_squares#Assumptions" title="wikilink">OLS model</a> apply equally to DID. In addition, DID requires a <strong>parallel trend assumption</strong>. The parallel trend assumption says that 

<math display="inline" id="Difference_in_differences:29">
 <semantics>
  <mrow>
   <msub>
    <mi>λ</mi>
    <mn>2</mn>
   </msub>
   <mo>-</mo>
   <msub>
    <mi>λ</mi>
    <mn>1</mn>
   </msub>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <minus></minus>
    <apply>
     <csymbol cd="ambiguous">subscript</csymbol>
     <ci>λ</ci>
     <cn type="integer">2</cn>
    </apply>
    <apply>
     <csymbol cd="ambiguous">subscript</csymbol>
     <ci>λ</ci>
     <cn type="integer">1</cn>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \lambda_{2}-\lambda_{1}
  </annotation>
 </semantics>
</math>

 are the same in both 

<math display="inline" id="Difference_in_differences:30">
 <semantics>
  <mrow>
   <mi>s</mi>
   <mo>=</mo>
   <mn>1</mn>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <ci>s</ci>
    <cn type="integer">1</cn>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   s=1
  </annotation>
 </semantics>
</math>

 and 

<math display="inline" id="Difference_in_differences:31">
 <semantics>
  <mrow>
   <mi>s</mi>
   <mo>=</mo>
   <mn>2</mn>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <ci>s</ci>
    <cn type="integer">2</cn>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   s=2
  </annotation>
 </semantics>
</math>

. Given that the <a href="Difference_in_differences#Formal_Definition" title="wikilink">formal definition</a> above accurately represents reality, this assumption automatically holds. However, a model with 

<math display="inline" id="Difference_in_differences:32">
 <semantics>
  <mrow>
   <mpadded width="+3.3pt">
    <msub>
     <mi>λ</mi>
     <mrow>
      <mi>s</mi>
      <mi>t</mi>
     </mrow>
    </msub>
   </mpadded>
   <mo rspace="5.8pt">:</mo>
   <mrow>
    <mrow>
     <msub>
      <mi>λ</mi>
      <mn>22</mn>
     </msub>
     <mo>-</mo>
     <msub>
      <mi>λ</mi>
      <mn>21</mn>
     </msub>
    </mrow>
    <mo>≠</mo>
    <mrow>
     <msub>
      <mi>λ</mi>
      <mn>12</mn>
     </msub>
     <mo>-</mo>
     <msub>
      <mi>λ</mi>
      <mn>11</mn>
     </msub>
    </mrow>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <ci>normal-:</ci>
    <apply>
     <csymbol cd="ambiguous">subscript</csymbol>
     <ci>λ</ci>
     <apply>
      <times></times>
      <ci>s</ci>
      <ci>t</ci>
     </apply>
    </apply>
    <apply>
     <neq></neq>
     <apply>
      <minus></minus>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>λ</ci>
       <cn type="integer">22</cn>
      </apply>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>λ</ci>
       <cn type="integer">21</cn>
      </apply>
     </apply>
     <apply>
      <minus></minus>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>λ</ci>
       <cn type="integer">12</cn>
      </apply>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>λ</ci>
       <cn type="integer">11</cn>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \lambda_{st}~{}:~{}\lambda_{22}-\lambda_{21}\neq\lambda_{12}-\lambda_{11}
  </annotation>
 </semantics>
</math>

 may well be more realistic.</p>

<p>As illustrated to the right, the treatment effect is the difference between the observed value of <em>y</em> and what the value of <em>y</em> would have been with parallel trends, had there been no treatment. The Achilles' heel of DID is when something other than the treatment changes in one group but not the other at the same time as the treatment, implying a violation of the parallel trend assumption.</p>

<p>To guarantee the accuracy of the DID estimate, the composition of individuals of the two groups is assumed to remain unchanged over time. When using a DID model, various issues that may compromise the results, such as <a class="uri" href="autocorrelation" title="wikilink">autocorrelation</a> and <a href="Ashenfelter_dip" title="wikilink">Ashenfelter dips</a>, must be considered and dealt with.</p>
<h2 id="implementation">Implementation</h2>

<p>The DID method can be implemented according to the table below, where the lower right cell is the DID estimator.</p>
<table>
<thead>
<tr class="header">
<th style="text-align: left;">
<p>

<math display="inline" id="Difference_in_differences:33">
 <semantics>
  <msub>
   <mi>y</mi>
   <mrow>
    <mi>s</mi>
    <mi>t</mi>
   </mrow>
  </msub>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <csymbol cd="ambiguous">subscript</csymbol>
    <ci>y</ci>
    <apply>
     <times></times>
     <ci>s</ci>
     <ci>t</ci>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   y_{st}
  </annotation>
 </semantics>
</math>


</p></th>
<th style="text-align: left;">
<p>

<math display="inline" id="Difference_in_differences:34">
 <semantics>
  <mrow>
   <mi>s</mi>
   <mo>=</mo>
   <mn>2</mn>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <ci>s</ci>
    <cn type="integer">2</cn>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   s=2
  </annotation>
 </semantics>
</math>

</p></th>
<th style="text-align: left;">
<p>

<math display="inline" id="Difference_in_differences:35">
 <semantics>
  <mrow>
   <mi>s</mi>
   <mo>=</mo>
   <mn>1</mn>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <ci>s</ci>
    <cn type="integer">1</cn>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   s=1
  </annotation>
 </semantics>
</math>

</p></th>
<th style="text-align: left;">
<p>Difference</p></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">
<p><strong>

<math display="inline" id="Difference_in_differences:36">
 <semantics>
  <mrow>
   <mi>t</mi>
   <mo>=</mo>
   <mn>2</mn>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <ci>t</ci>
    <cn type="integer">2</cn>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   t=2
  </annotation>
 </semantics>
</math>

</strong></p></td>
<td style="text-align: left;">
<p>

<math display="inline" id="Difference_in_differences:37">
 <semantics>
  <msub>
   <mi>y</mi>
   <mn>22</mn>
  </msub>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <csymbol cd="ambiguous">subscript</csymbol>
    <ci>y</ci>
    <cn type="integer">22</cn>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   y_{22}
  </annotation>
 </semantics>
</math>

</p></td>
<td style="text-align: left;">
<p>

<math display="inline" id="Difference_in_differences:38">
 <semantics>
  <msub>
   <mi>y</mi>
   <mn>12</mn>
  </msub>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <csymbol cd="ambiguous">subscript</csymbol>
    <ci>y</ci>
    <cn type="integer">12</cn>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   y_{12}
  </annotation>
 </semantics>
</math>


</p></td>
<td style="text-align: left;">
<p>

<math display="inline" id="Difference_in_differences:39">
 <semantics>
  <mrow>
   <msub>
    <mi>y</mi>
    <mn>12</mn>
   </msub>
   <mo>-</mo>
   <msub>
    <mi>y</mi>
    <mn>22</mn>
   </msub>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <minus></minus>
    <apply>
     <csymbol cd="ambiguous">subscript</csymbol>
     <ci>y</ci>
     <cn type="integer">12</cn>
    </apply>
    <apply>
     <csymbol cd="ambiguous">subscript</csymbol>
     <ci>y</ci>
     <cn type="integer">22</cn>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   y_{12}-y_{22}
  </annotation>
 </semantics>
</math>

</p></td>
</tr>
<tr class="even">
<td style="text-align: left;">
<p><strong>

<math display="inline" id="Difference_in_differences:40">
 <semantics>
  <mrow>
   <mi>t</mi>
   <mo>=</mo>
   <mn>1</mn>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <ci>t</ci>
    <cn type="integer">1</cn>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   t=1
  </annotation>
 </semantics>
</math>

</strong></p></td>
<td style="text-align: left;">
<p>

<math display="inline" id="Difference_in_differences:41">
 <semantics>
  <msub>
   <mi>y</mi>
   <mn>21</mn>
  </msub>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <csymbol cd="ambiguous">subscript</csymbol>
    <ci>y</ci>
    <cn type="integer">21</cn>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   y_{21}
  </annotation>
 </semantics>
</math>

</p></td>
<td style="text-align: left;">
<p>

<math display="inline" id="Difference_in_differences:42">
 <semantics>
  <msub>
   <mi>y</mi>
   <mn>11</mn>
  </msub>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <csymbol cd="ambiguous">subscript</csymbol>
    <ci>y</ci>
    <cn type="integer">11</cn>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   y_{11}
  </annotation>
 </semantics>
</math>

</p></td>
<td style="text-align: left;">
<p>

<math display="inline" id="Difference_in_differences:43">
 <semantics>
  <mrow>
   <msub>
    <mi>y</mi>
    <mn>11</mn>
   </msub>
   <mo>-</mo>
   <msub>
    <mi>y</mi>
    <mn>21</mn>
   </msub>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <minus></minus>
    <apply>
     <csymbol cd="ambiguous">subscript</csymbol>
     <ci>y</ci>
     <cn type="integer">11</cn>
    </apply>
    <apply>
     <csymbol cd="ambiguous">subscript</csymbol>
     <ci>y</ci>
     <cn type="integer">21</cn>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   y_{11}-y_{21}
  </annotation>
 </semantics>
</math>


</p></td>
</tr>
<tr class="odd">
<td style="text-align: left;">
<p><strong>Change</strong></p></td>
<td style="text-align: left;">
<p>

<math display="inline" id="Difference_in_differences:44">
 <semantics>
  <mrow>
   <msub>
    <mi>y</mi>
    <mn>21</mn>
   </msub>
   <mo>-</mo>
   <msub>
    <mi>y</mi>
    <mn>22</mn>
   </msub>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <minus></minus>
    <apply>
     <csymbol cd="ambiguous">subscript</csymbol>
     <ci>y</ci>
     <cn type="integer">21</cn>
    </apply>
    <apply>
     <csymbol cd="ambiguous">subscript</csymbol>
     <ci>y</ci>
     <cn type="integer">22</cn>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   y_{21}-y_{22}
  </annotation>
 </semantics>
</math>

</p></td>
<td style="text-align: left;">
<p>

<math display="inline" id="Difference_in_differences:45">
 <semantics>
  <mrow>
   <msub>
    <mi>y</mi>
    <mn>11</mn>
   </msub>
   <mo>-</mo>
   <msub>
    <mi>y</mi>
    <mn>12</mn>
   </msub>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <minus></minus>
    <apply>
     <csymbol cd="ambiguous">subscript</csymbol>
     <ci>y</ci>
     <cn type="integer">11</cn>
    </apply>
    <apply>
     <csymbol cd="ambiguous">subscript</csymbol>
     <ci>y</ci>
     <cn type="integer">12</cn>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   y_{11}-y_{12}
  </annotation>
 </semantics>
</math>

</p></td>
<td style="text-align: left;">
<p>

<math display="inline" id="Difference_in_differences:46">
 <semantics>
  <mrow>
   <mrow>
    <mo stretchy="false">(</mo>
    <mrow>
     <msub>
      <mi>y</mi>
      <mn>11</mn>
     </msub>
     <mo>-</mo>
     <msub>
      <mi>y</mi>
      <mn>21</mn>
     </msub>
    </mrow>
    <mo stretchy="false">)</mo>
   </mrow>
   <mo>-</mo>
   <mrow>
    <mo stretchy="false">(</mo>
    <mrow>
     <msub>
      <mi>y</mi>
      <mn>12</mn>
     </msub>
     <mo>-</mo>
     <msub>
      <mi>y</mi>
      <mn>22</mn>
     </msub>
    </mrow>
    <mo stretchy="false">)</mo>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <minus></minus>
    <apply>
     <minus></minus>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <ci>y</ci>
      <cn type="integer">11</cn>
     </apply>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <ci>y</ci>
      <cn type="integer">21</cn>
     </apply>
    </apply>
    <apply>
     <minus></minus>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <ci>y</ci>
      <cn type="integer">12</cn>
     </apply>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <ci>y</ci>
      <cn type="integer">22</cn>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   (y_{11}-y_{21})-(y_{12}-y_{22})
  </annotation>
 </semantics>
</math>

</p></td>
</tr>
</tbody>
</table>

<p>Running a regression analysis gives the same result. Consider the OLS model</p>

<p>

<math display="inline" id="Difference_in_differences:47">
 <semantics>
  <mrow>
   <mpadded width="+3.3pt">
    <mi>y</mi>
   </mpadded>
   <mo rspace="5.8pt">=</mo>
   <mrow>
    <msub>
     <mi>β</mi>
     <mn>0</mn>
    </msub>
    <mo>+</mo>
    <mrow>
     <msub>
      <mi>β</mi>
      <mn>1</mn>
     </msub>
     <mi>T</mi>
    </mrow>
    <mo>+</mo>
    <mrow>
     <msub>
      <mi>β</mi>
      <mn>2</mn>
     </msub>
     <mi>S</mi>
    </mrow>
    <mo>+</mo>
    <mrow>
     <msub>
      <mi>β</mi>
      <mn>3</mn>
     </msub>
     <mrow>
      <mo stretchy="false">(</mo>
      <mrow>
       <mi>T</mi>
       <mo>⋅</mo>
       <mi>S</mi>
      </mrow>
      <mo stretchy="false">)</mo>
     </mrow>
    </mrow>
    <mo>+</mo>
    <mi>ε</mi>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <ci>y</ci>
    <apply>
     <plus></plus>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <ci>β</ci>
      <cn type="integer">0</cn>
     </apply>
     <apply>
      <times></times>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>β</ci>
       <cn type="integer">1</cn>
      </apply>
      <ci>T</ci>
     </apply>
     <apply>
      <times></times>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>β</ci>
       <cn type="integer">2</cn>
      </apply>
      <ci>S</ci>
     </apply>
     <apply>
      <times></times>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>β</ci>
       <cn type="integer">3</cn>
      </apply>
      <apply>
       <ci>normal-⋅</ci>
       <ci>T</ci>
       <ci>S</ci>
      </apply>
     </apply>
     <ci>ε</ci>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   y~{}=~{}\beta_{0}+\beta_{1}T+\beta_{2}S+\beta_{3}(T\cdot S)+\varepsilon
  </annotation>
 </semantics>
</math>

</p>

<p>where 

<math display="inline" id="Difference_in_differences:48">
 <semantics>
  <mi>T</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>T</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   T
  </annotation>
 </semantics>
</math>


 is a dummy variable for 

<math display="inline" id="Difference_in_differences:49">
 <semantics>
  <mrow>
   <mi>t</mi>
   <mo>=</mo>
   <mn>2</mn>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <ci>t</ci>
    <cn type="integer">2</cn>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   t=2
  </annotation>
 </semantics>
</math>

, and 

<math display="inline" id="Difference_in_differences:50">
 <semantics>
  <mi>S</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>S</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   S
  </annotation>
 </semantics>
</math>

 is a dummy variable for 

<math display="inline" id="Difference_in_differences:51">
 <semantics>
  <mrow>
   <mi>s</mi>
   <mo>=</mo>
   <mn>2</mn>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <ci>s</ci>
    <cn type="integer">2</cn>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   s=2
  </annotation>
 </semantics>
</math>

. The composite variable 

<math display="inline" id="Difference_in_differences:52">
 <semantics>
  <mrow>
   <mo stretchy="false">(</mo>
   <mrow>
    <mi>T</mi>
    <mo>⋅</mo>
    <mi>S</mi>
   </mrow>
   <mo stretchy="false">)</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <ci>normal-⋅</ci>
    <ci>T</ci>
    <ci>S</ci>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   (T\cdot S)
  </annotation>
 </semantics>
</math>

 is then a dummy variable indicating when 

<math display="inline" id="Difference_in_differences:53">
 <semantics>
  <mrow>
   <mi>S</mi>
   <mo>=</mo>
   <mi>T</mi>
   <mo>=</mo>
   <mn>1</mn>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <and></and>
    <apply>
     <eq></eq>
     <ci>S</ci>
     <ci>T</ci>
    </apply>
    <apply>
     <eq></eq>
     <share href="#.cmml">
     </share>
     <cn type="integer">1</cn>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   S=T=1
  </annotation>
 </semantics>
</math>


. Although it is not shown rigorously here, it turns out that the estimates in this model are</p>

<p>

<math display="inline" id="Difference_in_differences:54">
 <semantics>
  <mrow>
   <mpadded width="+3.3pt">
    <msub>
     <mover accent="true">
      <mi>β</mi>
      <mo stretchy="false">^</mo>
     </mover>
     <mn>0</mn>
    </msub>
   </mpadded>
   <mo rspace="5.8pt">=</mo>
   <mrow>
    <mo stretchy="false">(</mo>
    <mpadded width="+3.3pt">
     <mi>y</mi>
    </mpadded>
    <mo rspace="5.8pt" stretchy="false">|</mo>
    <mi>T</mi>
    <mo>=</mo>
    <mn>0</mn>
    <mo rspace="5.8pt">,</mo>
    <mi>S</mi>
    <mo>=</mo>
    <mn>0</mn>
    <mo stretchy="false">)</mo>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <cerror>
    <csymbol cd="ambiguous">fragments</csymbol>
    <apply>
     <csymbol cd="ambiguous">subscript</csymbol>
     <apply>
      <ci>normal-^</ci>
      <ci>β</ci>
     </apply>
     <cn type="integer">0</cn>
    </apply>
    <eq></eq>
    <cerror>
     <csymbol cd="ambiguous">fragments</csymbol>
     <ci>normal-(</ci>
     <csymbol cd="unknown">y</csymbol>
     <ci>normal-|</ci>
     <csymbol cd="unknown">T</csymbol>
     <eq></eq>
     <cn type="integer">0</cn>
     <ci>normal-,</ci>
     <csymbol cd="unknown">S</csymbol>
     <eq></eq>
     <cn type="integer">0</cn>
     <ci>normal-)</ci>
    </cerror>
   </cerror>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \hat{\beta}_{0}~{}=~{}(y~{}|~{}T=0,~{}S=0)
  </annotation>
 </semantics>
</math>

 

<math display="inline" id="Difference_in_differences:55">
 <semantics>
  <mrow>
   <mpadded width="+3.3pt">
    <msub>
     <mover accent="true">
      <mi>β</mi>
      <mo stretchy="false">^</mo>
     </mover>
     <mn>1</mn>
    </msub>
   </mpadded>
   <mo rspace="5.8pt">=</mo>
   <mrow>
    <mo stretchy="false">(</mo>
    <mpadded width="+3.3pt">
     <mi>y</mi>
    </mpadded>
    <mo rspace="5.8pt" stretchy="false">|</mo>
    <mi>T</mi>
    <mo>=</mo>
    <mn>1</mn>
    <mo rspace="5.8pt">,</mo>
    <mi>S</mi>
    <mo>=</mo>
    <mn>0</mn>
    <mo stretchy="false">)</mo>
   </mrow>
   <mo>-</mo>
   <mrow>
    <mo stretchy="false">(</mo>
    <mpadded width="+3.3pt">
     <mi>y</mi>
    </mpadded>
    <mo rspace="5.8pt" stretchy="false">|</mo>
    <mi>T</mi>
    <mo>=</mo>
    <mn>0</mn>
    <mo rspace="5.8pt">,</mo>
    <mi>S</mi>
    <mo>=</mo>
    <mn>0</mn>
    <mo stretchy="false">)</mo>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <cerror>
    <csymbol cd="ambiguous">fragments</csymbol>
    <apply>
     <csymbol cd="ambiguous">subscript</csymbol>
     <apply>
      <ci>normal-^</ci>
      <ci>β</ci>
     </apply>
     <cn type="integer">1</cn>
    </apply>
    <eq></eq>
    <cerror>
     <csymbol cd="ambiguous">fragments</csymbol>
     <ci>normal-(</ci>
     <csymbol cd="unknown">y</csymbol>
     <ci>normal-|</ci>
     <csymbol cd="unknown">T</csymbol>
     <eq></eq>
     <cn type="integer">1</cn>
     <ci>normal-,</ci>
     <csymbol cd="unknown">S</csymbol>
     <eq></eq>
     <cn type="integer">0</cn>
     <ci>normal-)</ci>
    </cerror>
    <minus></minus>
    <cerror>
     <csymbol cd="ambiguous">fragments</csymbol>
     <ci>normal-(</ci>
     <csymbol cd="unknown">y</csymbol>
     <ci>normal-|</ci>
     <csymbol cd="unknown">T</csymbol>
     <eq></eq>
     <cn type="integer">0</cn>
     <ci>normal-,</ci>
     <csymbol cd="unknown">S</csymbol>
     <eq></eq>
     <cn type="integer">0</cn>
     <ci>normal-)</ci>
    </cerror>
   </cerror>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \hat{\beta}_{1}~{}=~{}(y~{}|~{}T=1,~{}S=0)-(y~{}|~{}T=0,~{}S=0)
  </annotation>
 </semantics>
</math>

 

<math display="inline" id="Difference_in_differences:56">
 <semantics>
  <mrow>
   <mpadded width="+3.3pt">
    <msub>
     <mover accent="true">
      <mi>β</mi>
      <mo stretchy="false">^</mo>
     </mover>
     <mn>2</mn>
    </msub>
   </mpadded>
   <mo rspace="5.8pt">=</mo>
   <mrow>
    <mo stretchy="false">(</mo>
    <mpadded width="+3.3pt">
     <mi>y</mi>
    </mpadded>
    <mo rspace="5.8pt" stretchy="false">|</mo>
    <mi>T</mi>
    <mo>=</mo>
    <mn>0</mn>
    <mo rspace="5.8pt">,</mo>
    <mi>S</mi>
    <mo>=</mo>
    <mn>1</mn>
    <mo stretchy="false">)</mo>
   </mrow>
   <mo>-</mo>
   <mrow>
    <mo stretchy="false">(</mo>
    <mpadded width="+3.3pt">
     <mi>y</mi>
    </mpadded>
    <mo rspace="5.8pt" stretchy="false">|</mo>
    <mi>T</mi>
    <mo>=</mo>
    <mn>0</mn>
    <mo rspace="5.8pt">,</mo>
    <mi>S</mi>
    <mo>=</mo>
    <mn>0</mn>
    <mo stretchy="false">)</mo>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <cerror>
    <csymbol cd="ambiguous">fragments</csymbol>
    <apply>
     <csymbol cd="ambiguous">subscript</csymbol>
     <apply>
      <ci>normal-^</ci>
      <ci>β</ci>
     </apply>
     <cn type="integer">2</cn>
    </apply>
    <eq></eq>
    <cerror>
     <csymbol cd="ambiguous">fragments</csymbol>
     <ci>normal-(</ci>
     <csymbol cd="unknown">y</csymbol>
     <ci>normal-|</ci>
     <csymbol cd="unknown">T</csymbol>
     <eq></eq>
     <cn type="integer">0</cn>
     <ci>normal-,</ci>
     <csymbol cd="unknown">S</csymbol>
     <eq></eq>
     <cn type="integer">1</cn>
     <ci>normal-)</ci>
    </cerror>
    <minus></minus>
    <cerror>
     <csymbol cd="ambiguous">fragments</csymbol>
     <ci>normal-(</ci>
     <csymbol cd="unknown">y</csymbol>
     <ci>normal-|</ci>
     <csymbol cd="unknown">T</csymbol>
     <eq></eq>
     <cn type="integer">0</cn>
     <ci>normal-,</ci>
     <csymbol cd="unknown">S</csymbol>
     <eq></eq>
     <cn type="integer">0</cn>
     <ci>normal-)</ci>
    </cerror>
   </cerror>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \hat{\beta}_{2}~{}=~{}(y~{}|~{}T=0,~{}S=1)-(y~{}|~{}T=0,~{}S=0)
  </annotation>
 </semantics>
</math>

 

<math display="inline" id="Difference_in_differences:57">
 <semantics>
  <mrow>
   <mpadded width="+3.3pt">
    <msub>
     <mover accent="true">
      <mi>β</mi>
      <mo stretchy="false">^</mo>
     </mover>
     <mn>3</mn>
    </msub>
   </mpadded>
   <mo rspace="5.8pt">=</mo>
   <mrow>
    <mo stretchy="false">[</mo>
    <mrow>
     <mo stretchy="false">(</mo>
     <mpadded width="+3.3pt">
      <mi>y</mi>
     </mpadded>
     <mo rspace="5.8pt" stretchy="false">|</mo>
     <mi>T</mi>
     <mo>=</mo>
     <mn>1</mn>
     <mo rspace="5.8pt">,</mo>
     <mi>S</mi>
     <mo>=</mo>
     <mn>1</mn>
     <mo stretchy="false">)</mo>
    </mrow>
    <mo>-</mo>
    <mrow>
     <mo stretchy="false">(</mo>
     <mpadded width="+3.3pt">
      <mi>y</mi>
     </mpadded>
     <mo rspace="5.8pt" stretchy="false">|</mo>
     <mi>T</mi>
     <mo>=</mo>
     <mn>0</mn>
     <mo rspace="5.8pt">,</mo>
     <mi>S</mi>
     <mo>=</mo>
     <mn>1</mn>
     <mo stretchy="false">)</mo>
    </mrow>
    <mo stretchy="false">]</mo>
   </mrow>
   <mo>-</mo>
   <mrow>
    <mo stretchy="false">[</mo>
    <mrow>
     <mo stretchy="false">(</mo>
     <mpadded width="+3.3pt">
      <mi>y</mi>
     </mpadded>
     <mo rspace="5.8pt" stretchy="false">|</mo>
     <mi>T</mi>
     <mo>=</mo>
     <mn>1</mn>
     <mo rspace="5.8pt">,</mo>
     <mi>S</mi>
     <mo>=</mo>
     <mn>0</mn>
     <mo stretchy="false">)</mo>
    </mrow>
    <mo>-</mo>
    <mrow>
     <mo stretchy="false">(</mo>
     <mpadded width="+3.3pt">
      <mi>y</mi>
     </mpadded>
     <mo rspace="5.8pt" stretchy="false">|</mo>
     <mi>T</mi>
     <mo>=</mo>
     <mn>0</mn>
     <mo rspace="5.8pt">,</mo>
     <mi>S</mi>
     <mo>=</mo>
     <mn>0</mn>
     <mo stretchy="false">)</mo>
    </mrow>
    <mo stretchy="false">]</mo>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <cerror>
    <csymbol cd="ambiguous">fragments</csymbol>
    <apply>
     <csymbol cd="ambiguous">subscript</csymbol>
     <apply>
      <ci>normal-^</ci>
      <ci>β</ci>
     </apply>
     <cn type="integer">3</cn>
    </apply>
    <eq></eq>
    <cerror>
     <csymbol cd="ambiguous">fragments</csymbol>
     <ci>normal-[</ci>
     <cerror>
      <csymbol cd="ambiguous">fragments</csymbol>
      <ci>normal-(</ci>
      <csymbol cd="unknown">y</csymbol>
      <ci>normal-|</ci>
      <csymbol cd="unknown">T</csymbol>
      <eq></eq>
      <cn type="integer">1</cn>
      <ci>normal-,</ci>
      <csymbol cd="unknown">S</csymbol>
      <eq></eq>
      <cn type="integer">1</cn>
      <ci>normal-)</ci>
     </cerror>
     <minus></minus>
     <cerror>
      <csymbol cd="ambiguous">fragments</csymbol>
      <ci>normal-(</ci>
      <csymbol cd="unknown">y</csymbol>
      <ci>normal-|</ci>
      <csymbol cd="unknown">T</csymbol>
      <eq></eq>
      <cn type="integer">0</cn>
      <ci>normal-,</ci>
      <csymbol cd="unknown">S</csymbol>
      <eq></eq>
      <cn type="integer">1</cn>
      <ci>normal-)</ci>
     </cerror>
     <ci>normal-]</ci>
    </cerror>
    <minus></minus>
    <cerror>
     <csymbol cd="ambiguous">fragments</csymbol>
     <ci>normal-[</ci>
     <cerror>
      <csymbol cd="ambiguous">fragments</csymbol>
      <ci>normal-(</ci>
      <csymbol cd="unknown">y</csymbol>
      <ci>normal-|</ci>
      <csymbol cd="unknown">T</csymbol>
      <eq></eq>
      <cn type="integer">1</cn>
      <ci>normal-,</ci>
      <csymbol cd="unknown">S</csymbol>
      <eq></eq>
      <cn type="integer">0</cn>
      <ci>normal-)</ci>
     </cerror>
     <minus></minus>
     <cerror>
      <csymbol cd="ambiguous">fragments</csymbol>
      <ci>normal-(</ci>
      <csymbol cd="unknown">y</csymbol>
      <ci>normal-|</ci>
      <csymbol cd="unknown">T</csymbol>
      <eq></eq>
      <cn type="integer">0</cn>
      <ci>normal-,</ci>
      <csymbol cd="unknown">S</csymbol>
      <eq></eq>
      <cn type="integer">0</cn>
      <ci>normal-)</ci>
     </cerror>
     <ci>normal-]</ci>
    </cerror>
   </cerror>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \hat{\beta}_{3}~{}=~{}[(y~{}|~{}T=1,~{}S=1)-(y~{}|~{}T=0,~{}S=1)]-[(y~{}|~{}T=%
1,~{}S=0)-(y~{}|~{}T=0,~{}S=0)]
  </annotation>
 </semantics>
</math>

,</p>

<p>which is equivalent to</p>

<p>

<math display="inline" id="Difference_in_differences:58">
 <semantics>
  <mrow>
   <mpadded width="+3.3pt">
    <msub>
     <mover accent="true">
      <mi>β</mi>
      <mo stretchy="false">^</mo>
     </mover>
     <mn>3</mn>
    </msub>
   </mpadded>
   <mo rspace="5.8pt">=</mo>
   <mrow>
    <mrow>
     <mo stretchy="false">(</mo>
     <mrow>
      <msub>
       <mi>y</mi>
       <mn>11</mn>
      </msub>
      <mo>-</mo>
      <msub>
       <mi>y</mi>
       <mn>21</mn>
      </msub>
     </mrow>
     <mo stretchy="false">)</mo>
    </mrow>
    <mo>-</mo>
    <mrow>
     <mo stretchy="false">(</mo>
     <mrow>
      <msub>
       <mi>y</mi>
       <mn>12</mn>
      </msub>
      <mo>-</mo>
      <msub>
       <mi>y</mi>
       <mn>22</mn>
      </msub>
     </mrow>
     <mo stretchy="false">)</mo>
    </mrow>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <csymbol cd="ambiguous">subscript</csymbol>
     <apply>
      <ci>normal-^</ci>
      <ci>β</ci>
     </apply>
     <cn type="integer">3</cn>
    </apply>
    <apply>
     <minus></minus>
     <apply>
      <minus></minus>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>y</ci>
       <cn type="integer">11</cn>
      </apply>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>y</ci>
       <cn type="integer">21</cn>
      </apply>
     </apply>
     <apply>
      <minus></minus>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>y</ci>
       <cn type="integer">12</cn>
      </apply>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>y</ci>
       <cn type="integer">22</cn>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \hat{\beta}_{3}~{}=~{}(y_{11}-y_{21})-(y_{12}-y_{22})
  </annotation>
 </semantics>
</math>


.</p>

<p>But this is the expression for the treatment effect that was given in the <a href="Difference_in_differences#Formal_Definition" title="wikilink">formal definition</a> and in the above table.</p>
<h2 id="card-krueger-1994-example">Card &amp; Krueger (1994) example</h2>

<p>Consider one of the most famous DID studies, the <a href="David_Card" title="wikilink">Card</a> and <a href="Alan_Krueger" title="wikilink">Krueger</a> article on <a href="minimum_wage" title="wikilink">minimum wage</a> in <a href="New_Jersey" title="wikilink">New Jersey</a>, published in 1994.<a class="footnoteRef" href="#fn1" id="fnref1"><sup>1</sup></a> Card and Krueger compared <a href="Unemployment" title="wikilink">employment</a> in the <a href="fast_food" title="wikilink">fast food</a> sector in New Jersey and in <a class="uri" href="Pennsylvania" title="wikilink">Pennsylvania</a>, in February 1992 and in November 1992, after New Jersey's minimum wage rose from $4.25 to $5.05 in April 1992. Observing a change in employment in New Jersey only, before and after the treatment, would fail to control for <a href="Omitted-variable_bias" title="wikilink">omitted variables</a> such as weather and macroeconomic conditions of the region. By including Pennsylvania as a control in a difference-in-differences model, any bias caused by variables common to New Jersey and Pennsylvania are implicitly controlled for, even when these variables are unobserved. Assuming that New Jersey and Pennsylvania have parallel trends over time, Pennsylvania's change in employment can be interpreted as the change New Jersey would have experienced, had they not increased the minimum wage, and vice versa. The evidence suggested that the increased minimum wage did not induce an increase in unemployment in New Jersey, as standard economic theory would suggest. The table below shows Card &amp; Krueger's estimates of the treatment effect on employment, measured as <a href="Full-time_equivalent" title="wikilink">FTEs (or Full-time equivalents)</a>. Keeping in mind that the finding is <a href="Minimum_wage#Card_and_Krueger" title="wikilink">controversial</a>, Card and Krueger estimate that the $0.80 minimum wage increase in New Jersey lead to a 2.75 FTE increase in employment.</p>
<table>
<thead>
<tr class="header">
<th style="text-align: left;"></th>
<th style="text-align: left;">
<p>New Jersey</p></th>
<th style="text-align: left;">
<p>Pennsylvania</p></th>
<th style="text-align: left;">
<p>Difference</p></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">
<p><strong>February</strong></p></td>
<td style="text-align: left;">
<p>20.44</p></td>
<td style="text-align: left;">
<p>23.33</p></td>
<td style="text-align: left;">
<p>-2.89</p></td>
</tr>
<tr class="even">
<td style="text-align: left;">
<p><strong>November</strong></p></td>
<td style="text-align: left;">
<p>21.03</p></td>
<td style="text-align: left;">
<p>21.17</p></td>
<td style="text-align: left;">
<p>-0.14</p></td>
</tr>
<tr class="odd">
<td style="text-align: left;">
<p><strong>Change</strong></p></td>
<td style="text-align: left;">
<p>0.59</p></td>
<td style="text-align: left;">
<p>-2.16</p></td>
<td style="text-align: left;">
<p>2.75</p></td>
</tr>
</tbody>
</table>
<h2 id="see-also">See also</h2>
<ul>
<li><a href="Design_of_experiments" title="wikilink">Design of experiments</a></li>
<li><a href="Average_treatment_effect" title="wikilink">Average treatment effect</a></li>
</ul>
<h2 id="references">References</h2>
<h2 id="further-reading">Further reading</h2>
<ul>
<li></li>
</ul>
<h2 id="external-links">External links</h2>
<ul>
<li><a href="http://www.nber.org/papers/w14237">How Does Charitable Giving Respond to Incentives and Income? Dynamic Panel Estimates Accounting for Predictable Changes in Taxation, </a><a href="National_Bureau_of_Economic_Research" title="wikilink">National Bureau of Economic Research</a>, July 2005</li>
<li><a href="http://www.nber.org/papers/t0312">T. Conley and C. Taber, "Inference with "Difference in Differences" with a Small Number of Policy Changes", National Bureau of Economic Research, July 2005</a></li>
<li><a href="http://healthcare-economist.com/2006/02/11/difference-in-difference-estimation/">Difference in Difference Estimation</a>, Healthcare Economist website</li>
</ul>

<p>"</p>

<p><a class="uri" href="Category:Econometrics" title="wikilink">Category:Econometrics</a> <a href="Category:Regression_analysis" title="wikilink">Category:Regression analysis</a> <a href="Category:Design_of_experiments" title="wikilink">Category:Design of experiments</a> <a href="Category:Observational_study" title="wikilink">Category:Observational study</a> <a href="Category:Causal_inference" title="wikilink">Category:Causal inference</a></p>
<section class="footnotes">
<hr/>
<ol>
<li id="fn1"><a href="#fnref1">↩</a></li>
</ol>
</section>
</hr></body>
</html>
