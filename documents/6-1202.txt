   Fr√©chet derivative      Fr√©chet derivative   In mathematics , the Fr√©chet derivative is a derivative defined on Banach spaces . Named after Maurice Fr√©chet , it is commonly used to generalize the derivative of a real-valued function of a single real variable to the case of a vector-valued function of multiple real variables, and to define the functional derivative used widely in the calculus of variations .  Generally, it extends the idea of the derivative from real-valued functions of one real variable to functions on Banach spaces. The Fr√©chet derivative should be contrasted to the more general G√¢teaux derivative which is a generalization of the classical directional derivative .  The Fr√©chet derivative has applications to nonlinear problems throughout mathematical analysis and physical sciences, particularly to the calculus of variations and much of nonlinear analysis and nonlinear functional analysis .  Definition  Let V and W be Banach spaces , and    U  ‚äÇ  V      U  V    U\subset V   be an open subset of V . A function f : U ‚Üí W is called Fr√©chet differentiable at    x  ‚àà  U      x  U    x\in U   if there exists a bounded linear operator     A  :   V  ‚Üí  W      normal-:  A   normal-‚Üí  V  W     A:V\to W   such that        lim   h  ‚Üí  0       ‚à•    f   (   x  +  h   )    -   f   (  x  )    -   A  h    ‚à•   W     ‚à•  h  ‚à•   V     =  0.        subscript    normal-‚Üí  h  0       subscript   norm      f    x  h      f  x     A  h     W    subscript   norm  h   V     0.    \lim_{h\to 0}\frac{\|f(x+h)-f(x)-Ah\|_{W}}{\|h\|_{V}}=0.     The limit here is meant in the usual sense of a limit of a function defined on a metric space (see Functions on metric spaces ), using V and W as the two metric spaces, and the above expression as the function of argument h in V . As a consequence, it must exist for all sequences      ‚ü®   h  n   ‚ü©    n  =  1   ‚àû     superscript   subscript   delimited-‚ü®‚ü©   subscript  h  n      n  1       \langle h_{n}\rangle_{n=1}^{\infty}   of non-zero elements of V which converge to the zero vector     h  n   ‚Üí  0.     normal-‚Üí   subscript  h  n   0.    h_{n}{\rightarrow}0.   Equivalently, the first-order expansion holds, in Landau notation        f   (   x  +  h   )    =    f   (  x  )    +   A  h   +   o   (  h  )      .        f    x  h        f  x     A  h     o  h      f(x+h)=f(x)+Ah+o(h).   If there exists such an operator A , it is unique, so we write     D  f   (  x  )    =  A        D  f  x   A    Df(x)=A   and call it the (Fr√©chet) derivative of f at x . A function f that is Fr√©chet differentiable for any point of U is said to be C 1 if the function       D  f   :    U  ‚Üí   B   (  V  ,  W  )     ;   x  ‚Ü¶   D  f   (  x  )         normal-:    D  f    formulae-sequence   normal-‚Üí  U    B   V  W      maps-to  x    D  f  x       Df:U\to B(V,W);x\mapsto Df(x)     is continuous. Note that this is not the same as requiring that the map     D  f   (  x  )    :   V  ‚Üí  W      normal-:    D  f  x    normal-‚Üí  V  W     Df(x):V\to W   be continuous for each value of   x   x   x   (which is assumed).  This notion of derivative is a generalization of the ordinary derivative of a function on the real numbers  f : R ‚Üí R since the linear maps from R to R are just multiplication by a real number. In this case, Df ( x ) is the function    t  ‚Ü¶   t   f  ‚Ä≤    (  x  )       maps-to  t    t   superscript  f  normal-‚Ä≤   x     t\mapsto tf^{\prime}(x)   .  Properties  A function differentiable at a point is continuous at that point.  Differentiation is a linear operation in the following sense: if f and g are two maps V ‚Üí W which are differentiable at x , and r and s are scalars (two real or complex numbers ), then rf + sg is differentiable at x with D( rf + sg )( x ) = r D f ( x ) + s D g ( x ).  The chain rule is also valid in this context: if f : U ‚Üí Y is differentiable at x in U , and g : Y ‚Üí W is differentiable at y = f ( x ), then the composition g o f is differentiable in x and the derivative is the composition of the derivatives:        D   (   g  ‚àò  f   )    (  x  )    =     D  g   (   f   (  x  )    )    ‚àò  D   f   (  x  )     .        D    g  f   x         D  g    f  x    D   f  x     D(g\circ f)(x)=Dg(f(x))\circ Df(x).     Finite dimensions  The Fr√©chet derivative in finite-dimensional spaces is the usual derivative. In particular, it is represented in coordinates by the Jacobian matrix .  Suppose that f is a map, f : U ‚äÇ R n ‚Üí R m with U an open set. If f is Fr√©chet differentiable at a point a ‚àà U , then its derivative is        D  f   (  a  )    :     ùêë  n   ‚Üí    ùêë  m   with      D  f   (  a  )    (  v  )    =    J  f    (  a  )   v      ,     normal-:    D  f  a    formulae-sequence   normal-‚Üí   superscript  ùêë  n     superscript  ùêë  m   with        D  f  a  v      subscript  J  f   a  v       Df(a):\mathbf{R}^{n}\to\mathbf{R}^{m}\quad\mbox{with}\quad Df(a)(v)=J_{f}(a)\,v,   where J f ( a ) denotes the Jacobian matrix of f at a .  Furthermore, the partial derivatives of f are given by          ‚àÇ  f    ‚àÇ   x  i      (  a  )    =   D  f   (  a  )    (   e  i   )    =    J  f    (  a  )    e  i     ,              f      subscript  x  i     a     D  f  a   subscript  e  i            subscript  J  f   a   subscript  e  i       \frac{\partial f}{\partial x_{i}}(a)=Df(a)(e_{i})=J_{f}(a)\,e_{i},   where { e i } is the canonical basis of R n . Since the derivative is a linear function, we have for all vectors h ‚àà R n that the directional derivative of f along h is given by        D  f   (  a  )    (  h  )    =    ‚àë   i  =  1   n     h  i     ‚àÇ  f    ‚àÇ   x  i      (  a  )      .        D  f  a  h     superscript   subscript     i  1    n      subscript  h  i       f      subscript  x  i     a      Df(a)(h)=\sum_{i=1}^{n}h_{i}\frac{\partial f}{\partial x_{i}}(a).     If all partial derivatives of f exist and are continuous, then f is Fr√©chet differentiable (and, in fact, C 1 ). The converse is not true: the function       f   (  x  ,  y  )    =   {       (    x  2   +   y  2    )    sin   (    1     x  2   +   y  2       )         if   (  x  ,  y  )    ‚â†   (  0  ,  0  )        0      if   (  x  ,  y  )    =   (  0  ,  0  )              f   x  y     cases       superscript  x  2    superscript  y  2        1       superscript  x  2    superscript  y  2            if   x  y     0  0    0      if   x  y     0  0       f(x,y)=\begin{cases}(x^{2}+y^{2})\sin(\frac{1}{\sqrt{x^{2}+y^{2}}})&\mbox{ if %
 }(x,y)\neq(0,0)\\
 0&\mbox{ if }(x,y)=(0,0)\end{cases}     is Fr√©chet differentiable and yet fails to have continuous partial derivatives at    (  0  ,  0  )     0  0    (0,0)   .  Relation to the G√¢teaux derivative  A function f : U ‚äÇ V ‚Üí W is called G√¢teaux differentiable at x ‚àà U if f has a directional derivative along all directions at x . This means that there exists a function  such that       g   (  h  )    =    lim   t  ‚Üí  0       f   (   x  +   t  h    )    -   f   (  x  )     t          g  h     subscript    normal-‚Üí  t  0          f    x    t  h       f  x    t      g(h)=\lim_{t\to 0}\frac{f(x+th)-f(x)}{t}     for any chosen vector h in V , and where t is from the scalar field associated with V (usually, t is real ). 1 If f is Fr√©chet differentiable at x , it is also G√¢teaux differentiable there, and g is just the linear operator A = Df ( x ). However, not every G√¢teaux differentiable function is Fr√©chet differentiable.  For example, the real-valued function f of two real variables defined by       f   (  x  ,  y  )    =   {        x  3     x  2   +   y  2          if   (  x  ,  y  )    ‚â†   (  0  ,  0  )        0      if   (  x  ,  y  )    =   (  0  ,  0  )              f   x  y     cases     superscript  x  3      superscript  x  2    superscript  y  2         if   x  y     0  0    0      if   x  y     0  0       f(x,y)=\begin{cases}\frac{x^{3}}{x^{2}+y^{2}}&\mbox{ if }(x,y)\neq(0,0)\\
 0&\mbox{ if }(x,y)=(0,0)\end{cases}     is continuous and G√¢teaux differentiable at (0, 0), with its derivative being       g   (  a  ,  b  )    =   {        a  3     a  2   +   b  2          if   (  a  ,  b  )    ‚â†   (  0  ,  0  )        0       if   (  a  ,  b  )    =   (  0  ,  0  )    .             g   a  b     cases     superscript  a  3      superscript  a  2    superscript  b  2         if   a  b     0  0    0      if   a  b     0  0       g(a,b)=\begin{cases}\frac{a^{3}}{a^{2}+b^{2}}&\mbox{ if }(a,b)\neq(0,0)\\
 0&\mbox{ if }(a,b)=(0,0).\end{cases}     The function g is not a linear operator, so this function is not Fr√©chet differentiable.  More generally, any function of the form     f   (  x  ,  y  )    =   g   (  r  )   h   (  œï  )          f   x  y      g  r  h  œï     f(x,y)=g(r)h(\phi)   , where r and œÜ are the polar coordinates of ( x , y ), is continuous and G√¢teaux differentiable at (0,0) if g is differentiable at 0 and     h   (   œï  +  œÄ   )    =   -   h   (  œï  )           h    œï  œÄ        h  œï      h(\phi+\pi)=-h(\phi)   , but the G√¢teaux derivative is only linear and the Fr√©chet derivative only exists if h is sinusoidal .  In another situation, the function f given by       f   (  x  ,  y  )    =   {         x  3   y     x  6   +   y  2          if   (  x  ,  y  )    ‚â†   (  0  ,  0  )        0      if   (  x  ,  y  )    =   (  0  ,  0  )              f   x  y     cases       superscript  x  3   y      superscript  x  6    superscript  y  2         if   x  y     0  0    0      if   x  y     0  0       f(x,y)=\begin{cases}\frac{x^{3}y}{x^{6}+y^{2}}&\mbox{ if }(x,y)\neq(0,0)\\
 0&\mbox{ if }(x,y)=(0,0)\end{cases}     is G√¢teaux differentiable at (0,¬†0), with its derivative there being g ( a , b )¬†= 0 for all ( a , b ), which is a linear operator. However, f is not continuous at (0, 0) (one can see by approaching the origin along the curve ( t , t 3 )) and therefore f cannot be Fr√©chet differentiable at the origin.  A more subtle example is       f   (  x  ,  y  )    =   {          x  2   y     x  4   +   y  2         x  2   +   y  2          if   (  x  ,  y  )    ‚â†   (  0  ,  0  )        0      if   (  x  ,  y  )    =   (  0  ,  0  )              f   x  y     cases         superscript  x  2   y      superscript  x  4    superscript  y  2          superscript  x  2    superscript  y  2          if   x  y     0  0    0      if   x  y     0  0       f(x,y)=\begin{cases}\frac{x^{2}y}{x^{4}+y^{2}}\sqrt{x^{2}+y^{2}}&\mbox{ if }(x%
 ,y)\neq(0,0)\\
 0&\mbox{ if }(x,y)=(0,0)\end{cases}     which is a continuous function that is G√¢teaux differentiable at (0,¬†0), with its derivative being g ( a , b )¬†= 0 there, which is again linear. However, f is not Fr√©chet differentiable. If it were, its Fr√©chet derivative would coincide with its G√¢teaux derivative, and hence would be the zero operator; hence the limit       lim    (  x  ,  y  )   ‚Üí   (  0  ,  0  )      |     x  2   y     x  4   +   y  2     |       subscript    normal-‚Üí   x  y    0  0            superscript  x  2   y      superscript  x  4    superscript  y  2        \lim_{(x,y)\to(0,0)}\left|\frac{x^{2}y}{x^{4}+y^{2}}\right|     would have to be zero, whereas approaching the origin along the curve ( t , t 2 ) shows that this limit does not exist.  These cases can occur because the definition of the G√¢teaux derivative only requires that the difference quotients converge along each direction individually, without making requirements about the rates of convergence for different directions. Thus, for a given Œµ, although for each direction the difference quotient is within Œµ of its limit in some neighborhood of the given point, these neighborhoods may be different for different directions, and there may be a sequence of directions for which these neighborhoods become arbitrarily small. If a sequence of points is chosen along these directions, the quotient in the definition of the Fr√©chet derivative, which considers all directions at once, may not converge. Thus, in order for a linear G√¢teaux derivative to imply the existence of the Fr√©chet derivative, the difference quotients have to converge uniformly for all directions.  The following example only works in infinite dimensions. Let X be a Banach space, and œÜ a linear functional on X that is discontinuous at x = 0 (a discontinuous linear functional ). Let        f   (  x  )    =    ‚à•  x  ‚à•   œÜ   (  x  )     .        f  x      norm  x   œÜ  x     f(x)=\|x\|\varphi(x).\,     Then f ( x ) is G√¢teaux differentiable at x = 0 with derivative¬†0. However, f ( x ) is not Fr√©chet differentiable since the limit       lim   x  ‚Üí  0     œÜ   (  x  )        subscript    normal-‚Üí  x  0      œÜ  x     \lim_{x\to 0}\varphi(x)     does not exist.  Higher derivatives  If f : U ‚äÇ V ‚Üí W is a differentiable function at all points in an open subset U of V , it follows that its derivative       D  f   :   U  ‚Üí   L   (  V  ,  W  )        normal-:    D  f    normal-‚Üí  U    L   V  W       Df:U\to L(V,W)\,     is a function from U to the space L ( V , W ) of all bounded linear operators from V to W . This function may also have a derivative, the second order derivative of f , which, by the definition of derivative, will be a map         D  2   f   :   U  ‚Üí   L   (  V  ,   L   (  V  ,  W  )    )      .     normal-:     superscript  D  2   f    normal-‚Üí  U    L   V    L   V  W         D^{2}f:U\to L\big(V,L(V,W)\big).     To make it easier to work with second-order derivatives, the space on the right-hand side is identified with the Banach space L 2 ( V √ó V , W ) of all continuous bilinear maps from V to W . An element œÜ in L ( V , L ( V , W )) is thus identified with œà in L 2 ( V √ó V , W ) such that for all x and y in V       œÜ   (  x  )    (  y  )    =   œà   (  x  ,  y  )          œÜ  x  y     œà   x  y      \varphi(x)(y)=\psi(x,y)\,     (intuitively: a function œÜ linear in x with œÜ( x ) linear in y is the same as a bilinear function œà in x and y ).  One may differentiate        D  2   f   :   U  ‚Üí    L  2    (   V  √ó  V   ,  W  )        normal-:     superscript  D  2   f    normal-‚Üí  U     superscript  L  2      V  V   W       D^{2}f:U\to L^{2}(V\times V,W)\,     again, to obtain the third order derivative , which at each point will be a trilinear map , and so on. The n -th derivative will be a function         D  n   f   :   U  ‚Üí    L  n    (   V  √ó  V  √ó  ‚ãØ  √ó  V   ,  W  )      ,     normal-:     superscript  D  n   f    normal-‚Üí  U     superscript  L  n      V  V  normal-‚ãØ  V   W       D^{n}f:U\to L^{n}(V\times V\times\cdots\times V,W),     taking values in the Banach space of continuous multilinear maps in n arguments from V to W . Recursively, a function f is n +1 times differentiable on U if it is n times differentiable on U and for each x in U there exists a continuous multilinear map A of n +1 arguments such that the limit        lim    h   n  +  1    ‚Üí  0      ‚à•     D  n   f   (   x  +   h   n  +  1     )    (   h  1   ,   h  2   ,  ‚Ä¶  ,   h  n   )    -    D  n   f   (  x  )    (   h  1   ,   h  2   ,  ‚Ä¶  ,   h  n   )    -   A   (   h  1   ,   h  2   ,  ‚Ä¶  ,   h  n   ,   h   n  +  1    )     ‚à•    ‚à•   h   n  +  1    ‚à•     =  0        subscript    normal-‚Üí   subscript  h    n  1    0       norm       superscript  D  n   f    x   subscript  h    n  1       subscript  h  1    subscript  h  2   normal-‚Ä¶   subscript  h  n        superscript  D  n   f  x    subscript  h  1    subscript  h  2   normal-‚Ä¶   subscript  h  n       A    subscript  h  1    subscript  h  2   normal-‚Ä¶   subscript  h  n    subscript  h    n  1         norm   subscript  h    n  1       0    \lim_{h_{n+1}\to 0}\frac{\|D^{n}f(x+h_{n+1})(h_{1},h_{2},\dots,h_{n})-D^{n}f(x%
 )(h_{1},h_{2},\dots,h_{n})-A(h_{1},h_{2},\dots,h_{n},h_{n+1})\|}{\|h_{n+1}\|}=0     exists uniformly for h 1 , h 2 , ..., h n in bounded sets in V . In that case, A is the n +1st derivative of f at x .  Moreover, we may obviously identify a member of the space     L  n    (   V  √ó  V  √ó  ‚ãØ  √ó  V   ,  W  )        superscript  L  n      V  V  normal-‚ãØ  V   W     L^{n}(V\times V\times\cdots\times V,W)   with a linear map    L   (    ‚äó   j  =  1   n    V  j    ,  W  )       L     superscript   subscript  tensor-product    j  1    n    subscript  V  j    W     L(\bigotimes_{j=1}^{n}V_{j},W)   through the identification     f   (   x  1   ,   x  2   ,  ‚Ä¶  ,   x  n   )    =   f   (    x  1   ‚äó   x  2   ‚äó  ‚ãØ  ‚äó   x  n    )          f    subscript  x  1    subscript  x  2   normal-‚Ä¶   subscript  x  n       f   tensor-product   subscript  x  1    subscript  x  2   normal-‚ãØ   subscript  x  n       f(x_{1},x_{2},\ldots,x_{n})=f(x_{1}\otimes x_{2}\otimes\cdots\otimes x_{n})   , thus viewing the derivative as a linear map.  Generalization to topological vector spaces  The notion of the Fr√©chet derivative can be generalized to arbitrary topological vector spaces (TVSs) X and Y . Letting U be an open subset of X that contains the origin and given a function    f  :   U  ‚Üí  Y      normal-:  f   normal-‚Üí  U  Y     f:U\to Y   such that     f   (  0  )    =  0        f  0   0    f(0)=0   , we first define what it means for this function to have 0 as its derivative. We say that this function f is tangent to 0 if for every open neighborhood of 0 ,    W   \sub   Y      W  \sub  Y    W\sub Y   there exists an open neighborhood of 0 ,    V   \sub   X      V  \sub  X    V\sub X   and a function    o  :   ‚Ñù  ‚Üí  ‚Ñù      normal-:  o   normal-‚Üí  ‚Ñù  ‚Ñù     o:\mathbb{R}\to\mathbb{R}   such that       lim   t  ‚Üí  0      o   (  t  )    t    =  0   ,        subscript    normal-‚Üí  t  0        o  t   t    0    \lim_{t\to 0}\frac{o(t)}{t}=0,\,   and for all t ,    f   (   t  V   )    \sub   o   (  t  )   W      f    t  V   \sub  o  t  W    f(tV)\sub o(t)W   .  We can now remove the constraint that     f   (  0  )    =  0        f  0   0    f(0)=0   by defining f to be Fr√©chet differentiable at a point     x  0   ‚àà  U       subscript  x  0   U    x_{0}\in U   if there exists a continuous linear operator    Œª  :   X  ‚Üí  Y      normal-:  Œª   normal-‚Üí  X  Y     \lambda:X\to Y   such that     f   (    x  0   +  h   )    -   f   (   x  0   )    -   Œª  h         f     subscript  x  0   h      f   subscript  x  0      Œª  h     f(x_{0}+h)-f(x_{0})-\lambda h   , considered as a function of h , is tangent to 0 . (Lang p. 6)  If the Fr√©chet derivative exists then it is unique. Furthermore, the G√¢teaux derivative must also exist and be equal the Fr√©chet derivative in that for all    v  ‚àà  X      v  X    v\in X   ,      lim   œÑ  ‚Üí  0       f   (    x  0   +   œÑ  v    )    -   f   (   x  0   )     œÑ    =    f  ‚Ä≤    (   x  0   )   v         subscript    normal-‚Üí  œÑ  0          f     subscript  x  0     œÑ  v       f   subscript  x  0     œÑ       superscript  f  normal-‚Ä≤    subscript  x  0   v     \lim_{\tau\to 0}\frac{f(x_{0}+\tau v)-f(x_{0})}{\tau}=f^{\prime}(x_{0})v   , where     f  ‚Ä≤    (   x  0   )        superscript  f  normal-‚Ä≤    subscript  x  0     f^{\prime}(x_{0})   is the Fr√©chet derivative. A function that is Fr√©chet differentiable at a point is necessarily continuous there and sums and scalar multiples of Fr√©chet differentiable functions are differentiable so that the space of functions that are Fr√©chet differentiable at a point form a subspace of the functions that are continuous at that point. The chain rule also holds as does the Leibniz rule whenever Y is an algebra and a TVS in which multiplication is continuous.  See also   Generalizations of the derivative  Infinite-dimensional holomorphy   Notes  References    .   .   .   .   .   .   External links   B. A. Frigyik, S. Srivastava and M. R. Gupta, Introduction to Functional Derivatives , UWEE Tech Report 2008-0001.  http://www.probability.net . This webpage is mostly about basic probability and measure theory, but there is nice chapter about Frechet derivative in Banach spaces (chapter about Jacobian formula). All the results are given with proof.   "  Category:Banach spaces  Category:Generalizations of the derivative     It is common to include in the definition that the resulting map g must be a continuous linear operator . We do not adopt this convention here so that the widest possible class of pathologies can be examined. ‚Ü©     