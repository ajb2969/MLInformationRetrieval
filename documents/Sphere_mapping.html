<html lang="en">
<head>
<meta charset="utf-8"/>
<title offset="113">Sphere mapping</title>
<script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_SVG.js" type="text/javascript">
</script>
</head>
<body>
<h1>Sphere mapping</h1>
<hr/>

<p>In <a href="computer_graphics" title="wikilink">computer graphics</a>, <strong>sphere mapping</strong> (or <strong>spherical environment mapping</strong>) is a type of <a href="reflection_mapping" title="wikilink">reflection mapping</a> that approximates reflective surfaces by considering the environment to be an infinitely far-away spherical wall. This environment is stored as a texture depicting what a mirrored sphere would look like if it were placed into the environment, using an <a href="orthographic_projection" title="wikilink">orthographic projection</a> (as opposed to one with <a href="perspective_(graphical)" title="wikilink">perspective</a>). This texture contains reflective data for the entire environment, except for the spot directly behind the sphere. (For one example of such an object, see Escher's drawing <a href="Hand_with_Reflecting_Sphere" title="wikilink">Hand with Reflecting Sphere</a>.)</p>

<p>To use this data, the <a href="surface_normal" title="wikilink">surface normal</a> of the object, view direction from the object to the camera, and/or reflected direction from the object to the environment is used to calculate a texture coordinate to look up in the aforementioned texture map. The result appears like the environment is reflected in the surface of the object that is being rendered.</p>
<h2 id="usage-example">Usage example</h2>

<p>In the simplest case for generating texture coordinates, suppose:</p>
<ul>
<li>The map has been created as above, looking at the sphere along the z-axis.</li>
<li>The texture coordinate of the center of the map is (0,0), and the sphere's image has radius 1.</li>
<li>We are rendering an image in the same exact situation as the sphere, but the sphere has been replaced with a reflective object.</li>
<li>The image being created is orthographic, or the viewer is infinitely far away, so that the view direction does not change as one moves across the image.</li>
</ul>

<p>At texture coordinate 

<math display="inline" id="Sphere_mapping:0">
 <semantics>
  <mrow>
   <mo stretchy="false">(</mo>
   <mi>x</mi>
   <mo>,</mo>
   <mi>y</mi>
   <mo stretchy="false">)</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <interval closure="open">
    <ci>x</ci>
    <ci>y</ci>
   </interval>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   (x,y)
  </annotation>
 </semantics>
</math>

, note that the depicted location on the sphere is 

<math display="inline" id="Sphere_mapping:1">
 <semantics>
  <mrow>
   <mo stretchy="false">(</mo>
   <mi>x</mi>
   <mo>,</mo>
   <mi>y</mi>
   <mo>,</mo>
   <mi>z</mi>
   <mo stretchy="false">)</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <vector>
    <ci>x</ci>
    <ci>y</ci>
    <ci>z</ci>
   </vector>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   (x,y,z)
  </annotation>
 </semantics>
</math>

 (where z is 

<math display="inline" id="Sphere_mapping:2">
 <semantics>
  <msqrt>
   <mrow>
    <mn>1</mn>
    <mo>-</mo>
    <msup>
     <mi>x</mi>
     <mn>2</mn>
    </msup>
    <mo>-</mo>
    <msup>
     <mi>y</mi>
     <mn>2</mn>
    </msup>
   </mrow>
  </msqrt>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <root></root>
    <apply>
     <minus></minus>
     <cn type="integer">1</cn>
     <apply>
      <csymbol cd="ambiguous">superscript</csymbol>
      <ci>x</ci>
      <cn type="integer">2</cn>
     </apply>
     <apply>
      <csymbol cd="ambiguous">superscript</csymbol>
      <ci>y</ci>
      <cn type="integer">2</cn>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \sqrt{1-x^{2}-y^{2}}
  </annotation>
 </semantics>
</math>


), and the normal at that location is also 

<math display="inline" id="Sphere_mapping:3">
 <semantics>
  <mrow>
   <mo stretchy="false">(</mo>
   <mi>x</mi>
   <mo>,</mo>
   <mi>y</mi>
   <mo stretchy="false">)</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <interval closure="open">
    <ci>x</ci>
    <ci>y</ci>
   </interval>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   (x,y)
  </annotation>
 </semantics>
</math>

. However, we are given the reverse task (a normal for which we need to produce a texture map coordinate). So the texture coordinate corresponding to normal <span class="LaTeX">$<x,y,z></x,y,z>$</span> is <span class="LaTeX">$(x,y)$</span>.</p>
<h2 id="see-also">See also</h2>
<ul>
<li><a href="Cube_mapping" title="wikilink">Cube mapping</a></li>
<li><a href="Skybox_(video_games)" title="wikilink">Skybox (video games)</a></li>
<li><a href="Reflection_mapping" title="wikilink">Reflection mapping</a></li>
<li><a class="uri" href="HEALPix" title="wikilink">HEALPix</a>, mapping with little distortion, arbitrary precision, and equal-sized fragments</li>
</ul>

<p>"</p>

<p><a href="Category:Texture_mapping" title="wikilink">Category:Texture mapping</a></p>
</body>
</html>
