<html lang="en">
<head>
<meta charset="utf-8"/>
<title offset="923">Comparator applications</title>
<script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_SVG.js" type="text/javascript">
</script>
</head>
<body>
<h1>Comparator applications</h1>
<hr/>

<p>A <a class="uri" href="comparator" title="wikilink">comparator</a> is an electronic component that compares two input voltages. Comparators are closely related to <a href="operational_amplifier" title="wikilink">operational amplifiers</a>, but a comparator is designed to operate with positive feedback and with its output saturated at one power rail or the other. An op-amp can be pressed into service as a poorly performing comparator if necessary, but its <a href="slew_rate" title="wikilink">slew rate</a> will be impaired.</p>
<h2 id="comparator">Comparator</h2>
<dl>
<dd>
</dd>
</dl>

<p><a href="Bistability" title="wikilink">Bistable</a> output that indicates which of the two inputs has a higher voltage. That is,</p>

<p>

<math display="block" id="Comparator_applications:0">
 <semantics>
  <mrow>
   <msub>
    <mi>V</mi>
    <mtext>out</mtext>
   </msub>
   <mo>=</mo>
   <mrow>
    <mo>{</mo>
    <mtable displaystyle="true">
     <mtr>
      <mtd columnalign="left">
       <msub>
        <mi>V</mi>
        <mrow>
         <mtext>S</mtext>
         <mo>+</mo>
        </mrow>
       </msub>
      </mtd>
      <mtd columnalign="left">
       <mrow>
        <mrow>
         <mrow>
          <mtext>if</mtext>
          <msub>
           <mi>V</mi>
           <mn>1</mn>
          </msub>
         </mrow>
         <mo>></mo>
         <msub>
          <mi>V</mi>
          <mn>2</mn>
         </msub>
        </mrow>
        <mo>,</mo>
       </mrow>
      </mtd>
     </mtr>
     <mtr>
      <mtd columnalign="left">
       <msub>
        <mi>V</mi>
        <mrow>
         <mtext>S</mtext>
         <mo>-</mo>
        </mrow>
       </msub>
      </mtd>
      <mtd columnalign="left">
       <mrow>
        <mrow>
         <mrow>
          <mtext>if</mtext>
          <msub>
           <mi>V</mi>
           <mn>1</mn>
          </msub>
         </mrow>
         <mo><</mo>
         <msub>
          <mi>V</mi>
          <mn>2</mn>
         </msub>
        </mrow>
        <mo>,</mo>
       </mrow>
      </mtd>
     </mtr>
     <mtr>
      <mtd columnalign="left">
       <mn>0</mn>
      </mtd>
      <mtd columnalign="left">
       <mrow>
        <mrow>
         <mrow>
          <mtext>if</mtext>
          <msub>
           <mi>V</mi>
           <mn>1</mn>
          </msub>
         </mrow>
         <mo>=</mo>
         <msub>
          <mi>V</mi>
          <mn>2</mn>
         </msub>
        </mrow>
        <mo>,</mo>
       </mrow>
      </mtd>
     </mtr>
    </mtable>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <csymbol cd="ambiguous">subscript</csymbol>
     <ci>V</ci>
     <mtext>out</mtext>
    </apply>
    <apply>
     <csymbol cd="latexml">cases</csymbol>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <ci>V</ci>
      <apply>
       <csymbol cd="latexml">limit-from</csymbol>
       <mtext>S</mtext>
       <plus></plus>
      </apply>
     </apply>
     <apply>
      <gt></gt>
      <apply>
       <times></times>
       <mtext>if</mtext>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>V</ci>
        <cn type="integer">1</cn>
       </apply>
      </apply>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>V</ci>
       <cn type="integer">2</cn>
      </apply>
     </apply>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <ci>V</ci>
      <apply>
       <csymbol cd="latexml">limit-from</csymbol>
       <mtext>S</mtext>
       <minus></minus>
      </apply>
     </apply>
     <apply>
      <lt></lt>
      <apply>
       <times></times>
       <mtext>if</mtext>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>V</ci>
        <cn type="integer">1</cn>
       </apply>
      </apply>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>V</ci>
       <cn type="integer">2</cn>
      </apply>
     </apply>
     <cn type="integer">0</cn>
     <apply>
      <eq></eq>
      <apply>
       <times></times>
       <mtext>if</mtext>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>V</ci>
        <cn type="integer">1</cn>
       </apply>
      </apply>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>V</ci>
       <cn type="integer">2</cn>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   V_{\text{out}}=\begin{cases}V_{\text{S}+}&\text{if }V_{1}>V_{2},\\
V_{\text{S}-}&\text{if }V_{1}<V_{2},\\
0&\text{if }V_{1}=V_{2},\end{cases}
  </annotation>
 </semantics>
</math>

 where 

<math display="inline" id="Comparator_applications:1">
 <semantics>
  <msub>
   <mi>V</mi>
   <mrow>
    <mtext>S</mtext>
    <mo>+</mo>
   </mrow>
  </msub>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <csymbol cd="ambiguous">subscript</csymbol>
    <ci>V</ci>
    <apply>
     <csymbol cd="latexml">limit-from</csymbol>
     <mtext>S</mtext>
     <plus></plus>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   V_{\text{S}+}
  </annotation>
 </semantics>
</math>

 and 

<math display="inline" id="Comparator_applications:2">
 <semantics>
  <msub>
   <mi>V</mi>
   <mrow>
    <mtext>S</mtext>
    <mo>-</mo>
   </mrow>
  </msub>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <csymbol cd="ambiguous">subscript</csymbol>
    <ci>V</ci>
    <apply>
     <csymbol cd="latexml">limit-from</csymbol>
     <mtext>S</mtext>
     <minus></minus>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   V_{\text{S}-}
  </annotation>
 </semantics>
</math>

 are nominally the positive and negative supply voltages (which are not shown in the diagram).</p>
<h2 id="threshold-detector">Threshold detector</h2>

<p><a href="image:threshold_detector_with_hysteresis.jpg" title="wikilink">right|Circuit diagram for threshold detector with hysteresis</a></p>

<p>The threshold detector with <a class="uri" href="hysteresis" title="wikilink">hysteresis</a> consists of an <a href="operational_amplifier" title="wikilink">operational amplifier</a> and a series of <a class="uri" href="resistors" title="wikilink">resistors</a> that provide hysteresis. Like other detectors, this device functions as a <a class="uri" href="voltage" title="wikilink">voltage</a> switch, but with an important difference. The state of the detector output is not directly affected by input voltage, but instead by the voltage drop across its input terminals (here, referred to as Va). From <a href="Kirchhoff's_circuit_laws" title="wikilink">Kirchhoff's Current Law</a>, this value depends both on Vin and the output voltage of the threshold detector itself, both multiplied by a resistor ratio.</p>

<p>

<math display="block" id="Comparator_applications:3">
 <semantics>
  <mrow>
   <msub>
    <mi>V</mi>
    <mi>a</mi>
   </msub>
   <mo>=</mo>
   <mrow>
    <mrow>
     <mfrac>
      <msub>
       <mi>R</mi>
       <mn>1</mn>
      </msub>
      <mrow>
       <msub>
        <mi>R</mi>
        <mn>1</mn>
       </msub>
       <mo>+</mo>
       <msub>
        <mi>R</mi>
        <mn>5</mn>
       </msub>
      </mrow>
     </mfrac>
     <msub>
      <mi>V</mi>
      <mrow>
       <mi>i</mi>
       <mi>n</mi>
      </mrow>
     </msub>
    </mrow>
    <mo>+</mo>
    <mrow>
     <mfrac>
      <msub>
       <mi>R</mi>
       <mn>5</mn>
      </msub>
      <mrow>
       <msub>
        <mi>R</mi>
        <mn>1</mn>
       </msub>
       <mo>+</mo>
       <msub>
        <mi>R</mi>
        <mn>5</mn>
       </msub>
      </mrow>
     </mfrac>
     <msub>
      <mi>V</mi>
      <mrow>
       <mi>T</mi>
       <mi>H</mi>
       <mi>R</mi>
       <mi>o</mi>
       <mi>u</mi>
       <mi>t</mi>
      </mrow>
     </msub>
    </mrow>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <csymbol cd="ambiguous">subscript</csymbol>
     <ci>V</ci>
     <ci>a</ci>
    </apply>
    <apply>
     <plus></plus>
     <apply>
      <times></times>
      <apply>
       <divide></divide>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>R</ci>
        <cn type="integer">1</cn>
       </apply>
       <apply>
        <plus></plus>
        <apply>
         <csymbol cd="ambiguous">subscript</csymbol>
         <ci>R</ci>
         <cn type="integer">1</cn>
        </apply>
        <apply>
         <csymbol cd="ambiguous">subscript</csymbol>
         <ci>R</ci>
         <cn type="integer">5</cn>
        </apply>
       </apply>
      </apply>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>V</ci>
       <apply>
        <times></times>
        <ci>i</ci>
        <ci>n</ci>
       </apply>
      </apply>
     </apply>
     <apply>
      <times></times>
      <apply>
       <divide></divide>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>R</ci>
        <cn type="integer">5</cn>
       </apply>
       <apply>
        <plus></plus>
        <apply>
         <csymbol cd="ambiguous">subscript</csymbol>
         <ci>R</ci>
         <cn type="integer">1</cn>
        </apply>
        <apply>
         <csymbol cd="ambiguous">subscript</csymbol>
         <ci>R</ci>
         <cn type="integer">5</cn>
        </apply>
       </apply>
      </apply>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>V</ci>
       <apply>
        <times></times>
        <ci>T</ci>
        <ci>H</ci>
        <ci>R</ci>
        <ci>o</ci>
        <ci>u</ci>
        <ci>t</ci>
       </apply>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   V_{a}={R_{1}\over{R_{1}+R_{5}}}V_{in}+{R_{5}\over{R_{1}+R_{5}}}V_{THRout}
  </annotation>
 </semantics>
</math>

</p>

<p>Unlike the zero crossing detector, the detector with hysteresis does not switch when Vin is zero, rather the output becomes Vsat+ when Va becomes positive and Vsat- when Va becomes negative. Further examination of the Va equation reveals that Vin can exceed zero (positive or negative) by a certain magnitude before the output of the detector is caused to switch. By adjusting the value of R1, the magnitude of Vin that will cause the detector to switch can be increased or decreased. Hysteresis is useful in various applications. It has better noise immunity than the level detector, so it is used in interface circuits. Its positive feedback has a faster transition, so it is used in timing applications such as frequency counters. It is also used in astable multivibrators found in instruments such as function generators. </p>
<h2 id="zero-crossing-detector">Zero crossing detector</h2>

<p>A <em>zero crossing detector</em> is a comparator with the reference level set at zero. It is used for detecting the zero crossings of AC signals. It can be made from an <a href="operational_amplifier" title="wikilink">operational amplifier</a> with an input voltage at its positive input (see circuit diagram).</p>

<p>When the input voltage is positive, the output voltage is a positive value, when the input voltage is negative, the output voltage is a negative value. The magnitude of the output voltage is a property of the operational amplifier and its power supply.</p>

<p>Applications include converting an analog signal into a form suitable to use for frequency measurements, in <a href="phase_locked_loop" title="wikilink">phase locked loops</a>, or for controlling power electronics circuits that must switch with a defined relationship to an alternating current waveform.</p>

<p>This detector exploits the property that the instantaneous frequency of an <a href="Frequency_modulation" title="wikilink">FM</a> wave is approximately given by 

<math display="inline" id="Comparator_applications:4">
 <semantics>
  <mrow>
   <msub>
    <mi>f</mi>
    <mi>i</mi>
   </msub>
   <mo>=</mo>
   <mfrac>
    <mrow>
     <mi mathvariant="normal">Δ</mi>
     <mi>t</mi>
    </mrow>
    <mn>2</mn>
   </mfrac>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <csymbol cd="ambiguous">subscript</csymbol>
     <ci>f</ci>
     <ci>i</ci>
    </apply>
    <apply>
     <divide></divide>
     <apply>
      <times></times>
      <ci>normal-Δ</ci>
      <ci>t</ci>
     </apply>
     <cn type="integer">2</cn>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   f_{i}=\frac{\Delta t}{2}
  </annotation>
 </semantics>
</math>

 where 

<math display="inline" id="Comparator_applications:5">
 <semantics>
  <mrow>
   <mi mathvariant="normal">Δ</mi>
   <mi>t</mi>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <times></times>
    <ci>normal-Δ</ci>
    <ci>t</ci>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \Delta t
  </annotation>
 </semantics>
</math>

 is the time difference between adjacent zero crossings of FM wave</p>

<p><a class="footnoteRef" href="#fn1" id="fnref1"><sup>1</sup></a></p>
<h2 id="schmitt-trigger">Schmitt trigger</h2>

<p>A <a href="bistable_multivibrator" title="wikilink">bistable multivibrator</a> implemented as a <a class="uri" href="comparator" title="wikilink">comparator</a> with <a class="uri" href="hysteresis" title="wikilink">hysteresis</a>.</p>
<figure><b>(Figure)</b>
<figcaption>Op-Amp Schmitt Trigger.svg</figcaption>
</figure>

<p>In this configuration, the input voltage is applied through the resistor 

<math display="inline" id="Comparator_applications:6">
 <semantics>
  <msub>
   <mi>R</mi>
   <mn>1</mn>
  </msub>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <csymbol cd="ambiguous">subscript</csymbol>
    <ci>R</ci>
    <cn type="integer">1</cn>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   {R_{1}}
  </annotation>
 </semantics>
</math>

 (which may be the source internal resistance) to the non-inverting input and the inverting input is grounded or referenced. The hysteresis curve is non-inverting and the switching thresholds are 

<math display="inline" id="Comparator_applications:7">
 <semantics>
  <mrow>
   <mo>±</mo>
   <mrow>
    <mfrac>
     <msub>
      <mi>R</mi>
      <mn>1</mn>
     </msub>
     <msub>
      <mi>R</mi>
      <mn>2</mn>
     </msub>
    </mfrac>
    <msub>
     <mi>V</mi>
     <mtext>sat</mtext>
    </msub>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <csymbol cd="latexml">plus-or-minus</csymbol>
    <apply>
     <times></times>
     <apply>
      <divide></divide>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>R</ci>
       <cn type="integer">1</cn>
      </apply>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>R</ci>
       <cn type="integer">2</cn>
      </apply>
     </apply>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <ci>V</ci>
      <mtext>sat</mtext>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \pm\frac{R_{1}}{R_{2}}V_{\text{sat}}
  </annotation>
 </semantics>
</math>

 where 

<math display="inline" id="Comparator_applications:8">
 <semantics>
  <msub>
   <mi>V</mi>
   <mtext>sat</mtext>
  </msub>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <csymbol cd="ambiguous">subscript</csymbol>
    <ci>V</ci>
    <mtext>sat</mtext>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   V_{\text{sat}}
  </annotation>
 </semantics>
</math>

 is the greatest output magnitude of the operational amplifier.</p>
<figure><b>(Figure)</b>
<figcaption>Op-Amp Inverting Schmitt Trigger.svg</figcaption>
</figure>

<p>Alternatively, the input source and the <a href="electrical_ground" title="wikilink">ground</a> may be swapped. Now the input voltage is applied directly to the inverting input and the non-inverting input is grounded or referenced. The hysteresis curve is inverting and the switching thresholds are 

<math display="inline" id="Comparator_applications:9">
 <semantics>
  <mrow>
   <mo>±</mo>
   <mrow>
    <mfrac>
     <msub>
      <mi>R</mi>
      <mn>1</mn>
     </msub>
     <mrow>
      <msub>
       <mi>R</mi>
       <mn>1</mn>
      </msub>
      <mo>+</mo>
      <msub>
       <mi>R</mi>
       <mn>2</mn>
      </msub>
     </mrow>
    </mfrac>
    <msub>
     <mi>V</mi>
     <mtext>sat</mtext>
    </msub>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <csymbol cd="latexml">plus-or-minus</csymbol>
    <apply>
     <times></times>
     <apply>
      <divide></divide>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>R</ci>
       <cn type="integer">1</cn>
      </apply>
      <apply>
       <plus></plus>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>R</ci>
        <cn type="integer">1</cn>
       </apply>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>R</ci>
        <cn type="integer">2</cn>
       </apply>
      </apply>
     </apply>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <ci>V</ci>
      <mtext>sat</mtext>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \pm\frac{R_{1}}{R_{1}+R_{2}}V_{\text{sat}}
  </annotation>
 </semantics>
</math>

. Such a configuration is used in the <a href="#Relaxation_oscillator" title="wikilink">relaxation oscillator</a> shown below.</p>
<h2 id="relaxation-oscillator">Relaxation oscillator</h2>
<figure><b>(Figure)</b>
<figcaption>Op-Amp Relaxation Oscillator.svg</figcaption>
</figure>

<p>By using an <a href="RC_network" title="wikilink">RC network</a> to add slow <a href="negative_feedback" title="wikilink">negative feedback</a> to the inverting <a href="#Schmitt_trigger" title="wikilink">Schmitt trigger</a>, a <a href="relaxation_oscillator" title="wikilink">relaxation oscillator</a> is formed. The feedback through the RC network causes the Schmitt trigger output to <a class="uri" href="oscillate" title="wikilink">oscillate</a> in an endless symmetric <a href="square_wave" title="wikilink">square wave</a> (i.e., the Schmitt trigger in this configuration is an <a href="astable_multivibrator" title="wikilink">astable multivibrator</a>).</p>
<h2 id="references">References</h2>

<p>"</p>

<p><a href="Category:Electronic_amplifiers" title="wikilink">Category:Electronic amplifiers</a> <a href="Category:Analog_circuits" title="wikilink">Category:Analog circuits</a></p>
<section class="footnotes">
<hr/>
<ol>
<li id="fn1"><a href="http://sound.westhost.com/appnotes/an005.htm">Elliott Sound Products</a> Application Notes : Zero Crossing Detectors and Comparators<a href="#fnref1">↩</a></li>
</ol>
</section>
</body>
</html>
