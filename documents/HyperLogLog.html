<html lang="en">
<head>
<meta charset="utf-8"/>
<title offset="896">HyperLogLog</title>
<script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_SVG.js" type="text/javascript">
</script>
</head>
<body>
<h1>HyperLogLog</h1>
<hr/>

<p><strong>HyperLogLog</strong> is an algorithm for the <a href="count-distinct_problem" title="wikilink">count-distinct problem</a>, approximating the number of distinct elements in a <a class="uri" href="multiset" title="wikilink">multiset</a><a class="footnoteRef" href="#fn1" id="fnref1"><sup>1</sup></a> (the <a class="uri" href="cardinality" title="wikilink">cardinality</a>).</p>

<p>Calculating the <em>exact</em> cardinality of a multiset requires an amount of memory proportional to the cardinality, which is impractical for very large data sets. Probabilistic cardinality estimators, such as the HyperLogLog algorithm, use significantly less memory than this, at the cost of obtaining only an approximation of the cardinality. The HyperLogLog algorithm is able to estimate cardinalities of 

<math display="inline" id="HyperLogLog:0">
 <semantics>
  <mrow>
   <mi></mi>
   <mo>></mo>
   <msup>
    <mn>10</mn>
    <mn>9</mn>
   </msup>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <gt></gt>
    <csymbol cd="latexml">absent</csymbol>
    <apply>
     <csymbol cd="ambiguous">superscript</csymbol>
     <cn type="integer">10</cn>
     <cn type="integer">9</cn>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   >10^{9}
  </annotation>
 </semantics>
</math>

 with a typical accuracy of 2%, using 1.5kB of memory.<a class="footnoteRef" href="#fn2" id="fnref2"><sup>2</sup></a> HyperLogLog is an extension of the earlier LogLog algorithm.<a class="footnoteRef" href="#fn3" id="fnref3"><sup>3</sup></a></p>
<h2 id="algorithm">Algorithm</h2>

<p>The basis of the HyperLogLog algorithm is the observation that the cardinality of a multiset of uniformly-distributed random numbers can be estimated by calculating the maximum number of leading zeros in the binary representation of each number in the set. If the maximum number of leading zeros observed is 

<math display="inline" id="HyperLogLog:1">
 <semantics>
  <mi>n</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>n</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   n
  </annotation>
 </semantics>
</math>

, an estimate for the number of distinct elements in the set is 

<math display="inline" id="HyperLogLog:2">
 <semantics>
  <msup>
   <mn>2</mn>
   <mi>n</mi>
  </msup>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <csymbol cd="ambiguous">superscript</csymbol>
    <cn type="integer">2</cn>
    <ci>n</ci>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   2^{n}
  </annotation>
 </semantics>
</math>

.<a class="footnoteRef" href="#fn4" id="fnref4"><sup>4</sup></a></p>

<p>In the HyperLogLog algorithm, a <a href="hash_function" title="wikilink">hash function</a> is applied to each element in the original multiset, to obtain a multiset of uniformly-distributed random numbers with the same cardinality as the original multiset. The cardinality of this randomly-distributed set can then be estimated using the algorithm above.</p>

<p>The simple estimate of cardinality obtained using the algorithm above has the disadvantage of a large <a class="uri" href="variance" title="wikilink">variance</a>. In the HyperLogLog algorithm, the variance is minimised by splitting the multiset into numerous subsets, calculating the maximum number of leading zeros in the numbers in each of these subsets, and using a <a href="harmonic_mean" title="wikilink">harmonic mean</a> to combine these estimates for each subset into an estimate of the cardinality of the whole set.</p>
<h2 id="references">References</h2>
<ul>
<li></li>
<li></li>
<li></li>
<li></li>
<li><a class="uri" href="http://pnwscala.org/talks/SamRitchie-PNWScalaTalk.pdf">http://pnwscala.org/talks/SamRitchie-PNWScalaTalk.pdf</a></li>
</ul>

<p>"</p>

<p><a href="Category:Probabilistic_data_structures" title="wikilink">Category:Probabilistic data structures</a> <a href="Category:Hash_functions" title="wikilink">Category:Hash functions</a> <a class="uri" href="Category:Hashing" title="wikilink">Category:Hashing</a> <a href="Category:Computer_jargon" title="wikilink">Category:Computer jargon</a> <a href="Category:Models_of_computation" title="wikilink">Category:Models of computation</a> <a href="Category:Data_management" title="wikilink">Category:Data management</a></p>
<section class="footnotes">
<hr/>
<ol>
<li id="fn1"><a href="#fnref1">↩</a></li>
<li id="fn2"></li>
<li id="fn3"><a href="#fnref3">↩</a></li>
<li id="fn4"></li>
</ol>
</section>
</body>
</html>
