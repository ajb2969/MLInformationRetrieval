   Euler's four-square identity      Euler's four-square identity   In mathematics , Euler's four-square identity says that the product of two numbers, each of which is a sum of four squares , is itself a sum of four squares. Specifically:          (    a  1  2   +   a  2  2   +   a  3  2   +   a  4  2    )    (    b  1  2   +   b  2  2   +   b  3  2   +   b  4  2    )    =            superscript   subscript  a  1   2    superscript   subscript  a  2   2    superscript   subscript  a  3   2    superscript   subscript  a  4   2       superscript   subscript  b  1   2    superscript   subscript  b  2   2    superscript   subscript  b  3   2    superscript   subscript  b  4   2     absent    (a_{1}^{2}+a_{2}^{2}+a_{3}^{2}+a_{4}^{2})(b_{1}^{2}+b_{2}^{2}+b_{3}^{2}+b_{4}^%
 {2})=\,                (     a  1    b  1    +    a  2    b  2    +    a  3    b  3    +    a  4    b  4     )   2   +     limit-from   superscript       subscript  a  1    subscript  b  1       subscript  a  2    subscript  b  2       subscript  a  3    subscript  b  3       subscript  a  4    subscript  b  4     2      (a_{1}b_{1}+a_{2}b_{2}+a_{3}b_{3}+a_{4}b_{4})^{2}+\,                (       a  1    b  2    -    a  2    b  1     +    a  3    b  4     -    a  4    b  3     )   2   +     limit-from   superscript           subscript  a  1    subscript  b  2       subscript  a  2    subscript  b  1        subscript  a  3    subscript  b  4        subscript  a  4    subscript  b  3     2      (a_{1}b_{2}-a_{2}b_{1}+a_{3}b_{4}-a_{4}b_{3})^{2}+\,                (      a  1    b  3    -    a  2    b  4    -    a  3    b  1     +    a  4    b  2     )   2   +     limit-from   superscript         subscript  a  1    subscript  b  3       subscript  a  2    subscript  b  4       subscript  a  3    subscript  b  1        subscript  a  4    subscript  b  2     2      (a_{1}b_{3}-a_{2}b_{4}-a_{3}b_{1}+a_{4}b_{2})^{2}+\,                (      a  1    b  4    +    a  2    b  3     -    a  3    b  2    -    a  4    b  1     )   2   .     superscript         subscript  a  1    subscript  b  4       subscript  a  2    subscript  b  3        subscript  a  3    subscript  b  2       subscript  a  4    subscript  b  1     2    (a_{1}b_{4}+a_{2}b_{3}-a_{3}b_{2}-a_{4}b_{1})^{2}.\,        Euler wrote about this identity in a letter dated May 4, 1748 to Goldbach 1 2 (but he used a different sign convention from the above). It can be proven with elementary algebra and holds in every commutative ring . If the    a  k     subscript  a  k    a_{k}   and    b  k     subscript  b  k    b_{k}   are real numbers , a more elegant proof is available: the identity expresses the fact that the absolute value of the product of two quaternions is equal to the product of their absolute values, in the same way that the Brahmagupta–Fibonacci two-square identity does for complex numbers .  The identity was used by Lagrange to prove his four square theorem . More specifically, it implies that it is sufficient to prove the theorem for prime numbers , after which the more general theorem follows. The sign convention used above corresponds to the signs obtained by multiplying two quaternions. Other sign conventions can be obtained by changing any    a  k     subscript  a  k    a_{k}   to    -   a  k        subscript  a  k     -a_{k}   ,    b  k     subscript  b  k    b_{k}   to    -   b  k        subscript  b  k     -b_{k}   , or by changing the signs inside any of the squared terms on the right hand side.  Hurwitz's theorem states that an identity of form,        (    a  1  2   +   a  2  2   +   a  3  2   +  …  +   a  n  2    )    (    b  1  2   +   b  2  2   +   b  3  2   +  …  +   b  n  2    )    =    c  1  2   +   c  2  2   +   c  3  2   +  …  +    c  n  2              superscript   subscript  a  1   2    superscript   subscript  a  2   2    superscript   subscript  a  3   2   normal-…   superscript   subscript  a  n   2       superscript   subscript  b  1   2    superscript   subscript  b  2   2    superscript   subscript  b  3   2   normal-…   superscript   subscript  b  n   2        superscript   subscript  c  1   2    superscript   subscript  c  2   2    superscript   subscript  c  3   2   normal-…   superscript   subscript  c  n   2      (a_{1}^{2}+a_{2}^{2}+a_{3}^{2}+...+a_{n}^{2})(b_{1}^{2}+b_{2}^{2}+b_{3}^{2}+..%
 .+b_{n}^{2})=c_{1}^{2}+c_{2}^{2}+c_{3}^{2}+...+c_{n}^{2}\,     where the    c  i     subscript  c  i    c_{i}   are bilinear functions of the    a  i     subscript  a  i    a_{i}   and    b  i     subscript  b  i    b_{i}   is possible only for n = {1, 2, 4, 8}. However, the more general Pfister's theorem allows that if the    c  i     subscript  c  i    c_{i}   are just rational functions of one set of variables, hence has a denominator , then it is possible for all    n  =   2  m       n   superscript  2  m     n=2^{m}   . 3 Thus, a different kind of four-square identity can be given as,        (    a  1  2   +   a  2  2   +   a  3  2   +   a  4  2    )    (    b  1  2   +   b  2  2   +   b  3  2   +   b  4  2    )    =            superscript   subscript  a  1   2    superscript   subscript  a  2   2    superscript   subscript  a  3   2    superscript   subscript  a  4   2       superscript   subscript  b  1   2    superscript   subscript  b  2   2    superscript   subscript  b  3   2    superscript   subscript  b  4   2     absent    (a_{1}^{2}+a_{2}^{2}+a_{3}^{2}+a_{4}^{2})(b_{1}^{2}+b_{2}^{2}+b_{3}^{2}+b_{4}^%
 {2})=\,             (     a  1    b  4    +    a  2    b  3    +    a  3    b  2    +    a  4    b  1     )   2   +     limit-from   superscript       subscript  a  1    subscript  b  4       subscript  a  2    subscript  b  3       subscript  a  3    subscript  b  2       subscript  a  4    subscript  b  1     2      (a_{1}b_{4}+a_{2}b_{3}+a_{3}b_{2}+a_{4}b_{1})^{2}+\,                (       a  1    b  3    -    a  2    b  4     +    a  3    b  1     -    a  4    b  2     )   2   +     limit-from   superscript           subscript  a  1    subscript  b  3       subscript  a  2    subscript  b  4        subscript  a  3    subscript  b  1        subscript  a  4    subscript  b  2     2      (a_{1}b_{3}-a_{2}b_{4}+a_{3}b_{1}-a_{4}b_{2})^{2}+\,                (      a  1    b  2    +    a  2    b  1    +     a  3    u  1      b  1  2   +   b  2  2      -     a  4    u  2      b  1  2   +   b  2  2      )   2   +     limit-from   superscript         subscript  a  1    subscript  b  2       subscript  a  2    subscript  b  1         subscript  a  3    subscript  u  1       superscript   subscript  b  1   2    superscript   subscript  b  2   2           subscript  a  4    subscript  u  2       superscript   subscript  b  1   2    superscript   subscript  b  2   2      2      \left(a_{1}b_{2}+a_{2}b_{1}+\frac{a_{3}u_{1}}{b_{1}^{2}+b_{2}^{2}}-\frac{a_{4}%
 u_{2}}{b_{1}^{2}+b_{2}^{2}}\right)^{2}+\,                (     a  1    b  1    -    a  2    b  2    -     a  4    u  1      b  1  2   +   b  2  2     -     a  3    u  2      b  1  2   +   b  2  2      )   2      superscript       subscript  a  1    subscript  b  1       subscript  a  2    subscript  b  2         subscript  a  4    subscript  u  1       superscript   subscript  b  1   2    superscript   subscript  b  2   2          subscript  a  3    subscript  u  2       superscript   subscript  b  1   2    superscript   subscript  b  2   2      2    \left(a_{1}b_{1}-a_{2}b_{2}-\frac{a_{4}u_{1}}{b_{1}^{2}+b_{2}^{2}}-\frac{a_{3}%
 u_{2}}{b_{1}^{2}+b_{2}^{2}}\right)^{2}\,        where,       u  1   =     b  1  2    b  4    -   2   b  1    b  2    b  3    -    b  2  2    b  4          subscript  u  1        superscript   subscript  b  1   2    subscript  b  4      2   subscript  b  1    subscript  b  2    subscript  b  3       superscript   subscript  b  2   2    subscript  b  4       u_{1}=b_{1}^{2}b_{4}-2b_{1}b_{2}b_{3}-b_{2}^{2}b_{4}          u  2   =      b  1  2    b  3    +   2   b  1    b  2    b  4     -    b  2  2    b  3          subscript  u  2          superscript   subscript  b  1   2    subscript  b  3      2   subscript  b  1    subscript  b  2    subscript  b  4        superscript   subscript  b  2   2    subscript  b  3       u_{2}=b_{1}^{2}b_{3}+2b_{1}b_{2}b_{4}-b_{2}^{2}b_{3}     Note also the incidental fact that,        u  1  2   +   u  2  2    =     (    b  1  2   +   b  2  2    )   2    (    b  3  2   +   b  4  2    )           superscript   subscript  u  1   2    superscript   subscript  u  2   2       superscript     superscript   subscript  b  1   2    superscript   subscript  b  2   2    2      superscript   subscript  b  3   2    superscript   subscript  b  4   2       u_{1}^{2}+u_{2}^{2}=(b_{1}^{2}+b_{2}^{2})^{2}(b_{3}^{2}+b_{4}^{2})     See also   Brahmagupta–Fibonacci identity (sums of two squares)  Degen's eight-square identity  Pfister's sixteen-square identity  Latin square   References    External links   A Collection of Algebraic Identities  1 Lettre CXV from Euler to Goldbach   "  Category:Elementary algebra  Category:Elementary number theory  Category:Mathematical identities     Leonhard Euler: Life, Work and Legacy , R.E. Bradley and C.E. Sandifer (eds), Elsevier, 2007, p. 193 ↩  Mathematical Evolutions , A. Shenitzer and J. Stillwell (eds), Math. Assoc. America, 2002, p. 174 ↩  Pfister's Theorem on Sums of Squares, Keith Conrad, http://www.math.uconn.edu/~kconrad/blurbs/linmultialg/pfister.pdf ↩     