<html lang="en">
<head>
<meta charset="utf-8"/>
<title offset="1485">Chinese restaurant process</title>
<script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_SVG.js" type="text/javascript">
</script>
</head>
<body>
<h1>Chinese restaurant process</h1>
<hr/>
<dl>
<dd><em>For other uses, see <a href="Chinese_restaurant_(disambiguation)" title="wikilink">Chinese restaurant (disambiguation)</a>.</em>
</dd>
</dl>

<p>In <a href="probability_theory" title="wikilink">probability theory</a>, the <strong>Chinese restaurant process</strong> is a <a class="uri" href="discrete-time" title="wikilink">discrete-time</a> <a href="stochastic_process" title="wikilink">stochastic process</a>, analogous to seating customers at tables in a Chinese restaurant. Imagine a Chinese restaurant with an infinite number of circular tables, each with infinite capacity. Customer 1 is seated at an unoccupied table with probability 1. At time <em>n</em> + 1, a new customer chooses uniformly at random to sit at one of the following <em>n</em> + 1 places: directly to the left of one of the <em>n</em> customers already sitting at an occupied table, or at a new, unoccupied table.</p>

<p>At time <em>n</em>, the value of the process is a <a href="partition_of_a_set" title="wikilink">partition</a> of the set of <em>n</em> customers, where the tables are the blocks of the partition. Mathematicians are interested in the <a href="probability_distribution" title="wikilink">probability distribution</a> of this random partition.</p>

<p><a href="David_Aldous" title="wikilink">David J. Aldous</a> attributes the restaurant analogy to <a href="Jim_Pitman" title="wikilink">Jim Pitman</a> and <a href="Lester_Dubins" title="wikilink">Lester Dubins</a> in his 1983 book.<a class="footnoteRef" href="#fn1" id="fnref1"><sup>1</sup></a></p>
<h2 id="formal-definition">Formal definition</h2>

<p>At any positive-integer time <em>n</em>, the value of the process is a partition <em>B</em><sub><em>n</em></sub> of the set {1, 2, 3, ..., <em>n</em>}, whose probability distribution is determined as follows. At time <em>n</em> = 1, the trivial partition { {1} } is obtained with probability 1. At time <em>n</em> + 1 the element <em>n</em> + 1 is either:</p>
<ol>
<li>added to one of the blocks of the partition <em>B</em><sub><em>n</em></sub>, where each block is chosen with probability |<em>b</em>|/(<em>n</em> + 1) where |<em>b</em>| is the size of the block, or</li>
<li>added to the partition <em>B</em><sub><em>n</em></sub> as a new singleton block, with probability 1/(<em>n</em> + 1).</li>
</ol>

<p>The random partition so generated has some special properties. It is <em>exchangeable</em> in the sense that relabeling {1, ..., <em>n</em>} does not change the distribution of the partition, and it is <em>consistent</em> in the sense that the law of the partition of <em>n</em> − 1 obtained by removing the element <em>n</em> from the random partition at time <em>n</em> is the same as the law of the random partition at time <em>n</em> − 1.</p>

<p>The probability assigned to any particular partition (ignoring the order in which customers sit around any particular table) is</p>

<p>

<math display="block" id="Chinese_restaurant_process:0">
 <semantics>
  <mrow>
   <mrow>
    <mi>Pr</mi>
    <mrow>
     <mo stretchy="false">(</mo>
     <mrow>
      <msub>
       <mi>B</mi>
       <mi>n</mi>
      </msub>
      <mo>=</mo>
      <mi>B</mi>
     </mrow>
     <mo stretchy="false">)</mo>
    </mrow>
   </mrow>
   <mo>=</mo>
   <mfrac>
    <mrow>
     <msub>
      <mo largeop="true" symmetric="true">∏</mo>
      <mrow>
       <mi>b</mi>
       <mo>∈</mo>
       <mi>B</mi>
      </mrow>
     </msub>
     <mrow>
      <mrow>
       <mo stretchy="false">(</mo>
       <mrow>
        <mrow>
         <mo stretchy="false">|</mo>
         <mi>b</mi>
         <mo stretchy="false">|</mo>
        </mrow>
        <mo>-</mo>
        <mn>1</mn>
       </mrow>
       <mo stretchy="false">)</mo>
      </mrow>
      <mo lspace="0pt" rspace="3.5pt">!</mo>
     </mrow>
    </mrow>
    <mrow>
     <mi>n</mi>
     <mo lspace="0pt" rspace="3.5pt">!</mo>
    </mrow>
   </mfrac>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <ci>Pr</ci>
     <apply>
      <eq></eq>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>B</ci>
       <ci>n</ci>
      </apply>
      <ci>B</ci>
     </apply>
    </apply>
    <apply>
     <divide></divide>
     <apply>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <csymbol cd="latexml">product</csymbol>
       <apply>
        <in></in>
        <ci>b</ci>
        <ci>B</ci>
       </apply>
      </apply>
      <apply>
       <factorial></factorial>
       <apply>
        <minus></minus>
        <apply>
         <abs></abs>
         <ci>b</ci>
        </apply>
        <cn type="integer">1</cn>
       </apply>
      </apply>
     </apply>
     <apply>
      <factorial></factorial>
      <ci>n</ci>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \Pr(B_{n}=B)=\dfrac{\prod_{b\in B}(|b|-1)!}{n!}
  </annotation>
 </semantics>
</math>

</p>

<p>where <em>b</em> is a block in the partition <em>B</em> and |<em>b</em>| is the size (i.e. number of elements) of <em>b</em>.</p>
<h2 id="generalization">Generalization</h2>

<p>This construction can be generalized to a model with two parameters, <em>α</em> and <em>θ</em>,<a class="footnoteRef" href="#fn2" id="fnref2"><sup>2</sup></a><a class="footnoteRef" href="#fn3" id="fnref3"><sup>3</sup></a> commonly called the <em>discount</em> and <em>strength</em> (or <em>concentration</em>) parameters. At time <em>n</em> + 1, the next customer to arrive finds |<em>B</em>| occupied tables and decides to sit at an empty table with probability</p>

<p>

<math display="block" id="Chinese_restaurant_process:1">
 <semantics>
  <mrow>
   <mfrac>
    <mrow>
     <mi>θ</mi>
     <mo>+</mo>
     <mrow>
      <mrow>
       <mo stretchy="false">|</mo>
       <mi>B</mi>
       <mo stretchy="false">|</mo>
      </mrow>
      <mi>α</mi>
     </mrow>
    </mrow>
    <mrow>
     <mi>n</mi>
     <mo>+</mo>
     <mi>θ</mi>
    </mrow>
   </mfrac>
   <mo>,</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <divide></divide>
    <apply>
     <plus></plus>
     <ci>θ</ci>
     <apply>
      <times></times>
      <apply>
       <abs></abs>
       <ci>B</ci>
      </apply>
      <ci>α</ci>
     </apply>
    </apply>
    <apply>
     <plus></plus>
     <ci>n</ci>
     <ci>θ</ci>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \dfrac{\theta+|B|\alpha}{n+\theta},
  </annotation>
 </semantics>
</math>

</p>

<p>or at an occupied table <em>b</em> of size |<em>b</em>| with probability</p>

<p>

<math display="block" id="Chinese_restaurant_process:2">
 <semantics>
  <mrow>
   <mfrac>
    <mrow>
     <mrow>
      <mo stretchy="false">|</mo>
      <mi>b</mi>
      <mo stretchy="false">|</mo>
     </mrow>
     <mo>-</mo>
     <mi>α</mi>
    </mrow>
    <mrow>
     <mi>n</mi>
     <mo>+</mo>
     <mi>θ</mi>
    </mrow>
   </mfrac>
   <mo>.</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <divide></divide>
    <apply>
     <minus></minus>
     <apply>
      <abs></abs>
      <ci>b</ci>
     </apply>
     <ci>α</ci>
    </apply>
    <apply>
     <plus></plus>
     <ci>n</ci>
     <ci>θ</ci>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \dfrac{|b|-\alpha}{n+\theta}.
  </annotation>
 </semantics>
</math>

</p>

<p>In order for the construction to define a valid <a href="probability_measure" title="wikilink">probability measure</a> it is necessary to suppose that either <em>α</em>  −<em>α</em>.</p>

<p>Under this model the probability assigned to any particular partition <em>B</em> of <em>n</em>, in terms of the <a href="Pochhammer_k-symbol" title="wikilink">Pochhammer k-symbol</a>, is</p>

<p>

<math display="block" id="Chinese_restaurant_process:3">
 <semantics>
  <mrow>
   <mrow>
    <mi>Pr</mi>
    <mrow>
     <mo stretchy="false">(</mo>
     <mrow>
      <msub>
       <mi>B</mi>
       <mi>n</mi>
      </msub>
      <mo>=</mo>
      <mi>B</mi>
     </mrow>
     <mo stretchy="false">)</mo>
    </mrow>
   </mrow>
   <mo>=</mo>
   <mrow>
    <mfrac>
     <msub>
      <mrow>
       <mo stretchy="false">(</mo>
       <mrow>
        <mi>θ</mi>
        <mo>+</mo>
        <mi>α</mi>
       </mrow>
       <mo stretchy="false">)</mo>
      </mrow>
      <mrow>
       <mrow>
        <mrow>
         <mo stretchy="false">|</mo>
         <mi>B</mi>
         <mo stretchy="false">|</mo>
        </mrow>
        <mo>-</mo>
        <mn>1</mn>
       </mrow>
       <mo>,</mo>
       <mi>α</mi>
      </mrow>
     </msub>
     <msub>
      <mrow>
       <mo stretchy="false">(</mo>
       <mrow>
        <mi>θ</mi>
        <mo>+</mo>
        <mn>1</mn>
       </mrow>
       <mo stretchy="false">)</mo>
      </mrow>
      <mrow>
       <mrow>
        <mi>n</mi>
        <mo>-</mo>
        <mn>1</mn>
       </mrow>
       <mo>,</mo>
       <mn>1</mn>
      </mrow>
     </msub>
    </mfrac>
    <mrow>
     <munder>
      <mo largeop="true" movablelimits="false" symmetric="true">∏</mo>
      <mrow>
       <mi>b</mi>
       <mo>∈</mo>
       <mi>B</mi>
      </mrow>
     </munder>
     <msub>
      <mrow>
       <mo stretchy="false">(</mo>
       <mrow>
        <mn>1</mn>
        <mo>-</mo>
        <mi>α</mi>
       </mrow>
       <mo stretchy="false">)</mo>
      </mrow>
      <mrow>
       <mrow>
        <mrow>
         <mo stretchy="false">|</mo>
         <mi>b</mi>
         <mo stretchy="false">|</mo>
        </mrow>
        <mo>-</mo>
        <mn>1</mn>
       </mrow>
       <mo>,</mo>
       <mn>1</mn>
      </mrow>
     </msub>
    </mrow>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <ci>Pr</ci>
     <apply>
      <eq></eq>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>B</ci>
       <ci>n</ci>
      </apply>
      <ci>B</ci>
     </apply>
    </apply>
    <apply>
     <times></times>
     <apply>
      <divide></divide>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <apply>
        <plus></plus>
        <ci>θ</ci>
        <ci>α</ci>
       </apply>
       <list>
        <apply>
         <minus></minus>
         <apply>
          <abs></abs>
          <ci>B</ci>
         </apply>
         <cn type="integer">1</cn>
        </apply>
        <ci>α</ci>
       </list>
      </apply>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <apply>
        <plus></plus>
        <ci>θ</ci>
        <cn type="integer">1</cn>
       </apply>
       <list>
        <apply>
         <minus></minus>
         <ci>n</ci>
         <cn type="integer">1</cn>
        </apply>
        <cn type="integer">1</cn>
       </list>
      </apply>
     </apply>
     <apply>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <csymbol cd="latexml">product</csymbol>
       <apply>
        <in></in>
        <ci>b</ci>
        <ci>B</ci>
       </apply>
      </apply>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <apply>
        <minus></minus>
        <cn type="integer">1</cn>
        <ci>α</ci>
       </apply>
       <list>
        <apply>
         <minus></minus>
         <apply>
          <abs></abs>
          <ci>b</ci>
         </apply>
         <cn type="integer">1</cn>
        </apply>
        <cn type="integer">1</cn>
       </list>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \Pr(B_{n}=B)=\dfrac{(\theta+\alpha)_{|B|-1,\alpha}}{(\theta+1)_{n-1,1}}\prod_{%
b\in B}(1-\alpha)_{|b|-1,1}
  </annotation>
 </semantics>
</math>

</p>

<p>where, by convention, 

<math display="inline" id="Chinese_restaurant_process:4">
 <semantics>
  <mrow>
   <msub>
    <mrow>
     <mo stretchy="false">(</mo>
     <mi>a</mi>
     <mo stretchy="false">)</mo>
    </mrow>
    <mrow>
     <mn>0</mn>
     <mo>,</mo>
     <mi>c</mi>
    </mrow>
   </msub>
   <mo>=</mo>
   <mn>1</mn>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <csymbol cd="ambiguous">subscript</csymbol>
     <ci>a</ci>
     <list>
      <cn type="integer">0</cn>
      <ci>c</ci>
     </list>
    </apply>
    <cn type="integer">1</cn>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   (a)_{0,c}=1
  </annotation>
 </semantics>
</math>

, and for 

<math display="inline" id="Chinese_restaurant_process:5">
 <semantics>
  <mrow>
   <mi>b</mi>
   <mo>></mo>
   <mn>0</mn>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <gt></gt>
    <ci>b</ci>
    <cn type="integer">0</cn>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   b>0
  </annotation>
 </semantics>
</math>

</p>

<p>

<math display="block" id="Chinese_restaurant_process:6">
 <semantics>
  <mrow>
   <msub>
    <mrow>
     <mo stretchy="false">(</mo>
     <mi>a</mi>
     <mo stretchy="false">)</mo>
    </mrow>
    <mrow>
     <mi>b</mi>
     <mo>,</mo>
     <mi>c</mi>
    </mrow>
   </msub>
   <mo>=</mo>
   <mrow>
    <munderover>
     <mo largeop="true" movablelimits="false" symmetric="true">∏</mo>
     <mrow>
      <mi>i</mi>
      <mo>=</mo>
      <mn>0</mn>
     </mrow>
     <mrow>
      <mi>b</mi>
      <mo>-</mo>
      <mn>1</mn>
     </mrow>
    </munderover>
    <mrow>
     <mo stretchy="false">(</mo>
     <mrow>
      <mi>a</mi>
      <mo>+</mo>
      <mrow>
       <mi>i</mi>
       <mi>c</mi>
      </mrow>
     </mrow>
     <mo stretchy="false">)</mo>
    </mrow>
   </mrow>
   <mo>=</mo>
   <mrow>
    <mo>{</mo>
    <mtable displaystyle="true">
     <mtr>
      <mtd columnalign="left">
       <msup>
        <mi>a</mi>
        <mi>b</mi>
       </msup>
      </mtd>
      <mtd columnalign="left">
       <mrow>
        <mrow>
         <mrow>
          <mtext>if</mtext>
          <mi>c</mi>
         </mrow>
         <mo>=</mo>
         <mn>0</mn>
        </mrow>
        <mo>,</mo>
       </mrow>
      </mtd>
     </mtr>
     <mtr>
      <mtd columnalign="left">
       <mi></mi>
      </mtd>
      <mtd></mtd>
     </mtr>
     <mtr>
      <mtd columnalign="left">
       <mfrac>
        <mrow>
         <mpadded width="+1.7pt">
          <msup>
           <mi>c</mi>
           <mi>b</mi>
          </msup>
         </mpadded>
         <mi mathvariant="normal">Γ</mi>
         <mrow>
          <mo stretchy="false">(</mo>
          <mrow>
           <mrow>
            <mi>a</mi>
            <mo>/</mo>
            <mi>c</mi>
           </mrow>
           <mo>+</mo>
           <mi>b</mi>
          </mrow>
          <mo stretchy="false">)</mo>
         </mrow>
        </mrow>
        <mrow>
         <mi mathvariant="normal">Γ</mi>
         <mrow>
          <mo stretchy="false">(</mo>
          <mrow>
           <mi>a</mi>
           <mo>/</mo>
           <mi>c</mi>
          </mrow>
          <mo stretchy="false">)</mo>
         </mrow>
        </mrow>
       </mfrac>
      </mtd>
      <mtd columnalign="left">
       <mrow>
        <mtext>otherwise</mtext>
        <mo>.</mo>
       </mrow>
      </mtd>
     </mtr>
    </mtable>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <and></and>
    <apply>
     <eq></eq>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <ci>a</ci>
      <list>
       <ci>b</ci>
       <ci>c</ci>
      </list>
     </apply>
     <apply>
      <apply>
       <csymbol cd="ambiguous">superscript</csymbol>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <csymbol cd="latexml">product</csymbol>
        <apply>
         <eq></eq>
         <ci>i</ci>
         <cn type="integer">0</cn>
        </apply>
       </apply>
       <apply>
        <minus></minus>
        <ci>b</ci>
        <cn type="integer">1</cn>
       </apply>
      </apply>
      <apply>
       <plus></plus>
       <ci>a</ci>
       <apply>
        <times></times>
        <ci>i</ci>
        <ci>c</ci>
       </apply>
      </apply>
     </apply>
    </apply>
    <apply>
     <eq></eq>
     <share href="#.cmml">
     </share>
     <apply>
      <csymbol cd="latexml">cases</csymbol>
      <apply>
       <csymbol cd="ambiguous">superscript</csymbol>
       <ci>a</ci>
       <ci>b</ci>
      </apply>
      <apply>
       <eq></eq>
       <apply>
        <times></times>
        <mtext>if</mtext>
        <ci>c</ci>
       </apply>
       <cn type="integer">0</cn>
      </apply>
      <csymbol cd="latexml">absent</csymbol>
      <mtext>otherwise</mtext>
      <apply>
       <divide></divide>
       <apply>
        <times></times>
        <apply>
         <csymbol cd="ambiguous">superscript</csymbol>
         <ci>c</ci>
         <ci>b</ci>
        </apply>
        <ci>normal-Γ</ci>
        <apply>
         <plus></plus>
         <apply>
          <divide></divide>
          <ci>a</ci>
          <ci>c</ci>
         </apply>
         <ci>b</ci>
        </apply>
       </apply>
       <apply>
        <times></times>
        <ci>normal-Γ</ci>
        <apply>
         <divide></divide>
         <ci>a</ci>
         <ci>c</ci>
        </apply>
       </apply>
      </apply>
      <mtext>otherwise</mtext>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   (a)_{b,c}=\prod_{i=0}^{b-1}(a+ic)=\begin{cases}a^{b}&\text{if }c=0,\\
\\
\dfrac{c^{b}\,\Gamma(a/c+b)}{\Gamma(a/c)}&\text{otherwise}.\end{cases}
  </annotation>
 </semantics>
</math>

</p>

<p>Thus, for the case when 

<math display="inline" id="Chinese_restaurant_process:7">
 <semantics>
  <mrow>
   <mi>θ</mi>
   <mo>></mo>
   <mn>0</mn>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <gt></gt>
    <ci>θ</ci>
    <cn type="integer">0</cn>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \theta>0
  </annotation>
 </semantics>
</math>

 the partition probability can be expressed in terms of the <a href="Gamma_function" title="wikilink">Gamma function</a> as</p>

<p>

<math display="block" id="Chinese_restaurant_process:8">
 <semantics>
  <mrow>
   <mrow>
    <mrow>
     <mi>Pr</mi>
     <mrow>
      <mo stretchy="false">(</mo>
      <mrow>
       <msub>
        <mi>B</mi>
        <mi>n</mi>
       </msub>
       <mo>=</mo>
       <mi>B</mi>
      </mrow>
      <mo stretchy="false">)</mo>
     </mrow>
    </mrow>
    <mo>=</mo>
    <mrow>
     <mfrac>
      <mrow>
       <mi mathvariant="normal">Γ</mi>
       <mrow>
        <mo stretchy="false">(</mo>
        <mi>θ</mi>
        <mo stretchy="false">)</mo>
       </mrow>
      </mrow>
      <mrow>
       <mi mathvariant="normal">Γ</mi>
       <mrow>
        <mo stretchy="false">(</mo>
        <mrow>
         <mi>θ</mi>
         <mo>+</mo>
         <mi>n</mi>
        </mrow>
        <mo stretchy="false">)</mo>
       </mrow>
      </mrow>
     </mfrac>
     <mfrac>
      <mrow>
       <mpadded width="+1.7pt">
        <msup>
         <mi>α</mi>
         <mrow>
          <mo stretchy="false">|</mo>
          <mi>B</mi>
          <mo stretchy="false">|</mo>
         </mrow>
        </msup>
       </mpadded>
       <mi mathvariant="normal">Γ</mi>
       <mrow>
        <mo stretchy="false">(</mo>
        <mrow>
         <mrow>
          <mi>θ</mi>
          <mo>/</mo>
          <mi>α</mi>
         </mrow>
         <mo>+</mo>
         <mrow>
          <mo stretchy="false">|</mo>
          <mi>B</mi>
          <mo stretchy="false">|</mo>
         </mrow>
        </mrow>
        <mo stretchy="false">)</mo>
       </mrow>
      </mrow>
      <mrow>
       <mi mathvariant="normal">Γ</mi>
       <mrow>
        <mo stretchy="false">(</mo>
        <mrow>
         <mi>θ</mi>
         <mo>/</mo>
         <mi>α</mi>
        </mrow>
        <mo stretchy="false">)</mo>
       </mrow>
      </mrow>
     </mfrac>
     <mrow>
      <munder>
       <mo largeop="true" movablelimits="false" symmetric="true">∏</mo>
       <mrow>
        <mi>b</mi>
        <mo>∈</mo>
        <mi>B</mi>
       </mrow>
      </munder>
      <mfrac>
       <mrow>
        <mi mathvariant="normal">Γ</mi>
        <mrow>
         <mo stretchy="false">(</mo>
         <mrow>
          <mrow>
           <mo stretchy="false">|</mo>
           <mi>b</mi>
           <mo stretchy="false">|</mo>
          </mrow>
          <mo>-</mo>
          <mi>α</mi>
         </mrow>
         <mo stretchy="false">)</mo>
        </mrow>
       </mrow>
       <mrow>
        <mi mathvariant="normal">Γ</mi>
        <mrow>
         <mo stretchy="false">(</mo>
         <mrow>
          <mn>1</mn>
          <mo>-</mo>
          <mi>α</mi>
         </mrow>
         <mo stretchy="false">)</mo>
        </mrow>
       </mrow>
      </mfrac>
     </mrow>
    </mrow>
   </mrow>
   <mo>.</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <ci>Pr</ci>
     <apply>
      <eq></eq>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>B</ci>
       <ci>n</ci>
      </apply>
      <ci>B</ci>
     </apply>
    </apply>
    <apply>
     <times></times>
     <apply>
      <divide></divide>
      <apply>
       <times></times>
       <ci>normal-Γ</ci>
       <ci>θ</ci>
      </apply>
      <apply>
       <times></times>
       <ci>normal-Γ</ci>
       <apply>
        <plus></plus>
        <ci>θ</ci>
        <ci>n</ci>
       </apply>
      </apply>
     </apply>
     <apply>
      <divide></divide>
      <apply>
       <times></times>
       <apply>
        <csymbol cd="ambiguous">superscript</csymbol>
        <ci>α</ci>
        <apply>
         <abs></abs>
         <ci>B</ci>
        </apply>
       </apply>
       <ci>normal-Γ</ci>
       <apply>
        <plus></plus>
        <apply>
         <divide></divide>
         <ci>θ</ci>
         <ci>α</ci>
        </apply>
        <apply>
         <abs></abs>
         <ci>B</ci>
        </apply>
       </apply>
      </apply>
      <apply>
       <times></times>
       <ci>normal-Γ</ci>
       <apply>
        <divide></divide>
        <ci>θ</ci>
        <ci>α</ci>
       </apply>
      </apply>
     </apply>
     <apply>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <csymbol cd="latexml">product</csymbol>
       <apply>
        <in></in>
        <ci>b</ci>
        <ci>B</ci>
       </apply>
      </apply>
      <apply>
       <divide></divide>
       <apply>
        <times></times>
        <ci>normal-Γ</ci>
        <apply>
         <minus></minus>
         <apply>
          <abs></abs>
          <ci>b</ci>
         </apply>
         <ci>α</ci>
        </apply>
       </apply>
       <apply>
        <times></times>
        <ci>normal-Γ</ci>
        <apply>
         <minus></minus>
         <cn type="integer">1</cn>
         <ci>α</ci>
        </apply>
       </apply>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \Pr(B_{n}=B)=\dfrac{\Gamma(\theta)}{\Gamma(\theta+n)}\dfrac{\alpha^{|B|}\,%
\Gamma(\theta/\alpha+|B|)}{\Gamma(\theta/\alpha)}\prod_{b\in B}\dfrac{\Gamma(|%
b|-\alpha)}{\Gamma(1-\alpha)}.
  </annotation>
 </semantics>
</math>

</p>

<p>In the one-parameter case, where 

<math display="inline" id="Chinese_restaurant_process:9">
 <semantics>
  <mi>α</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>α</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \alpha
  </annotation>
 </semantics>
</math>

 is zero, this simplifies to</p>

<p>

<math display="block" id="Chinese_restaurant_process:10">
 <semantics>
  <mrow>
   <mrow>
    <mrow>
     <mi>Pr</mi>
     <mrow>
      <mo stretchy="false">(</mo>
      <mrow>
       <msub>
        <mi>B</mi>
        <mi>n</mi>
       </msub>
       <mo>=</mo>
       <mi>B</mi>
      </mrow>
      <mo stretchy="false">)</mo>
     </mrow>
    </mrow>
    <mo>=</mo>
    <mrow>
     <mfrac>
      <mrow>
       <mi mathvariant="normal">Γ</mi>
       <mrow>
        <mo stretchy="false">(</mo>
        <mi>θ</mi>
        <mo rspace="4.2pt" stretchy="false">)</mo>
       </mrow>
       <msup>
        <mi>θ</mi>
        <mrow>
         <mo stretchy="false">|</mo>
         <mi>B</mi>
         <mo stretchy="false">|</mo>
        </mrow>
       </msup>
      </mrow>
      <mrow>
       <mi mathvariant="normal">Γ</mi>
       <mrow>
        <mo stretchy="false">(</mo>
        <mrow>
         <mi>θ</mi>
         <mo>+</mo>
         <mi>n</mi>
        </mrow>
        <mo stretchy="false">)</mo>
       </mrow>
      </mrow>
     </mfrac>
     <mrow>
      <munder>
       <mo largeop="true" movablelimits="false" symmetric="true">∏</mo>
       <mrow>
        <mi>b</mi>
        <mo>∈</mo>
        <mi>B</mi>
       </mrow>
      </munder>
      <mrow>
       <mi mathvariant="normal">Γ</mi>
       <mrow>
        <mo stretchy="false">(</mo>
        <mrow>
         <mo stretchy="false">|</mo>
         <mi>b</mi>
         <mo stretchy="false">|</mo>
        </mrow>
        <mo stretchy="false">)</mo>
       </mrow>
      </mrow>
     </mrow>
    </mrow>
   </mrow>
   <mo>.</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <ci>Pr</ci>
     <apply>
      <eq></eq>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>B</ci>
       <ci>n</ci>
      </apply>
      <ci>B</ci>
     </apply>
    </apply>
    <apply>
     <times></times>
     <apply>
      <divide></divide>
      <apply>
       <times></times>
       <ci>normal-Γ</ci>
       <ci>θ</ci>
       <apply>
        <csymbol cd="ambiguous">superscript</csymbol>
        <ci>θ</ci>
        <apply>
         <abs></abs>
         <ci>B</ci>
        </apply>
       </apply>
      </apply>
      <apply>
       <times></times>
       <ci>normal-Γ</ci>
       <apply>
        <plus></plus>
        <ci>θ</ci>
        <ci>n</ci>
       </apply>
      </apply>
     </apply>
     <apply>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <csymbol cd="latexml">product</csymbol>
       <apply>
        <in></in>
        <ci>b</ci>
        <ci>B</ci>
       </apply>
      </apply>
      <apply>
       <times></times>
       <ci>normal-Γ</ci>
       <apply>
        <abs></abs>
        <ci>b</ci>
       </apply>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \Pr(B_{n}=B)=\dfrac{\Gamma(\theta)\,\theta^{|B|}}{\Gamma(\theta+n)}\prod_{b\in
B%
}\Gamma(|b|).
  </annotation>
 </semantics>
</math>

</p>

<p>Or, when 

<math display="inline" id="Chinese_restaurant_process:11">
 <semantics>
  <mi>θ</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>θ</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \theta
  </annotation>
 </semantics>
</math>

 is zero,</p>

<p>

<math display="block" id="Chinese_restaurant_process:12">
 <semantics>
  <mrow>
   <mrow>
    <mrow>
     <mi>Pr</mi>
     <mrow>
      <mo stretchy="false">(</mo>
      <mrow>
       <msub>
        <mi>B</mi>
        <mi>n</mi>
       </msub>
       <mo>=</mo>
       <mi>B</mi>
      </mrow>
      <mo stretchy="false">)</mo>
     </mrow>
    </mrow>
    <mo>=</mo>
    <mrow>
     <mfrac>
      <mrow>
       <mpadded width="+1.7pt">
        <msup>
         <mi>α</mi>
         <mrow>
          <mrow>
           <mo stretchy="false">|</mo>
           <mi>B</mi>
           <mo stretchy="false">|</mo>
          </mrow>
          <mo>-</mo>
          <mn>1</mn>
         </mrow>
        </msup>
       </mpadded>
       <mi mathvariant="normal">Γ</mi>
       <mrow>
        <mo stretchy="false">(</mo>
        <mrow>
         <mo stretchy="false">|</mo>
         <mi>B</mi>
         <mo stretchy="false">|</mo>
        </mrow>
        <mo stretchy="false">)</mo>
       </mrow>
      </mrow>
      <mrow>
       <mi mathvariant="normal">Γ</mi>
       <mrow>
        <mo stretchy="false">(</mo>
        <mi>n</mi>
        <mo stretchy="false">)</mo>
       </mrow>
      </mrow>
     </mfrac>
     <mrow>
      <munder>
       <mo largeop="true" movablelimits="false" symmetric="true">∏</mo>
       <mrow>
        <mi>b</mi>
        <mo>∈</mo>
        <mi>B</mi>
       </mrow>
      </munder>
      <mfrac>
       <mrow>
        <mi mathvariant="normal">Γ</mi>
        <mrow>
         <mo stretchy="false">(</mo>
         <mrow>
          <mrow>
           <mo stretchy="false">|</mo>
           <mi>b</mi>
           <mo stretchy="false">|</mo>
          </mrow>
          <mo>-</mo>
          <mi>α</mi>
         </mrow>
         <mo stretchy="false">)</mo>
        </mrow>
       </mrow>
       <mrow>
        <mi mathvariant="normal">Γ</mi>
        <mrow>
         <mo stretchy="false">(</mo>
         <mrow>
          <mn>1</mn>
          <mo>-</mo>
          <mi>α</mi>
         </mrow>
         <mo stretchy="false">)</mo>
        </mrow>
       </mrow>
      </mfrac>
     </mrow>
    </mrow>
   </mrow>
   <mo>.</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <ci>Pr</ci>
     <apply>
      <eq></eq>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>B</ci>
       <ci>n</ci>
      </apply>
      <ci>B</ci>
     </apply>
    </apply>
    <apply>
     <times></times>
     <apply>
      <divide></divide>
      <apply>
       <times></times>
       <apply>
        <csymbol cd="ambiguous">superscript</csymbol>
        <ci>α</ci>
        <apply>
         <minus></minus>
         <apply>
          <abs></abs>
          <ci>B</ci>
         </apply>
         <cn type="integer">1</cn>
        </apply>
       </apply>
       <ci>normal-Γ</ci>
       <apply>
        <abs></abs>
        <ci>B</ci>
       </apply>
      </apply>
      <apply>
       <times></times>
       <ci>normal-Γ</ci>
       <ci>n</ci>
      </apply>
     </apply>
     <apply>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <csymbol cd="latexml">product</csymbol>
       <apply>
        <in></in>
        <ci>b</ci>
        <ci>B</ci>
       </apply>
      </apply>
      <apply>
       <divide></divide>
       <apply>
        <times></times>
        <ci>normal-Γ</ci>
        <apply>
         <minus></minus>
         <apply>
          <abs></abs>
          <ci>b</ci>
         </apply>
         <ci>α</ci>
        </apply>
       </apply>
       <apply>
        <times></times>
        <ci>normal-Γ</ci>
        <apply>
         <minus></minus>
         <cn type="integer">1</cn>
         <ci>α</ci>
        </apply>
       </apply>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \Pr(B_{n}=B)=\dfrac{\alpha^{|B|-1}\,\Gamma(|B|)}{{\Gamma(n)}}\prod_{b\in B}%
\dfrac{\Gamma(|b|-\alpha)}{\Gamma(1-\alpha)}.
  </annotation>
 </semantics>
</math>

</p>

<p>As before, the probability assigned to any particular partition depends only on the block sizes, so as before the random partition is exchangeable in the sense described above. The consistency property still holds, as before, by construction.</p>

<p>If <em>α</em> = 0, the probability distribution of the random <a href="partition_of_an_integer" title="wikilink">partition of the integer</a> <em>n</em> thus generated is the <a href="Ewens_distribution" title="wikilink">Ewens distribution</a> with parameter θ, used in <a href="population_genetics" title="wikilink">population genetics</a> and the <a href="unified_neutral_theory_of_biodiversity" title="wikilink">unified neutral theory of biodiversity</a>.</p>
<h3 id="derivation">Derivation</h3>

<p>Here is one way to derive this partition probability. Let <em>C</em><sub><em>i</em></sub> be the random block into which the number <em>i</em> is added, for <em>i</em> = 1, 2, 3, ... . Then</p>

<p>

<math display="block" id="Chinese_restaurant_process:13">
 <semantics>
  <mrow>
   <mrow>
    <mi>Pr</mi>
    <mrow>
     <mo stretchy="false">(</mo>
     <mrow>
      <msub>
       <mi>C</mi>
       <mi>i</mi>
      </msub>
      <mo>=</mo>
      <mi>c</mi>
     </mrow>
     <mo stretchy="false">|</mo>
     <msub>
      <mi>C</mi>
      <mn>1</mn>
     </msub>
     <mo>,</mo>
     <mi mathvariant="normal">…</mi>
     <mo>,</mo>
     <msub>
      <mi>C</mi>
      <mrow>
       <mi>i</mi>
       <mo>-</mo>
       <mn>1</mn>
      </mrow>
     </msub>
     <mo stretchy="false">)</mo>
    </mrow>
   </mrow>
   <mo>=</mo>
   <mrow>
    <mo>{</mo>
    <mtable displaystyle="true">
     <mtr>
      <mtd columnalign="left">
       <mfrac>
        <mrow>
         <mi>θ</mi>
         <mo>+</mo>
         <mrow>
          <mrow>
           <mo stretchy="false">|</mo>
           <mi>B</mi>
           <mo stretchy="false">|</mo>
          </mrow>
          <mi>α</mi>
         </mrow>
        </mrow>
        <mrow>
         <mrow>
          <mi>θ</mi>
          <mo>+</mo>
          <mi>i</mi>
         </mrow>
         <mo>-</mo>
         <mn>1</mn>
        </mrow>
       </mfrac>
      </mtd>
      <mtd columnalign="left">
       <mrow>
        <mrow>
         <mrow>
          <mtext>if</mtext>
          <mi>c</mi>
         </mrow>
         <mo>∈</mo>
         <mtext>new block</mtext>
        </mrow>
        <mo>,</mo>
       </mrow>
      </mtd>
     </mtr>
     <mtr>
      <mtd columnalign="left">
       <mi></mi>
      </mtd>
      <mtd></mtd>
     </mtr>
     <mtr>
      <mtd columnalign="left">
       <mfrac>
        <mrow>
         <mrow>
          <mo stretchy="false">|</mo>
          <mi>b</mi>
          <mo stretchy="false">|</mo>
         </mrow>
         <mo>-</mo>
         <mi>α</mi>
        </mrow>
        <mrow>
         <mrow>
          <mi>θ</mi>
          <mo>+</mo>
          <mi>i</mi>
         </mrow>
         <mo>-</mo>
         <mn>1</mn>
        </mrow>
       </mfrac>
      </mtd>
      <mtd columnalign="left">
       <mrow>
        <mrow>
         <mrow>
          <mtext>if</mtext>
          <mi>c</mi>
         </mrow>
         <mo>∈</mo>
         <mi>b</mi>
        </mrow>
        <mo>;</mo>
       </mrow>
      </mtd>
     </mtr>
    </mtable>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <ci>Pr</ci>
     <apply>
      <eq></eq>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>C</ci>
       <ci>i</ci>
      </apply>
      <ci>c</ci>
     </apply>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <ci>C</ci>
      <cn type="integer">1</cn>
     </apply>
     <ci>normal-…</ci>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <ci>C</ci>
      <apply>
       <minus></minus>
       <ci>i</ci>
       <cn type="integer">1</cn>
      </apply>
     </apply>
    </apply>
    <apply>
     <csymbol cd="latexml">cases</csymbol>
     <apply>
      <divide></divide>
      <apply>
       <plus></plus>
       <ci>θ</ci>
       <apply>
        <times></times>
        <apply>
         <abs></abs>
         <ci>B</ci>
        </apply>
        <ci>α</ci>
       </apply>
      </apply>
      <apply>
       <minus></minus>
       <apply>
        <plus></plus>
        <ci>θ</ci>
        <ci>i</ci>
       </apply>
       <cn type="integer">1</cn>
      </apply>
     </apply>
     <apply>
      <in></in>
      <apply>
       <times></times>
       <mtext>if</mtext>
       <ci>c</ci>
      </apply>
      <mtext>new block</mtext>
     </apply>
     <csymbol cd="latexml">absent</csymbol>
     <mtext>otherwise</mtext>
     <apply>
      <divide></divide>
      <apply>
       <minus></minus>
       <apply>
        <abs></abs>
        <ci>b</ci>
       </apply>
       <ci>α</ci>
      </apply>
      <apply>
       <minus></minus>
       <apply>
        <plus></plus>
        <ci>θ</ci>
        <ci>i</ci>
       </apply>
       <cn type="integer">1</cn>
      </apply>
     </apply>
     <apply>
      <in></in>
      <apply>
       <times></times>
       <mtext>if</mtext>
       <ci>c</ci>
      </apply>
      <ci>b</ci>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \Pr(C_{i}=c|C_{1},\ldots,C_{i-1})=\begin{cases}\dfrac{\theta+|B|\alpha}{\theta%
+i-1}&\text{if }c\in\text{new block},\\
\\
\dfrac{|b|-\alpha}{\theta+i-1}&\text{if }c\in b;\end{cases}
  </annotation>
 </semantics>
</math>

</p>

<p>The probability that <em>B</em><sub><em>n</em></sub> is any particular partition of the set { 1, ..., <em>n</em> } is the product of these probabilities as <em>i</em> runs from 1 to <em>n</em>. Now consider the size of block <em>b</em>: it increases by 1 each time we add one element into it. When the last element in block <em>b</em> is to be added in, the block size is (|<em>b</em>| − 1). For example, consider this sequence of choices: (generate a new block <em>b</em>)(join <em>b</em>)(join <em>b</em>)(join <em>b</em>). In the end, block <em>b</em> has 4 elements and the product of the numerators in the above equation gets <em>θ</em> · 1 · 2 · 3. Following this logic, we obtain Pr(<em>B</em><sub><em>n</em></sub> = <em>B</em>) as above.</p>
<h3 id="expected-number-of-tables">Expected number of tables</h3>

<p>For the one parameter case, with <em>α</em> = 0 and 0 n seated customers, is<a class="footnoteRef" href="#fn4" id="fnref4"><sup>4</sup></a></p>

<p>

<math display="inline" id="Chinese_restaurant_process:14">
 <semantics>
  <mrow>
   <mrow>
    <mstyle displaystyle="true">
     <munderover>
      <mo largeop="true" movablelimits="false" symmetric="true">∑</mo>
      <mrow>
       <mi>k</mi>
       <mo>=</mo>
       <mn>1</mn>
      </mrow>
      <mi>n</mi>
     </munderover>
    </mstyle>
    <mstyle displaystyle="true">
     <mfrac>
      <mi>θ</mi>
      <mrow>
       <mrow>
        <mi>θ</mi>
        <mo>+</mo>
        <mi>k</mi>
       </mrow>
       <mo>-</mo>
       <mn>1</mn>
      </mrow>
     </mfrac>
    </mstyle>
   </mrow>
   <mo>=</mo>
   <mrow>
    <mi>θ</mi>
    <mo>⋅</mo>
    <mrow>
     <mo stretchy="false">(</mo>
     <mrow>
      <mrow>
       <mi mathvariant="normal">Ψ</mi>
       <mrow>
        <mo stretchy="false">(</mo>
        <mrow>
         <mi>θ</mi>
         <mo>+</mo>
         <mi>n</mi>
        </mrow>
        <mo stretchy="false">)</mo>
       </mrow>
      </mrow>
      <mo>-</mo>
      <mrow>
       <mi mathvariant="normal">Ψ</mi>
       <mrow>
        <mo stretchy="false">(</mo>
        <mi>θ</mi>
        <mo stretchy="false">)</mo>
       </mrow>
      </mrow>
     </mrow>
     <mo stretchy="false">)</mo>
    </mrow>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <apply>
      <csymbol cd="ambiguous">superscript</csymbol>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <sum></sum>
       <apply>
        <eq></eq>
        <ci>k</ci>
        <cn type="integer">1</cn>
       </apply>
      </apply>
      <ci>n</ci>
     </apply>
     <apply>
      <divide></divide>
      <ci>θ</ci>
      <apply>
       <minus></minus>
       <apply>
        <plus></plus>
        <ci>θ</ci>
        <ci>k</ci>
       </apply>
       <cn type="integer">1</cn>
      </apply>
     </apply>
    </apply>
    <apply>
     <ci>normal-⋅</ci>
     <ci>θ</ci>
     <apply>
      <minus></minus>
      <apply>
       <times></times>
       <ci>normal-Ψ</ci>
       <apply>
        <plus></plus>
        <ci>θ</ci>
        <ci>n</ci>
       </apply>
      </apply>
      <apply>
       <times></times>
       <ci>normal-Ψ</ci>
       <ci>θ</ci>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \displaystyle\sum_{k=1}^{n}\frac{\theta}{\theta+k-1}=\theta\cdot(\Psi(\theta+n%
)-\Psi(\theta))
  </annotation>
 </semantics>
</math>


</p>

<p>where 

<math display="inline" id="Chinese_restaurant_process:15">
 <semantics>
  <mrow>
   <mi mathvariant="normal">Ψ</mi>
   <mrow>
    <mo stretchy="false">(</mo>
    <mi>θ</mi>
    <mo stretchy="false">)</mo>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <times></times>
    <ci>normal-Ψ</ci>
    <ci>θ</ci>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \Psi(\theta)
  </annotation>
 </semantics>
</math>

 is the <a href="digamma_function" title="wikilink">digamma function</a>. In the general case (<em>α</em> &gt; 0) the expected number of occupied tables is<a class="footnoteRef" href="#fn5" id="fnref5"><sup>5</sup></a></p>

<p>

<math display="inline" id="Chinese_restaurant_process:16">
 <semantics>
  <mrow>
   <mrow>
    <mstyle displaystyle="true">
     <mfrac>
      <mrow>
       <mi mathvariant="normal">Γ</mi>
       <mrow>
        <mo stretchy="false">(</mo>
        <mrow>
         <mi>θ</mi>
         <mo>+</mo>
         <mi>n</mi>
         <mo>+</mo>
         <mi>α</mi>
        </mrow>
        <mo stretchy="false">)</mo>
       </mrow>
       <mi mathvariant="normal">Γ</mi>
       <mrow>
        <mo stretchy="false">(</mo>
        <mrow>
         <mi>θ</mi>
         <mo>+</mo>
         <mn>1</mn>
        </mrow>
        <mo stretchy="false">)</mo>
       </mrow>
      </mrow>
      <mrow>
       <mi>α</mi>
       <mi mathvariant="normal">Γ</mi>
       <mrow>
        <mo stretchy="false">(</mo>
        <mrow>
         <mi>θ</mi>
         <mo>+</mo>
         <mi>n</mi>
        </mrow>
        <mo stretchy="false">)</mo>
       </mrow>
       <mi mathvariant="normal">Γ</mi>
       <mrow>
        <mo stretchy="false">(</mo>
        <mrow>
         <mi>θ</mi>
         <mo>+</mo>
         <mi>α</mi>
        </mrow>
        <mo stretchy="false">)</mo>
       </mrow>
      </mrow>
     </mfrac>
    </mstyle>
    <mo>-</mo>
    <mstyle displaystyle="true">
     <mfrac>
      <mi>θ</mi>
      <mi>α</mi>
     </mfrac>
    </mstyle>
   </mrow>
   <mo>.</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <minus></minus>
    <apply>
     <divide></divide>
     <apply>
      <times></times>
      <ci>normal-Γ</ci>
      <apply>
       <plus></plus>
       <ci>θ</ci>
       <ci>n</ci>
       <ci>α</ci>
      </apply>
      <ci>normal-Γ</ci>
      <apply>
       <plus></plus>
       <ci>θ</ci>
       <cn type="integer">1</cn>
      </apply>
     </apply>
     <apply>
      <times></times>
      <ci>α</ci>
      <ci>normal-Γ</ci>
      <apply>
       <plus></plus>
       <ci>θ</ci>
       <ci>n</ci>
      </apply>
      <ci>normal-Γ</ci>
      <apply>
       <plus></plus>
       <ci>θ</ci>
       <ci>α</ci>
      </apply>
     </apply>
    </apply>
    <apply>
     <divide></divide>
     <ci>θ</ci>
     <ci>α</ci>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \displaystyle\frac{\Gamma(\theta+n+\alpha)\Gamma(\theta+1)}{\alpha\Gamma(%
\theta+n)\Gamma(\theta+\alpha)}-\frac{\theta}{\alpha}.
  </annotation>
 </semantics>
</math>


</p>
<h3 id="the-indian-buffet-process">The Indian buffet process</h3>

<p>It is possible to adapt the model such that each data point is no longer uniquely associated with a class (i.e. we are no longer constructing a partition), but may be associated with any combination of the classes. This strains the restaurant-tables analogy and so is instead likened to a process in which a series of diners samples from some subset of an infinite selection of dishes on offer at a buffet. The probability that a particular diner samples a particular dish is proportional to the popularity of the dish among diners so far, and in addition the diner may sample from the untested dishes. This has been named the <strong>Indian buffet process</strong> and can be used to infer latent features in data.<a class="footnoteRef" href="#fn6" id="fnref6"><sup>6</sup></a></p>
<h2 id="applications">Applications</h2>

<p>The Chinese restaurant process is closely connected to <a href="Dirichlet_process" title="wikilink">Dirichlet processes</a> and <a href="Pólya_urn_model" title="wikilink">Pólya's urn scheme</a>, and therefore useful in applications of <a class="uri" href="nonparametric" title="wikilink">nonparametric</a> <a href="Bayesian_methods" title="wikilink">Bayesian methods</a> including <a href="Bayesian_statistics" title="wikilink">Bayesian statistics</a>. The Generalized Chinese Restaurant Process is closely related to <a href="Pitman–Yor_process" title="wikilink">Pitman–Yor process</a>. These processes have been used in many applications, including modeling text, clustering biological microarray data,<a class="footnoteRef" href="#fn7" id="fnref7"><sup>7</sup></a> <a href="unified_neutral_theory_of_biodiversity" title="wikilink">biodiversity modelling</a> and detecting objects in images .</p>
<h2 id="references">References</h2>
<references>
</references>
<h2 id="external-links">External links</h2>
<ul>
<li><a href="https://www.ee.washington.edu/techsite/papers/documents/UWEETR-2010-0006.pdf">Introduction to the Dirichlet Distribution and Related Processes by Frigyik, Kapila and Gupta</a></li>
</ul>
<ul>
<li>A talk by <a href="Michael_I._Jordan" title="wikilink">Michael I. Jordan</a> on the CRP:
<ul>
<li><a class="uri" href="http://videolectures.net/icml05_jordan_dpcrp/">http://videolectures.net/icml05_jordan_dpcrp/</a></li>
</ul></li>
</ul>

<p>"</p>

<p><a href="Category:Stochastic_processes" title="wikilink">Category:Stochastic processes</a> <a href="Category:Non-parametric_Bayesian_methods" title="wikilink">Category:Non-parametric Bayesian methods</a></p>
<section class="footnotes">
<hr/>
<ol>
<li id="fn1"><a href="#fnref1">↩</a></li>
<li id="fn2"><a href="#fnref2">↩</a></li>
<li id="fn3"><a href="#fnref3">↩</a></li>
<li id="fn4">Xinhua Zhang, "A Very Gentle Note on the Construction of Dirichlet Process", September 2008, The Australian National University, Canberra. Online: <a class="uri" href="http://users.cecs.anu.edu.au/~xzhang/pubDoc/notes/dirichlet_process.pdf">http://users.cecs.anu.edu.au/~xzhang/pubDoc/notes/dirichlet_process.pdf</a> <a href="#fnref4">↩</a></li>
<li id="fn5"></li>
<li id="fn6">Griffiths, T.L. and <a href="Zoubin_Ghahramani" title="wikilink">Ghahramani, Z.</a> (2005) <a href="http://learning.eng.cam.ac.uk/zoubin/papers/ibptr.pdf">Infinite Latent Feature Models and the Indian Buffet Process</a>. Gatsby Unit Technical Report GCNU-TR-2005-001.<a href="#fnref6">↩</a></li>
<li id="fn7">Qin, Zhaohui S. "Clustering microarray gene expression data using weighted Chinese restaurant process." Bioinformatics 22.16 (2006): 1988-1997.<a href="#fnref7">↩</a></li>
</ol>
</section>
</body>
</html>
