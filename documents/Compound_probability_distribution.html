<html lang="en">
<head>
<meta charset="utf-8"/>
<title offset="333">Compound probability distribution</title>
<script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_SVG.js" type="text/javascript">
</script>
</head>
<body>
<h1>Compound probability distribution</h1>
<hr/>

<p>In <a href="probability_and_statistics" title="wikilink">probability and statistics</a>, a <strong>compound probability distribution</strong> is the <a href="probability_distribution" title="wikilink">probability distribution</a> that results from assuming that a <a href="random_variable" title="wikilink">random variable</a> is distributed according to some parametrized distribution, with the parameters of that distribution being assumed to be themselves random variables. The compound distribution is the result of <a href="marginal_distribution" title="wikilink">marginalizing</a> over the intermediate random variables that represent the parameters of the initial distribution.</p>

<p>An important type of compound distribution occurs when the parameter being marginalized over represents the number of random variables in a summation of random variables.</p>
<h2 id="definition">Definition</h2>

<p>A <strong>compound probability distribution</strong> is the probability distribution that results from assuming that a random variable is distributed according to some parametrized distribution 

<math display="inline" id="Compound_probability_distribution:0">
 <semantics>
  <mi>F</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>F</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   F
  </annotation>
 </semantics>
</math>

 with an unknown parameter <em>Œ∏</em> or parameter vector <strong>Œ∏</strong> that is distributed according to some other distribution <em>G</em> with <a class="uri" href="hyperparameter" title="wikilink">hyperparameter</a> <em>Œ±</em>, and then determining the distribution that results from <a href="marginal_distribution" title="wikilink">marginalizing</a> over <em>G</em> (i.e. integrating the unknown parameter(s) out). The resulting distribution <em>H</em> is said to be the distribution that results from compounding <em>F</em> with <em>G</em>. Expressed mathematically for a scalar data point with scalar parameter and hyperparameter:</p>

<p>

<math display="block" id="Compound_probability_distribution:1">
 <semantics>
  <mrow>
   <msub>
    <mi>p</mi>
    <mi>H</mi>
   </msub>
   <mrow>
    <mo stretchy="false">(</mo>
    <mi>x</mi>
    <mo stretchy="false">|</mo>
    <mi>Œ±</mi>
    <mo stretchy="false">)</mo>
   </mrow>
   <mo>=</mo>
   <munder>
    <mo largeop="true" movablelimits="false" symmetric="true">‚à´</mo>
    <mi>Œ∏</mi>
   </munder>
   <msub>
    <mi>p</mi>
    <mi>F</mi>
   </msub>
   <mrow>
    <mo stretchy="false">(</mo>
    <mi>x</mi>
    <mo stretchy="false">|</mo>
    <mi>Œ∏</mi>
    <mo rspace="4.2pt" stretchy="false">)</mo>
   </mrow>
   <msub>
    <mi>p</mi>
    <mi>G</mi>
   </msub>
   <mrow>
    <mo stretchy="false">(</mo>
    <mi>Œ∏</mi>
    <mo stretchy="false">|</mo>
    <mi>Œ±</mi>
    <mo stretchy="false">)</mo>
   </mrow>
   <mo rspace="0.8pt">d</mo>
   <mi>Œ∏</mi>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <cerror>
    <csymbol cd="ambiguous">fragments</csymbol>
    <apply>
     <csymbol cd="ambiguous">subscript</csymbol>
     <ci>p</ci>
     <ci>H</ci>
    </apply>
    <cerror>
     <csymbol cd="ambiguous">fragments</csymbol>
     <ci>normal-(</ci>
     <csymbol cd="unknown">x</csymbol>
     <ci>normal-|</ci>
     <csymbol cd="unknown">Œ±</csymbol>
     <ci>normal-)</ci>
    </cerror>
    <eq></eq>
    <apply>
     <csymbol cd="ambiguous">subscript</csymbol>
     <int></int>
     <ci>Œ∏</ci>
    </apply>
    <apply>
     <csymbol cd="ambiguous">subscript</csymbol>
     <ci>p</ci>
     <ci>F</ci>
    </apply>
    <cerror>
     <csymbol cd="ambiguous">fragments</csymbol>
     <ci>normal-(</ci>
     <csymbol cd="unknown">x</csymbol>
     <ci>normal-|</ci>
     <csymbol cd="unknown">Œ∏</csymbol>
     <ci>normal-)</ci>
    </cerror>
    <apply>
     <csymbol cd="ambiguous">subscript</csymbol>
     <ci>p</ci>
     <ci>G</ci>
    </apply>
    <cerror>
     <csymbol cd="ambiguous">fragments</csymbol>
     <ci>normal-(</ci>
     <csymbol cd="unknown">Œ∏</csymbol>
     <ci>normal-|</ci>
     <csymbol cd="unknown">Œ±</csymbol>
     <ci>normal-)</ci>
    </cerror>
    <ci>normal-d</ci>
    <csymbol cd="unknown">Œ∏</csymbol>
   </cerror>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   p_{H}(x|\alpha)={\displaystyle\int\limits_{\theta}p_{F}(x|\theta)\,p_{G}(%
\theta|\alpha)\operatorname{d}\!\theta}
  </annotation>
 </semantics>
</math>

</p>

<p>The same formula applies if some or all of the variables are vectors. Here is the case for a vector data point with vector parameters and hyperparameters:</p>

<p>

<math display="block" id="Compound_probability_distribution:2">
 <semantics>
  <mrow>
   <msub>
    <mi>p</mi>
    <mi>H</mi>
   </msub>
   <mrow>
    <mo stretchy="false">(</mo>
    <mi>ùê±</mi>
    <mo stretchy="false">|</mo>
    <mi>ùú∂</mi>
    <mo stretchy="false">)</mo>
   </mrow>
   <mo>=</mo>
   <munder>
    <mo largeop="true" movablelimits="false" symmetric="true">‚à´</mo>
    <mi>ùúΩ</mi>
   </munder>
   <msub>
    <mi>p</mi>
    <mi>F</mi>
   </msub>
   <mrow>
    <mo stretchy="false">(</mo>
    <mi>ùê±</mi>
    <mo stretchy="false">|</mo>
    <mi>ùúΩ</mi>
    <mo rspace="4.2pt" stretchy="false">)</mo>
   </mrow>
   <msub>
    <mi>p</mi>
    <mi>G</mi>
   </msub>
   <mrow>
    <mo stretchy="false">(</mo>
    <mi>ùúΩ</mi>
    <mo stretchy="false">|</mo>
    <mi>ùú∂</mi>
    <mo stretchy="false">)</mo>
   </mrow>
   <mo rspace="0.8pt">d</mo>
   <mi>ùúΩ</mi>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <cerror>
    <csymbol cd="ambiguous">fragments</csymbol>
    <apply>
     <csymbol cd="ambiguous">subscript</csymbol>
     <ci>p</ci>
     <ci>H</ci>
    </apply>
    <cerror>
     <csymbol cd="ambiguous">fragments</csymbol>
     <ci>normal-(</ci>
     <csymbol cd="unknown">x</csymbol>
     <ci>normal-|</ci>
     <csymbol cd="unknown">Œ±</csymbol>
     <ci>normal-)</ci>
    </cerror>
    <eq></eq>
    <apply>
     <csymbol cd="ambiguous">subscript</csymbol>
     <int></int>
     <ci>ùúΩ</ci>
    </apply>
    <apply>
     <csymbol cd="ambiguous">subscript</csymbol>
     <ci>p</ci>
     <ci>F</ci>
    </apply>
    <cerror>
     <csymbol cd="ambiguous">fragments</csymbol>
     <ci>normal-(</ci>
     <csymbol cd="unknown">x</csymbol>
     <ci>normal-|</ci>
     <csymbol cd="unknown">Œ∏</csymbol>
     <ci>normal-)</ci>
    </cerror>
    <apply>
     <csymbol cd="ambiguous">subscript</csymbol>
     <ci>p</ci>
     <ci>G</ci>
    </apply>
    <cerror>
     <csymbol cd="ambiguous">fragments</csymbol>
     <ci>normal-(</ci>
     <csymbol cd="unknown">Œ∏</csymbol>
     <ci>normal-|</ci>
     <csymbol cd="unknown">Œ±</csymbol>
     <ci>normal-)</ci>
    </cerror>
    <ci>normal-d</ci>
    <csymbol cd="unknown">Œ∏</csymbol>
   </cerror>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   p_{H}(\mathbf{x}|\boldsymbol{\alpha})={\displaystyle\int\limits_{\boldsymbol{%
\theta}}p_{F}(\mathbf{x}|\boldsymbol{\theta})\,p_{G}(\boldsymbol{\theta}|%
\boldsymbol{\alpha})\operatorname{d}\!\boldsymbol{\theta}}
  </annotation>
 </semantics>
</math>

</p>

<p>A compound distribution 

<math display="inline" id="Compound_probability_distribution:3">
 <semantics>
  <mi>H</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>H</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   H
  </annotation>
 </semantics>
</math>

 resembles in many ways the original distribution 

<math display="inline" id="Compound_probability_distribution:4">
 <semantics>
  <mi>F</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>F</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   F
  </annotation>
 </semantics>
</math>

 that generated it, but typically has greater <a class="uri" href="variance" title="wikilink">variance</a>, and often <a href="heavy_tail" title="wikilink">heavy tails</a> as well. The <a href="support_(mathematics)" title="wikilink">support</a> of 

<math display="inline" id="Compound_probability_distribution:5">
 <semantics>
  <mi>H</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>H</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   H
  </annotation>
 </semantics>
</math>

 is the same as the support of the 

<math display="inline" id="Compound_probability_distribution:6">
 <semantics>
  <mi>F</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>F</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   F
  </annotation>
 </semantics>
</math>

, and often the shape is broadly similar as well. The parameters of 

<math display="inline" id="Compound_probability_distribution:7">
 <semantics>
  <mi>H</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>H</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   H
  </annotation>
 </semantics>
</math>

 include the parameters of 

<math display="inline" id="Compound_probability_distribution:8">
 <semantics>
  <mi>G</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>G</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   G
  </annotation>
 </semantics>
</math>

 and any parameters of 

<math display="inline" id="Compound_probability_distribution:9">
 <semantics>
  <mi>F</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>F</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   F
  </annotation>
 </semantics>
</math>

 that are not marginalized out.</p>
<h2 id="examples">Examples</h2>

<p>Compounding a <a href="normal_distribution" title="wikilink">normal distribution</a> with <a class="uri" href="variance" title="wikilink">variance</a> distributed according to an <a href="inverse_gamma_distribution" title="wikilink">inverse gamma distribution</a> (or equivalently, with <a href="precision_(statistics)" title="wikilink">precision</a> distributed as a <a href="gamma_distribution" title="wikilink">gamma distribution</a>) yields a non-standardized <a href="Student's_t-distribution" title="wikilink">Student's t-distribution</a>. This distribution has the same symmetrical shape as a normal distribution with the same central point, but has greater variance and <a href="heavy_tail" title="wikilink">heavy tails</a> (in fact, specifically <a href="fat_tail" title="wikilink">fat tails</a>).</p>

<p>Compounding a <a href="binomial_distribution" title="wikilink">binomial distribution</a> with probability of success distributed according to a <a href="beta_distribution" title="wikilink">beta distribution</a> yields a <a href="beta-binomial_distribution" title="wikilink">beta-binomial distribution</a>. This distribution is <a href="discrete_distribution" title="wikilink">discrete</a> just as the <a href="binomial_distribution" title="wikilink">binomial distribution</a> is, with support over integers between 0 and <em>n</em> (the number of trials in the base binomial distribution). There are three parameters, a parameter 

<math display="inline" id="Compound_probability_distribution:10">
 <semantics>
  <mi>n</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>n</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   n
  </annotation>
 </semantics>
</math>

 (number of samples) from the binomial distribution and <a href="shape_parameter" title="wikilink">shape parameters</a> 

<math display="inline" id="Compound_probability_distribution:11">
 <semantics>
  <mi>Œ±</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>Œ±</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \alpha
  </annotation>
 </semantics>
</math>

 and 

<math display="inline" id="Compound_probability_distribution:12">
 <semantics>
  <mi>Œ≤</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>Œ≤</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \beta
  </annotation>
 </semantics>
</math>

 from the beta distribution. The shape is the same as a binomial distribution when 

<math display="inline" id="Compound_probability_distribution:13">
 <semantics>
  <mi>Œ±</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>Œ±</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \alpha
  </annotation>
 </semantics>
</math>

 and 

<math display="inline" id="Compound_probability_distribution:14">
 <semantics>
  <mi>Œ≤</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>Œ≤</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \beta
  </annotation>
 </semantics>
</math>

 are high. (This makes sense because it indicates very high certainty that the prior probability is quite near a specific location. The limit, with all mass at a specific point, is the same as having no prior and just specifying the probability as a parameter, as in the plain, non-compounded binomial distribution.) When 

<math display="inline" id="Compound_probability_distribution:15">
 <semantics>
  <mi>Œ±</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>Œ±</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \alpha
  </annotation>
 </semantics>
</math>

 and 

<math display="inline" id="Compound_probability_distribution:16">
 <semantics>
  <mi>Œ≤</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>Œ≤</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \beta
  </annotation>
 </semantics>
</math>

 are quite low, however, the shape becomes closer and closer to the shape of the <a href="beta_distribution" title="wikilink">beta distribution</a>.</p>

<p>Other examples:</p>
<ul>
<li>Compounding a <a href="Gaussian_distribution" title="wikilink">Gaussian distribution</a> with <a class="uri" href="mean" title="wikilink">mean</a> distributed according to another <a href="Gaussian_distribution" title="wikilink">Gaussian distribution</a> yields a <a href="Gaussian_distribution" title="wikilink">Gaussian distribution</a>.</li>
<li>Compounding a <a href="Gaussian_distribution" title="wikilink">Gaussian distribution</a> with <a class="uri" href="mean" title="wikilink">mean</a> distributed according to a shifted <a href="exponential_distribution" title="wikilink">exponential distribution</a> yields an <a href="exponentially_modified_Gaussian_distribution" title="wikilink">exponentially modified Gaussian distribution</a></li>
<li>Compounding a <a href="Gaussian_distribution" title="wikilink">Gaussian distribution</a> with variance distributed according to an <a href="exponential_distribution" title="wikilink">exponential distribution</a> whose rate parameter is itself distributed according to a <a href="gamma_distribution" title="wikilink">gamma distribution</a> yields a <a href="Normal-exponential-gamma_distribution" title="wikilink">Normal-exponential-gamma distribution</a>. (This involves two compounding stages.)</li>
<li>Compounding a <a href="multinomial_distribution" title="wikilink">multinomial distribution</a> with probability vector distributed according to a <a href="Dirichlet_distribution" title="wikilink">Dirichlet distribution</a> yields a <a href="Dirichlet-multinomial_distribution" title="wikilink">Dirichlet-multinomial distribution</a>.</li>
<li>Compounding a <a href="Poisson_distribution" title="wikilink">Poisson distribution</a> with rate parameter distributed according to a <a href="gamma_distribution" title="wikilink">gamma distribution</a> yields a <a href="negative_binomial_distribution" title="wikilink">negative binomial distribution</a>.<a class="footnoteRef" href="#fn1" id="fnref1"><sup>1</sup></a></li>
<li>Compounding a <a href="Poisson_distribution" title="wikilink">Poisson distribution</a> with a probability distributed according to a <a href="Bernoulli_distribution" title="wikilink">Bernoulli distribution</a> or a 1-trial <a href="Binomial_distribution" title="wikilink">Binomial distribution</a> yields a <a href="Zero-inflated_model" title="wikilink">Zero-Inflated Poisson distribution</a>.</li>
<li>Compounding a <a href="gamma_distribution" title="wikilink">gamma distribution</a> with inverse scale parameter distributed according to another <a href="gamma_distribution" title="wikilink">gamma distribution</a> yields a three-parameter <a href="Beta_prime_distribution#Compound_gamma_distribution" title="wikilink">beta prime distribution</a>.<a class="footnoteRef" href="#fn2" id="fnref2"><sup>2</sup></a></li>
<li>Compounding an <a href="exponential_distribution" title="wikilink">exponential distribution</a> with parameter distributed according to an <a href="inverse_gamma_distribution" title="wikilink">inverse gamma distribution</a> yields a <a href="pareto_distribution" title="wikilink">pareto distribution</a>.</li>
</ul>
<h2 id="application-in-bayesian-inference">Application in Bayesian inference</h2>

<p>In <a href="Bayesian_inference" title="wikilink">Bayesian inference</a>, compound distributions arise when, in the notation above, <em>F</em> represents the distribution of future observations and <em>G</em> is the <a href="posterior_distribution" title="wikilink">posterior distribution</a> of the parameters of <em>F</em>, given the information in a set of observed data. This gives a <a href="posterior_predictive_distribution" title="wikilink">posterior predictive distribution</a>. Correspondingly, for the <a href="prior_predictive_distribution" title="wikilink">prior predictive distribution</a>,<em>F</em> is the distribution of a new data point while <em>G</em> is the <a href="prior_distribution" title="wikilink">prior distribution</a> of the parameters.</p>

<p>Another example is in <a href="collapsed_Gibbs_sampling" title="wikilink">collapsed Gibbs sampling</a>, where "collapsing" a variable means marginalizing it out, and typically <a href="prior_distribution" title="wikilink">prior</a> parameters are collapsed out.</p>
<h2 id="in-exponential-families">In exponential families</h2>

<p>Compound distributions derived from <a href="exponential_family" title="wikilink">exponential family</a> distributions often have a closed form. See the article on the <a href="posterior_predictive_distribution" title="wikilink">posterior predictive distribution</a> for more information.</p>
<h2 id="random-number-of-terms-in-a-summation">Random number of terms in a summation</h2>

<p>A related but slightly different concept of "compound" occurs when a random variable is constructed from a number of underling random variables, and where that number is itself a random variable. In one formulation of this, the compounding takes places over a distribution resulting from the convolution of <em>N</em> underlying distributions, in which <em>N</em> is itself treated as a random variable. The <a href="compound_Poisson_distribution" title="wikilink">compound Poisson distribution</a> results from considering a set of <a href="independent_identically-distributed_random_variables" title="wikilink">independent identically-distributed random variables</a> distributed according to a given distribution and asking what the distribution of their sum is, if the number of variables is itself an unknown random variable 

<math display="inline" id="Compound_probability_distribution:17">
 <semantics>
  <mi>N</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>N</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   N
  </annotation>
 </semantics>
</math>

 distributed according to a <a href="Poisson_distribution" title="wikilink">Poisson distribution</a> and independent of the variables being summed. In this case the random variable <em>N</em> is marginalized out much like Œ∏ above is marginalized out.</p>

<p>More general cases of this type have been considered. <a class="footnoteRef" href="#fn3" id="fnref3"><sup>3</sup></a></p>
<h2 id="references">References</h2>

<p>"</p>

<p><a href="Category:Probability_distributions" title="wikilink">Category:Probability distributions</a> <a href="Category:Compound_distributions" title="wikilink">Category:Compound distributions</a> <a href="Category:Theory_of_probability_distributions" title="wikilink">Category:Theory of probability distributions</a></p>
<section class="footnotes">
<hr/>
<ol>
<li id="fn1"><a href="#fnref1">‚Ü©</a></li>
<li id="fn2"><a href="#fnref2">‚Ü©</a></li>
<li id="fn3"><a href="#fnref3">‚Ü©</a></li>
</ol>
</section>
</body>
</html>
