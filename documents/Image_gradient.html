<html lang="en">
<head>
<meta charset="utf-8"/>
<title offset="1620">Image gradient</title>
<script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_SVG.js" type="text/javascript">
</script>
</head>
<body>
<h1>Image gradient</h1>
<hr/>

<p> An <strong>image gradient</strong> is a directional change in the intensity or color in an image. Image gradients may be used to extract information from images.</p>

<p>In <a href="graphics_software" title="wikilink">graphics software</a> for <a href="digital_image_editing" title="wikilink">digital image editing</a>, the term <strong>gradient</strong> or <a href="color_gradient" title="wikilink">color gradient</a> is used for a gradual blend of <a class="uri" href="color" title="wikilink">color</a> which can be considered as an even <a href="wiktionary:gradation" title="wikilink">gradation</a> from low to high values, as used from white to black in the images to the right. Another name for this is <em>color progression</em>.</p>

<p>Mathematically, the <em>gradient</em> of a two-variable function (here the image intensity function) at each image point is a 2D <a href="vector_(geometric)" title="wikilink">vector</a> with the components given by the <a href="derivative" title="wikilink">derivatives</a> in the horizontal and vertical directions. At each image point, the gradient vector points in the direction of largest possible intensity increase, and the length of the gradient vector corresponds to the rate of change in that direction.</p>

<p>Since the intensity function of a digital image is only known at discrete points, derivatives of this function cannot be defined unless we assume that there is an underlying <a href="continuous_function" title="wikilink">continuous</a> intensity function which has been sampled at the image points. With some additional assumptions, the derivative of the continuous intensity function can be computed as a function on the sampled intensity function, i.e., the digital image. Approximations of these derivative functions can be defined at varying degrees of accuracy. The most common way to approximate the image gradient is to <a href="convolution" title="wikilink">convolve</a> an image with a kernel, such as the <a href="Sobel_operator" title="wikilink">Sobel operator</a> or <a href="Prewitt_operator" title="wikilink">Prewitt operator</a>.</p>

<p>The gradient of the image is one of the fundamental building blocks in <a href="image_processing" title="wikilink">image processing</a>. For example the <a href="Canny_edge_detector" title="wikilink">Canny edge detector</a> uses image gradient for <a href="edge_detection" title="wikilink">edge detection</a>.</p>

<p>Image gradients are often utilized in <a class="uri" href="maps" title="wikilink">maps</a> and other visual representations of <a class="uri" href="data" title="wikilink">data</a> in order to convey additional information. <a href="Geographic_information_system" title="wikilink">GIS</a> tools use color progressions to indicate <a class="uri" href="elevation" title="wikilink">elevation</a> and <a href="population_density" title="wikilink">population density</a>, among others.</p>
<h2 id="computer-vision">Computer vision</h2>
<figure><b>(Figure)</b>
<figcaption>On the left, an intensity image of a cat. In the center, a gradient image in the x direction measuring horizontal change in intensity. On the right, a gradient image in the y direction measuring vertical change in intensity. Gray pixels have a small gradient; black or white pixels have a large gradient.</figcaption>
</figure>

<p>Image gradients can be used to extract information from images. <strong>Gradient images</strong> are created from the original image (generally by convolving with a filter, one of the simplest being the <a href="Sobel_filter" title="wikilink">Sobel filter</a>) for this purpose. Each pixel of a gradient image measures the change in intensity of that same point in the original image, in a given direction. To get the full range of direction, gradient images in the x and y directions are computed.</p>

<p>One of the most common uses is in edge detection. After gradient images have been computed, pixels with large gradient values become possible edge pixels. The pixels with the largest gradient values in the direction of the gradient become edge pixels, and edges may be traced in the direction perpendicular to the gradient direction. One example of an edge detection algorithm that uses gradients is the <a href="Canny_edge_detector" title="wikilink">Canny edge detector</a>.</p>

<p>Image gradients can also be used for robust feature and texture matching. Different lighting or camera properties can cause two images of the same scene to have drastically different pixel values. This can cause matching algorithms to fail to match very similar or identical features. One way to solve this is to compute texture or feature signatures based on gradient images computed from the original images. These gradients are less susceptible to lighting and camera changes, so matching errors are reduced.</p>
<h2 id="math">Math</h2>

<p>The gradient of an image is given by the formula :</p>

<p>

<math display="block" id="Image_gradient:0">
 <semantics>
  <mrow>
   <mrow>
    <mo>∇</mo>
    <mi>f</mi>
   </mrow>
   <mo>=</mo>
   <mrow>
    <mrow>
     <mfrac>
      <mrow>
       <mo>∂</mo>
       <mi>f</mi>
      </mrow>
      <mrow>
       <mo>∂</mo>
       <mi>x</mi>
      </mrow>
     </mfrac>
     <mover accent="true">
      <mi>x</mi>
      <mo stretchy="false">^</mo>
     </mover>
    </mrow>
    <mo>+</mo>
    <mrow>
     <mfrac>
      <mrow>
       <mo>∂</mo>
       <mi>f</mi>
      </mrow>
      <mrow>
       <mo>∂</mo>
       <mi>y</mi>
      </mrow>
     </mfrac>
     <mover accent="true">
      <mi>y</mi>
      <mo stretchy="false">^</mo>
     </mover>
    </mrow>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <ci>normal-∇</ci>
     <ci>f</ci>
    </apply>
    <apply>
     <plus></plus>
     <apply>
      <times></times>
      <apply>
       <divide></divide>
       <apply>
        <partialdiff></partialdiff>
        <ci>f</ci>
       </apply>
       <apply>
        <partialdiff></partialdiff>
        <ci>x</ci>
       </apply>
      </apply>
      <apply>
       <ci>normal-^</ci>
       <ci>x</ci>
      </apply>
     </apply>
     <apply>
      <times></times>
      <apply>
       <divide></divide>
       <apply>
        <partialdiff></partialdiff>
        <ci>f</ci>
       </apply>
       <apply>
        <partialdiff></partialdiff>
        <ci>y</ci>
       </apply>
      </apply>
      <apply>
       <ci>normal-^</ci>
       <ci>y</ci>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \nabla f=\frac{\partial f}{\partial x}\hat{x}+\frac{\partial f}{\partial y}%
\hat{y}
  </annotation>
 </semantics>
</math>

,</p>

<p>where :</p>

<p>

<math display="block" id="Image_gradient:1">
 <semantics>
  <mstyle displaystyle="false">
   <mfrac>
    <mrow>
     <mo>∂</mo>
     <mi>f</mi>
    </mrow>
    <mrow>
     <mo>∂</mo>
     <mi>x</mi>
    </mrow>
   </mfrac>
  </mstyle>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <divide></divide>
    <apply>
     <partialdiff></partialdiff>
     <ci>f</ci>
    </apply>
    <apply>
     <partialdiff></partialdiff>
     <ci>x</ci>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \textstyle\frac{\partial f}{\partial x}
  </annotation>
 </semantics>
</math>

 is the gradient in the x direction</p>

<p>

<math display="block" id="Image_gradient:2">
 <semantics>
  <mstyle displaystyle="false">
   <mfrac>
    <mrow>
     <mo>∂</mo>
     <mi>f</mi>
    </mrow>
    <mrow>
     <mo>∂</mo>
     <mi>y</mi>
    </mrow>
   </mfrac>
  </mstyle>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <divide></divide>
    <apply>
     <partialdiff></partialdiff>
     <ci>f</ci>
    </apply>
    <apply>
     <partialdiff></partialdiff>
     <ci>y</ci>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \textstyle\frac{\partial f}{\partial y}
  </annotation>
 </semantics>
</math>

 is the gradient in the y direction.</p>

<p>The <strong>gradient direction</strong> can be calculated by the formula :</p>

<p>

<math display="block" id="Image_gradient:3">
 <semantics>
  <mrow>
   <mi>θ</mi>
   <mo>=</mo>
   <mrow>
    <mo>atan2</mo>
    <mrow>
     <mo>(</mo>
     <mfrac>
      <mrow>
       <mo>∂</mo>
       <mi>f</mi>
      </mrow>
      <mrow>
       <mo>∂</mo>
       <mi>y</mi>
      </mrow>
     </mfrac>
     <mo>,</mo>
     <mfrac>
      <mrow>
       <mo>∂</mo>
       <mi>f</mi>
      </mrow>
      <mrow>
       <mo>∂</mo>
       <mi>x</mi>
      </mrow>
     </mfrac>
     <mo>)</mo>
    </mrow>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <ci>θ</ci>
    <apply>
     <ci>atan2</ci>
     <apply>
      <divide></divide>
      <apply>
       <partialdiff></partialdiff>
       <ci>f</ci>
      </apply>
      <apply>
       <partialdiff></partialdiff>
       <ci>y</ci>
      </apply>
     </apply>
     <apply>
      <divide></divide>
      <apply>
       <partialdiff></partialdiff>
       <ci>f</ci>
      </apply>
      <apply>
       <partialdiff></partialdiff>
       <ci>x</ci>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \theta=\operatorname{atan2}\left(\frac{\partial f}{\partial y},\frac{\partial f%
}{\partial x}\right)
  </annotation>
 </semantics>
</math>

.</p>

<p>An example of a gradient filter to use is </p>
<table>
<tbody>
<tr class="odd">
<td style="text-align: left;">
<p>-1</p></td>
</tr>
<tr class="even">
<td style="text-align: left;">
<p>1</p></td>
</tr>
</tbody>
</table>

<p>However this will shift the image by half a pixel. The following filter</p>
<table>
<tbody>
<tr class="odd">
<td style="text-align: left;">
<p>-1</p></td>
</tr>
<tr class="even">
<td style="text-align: left;">
<p>0</p></td>
</tr>
<tr class="odd">
<td style="text-align: left;">
<p>1</p></td>
</tr>
</tbody>
</table>

<p>is more commonly used and does not shift the image</p>
<h2 id="see-also">See also</h2>
<ul>
<li><a href="Gradient_Domain_Image_Processing" title="wikilink">Gradient Domain Image Processing</a></li>
<li><a href="Color_gradient" title="wikilink">Color gradient</a></li>
<li><a href="Color_banding" title="wikilink">Color banding</a></li>
<li><a class="uri" href="Posterization" title="wikilink">Posterization</a></li>
<li><a href="Image_Derivatives" title="wikilink">Image derivatives</a></li>
</ul>
<h2 id="references">References</h2>
<h2 id="external-links">External links</h2>
<ul>
<li><a href="http://reference.wolfram.com/mathematica/ref/GradientFilter.html">GradientFilter</a> function</li>
</ul>

<p><a href="de:Gradient_(Grafik)" title="wikilink">de:Gradient (Grafik)</a> <a class="uri" href="fr:Gradient" title="wikilink">fr:Gradient</a> <a class="uri" href="ja:グラデーション" title="wikilink">ja:グラデーション</a> <a class="uri" href="no:Forløpning" title="wikilink">no:Forløpning</a> <a href="pl:Gradient_(grafika)" title="wikilink">pl:Gradient (grafika)</a> <a class="uri" href="pt:Degradê" title="wikilink">pt:Degradê</a> <a href="ru:Градиент_(компьютерная_графика)" title="wikilink">ru:Градиент (компьютерная графика)</a>"</p>

<p><a href="Category:Computer_graphics" title="wikilink">Category:Computer graphics</a> <a href="Category:Image_processing" title="wikilink">Category:Image processing</a></p>
</body>
</html>
