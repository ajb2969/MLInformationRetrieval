<html lang="en">
<head>
<meta charset="utf-8"/>
<title offset="615">Bilevel optimization</title>
<script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_SVG.js" type="text/javascript">
</script>
</head>
<body>
<h1>Bilevel optimization</h1>
<hr/>

<p><strong>Bilevel optimization</strong> is a special kind of <a class="uri" href="optimization" title="wikilink">optimization</a> where one problem is embedded (nested) within another. The outer optimization task is commonly referred to as the upper-level optimization task, and the inner optimization task is commonly referred to as the lower-level optimization task. These problems involve two kinds of variables, referred to as the upper-level variables and the lower-level variables.</p>
<h2 id="mathematical-formulation-of-the-problem">Mathematical formulation of the problem</h2>

<p>A general formulation of bilevel optimization problem can be written as follows:</p>

<p>

<math display="inline" id="Bilevel_optimization:0">
 <semantics>
  <mrow>
   <mrow>
    <mpadded width="+5.6pt">
     <munder>
      <mi>min</mi>
      <mrow>
       <mrow>
        <mi>x</mi>
        <mo>∈</mo>
        <mi>X</mi>
       </mrow>
       <mo>,</mo>
       <mrow>
        <mi>y</mi>
        <mo>∈</mo>
        <mi>Y</mi>
       </mrow>
      </mrow>
     </munder>
    </mpadded>
    <mi>F</mi>
   </mrow>
   <mrow>
    <mo stretchy="false">(</mo>
    <mi>x</mi>
    <mo>,</mo>
    <mi>y</mi>
    <mo stretchy="false">)</mo>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <times></times>
    <apply>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <min></min>
      <apply>
       <csymbol cd="ambiguous">formulae-sequence</csymbol>
       <apply>
        <in></in>
        <ci>x</ci>
        <ci>X</ci>
       </apply>
       <apply>
        <in></in>
        <ci>y</ci>
        <ci>Y</ci>
       </apply>
      </apply>
     </apply>
     <ci>F</ci>
    </apply>
    <interval closure="open">
     <ci>x</ci>
     <ci>y</ci>
    </interval>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \min\limits_{x\in X,y\in Y}\;\;F(x,y)
  </annotation>
 </semantics>
</math>

</p>

<p>subject to: 

<math display="inline" id="Bilevel_optimization:1">
 <semantics>
  <mrow>
   <mrow>
    <msub>
     <mi>G</mi>
     <mi>i</mi>
    </msub>
    <mrow>
     <mo stretchy="false">(</mo>
     <mi>x</mi>
     <mo>,</mo>
     <mi>y</mi>
     <mo stretchy="false">)</mo>
    </mrow>
   </mrow>
   <mo>≤</mo>
   <mn>0</mn>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <leq></leq>
    <apply>
     <times></times>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <ci>G</ci>
      <ci>i</ci>
     </apply>
     <interval closure="open">
      <ci>x</ci>
      <ci>y</ci>
     </interval>
    </apply>
    <cn type="integer">0</cn>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   G_{i}(x,y)\leq 0
  </annotation>
 </semantics>
</math>

, for 

<math display="inline" id="Bilevel_optimization:2">
 <semantics>
  <mrow>
   <mi>i</mi>
   <mo>∈</mo>
   <mrow>
    <mo stretchy="false">{</mo>
    <mn>1</mn>
    <mo>,</mo>
    <mn>2</mn>
    <mo>,</mo>
    <mi mathvariant="normal">…</mi>
    <mo>,</mo>
    <mi>I</mi>
    <mo stretchy="false">}</mo>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <in></in>
    <ci>i</ci>
    <set>
     <cn type="integer">1</cn>
     <cn type="integer">2</cn>
     <ci>normal-…</ci>
     <ci>I</ci>
    </set>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   i\in\{1,2,\ldots,I\}
  </annotation>
 </semantics>
</math>

;</p>

<p>

<math display="inline" id="Bilevel_optimization:3">
 <semantics>
  <mrow>
   <mi>y</mi>
   <mo>∈</mo>
   <mrow>
    <mi>arg</mi>
    <mrow>
     <munder>
      <mi>min</mi>
      <mrow>
       <mi>z</mi>
       <mo>∈</mo>
       <mi>Y</mi>
      </mrow>
     </munder>
     <mrow>
      <mo stretchy="false">{</mo>
      <mrow>
       <mrow>
        <mi>f</mi>
        <mrow>
         <mo stretchy="false">(</mo>
         <mi>x</mi>
         <mo>,</mo>
         <mi>z</mi>
         <mo stretchy="false">)</mo>
        </mrow>
       </mrow>
       <mo>:</mo>
       <mrow>
        <mrow>
         <mrow>
          <msub>
           <mi>g</mi>
           <mi>j</mi>
          </msub>
          <mrow>
           <mo stretchy="false">(</mo>
           <mi>x</mi>
           <mo>,</mo>
           <mi>z</mi>
           <mo stretchy="false">)</mo>
          </mrow>
         </mrow>
         <mo>≤</mo>
         <mn>0</mn>
        </mrow>
        <mo>,</mo>
        <mrow>
         <mi>j</mi>
         <mo>∈</mo>
         <mrow>
          <mo stretchy="false">{</mo>
          <mn>1</mn>
          <mo>,</mo>
          <mn>2</mn>
          <mo>,</mo>
          <mi mathvariant="normal">…</mi>
          <mo>,</mo>
          <mi>J</mi>
          <mo stretchy="false">}</mo>
         </mrow>
        </mrow>
       </mrow>
      </mrow>
      <mo stretchy="false">}</mo>
     </mrow>
    </mrow>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <in></in>
    <ci>y</ci>
    <apply>
     <arg></arg>
     <apply>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <min></min>
       <apply>
        <in></in>
        <ci>z</ci>
        <ci>Y</ci>
       </apply>
      </apply>
      <apply>
       <ci>normal-:</ci>
       <apply>
        <times></times>
        <ci>f</ci>
        <interval closure="open">
         <ci>x</ci>
         <ci>z</ci>
        </interval>
       </apply>
       <apply>
        <csymbol cd="ambiguous">formulae-sequence</csymbol>
        <apply>
         <leq></leq>
         <apply>
          <times></times>
          <apply>
           <csymbol cd="ambiguous">subscript</csymbol>
           <ci>g</ci>
           <ci>j</ci>
          </apply>
          <interval closure="open">
           <ci>x</ci>
           <ci>z</ci>
          </interval>
         </apply>
         <cn type="integer">0</cn>
        </apply>
        <apply>
         <in></in>
         <ci>j</ci>
         <set>
          <cn type="integer">1</cn>
          <cn type="integer">2</cn>
          <ci>normal-…</ci>
          <ci>J</ci>
         </set>
        </apply>
       </apply>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   y\in\arg\min\limits_{z\in Y}\{f(x,z):g_{j}(x,z)\leq 0,j\in\{1,2,\ldots,J\}\}
  </annotation>
 </semantics>
</math>

</p>

<p>where</p>

<p>

<math display="block" id="Bilevel_optimization:4">
 <semantics>
  <mrow>
   <mrow>
    <mi>F</mi>
    <mo>,</mo>
    <mi>f</mi>
   </mrow>
   <mo>:</mo>
   <mrow>
    <mrow>
     <msup>
      <mi>R</mi>
      <msub>
       <mi>n</mi>
       <mi>x</mi>
      </msub>
     </msup>
     <mo>×</mo>
     <msup>
      <mi>R</mi>
      <msub>
       <mi>n</mi>
       <mi>y</mi>
      </msub>
     </msup>
    </mrow>
    <mo>→</mo>
    <mi>R</mi>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <ci>normal-:</ci>
    <list>
     <ci>F</ci>
     <ci>f</ci>
    </list>
    <apply>
     <ci>normal-→</ci>
     <apply>
      <times></times>
      <apply>
       <csymbol cd="ambiguous">superscript</csymbol>
       <ci>R</ci>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>n</ci>
        <ci>x</ci>
       </apply>
      </apply>
      <apply>
       <csymbol cd="ambiguous">superscript</csymbol>
       <ci>R</ci>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>n</ci>
        <ci>y</ci>
       </apply>
      </apply>
     </apply>
     <ci>R</ci>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   F,f:R^{n_{x}}\times R^{n_{y}}\to R
  </annotation>
 </semantics>
</math>

</p>

<p>

<math display="block" id="Bilevel_optimization:5">
 <semantics>
  <mrow>
   <mrow>
    <msub>
     <mi>G</mi>
     <mi>i</mi>
    </msub>
    <mo>,</mo>
    <msub>
     <mi>g</mi>
     <mi>j</mi>
    </msub>
   </mrow>
   <mo>:</mo>
   <mrow>
    <mrow>
     <msup>
      <mi>R</mi>
      <msub>
       <mi>n</mi>
       <mi>x</mi>
      </msub>
     </msup>
     <mo>×</mo>
     <msup>
      <mi>R</mi>
      <msub>
       <mi>n</mi>
       <mi>y</mi>
      </msub>
     </msup>
    </mrow>
    <mo>→</mo>
    <mi>R</mi>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <ci>normal-:</ci>
    <list>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <ci>G</ci>
      <ci>i</ci>
     </apply>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <ci>g</ci>
      <ci>j</ci>
     </apply>
    </list>
    <apply>
     <ci>normal-→</ci>
     <apply>
      <times></times>
      <apply>
       <csymbol cd="ambiguous">superscript</csymbol>
       <ci>R</ci>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>n</ci>
        <ci>x</ci>
       </apply>
      </apply>
      <apply>
       <csymbol cd="ambiguous">superscript</csymbol>
       <ci>R</ci>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>n</ci>
        <ci>y</ci>
       </apply>
      </apply>
     </apply>
     <ci>R</ci>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   G_{i},g_{j}:R^{n_{x}}\times R^{n_{y}}\to R
  </annotation>
 </semantics>
</math>

</p>

<p>

<math display="block" id="Bilevel_optimization:6">
 <semantics>
  <mrow>
   <mi>X</mi>
   <mo>⊆</mo>
   <msup>
    <mi>R</mi>
    <msub>
     <mi>n</mi>
     <mi>x</mi>
    </msub>
   </msup>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <subset></subset>
    <ci>X</ci>
    <apply>
     <csymbol cd="ambiguous">superscript</csymbol>
     <ci>R</ci>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <ci>n</ci>
      <ci>x</ci>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   X\subseteq R^{n_{x}}
  </annotation>
 </semantics>
</math>

</p>

<p>

<math display="block" id="Bilevel_optimization:7">
 <semantics>
  <mrow>
   <mrow>
    <mi>Y</mi>
    <mo>⊆</mo>
    <msup>
     <mi>R</mi>
     <msub>
      <mi>n</mi>
      <mi>y</mi>
     </msub>
    </msup>
   </mrow>
   <mo>.</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <subset></subset>
    <ci>Y</ci>
    <apply>
     <csymbol cd="ambiguous">superscript</csymbol>
     <ci>R</ci>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <ci>n</ci>
      <ci>y</ci>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   Y\subseteq R^{n_{y}}.
  </annotation>
 </semantics>
</math>

</p>

<p>In the above formulation, 

<math display="inline" id="Bilevel_optimization:8">
 <semantics>
  <mi>F</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>F</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   F
  </annotation>
 </semantics>
</math>

 represents the upper-level objective function and 

<math display="inline" id="Bilevel_optimization:9">
 <semantics>
  <mi>f</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>f</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   f
  </annotation>
 </semantics>
</math>

 represents the lower-level objective function. Similarly 

<math display="inline" id="Bilevel_optimization:10">
 <semantics>
  <mi>x</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>x</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   x
  </annotation>
 </semantics>
</math>

 represents the upper-level decision vector and 

<math display="inline" id="Bilevel_optimization:11">
 <semantics>
  <mi>y</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>y</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   y
  </annotation>
 </semantics>
</math>

 represents the lower-level decision vector. 

<math display="inline" id="Bilevel_optimization:12">
 <semantics>
  <msub>
   <mi>G</mi>
   <mi>i</mi>
  </msub>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <csymbol cd="ambiguous">subscript</csymbol>
    <ci>G</ci>
    <ci>i</ci>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   G_{i}
  </annotation>
 </semantics>
</math>

 and 

<math display="inline" id="Bilevel_optimization:13">
 <semantics>
  <msub>
   <mi>g</mi>
   <mi>j</mi>
  </msub>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <csymbol cd="ambiguous">subscript</csymbol>
    <ci>g</ci>
    <ci>j</ci>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   g_{j}
  </annotation>
 </semantics>
</math>

 represent the inequality constraint functions at the upper and lower levels respectively. Equality constraints may also be present in a bilevel program, but they have been omitted for brevity.</p>
<h2 id="stackelberg-games"><a class="uri" href="Stackelberg" title="wikilink">Stackelberg</a> Games</h2>

<p>Bilevel optimization was first realized in the field of game theory by a German economist <a href="Heinrich_Freiherr_von_Stackelberg" title="wikilink">Heinrich Freiherr von Stackelberg</a> who published Market Structure and Equilibrium (Marktform und Gleichgewicht) in 1934 that described this hierarchical problem. The strategic game described in his book came to be known as Stackelberg game that consists of a leader and a follower. The leader is commonly referred as a Stackelberg leader and the follower is commonly referred as a Stackelberg follower. In a Stackelberg game, the players of the game compete with each other, such that the leader makes the first move, and then the follower reacts optimally to the leader's action. This kind of a hierarchical game is asymmetric in nature, where the leader and the follower can not be interchanged. The leader knows ex ante that the follower observes its actions before responding in an optimal manner. Therefore, if the leader wants to optimize its objective, then it needs to anticipate the optimal response of the follower. In this setting, the leader's optimization problem contains a nested optimization task that corresponds to the follower's optimization problem. In the Stackelberg games, the upper level optimization problem is commonly referred as the leader's problem and the lower level optimization problem is commonly referred as the follower's problem.</p>
<h2 id="applications">Applications</h2>

<p>Bilevel optimization problems are commonly found in a number of real-world problems. This includes problems in the domain of <a class="uri" href="transportation" title="wikilink">transportation</a>, <a class="uri" href="economics" title="wikilink">economics</a>, <a href="decision_science" title="wikilink">decision science</a>, <a class="uri" href="business" title="wikilink">business</a>, <a class="uri" href="engineering" title="wikilink">engineering</a>, <a href="environmental_economics" title="wikilink">environmental economics</a> etc. Some of the practical bilevel problems studied in the literature are briefly discussed.<a class="footnoteRef" href="#fn1" id="fnref1"><sup>1</sup></a></p>
<h3 id="toll-setting-problem">Toll setting problem</h3>

<p>In the field of transportation, bilevel optimization commonly appears in the toll-setting problem. Consider a network of highways that is operated by the government. The government wants to maximize its revenues by choosing the optimal toll setting for the highways. However, the government can maximize its revenues only by taking the highway users' problem into account. For any given tax structure the highway users solve their own optimization problem, where they minimize their traveling costs by deciding between utilizing the highways or an alternative route. Under these circumstances, the government's problem needs to be formulated as a bilevel optimization problem. The upper level consists of the governments objectives and constraints, and the lower level consists of the highway users' objectives and constraints for a given tax structure. It is noteworthy that the government will be able to identify the revenue generated by a particular tax structure only by solving the lower level problem that determines to what extent the highways are used.</p>
<h3 id="structural-optimization">Structural optimization</h3>

<p>Structural optimization problems consist of two levels of optimization task and are commonly referred as mathematical programming problems with equilibrium constraints (<a href="Mathematical_programming_with_equilibrium_constraints" title="wikilink">MPEC</a>). The upper level objective in such problems may involve cost minimization or weight minimization subject to bounds on displacements, stresses and contact forces. The decision variables at the upper level usually are shape of the structure, choice of materials, amount of material etc. However, for any given set of upper level variables, the state variables (displacement, stresses and contact forces) can only be figured out by solving the potential energy minimization problem that appears as an equilibrium satisfaction constraint or lower level minimization task to the upper level problem.</p>
<h3 id="defense-applications">Defense applications</h3>

<p>Bilevel optimization has a number of applications in defense, like <a href="strategic_offensive" title="wikilink">strategic offensive</a> and defensive force structure design, strategic bomber force structure, and allocation of tactical aircraft to missions. The offensive entity in this case may be considered a leader and the defensive entity in this case may be considered a follower. If the leader wants to maximize the damage caused to the opponent, then it can only be achieved if the leader takes the reactions of the follower into account. A rational follower will always react optimally to the leaders offensive. Therefore, the leader's problem appears as an upper level optimization task, and the optimal response of the follower to the leader's actions is determined by solving the lower level optimization task.</p>
<h2 id="solution-methodologies">Solution methodologies</h2>
<h2 id="evolutionary-bilevel-optimization">Evolutionary bilevel optimization</h2>

<p>For complex bilevel problems, classical methods fail due to difficulties like <a class="uri" href="non-linearity" title="wikilink">non-linearity</a>, <a href="discrete_group" title="wikilink">discreteness</a>, non-<a class="uri" href="differentiability" title="wikilink">differentiability</a>, non-<a href="convex_set" title="wikilink">convexity</a> etc. In such situations, evolutionary methods, though computationally demanding, could be an alternative tool to offset some of these difficulties and lead to an approximate optimal solution.</p>
<h2 id="multi-objective-bilevel-optimization">Multi-objective bilevel optimization</h2>

<p>A bilevel optimization problem can be generalized to a multi-objective bilevel optimization problem with multiple objectives at one or both levels. A general multi-objective bilevel optimization problem can be formulated as follows:</p>

<p>

<math display="inline" id="Bilevel_optimization:14">
 <semantics>
  <mrow>
   <mrow>
    <mrow>
     <mpadded width="+5.6pt">
      <munder>
       <mi>min</mi>
       <mrow>
        <mrow>
         <mi>x</mi>
         <mo>∈</mo>
         <mi>X</mi>
        </mrow>
        <mo>,</mo>
        <mrow>
         <mi>y</mi>
         <mo>∈</mo>
         <mi>Y</mi>
        </mrow>
       </mrow>
      </munder>
     </mpadded>
     <mi>F</mi>
    </mrow>
    <mrow>
     <mo stretchy="false">(</mo>
     <mi>x</mi>
     <mo>,</mo>
     <mi>y</mi>
     <mo stretchy="false">)</mo>
    </mrow>
   </mrow>
   <mo>=</mo>
   <mrow>
    <mo stretchy="false">(</mo>
    <mrow>
     <msub>
      <mi>F</mi>
      <mn>1</mn>
     </msub>
     <mrow>
      <mo stretchy="false">(</mo>
      <mi>x</mi>
      <mo>,</mo>
      <mi>y</mi>
      <mo stretchy="false">)</mo>
     </mrow>
    </mrow>
    <mo>,</mo>
    <mrow>
     <msub>
      <mi>F</mi>
      <mn>2</mn>
     </msub>
     <mrow>
      <mo stretchy="false">(</mo>
      <mi>x</mi>
      <mo>,</mo>
      <mi>y</mi>
      <mo stretchy="false">)</mo>
     </mrow>
    </mrow>
    <mo>,</mo>
    <mi mathvariant="normal">…</mi>
    <mo>,</mo>
    <mrow>
     <msub>
      <mi>F</mi>
      <mi>p</mi>
     </msub>
     <mrow>
      <mo stretchy="false">(</mo>
      <mi>x</mi>
      <mo>,</mo>
      <mi>y</mi>
      <mo stretchy="false">)</mo>
     </mrow>
    </mrow>
    <mo stretchy="false">)</mo>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <times></times>
     <apply>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <min></min>
       <apply>
        <csymbol cd="ambiguous">formulae-sequence</csymbol>
        <apply>
         <in></in>
         <ci>x</ci>
         <ci>X</ci>
        </apply>
        <apply>
         <in></in>
         <ci>y</ci>
         <ci>Y</ci>
        </apply>
       </apply>
      </apply>
      <ci>F</ci>
     </apply>
     <interval closure="open">
      <ci>x</ci>
      <ci>y</ci>
     </interval>
    </apply>
    <vector>
     <apply>
      <times></times>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>F</ci>
       <cn type="integer">1</cn>
      </apply>
      <interval closure="open">
       <ci>x</ci>
       <ci>y</ci>
      </interval>
     </apply>
     <apply>
      <times></times>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>F</ci>
       <cn type="integer">2</cn>
      </apply>
      <interval closure="open">
       <ci>x</ci>
       <ci>y</ci>
      </interval>
     </apply>
     <ci>normal-…</ci>
     <apply>
      <times></times>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>F</ci>
       <ci>p</ci>
      </apply>
      <interval closure="open">
       <ci>x</ci>
       <ci>y</ci>
      </interval>
     </apply>
    </vector>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \min\limits_{x\in X,y\in Y}\;\;F(x,y)=(F_{1}(x,y),F_{2}(x,y),\ldots,F_{p}(x,y))
  </annotation>
 </semantics>
</math>

</p>

<p>subject to: 

<math display="inline" id="Bilevel_optimization:15">
 <semantics>
  <mrow>
   <mrow>
    <msub>
     <mi>G</mi>
     <mi>i</mi>
    </msub>
    <mrow>
     <mo stretchy="false">(</mo>
     <mi>x</mi>
     <mo>,</mo>
     <mi>y</mi>
     <mo stretchy="false">)</mo>
    </mrow>
   </mrow>
   <mo>≤</mo>
   <mn>0</mn>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <leq></leq>
    <apply>
     <times></times>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <ci>G</ci>
      <ci>i</ci>
     </apply>
     <interval closure="open">
      <ci>x</ci>
      <ci>y</ci>
     </interval>
    </apply>
    <cn type="integer">0</cn>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   G_{i}(x,y)\leq 0
  </annotation>
 </semantics>
</math>

, for 

<math display="inline" id="Bilevel_optimization:16">
 <semantics>
  <mrow>
   <mi>i</mi>
   <mo>∈</mo>
   <mrow>
    <mo stretchy="false">{</mo>
    <mn>1</mn>
    <mo>,</mo>
    <mn>2</mn>
    <mo>,</mo>
    <mi mathvariant="normal">…</mi>
    <mo>,</mo>
    <mi>I</mi>
    <mo stretchy="false">}</mo>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <in></in>
    <ci>i</ci>
    <set>
     <cn type="integer">1</cn>
     <cn type="integer">2</cn>
     <ci>normal-…</ci>
     <ci>I</ci>
    </set>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   i\in\{1,2,\ldots,I\}
  </annotation>
 </semantics>
</math>

;</p>

<p>

<math display="inline" id="Bilevel_optimization:17">
 <semantics>
  <mrow>
   <mi>y</mi>
   <mo>∈</mo>
   <mrow>
    <mi>arg</mi>
    <mrow>
     <munder>
      <mi>min</mi>
      <mrow>
       <mi>z</mi>
       <mo>∈</mo>
       <mi>Y</mi>
      </mrow>
     </munder>
     <mrow>
      <mo stretchy="false">{</mo>
      <mrow>
       <mrow>
        <mrow>
         <mi>f</mi>
         <mrow>
          <mo stretchy="false">(</mo>
          <mi>x</mi>
          <mo>,</mo>
          <mi>z</mi>
          <mo stretchy="false">)</mo>
         </mrow>
        </mrow>
        <mo>=</mo>
        <mrow>
         <mo stretchy="false">(</mo>
         <mrow>
          <msub>
           <mi>f</mi>
           <mn>1</mn>
          </msub>
          <mrow>
           <mo stretchy="false">(</mo>
           <mi>x</mi>
           <mo>,</mo>
           <mi>z</mi>
           <mo stretchy="false">)</mo>
          </mrow>
         </mrow>
         <mo>,</mo>
         <mrow>
          <msub>
           <mi>f</mi>
           <mn>2</mn>
          </msub>
          <mrow>
           <mo stretchy="false">(</mo>
           <mi>x</mi>
           <mo>,</mo>
           <mi>z</mi>
           <mo stretchy="false">)</mo>
          </mrow>
         </mrow>
         <mo>,</mo>
         <mi mathvariant="normal">…</mi>
         <mo>,</mo>
         <mrow>
          <msub>
           <mi>f</mi>
           <mi>q</mi>
          </msub>
          <mrow>
           <mo stretchy="false">(</mo>
           <mi>x</mi>
           <mo>,</mo>
           <mi>z</mi>
           <mo stretchy="false">)</mo>
          </mrow>
         </mrow>
         <mo stretchy="false">)</mo>
        </mrow>
       </mrow>
       <mo>:</mo>
       <mrow>
        <mrow>
         <mrow>
          <msub>
           <mi>g</mi>
           <mi>j</mi>
          </msub>
          <mrow>
           <mo stretchy="false">(</mo>
           <mi>x</mi>
           <mo>,</mo>
           <mi>z</mi>
           <mo stretchy="false">)</mo>
          </mrow>
         </mrow>
         <mo>≤</mo>
         <mn>0</mn>
        </mrow>
        <mo>,</mo>
        <mrow>
         <mi>j</mi>
         <mo>∈</mo>
         <mrow>
          <mo stretchy="false">{</mo>
          <mn>1</mn>
          <mo>,</mo>
          <mn>2</mn>
          <mo>,</mo>
          <mi mathvariant="normal">…</mi>
          <mo>,</mo>
          <mi>J</mi>
          <mo stretchy="false">}</mo>
         </mrow>
        </mrow>
       </mrow>
      </mrow>
      <mo stretchy="false">}</mo>
     </mrow>
    </mrow>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <in></in>
    <ci>y</ci>
    <apply>
     <arg></arg>
     <apply>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <min></min>
       <apply>
        <in></in>
        <ci>z</ci>
        <ci>Y</ci>
       </apply>
      </apply>
      <apply>
       <ci>normal-:</ci>
       <apply>
        <eq></eq>
        <apply>
         <times></times>
         <ci>f</ci>
         <interval closure="open">
          <ci>x</ci>
          <ci>z</ci>
         </interval>
        </apply>
        <vector>
         <apply>
          <times></times>
          <apply>
           <csymbol cd="ambiguous">subscript</csymbol>
           <ci>f</ci>
           <cn type="integer">1</cn>
          </apply>
          <interval closure="open">
           <ci>x</ci>
           <ci>z</ci>
          </interval>
         </apply>
         <apply>
          <times></times>
          <apply>
           <csymbol cd="ambiguous">subscript</csymbol>
           <ci>f</ci>
           <cn type="integer">2</cn>
          </apply>
          <interval closure="open">
           <ci>x</ci>
           <ci>z</ci>
          </interval>
         </apply>
         <ci>normal-…</ci>
         <apply>
          <times></times>
          <apply>
           <csymbol cd="ambiguous">subscript</csymbol>
           <ci>f</ci>
           <ci>q</ci>
          </apply>
          <interval closure="open">
           <ci>x</ci>
           <ci>z</ci>
          </interval>
         </apply>
        </vector>
       </apply>
       <apply>
        <csymbol cd="ambiguous">formulae-sequence</csymbol>
        <apply>
         <leq></leq>
         <apply>
          <times></times>
          <apply>
           <csymbol cd="ambiguous">subscript</csymbol>
           <ci>g</ci>
           <ci>j</ci>
          </apply>
          <interval closure="open">
           <ci>x</ci>
           <ci>z</ci>
          </interval>
         </apply>
         <cn type="integer">0</cn>
        </apply>
        <apply>
         <in></in>
         <ci>j</ci>
         <set>
          <cn type="integer">1</cn>
          <cn type="integer">2</cn>
          <ci>normal-…</ci>
          <ci>J</ci>
         </set>
        </apply>
       </apply>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   y\in\arg\min\limits_{z\in Y}\{f(x,z)=(f_{1}(x,z),f_{2}(x,z),\ldots,f_{q}(x,z))%
:g_{j}(x,z)\leq 0,j\in\{1,2,\ldots,J\}\}
  </annotation>
 </semantics>
</math>

</p>

<p>where</p>

<p>

<math display="block" id="Bilevel_optimization:18">
 <semantics>
  <mrow>
   <mi>F</mi>
   <mo>:</mo>
   <mrow>
    <mrow>
     <msup>
      <mi>R</mi>
      <msub>
       <mi>n</mi>
       <mi>x</mi>
      </msub>
     </msup>
     <mo>×</mo>
     <msup>
      <mi>R</mi>
      <msub>
       <mi>n</mi>
       <mi>y</mi>
      </msub>
     </msup>
    </mrow>
    <mo>→</mo>
    <msup>
     <mi>R</mi>
     <mi>p</mi>
    </msup>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <ci>normal-:</ci>
    <ci>F</ci>
    <apply>
     <ci>normal-→</ci>
     <apply>
      <times></times>
      <apply>
       <csymbol cd="ambiguous">superscript</csymbol>
       <ci>R</ci>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>n</ci>
        <ci>x</ci>
       </apply>
      </apply>
      <apply>
       <csymbol cd="ambiguous">superscript</csymbol>
       <ci>R</ci>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>n</ci>
        <ci>y</ci>
       </apply>
      </apply>
     </apply>
     <apply>
      <csymbol cd="ambiguous">superscript</csymbol>
      <ci>R</ci>
      <ci>p</ci>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   F:R^{n_{x}}\times R^{n_{y}}\to R^{p}
  </annotation>
 </semantics>
</math>

</p>

<p>

<math display="block" id="Bilevel_optimization:19">
 <semantics>
  <mrow>
   <mi>f</mi>
   <mo>:</mo>
   <mrow>
    <mrow>
     <msup>
      <mi>R</mi>
      <msub>
       <mi>n</mi>
       <mi>x</mi>
      </msub>
     </msup>
     <mo>×</mo>
     <msup>
      <mi>R</mi>
      <msub>
       <mi>n</mi>
       <mi>y</mi>
      </msub>
     </msup>
    </mrow>
    <mo>→</mo>
    <msup>
     <mi>R</mi>
     <mi>q</mi>
    </msup>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <ci>normal-:</ci>
    <ci>f</ci>
    <apply>
     <ci>normal-→</ci>
     <apply>
      <times></times>
      <apply>
       <csymbol cd="ambiguous">superscript</csymbol>
       <ci>R</ci>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>n</ci>
        <ci>x</ci>
       </apply>
      </apply>
      <apply>
       <csymbol cd="ambiguous">superscript</csymbol>
       <ci>R</ci>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>n</ci>
        <ci>y</ci>
       </apply>
      </apply>
     </apply>
     <apply>
      <csymbol cd="ambiguous">superscript</csymbol>
      <ci>R</ci>
      <ci>q</ci>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   f:R^{n_{x}}\times R^{n_{y}}\to R^{q}
  </annotation>
 </semantics>
</math>

</p>

<p>

<math display="block" id="Bilevel_optimization:20">
 <semantics>
  <mrow>
   <mrow>
    <msub>
     <mi>G</mi>
     <mi>i</mi>
    </msub>
    <mo>,</mo>
    <msub>
     <mi>g</mi>
     <mi>j</mi>
    </msub>
   </mrow>
   <mo>:</mo>
   <mrow>
    <mrow>
     <msup>
      <mi>R</mi>
      <msub>
       <mi>n</mi>
       <mi>x</mi>
      </msub>
     </msup>
     <mo>×</mo>
     <msup>
      <mi>R</mi>
      <msub>
       <mi>n</mi>
       <mi>y</mi>
      </msub>
     </msup>
    </mrow>
    <mo>→</mo>
    <mi>R</mi>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <ci>normal-:</ci>
    <list>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <ci>G</ci>
      <ci>i</ci>
     </apply>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <ci>g</ci>
      <ci>j</ci>
     </apply>
    </list>
    <apply>
     <ci>normal-→</ci>
     <apply>
      <times></times>
      <apply>
       <csymbol cd="ambiguous">superscript</csymbol>
       <ci>R</ci>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>n</ci>
        <ci>x</ci>
       </apply>
      </apply>
      <apply>
       <csymbol cd="ambiguous">superscript</csymbol>
       <ci>R</ci>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>n</ci>
        <ci>y</ci>
       </apply>
      </apply>
     </apply>
     <ci>R</ci>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   G_{i},g_{j}:R^{n_{x}}\times R^{n_{y}}\to R
  </annotation>
 </semantics>
</math>

</p>

<p>

<math display="block" id="Bilevel_optimization:21">
 <semantics>
  <mrow>
   <mi>X</mi>
   <mo>⊆</mo>
   <msup>
    <mi>R</mi>
    <msub>
     <mi>n</mi>
     <mi>x</mi>
    </msub>
   </msup>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <subset></subset>
    <ci>X</ci>
    <apply>
     <csymbol cd="ambiguous">superscript</csymbol>
     <ci>R</ci>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <ci>n</ci>
      <ci>x</ci>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   X\subseteq R^{n_{x}}
  </annotation>
 </semantics>
</math>

</p>

<p>

<math display="block" id="Bilevel_optimization:22">
 <semantics>
  <mrow>
   <mrow>
    <mi>Y</mi>
    <mo>⊆</mo>
    <msup>
     <mi>R</mi>
     <msub>
      <mi>n</mi>
      <mi>y</mi>
     </msub>
    </msup>
   </mrow>
   <mo>.</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <subset></subset>
    <ci>Y</ci>
    <apply>
     <csymbol cd="ambiguous">superscript</csymbol>
     <ci>R</ci>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <ci>n</ci>
      <ci>y</ci>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   Y\subseteq R^{n_{y}}.
  </annotation>
 </semantics>
</math>

</p>

<p>In the above formulation, 

<math display="inline" id="Bilevel_optimization:23">
 <semantics>
  <mi>F</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>F</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   F
  </annotation>
 </semantics>
</math>

 represents the upper-level objective vector with 

<math display="inline" id="Bilevel_optimization:24">
 <semantics>
  <mi>p</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>p</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   p
  </annotation>
 </semantics>
</math>

 objectives and 

<math display="inline" id="Bilevel_optimization:25">
 <semantics>
  <mi>f</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>f</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   f
  </annotation>
 </semantics>
</math>

 represents the lower-level objective vector with 

<math display="inline" id="Bilevel_optimization:26">
 <semantics>
  <mi>q</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>q</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   q
  </annotation>
 </semantics>
</math>

 objectives. Similarly, 

<math display="inline" id="Bilevel_optimization:27">
 <semantics>
  <mi>x</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>x</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   x
  </annotation>
 </semantics>
</math>

 represents the upper-level decision vector and 

<math display="inline" id="Bilevel_optimization:28">
 <semantics>
  <mi>y</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>y</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   y
  </annotation>
 </semantics>
</math>

 represents the lower-level decision vector. 

<math display="inline" id="Bilevel_optimization:29">
 <semantics>
  <msub>
   <mi>G</mi>
   <mi>i</mi>
  </msub>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <csymbol cd="ambiguous">subscript</csymbol>
    <ci>G</ci>
    <ci>i</ci>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   G_{i}
  </annotation>
 </semantics>
</math>

 and 

<math display="inline" id="Bilevel_optimization:30">
 <semantics>
  <msub>
   <mi>g</mi>
   <mi>j</mi>
  </msub>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <csymbol cd="ambiguous">subscript</csymbol>
    <ci>g</ci>
    <ci>j</ci>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   g_{j}
  </annotation>
 </semantics>
</math>

 represent the inequality constraint functions at the upper and lower levels respectively. Equality constraints may also be present in a bilevel program, but they have been omitted for brevity.</p>
<h2 id="references">References</h2>
<h2 id="external-links">External links</h2>
<ul>
<li><a href="http://www.bilevel.org/">Evolutionary Bilevel Optimization</a></li>
<li><a href="http://glossary.computing.society.informs.org/">Mathematical Programming Glossary</a></li>
</ul>
<h2 id="see-also">See also</h2>
<ul>
<li><a href="optimization_(mathematics)" title="wikilink">optimization</a></li>
</ul>

<p>"</p>

<p><a href="Category:Mathematical_optimization" title="wikilink">Category:Mathematical optimization</a></p>
<section class="footnotes">
<hr/>
<ol>
<li id="fn1"><a href="#fnref1">↩</a></li>
</ol>
</section>
</body>
</html>
