


Divisor (algebraic geometry)




Divisor (algebraic geometry)

In algebraic geometry, divisors are a generalization of codimension one subvarieties of algebraic varieties; two different generalizations are in common use, Cartier divisors and Weil divisors (named for Pierre Cartier and André Weil). Both are ultimately derived from the notion of divisibility in the integers and algebraic number fields.
Cartier divisors and Weil divisors are parallel notions. Weil divisors are codimension one objects, while Cartier divisors are locally described by a single equation. On non-singular varieties, these two are identical, but when the variety has singular points, the two can differ. An example of a surface on which the two concepts differ is a cone, i.e. a singular quadric. At the (unique) singular point, the vertex of the cone, a single line drawn on the cone is a Weil divisor, but is not a Cartier divisor (since it is not locally principal).
The divisor appellation is part of the history of the subject, going back to the Dedekind–Weber work which in effect showed the relevance of Dedekind domains to the case of algebraic curves.1 In that case the free abelian group on the points of the curve is closely related to the fractional ideal theory.
An algebraic cycle is a higher-dimensional generalization of a divisor; by definition, a Weil divisor is a cycle of codimension one.
Divisors in a Riemann surface
A Riemann surface is a 1-dimensional complex manifold, so its codimension 1 submanifolds are 0-dimensional. The divisors of a Riemann surface are the elements of the free abelian group over the points of the surface.
Equivalently, a divisor is a finite linear combination of points of the surface with integer coefficients. The degree of a divisor is the sum of its coefficients.
We define the divisor of a meromorphic function f as



where R(f) is the set of all zeroes and poles of f, and sν is given by



A divisor that is the divisor of a meromorphic function is called principal. On a compact Riemann surface, a meromorphic function has as many poles as zeroes, and therefore on such surfaces the degree of a principal divisor is 0. Since the divisor of a product is the sum of the divisors, the set of principal divisors is a subgroup of the group of divisors. Two divisors that differ by a principal divisor are called linearly equivalent.
We define the divisor of a meromorphic 1-form similarly. Since the space of meromorphic 1-forms is a 1-dimensional vector space over the field of meromorphic functions, any two meromorphic 1-forms yield linearly equivalent divisors. The equivalence class of these divisors is called the canonical divisor (usually denoted K).
The Riemann–Roch theorem is an important relation between the divisors of a Riemann surface and its topology.
Weil divisor
Definition
Let X be an algebraic variety over a field.2 A Weil divisor on X is a finite linear combination with integral coefficients of irreducible closed subsets Z of X of codimension one:


 
  where the only finitely many nZ are nonzero. For example, a divisor on an algebraic curve is a formal sum of its closed points. The degree of a divisor is the sum of its coefficients. An effective Weil divisor is one in which all the coefficients of the formal sum are non-negative. One writes D ≥ D' if the difference D - D' is effective.
If Z ⊂ X is an irreducible closed subset of codimension one, then the local ring Oη at the generic point of Z comes with the order-of-vanishing function ordZ; namely, 
 
 
 
  if f is regular at the generic point of Z.This is an algebraic fact. If A is a one-dimensional Noetherian local ring, then for any non-zerodivisor f, 
 
 
 
  is an Artinian A-module (the support has dimension zero) and thus the length


 
  is a finite number. For any non-zerodivisor 
 
 
 
  in the total ring of fractions Q(A) of A, one then puts ord(f/g) = ord(f) - ord(g). One can show it is well-defined and that 
 
 
 
  is a group homomorphism. Finally, if A is a discrete valuation ring, then this ord is the valuation defined by fixing a generator of the maximal ideal. If f is a nonzero rational function on X, one then puts:


 
  This is called the principal (Weil) divisor generated by f. For it to be a divisor, it needs to be a finite sum; this can be seen from the geometric interpretation of the construction. If Z is a closed subscheme (need not be reduced) of X of codimension one, then Z determines an effective (Weil) divisor:


 
  where 
 
 
 
  are the irreducible closed subsets of Z of codimension zero and 
 
 
 
  is the generic point of 
 
 
 
  in Z; in other words, [Z] counts irreducible components of Z with the multiplicities (the construction actually works for any closed subscheme Z and in general [Z] is called the fundamental cycle of Z.) In particular, if Z is the zero-locus of a regular function f, then (f) = [Z]. If 
 
 
 
  is a fraction of regular functions (and a rational function is locally of such a fraction), then 
 
 
 
 , so 
 
 
 
  is defined by counting zeros of f with positive multiplicity and poles of f with negative multiplicity.
If D is a Weil divisor on X and if X is normal, then the sheaf O(D) on X is defined by:3 for any open subset U of X,


 
  where k(X) is the field of rational functions on X. If D is principal, given by, say, a rational function g, then O(D) is isomorphic to the structure sheaf OX of X via 
 
 
 
 . Conversely, if O(D) is free, then D is principal. It follows that D is locally principal if and only if O(D) is locally free of rank one; i.e., an invertible sheaf.
If X is locally factorial; i.e., local rings are unique factorization domains, which is the case for example when X is smooth, then D is locally principal and so O(D) is invertible. In general, however, a Weil divisor need not be locally principal (which amounts to being Cartier). The standard example is the following:4 Let X be the quadric cone

 
 , and D the line y = z = 0, a ruling of the cone; D is not principal near the origin.
In general, when X is normal, the sheaf O(D) is a reflexive sheaf and any reflexive sheaf of the form O(D) is called a divisorial sheaf (for the non-normal case, see the "reflexive sheaf" article.)
Divisor class group
Let Div(X) be the abelian group of Weil divisors on X. Since principal divisors form a subgroup, one can form the quotient group:


 
  called the divisor class group of X. Two divisors are said to be linearly equivalent if they belong to the same divisor class.
Let Z be a closed subset of X. If Z is irreducible of codimension one, then there is an exact sequence


 
  where 
 
 
 
  is the restriction map along the inclusion 
 
 
 
 . If Z has codimension ≥ 2, then 
 
 
 
  is an isomorphism. (These facts are special cases of the excision exact sequence for Chow groups.That is,


 
  where 
 
 
 
  is the k-th Chow group. The sequence can be extended further to the left using Bloch's higher Chow groups.)
Example: Take X = Pn to be a projective space and H to be the coordinate hyperplane in it, say, x0 = 0. Then


 
  Here, the last term 
 
 
 
  since the coordinate ring of the affine space 
 
 
 
  is a polynomial ring, which is a unique factorization domain and has trivial divisor class group. With a bit more work, one indeed gets
 
 
 
 .
If s is a nonzero section of some line bundle on X, then we let 
 
 
 
  be the divisor defined by the zero-locus of s with multiplicities; it is called the divisor cut out by s. As for rational functions, this construction generalizes to rational sections s by defining 
 
 
 
  to be:


 
  where 
 
 
 
  is the order of vanishing of s along Vi, which is defined by identifying s with a rational function by means of local trivialization. (This is well-defined; the transition functions locally have no zero and poles. Equivalently, changing the trivialization does not change the local ring 
 
 
 
  at the generic point.)
Any line bundle admits a nonzero rational section (by local triviality) and, moreover, different choices differ by a nonzero rational function. Thus, there is a well-defined group homomorphism:


 
  where Pic(X) is the Picard group of X and tensor product corresponds to addition. It is injective if X is normal. The image consists of classes of locally principal Weil divisors. In particular, X is locally factorial if and only if the map is an isomorphism; the inverse being 
 
 
 
  (continuing the previous example one gets: Pic(Pn) = Cl(Pn) = Z.)
Let X be a normal variety over a perfect field. The smooth points (or the regular points) form an open dense subset 
 
 
 
 . Writing j for the inclusion 
 
 
 
 , we have the restriction homomorphism:


 
  which is an isomorphism since 
 
 
 
  has codimension ≥ 2 as X is normal. For example, one can use this isomorphism to define the canonical divisor

 
  on X to be the one (up to linear equivalence) corresponding to the sheaf of differential forms of top degree; in symbols, 
 
 
 
 .
Cartier divisor
A Cartier divisor in an algebraic variety X (see the paragraph below for the scheme case) can be represented by an open cover by affine subsets 
 
 
 
  of X, and a collection of rational functions

 
  defined on 
 
 
 
 . The functions must be compatible in this sense: on the intersection of two sets in the cover, the quotient of the corresponding rational functions should be regular and invertible. A Cartier divisor is said to be effective if these 
 
 
 
  can be chosen to be regular functions, and in this case the Cartier divisor defines an associated subvariety of codimension 1 by forming the ideal sheaf generated locally by the 
 
 
 
 .
The notion can also be described with the abstract function field instead of rational functions: in this setup X can be any scheme. For each affine open subset U, define M′(U) to be the total quotient ring of OX(U). Because the affine open subsets form a basis for the topology on X, this defines a presheaf on X. (This is not the same as taking the total quotient ring of OX(U) for arbitrary U, since that does not define a presheaf.5) The sheaf MX of rational functions on X is the sheaf associated to the presheaf M′, and the quotient sheaf  is the sheaf of local Cartier divisors.
A Cartier divisor is a global section of the quotient sheaf MX*/OX*. We have the exact sequence 
 
 
 
 , so, applying the global section functor 
 
 
 
  gives the exact sequence 
 
 
 
 .
A Cartier divisor is said to be principal if it is in the range of the morphism 
 
 
 
 , that is, if it is the class of a global rational function.
Cartier divisors in nonrigid sheaves
Of course the notion of Cartier divisors exists in any sheaf (any ringed space). But if the sheaf is not rigid enough, the notion tends to lose some of its interest. For example in a fine sheaf (e.g. the sheaf of real-valued continuous, or smooth, functions on an open subset of a euclidean space, or locally homeomorphic, or diffeomorphic, to such a set, such as a topological manifold), any local section is a divisor of 0, so that the total quotient sheaves are zero, so that the sheaf contains no non-trivial Cartier divisor.
From Cartier divisors to Weil divisor
There is a natural homomorphism from the group of Cartier divisors to that of Weil divisors, which is an isomorphism for integral separated Noetherian schemes provided that all local rings are unique factorization domains.
From Cartier divisors to line bundles
The notion of transition map associates naturally to every Cartier divisor D a line bundle (strictly, invertible sheaf) commonly denoted by 
 
 
 
  or sometimes also 
 
 
 
 .
The line bundle 
 
 
 
  associated to the Cartier divisor D is the sub-bundle of the sheaf MX of rational fractions described above whose stalk at 
 
 
 
  is given by 
 
 
 
  viewed as a line on the stalk at x of 
 
 
 
  in the stalk at x of 
 
 
 
 . The subsheaf thus described is tautologically locally freely monogenous over the structure sheaf 
 
 
 
 .
The mapping 
 
 
 
  is a group homomorphism: the sum of divisors corresponds to the tensor product of line bundles, and isomorphism of bundles corresponds precisely to linear equivalence of Cartier divisors. The group of divisors classes modulo linear equivalence therefore injects into the Picard group. The mapping is not surjective for all compact complex manifolds, but surjectivity does hold for all smooth projective varieties. The latter is true because, by the Kodaira embedding theorem, the tensor product of any line bundle with a sufficiently high power of any positive line bundle becomes ample; thus, on any such manifold, any line bundle is the formal difference between two ample line bundles, and any ample line bundle may be viewed as an effective divisor.
Global sections of line bundles and linear systems
Recall that the local equations of a Cartier divisor 
 
 
 
  in a variety 
 
 
 
  give rise to transition maps for a line bundle 
 
 
 
 , and linear equivalences induce isomorphism of line bundles.
Loosely speaking, a Cartier divisor D is said to be effective if it is the zero locus of a global section of its associated line bundle 
 
 
 
 . In terms of the definition above, this means that its local equations coincide with the equations of the vanishing locus of a global section.
From the divisor linear equivalence/line bundle isomorphism principle, a Cartier divisor is linearly equivalent to an effective divisor if, and only if, its associated line bundle 
 
 
 
  has non-zero global sections. Two collinear non-zero global sections have the same vanishing locus, and hence the projective space 
 
 
 
  over k identifies with the set of effective divisors linearly equivalent to 
 
 
 
 .
If 
 
 
 
  is a projective (or proper) variety over a field 
 
 
 
 , then 
 
 
 
  is a finite-dimensional 
 
 
 
 -vector space, and the associated projective space over 
 
 
 
  is called the complete linear system of 
 
 
 
 . Its linear subspaces are called linear systems of divisors. The Riemann-Roch theorem for algebraic curves is a fundamental identity involving the dimension of complete linear systems in the setup of projective curves.
ℚ-divisors
Let X be a normal variety. A (Weil) 
 
 
 
 -divisor is a finite formal linear combination of irreducible subvarieties of codimension one of X with rational coefficients. (An 
 
 
 
 -divisor is defined similarly.) A 
 
 
 
 -divisor is called effective if the coefficients are nonnegative. A 
 
 
 
 -divisor is called 
 
 
 
 -Cartier if some integral multiple of it is a Cartier divisor. If X is smooth, then any 
 
 
 
 -divisor is 
 
 
 
 -Cartier.
If 
 
 
 
  is a 
 
 
 
 -divisor, then its integer part is the divisor


 
  where 
 
 
 
  are the integer parts of 
 
 
 
 . O(D) is then defined as O of the integer part of D.
See also: multiplier ideal. For some examples, see http://mathoverflow.net/questions/55526/example-of-a-variety-with-k-x-mathbb-q-cartier-but-not-cartier/
Relative Cartier divisors
An effective Cartier divisor in a scheme X over a ring R is a closed subscheme D of X that (1) is flat over R and (2) the ideal sheaf 
 
 
 
  of D is locally free of rank one (i.e., invertible sheaf). Equivalently, a closed subscheme D of X is an effective Cartier divisor if there is an open affine cover 
 
 
 
  of X and nonzerodivisors 
 
 
 
  such that the intersection 
 
 
 
  is given by the equation 
 
 
 
  (called local equations) and its ideal sheaf 
 
 
 
  is flat over R and such that they are compatible.

If D and ''D' '' are effective Cartier divisors, then the sum 
 
 
 
  is the effective Cartier divisor defined locally as 
 
 
 
  if f, g give local equations for D and ''D' ''.
If D is an effective Cartier divisor and 
 
 
 
  is a ring homomorphism, then 
 
 
 
  is an effective Cartier divisor in 
 
 
 
 .
If D is an effective Cartier divisor and 
 
 
 
  a flat morphism over R, then 
 
 
 
  is an effective Cartier divisor in ''X' '' with the ideal sheaf 
 
 
 
 .

Taking 
 
 
 
  of 
 
 
 
  gives the exact sequence


 
 . This allows one to see global sections of 
 
 
 
  as global sections of 
 
 
 
 . In particular, the constant 1 on X can be thought of as a section of 
 
 
 
  and D is then the zero locus of this section. Conversely, if 
 
 
 
  is a line bundle on X and s a global section of it that is a nonzerodivisor on 
 
 
 
  and if 
 
 
 
  is flat over R, then 
 
 
 
  defines an effective Cartier divisor whose ideal sheaf is isomorphic to the inverse of L.
From now on suppose X is a smooth curve (still over R). Let D be an effective Cartier divisor in X and assume it is proper over R (which is immediate if X is proper.) Then 
 
 
 
  is a locally free R-module of finite rank. This rank is called the degree of D and is denoted by 
 
 
 
 . It is a locally constant function on 
 
 
 
 . If D and ''D' '' are proper effective Cartier divisors, then 
 
 
 
  is proper over R and 
 
 
 
 . Let 
 
 
 
  be a finite flat morphism. Then 
 
 
 
 .6 On the other hand, a base change does not change degree
 
 
 
 .7
A closed subscheme D of X is finite, flat and of finite presentation if and only if it is an effective Cartier divisor that is proper over R.8
See also

ample divisor
Arakelov divisor
nef divisor
Theta-divisor
Multiplier ideal (algebraic geometry)
divisorial sheaf

Notes


References


Section II.6 of 




"
Category:Geometry of divisors



Section VI.6 of .↩
More generally, one can take X to be a Noetherian integral scheme over a field.↩
Vakil, Math 216: Foundations of algebraic geometry, Defintion 14.2.2.↩
↩
Kleiman, p. 203↩
↩
↩
↩




