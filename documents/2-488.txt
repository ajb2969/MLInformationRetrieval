   Law of large numbers      Law of large numbers   In probability theory , the law of large numbers ( LLN ) is a theorem that describes the result of performing the same experiment a large number of times. According to the law, the average of the results obtained from a large number of trials should be close to the expected value , and will tend to become closer as more trials are performed.  The LLN is important because it "guarantees" stable long-term results for the averages of some random events. For example, while a casino may lose money in a single spin of the roulette wheel, its earnings will tend towards a predictable percentage over a large number of spins. Any winning streak by a player will eventually be overcome by the parameters of the game. It is important to remember that the LLN only applies (as the name indicates) when a large number of observations are considered. There is no principle that a small number of observations will coincide with the expected value or that a streak of one value will immediately be "balanced" by the others (see the gambler's fallacy ).  Examples  For example, a single roll of a fair, six-sided die produces one of the numbers 1, 2, 3, 4, 5, or 6, each with equal probability . Therefore, the expected value of a single die roll is        1  +  2  +  3  +  4  +  5  +  6   6   =  3.5.          1  2  3  4  5  6   6   3.5.    \frac{1+2+3+4+5+6}{6}=3.5.   According to the law of large numbers, if a large number of six-sided dice are rolled, the average of their values (sometimes called the sample mean ) is likely to be close to 3.5, with the precision increasing as more dice are rolled.  It follows from the law of large numbers that the empirical probability of success in a series of Bernoulli trials will converge to the theoretical probability. For a Bernoulli random variable , the expected value is the theoretical probability of success, and the average of n such variables (assuming they are independent and identically distributed (i.i.d.) ) is precisely the relative frequency.  For example, a fair coin toss is a Bernoulli trial . When a fair coin is flipped once, the theoretical probability that the outcome will be heads is equal to 1/2. Therefore, according to the law of large numbers, the proportion of heads in a "large" number of coin flips "should be" roughly 1/2. In particular, the proportion of heads after n flips will almost surely  converge to 1/2 as n approaches infinity.  Though the proportion of heads (and tails) approaches 1/2, almost surely the absolute (nominal) difference in the number of heads and tails will become large as the number of flips becomes large. That is, the probability that the absolute difference is a small number, approaches zero as the number of flips becomes large. Also, almost surely the ratio of the absolute difference to the number of flips will approach zero. Intuitively, expected absolute difference grows, but at a slower rate than the number of flips, as the number of flips grows.  History  (Figure)  Diffusion is an example of the law of large numbers, applied to chemistry . Initially, there are solute molecules on the left side of a barrier (purple line) and none on the right. The barrier is removed, and the solute diffuses to fill the whole container.  Top: With a single molecule, the motion appears to be quite random.  Middle: With more molecules, there is clearly a trend where the solute fills the container more and more uniformly, but there are also random fluctuations.  Bottom: With an enormous number of solute molecules (too many to see), the randomness is essentially gone: The solute appears to move smoothly and systematically from high-concentration areas to low-concentration areas. In realistic situations, chemists can describe diffusion as a deterministic macroscopic phenomenon (see Fick's laws ), despite its underlying random nature.   The Italian mathematician Gerolamo Cardano (1501â€“1576) stated without proof that the accuracies of empirical statistics tend to improve with the number of trials. 1 This was then formalized as a law of large numbers. A special form of the LLN (for a binary random variable) was first proved by Jacob Bernoulli . 2 It took him over 20 years to develop a sufficiently rigorous mathematical proof which was published in his Ars Conjectandi (The Art of Conjecturing) in 1713. He named this his "Golden Theorem" but it became generally known as "Bernoulli's Theorem". This should not be confused with the principle in physics with the same name , named after Jacob Bernoulli's nephew Daniel Bernoulli . In 1837, S.D. Poisson further described it under the name "la loi des grands nombres" ("The law of large numbers"). 3 4 Thereafter, it was known under both names, but the "Law of large numbers" is most frequently used.  After Bernoulli and Poisson published their efforts, other mathematicians also contributed to refinement of the law, including Chebyshev , 5  Markov , Borel , Cantelli and Kolmogorov and Khinchin , who finally provided a complete proof of the LLN for arbitrary random variables . These further studies have given rise to two prominent forms of the LLN. One is called the "weak" law and the other the "strong" law, in reference to two different modes of convergence of the cumulative sample means to the expected value; in particular, as explained below, the strong form implies the weak.  Forms  Two different versions of the law of large numbers are described below; they are called the '' strong law of large numbers'', and the '' weak law of large numbers''. Both versions of the law state that â€“ with virtual certainty â€“ the sample average        X  Â¯   n   =    1  n    (    X  1   +  â‹¯  +   X  n    )         subscript   normal-Â¯  X   n       1  n      subscript  X  1   normal-â‹¯   subscript  X  n       \overline{X}_{n}=\frac{1}{n}(X_{1}+\cdots+X_{n})     converges to the expected value           X  Â¯   n    â†’   Î¼  for     n  â†’  âˆž    ,     formulae-sequence   normal-â†’   subscript   normal-Â¯  X   n    Î¼  for     normal-â†’  n      \overline{X}_{n}\,\to\,\mu\qquad\textrm{for}\qquad n\to\infty,     where X 1 , X 2 , ... is an infinite sequence of i.i.d. Lebesgue integrable random variables with expected value E( X 1 ) = E( X 2 ) = ...= Âµ . Lebesgue integrability of X j means that the expected value E( X j ) exists according to Lebesgue integration and is finite.  An assumption of finite variance Var( X 1 ) = Var( X 2 ) = ... = Ïƒ 2  [proof ]           X  Â¯   n      â†’  ð‘ƒ    Î¼      when   n   â†’  âˆž    .     formulae-sequence    P  normal-â†’    subscript   normal-Â¯  X   n   Î¼    normal-â†’    when  n       \overline{X}_{n}\ \xrightarrow{P}\ \mu\qquad\textrm{when}\ n\to\infty.     That is to say that for any positive number Îµ ,        lim   n  â†’  âˆž      Pr    (    |     X  Â¯   n   -  Î¼   |   >   Îµ    )     =  0.        subscript    normal-â†’  n      Pr         subscript   normal-Â¯  X   n   Î¼    Îµ     0.    \lim_{n\to\infty}\Pr\!\left(\,|\overline{X}_{n}-\mu|>\varepsilon\,\right)=0.     Interpreting this result, the weak law essentially states that for any nonzero margin specified, no matter how small, with a sufficiently large sample there will be a very high probability that the average of the observations will be close to the expected value; that is, within the margin.  Convergence in probability is also called weak convergence of random variables. This version is called the weak law because random variables may converge weakly (in probability) as above without converging strongly (almost surely) as below.  Strong law  The strong law of large numbers states that the sample average converges almost surely to the expected value 6           X  Â¯   n      â†’  a.s.    Î¼      when   n   â†’  âˆž    .     formulae-sequence    a.s.  normal-â†’    subscript   normal-Â¯  X   n   Î¼    normal-â†’    when  n       \overline{X}_{n}\ \xrightarrow{\text{a.s.}}\ \mu\qquad\textrm{when}\ n\to\infty.     That is,        Pr    (     lim   n  â†’  âˆž      X  Â¯   n    =  Î¼   )    =  1.       Pr      subscript    normal-â†’  n      subscript   normal-Â¯  X   n    Î¼    1.    \Pr\!\left(\lim_{n\to\infty}\overline{X}_{n}=\mu\right)=1.     The proof is more complex than that of the weak law. 7 This law justifies the intuitive interpretation of the expected value (for Lebesgue integration only ) of a random variable when sampled repeatedly as the "long-term average".  Almost sure convergence is also called strong convergence of random variables. This version is called the strong law because random variables which converge strongly (almost surely) are guaranteed to converge weakly (in probability). The strong law implies the weak law but not vice versa, when the strong law conditions hold the variable converges both strongly (almost surely) and weakly (in probability) . However the weak law may hold in conditions where the strong law does not hold and then the convergence is only weak (in probability) .  There are different views among mathematicians whether the two laws could be unified to one law, thereby replacing the weak law. 8  However the strong law conditions could not be proven to hold same as the weak law to date.  The strong law of large numbers can itself be seen as a special case of the pointwise ergodic theorem .  Moreover, if the summands are independent but not identically distributed, then          X  Â¯   n   -   E   [    X  Â¯   n   ]      â†’  a.s.   0   ,      a.s.  normal-â†’      subscript   normal-Â¯  X   n    normal-E   subscript   normal-Â¯  X   n     0    \overline{X}_{n}-\operatorname{E}\big[\overline{X}_{n}\big]\ \xrightarrow{%
 \text{a.s.}}\ 0,   provided that each X k has a finite second moment and         âˆ‘   k  =  1   âˆž     1   k  2     Var   [   X  k   ]      <  âˆž   .        superscript   subscript     k  1          1   superscript  k  2     Var   subscript  X  k         \sum_{k=1}^{\infty}\frac{1}{k^{2}}\operatorname{Var}[X_{k}]<\infty.     This statement is known as Kolmogorov's strong law , see e.g. .  Differences between the weak law and the strong law  The weak law states that for a specified large n , the average     X  Â¯   n     subscript   normal-Â¯  X   n    \overline{X}_{n}   is likely to be near Î¼ . Thus, it leaves open the possibility that     |     X  Â¯   n   -  Î¼   |   >  Îµ           subscript   normal-Â¯  X   n   Î¼    Îµ    |\overline{X}_{n}-\mu|>\varepsilon   happens an infinite number of times, although at infrequent intervals.  The strong law shows that this almost surely will not occur. In particular, it implies that with probability 1, we have that for any  the inequality     |     X  Â¯   n   -  Î¼   |   <  Îµ           subscript   normal-Â¯  X   n   Î¼    Îµ    |\overline{X}_{n}-\mu|<\varepsilon   holds for all large enough n . 9  The strong law does not hold in the following cases, but the weak law does 10 11  12  1. Let x be exponentially distributed random variable with parameter 1, the transformation with the following expected value:       E   (     sin   (  x  )     e  x    x   )    =    âˆ«  0  âˆž       sin   (  x  )     e  x    x    e   -  x    d  x    =   Ï€  2           E        x    superscript  e  x    x      superscript   subscript   0             x    superscript  e  x    x    superscript  e    x    d  x           Ï€  2      E\left(\frac{\sin(x)e^{x}}{x}\right)=\ \int_{0}^{\infty}\frac{\sin(x)e^{x}}{x}%
 e^{-x}dx=\frac{\pi}{2}     2. Let x be geometric distribution with probability 0.5, the transformation with the following expected value:       E   (     2  x     (   -  1   )   x    x   )    =    âˆ‘  1  âˆž       2  x     (   -  1   )   x    x    2   -  x      =   -   ln   (  2  )             E       superscript  2  x    superscript    1   x    x      superscript   subscript   1            superscript  2  x    superscript    1   x    x    superscript  2    x               2       E\left(\frac{2^{x}(-1)^{x}}{x}\right)=\ \sum_{1}^{\infty}\frac{2^{x}(-1)^{x}}{%
 x}2^{-x}=-\ln(2)     3.      1  -   F   (  x  )     =   e   2  x   ln   (  x  )       ,   x  â‰¥  e      formulae-sequence      1    F  x      e    2  x    x        x  e     1-F(x)=\frac{e}{2x\ln(x)},x\geq e           F   (  x  )    =   e   -   2  x   ln   (   -  x   )        ,   x  â‰¤   -  e       formulae-sequence      F  x     e      2  x      x          x    e      F(x)=\frac{e}{-2x\ln(-x)},x\leq-e    13  14  Uniform law of large numbers  Suppose f ( x , Î¸ ) is some function defined for Î¸ âˆˆ Î˜, and continuous in Î¸ . Then for any fixed Î¸ , the sequence { f ( X 1 , Î¸ ), f ( X 2 , Î¸ ), â€¦} will be a sequence of independent and identically distributed random variables, such that the sample mean of this sequence converges in probability to E[ f ( X , Î¸ )]. This is the pointwise (in Î¸ ) convergence.  The uniform law of large numbers states the conditions under which the convergence happens uniformly in Î¸ . If 15 16   Î˜ is compact,  f ( x , Î¸ ) is continuous at each Î¸ âˆˆ Î˜ for almost all  x â€™s, and measurable function of x at each Î¸ .  there exists a dominating function d ( x ) such that E[ d ( X )]  \left\| f(x,\theta) \right\| \leq d(x) \quad\text{for all}\ \theta\in\Theta.   Then E[ f ( X , Î¸ )] is continuous in Î¸ , and        sup   Î¸  âˆˆ  Î˜     âˆ¥     1  n     âˆ‘   i  =  1   n    f   (   X  i   ,  Î¸  )      -   E   [   f   (  X  ,  Î¸  )    ]     âˆ¥     â†’   a  .  s  .    0.       fragments  a  normal-.  s  normal-.   normal-â†’     subscript  supremum    Î¸  normal-Î˜     norm        1  n     superscript   subscript     i  1    n     f    subscript  X  i   Î¸       normal-E    f   X  Î¸        0.    \sup_{\theta\in\Theta}\left\|\frac{1}{n}\sum_{i=1}^{n}f(X_{i},\theta)-%
 \operatorname{E}[f(X,\theta)]\right\|\xrightarrow{\mathrm{a.s.}}\ 0.     This result is useful to derive consistency of a large class of estimators (see Extremum estimator ).  Borel's law of large numbers  Borel's law of large numbers , named after Ã‰mile Borel , states that if an experiment is repeated a large number of times, independently under identical conditions, then the proportion of times that any specified event occurs approximately equals the probability of the event's occurrence on any particular trial; the larger the number of repetitions, the better the approximation tends to be. More precisely, if E denotes the event in question, p its probability of occurrence, and N n ( E ) the number of times E occurs in the first n trials, then with probability one, 17          N  n    (  E  )    n   â†’   p  as  n   â†’  âˆž   .       normal-â†’       subscript  N  n   E   n     p  as  n     normal-â†’        \frac{N_{n}(E)}{n}\to p\text{ as }n\to\infty.\,     Chebyshev's inequality . Let X be a random variable with finite expected value  Î¼ and finite non-zero variance  Ïƒ 2 . Then for any real number ,        Pr   (    |   X  -  Î¼   |   â‰¥   k  Ïƒ    )    â‰¤   1   k  2     .       Pr        X  Î¼      k  Ïƒ       1   superscript  k  2      \Pr(|X-\mu|\geq k\sigma)\leq\frac{1}{k^{2}}.     This theorem makes rigorous the intuitive notion of probability as the long-run relative frequency of an event's occurrence. It is a special case of any of several more general laws of large numbers in probability theory.  Proof  Given X 1 , X 2 , ... an infinite sequence of i.i.d. random variables with finite expected value E(X 1 ) = E(X 2 ) = ... = Âµ \overline{X}_n=\tfrac1n(X_1+\cdots+X_n).  The weak law of large numbers states:  Theorem:          X  Â¯   n      â†’  ð‘ƒ     Î¼  for     n  â†’  âˆž    .     formulae-sequence    P  normal-â†’    subscript   normal-Â¯  X   n    Î¼  for     normal-â†’  n      \overline{X}_{n}\,\xrightarrow{P}\,\mu\qquad\textrm{for}\qquad n\to\infty.     Proof using Chebyshev's inequality  This proof uses the assumption of finite variance      Var   (   X  i   )    =   Ïƒ  2        Var   subscript  X  i     superscript  Ïƒ  2     \operatorname{Var}(X_{i})=\sigma^{2}   (for all   i   i   i   ). The independence of the random variables implies no correlation between them, and we have that        Var   (    X  Â¯   n   )    =   Var   (     1  n     (    X  1   +  â‹¯  +   X  n    )    )    =    1   n  2     Var   (    X  1   +  â‹¯  +   X  n    )     =    n   Ïƒ  2     n  2    =    Ïƒ  2   n    .         Var   subscript   normal-Â¯  X   n     Var      1  n      subscript  X  1   normal-â‹¯   subscript  X  n               1   superscript  n  2     Var     subscript  X  1   normal-â‹¯   subscript  X  n               n   superscript  Ïƒ  2     superscript  n  2            superscript  Ïƒ  2   n      \operatorname{Var}(\overline{X}_{n})=\operatorname{Var}(\tfrac{1}{n}(X_{1}+%
 \cdots+X_{n}))=\frac{1}{n^{2}}\operatorname{Var}(X_{1}+\cdots+X_{n})=\frac{n%
 \sigma^{2}}{n^{2}}=\frac{\sigma^{2}}{n}.     The common mean Î¼ of the sequence is the mean of the sample average:        E   (    X  Â¯   n   )    =  Î¼   .        E   subscript   normal-Â¯  X   n    Î¼    E(\overline{X}_{n})=\mu.     Using Chebyshev's inequality on     X  Â¯   n     subscript   normal-Â¯  X   n    \overline{X}_{n}   results in        P   (    |     X  Â¯   n   -  Î¼   |   â‰¥  Îµ   )    â‰¤    Ïƒ  2    n   Îµ  2      .       normal-P         subscript   normal-Â¯  X   n   Î¼    Îµ       superscript  Ïƒ  2     n   superscript  Îµ  2       \operatorname{P}(\left|\overline{X}_{n}-\mu\right|\geq\varepsilon)\leq\frac{%
 \sigma^{2}}{n\varepsilon^{2}}.     This may be used to obtain the following:        P   (    |     X  Â¯   n   -  Î¼   |   <  Îµ   )    =   1  -   P   (    |     X  Â¯   n   -  Î¼   |   â‰¥  Îµ   )     â‰¥   1  -    Ïƒ  2    n   Îµ  2       .         normal-P         subscript   normal-Â¯  X   n   Î¼    Îµ      1   normal-P         subscript   normal-Â¯  X   n   Î¼    Îµ            1     superscript  Ïƒ  2     n   superscript  Îµ  2         \operatorname{P}(\left|\overline{X}_{n}-\mu\right|<\varepsilon)=1-%
 \operatorname{P}(\left|\overline{X}_{n}-\mu\right|\geq\varepsilon)\geq 1-\frac%
 {\sigma^{2}}{n\varepsilon^{2}}.     As n approaches infinity, the expression approaches 1. And by definition of convergence in probability , we have obtained           X  Â¯   n      â†’  ð‘ƒ     Î¼  for     n  â†’  âˆž    .     formulae-sequence    P  normal-â†’    subscript   normal-Â¯  X   n    Î¼  for     normal-â†’  n      \overline{X}_{n}\,\xrightarrow{P}\,\mu\qquad\textrm{for}\qquad n\to\infty.     Proof using convergence of characteristic functions  By Taylor's theorem for complex functions , the characteristic function of any random variable, X , with finite mean Î¼, can be written as         Ï†  X    (  t  )    =   1  +   i  t  Î¼   +   o   (  t  )      ,   t  â†’  0.      formulae-sequence       subscript  Ï†  X   t     1    i  t  Î¼     o  t      normal-â†’  t  0.     \varphi_{X}(t)=1+it\mu+o(t),\quad t\rightarrow 0.     All X 1 , X 2 , ... have the same characteristic function, so we will simply denote this Ï† X .  Among the basic properties of characteristic functions there are          Ï†    1  n   X     (  t  )    =     Ï†  X    (    t  n    )    and       Ï†   X  +  Y     (  t  )    =    Ï†  X    (  t  )    Ï†  Y    (  t  )         formulae-sequence       subscript  Ï†      1  n   X    t       subscript  Ï†  X     t  n    and         subscript  Ï†    X  Y    t      subscript  Ï†  X   t   subscript  Ï†  Y   t      \varphi_{\frac{1}{n}X}(t)=\varphi_{X}(\tfrac{t}{n})\quad\text{and}\quad\varphi%
 _{X+Y}(t)=\varphi_{X}(t)\varphi_{Y}(t)\quad   if X and Y are independent.  These rules can be used to calculate the characteristic function of     X  Â¯   n     subscript   normal-Â¯  X   n    \scriptstyle\overline{X}_{n}   in terms of Ï† X :          Ï†    X  Â¯   n     (  t  )    =    [    Ï†  X    (   t  n   )    ]   n   =     [   1  +   i  Î¼   t  n    +   o   (   t  n   )     ]   n    â†’   e   i  t  Î¼     ,    as  n   â†’  âˆž    .     formulae-sequence         subscript  Ï†   subscript   normal-Â¯  X   n    t    superscript   delimited-[]     subscript  Ï†  X     t  n     n         superscript   delimited-[]    1    i  Î¼    t  n      o    t  n      n     normal-â†’     superscript  e    i  t  Î¼       normal-â†’   as  n       \varphi_{\overline{X}_{n}}(t)=\left[\varphi_{X}\left({t\over n}\right)\right]^%
 {n}=\left[1+i\mu{t\over n}+o\left({t\over n}\right)\right]^{n}\,\rightarrow\,e%
 ^{it\mu},\quad\text{as}\quad n\rightarrow\infty.     The limit e it Î¼ is the characteristic function of the constant random variable Î¼, and hence by the LÃ©vy continuity theorem ,     X  Â¯   n     subscript   normal-Â¯  X   n    \scriptstyle\overline{X}_{n}    converges in distribution to Î¼:           X  Â¯   n      â†’  ð’Ÿ     Î¼  for     n  â†’  âˆž    .     formulae-sequence    ð’Ÿ  normal-â†’    subscript   normal-Â¯  X   n    Î¼  for     normal-â†’  n      \overline{X}_{n}\,\xrightarrow{\mathcal{D}}\,\mu\qquad\text{for}\qquad n\to\infty.     Î¼ is a constant, which implies that convergence in distribution to Î¼ and convergence in probability to Î¼ are equivalent (see Convergence of random variables .) Therefore,           X  Â¯   n      â†’  ð‘ƒ     Î¼  for     n  â†’  âˆž    .     formulae-sequence    P  normal-â†’    subscript   normal-Â¯  X   n    Î¼  for     normal-â†’  n      \overline{X}_{n}\,\xrightarrow{P}\,\mu\qquad\text{for}\qquad n\to\infty.     This shows that the sample mean converges in probability to the derivative of the characteristic function at the origin, as long as the latter exists.  See also   Asymptotic equipartition property  Central limit theorem  Infinite monkey theorem  Law of averages  Law of the iterated logarithm  Lindy effect  Regression toward the mean   Notes  References           External links      Animations for the Law of Large Numbers by Yihui Xie using the R package animation  Apple CEO Tim Cook said something that would make statisticians cringe . "The law of large numbers has nothing to do with large companies, large revenues, or large growth rates. The law of large numbers is a fundamental concept in probability theory and statistics, tying together theoretical probabilities that we can calculate to the actual outcomes of experiments that we empirically perform." Business Insider   "  Category:Probability theorems  Category:Mathematical proofs  Category:Statistical terminology  Category:Statistical theorems     Mlodinow, L. The Drunkard's Walk. New York: Random House, 2008. p. 50. â†©  Jakob Bernoulli, Ars Conjectandi: Usum & Applicationem Praecedentis Doctrinae in Civilibus, Moralibus & Oeconomicis , 1713, Chapter 4, (Translated into English by Oscar Sheynin) â†©  Poisson names the "law of large numbers" (la loi des grands nombres) in: S.D. Poisson, ProbabilitÃ© des jugements en matiÃ¨re criminelle et en matiÃ¨re civile, prÃ©cÃ©dÃ©es des rÃ¨gles gÃ©nÃ©rales du calcul des probabilitiÃ©s (Paris, France: Bachelier, 1837), [ http://books.google.com/books?id=uovoFE3gt2EC&pg; ;=PA7#v=onepage&q;&f;=false page 7]. He attempts a two-part proof of the law on pages 139-143 and pages 277 ff. â†©  Hacking, Ian. (1983) "19th-century Cracks in the Concept of Determinism", Journal of the History of Ideas , 44 (3), 455-475 â†©  â†©  â†©  â†©  â†©  â†©  â†©  â†©  â†©  â†©  â†©  â†©  â†©  [ http://www.jstor.org/discover/10.2307/2323947?uid=3738032&uid; ;=2&uid;=4&sid;=21103621939777 An Analytic Technique to Prove Borel's Strong Law of Large Numbers Wen, L. Am Math Month 1991] â†©     