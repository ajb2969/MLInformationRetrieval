<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title offset="1470">State variable filter</title>
   <script type="text/javascript"
      src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_SVG.js">
    </script>
</head>
<body>
<h1>State variable filter</h1>
<hr/>
<p>A <strong>state variable filter</strong> is a type of <a href="active_filter" title="wikilink">active filter</a>. It consists of one or more <a href="integrator" title="wikilink">integrators</a>, connected in some feedback configuration. Any <a href="LTI_system" title="wikilink">LTI system</a> can be described as a <a href="State_space_(controls)" title="wikilink">state-space model</a>, with n state variables for an nth-order system. A state variable filter realizes the state-space model directly. The instantaneous output voltage of one of the integrators corresponds to one of the state-space model's state variables.</p>
<h2 id="kerwin-huelsman-newcomb-khn-biquad-filter-example">Kerwin-Huelsman-Newcomb (KHN) Biquad Filter Example</h2>
<p>The example given below can produce simultaneous <a class="uri" href="lowpass" title="wikilink">lowpass</a>, <a class="uri" href="highpass" title="wikilink">highpass</a> and <a class="uri" href="bandpass" title="wikilink">bandpass</a> outputs from a single input. This is a second-order (<a href="biquad_filter" title="wikilink">biquad</a>) filter. Its derivation comes from rearranging a high-pass filter's transfer function, which is the ratio of two quadratic functions. The rearrangement reveals that one signal is the sum of integrated copies of another. That is, the rearrangement reveals a state variable filter structure. By using different states as outputs, different kinds of filters can be produced. In more general state variable filter examples, additional filter orders are possible with more integrators (i.e., more states).</p>
<figure><b>(Figure)</b>
<figcaption>Schematic for a state variable filter</figcaption>
</figure>
<p>The signal input is marked Vin; the LP, HP and BP outputs give the lowpass, highpass and bandpass filtered signals respectively.</p>
<p>For simplicity, we set:</p>
<p><span class="LaTeX">$R_{f1} = R_{f2}$</span> <span class="LaTeX">$C_1 = C_2$</span> <span class="LaTeX">$R_1=R_2$</span></p>
<p>Then:</p>
<p><span class="LaTeX">$F_0 = \frac{1}{2\pi R_{f1}C_1}$</span> <span class="LaTeX">$Q = \left(1 + \frac{R_4}{R_q}\right)\left(\frac{1}{2+\frac{R_1}{R_g}}\right)$</span></p>
<p>The pass-band gain for the LP and HP outputs is given by:</p>
<p><span class="LaTeX">$A_{HP} = A_{LP} = \frac{R_1}{R_G}$</span></p>
<p>It can be seen that the frequency of operation and the <a href="Q_factor" title="wikilink">Q factor</a> can be varied independently. This and the ability to switch between different filter responses make the state-variable filter widely used in analogue <a class="uri" href="synthesizers" title="wikilink">synthesizers</a>.</p>
<p>Values for a resonance frequency of 1Â kHz are Rf1=Rf2=10k, C1=C2=15nF and R1=R2=10k</p>
<h2 id="see-also">See also</h2>
<ul>
<li><a href="Linear_filter" title="wikilink">Linear filter</a></li>
<li><a href="Biquad_filter" title="wikilink">Biquad filter</a></li>
</ul>
<h2 id="references">References</h2>
<ul>
<li>Texas Instruments' <a href="http://focus.ti.com/lit/ds/symlink/uaf42.pdf">UAF42 Universal Active Filter</a> datasheet</li>
</ul>
<ul>
<li>Analog Devices <a href="http://www.analog.com/en/design-tools/dt-adisim-design-sim-tool/design-center/dt-adisim-design-sim-tool/Filter_Wizard/resources/fca.html">Interactive Design Tools</a></li>
</ul>
<p>"</p>
<p><a href="Category:Linear_filters" title="wikilink">Category:Linear filters</a></p>
</body>
</html>
