   Logarithmic resistor ladder      Logarithmic resistor ladder   A logarithmic resistor ladder is an electronic circuit composed of a series of resistors and switches , designed to create an attenuation from an input to an output signal, where the logarithm of the attenuation ratio is proportional to a digital code word that represents the state of the switches.  The logarithmic behavior of the circuit is its main differentiator in comparison with digital-to-analog converters in general, and traditional R-2R Ladder networks specifically. Logarithmic attenuation is desired in situations where a large dynamic range needs to be handled. The circuit described in this article is applied in audio devices , since human perception of sound level is properly expressed on a logarithmic scale.  Logarithmic input/output behavior  As in digital-to-analog converters , a binary word is applied to the ladder network, whose N bits are treated to represent an integer value according the relation:      CodeValue  =    ∑   i  =  1   N     s  i   ⋅   2   i  -  1          CodeValue    superscript   subscript     i  1    N    normal-⋅   subscript  s  i    superscript  2    i  1        \mathrm{CodeValue}=\sum_{i=1}^{N}s_{i}\cdot 2^{i-1}   where    s  i     subscript  s  i    s_{i}   represents a value 0 or 1 depending on the state of the i th switch.  For a conventional DAC or R-2R network , the output signal value (its voltage) would be:       V   o  u  t    =   a  ⋅   (   CodeValue  +  b   )   ⋅   V   i  n          subscript  V    o  u  t     normal-⋅  a    CodeValue  b    subscript  V    i  n       V_{out}=a\cdot(\mathrm{CodeValue}+b)\cdot V_{in}   where   a   a   a   and   b   b   b   are design constants and where    V   i  n      subscript  V    i  n     V_{in}   typically is a constant reference voltage. (DA-converters that are designed to handle a variable input voltage are termed multiplying DAC . 1 )  In contrast, the logarithmic ladder network discussed in this article creates a behavior as:       log   (    V   o  u  t    /   V   i  n     )    =   a  ⋅   (   CodeValue  +  b   )             subscript  V    o  u  t     subscript  V    i  n       normal-⋅  a    CodeValue  b      \log(V_{out}/V_{in})=a\cdot(\mathrm{CodeValue}+b)   where    V   i  n      subscript  V    i  n     V_{in}   is a variable input signal.  Circuit implementation  (Figure)  Circuit diagram   This example circuit is composed of 4 stages, numbered 1 to 4, and an additional leading Rsource and trailing Rload . Each stage i , has a designed input-to-output voltage attenuation ratio i as:       R  a  t  i   o  i    =    if   s    w  i     then     α   2   i  -  1      else  1         R  a  t  i   subscript  o  i      if  s   subscript  w  i   then   superscript  α   superscript  2    i  1     else  1     Ratio_{i}=\text{if}\;sw_{i}\;\text{then}\;\alpha^{2^{i-1}}\;\text{else}\;1     For logarithmic scaled attenuators, it is common practice to express their attenuation in decibels :       d  B   (   R  a  t  i   o  i    )    =   20    log  10    α   2   i  -  1       =    2   i  -  1    ⋅  20  ⋅    log  10   α            d  B    R  a  t  i   subscript  o  i       20    subscript   10    superscript  α   superscript  2    i  1             normal-⋅   superscript  2    i  1    20    subscript   10   α       dB(Ratio_{i})=20\log_{10}\alpha^{2^{i-1}}=2^{i-1}\cdot 20\cdot\log_{10}\alpha   for    i  =   1..  N       i    1..  N     i=1..N   and     s   w  i    =  1        s   subscript  w  i    1    sw_{i}=1     This reveals a basic property     d  B   (   R  a  t  i   o   i  +  1     )    =    2  ⋅  d   B   (   R  a  t  i   o  i    )          d  B    R  a  t  i   subscript  o    i  1         normal-⋅  2  d   B    R  a  t  i   subscript  o  i       dB(Ratio_{i+1})=2\cdot dB(Ratio_{i})     To show that this    R  a  t  i   o  i       R  a  t  i   subscript  o  i     Ratio_{i}   satisfies the overall intention:       log   (    V   o  u  t    /   V   i  n     )    =   log   (    ∏   i  =  1   N    R  a  t  i   o  i     )    =    ∑   i  =  1   N    log   (   R  a  t  i   o  i    )     =   a  ⋅   (    C  o  d  e  V  a  l  u  e   +  b   )               subscript  V    o  u  t     subscript  V    i  n          superscript   subscript  product    i  1    N     R  a  t  i   subscript  o  i             superscript   subscript     i  1    N       R  a  t  i   subscript  o  i            normal-⋅  a      C  o  d  e  V  a  l  u  e   b       \log(V_{out}/V_{in})=\log(\prod_{i=1}^{N}Ratio_{i})=\sum_{i=1}^{N}\log(Ratio_{%
 i})=a\cdot(CodeValue+b)      for    b  =  0      b  0    b=0   and    a  =   log   (  α  )        a    α     a=\log(\alpha)      The different stages 1 .. N should function independently of each other, as to obtain 2 N different states with a composable behavior. To achieve an attenuation of each stage that is independent of its surrounding stages, either one of two design choices is to be implemented: constant input resistance or constant output resistance.  Constant input resistance  The input resistance of any stage shall be independent of its on/off switch position, and must be equal to R load .  This leads to:      {       R   i  ,   p  a  r  r     =    (    R   i  ,  b    ⋅   R   l  o  a  d     )   /   (    R   i  ,  b    +   R   l  o  a  d     )             R   i  ,  a    +   R   i  ,   p  a  r  r      =   R   l  o  a  d             R   i  ,   p  a  r  r     /   (    R   i  ,  a    +   R   i  ,   p  a  r  r      )    =   R  a  t  i   o  i            cases     subscript  R   i    p  a  r  r        normal-⋅   subscript  R   i  b     subscript  R    l  o  a  d        subscript  R   i  b     subscript  R    l  o  a  d       otherwise       subscript  R   i  a     subscript  R   i    p  a  r  r       subscript  R    l  o  a  d     otherwise       subscript  R   i    p  a  r  r        subscript  R   i  a     subscript  R   i    p  a  r  r         R  a  t  i   subscript  o  i     otherwise    \begin{cases}R_{i,parr}=(R_{i,b}\cdot R_{load})/(R_{i,b}+R_{load})\\
 R_{i,a}+R_{i,parr}=R_{load}\\
 R_{i,parr}/(R_{i,a}+R_{i,parr})=Ratio_{i}\end{cases}     With these equations, all resistor values of the circuit diagram follow easily after choosing values for N,   α   α   \alpha   and R load . (The value of R source does not influence the logarithmic behavior)  Constant output resistance  The output resistance of any stage shall be independent of its on/off switch position, and must be equal to R source .  This leads to:      {       R   i  ,   s  e  r     =    R   i  ,  a    +   R   s  o  u  r  c  e               R   i  ,   s  e  r     ⋅   R   i  ,  b     /   (    R   i  ,   s  e  r     +   R   i  ,  b     )    =   R   s  o  u  r  c  e             R   i  ,  b    /   (    R   i  ,   s  e  r     +   R   i  ,  b     )    =   R  a  t  i   o  i            cases     subscript  R   i    s  e  r        subscript  R   i  a     subscript  R    s  o  u  r  c  e      otherwise       normal-⋅   subscript  R   i    s  e  r      subscript  R   i  b        subscript  R   i    s  e  r      subscript  R   i  b       subscript  R    s  o  u  r  c  e     otherwise       subscript  R   i  b       subscript  R   i    s  e  r      subscript  R   i  b        R  a  t  i   subscript  o  i     otherwise    \begin{cases}R_{i,ser}=R_{i,a}+R_{source}\\
 R_{i,ser}\cdot R_{i,b}/(R_{i,ser}+R_{i,b})=R_{source}\\
 R_{i,b}/(R_{i,ser}+R_{i,b})=Ratio_{i}\end{cases}     Again, all resistor values of the circuit diagram follow easily after choosing values for N,   α   α   \alpha   and R source . (The value of R load does not influence the logarithmic behavior)  Circuit variations   The circuit as depicted above, can also be applied in reverse direction. That correspondingly reverses the role of constant-input and constant-output resistance equations.  Since the stages do not influence each other's attenuation, the stage order can be chosen arbitrarily. Such reordering can have a significant effect on the input resistance of the constant output resistance attenuator and vice versa.   Background  R-2R ladder networks used for Digital-to-Analog conversion are rather old. A historic description is in a patent 2 filed in 1955.  Multiplying DA-converters with logarithmic behavior were not known for a long time after that. An initial approach was to map the logarithmic code to a much longer code word, which could be applied to the classical (linear) R-2R based DA-converter. Lengthening the codeword is needed in that approach to achieve sufficient dynamic range. This approach was implemented in a device from Analog Devices inc., 3 protected through a 1981 patent filing. 4  See also   Resistor ladder  Digital-to-analog converter  Attenuator circuits   References  External links   Online calculator to configure logarithmic ladder networks   "  Category:Articles created via the Article Wizard  Category:Electrical components  Category:Resistive components     ↩  ↩  LOGDAC: CMOS Logarithmic D/A Converter, "Analog Devices Inc. AD7118" ↩  ↩     