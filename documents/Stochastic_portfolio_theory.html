<html lang="en">
<head>
<meta charset="utf-8"/>
<title offset="348">Stochastic portfolio theory</title>
<script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_SVG.js" type="text/javascript">
</script>
</head>
<body>
<h1>Stochastic portfolio theory</h1>
<hr/>

<p><strong>Stochastic portfolio theory (SPT)</strong> is a mathematical theory for analyzing stock market structure and portfolio behavior introduced by E. Robert Fernholz in 2002. It is descriptive as opposed to normative, and is consistent with the observed behavior of actual markets. Normative assumptions, which serve as a basis for earlier theories like <a href="modern_portfolio_theory" title="wikilink">modern portfolio theory</a> (MPT) and the <a href="capital_asset_pricing_model" title="wikilink">capital asset pricing model</a> (CAPM), are absent from SPT.</p>

<p>SPT uses continuous-time <a href="stochastic_processes" title="wikilink">random processes</a> (in particular, continuous semi-martingales) to represent the prices of individual securities. Processes with discontinuities, such as jumps, have also been incorporated into the theory.</p>
<h2 id="stocks-portfolios-and-markets">Stocks, portfolios and markets</h2>

<p>SPT considers <a href="stock" title="wikilink"><strong>stocks</strong></a> and <a href="stock_market" title="wikilink"><strong>stock markets</strong></a>, but its methods can be applied to other classes of <a class="uri" href="assets" title="wikilink">assets</a> as well. A stock is represented by its price process, usually in the <strong>logarithmic representation</strong>. In the case the <strong>market</strong> is a collection of stock-price processes 

<math display="inline" id="Stochastic_portfolio_theory:0">
 <semantics>
  <mrow>
   <msub>
    <mi>X</mi>
    <mi>i</mi>
   </msub>
   <mo>,</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <csymbol cd="ambiguous">subscript</csymbol>
    <ci>X</ci>
    <ci>i</ci>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   X_{i},
  </annotation>
 </semantics>
</math>

 for 

<math display="inline" id="Stochastic_portfolio_theory:1">
 <semantics>
  <mrow>
   <mrow>
    <mi>i</mi>
    <mo>=</mo>
    <mrow>
     <mn>1</mn>
     <mo>,</mo>
     <mi mathvariant="normal">…</mi>
     <mo>,</mo>
     <mi>n</mi>
    </mrow>
   </mrow>
   <mo>,</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <ci>i</ci>
    <list>
     <cn type="integer">1</cn>
     <ci>normal-…</ci>
     <ci>n</ci>
    </list>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   i=1,\dots,n,
  </annotation>
 </semantics>
</math>

 each defined by a continuous <a class="uri" href="semimartingale" title="wikilink">semimartingale</a></p>

<p>

<math display="block" id="Stochastic_portfolio_theory:2">
 <semantics>
  <mrow>
   <mrow>
    <mi>d</mi>
    <mrow>
     <mi>log</mi>
     <msub>
      <mi>X</mi>
      <mi>i</mi>
     </msub>
    </mrow>
    <mrow>
     <mo stretchy="false">(</mo>
     <mi>t</mi>
     <mo stretchy="false">)</mo>
    </mrow>
   </mrow>
   <mo>=</mo>
   <mrow>
    <mrow>
     <msub>
      <mi>γ</mi>
      <mi>i</mi>
     </msub>
     <mrow>
      <mo stretchy="false">(</mo>
      <mi>t</mi>
      <mo rspace="4.2pt" stretchy="false">)</mo>
     </mrow>
     <mi>d</mi>
     <mi>t</mi>
    </mrow>
    <mo>+</mo>
    <mrow>
     <munderover>
      <mo largeop="true" movablelimits="false" symmetric="true">∑</mo>
      <mrow>
       <mi>ν</mi>
       <mo>=</mo>
       <mn>1</mn>
      </mrow>
      <mi>d</mi>
     </munderover>
     <mrow>
      <msub>
       <mi>ξ</mi>
       <mrow>
        <mi>i</mi>
        <mi>ν</mi>
       </mrow>
      </msub>
      <mrow>
       <mo stretchy="false">(</mo>
       <mi>t</mi>
       <mo rspace="4.2pt" stretchy="false">)</mo>
      </mrow>
      <mi>d</mi>
      <msub>
       <mi>W</mi>
       <mi>ν</mi>
      </msub>
      <mrow>
       <mo stretchy="false">(</mo>
       <mi>t</mi>
       <mo stretchy="false">)</mo>
      </mrow>
     </mrow>
    </mrow>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <times></times>
     <ci>d</ci>
     <apply>
      <log></log>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>X</ci>
       <ci>i</ci>
      </apply>
     </apply>
     <ci>t</ci>
    </apply>
    <apply>
     <plus></plus>
     <apply>
      <times></times>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>γ</ci>
       <ci>i</ci>
      </apply>
      <ci>t</ci>
      <ci>d</ci>
      <ci>t</ci>
     </apply>
     <apply>
      <apply>
       <csymbol cd="ambiguous">superscript</csymbol>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <sum></sum>
        <apply>
         <eq></eq>
         <ci>ν</ci>
         <cn type="integer">1</cn>
        </apply>
       </apply>
       <ci>d</ci>
      </apply>
      <apply>
       <times></times>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>ξ</ci>
        <apply>
         <times></times>
         <ci>i</ci>
         <ci>ν</ci>
        </apply>
       </apply>
       <ci>t</ci>
       <ci>d</ci>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>W</ci>
        <ci>ν</ci>
       </apply>
       <ci>t</ci>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   d\log X_{i}(t)=\gamma_{i}(t)\,dt+\sum_{\nu=1}^{d}\xi_{i\nu}(t)\,dW_{\nu}(t)
  </annotation>
 </semantics>
</math>

 where 

<math display="inline" id="Stochastic_portfolio_theory:3">
 <semantics>
  <mrow>
   <mi>W</mi>
   <mo>:=</mo>
   <mrow>
    <mo stretchy="false">(</mo>
    <msub>
     <mi>W</mi>
     <mn>1</mn>
    </msub>
    <mo>,</mo>
    <mi mathvariant="normal">…</mi>
    <mo>,</mo>
    <msub>
     <mi>W</mi>
     <mi>d</mi>
    </msub>
    <mo stretchy="false">)</mo>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <csymbol cd="latexml">assign</csymbol>
    <ci>W</ci>
    <vector>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <ci>W</ci>
      <cn type="integer">1</cn>
     </apply>
     <ci>normal-…</ci>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <ci>W</ci>
      <ci>d</ci>
     </apply>
    </vector>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   W:=(W_{1},\dots,W_{d})
  </annotation>
 </semantics>
</math>

 is an 

<math display="inline" id="Stochastic_portfolio_theory:4">
 <semantics>
  <mi>n</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>n</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   n
  </annotation>
 </semantics>
</math>

-dimensional <a href="Brownian_motion" title="wikilink">Brownian motion</a> <a href="wiener_process" title="wikilink">(Wiener) process</a> with 

<math display="inline" id="Stochastic_portfolio_theory:5">
 <semantics>
  <mrow>
   <mi>d</mi>
   <mo>≥</mo>
   <mi>n</mi>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <geq></geq>
    <ci>d</ci>
    <ci>n</ci>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   d\geq n
  </annotation>
 </semantics>
</math>

, and the processes 

<math display="inline" id="Stochastic_portfolio_theory:6">
 <semantics>
  <msub>
   <mi>γ</mi>
   <mi>i</mi>
  </msub>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <csymbol cd="ambiguous">subscript</csymbol>
    <ci>γ</ci>
    <ci>i</ci>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \gamma_{i}
  </annotation>
 </semantics>
</math>

 and 

<math display="inline" id="Stochastic_portfolio_theory:7">
 <semantics>
  <msub>
   <mi>ξ</mi>
   <mrow>
    <mi>i</mi>
    <mi>ν</mi>
   </mrow>
  </msub>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <csymbol cd="ambiguous">subscript</csymbol>
    <ci>ξ</ci>
    <apply>
     <times></times>
     <ci>i</ci>
     <ci>ν</ci>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \xi_{i\nu}
  </annotation>
 </semantics>
</math>

 are <a href="progressively_measurable" title="wikilink">progressively measurable</a> with respect to the Brownian filtration 

<math display="inline" id="Stochastic_portfolio_theory:8">
 <semantics>
  <mrow>
   <mrow>
    <mo stretchy="false">{</mo>
    <msub>
     <mi class="ltx_font_mathcaligraphic">ℱ</mi>
     <mi>t</mi>
    </msub>
    <mo stretchy="false">}</mo>
   </mrow>
   <mo>=</mo>
   <mrow>
    <mo stretchy="false">{</mo>
    <msubsup>
     <mi class="ltx_font_mathcaligraphic">ℱ</mi>
     <mi>t</mi>
     <mi>W</mi>
    </msubsup>
    <mo stretchy="false">}</mo>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <set>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <ci>ℱ</ci>
      <ci>t</ci>
     </apply>
    </set>
    <set>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <apply>
       <csymbol cd="ambiguous">superscript</csymbol>
       <ci>ℱ</ci>
       <ci>W</ci>
      </apply>
      <ci>t</ci>
     </apply>
    </set>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \{\mathcal{F}_{t}\}=\{\mathcal{F}^{W}_{t}\}
  </annotation>
 </semantics>
</math>

. In this representation 

<math display="inline" id="Stochastic_portfolio_theory:9">
 <semantics>
  <mrow>
   <msub>
    <mi>γ</mi>
    <mi>i</mi>
   </msub>
   <mrow>
    <mo stretchy="false">(</mo>
    <mi>t</mi>
    <mo stretchy="false">)</mo>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <times></times>
    <apply>
     <csymbol cd="ambiguous">subscript</csymbol>
     <ci>γ</ci>
     <ci>i</ci>
    </apply>
    <ci>t</ci>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \gamma_{i}(t)
  </annotation>
 </semantics>
</math>

 is called the (compound) <a href="exponential_growth" title="wikilink"><strong>growth rate</strong></a> of 

<math display="inline" id="Stochastic_portfolio_theory:10">
 <semantics>
  <mrow>
   <msub>
    <mi>X</mi>
    <mi>i</mi>
   </msub>
   <mo>,</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <csymbol cd="ambiguous">subscript</csymbol>
    <ci>X</ci>
    <ci>i</ci>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   X_{i},
  </annotation>
 </semantics>
</math>

 and the <strong><a class="uri" href="covariance" title="wikilink">covariance</a></strong> between 

<math display="inline" id="Stochastic_portfolio_theory:11">
 <semantics>
  <mrow>
   <mi>log</mi>
   <msub>
    <mi>X</mi>
    <mi>i</mi>
   </msub>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <log></log>
    <apply>
     <csymbol cd="ambiguous">subscript</csymbol>
     <ci>X</ci>
     <ci>i</ci>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \log X_{i}
  </annotation>
 </semantics>
</math>

 and 

<math display="inline" id="Stochastic_portfolio_theory:12">
 <semantics>
  <mrow>
   <mi>log</mi>
   <msub>
    <mi>X</mi>
    <mi>j</mi>
   </msub>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <log></log>
    <apply>
     <csymbol cd="ambiguous">subscript</csymbol>
     <ci>X</ci>
     <ci>j</ci>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \log X_{j}
  </annotation>
 </semantics>
</math>

 is 

<math display="inline" id="Stochastic_portfolio_theory:13">
 <semantics>
  <mrow>
   <mrow>
    <mrow>
     <msub>
      <mi>σ</mi>
      <mrow>
       <mi>i</mi>
       <mi>j</mi>
      </mrow>
     </msub>
     <mrow>
      <mo stretchy="false">(</mo>
      <mi>t</mi>
      <mo stretchy="false">)</mo>
     </mrow>
    </mrow>
    <mo>=</mo>
    <mrow>
     <msubsup>
      <mo largeop="true" symmetric="true">∑</mo>
      <mrow>
       <mi>ν</mi>
       <mo>=</mo>
       <mn>1</mn>
      </mrow>
      <mi>d</mi>
     </msubsup>
     <mrow>
      <msub>
       <mi>ξ</mi>
       <mrow>
        <mi>i</mi>
        <mi>ν</mi>
       </mrow>
      </msub>
      <mrow>
       <mo stretchy="false">(</mo>
       <mi>t</mi>
       <mo stretchy="false">)</mo>
      </mrow>
      <msub>
       <mi>ξ</mi>
       <mrow>
        <mi>j</mi>
        <mi>ν</mi>
       </mrow>
      </msub>
      <mrow>
       <mo stretchy="false">(</mo>
       <mi>t</mi>
       <mo stretchy="false">)</mo>
      </mrow>
     </mrow>
    </mrow>
   </mrow>
   <mo>.</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <times></times>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <ci>σ</ci>
      <apply>
       <times></times>
       <ci>i</ci>
       <ci>j</ci>
      </apply>
     </apply>
     <ci>t</ci>
    </apply>
    <apply>
     <apply>
      <csymbol cd="ambiguous">superscript</csymbol>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <sum></sum>
       <apply>
        <eq></eq>
        <ci>ν</ci>
        <cn type="integer">1</cn>
       </apply>
      </apply>
      <ci>d</ci>
     </apply>
     <apply>
      <times></times>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>ξ</ci>
       <apply>
        <times></times>
        <ci>i</ci>
        <ci>ν</ci>
       </apply>
      </apply>
      <ci>t</ci>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>ξ</ci>
       <apply>
        <times></times>
        <ci>j</ci>
        <ci>ν</ci>
       </apply>
      </apply>
      <ci>t</ci>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \sigma_{ij}(t)=\sum_{\nu=1}^{d}\xi_{i\nu}(t)\xi_{j\nu}(t).
  </annotation>
 </semantics>
</math>

 It is frequently assumed that, for all 

<math display="inline" id="Stochastic_portfolio_theory:14">
 <semantics>
  <mrow>
   <mi>i</mi>
   <mo>,</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <ci>i</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   i,
  </annotation>
 </semantics>
</math>

 the process 

<math display="inline" id="Stochastic_portfolio_theory:15">
 <semantics>
  <mrow>
   <mrow>
    <msubsup>
     <mi>ξ</mi>
     <mrow>
      <mi>i</mi>
      <mo>,</mo>
      <mn>1</mn>
     </mrow>
     <mn>2</mn>
    </msubsup>
    <mrow>
     <mo stretchy="false">(</mo>
     <mi>t</mi>
     <mo stretchy="false">)</mo>
    </mrow>
   </mrow>
   <mo>+</mo>
   <mi mathvariant="normal">⋯</mi>
   <mo>+</mo>
   <mrow>
    <msubsup>
     <mi>ξ</mi>
     <mrow>
      <mi>i</mi>
      <mi>d</mi>
     </mrow>
     <mn>2</mn>
    </msubsup>
    <mrow>
     <mo stretchy="false">(</mo>
     <mi>t</mi>
     <mo stretchy="false">)</mo>
    </mrow>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <plus></plus>
    <apply>
     <times></times>
     <apply>
      <csymbol cd="ambiguous">superscript</csymbol>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>ξ</ci>
       <list>
        <ci>i</ci>
        <cn type="integer">1</cn>
       </list>
      </apply>
      <cn type="integer">2</cn>
     </apply>
     <ci>t</ci>
    </apply>
    <ci>normal-⋯</ci>
    <apply>
     <times></times>
     <apply>
      <csymbol cd="ambiguous">superscript</csymbol>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>ξ</ci>
       <apply>
        <times></times>
        <ci>i</ci>
        <ci>d</ci>
       </apply>
      </apply>
      <cn type="integer">2</cn>
     </apply>
     <ci>t</ci>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \xi_{i,1}^{2}(t)+\cdots+\xi_{id}^{2}(t)
  </annotation>
 </semantics>
</math>

 is positive, locally <a href="Itō_calculus#square_integrable_martingales" title="wikilink">square-integrable</a>, and does not grow too rapidly as 

<math display="inline" id="Stochastic_portfolio_theory:16">
 <semantics>
  <mrow>
   <mrow>
    <mi>t</mi>
    <mo>→</mo>
    <mi mathvariant="normal">∞</mi>
   </mrow>
   <mo>.</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <ci>normal-→</ci>
    <ci>t</ci>
    <infinity></infinity>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   t\rightarrow\infty.
  </annotation>
 </semantics>
</math>

</p>

<p>The logarithmic representation is equivalent to the classical arithmetic representation which uses the <strong>rate of return</strong> 

<math display="inline" id="Stochastic_portfolio_theory:17">
 <semantics>
  <mrow>
   <mrow>
    <msub>
     <mi>α</mi>
     <mi>i</mi>
    </msub>
    <mrow>
     <mo stretchy="false">(</mo>
     <mi>t</mi>
     <mo stretchy="false">)</mo>
    </mrow>
   </mrow>
   <mo>,</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <times></times>
    <apply>
     <csymbol cd="ambiguous">subscript</csymbol>
     <ci>α</ci>
     <ci>i</ci>
    </apply>
    <ci>t</ci>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \alpha_{i}(t),
  </annotation>
 </semantics>
</math>

 however the growth rate can be a meaningful indicator of long-term performance of a financial asset, whereas the rate of return has an upward bias. The relation between the rate of return and the growth rate is</p>

<p>

<math display="block" id="Stochastic_portfolio_theory:18">
 <semantics>
  <mrow>
   <mrow>
    <msub>
     <mi>α</mi>
     <mi>i</mi>
    </msub>
    <mrow>
     <mo stretchy="false">(</mo>
     <mi>t</mi>
     <mo stretchy="false">)</mo>
    </mrow>
   </mrow>
   <mo>=</mo>
   <mrow>
    <mrow>
     <msub>
      <mi>γ</mi>
      <mi>i</mi>
     </msub>
     <mrow>
      <mo stretchy="false">(</mo>
      <mi>t</mi>
      <mo stretchy="false">)</mo>
     </mrow>
    </mrow>
    <mo>+</mo>
    <mfrac>
     <mrow>
      <msub>
       <mi>σ</mi>
       <mrow>
        <mi>i</mi>
        <mi>i</mi>
       </mrow>
      </msub>
      <mrow>
       <mo stretchy="false">(</mo>
       <mi>t</mi>
       <mo stretchy="false">)</mo>
      </mrow>
     </mrow>
     <mn>2</mn>
    </mfrac>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <times></times>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <ci>α</ci>
      <ci>i</ci>
     </apply>
     <ci>t</ci>
    </apply>
    <apply>
     <plus></plus>
     <apply>
      <times></times>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>γ</ci>
       <ci>i</ci>
      </apply>
      <ci>t</ci>
     </apply>
     <apply>
      <divide></divide>
      <apply>
       <times></times>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>σ</ci>
        <apply>
         <times></times>
         <ci>i</ci>
         <ci>i</ci>
        </apply>
       </apply>
       <ci>t</ci>
      </apply>
      <cn type="integer">2</cn>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \alpha_{i}(t)=\gamma_{i}(t)+\frac{\sigma_{ii}(t)}{2}
  </annotation>
 </semantics>
</math>

 The usual convention in SPT is to assume that each stock has a single share outstanding, so 

<math display="inline" id="Stochastic_portfolio_theory:19">
 <semantics>
  <mrow>
   <msub>
    <mi>X</mi>
    <mi>i</mi>
   </msub>
   <mrow>
    <mo stretchy="false">(</mo>
    <mi>t</mi>
    <mo stretchy="false">)</mo>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <times></times>
    <apply>
     <csymbol cd="ambiguous">subscript</csymbol>
     <ci>X</ci>
     <ci>i</ci>
    </apply>
    <ci>t</ci>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   X_{i}(t)
  </annotation>
 </semantics>
</math>

 represents the total capitalization of the 

<math display="inline" id="Stochastic_portfolio_theory:20">
 <semantics>
  <mi>i</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>i</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   i
  </annotation>
 </semantics>
</math>

-th stock at time 

<math display="inline" id="Stochastic_portfolio_theory:21">
 <semantics>
  <mrow>
   <mi>t</mi>
   <mo>,</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <ci>t</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   t,
  </annotation>
 </semantics>
</math>

 and 

<math display="inline" id="Stochastic_portfolio_theory:22">
 <semantics>
  <mrow>
   <mrow>
    <mi>X</mi>
    <mrow>
     <mo stretchy="false">(</mo>
     <mi>t</mi>
     <mo stretchy="false">)</mo>
    </mrow>
   </mrow>
   <mo>=</mo>
   <mrow>
    <mrow>
     <msub>
      <mi>X</mi>
      <mn>1</mn>
     </msub>
     <mrow>
      <mo stretchy="false">(</mo>
      <mi>t</mi>
      <mo stretchy="false">)</mo>
     </mrow>
    </mrow>
    <mo>+</mo>
    <mi mathvariant="normal">⋯</mi>
    <mo>+</mo>
    <mrow>
     <msub>
      <mi>X</mi>
      <mi>n</mi>
     </msub>
     <mrow>
      <mo stretchy="false">(</mo>
      <mi>t</mi>
      <mo stretchy="false">)</mo>
     </mrow>
    </mrow>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <times></times>
     <ci>X</ci>
     <ci>t</ci>
    </apply>
    <apply>
     <plus></plus>
     <apply>
      <times></times>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>X</ci>
       <cn type="integer">1</cn>
      </apply>
      <ci>t</ci>
     </apply>
     <ci>normal-⋯</ci>
     <apply>
      <times></times>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>X</ci>
       <ci>n</ci>
      </apply>
      <ci>t</ci>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   X(t)=X_{1}(t)+\cdots+X_{n}(t)
  </annotation>
 </semantics>
</math>

 is the total capitalization of the market. Dividends can be included in this representation, but are omitted here for simplicity.</p>

<p>An <strong>investment strategy</strong> 

<math display="inline" id="Stochastic_portfolio_theory:23">
 <semantics>
  <mrow>
   <mi>π</mi>
   <mo>=</mo>
   <mrow>
    <mo stretchy="false">(</mo>
    <msub>
     <mi>π</mi>
     <mn>1</mn>
    </msub>
    <mo>,</mo>
    <mi mathvariant="normal">⋯</mi>
    <mo>,</mo>
    <msub>
     <mi>π</mi>
     <mi>n</mi>
    </msub>
    <mo stretchy="false">)</mo>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <ci>π</ci>
    <vector>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <ci>π</ci>
      <cn type="integer">1</cn>
     </apply>
     <ci>normal-⋯</ci>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <ci>π</ci>
      <ci>n</ci>
     </apply>
    </vector>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \pi=(\pi_{1},\cdots,\pi_{n})
  </annotation>
 </semantics>
</math>

 is a vector of bounded, progressively measurable processes; the quantity 

<math display="inline" id="Stochastic_portfolio_theory:24">
 <semantics>
  <mrow>
   <msub>
    <mi>π</mi>
    <mi>i</mi>
   </msub>
   <mrow>
    <mo stretchy="false">(</mo>
    <mi>t</mi>
    <mo stretchy="false">)</mo>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <times></times>
    <apply>
     <csymbol cd="ambiguous">subscript</csymbol>
     <ci>π</ci>
     <ci>i</ci>
    </apply>
    <ci>t</ci>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \pi_{i}(t)
  </annotation>
 </semantics>
</math>

 represents the proportion of total wealth invested in the 

<math display="inline" id="Stochastic_portfolio_theory:25">
 <semantics>
  <mi>i</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>i</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   i
  </annotation>
 </semantics>
</math>

-th stock at time 

<math display="inline" id="Stochastic_portfolio_theory:26">
 <semantics>
  <mi>t</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>t</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   t
  </annotation>
 </semantics>
</math>

, and 

<math display="inline" id="Stochastic_portfolio_theory:27">
 <semantics>
  <mrow>
   <mrow>
    <msub>
     <mi>π</mi>
     <mn>0</mn>
    </msub>
    <mrow>
     <mo stretchy="false">(</mo>
     <mi>t</mi>
     <mo stretchy="false">)</mo>
    </mrow>
   </mrow>
   <mo>:=</mo>
   <mrow>
    <mn>1</mn>
    <mo>-</mo>
    <mrow>
     <msubsup>
      <mo largeop="true" symmetric="true">∑</mo>
      <mrow>
       <mi>i</mi>
       <mo>=</mo>
       <mn>1</mn>
      </mrow>
      <mi>n</mi>
     </msubsup>
     <mrow>
      <msub>
       <mi>π</mi>
       <mi>i</mi>
      </msub>
      <mrow>
       <mo stretchy="false">(</mo>
       <mi>t</mi>
       <mo stretchy="false">)</mo>
      </mrow>
     </mrow>
    </mrow>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <csymbol cd="latexml">assign</csymbol>
    <apply>
     <times></times>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <ci>π</ci>
      <cn type="integer">0</cn>
     </apply>
     <ci>t</ci>
    </apply>
    <apply>
     <minus></minus>
     <cn type="integer">1</cn>
     <apply>
      <apply>
       <csymbol cd="ambiguous">superscript</csymbol>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <sum></sum>
        <apply>
         <eq></eq>
         <ci>i</ci>
         <cn type="integer">1</cn>
        </apply>
       </apply>
       <ci>n</ci>
      </apply>
      <apply>
       <times></times>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>π</ci>
        <ci>i</ci>
       </apply>
       <ci>t</ci>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \pi_{0}(t):=1-\sum_{i=1}^{n}\pi_{i}(t)
  </annotation>
 </semantics>
</math>

 is the proportion hoarded (invested in a money market with zero interest rate). Negative weights correspond to short positions. The cash strategy 

<math display="inline" id="Stochastic_portfolio_theory:28">
 <semantics>
  <mrow>
   <mi>κ</mi>
   <mo>≡</mo>
   <mn>0</mn>
   <mrow>
    <mo stretchy="false">(</mo>
    <msub>
     <mi>κ</mi>
     <mn>0</mn>
    </msub>
    <mo>≡</mo>
    <mn>1</mn>
    <mo stretchy="false">)</mo>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <cerror>
    <csymbol cd="ambiguous">fragments</csymbol>
    <csymbol cd="unknown">κ</csymbol>
    <equivalent></equivalent>
    <cn type="integer">0</cn>
    <cerror>
     <csymbol cd="ambiguous">fragments</csymbol>
     <ci>normal-(</ci>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <ci>κ</ci>
      <cn type="integer">0</cn>
     </apply>
     <equivalent></equivalent>
     <cn type="integer">1</cn>
     <ci>normal-)</ci>
    </cerror>
   </cerror>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \kappa\equiv 0(\kappa_{0}\equiv 1)
  </annotation>
 </semantics>
</math>

 keeps all wealth in the money market. A strategy 

<math display="inline" id="Stochastic_portfolio_theory:29">
 <semantics>
  <mi>π</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>π</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \pi
  </annotation>
 </semantics>
</math>

 is called <a href="Portfolio_(finance)" title="wikilink"><strong>portfolio</strong></a>, if it is fully invested in the <a href="stock_market" title="wikilink">stock market</a>, that is 

<math display="inline" id="Stochastic_portfolio_theory:30">
 <semantics>
  <mrow>
   <mrow>
    <mrow>
     <msub>
      <mi>π</mi>
      <mn>1</mn>
     </msub>
     <mrow>
      <mo stretchy="false">(</mo>
      <mi>t</mi>
      <mo stretchy="false">)</mo>
     </mrow>
    </mrow>
    <mo>+</mo>
    <mi mathvariant="normal">⋯</mi>
    <mo>+</mo>
    <mrow>
     <msub>
      <mi>π</mi>
      <mi>n</mi>
     </msub>
     <mrow>
      <mo stretchy="false">(</mo>
      <mi>t</mi>
      <mo stretchy="false">)</mo>
     </mrow>
    </mrow>
   </mrow>
   <mo>=</mo>
   <mn>1</mn>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <plus></plus>
     <apply>
      <times></times>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>π</ci>
       <cn type="integer">1</cn>
      </apply>
      <ci>t</ci>
     </apply>
     <ci>normal-⋯</ci>
     <apply>
      <times></times>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>π</ci>
       <ci>n</ci>
      </apply>
      <ci>t</ci>
     </apply>
    </apply>
    <cn type="integer">1</cn>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \pi_{1}(t)+\cdots+\pi_{n}(t)=1
  </annotation>
 </semantics>
</math>

 holds, at all times.</p>

<p>The <strong>value process</strong> 

<math display="inline" id="Stochastic_portfolio_theory:31">
 <semantics>
  <msub>
   <mi>Z</mi>
   <mi>π</mi>
  </msub>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <csymbol cd="ambiguous">subscript</csymbol>
    <ci>Z</ci>
    <ci>π</ci>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   Z_{\pi}
  </annotation>
 </semantics>
</math>

 of a strategy 

<math display="inline" id="Stochastic_portfolio_theory:32">
 <semantics>
  <mi>π</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>π</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \pi
  </annotation>
 </semantics>
</math>

 is always positive and satisfies</p>

<p>

<math display="block" id="Stochastic_portfolio_theory:33">
 <semantics>
  <mrow>
   <mrow>
    <mi>d</mi>
    <mrow>
     <mi>log</mi>
     <msub>
      <mi>Z</mi>
      <mi>π</mi>
     </msub>
    </mrow>
    <mrow>
     <mo stretchy="false">(</mo>
     <mi>t</mi>
     <mo stretchy="false">)</mo>
    </mrow>
   </mrow>
   <mo>=</mo>
   <mrow>
    <mrow>
     <munderover>
      <mo largeop="true" movablelimits="false" symmetric="true">∑</mo>
      <mrow>
       <mi>i</mi>
       <mo>=</mo>
       <mn>1</mn>
      </mrow>
      <mi>n</mi>
     </munderover>
     <mrow>
      <msub>
       <mi>π</mi>
       <mi>i</mi>
      </msub>
      <mrow>
       <mo stretchy="false">(</mo>
       <mi>t</mi>
       <mo rspace="4.2pt" stretchy="false">)</mo>
      </mrow>
      <mi>d</mi>
      <mrow>
       <mi>log</mi>
       <msub>
        <mi>X</mi>
        <mi>i</mi>
       </msub>
      </mrow>
      <mrow>
       <mo stretchy="false">(</mo>
       <mi>t</mi>
       <mo stretchy="false">)</mo>
      </mrow>
     </mrow>
    </mrow>
    <mo>+</mo>
    <mrow>
     <msubsup>
      <mi>γ</mi>
      <mi>π</mi>
      <mo>*</mo>
     </msubsup>
     <mrow>
      <mo stretchy="false">(</mo>
      <mi>t</mi>
      <mo rspace="4.2pt" stretchy="false">)</mo>
     </mrow>
     <mi>d</mi>
     <mi>t</mi>
    </mrow>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <times></times>
     <ci>d</ci>
     <apply>
      <log></log>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>Z</ci>
       <ci>π</ci>
      </apply>
     </apply>
     <ci>t</ci>
    </apply>
    <apply>
     <plus></plus>
     <apply>
      <apply>
       <csymbol cd="ambiguous">superscript</csymbol>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <sum></sum>
        <apply>
         <eq></eq>
         <ci>i</ci>
         <cn type="integer">1</cn>
        </apply>
       </apply>
       <ci>n</ci>
      </apply>
      <apply>
       <times></times>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>π</ci>
        <ci>i</ci>
       </apply>
       <ci>t</ci>
       <ci>d</ci>
       <apply>
        <log></log>
        <apply>
         <csymbol cd="ambiguous">subscript</csymbol>
         <ci>X</ci>
         <ci>i</ci>
        </apply>
       </apply>
       <ci>t</ci>
      </apply>
     </apply>
     <apply>
      <times></times>
      <apply>
       <csymbol cd="ambiguous">superscript</csymbol>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>γ</ci>
        <ci>π</ci>
       </apply>
       <times></times>
      </apply>
      <ci>t</ci>
      <ci>d</ci>
      <ci>t</ci>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   d\log Z_{\pi}(t)=\sum_{i=1}^{n}\pi_{i}(t)\,d\log X_{i}(t)+\gamma_{\pi}^{*}(t)%
\,dt
  </annotation>
 </semantics>
</math>

</p>

<p>where the process 

<math display="inline" id="Stochastic_portfolio_theory:34">
 <semantics>
  <msubsup>
   <mi>γ</mi>
   <mi>π</mi>
   <mo>*</mo>
  </msubsup>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <csymbol cd="ambiguous">superscript</csymbol>
    <apply>
     <csymbol cd="ambiguous">subscript</csymbol>
     <ci>γ</ci>
     <ci>π</ci>
    </apply>
    <times></times>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \gamma_{\pi}^{*}
  </annotation>
 </semantics>
</math>

 is called the <strong>excess growth rate process</strong> and is given by</p>

<p>

<math display="block" id="Stochastic_portfolio_theory:35">
 <semantics>
  <mrow>
   <mrow>
    <msubsup>
     <mi>γ</mi>
     <mi>π</mi>
     <mo>*</mo>
    </msubsup>
    <mrow>
     <mo stretchy="false">(</mo>
     <mi>t</mi>
     <mo stretchy="false">)</mo>
    </mrow>
   </mrow>
   <mo>:=</mo>
   <mrow>
    <mrow>
     <mfrac>
      <mn>1</mn>
      <mn>2</mn>
     </mfrac>
     <mrow>
      <munderover>
       <mo largeop="true" movablelimits="false" symmetric="true">∑</mo>
       <mrow>
        <mi>i</mi>
        <mo>=</mo>
        <mn>1</mn>
       </mrow>
       <mi>n</mi>
      </munderover>
      <mrow>
       <msub>
        <mi>π</mi>
        <mi>i</mi>
       </msub>
       <mrow>
        <mo stretchy="false">(</mo>
        <mi>t</mi>
        <mo stretchy="false">)</mo>
       </mrow>
       <msub>
        <mi>σ</mi>
        <mrow>
         <mi>i</mi>
         <mi>i</mi>
        </mrow>
       </msub>
       <mrow>
        <mo stretchy="false">(</mo>
        <mi>t</mi>
        <mo stretchy="false">)</mo>
       </mrow>
      </mrow>
     </mrow>
    </mrow>
    <mo>-</mo>
    <mrow>
     <mfrac>
      <mn>1</mn>
      <mn>2</mn>
     </mfrac>
     <mrow>
      <munderover>
       <mo largeop="true" movablelimits="false" symmetric="true">∑</mo>
       <mrow>
        <mrow>
         <mi>i</mi>
         <mo>,</mo>
         <mi>j</mi>
        </mrow>
        <mo>=</mo>
        <mn>1</mn>
       </mrow>
       <mi>n</mi>
      </munderover>
      <mrow>
       <msub>
        <mi>π</mi>
        <mi>i</mi>
       </msub>
       <mrow>
        <mo stretchy="false">(</mo>
        <mi>t</mi>
        <mo stretchy="false">)</mo>
       </mrow>
       <msub>
        <mi>π</mi>
        <mi>j</mi>
       </msub>
       <mrow>
        <mo stretchy="false">(</mo>
        <mi>t</mi>
        <mo stretchy="false">)</mo>
       </mrow>
       <msub>
        <mi>σ</mi>
        <mrow>
         <mi>i</mi>
         <mi>j</mi>
        </mrow>
       </msub>
       <mrow>
        <mo stretchy="false">(</mo>
        <mi>t</mi>
        <mo stretchy="false">)</mo>
       </mrow>
      </mrow>
     </mrow>
    </mrow>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <csymbol cd="latexml">assign</csymbol>
    <apply>
     <times></times>
     <apply>
      <csymbol cd="ambiguous">superscript</csymbol>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>γ</ci>
       <ci>π</ci>
      </apply>
      <times></times>
     </apply>
     <ci>t</ci>
    </apply>
    <apply>
     <minus></minus>
     <apply>
      <times></times>
      <apply>
       <divide></divide>
       <cn type="integer">1</cn>
       <cn type="integer">2</cn>
      </apply>
      <apply>
       <apply>
        <csymbol cd="ambiguous">superscript</csymbol>
        <apply>
         <csymbol cd="ambiguous">subscript</csymbol>
         <sum></sum>
         <apply>
          <eq></eq>
          <ci>i</ci>
          <cn type="integer">1</cn>
         </apply>
        </apply>
        <ci>n</ci>
       </apply>
       <apply>
        <times></times>
        <apply>
         <csymbol cd="ambiguous">subscript</csymbol>
         <ci>π</ci>
         <ci>i</ci>
        </apply>
        <ci>t</ci>
        <apply>
         <csymbol cd="ambiguous">subscript</csymbol>
         <ci>σ</ci>
         <apply>
          <times></times>
          <ci>i</ci>
          <ci>i</ci>
         </apply>
        </apply>
        <ci>t</ci>
       </apply>
      </apply>
     </apply>
     <apply>
      <times></times>
      <apply>
       <divide></divide>
       <cn type="integer">1</cn>
       <cn type="integer">2</cn>
      </apply>
      <apply>
       <apply>
        <csymbol cd="ambiguous">superscript</csymbol>
        <apply>
         <csymbol cd="ambiguous">subscript</csymbol>
         <sum></sum>
         <apply>
          <eq></eq>
          <list>
           <ci>i</ci>
           <ci>j</ci>
          </list>
          <cn type="integer">1</cn>
         </apply>
        </apply>
        <ci>n</ci>
       </apply>
       <apply>
        <times></times>
        <apply>
         <csymbol cd="ambiguous">subscript</csymbol>
         <ci>π</ci>
         <ci>i</ci>
        </apply>
        <ci>t</ci>
        <apply>
         <csymbol cd="ambiguous">subscript</csymbol>
         <ci>π</ci>
         <ci>j</ci>
        </apply>
        <ci>t</ci>
        <apply>
         <csymbol cd="ambiguous">subscript</csymbol>
         <ci>σ</ci>
         <apply>
          <times></times>
          <ci>i</ci>
          <ci>j</ci>
         </apply>
        </apply>
        <ci>t</ci>
       </apply>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \gamma_{\pi}^{*}(t):=\frac{1}{2}\sum_{i=1}^{n}\pi_{i}(t)\sigma_{ii}(t)-\frac{1%
}{2}\sum_{i,j=1}^{n}\pi_{i}(t)\pi_{j}(t)\sigma_{ij}(t)
  </annotation>
 </semantics>
</math>

</p>

<p>This expression is non-negative for a portfolio with non-negative weights 

<math display="inline" id="Stochastic_portfolio_theory:36">
 <semantics>
  <mrow>
   <msub>
    <mi>π</mi>
    <mi>i</mi>
   </msub>
   <mrow>
    <mo stretchy="false">(</mo>
    <mi>t</mi>
    <mo stretchy="false">)</mo>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <times></times>
    <apply>
     <csymbol cd="ambiguous">subscript</csymbol>
     <ci>π</ci>
     <ci>i</ci>
    </apply>
    <ci>t</ci>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \pi_{i}(t)
  </annotation>
 </semantics>
</math>

 and has been used in <a href="quadratic_programming" title="wikilink">quadratic optimization</a> of stock portfolios, a special case of which is optimization with respect to the logarithmic utility function.</p>

<p>The <strong>market weight processes</strong>,</p>

<p>

<math display="block" id="Stochastic_portfolio_theory:37">
 <semantics>
  <mrow>
   <mrow>
    <msub>
     <mi>μ</mi>
     <mi>i</mi>
    </msub>
    <mrow>
     <mo stretchy="false">(</mo>
     <mi>t</mi>
     <mo stretchy="false">)</mo>
    </mrow>
   </mrow>
   <mo>:=</mo>
   <mfrac>
    <mrow>
     <msub>
      <mi>X</mi>
      <mi>i</mi>
     </msub>
     <mrow>
      <mo stretchy="false">(</mo>
      <mi>t</mi>
      <mo stretchy="false">)</mo>
     </mrow>
    </mrow>
    <mrow>
     <mrow>
      <msub>
       <mi>X</mi>
       <mn>1</mn>
      </msub>
      <mrow>
       <mo stretchy="false">(</mo>
       <mi>t</mi>
       <mo stretchy="false">)</mo>
      </mrow>
     </mrow>
     <mo>+</mo>
     <mi mathvariant="normal">⋯</mi>
     <mo>+</mo>
     <mrow>
      <msub>
       <mi>X</mi>
       <mi>n</mi>
      </msub>
      <mrow>
       <mo stretchy="false">(</mo>
       <mi>t</mi>
       <mo stretchy="false">)</mo>
      </mrow>
     </mrow>
    </mrow>
   </mfrac>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <csymbol cd="latexml">assign</csymbol>
    <apply>
     <times></times>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <ci>μ</ci>
      <ci>i</ci>
     </apply>
     <ci>t</ci>
    </apply>
    <apply>
     <divide></divide>
     <apply>
      <times></times>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>X</ci>
       <ci>i</ci>
      </apply>
      <ci>t</ci>
     </apply>
     <apply>
      <plus></plus>
      <apply>
       <times></times>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>X</ci>
        <cn type="integer">1</cn>
       </apply>
       <ci>t</ci>
      </apply>
      <ci>normal-⋯</ci>
      <apply>
       <times></times>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>X</ci>
        <ci>n</ci>
       </apply>
       <ci>t</ci>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \mu_{i}(t):=\frac{X_{i}(t)}{X_{1}(t)+\cdots+X_{n}(t)}
  </annotation>
 </semantics>
</math>

 where 

<math display="inline" id="Stochastic_portfolio_theory:38">
 <semantics>
  <mrow>
   <mi>i</mi>
   <mo>=</mo>
   <mrow>
    <mn>1</mn>
    <mo>,</mo>
    <mi mathvariant="normal">…</mi>
    <mo>,</mo>
    <mi>n</mi>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <ci>i</ci>
    <list>
     <cn type="integer">1</cn>
     <ci>normal-…</ci>
     <ci>n</ci>
    </list>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   i=1,\dots,n
  </annotation>
 </semantics>
</math>

 define the <strong>market portfolio</strong> 

<math display="inline" id="Stochastic_portfolio_theory:39">
 <semantics>
  <mi>μ</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>μ</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \mu
  </annotation>
 </semantics>
</math>

. With the initial condition 

<math display="inline" id="Stochastic_portfolio_theory:40">
 <semantics>
  <mrow>
   <mrow>
    <mrow>
     <msub>
      <mi>Z</mi>
      <mi>μ</mi>
     </msub>
     <mrow>
      <mo stretchy="false">(</mo>
      <mn>0</mn>
      <mo stretchy="false">)</mo>
     </mrow>
    </mrow>
    <mo>=</mo>
    <mrow>
     <mi>X</mi>
     <mrow>
      <mo stretchy="false">(</mo>
      <mn>0</mn>
      <mo stretchy="false">)</mo>
     </mrow>
    </mrow>
   </mrow>
   <mo>,</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <times></times>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <ci>Z</ci>
      <ci>μ</ci>
     </apply>
     <cn type="integer">0</cn>
    </apply>
    <apply>
     <times></times>
     <ci>X</ci>
     <cn type="integer">0</cn>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   Z_{\mu}(0)=X(0),
  </annotation>
 </semantics>
</math>

 the associated value process will satisfy 

<math display="inline" id="Stochastic_portfolio_theory:41">
 <semantics>
  <mrow>
   <mrow>
    <msub>
     <mi>Z</mi>
     <mi>μ</mi>
    </msub>
    <mrow>
     <mo stretchy="false">(</mo>
     <mi>t</mi>
     <mo stretchy="false">)</mo>
    </mrow>
   </mrow>
   <mo>=</mo>
   <mrow>
    <mi>X</mi>
    <mrow>
     <mo stretchy="false">(</mo>
     <mi>t</mi>
     <mo stretchy="false">)</mo>
    </mrow>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <times></times>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <ci>Z</ci>
      <ci>μ</ci>
     </apply>
     <ci>t</ci>
    </apply>
    <apply>
     <times></times>
     <ci>X</ci>
     <ci>t</ci>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   Z_{\mu}(t)=X(t)
  </annotation>
 </semantics>
</math>

 for all 

<math display="inline" id="Stochastic_portfolio_theory:42">
 <semantics>
  <mrow>
   <mi>t</mi>
   <mo>.</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <ci>t</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   t.
  </annotation>
 </semantics>
</math>

</p>
<figure><b>(Figure)</b>
<embed src="U.S. Stock market entropy 1980-2012.pdf" title="Figure 1 shows the entropy of the U.S. stock market over the period from 1980 to 2012, with the axis at the average value over the period. Although the entropy fluctuates over time, its behavior indicates that there is a certain stability to the stock market. Characterization of this stability is one of the goals of SPT.|page=1"></embed><figcaption>Figure 1 shows the entropy of the U.S. stock market over the period from 1980 to 2012, with the axis at the average value over the period. Although the entropy fluctuates over time, its behavior indicates that there is a certain stability to the stock market. Characterization of this stability is one of the goals of SPT.|page=1</figcaption>
</figure>

<p>A number of conditions can be imposed on a market, sometimes to model actual markets and sometimes to emphasize certain types of hypothetical market behavior. Some commonly invoked conditions are:</p>
<ol>
<li>A market is <strong>nondegenerate</strong> if the eigenvalues of the <a href="covariance_matrix" title="wikilink">covariance matrix</a> 

<math display="inline" id="Stochastic_portfolio_theory:43">
 <semantics>
  <msub>
   <mrow>
    <mo stretchy="false">(</mo>
    <mrow>
     <msub>
      <mi>σ</mi>
      <mrow>
       <mi>i</mi>
       <mi>j</mi>
      </mrow>
     </msub>
     <mrow>
      <mo stretchy="false">(</mo>
      <mi>t</mi>
      <mo stretchy="false">)</mo>
     </mrow>
    </mrow>
    <mo stretchy="false">)</mo>
   </mrow>
   <mrow>
    <mrow>
     <mn>1</mn>
     <mo>≤</mo>
     <mi>i</mi>
    </mrow>
    <mo>,</mo>
    <mrow>
     <mi>j</mi>
     <mo>≤</mo>
     <mi>n</mi>
    </mrow>
   </mrow>
  </msub>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <csymbol cd="ambiguous">subscript</csymbol>
    <apply>
     <times></times>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <ci>σ</ci>
      <apply>
       <times></times>
       <ci>i</ci>
       <ci>j</ci>
      </apply>
     </apply>
     <ci>t</ci>
    </apply>
    <apply>
     <csymbol cd="ambiguous">formulae-sequence</csymbol>
     <apply>
      <leq></leq>
      <cn type="integer">1</cn>
      <ci>i</ci>
     </apply>
     <apply>
      <leq></leq>
      <ci>j</ci>
      <ci>n</ci>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   (\sigma_{ij}(t))_{1\leq i,j\leq n}
  </annotation>
 </semantics>
</math>

 are bounded away from zero. It has <strong>bounded variance</strong> if the eigenvalues are bounded.</li>
<li>A market is <strong>coherent</strong> if 

<math display="inline" id="Stochastic_portfolio_theory:44">
 <semantics>
  <mrow>
   <mrow>
    <msub>
     <mo>lim</mo>
     <mrow>
      <mi>t</mi>
      <mo>→</mo>
      <mi mathvariant="normal">∞</mi>
     </mrow>
    </msub>
    <mrow>
     <msup>
      <mi>t</mi>
      <mrow>
       <mo>-</mo>
       <mn>1</mn>
      </mrow>
     </msup>
     <mrow>
      <mi>log</mi>
      <mrow>
       <mo stretchy="false">(</mo>
       <mrow>
        <msub>
         <mi>μ</mi>
         <mi>i</mi>
        </msub>
        <mrow>
         <mo stretchy="false">(</mo>
         <mi>t</mi>
         <mo stretchy="false">)</mo>
        </mrow>
       </mrow>
       <mo stretchy="false">)</mo>
      </mrow>
     </mrow>
    </mrow>
   </mrow>
   <mo>=</mo>
   <mn>0</mn>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <ci>lim</ci>
      <apply>
       <ci>normal-→</ci>
       <ci>t</ci>
       <infinity></infinity>
      </apply>
     </apply>
     <apply>
      <times></times>
      <apply>
       <csymbol cd="ambiguous">superscript</csymbol>
       <ci>t</ci>
       <apply>
        <minus></minus>
        <cn type="integer">1</cn>
       </apply>
      </apply>
      <apply>
       <log></log>
       <apply>
        <times></times>
        <apply>
         <csymbol cd="ambiguous">subscript</csymbol>
         <ci>μ</ci>
         <ci>i</ci>
        </apply>
        <ci>t</ci>
       </apply>
      </apply>
     </apply>
    </apply>
    <cn type="integer">0</cn>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \operatorname{lim}_{t\rightarrow\infty}t^{-1}\log(\mu_{i}(t))=0
  </annotation>
 </semantics>
</math>

 for all 

<math display="inline" id="Stochastic_portfolio_theory:45">
 <semantics>
  <mrow>
   <mrow>
    <mi>i</mi>
    <mo>=</mo>
    <mrow>
     <mn>1</mn>
     <mo>,</mo>
     <mi mathvariant="normal">…</mi>
     <mo>,</mo>
     <mi>n</mi>
    </mrow>
   </mrow>
   <mo>.</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <ci>i</ci>
    <list>
     <cn type="integer">1</cn>
     <ci>normal-…</ci>
     <ci>n</ci>
    </list>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   i=1,\dots,n.
  </annotation>
 </semantics>
</math>

</li>
<li>A market is <strong>diverse</strong> on 

<math display="inline" id="Stochastic_portfolio_theory:46">
 <semantics>
  <mrow>
   <mo stretchy="false">[</mo>
   <mn>0</mn>
   <mo>,</mo>
   <mi>T</mi>
   <mo stretchy="false">]</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <interval closure="closed">
    <cn type="integer">0</cn>
    <ci>T</ci>
   </interval>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   [0,T]
  </annotation>
 </semantics>
</math>

 if there exists 

<math display="inline" id="Stochastic_portfolio_theory:47">
 <semantics>
  <mrow>
   <mi>ε</mi>
   <mo>></mo>
   <mn>0</mn>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <gt></gt>
    <ci>ε</ci>
    <cn type="integer">0</cn>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \varepsilon>0
  </annotation>
 </semantics>
</math>

 such that 

<math display="inline" id="Stochastic_portfolio_theory:48">
 <semantics>
  <mrow>
   <mrow>
    <msub>
     <mi>μ</mi>
     <mi>max</mi>
    </msub>
    <mrow>
     <mo stretchy="false">(</mo>
     <mi>t</mi>
     <mo stretchy="false">)</mo>
    </mrow>
   </mrow>
   <mo>≤</mo>
   <mrow>
    <mn>1</mn>
    <mo>-</mo>
    <mi>ε</mi>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <leq></leq>
    <apply>
     <times></times>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <ci>μ</ci>
      <max></max>
     </apply>
     <ci>t</ci>
    </apply>
    <apply>
     <minus></minus>
     <cn type="integer">1</cn>
     <ci>ε</ci>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \mu_{\max}(t)\leq 1-\varepsilon
  </annotation>
 </semantics>
</math>

 for 

<math display="inline" id="Stochastic_portfolio_theory:49">
 <semantics>
  <mrow>
   <mrow>
    <mi>t</mi>
    <mo>∈</mo>
    <mrow>
     <mo stretchy="false">[</mo>
     <mn>0</mn>
     <mo>,</mo>
     <mi>T</mi>
     <mo stretchy="false">]</mo>
    </mrow>
   </mrow>
   <mo>.</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <in></in>
    <ci>t</ci>
    <interval closure="closed">
     <cn type="integer">0</cn>
     <ci>T</ci>
    </interval>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   t\in[0,T].
  </annotation>
 </semantics>
</math>

</li>
<li>A market is <strong>weakly diverse</strong> on 

<math display="inline" id="Stochastic_portfolio_theory:50">
 <semantics>
  <mrow>
   <mo stretchy="false">[</mo>
   <mn>0</mn>
   <mo>,</mo>
   <mi>T</mi>
   <mo stretchy="false">]</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <interval closure="closed">
    <cn type="integer">0</cn>
    <ci>T</ci>
   </interval>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   [0,T]
  </annotation>
 </semantics>
</math>

 if there exists 

<math display="inline" id="Stochastic_portfolio_theory:51">
 <semantics>
  <mrow>
   <mi>ε</mi>
   <mo>></mo>
   <mn>0</mn>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <gt></gt>
    <ci>ε</ci>
    <cn type="integer">0</cn>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \varepsilon>0
  </annotation>
 </semantics>
</math>

 such that</li>
</ol>

<p>

<math display="inline" id="Stochastic_portfolio_theory:52">
 <semantics>
  <mrow>
   <mrow>
    <mfrac>
     <mn>1</mn>
     <mi>T</mi>
    </mfrac>
    <mrow>
     <msubsup>
      <mo largeop="true" symmetric="true">∫</mo>
      <mn>0</mn>
      <mi>T</mi>
     </msubsup>
     <mrow>
      <msub>
       <mi>μ</mi>
       <mi>max</mi>
      </msub>
      <mrow>
       <mo stretchy="false">(</mo>
       <mi>t</mi>
       <mo rspace="4.2pt" stretchy="false">)</mo>
      </mrow>
      <mi>d</mi>
      <mi>t</mi>
     </mrow>
    </mrow>
   </mrow>
   <mo>≤</mo>
   <mrow>
    <mn>1</mn>
    <mo>-</mo>
    <mi>ε</mi>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <leq></leq>
    <apply>
     <times></times>
     <apply>
      <divide></divide>
      <cn type="integer">1</cn>
      <ci>T</ci>
     </apply>
     <apply>
      <apply>
       <csymbol cd="ambiguous">superscript</csymbol>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <int></int>
        <cn type="integer">0</cn>
       </apply>
       <ci>T</ci>
      </apply>
      <apply>
       <times></times>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>μ</ci>
        <max></max>
       </apply>
       <ci>t</ci>
       <ci>d</ci>
       <ci>t</ci>
      </apply>
     </apply>
    </apply>
    <apply>
     <minus></minus>
     <cn type="integer">1</cn>
     <ci>ε</ci>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \frac{1}{T}\int_{0}^{T}\mu_{\max}(t)\,dt\leq 1-\varepsilon
  </annotation>
 </semantics>
</math>

</p>

<p>Diversity and weak diversity are rather weak conditions, and markets are generally far more diverse than would be tested by these extremes. A measure of market diversity is <strong>market entropy</strong>, defined by</p>

<p>

<math display="block" id="Stochastic_portfolio_theory:53">
 <semantics>
  <mrow>
   <mrow>
    <mrow>
     <mi>S</mi>
     <mrow>
      <mo stretchy="false">(</mo>
      <mrow>
       <mi>μ</mi>
       <mrow>
        <mo stretchy="false">(</mo>
        <mi>t</mi>
        <mo stretchy="false">)</mo>
       </mrow>
      </mrow>
      <mo stretchy="false">)</mo>
     </mrow>
    </mrow>
    <mo>=</mo>
    <mrow>
     <mo>-</mo>
     <mrow>
      <munderover>
       <mo largeop="true" movablelimits="false" symmetric="true">∑</mo>
       <mrow>
        <mi>i</mi>
        <mo>=</mo>
        <mn>1</mn>
       </mrow>
       <mi>n</mi>
      </munderover>
      <mrow>
       <msub>
        <mi>μ</mi>
        <mi>i</mi>
       </msub>
       <mrow>
        <mo stretchy="false">(</mo>
        <mi>t</mi>
        <mo stretchy="false">)</mo>
       </mrow>
       <mrow>
        <mi>log</mi>
        <mrow>
         <mo stretchy="false">(</mo>
         <mrow>
          <msub>
           <mi>μ</mi>
           <mi>i</mi>
          </msub>
          <mrow>
           <mo stretchy="false">(</mo>
           <mi>t</mi>
           <mo stretchy="false">)</mo>
          </mrow>
         </mrow>
         <mo stretchy="false">)</mo>
        </mrow>
       </mrow>
      </mrow>
     </mrow>
    </mrow>
   </mrow>
   <mo>.</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <times></times>
     <ci>S</ci>
     <apply>
      <times></times>
      <ci>μ</ci>
      <ci>t</ci>
     </apply>
    </apply>
    <apply>
     <minus></minus>
     <apply>
      <apply>
       <csymbol cd="ambiguous">superscript</csymbol>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <sum></sum>
        <apply>
         <eq></eq>
         <ci>i</ci>
         <cn type="integer">1</cn>
        </apply>
       </apply>
       <ci>n</ci>
      </apply>
      <apply>
       <times></times>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>μ</ci>
        <ci>i</ci>
       </apply>
       <ci>t</ci>
       <apply>
        <log></log>
        <apply>
         <times></times>
         <apply>
          <csymbol cd="ambiguous">subscript</csymbol>
          <ci>μ</ci>
          <ci>i</ci>
         </apply>
         <ci>t</ci>
        </apply>
       </apply>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   S(\mu(t))=-\sum_{i=1}^{n}\mu_{i}(t)\log(\mu_{i}(t)).
  </annotation>
 </semantics>
</math>

</p>
<h2 id="stochastic-stability">Stochastic stability</h2>

<p><embed src="U.S. Stock market capital distribution curves 1929-2009.pdf" title="fig:Figure 2 plots the (ranked) capital distribution curves at the end of each of the last nine decades. This log-log plot has exhibited remarkable stability over long periods of time. The study of such stability is one of the major goals of SPT."></embed> <embed src="Cumulative turnover processes for cap ranked US stocks in the 1990s from CRSP data.pdf" title="fig: Figure 3 shows the “cumulative turnover” processes at various ranks over the course of a decade. As expected, the amount of turnover increases as one goes down the capitalization ladder. There is also a pronounced linear growth in time across all displayed ranks."></embed> We consider the vector process 

<math display="inline" id="Stochastic_portfolio_theory:54">
 <semantics>
  <mrow>
   <mrow>
    <mo stretchy="false">(</mo>
    <mrow>
     <msub>
      <mi>μ</mi>
      <mrow>
       <mo stretchy="false">(</mo>
       <mn>1</mn>
       <mo stretchy="false">)</mo>
      </mrow>
     </msub>
     <mrow>
      <mo stretchy="false">(</mo>
      <mi>t</mi>
      <mo stretchy="false">)</mo>
     </mrow>
    </mrow>
    <mo>,</mo>
    <mi mathvariant="normal">…</mi>
    <mo>,</mo>
    <mrow>
     <msub>
      <mi>μ</mi>
      <mrow>
       <mo stretchy="false">(</mo>
       <mi>n</mi>
       <mo stretchy="false">)</mo>
      </mrow>
     </msub>
     <mrow>
      <mo stretchy="false">(</mo>
      <mi>t</mi>
      <mo stretchy="false">)</mo>
     </mrow>
    </mrow>
    <mo stretchy="false">)</mo>
   </mrow>
   <mo>,</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <vector>
    <apply>
     <times></times>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <ci>μ</ci>
      <cn type="integer">1</cn>
     </apply>
     <ci>t</ci>
    </apply>
    <ci>normal-…</ci>
    <apply>
     <times></times>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <ci>μ</ci>
      <ci>n</ci>
     </apply>
     <ci>t</ci>
    </apply>
   </vector>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   (\mu_{(1)}(t),\dots,\mu_{(n)}(t)),
  </annotation>
 </semantics>
</math>

 with 

<math display="inline" id="Stochastic_portfolio_theory:55">
 <semantics>
  <mrow>
   <mn>0</mn>
   <mo>≤</mo>
   <mi>t</mi>
   <mo><</mo>
   <mi mathvariant="normal">∞</mi>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <and></and>
    <apply>
     <leq></leq>
     <cn type="integer">0</cn>
     <ci>t</ci>
    </apply>
    <apply>
     <lt></lt>
     <share href="#.cmml">
     </share>
     <infinity></infinity>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   0\leq t<\infty
  </annotation>
 </semantics>
</math>

 of <strong>ranked market weights</strong></p>

<p>

<math display="block" id="Stochastic_portfolio_theory:56">
 <semantics>
  <mrow>
   <munder>
    <mi>max</mi>
    <mrow>
     <mn>1</mn>
     <mo>≤</mo>
     <mi>i</mi>
     <mo>≤</mo>
     <mi>n</mi>
    </mrow>
   </munder>
   <msub>
    <mi>μ</mi>
    <mi>i</mi>
   </msub>
   <mrow>
    <mo stretchy="false">(</mo>
    <mi>t</mi>
    <mo stretchy="false">)</mo>
   </mrow>
   <mo>=</mo>
   <mo>:</mo>
   <msub>
    <mi>μ</mi>
    <mrow>
     <mo stretchy="false">(</mo>
     <mn>1</mn>
     <mo stretchy="false">)</mo>
    </mrow>
   </msub>
   <mrow>
    <mo stretchy="false">(</mo>
    <mi>t</mi>
    <mo stretchy="false">)</mo>
   </mrow>
   <mo>≥</mo>
   <msub>
    <mi>μ</mi>
    <mrow>
     <mo stretchy="false">(</mo>
     <mn>2</mn>
     <mo stretchy="false">)</mo>
    </mrow>
   </msub>
   <mrow>
    <mo stretchy="false">(</mo>
    <mi>t</mi>
    <mo stretchy="false">)</mo>
   </mrow>
   <mo>≥</mo>
   <mi mathvariant="normal">⋯</mi>
   <msub>
    <mi>μ</mi>
    <mrow>
     <mo stretchy="false">(</mo>
     <mi>n</mi>
     <mo stretchy="false">)</mo>
    </mrow>
   </msub>
   <mrow>
    <mo stretchy="false">(</mo>
    <mi>t</mi>
    <mo stretchy="false">)</mo>
   </mrow>
   <mo>:=</mo>
   <munder>
    <mi>min</mi>
    <mrow>
     <mn>1</mn>
     <mo>≤</mo>
     <mi>i</mi>
     <mo>≤</mo>
     <mi>n</mi>
    </mrow>
   </munder>
   <msub>
    <mi>μ</mi>
    <mi>i</mi>
   </msub>
   <mrow>
    <mo stretchy="false">(</mo>
    <mi>t</mi>
    <mo stretchy="false">)</mo>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <cerror>
    <csymbol cd="ambiguous">fragments</csymbol>
    <apply>
     <csymbol cd="ambiguous">subscript</csymbol>
     <max></max>
     <apply>
      <and></and>
      <apply>
       <leq></leq>
       <cn type="integer">1</cn>
       <ci>i</ci>
      </apply>
      <apply>
       <leq></leq>
       <share href="#.cmml">
       </share>
       <ci>n</ci>
      </apply>
     </apply>
    </apply>
    <apply>
     <csymbol cd="ambiguous">subscript</csymbol>
     <ci>μ</ci>
     <ci>i</ci>
    </apply>
    <cerror>
     <csymbol cd="ambiguous">fragments</csymbol>
     <ci>normal-(</ci>
     <csymbol cd="unknown">t</csymbol>
     <ci>normal-)</ci>
    </cerror>
    <eq></eq>
    <ci>normal-:</ci>
    <apply>
     <csymbol cd="ambiguous">subscript</csymbol>
     <ci>μ</ci>
     <cn type="integer">1</cn>
    </apply>
    <cerror>
     <csymbol cd="ambiguous">fragments</csymbol>
     <ci>normal-(</ci>
     <csymbol cd="unknown">t</csymbol>
     <ci>normal-)</ci>
    </cerror>
    <geq></geq>
    <apply>
     <csymbol cd="ambiguous">subscript</csymbol>
     <ci>μ</ci>
     <cn type="integer">2</cn>
    </apply>
    <cerror>
     <csymbol cd="ambiguous">fragments</csymbol>
     <ci>normal-(</ci>
     <csymbol cd="unknown">t</csymbol>
     <ci>normal-)</ci>
    </cerror>
    <geq></geq>
    <ci>normal-⋯</ci>
    <apply>
     <csymbol cd="ambiguous">subscript</csymbol>
     <ci>μ</ci>
     <ci>n</ci>
    </apply>
    <cerror>
     <csymbol cd="ambiguous">fragments</csymbol>
     <ci>normal-(</ci>
     <csymbol cd="unknown">t</csymbol>
     <ci>normal-)</ci>
    </cerror>
    <csymbol cd="latexml">assign</csymbol>
    <apply>
     <csymbol cd="ambiguous">subscript</csymbol>
     <min></min>
     <apply>
      <and></and>
      <apply>
       <leq></leq>
       <cn type="integer">1</cn>
       <ci>i</ci>
      </apply>
      <apply>
       <leq></leq>
       <share href="#.cmml">
       </share>
       <ci>n</ci>
      </apply>
     </apply>
    </apply>
    <apply>
     <csymbol cd="ambiguous">subscript</csymbol>
     <ci>μ</ci>
     <ci>i</ci>
    </apply>
    <cerror>
     <csymbol cd="ambiguous">fragments</csymbol>
     <ci>normal-(</ci>
     <csymbol cd="unknown">t</csymbol>
     <ci>normal-)</ci>
    </cerror>
   </cerror>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \max_{1\leq i\leq n}\mu_{i}(t)=:\mu_{(1)}(t)\geq\mu_{(2)}(t)\geq\cdots\mu_{(n)%
}(t):=\min_{1\leq i\leq n}\mu_{i}(t)
  </annotation>
 </semantics>
</math>

 where ties are resolved “lexicographically”, always in favor of the lowest index. The log-gaps</p>

<p>

<math display="block" id="Stochastic_portfolio_theory:57">
 <semantics>
  <mrow>
   <mrow>
    <mrow>
     <msup>
      <mi>G</mi>
      <mrow>
       <mo stretchy="false">(</mo>
       <mi>k</mi>
       <mo>,</mo>
       <mrow>
        <mi>k</mi>
        <mo>+</mo>
        <mn>1</mn>
       </mrow>
       <mo stretchy="false">)</mo>
      </mrow>
     </msup>
     <mrow>
      <mo stretchy="false">(</mo>
      <mi>t</mi>
      <mo stretchy="false">)</mo>
     </mrow>
    </mrow>
    <mo>:=</mo>
    <mrow>
     <mi>log</mi>
     <mrow>
      <mo stretchy="false">(</mo>
      <mrow>
       <mrow>
        <mrow>
         <msub>
          <mi>μ</mi>
          <mrow>
           <mo stretchy="false">(</mo>
           <mi>k</mi>
           <mo stretchy="false">)</mo>
          </mrow>
         </msub>
         <mrow>
          <mo stretchy="false">(</mo>
          <mi>t</mi>
          <mo stretchy="false">)</mo>
         </mrow>
        </mrow>
        <mo>/</mo>
        <msub>
         <mi>μ</mi>
         <mrow>
          <mo stretchy="false">(</mo>
          <mrow>
           <mi>k</mi>
           <mo>+</mo>
           <mn>1</mn>
          </mrow>
          <mo stretchy="false">)</mo>
         </mrow>
        </msub>
       </mrow>
       <mrow>
        <mo stretchy="false">(</mo>
        <mi>t</mi>
        <mo stretchy="false">)</mo>
       </mrow>
      </mrow>
      <mo stretchy="false">)</mo>
     </mrow>
    </mrow>
   </mrow>
   <mo>,</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <csymbol cd="latexml">assign</csymbol>
    <apply>
     <times></times>
     <apply>
      <csymbol cd="ambiguous">superscript</csymbol>
      <ci>G</ci>
      <interval closure="open">
       <ci>k</ci>
       <apply>
        <plus></plus>
        <ci>k</ci>
        <cn type="integer">1</cn>
       </apply>
      </interval>
     </apply>
     <ci>t</ci>
    </apply>
    <apply>
     <log></log>
     <apply>
      <times></times>
      <apply>
       <divide></divide>
       <apply>
        <times></times>
        <apply>
         <csymbol cd="ambiguous">subscript</csymbol>
         <ci>μ</ci>
         <ci>k</ci>
        </apply>
        <ci>t</ci>
       </apply>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>μ</ci>
        <apply>
         <plus></plus>
         <ci>k</ci>
         <cn type="integer">1</cn>
        </apply>
       </apply>
      </apply>
      <ci>t</ci>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   G^{(k,k+1)}(t):=\log(\mu_{(k)}(t)/\mu_{(k+1)}(t)),
  </annotation>
 </semantics>
</math>

 where 

<math display="inline" id="Stochastic_portfolio_theory:58">
 <semantics>
  <mrow>
   <mn>0</mn>
   <mo>≤</mo>
   <mi>t</mi>
   <mo><</mo>
   <mi mathvariant="normal">∞</mi>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <and></and>
    <apply>
     <leq></leq>
     <cn type="integer">0</cn>
     <ci>t</ci>
    </apply>
    <apply>
     <lt></lt>
     <share href="#.cmml">
     </share>
     <infinity></infinity>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   0\leq t<\infty
  </annotation>
 </semantics>
</math>

 and 

<math display="inline" id="Stochastic_portfolio_theory:59">
 <semantics>
  <mrow>
   <mi>k</mi>
   <mo>=</mo>
   <mrow>
    <mn>1</mn>
    <mo>,</mo>
    <mi mathvariant="normal">…</mi>
    <mo>,</mo>
    <mrow>
     <mi>n</mi>
     <mo>-</mo>
     <mn>1</mn>
    </mrow>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <ci>k</ci>
    <list>
     <cn type="integer">1</cn>
     <ci>normal-…</ci>
     <apply>
      <minus></minus>
      <ci>n</ci>
      <cn type="integer">1</cn>
     </apply>
    </list>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   k=1,\dots,n-1
  </annotation>
 </semantics>
</math>

 are continuous, non-negative semimartingales; we denote by 

<math display="inline" id="Stochastic_portfolio_theory:60">
 <semantics>
  <mrow>
   <mrow>
    <msup>
     <mi mathvariant="normal">Λ</mi>
     <mrow>
      <mo stretchy="false">(</mo>
      <mi>k</mi>
      <mo>,</mo>
      <mrow>
       <mi>k</mi>
       <mo>+</mo>
       <mn>1</mn>
      </mrow>
      <mo stretchy="false">)</mo>
     </mrow>
    </msup>
    <mrow>
     <mo stretchy="false">(</mo>
     <mi>t</mi>
     <mo stretchy="false">)</mo>
    </mrow>
   </mrow>
   <mo>=</mo>
   <mrow>
    <msup>
     <mi>L</mi>
     <msup>
      <mi>G</mi>
      <mrow>
       <mo stretchy="false">(</mo>
       <mi>k</mi>
       <mo>,</mo>
       <mrow>
        <mi>k</mi>
        <mo>+</mo>
        <mn>1</mn>
       </mrow>
       <mo stretchy="false">)</mo>
      </mrow>
     </msup>
    </msup>
    <mrow>
     <mo stretchy="false">(</mo>
     <mi>t</mi>
     <mo>;</mo>
     <mn>0</mn>
     <mo stretchy="false">)</mo>
    </mrow>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <times></times>
     <apply>
      <csymbol cd="ambiguous">superscript</csymbol>
      <ci>normal-Λ</ci>
      <interval closure="open">
       <ci>k</ci>
       <apply>
        <plus></plus>
        <ci>k</ci>
        <cn type="integer">1</cn>
       </apply>
      </interval>
     </apply>
     <ci>t</ci>
    </apply>
    <apply>
     <times></times>
     <apply>
      <csymbol cd="ambiguous">superscript</csymbol>
      <ci>L</ci>
      <apply>
       <csymbol cd="ambiguous">superscript</csymbol>
       <ci>G</ci>
       <interval closure="open">
        <ci>k</ci>
        <apply>
         <plus></plus>
         <ci>k</ci>
         <cn type="integer">1</cn>
        </apply>
       </interval>
      </apply>
     </apply>
     <list>
      <ci>t</ci>
      <cn type="integer">0</cn>
     </list>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \Lambda^{(k,k+1)}(t)=L^{G^{(k,k+1)}}(t;0)
  </annotation>
 </semantics>
</math>

 their local times at the origin. These quantities measure the amount of turnover between ranks 

<math display="inline" id="Stochastic_portfolio_theory:61">
 <semantics>
  <mi>k</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>k</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   k
  </annotation>
 </semantics>
</math>

 and 

<math display="inline" id="Stochastic_portfolio_theory:62">
 <semantics>
  <mrow>
   <mi>k</mi>
   <mo>+</mo>
   <mn>1</mn>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <plus></plus>
    <ci>k</ci>
    <cn type="integer">1</cn>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   k+1
  </annotation>
 </semantics>
</math>

 during the time-interval 

<math display="inline" id="Stochastic_portfolio_theory:63">
 <semantics>
  <mrow>
   <mo stretchy="false">[</mo>
   <mn>0</mn>
   <mo>,</mo>
   <mi>t</mi>
   <mo stretchy="false">]</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <interval closure="closed">
    <cn type="integer">0</cn>
    <ci>t</ci>
   </interval>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   [0,t]
  </annotation>
 </semantics>
</math>

.</p>

<p>A market is called <strong>stochastically stable</strong>, if 

<math display="inline" id="Stochastic_portfolio_theory:64">
 <semantics>
  <mrow>
   <mo stretchy="false">(</mo>
   <mrow>
    <msub>
     <mi>μ</mi>
     <mrow>
      <mo stretchy="false">(</mo>
      <mn>1</mn>
      <mo stretchy="false">)</mo>
     </mrow>
    </msub>
    <mrow>
     <mo stretchy="false">(</mo>
     <mi>t</mi>
     <mo stretchy="false">)</mo>
    </mrow>
   </mrow>
   <mo>,</mo>
   <mi mathvariant="normal">⋯</mi>
   <mo>,</mo>
   <mrow>
    <msub>
     <mi>μ</mi>
     <mrow>
      <mo stretchy="false">(</mo>
      <mi>n</mi>
      <mo stretchy="false">)</mo>
     </mrow>
    </msub>
    <mrow>
     <mo stretchy="false">(</mo>
     <mi>t</mi>
     <mo stretchy="false">)</mo>
    </mrow>
   </mrow>
   <mo stretchy="false">)</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <vector>
    <apply>
     <times></times>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <ci>μ</ci>
      <cn type="integer">1</cn>
     </apply>
     <ci>t</ci>
    </apply>
    <ci>normal-⋯</ci>
    <apply>
     <times></times>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <ci>μ</ci>
      <ci>n</ci>
     </apply>
     <ci>t</ci>
    </apply>
   </vector>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   (\mu_{(1)}(t),\cdots,\mu_{(n)}(t))
  </annotation>
 </semantics>
</math>

 <a href="convergence_in_distribution" title="wikilink">converges in distribution</a> as 

<math display="inline" id="Stochastic_portfolio_theory:65">
 <semantics>
  <mrow>
   <mi>t</mi>
   <mo>→</mo>
   <mi mathvariant="normal">∞</mi>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <ci>normal-→</ci>
    <ci>t</ci>
    <infinity></infinity>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   t\rightarrow\infty
  </annotation>
 </semantics>
</math>

 to a random vector 

<math display="inline" id="Stochastic_portfolio_theory:66">
 <semantics>
  <mrow>
   <mo stretchy="false">(</mo>
   <msub>
    <mi>M</mi>
    <mrow>
     <mo stretchy="false">(</mo>
     <mn>1</mn>
     <mo stretchy="false">)</mo>
    </mrow>
   </msub>
   <mo>,</mo>
   <mi mathvariant="normal">⋯</mi>
   <mo>,</mo>
   <msub>
    <mi>M</mi>
    <mrow>
     <mo stretchy="false">(</mo>
     <mi>n</mi>
     <mo stretchy="false">)</mo>
    </mrow>
   </msub>
   <mo stretchy="false">)</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <vector>
    <apply>
     <csymbol cd="ambiguous">subscript</csymbol>
     <ci>M</ci>
     <cn type="integer">1</cn>
    </apply>
    <ci>normal-⋯</ci>
    <apply>
     <csymbol cd="ambiguous">subscript</csymbol>
     <ci>M</ci>
     <ci>n</ci>
    </apply>
   </vector>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   (M_{(1)},\cdots,M_{(n)})
  </annotation>
 </semantics>
</math>

 with values in the <a href="Weyl_chamber" title="wikilink">Weyl chamber</a> 

<math display="inline" id="Stochastic_portfolio_theory:67">
 <semantics>
  <mrow>
   <mo stretchy="false">{</mo>
   <mrow>
    <mrow>
     <mrow>
      <mo stretchy="false">(</mo>
      <msub>
       <mi>x</mi>
       <mn>1</mn>
      </msub>
      <mo>,</mo>
      <mi mathvariant="normal">…</mi>
      <mo>,</mo>
      <msub>
       <mi>x</mi>
       <mi>n</mi>
      </msub>
      <mo stretchy="false">)</mo>
     </mrow>
     <mrow>
      <mo fence="true">∣</mo>
      <msub>
       <mi>x</mi>
       <mn>1</mn>
      </msub>
      <mo>></mo>
     </mrow>
     <msub>
      <mi>x</mi>
      <mn>2</mn>
     </msub>
    </mrow>
    <mo>></mo>
    <mi mathvariant="normal">…</mi>
    <mo>></mo>
    <mrow>
     <msub>
      <mi>x</mi>
      <mi>n</mi>
     </msub>
     <mtext>and</mtext>
     <mrow>
      <msubsup>
       <mo largeop="true" symmetric="true">∑</mo>
       <mrow>
        <mi>i</mi>
        <mo>=</mo>
        <mn>1</mn>
       </mrow>
       <mi>n</mi>
      </msubsup>
      <msub>
       <mi>x</mi>
       <mi>i</mi>
      </msub>
     </mrow>
    </mrow>
    <mo>=</mo>
    <mn>1</mn>
   </mrow>
   <mo stretchy="false">}</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <set>
    <apply>
     <and></and>
     <apply>
      <gt></gt>
      <apply>
       <times></times>
       <vector>
        <apply>
         <csymbol cd="ambiguous">subscript</csymbol>
         <ci>x</ci>
         <cn type="integer">1</cn>
        </apply>
        <ci>normal-…</ci>
        <apply>
         <csymbol cd="ambiguous">subscript</csymbol>
         <ci>x</ci>
         <ci>n</ci>
        </apply>
       </vector>
       <apply>
        <csymbol cd="latexml">ket</csymbol>
        <apply>
         <csymbol cd="ambiguous">subscript</csymbol>
         <ci>x</ci>
         <cn type="integer">1</cn>
        </apply>
       </apply>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>x</ci>
        <cn type="integer">2</cn>
       </apply>
      </apply>
      <ci>normal-…</ci>
     </apply>
     <apply>
      <gt></gt>
      <share href="#.cmml">
      </share>
      <apply>
       <times></times>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>x</ci>
        <ci>n</ci>
       </apply>
       <mtext>and</mtext>
       <apply>
        <apply>
         <csymbol cd="ambiguous">superscript</csymbol>
         <apply>
          <csymbol cd="ambiguous">subscript</csymbol>
          <sum></sum>
          <apply>
           <eq></eq>
           <ci>i</ci>
           <cn type="integer">1</cn>
          </apply>
         </apply>
         <ci>n</ci>
        </apply>
        <apply>
         <csymbol cd="ambiguous">subscript</csymbol>
         <ci>x</ci>
         <ci>i</ci>
        </apply>
       </apply>
      </apply>
     </apply>
     <apply>
      <eq></eq>
      <share href="#.cmml">
      </share>
      <cn type="integer">1</cn>
     </apply>
    </apply>
   </set>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \{(x_{1},\dots,x_{n})\mid x_{1}>x_{2}>\dots>x_{n}\text{ and }\sum_{i=1}^{n}x_{%
i}=1\}
  </annotation>
 </semantics>
</math>

 of the unit simplex, and if the <a href="strong_law_of_large_numbers" title="wikilink">strong law of large numbers</a></p>

<p>

<math display="block" id="Stochastic_portfolio_theory:68">
 <semantics>
  <mrow>
   <mrow>
    <munder>
     <mo movablelimits="false">lim</mo>
     <mrow>
      <mi>t</mi>
      <mo>→</mo>
      <mi mathvariant="normal">∞</mi>
     </mrow>
    </munder>
    <mfrac>
     <mrow>
      <msup>
       <mi mathvariant="normal">Λ</mi>
       <mrow>
        <mo stretchy="false">(</mo>
        <mi>k</mi>
        <mo>,</mo>
        <mrow>
         <mi>k</mi>
         <mo>+</mo>
         <mn>1</mn>
        </mrow>
        <mo stretchy="false">)</mo>
       </mrow>
      </msup>
      <mrow>
       <mo stretchy="false">(</mo>
       <mi>t</mi>
       <mo stretchy="false">)</mo>
      </mrow>
     </mrow>
     <mi>t</mi>
    </mfrac>
   </mrow>
   <mo>=</mo>
   <msup>
    <mi>λ</mi>
    <mrow>
     <mo stretchy="false">(</mo>
     <mi>k</mi>
     <mo>,</mo>
     <mrow>
      <mi>k</mi>
      <mo>+</mo>
      <mn>1</mn>
     </mrow>
     <mo stretchy="false">)</mo>
    </mrow>
   </msup>
   <mo>></mo>
   <mn>0</mn>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <and></and>
    <apply>
     <eq></eq>
     <apply>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <limit></limit>
       <apply>
        <ci>normal-→</ci>
        <ci>t</ci>
        <infinity></infinity>
       </apply>
      </apply>
      <apply>
       <divide></divide>
       <apply>
        <times></times>
        <apply>
         <csymbol cd="ambiguous">superscript</csymbol>
         <ci>normal-Λ</ci>
         <interval closure="open">
          <ci>k</ci>
          <apply>
           <plus></plus>
           <ci>k</ci>
           <cn type="integer">1</cn>
          </apply>
         </interval>
        </apply>
        <ci>t</ci>
       </apply>
       <ci>t</ci>
      </apply>
     </apply>
     <apply>
      <csymbol cd="ambiguous">superscript</csymbol>
      <ci>λ</ci>
      <interval closure="open">
       <ci>k</ci>
       <apply>
        <plus></plus>
        <ci>k</ci>
        <cn type="integer">1</cn>
       </apply>
      </interval>
     </apply>
    </apply>
    <apply>
     <gt></gt>
     <share href="#.cmml">
     </share>
     <cn type="integer">0</cn>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \lim_{t\rightarrow\infty}\frac{\Lambda^{(k,k+1)}(t)}{t}=\lambda^{(k,k+1)}>0
  </annotation>
 </semantics>
</math>

 holds for suitable real constants 

<math display="inline" id="Stochastic_portfolio_theory:69">
 <semantics>
  <mrow>
   <mrow>
    <msup>
     <mi>λ</mi>
     <mrow>
      <mo stretchy="false">(</mo>
      <mn>1</mn>
      <mo>,</mo>
      <mn>2</mn>
      <mo stretchy="false">)</mo>
     </mrow>
    </msup>
    <mo>,</mo>
    <mi mathvariant="normal">…</mi>
    <mo>,</mo>
    <msup>
     <mi>λ</mi>
     <mrow>
      <mo stretchy="false">(</mo>
      <mrow>
       <mi>n</mi>
       <mo>-</mo>
       <mn>1</mn>
      </mrow>
      <mo>,</mo>
      <mi>n</mi>
      <mo stretchy="false">)</mo>
     </mrow>
    </msup>
   </mrow>
   <mo>.</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <list>
    <apply>
     <csymbol cd="ambiguous">superscript</csymbol>
     <ci>λ</ci>
     <interval closure="open">
      <cn type="integer">1</cn>
      <cn type="integer">2</cn>
     </interval>
    </apply>
    <ci>normal-…</ci>
    <apply>
     <csymbol cd="ambiguous">superscript</csymbol>
     <ci>λ</ci>
     <interval closure="open">
      <apply>
       <minus></minus>
       <ci>n</ci>
       <cn type="integer">1</cn>
      </apply>
      <ci>n</ci>
     </interval>
    </apply>
   </list>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \lambda^{(1,2)},\dots,\lambda^{(n-1,n)}.
  </annotation>
 </semantics>
</math>

</p>
<h2 id="arbitrage-and-the-numeraire-property">Arbitrage and the numeraire property</h2>

<p>Given any two investment strategies 

<math display="inline" id="Stochastic_portfolio_theory:70">
 <semantics>
  <mrow>
   <mi>π</mi>
   <mo>,</mo>
   <mi>ρ</mi>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <list>
    <ci>π</ci>
    <ci>ρ</ci>
   </list>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \pi,\rho
  </annotation>
 </semantics>
</math>

 and a real number 

<math display="inline" id="Stochastic_portfolio_theory:71">
 <semantics>
  <mrow>
   <mi>T</mi>
   <mo>></mo>
   <mn>0</mn>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <gt></gt>
    <ci>T</ci>
    <cn type="integer">0</cn>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   T>0
  </annotation>
 </semantics>
</math>

, we say that 

<math display="inline" id="Stochastic_portfolio_theory:72">
 <semantics>
  <mi>π</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>π</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \pi
  </annotation>
 </semantics>
</math>

 is <strong><a class="uri" href="arbitrage" title="wikilink">arbitrage</a></strong> relative to 

<math display="inline" id="Stochastic_portfolio_theory:73">
 <semantics>
  <mi>ρ</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>ρ</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \rho
  </annotation>
 </semantics>
</math>

 over the time-horizon 

<math display="inline" id="Stochastic_portfolio_theory:74">
 <semantics>
  <mrow>
   <mo stretchy="false">[</mo>
   <mn>0</mn>
   <mo>,</mo>
   <mi>T</mi>
   <mo stretchy="false">]</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <interval closure="closed">
    <cn type="integer">0</cn>
    <ci>T</ci>
   </interval>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   [0,T]
  </annotation>
 </semantics>
</math>

, if 

<math display="inline" id="Stochastic_portfolio_theory:75">
 <semantics>
  <mrow>
   <mi>ℙ</mi>
   <mrow>
    <mo stretchy="false">(</mo>
    <msub>
     <mi>Z</mi>
     <mi>π</mi>
    </msub>
    <mrow>
     <mo stretchy="false">(</mo>
     <mi>T</mi>
     <mo stretchy="false">)</mo>
    </mrow>
    <mo>≥</mo>
    <msub>
     <mi>Z</mi>
     <mi>ρ</mi>
    </msub>
    <mrow>
     <mo stretchy="false">(</mo>
     <mi>T</mi>
     <mo stretchy="false">)</mo>
    </mrow>
    <mo stretchy="false">)</mo>
   </mrow>
   <mo>≥</mo>
   <mn>1</mn>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <cerror>
    <csymbol cd="ambiguous">fragments</csymbol>
    <csymbol cd="unknown">P</csymbol>
    <cerror>
     <csymbol cd="ambiguous">fragments</csymbol>
     <ci>normal-(</ci>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <ci>Z</ci>
      <ci>π</ci>
     </apply>
     <cerror>
      <csymbol cd="ambiguous">fragments</csymbol>
      <ci>normal-(</ci>
      <csymbol cd="unknown">T</csymbol>
      <ci>normal-)</ci>
     </cerror>
     <geq></geq>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <ci>Z</ci>
      <ci>ρ</ci>
     </apply>
     <cerror>
      <csymbol cd="ambiguous">fragments</csymbol>
      <ci>normal-(</ci>
      <csymbol cd="unknown">T</csymbol>
      <ci>normal-)</ci>
     </cerror>
     <ci>normal-)</ci>
    </cerror>
    <geq></geq>
    <cn type="integer">1</cn>
   </cerror>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \mathbb{P}(Z_{\pi}(T)\geq Z_{\rho}(T))\geq 1
  </annotation>
 </semantics>
</math>

 and 

<math display="inline" id="Stochastic_portfolio_theory:76">
 <semantics>
  <mrow>
   <mi>ℙ</mi>
   <mrow>
    <mo stretchy="false">(</mo>
    <msub>
     <mi>Z</mi>
     <mi>π</mi>
    </msub>
    <mrow>
     <mo stretchy="false">(</mo>
     <mi>T</mi>
     <mo stretchy="false">)</mo>
    </mrow>
    <mo>></mo>
    <msub>
     <mi>Z</mi>
     <mi>ρ</mi>
    </msub>
    <mrow>
     <mo stretchy="false">(</mo>
     <mi>T</mi>
     <mo stretchy="false">)</mo>
    </mrow>
    <mo stretchy="false">)</mo>
   </mrow>
   <mo>></mo>
   <mn>0</mn>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <cerror>
    <csymbol cd="ambiguous">fragments</csymbol>
    <csymbol cd="unknown">P</csymbol>
    <cerror>
     <csymbol cd="ambiguous">fragments</csymbol>
     <ci>normal-(</ci>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <ci>Z</ci>
      <ci>π</ci>
     </apply>
     <cerror>
      <csymbol cd="ambiguous">fragments</csymbol>
      <ci>normal-(</ci>
      <csymbol cd="unknown">T</csymbol>
      <ci>normal-)</ci>
     </cerror>
     <gt></gt>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <ci>Z</ci>
      <ci>ρ</ci>
     </apply>
     <cerror>
      <csymbol cd="ambiguous">fragments</csymbol>
      <ci>normal-(</ci>
      <csymbol cd="unknown">T</csymbol>
      <ci>normal-)</ci>
     </cerror>
     <ci>normal-)</ci>
    </cerror>
    <gt></gt>
    <cn type="integer">0</cn>
   </cerror>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \mathbb{P}(Z_{\pi}(T)>Z_{\rho}(T))>0
  </annotation>
 </semantics>
</math>

 both hold; this relative arbitrage is called “strong” if 

<math display="inline" id="Stochastic_portfolio_theory:77">
 <semantics>
  <mrow>
   <mi>ℙ</mi>
   <mrow>
    <mo stretchy="false">(</mo>
    <msub>
     <mi>Z</mi>
     <mi>π</mi>
    </msub>
    <mrow>
     <mo stretchy="false">(</mo>
     <mi>T</mi>
     <mo stretchy="false">)</mo>
    </mrow>
    <mo>></mo>
    <msub>
     <mi>Z</mi>
     <mi>ρ</mi>
    </msub>
    <mrow>
     <mo stretchy="false">(</mo>
     <mi>T</mi>
     <mo stretchy="false">)</mo>
    </mrow>
    <mo stretchy="false">)</mo>
   </mrow>
   <mo>=</mo>
   <mn>1.</mn>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <cerror>
    <csymbol cd="ambiguous">fragments</csymbol>
    <csymbol cd="unknown">P</csymbol>
    <cerror>
     <csymbol cd="ambiguous">fragments</csymbol>
     <ci>normal-(</ci>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <ci>Z</ci>
      <ci>π</ci>
     </apply>
     <cerror>
      <csymbol cd="ambiguous">fragments</csymbol>
      <ci>normal-(</ci>
      <csymbol cd="unknown">T</csymbol>
      <ci>normal-)</ci>
     </cerror>
     <gt></gt>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <ci>Z</ci>
      <ci>ρ</ci>
     </apply>
     <cerror>
      <csymbol cd="ambiguous">fragments</csymbol>
      <ci>normal-(</ci>
      <csymbol cd="unknown">T</csymbol>
      <ci>normal-)</ci>
     </cerror>
     <ci>normal-)</ci>
    </cerror>
    <eq></eq>
    <cn type="float">1.</cn>
   </cerror>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \mathbb{P}(Z_{\pi}(T)>Z_{\rho}(T))=1.
  </annotation>
 </semantics>
</math>

 When 

<math display="inline" id="Stochastic_portfolio_theory:78">
 <semantics>
  <mi>ρ</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>ρ</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \rho
  </annotation>
 </semantics>
</math>

 is 

<math display="inline" id="Stochastic_portfolio_theory:79">
 <semantics>
  <mrow>
   <mrow>
    <mi>κ</mi>
    <mo>≡</mo>
    <mn>0</mn>
   </mrow>
   <mo>,</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <equivalent></equivalent>
    <ci>κ</ci>
    <cn type="integer">0</cn>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \kappa\equiv 0,
  </annotation>
 </semantics>
</math>

 we recover the usual definition of arbitrage relative to cash. We say that a given strategy 

<math display="inline" id="Stochastic_portfolio_theory:80">
 <semantics>
  <mi>ν</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>ν</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \nu
  </annotation>
 </semantics>
</math>

 has the <a href="numeraire" title="wikilink"><strong>numeraire property</strong></a>, if for any strategy 

<math display="inline" id="Stochastic_portfolio_theory:81">
 <semantics>
  <mi>π</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>π</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \pi
  </annotation>
 </semantics>
</math>

 the ratio 

<math display="inline" id="Stochastic_portfolio_theory:82">
 <semantics>
  <mrow>
   <msub>
    <mi>Z</mi>
    <mi>π</mi>
   </msub>
   <mo>/</mo>
   <msub>
    <mi>Z</mi>
    <mi>ν</mi>
   </msub>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <divide></divide>
    <apply>
     <csymbol cd="ambiguous">subscript</csymbol>
     <ci>Z</ci>
     <ci>π</ci>
    </apply>
    <apply>
     <csymbol cd="ambiguous">subscript</csymbol>
     <ci>Z</ci>
     <ci>ν</ci>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   Z_{\pi}/Z_{\nu}
  </annotation>
 </semantics>
</math>

 is a 

<math display="inline" id="Stochastic_portfolio_theory:83">
 <semantics>
  <mi>ℙ</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>ℙ</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \mathbb{P}
  </annotation>
 </semantics>
</math>

−supermartingale. In such a case, the process 

<math display="inline" id="Stochastic_portfolio_theory:84">
 <semantics>
  <mrow>
   <mn>1</mn>
   <mo>/</mo>
   <msub>
    <mi>Z</mi>
    <mi>ν</mi>
   </msub>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <divide></divide>
    <cn type="integer">1</cn>
    <apply>
     <csymbol cd="ambiguous">subscript</csymbol>
     <ci>Z</ci>
     <ci>ν</ci>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   1/Z_{\nu}
  </annotation>
 </semantics>
</math>

 is called a “deflator” for the market.</p>

<p>No <a class="uri" href="arbitrage" title="wikilink">arbitrage</a> is possible, over any given time horizon, relative to a strategy 

<math display="inline" id="Stochastic_portfolio_theory:85">
 <semantics>
  <mi>ν</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>ν</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \nu
  </annotation>
 </semantics>
</math>

 that has the numeraire property (either with respect to the underlying probability measure 

<math display="inline" id="Stochastic_portfolio_theory:86">
 <semantics>
  <mi>ℙ</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>ℙ</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \mathbb{P}
  </annotation>
 </semantics>
</math>

, or with respect to any other probability measure which is equivalent to 

<math display="inline" id="Stochastic_portfolio_theory:87">
 <semantics>
  <mi>ℙ</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>ℙ</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \mathbb{P}
  </annotation>
 </semantics>
</math>

). A strategy 

<math display="inline" id="Stochastic_portfolio_theory:88">
 <semantics>
  <mi>ν</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>ν</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \nu
  </annotation>
 </semantics>
</math>

 with the numeraire property maximizes the asymptotic growth rate from investment, in the sense that</p>

<p>

<math display="block" id="Stochastic_portfolio_theory:89">
 <semantics>
  <mrow>
   <mrow>
    <munder>
     <mo movablelimits="false">lim sup</mo>
     <mrow>
      <mi>T</mi>
      <mo>→</mo>
      <mi mathvariant="normal">∞</mi>
     </mrow>
    </munder>
    <mrow>
     <mfrac>
      <mn>1</mn>
      <mi>T</mi>
     </mfrac>
     <mrow>
      <mi>log</mi>
      <mrow>
       <mo>(</mo>
       <mfrac>
        <mrow>
         <msub>
          <mi>Z</mi>
          <mi>π</mi>
         </msub>
         <mrow>
          <mo stretchy="false">(</mo>
          <mi>T</mi>
          <mo stretchy="false">)</mo>
         </mrow>
        </mrow>
        <mrow>
         <msub>
          <mi>Z</mi>
          <mi>ν</mi>
         </msub>
         <mrow>
          <mo stretchy="false">(</mo>
          <mi>T</mi>
          <mo stretchy="false">)</mo>
         </mrow>
        </mrow>
       </mfrac>
       <mo>)</mo>
      </mrow>
     </mrow>
    </mrow>
   </mrow>
   <mo>≤</mo>
   <mn>0</mn>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <leq></leq>
    <apply>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <csymbol cd="latexml">limit-supremum</csymbol>
      <apply>
       <ci>normal-→</ci>
       <ci>T</ci>
       <infinity></infinity>
      </apply>
     </apply>
     <apply>
      <times></times>
      <apply>
       <divide></divide>
       <cn type="integer">1</cn>
       <ci>T</ci>
      </apply>
      <apply>
       <log></log>
       <apply>
        <divide></divide>
        <apply>
         <times></times>
         <apply>
          <csymbol cd="ambiguous">subscript</csymbol>
          <ci>Z</ci>
          <ci>π</ci>
         </apply>
         <ci>T</ci>
        </apply>
        <apply>
         <times></times>
         <apply>
          <csymbol cd="ambiguous">subscript</csymbol>
          <ci>Z</ci>
          <ci>ν</ci>
         </apply>
         <ci>T</ci>
        </apply>
       </apply>
      </apply>
     </apply>
    </apply>
    <cn type="integer">0</cn>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \limsup_{T\rightarrow\infty}\frac{1}{T}\log\left(\frac{Z_{\pi}(T)}{Z_{\nu}(T)}%
\right)\leq 0
  </annotation>
 </semantics>
</math>

 holds for any strategy 

<math display="inline" id="Stochastic_portfolio_theory:90">
 <semantics>
  <mi>π</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>π</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \pi
  </annotation>
 </semantics>
</math>

; it also maximizes the expected log-utility from investment, in the sense that for any strategy 

<math display="inline" id="Stochastic_portfolio_theory:91">
 <semantics>
  <mi>π</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>π</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \pi
  </annotation>
 </semantics>
</math>

 and real number 

<math display="inline" id="Stochastic_portfolio_theory:92">
 <semantics>
  <mrow>
   <mi>T</mi>
   <mo>></mo>
   <mn>0</mn>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <gt></gt>
    <ci>T</ci>
    <cn type="integer">0</cn>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   T>0
  </annotation>
 </semantics>
</math>

 we have</p>

<p>

<math display="block" id="Stochastic_portfolio_theory:93">
 <semantics>
  <mrow>
   <mi>𝔼</mi>
   <mrow>
    <mo stretchy="false">[</mo>
    <mi>log</mi>
    <mrow>
     <mo stretchy="false">(</mo>
     <msub>
      <mi>Z</mi>
      <mi>π</mi>
     </msub>
     <mrow>
      <mo stretchy="false">(</mo>
      <mi>T</mi>
      <mo stretchy="false">)</mo>
     </mrow>
     <mo stretchy="false">]</mo>
    </mrow>
    <mo>≤</mo>
    <mi>𝔼</mi>
    <mrow>
     <mo stretchy="false">[</mo>
     <mi>log</mi>
     <mrow>
      <mo stretchy="false">(</mo>
      <msub>
       <mi>Z</mi>
       <mi>ν</mi>
      </msub>
      <mrow>
       <mo stretchy="false">(</mo>
       <mi>T</mi>
       <mo stretchy="false">)</mo>
      </mrow>
      <mo stretchy="false">)</mo>
     </mrow>
     <mo stretchy="false">]</mo>
    </mrow>
    <mo>.</mo>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <cerror>
    <csymbol cd="ambiguous">fragments</csymbol>
    <csymbol cd="unknown">E</csymbol>
    <cerror>
     <csymbol cd="ambiguous">fragments</csymbol>
     <ci>normal-[</ci>
     <log></log>
     <cerror>
      <csymbol cd="ambiguous">fragments</csymbol>
      <ci>normal-(</ci>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>Z</ci>
       <ci>π</ci>
      </apply>
      <cerror>
       <csymbol cd="ambiguous">fragments</csymbol>
       <ci>normal-(</ci>
       <csymbol cd="unknown">T</csymbol>
       <ci>normal-)</ci>
      </cerror>
      <ci>normal-]</ci>
     </cerror>
     <leq></leq>
     <csymbol cd="unknown">E</csymbol>
     <cerror>
      <csymbol cd="ambiguous">fragments</csymbol>
      <ci>normal-[</ci>
      <log></log>
      <cerror>
       <csymbol cd="ambiguous">fragments</csymbol>
       <ci>normal-(</ci>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>Z</ci>
        <ci>ν</ci>
       </apply>
       <cerror>
        <csymbol cd="ambiguous">fragments</csymbol>
        <ci>normal-(</ci>
        <csymbol cd="unknown">T</csymbol>
        <ci>normal-)</ci>
       </cerror>
       <ci>normal-)</ci>
      </cerror>
      <ci>normal-]</ci>
     </cerror>
     <ci>normal-.</ci>
    </cerror>
   </cerror>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \mathbb{E}[\log(Z_{\pi}(T)]\leq\mathbb{E}[\log(Z_{\nu}(T))].
  </annotation>
 </semantics>
</math>

 If the vector 

<math display="inline" id="Stochastic_portfolio_theory:94">
 <semantics>
  <mrow>
   <mrow>
    <mi>α</mi>
    <mrow>
     <mo stretchy="false">(</mo>
     <mi>t</mi>
     <mo stretchy="false">)</mo>
    </mrow>
   </mrow>
   <mo>=</mo>
   <msup>
    <mrow>
     <mo stretchy="false">(</mo>
     <mrow>
      <msub>
       <mi>α</mi>
       <mn>1</mn>
      </msub>
      <mrow>
       <mo stretchy="false">(</mo>
       <mi>t</mi>
       <mo stretchy="false">)</mo>
      </mrow>
     </mrow>
     <mo>,</mo>
     <mi mathvariant="normal">⋯</mi>
     <mo>,</mo>
     <mrow>
      <msub>
       <mi>α</mi>
       <mi>n</mi>
      </msub>
      <mrow>
       <mo stretchy="false">(</mo>
       <mi>t</mi>
       <mo stretchy="false">)</mo>
      </mrow>
     </mrow>
     <mo stretchy="false">)</mo>
    </mrow>
    <mo>′</mo>
   </msup>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <times></times>
     <ci>α</ci>
     <ci>t</ci>
    </apply>
    <apply>
     <csymbol cd="ambiguous">superscript</csymbol>
     <vector>
      <apply>
       <times></times>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>α</ci>
        <cn type="integer">1</cn>
       </apply>
       <ci>t</ci>
      </apply>
      <ci>normal-⋯</ci>
      <apply>
       <times></times>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>α</ci>
        <ci>n</ci>
       </apply>
       <ci>t</ci>
      </apply>
     </vector>
     <ci>normal-′</ci>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \alpha(t)=(\alpha_{1}(t),\cdots,\alpha_{n}(t))^{\prime}
  </annotation>
 </semantics>
</math>

 of instantaneous rates of return, and the matrix 

<math display="inline" id="Stochastic_portfolio_theory:95">
 <semantics>
  <mrow>
   <mrow>
    <mi>σ</mi>
    <mrow>
     <mo stretchy="false">(</mo>
     <mi>t</mi>
     <mo stretchy="false">)</mo>
    </mrow>
   </mrow>
   <mo>=</mo>
   <msub>
    <mrow>
     <mo stretchy="false">(</mo>
     <mrow>
      <mi>σ</mi>
      <mrow>
       <mo stretchy="false">(</mo>
       <mi>t</mi>
       <mo stretchy="false">)</mo>
      </mrow>
     </mrow>
     <mo stretchy="false">)</mo>
    </mrow>
    <mrow>
     <mrow>
      <mn>1</mn>
      <mo>≤</mo>
      <mi>i</mi>
     </mrow>
     <mo>,</mo>
     <mrow>
      <mi>j</mi>
      <mo>≤</mo>
      <mi>n</mi>
     </mrow>
    </mrow>
   </msub>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <times></times>
     <ci>σ</ci>
     <ci>t</ci>
    </apply>
    <apply>
     <csymbol cd="ambiguous">subscript</csymbol>
     <apply>
      <times></times>
      <ci>σ</ci>
      <ci>t</ci>
     </apply>
     <apply>
      <csymbol cd="ambiguous">formulae-sequence</csymbol>
      <apply>
       <leq></leq>
       <cn type="integer">1</cn>
       <ci>i</ci>
      </apply>
      <apply>
       <leq></leq>
       <ci>j</ci>
       <ci>n</ci>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \sigma(t)=(\sigma(t))_{1\leq i,j\leq n}
  </annotation>
 </semantics>
</math>

 of instantaneous covariances, are known, then the strategy</p>

<p>

<math display="block" id="Stochastic_portfolio_theory:96">
 <semantics>
  <mrow>
   <mrow>
    <mrow>
     <mi>ν</mi>
     <mrow>
      <mo stretchy="false">(</mo>
      <mi>t</mi>
      <mo stretchy="false">)</mo>
     </mrow>
    </mrow>
    <mo>=</mo>
    <mrow>
     <mi>arg</mi>
     <mrow>
      <munder>
       <mi>max</mi>
       <mrow>
        <mi>p</mi>
        <mo>∈</mo>
        <msup>
         <mi>ℝ</mi>
         <mi>n</mi>
        </msup>
       </mrow>
      </munder>
      <mrow>
       <mo stretchy="false">(</mo>
       <mrow>
        <mrow>
         <msup>
          <mi>p</mi>
          <mo>′</mo>
         </msup>
         <mi>α</mi>
         <mrow>
          <mo stretchy="false">(</mo>
          <mi>t</mi>
          <mo stretchy="false">)</mo>
         </mrow>
        </mrow>
        <mo>-</mo>
        <mrow>
         <mstyle displaystyle="false">
          <mfrac>
           <mn>1</mn>
           <mn>2</mn>
          </mfrac>
         </mstyle>
         <msup>
          <mi>p</mi>
          <mo>′</mo>
         </msup>
         <mi>α</mi>
         <mrow>
          <mo stretchy="false">(</mo>
          <mi>t</mi>
          <mo stretchy="false">)</mo>
         </mrow>
         <mi>p</mi>
        </mrow>
       </mrow>
       <mo stretchy="false">)</mo>
      </mrow>
     </mrow>
    </mrow>
   </mrow>
   <mrow>
    <mrow>
     <mtext>for all</mtext>
     <mn>0</mn>
    </mrow>
    <mo>≤</mo>
    <mi>t</mi>
    <mo><</mo>
    <mi mathvariant="normal">∞</mi>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <csymbol cd="ambiguous">formulae-sequence</csymbol>
    <apply>
     <eq></eq>
     <apply>
      <times></times>
      <ci>ν</ci>
      <ci>t</ci>
     </apply>
     <apply>
      <arg></arg>
      <apply>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <max></max>
        <apply>
         <in></in>
         <ci>p</ci>
         <apply>
          <csymbol cd="ambiguous">superscript</csymbol>
          <ci>ℝ</ci>
          <ci>n</ci>
         </apply>
        </apply>
       </apply>
       <apply>
        <minus></minus>
        <apply>
         <times></times>
         <apply>
          <csymbol cd="ambiguous">superscript</csymbol>
          <ci>p</ci>
          <ci>normal-′</ci>
         </apply>
         <ci>α</ci>
         <ci>t</ci>
        </apply>
        <apply>
         <times></times>
         <apply>
          <divide></divide>
          <cn type="integer">1</cn>
          <cn type="integer">2</cn>
         </apply>
         <apply>
          <csymbol cd="ambiguous">superscript</csymbol>
          <ci>p</ci>
          <ci>normal-′</ci>
         </apply>
         <ci>α</ci>
         <ci>t</ci>
         <ci>p</ci>
        </apply>
       </apply>
      </apply>
     </apply>
    </apply>
    <apply>
     <and></and>
     <apply>
      <leq></leq>
      <apply>
       <times></times>
       <mtext>for all</mtext>
       <cn type="integer">0</cn>
      </apply>
      <ci>t</ci>
     </apply>
     <apply>
      <lt></lt>
      <share href="#.cmml">
      </share>
      <infinity></infinity>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \nu(t)=\arg\max_{p\in\mathbb{R}^{n}}(p^{\prime}\alpha(t)-\tfrac{1}{2}p^{\prime%
}\alpha(t)p)\qquad\text{ for all }0\leq t<\infty
  </annotation>
 </semantics>
</math>

 has the numeraire property whenever the indicated maximum is attained.</p>

<p>The study of the numeraire portfolio links SPT to the so-called Benchmark approach to Mathematical Finance, which takes such a numeraire portfolio as given and provides a way to price contingent claims, without any further assumptions.</p>

<p>A probability measure 

<math display="inline" id="Stochastic_portfolio_theory:97">
 <semantics>
  <mi>ℚ</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>ℚ</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \mathbb{Q}
  </annotation>
 </semantics>
</math>

 is called <a href="equivalent_martingale_measure" title="wikilink"><strong>equivalent martingale measure (EMM)</strong></a> on a given time-horizon 

<math display="inline" id="Stochastic_portfolio_theory:98">
 <semantics>
  <mrow>
   <mo stretchy="false">[</mo>
   <mn>0</mn>
   <mo>,</mo>
   <mi>T</mi>
   <mo stretchy="false">]</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <interval closure="closed">
    <cn type="integer">0</cn>
    <ci>T</ci>
   </interval>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   [0,T]
  </annotation>
 </semantics>
</math>

, if it has the same null sets as 

<math display="inline" id="Stochastic_portfolio_theory:99">
 <semantics>
  <mi>ℙ</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>ℙ</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \mathbb{P}
  </annotation>
 </semantics>
</math>

 on 

<math display="inline" id="Stochastic_portfolio_theory:100">
 <semantics>
  <msub>
   <mi class="ltx_font_mathcaligraphic">ℱ</mi>
   <mi>T</mi>
  </msub>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <csymbol cd="ambiguous">subscript</csymbol>
    <ci>ℱ</ci>
    <ci>T</ci>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \mathcal{F}_{T}
  </annotation>
 </semantics>
</math>

, and if the processes 

<math display="inline" id="Stochastic_portfolio_theory:101">
 <semantics>
  <mrow>
   <mrow>
    <msub>
     <mi>X</mi>
     <mn>1</mn>
    </msub>
    <mrow>
     <mo stretchy="false">(</mo>
     <mi>t</mi>
     <mo stretchy="false">)</mo>
    </mrow>
   </mrow>
   <mo>,</mo>
   <mi mathvariant="normal">…</mi>
   <mo>,</mo>
   <mrow>
    <msub>
     <mi>X</mi>
     <mi>n</mi>
    </msub>
    <mrow>
     <mo stretchy="false">(</mo>
     <mi>t</mi>
     <mo stretchy="false">)</mo>
    </mrow>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <list>
    <apply>
     <times></times>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <ci>X</ci>
      <cn type="integer">1</cn>
     </apply>
     <ci>t</ci>
    </apply>
    <ci>normal-…</ci>
    <apply>
     <times></times>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <ci>X</ci>
      <ci>n</ci>
     </apply>
     <ci>t</ci>
    </apply>
   </list>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   X_{1}(t),\dots,X_{n}(t)
  </annotation>
 </semantics>
</math>

 with 

<math display="inline" id="Stochastic_portfolio_theory:102">
 <semantics>
  <mrow>
   <mn>0</mn>
   <mo>≤</mo>
   <mi>t</mi>
   <mo>≤</mo>
   <mi>T</mi>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <and></and>
    <apply>
     <leq></leq>
     <cn type="integer">0</cn>
     <ci>t</ci>
    </apply>
    <apply>
     <leq></leq>
     <share href="#.cmml">
     </share>
     <ci>T</ci>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   0\leq t\leq T
  </annotation>
 </semantics>
</math>

 are all 

<math display="inline" id="Stochastic_portfolio_theory:103">
 <semantics>
  <mi>ℚ</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>ℚ</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \mathbb{Q}
  </annotation>
 </semantics>
</math>

−martingales. Assuming that such an EMM exists, arbitrage is not possible on 

<math display="inline" id="Stochastic_portfolio_theory:104">
 <semantics>
  <mrow>
   <mo stretchy="false">[</mo>
   <mn>0</mn>
   <mo>,</mo>
   <mi>T</mi>
   <mo stretchy="false">]</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <interval closure="closed">
    <cn type="integer">0</cn>
    <ci>T</ci>
   </interval>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   [0,T]
  </annotation>
 </semantics>
</math>

 relative to either cash 

<math display="inline" id="Stochastic_portfolio_theory:105">
 <semantics>
  <mi>κ</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>κ</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \kappa
  </annotation>
 </semantics>
</math>

 or to the market portfolio 

<math display="inline" id="Stochastic_portfolio_theory:106">
 <semantics>
  <mi>μ</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>μ</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \mu
  </annotation>
 </semantics>
</math>

 (or more generally, relative to any strategy 

<math display="inline" id="Stochastic_portfolio_theory:107">
 <semantics>
  <mi>ρ</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>ρ</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \rho
  </annotation>
 </semantics>
</math>

 whose wealth process 

<math display="inline" id="Stochastic_portfolio_theory:108">
 <semantics>
  <msub>
   <mi>Z</mi>
   <mi>ρ</mi>
  </msub>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <csymbol cd="ambiguous">subscript</csymbol>
    <ci>Z</ci>
    <ci>ρ</ci>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   Z_{\rho}
  </annotation>
 </semantics>
</math>

 is a <a href="martingale_(probability_theory)" title="wikilink">martingale</a> under some EMM). Conversely, if 

<math display="inline" id="Stochastic_portfolio_theory:109">
 <semantics>
  <mrow>
   <mi>π</mi>
   <mo>,</mo>
   <mi>ρ</mi>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <list>
    <ci>π</ci>
    <ci>ρ</ci>
   </list>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \pi,\rho
  </annotation>
 </semantics>
</math>

 are portfolios and one of them is arbitrage relative to the other on 

<math display="inline" id="Stochastic_portfolio_theory:110">
 <semantics>
  <mrow>
   <mo stretchy="false">[</mo>
   <mn>0</mn>
   <mo>,</mo>
   <mi>T</mi>
   <mo stretchy="false">]</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <interval closure="closed">
    <cn type="integer">0</cn>
    <ci>T</ci>
   </interval>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   [0,T]
  </annotation>
 </semantics>
</math>

 then no EMM can exist on this horizon.</p>
<h2 id="functionally-generated-portfolios">Functionally-generated portfolios</h2>

<p>Suppose we are given a smooth function 

<math display="inline" id="Stochastic_portfolio_theory:111">
 <semantics>
  <mrow>
   <mi>G</mi>
   <mo>:</mo>
   <mrow>
    <mi>U</mi>
    <mo>→</mo>
    <mrow>
     <mo stretchy="false">(</mo>
     <mn>0</mn>
     <mo>,</mo>
     <mi mathvariant="normal">∞</mi>
     <mo stretchy="false">)</mo>
    </mrow>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <ci>normal-:</ci>
    <ci>G</ci>
    <apply>
     <ci>normal-→</ci>
     <ci>U</ci>
     <interval closure="open">
      <cn type="integer">0</cn>
      <infinity></infinity>
     </interval>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   G:U\rightarrow(0,\infty)
  </annotation>
 </semantics>
</math>

 on some neighborhood 

<math display="inline" id="Stochastic_portfolio_theory:112">
 <semantics>
  <mi>U</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>U</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   U
  </annotation>
 </semantics>
</math>

 of the unit simplex in 

<math display="inline" id="Stochastic_portfolio_theory:113">
 <semantics>
  <msup>
   <mi>ℝ</mi>
   <mi>n</mi>
  </msup>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <csymbol cd="ambiguous">superscript</csymbol>
    <ci>ℝ</ci>
    <ci>n</ci>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \mathbb{R}^{n}
  </annotation>
 </semantics>
</math>

 . We call</p>

<p>

<math display="block" id="Stochastic_portfolio_theory:114">
 <semantics>
  <mrow>
   <mrow>
    <mrow>
     <msubsup>
      <mi>π</mi>
      <mi>i</mi>
      <mi>𝔾</mi>
     </msubsup>
     <mrow>
      <mo stretchy="false">(</mo>
      <mi>t</mi>
      <mo stretchy="false">)</mo>
     </mrow>
    </mrow>
    <mo>:=</mo>
    <mrow>
     <msub>
      <mi>μ</mi>
      <mi>i</mi>
     </msub>
     <mrow>
      <mo stretchy="false">(</mo>
      <mi>t</mi>
      <mo stretchy="false">)</mo>
     </mrow>
     <mrow>
      <mo>(</mo>
      <mrow>
       <mrow>
        <mrow>
         <msub>
          <mi>D</mi>
          <mi>i</mi>
         </msub>
         <mrow>
          <mi>log</mi>
          <mrow>
           <mo stretchy="false">(</mo>
           <mrow>
            <mi>𝔾</mi>
            <mrow>
             <mo stretchy="false">(</mo>
             <mrow>
              <mi>μ</mi>
              <mrow>
               <mo stretchy="false">(</mo>
               <mi>t</mi>
               <mo stretchy="false">)</mo>
              </mrow>
             </mrow>
             <mo stretchy="false">)</mo>
            </mrow>
           </mrow>
           <mo stretchy="false">)</mo>
          </mrow>
         </mrow>
        </mrow>
        <mo>+</mo>
        <mn>1</mn>
       </mrow>
       <mo>-</mo>
       <mrow>
        <munderover>
         <mo largeop="true" movablelimits="false" symmetric="true">∑</mo>
         <mrow>
          <mi>j</mi>
          <mo>=</mo>
          <mn>1</mn>
         </mrow>
         <mi>n</mi>
        </munderover>
        <mrow>
         <msub>
          <mi>μ</mi>
          <mi>j</mi>
         </msub>
         <mrow>
          <mo stretchy="false">(</mo>
          <mi>t</mi>
          <mo stretchy="false">)</mo>
         </mrow>
         <msub>
          <mi>D</mi>
          <mi>j</mi>
         </msub>
         <mrow>
          <mi>log</mi>
          <mrow>
           <mo stretchy="false">(</mo>
           <mrow>
            <mi>𝔾</mi>
            <mrow>
             <mo stretchy="false">(</mo>
             <mrow>
              <mi>μ</mi>
              <mrow>
               <mo stretchy="false">(</mo>
               <mi>t</mi>
               <mo stretchy="false">)</mo>
              </mrow>
             </mrow>
             <mo stretchy="false">)</mo>
            </mrow>
           </mrow>
           <mo stretchy="false">)</mo>
          </mrow>
         </mrow>
        </mrow>
       </mrow>
      </mrow>
      <mo>)</mo>
     </mrow>
    </mrow>
   </mrow>
   <mrow>
    <mrow>
     <mtext>for</mtext>
     <mn>1</mn>
    </mrow>
    <mo>≤</mo>
    <mi>i</mi>
    <mo>≤</mo>
    <mi>n</mi>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <csymbol cd="ambiguous">formulae-sequence</csymbol>
    <apply>
     <csymbol cd="latexml">assign</csymbol>
     <apply>
      <times></times>
      <apply>
       <csymbol cd="ambiguous">superscript</csymbol>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>π</ci>
        <ci>i</ci>
       </apply>
       <ci>𝔾</ci>
      </apply>
      <ci>t</ci>
     </apply>
     <apply>
      <times></times>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>μ</ci>
       <ci>i</ci>
      </apply>
      <ci>t</ci>
      <apply>
       <minus></minus>
       <apply>
        <plus></plus>
        <apply>
         <times></times>
         <apply>
          <csymbol cd="ambiguous">subscript</csymbol>
          <ci>D</ci>
          <ci>i</ci>
         </apply>
         <apply>
          <log></log>
          <apply>
           <times></times>
           <ci>𝔾</ci>
           <apply>
            <times></times>
            <ci>μ</ci>
            <ci>t</ci>
           </apply>
          </apply>
         </apply>
        </apply>
        <cn type="integer">1</cn>
       </apply>
       <apply>
        <apply>
         <csymbol cd="ambiguous">superscript</csymbol>
         <apply>
          <csymbol cd="ambiguous">subscript</csymbol>
          <sum></sum>
          <apply>
           <eq></eq>
           <ci>j</ci>
           <cn type="integer">1</cn>
          </apply>
         </apply>
         <ci>n</ci>
        </apply>
        <apply>
         <times></times>
         <apply>
          <csymbol cd="ambiguous">subscript</csymbol>
          <ci>μ</ci>
          <ci>j</ci>
         </apply>
         <ci>t</ci>
         <apply>
          <csymbol cd="ambiguous">subscript</csymbol>
          <ci>D</ci>
          <ci>j</ci>
         </apply>
         <apply>
          <log></log>
          <apply>
           <times></times>
           <ci>𝔾</ci>
           <apply>
            <times></times>
            <ci>μ</ci>
            <ci>t</ci>
           </apply>
          </apply>
         </apply>
        </apply>
       </apply>
      </apply>
     </apply>
    </apply>
    <apply>
     <and></and>
     <apply>
      <leq></leq>
      <apply>
       <times></times>
       <mtext>for</mtext>
       <cn type="integer">1</cn>
      </apply>
      <ci>i</ci>
     </apply>
     <apply>
      <leq></leq>
      <share href="#.cmml">
      </share>
      <ci>n</ci>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \pi_{i}^{\mathbb{G}}(t):=\mu_{i}(t)\left(D_{i}\log(\mathbb{G}(\mu(t)))+1-\sum_%
{j=1}^{n}\mu_{j}(t)D_{j}\log(\mathbb{G}(\mu(t)))\right)\qquad\text{ for }1\leq
i\leq
n
  </annotation>
 </semantics>
</math>

 the <strong>portfolio generated by the function 

<math display="inline" id="Stochastic_portfolio_theory:115">
 <semantics>
  <mi>𝔾</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>𝔾</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \mathbb{G}
  </annotation>
 </semantics>
</math>

</strong>. It can be shown that all the weights of this portfolio are non-negative, if its generating function 

<math display="inline" id="Stochastic_portfolio_theory:116">
 <semantics>
  <mi>𝔾</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>𝔾</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \mathbb{G}
  </annotation>
 </semantics>
</math>

 is concave. Under mild conditions, the relative performance of this functionally-generated portfolio 

<math display="inline" id="Stochastic_portfolio_theory:117">
 <semantics>
  <msub>
   <mi>π</mi>
   <mi>𝔾</mi>
  </msub>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <csymbol cd="ambiguous">subscript</csymbol>
    <ci>π</ci>
    <ci>𝔾</ci>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \pi_{\mathbb{G}}
  </annotation>
 </semantics>
</math>

 with respect to the market portfolio 

<math display="inline" id="Stochastic_portfolio_theory:118">
 <semantics>
  <mi>μ</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>μ</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \mu
  </annotation>
 </semantics>
</math>

, is given by the <strong>F-G decomposition</strong></p>

<p>

<math display="block" id="Stochastic_portfolio_theory:119">
 <semantics>
  <mrow>
   <mrow>
    <mi>log</mi>
    <mrow>
     <mo>(</mo>
     <mfrac>
      <mrow>
       <msub>
        <mi>Z</mi>
        <msup>
         <mi>π</mi>
         <mi>𝔾</mi>
        </msup>
       </msub>
       <mrow>
        <mo stretchy="false">(</mo>
        <mi>T</mi>
        <mo stretchy="false">)</mo>
       </mrow>
      </mrow>
      <mrow>
       <msub>
        <mi>Z</mi>
        <mi>μ</mi>
       </msub>
       <mrow>
        <mo stretchy="false">(</mo>
        <mi>T</mi>
        <mo stretchy="false">)</mo>
       </mrow>
      </mrow>
     </mfrac>
     <mo>)</mo>
    </mrow>
   </mrow>
   <mo>=</mo>
   <mrow>
    <mrow>
     <mi>log</mi>
     <mrow>
      <mo>(</mo>
      <mfrac>
       <mrow>
        <mi>𝔾</mi>
        <mrow>
         <mo stretchy="false">(</mo>
         <mrow>
          <mi>μ</mi>
          <mrow>
           <mo stretchy="false">(</mo>
           <mi>T</mi>
           <mo stretchy="false">)</mo>
          </mrow>
         </mrow>
         <mo stretchy="false">)</mo>
        </mrow>
       </mrow>
       <mrow>
        <mi>𝔾</mi>
        <mrow>
         <mo stretchy="false">(</mo>
         <mrow>
          <mi>μ</mi>
          <mrow>
           <mo stretchy="false">(</mo>
           <mn>0</mn>
           <mo stretchy="false">)</mo>
          </mrow>
         </mrow>
         <mo stretchy="false">)</mo>
        </mrow>
       </mrow>
      </mfrac>
      <mo>)</mo>
     </mrow>
    </mrow>
    <mo>+</mo>
    <mrow>
     <msubsup>
      <mo largeop="true" symmetric="true">∫</mo>
      <mn>0</mn>
      <mi>T</mi>
     </msubsup>
     <mrow>
      <mi>g</mi>
      <mrow>
       <mo stretchy="false">(</mo>
       <mi>t</mi>
       <mo rspace="4.2pt" stretchy="false">)</mo>
      </mrow>
      <mi>d</mi>
      <mi>t</mi>
     </mrow>
    </mrow>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <log></log>
     <apply>
      <divide></divide>
      <apply>
       <times></times>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>Z</ci>
        <apply>
         <csymbol cd="ambiguous">superscript</csymbol>
         <ci>π</ci>
         <ci>𝔾</ci>
        </apply>
       </apply>
       <ci>T</ci>
      </apply>
      <apply>
       <times></times>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>Z</ci>
        <ci>μ</ci>
       </apply>
       <ci>T</ci>
      </apply>
     </apply>
    </apply>
    <apply>
     <plus></plus>
     <apply>
      <log></log>
      <apply>
       <divide></divide>
       <apply>
        <times></times>
        <ci>𝔾</ci>
        <apply>
         <times></times>
         <ci>μ</ci>
         <ci>T</ci>
        </apply>
       </apply>
       <apply>
        <times></times>
        <ci>𝔾</ci>
        <apply>
         <times></times>
         <ci>μ</ci>
         <cn type="integer">0</cn>
        </apply>
       </apply>
      </apply>
     </apply>
     <apply>
      <apply>
       <csymbol cd="ambiguous">superscript</csymbol>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <int></int>
        <cn type="integer">0</cn>
       </apply>
       <ci>T</ci>
      </apply>
      <apply>
       <times></times>
       <ci>g</ci>
       <ci>t</ci>
       <ci>d</ci>
       <ci>t</ci>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \log\left(\frac{Z_{\pi^{\mathbb{G}}}(T)}{Z_{\mu}(T)}\right)=\log\left(\frac{%
\mathbb{G}(\mu(T))}{\mathbb{G}(\mu(0))}\right)+\int_{0}^{T}g(t)\,dt
  </annotation>
 </semantics>
</math>

 which involves no stochastic integrals. Here the expression</p>

<p>

<math display="block" id="Stochastic_portfolio_theory:120">
 <semantics>
  <mrow>
   <mrow>
    <mi>g</mi>
    <mrow>
     <mo stretchy="false">(</mo>
     <mi>t</mi>
     <mo stretchy="false">)</mo>
    </mrow>
   </mrow>
   <mo>:=</mo>
   <mrow>
    <mfrac>
     <mrow>
      <mo>-</mo>
      <mn>1</mn>
     </mrow>
     <mrow>
      <mn>2</mn>
      <mi>𝔾</mi>
      <mrow>
       <mo stretchy="false">(</mo>
       <mrow>
        <mi>μ</mi>
        <mrow>
         <mo stretchy="false">(</mo>
         <mi>t</mi>
         <mo stretchy="false">)</mo>
        </mrow>
       </mrow>
       <mo stretchy="false">)</mo>
      </mrow>
     </mrow>
    </mfrac>
    <mrow>
     <munderover>
      <mo largeop="true" movablelimits="false" symmetric="true">∑</mo>
      <mrow>
       <mi>i</mi>
       <mo>=</mo>
       <mn>1</mn>
      </mrow>
      <mi>n</mi>
     </munderover>
     <mrow>
      <munderover>
       <mo largeop="true" movablelimits="false" symmetric="true">∑</mo>
       <mrow>
        <mi>j</mi>
        <mo>=</mo>
        <mn>1</mn>
       </mrow>
       <mi>n</mi>
      </munderover>
      <mrow>
       <msubsup>
        <mi>D</mi>
        <mrow>
         <mi>i</mi>
         <mi>j</mi>
        </mrow>
        <mn>2</mn>
       </msubsup>
       <mi>𝔾</mi>
       <mrow>
        <mo stretchy="false">(</mo>
        <mrow>
         <mi>μ</mi>
         <mrow>
          <mo stretchy="false">(</mo>
          <mi>t</mi>
          <mo stretchy="false">)</mo>
         </mrow>
        </mrow>
        <mo stretchy="false">)</mo>
       </mrow>
       <msub>
        <mi>μ</mi>
        <mi>i</mi>
       </msub>
       <mrow>
        <mo stretchy="false">(</mo>
        <mi>t</mi>
        <mo stretchy="false">)</mo>
       </mrow>
       <msub>
        <mi>μ</mi>
        <mi>j</mi>
       </msub>
       <mrow>
        <mo stretchy="false">(</mo>
        <mi>t</mi>
        <mo stretchy="false">)</mo>
       </mrow>
       <msubsup>
        <mi>τ</mi>
        <mrow>
         <mi>i</mi>
         <mi>j</mi>
        </mrow>
        <mi>μ</mi>
       </msubsup>
       <mrow>
        <mo stretchy="false">(</mo>
        <mi>t</mi>
        <mo stretchy="false">)</mo>
       </mrow>
      </mrow>
     </mrow>
    </mrow>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <csymbol cd="latexml">assign</csymbol>
    <apply>
     <times></times>
     <ci>g</ci>
     <ci>t</ci>
    </apply>
    <apply>
     <times></times>
     <apply>
      <divide></divide>
      <apply>
       <minus></minus>
       <cn type="integer">1</cn>
      </apply>
      <apply>
       <times></times>
       <cn type="integer">2</cn>
       <ci>𝔾</ci>
       <apply>
        <times></times>
        <ci>μ</ci>
        <ci>t</ci>
       </apply>
      </apply>
     </apply>
     <apply>
      <apply>
       <csymbol cd="ambiguous">superscript</csymbol>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <sum></sum>
        <apply>
         <eq></eq>
         <ci>i</ci>
         <cn type="integer">1</cn>
        </apply>
       </apply>
       <ci>n</ci>
      </apply>
      <apply>
       <apply>
        <csymbol cd="ambiguous">superscript</csymbol>
        <apply>
         <csymbol cd="ambiguous">subscript</csymbol>
         <sum></sum>
         <apply>
          <eq></eq>
          <ci>j</ci>
          <cn type="integer">1</cn>
         </apply>
        </apply>
        <ci>n</ci>
       </apply>
       <apply>
        <times></times>
        <apply>
         <csymbol cd="ambiguous">superscript</csymbol>
         <apply>
          <csymbol cd="ambiguous">subscript</csymbol>
          <ci>D</ci>
          <apply>
           <times></times>
           <ci>i</ci>
           <ci>j</ci>
          </apply>
         </apply>
         <cn type="integer">2</cn>
        </apply>
        <ci>𝔾</ci>
        <apply>
         <times></times>
         <ci>μ</ci>
         <ci>t</ci>
        </apply>
        <apply>
         <csymbol cd="ambiguous">subscript</csymbol>
         <ci>μ</ci>
         <ci>i</ci>
        </apply>
        <ci>t</ci>
        <apply>
         <csymbol cd="ambiguous">subscript</csymbol>
         <ci>μ</ci>
         <ci>j</ci>
        </apply>
        <ci>t</ci>
        <apply>
         <csymbol cd="ambiguous">superscript</csymbol>
         <apply>
          <csymbol cd="ambiguous">subscript</csymbol>
          <ci>τ</ci>
          <apply>
           <times></times>
           <ci>i</ci>
           <ci>j</ci>
          </apply>
         </apply>
         <ci>μ</ci>
        </apply>
        <ci>t</ci>
       </apply>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   g(t):=\frac{-1}{2\mathbb{G}(\mu(t))}\sum_{i=1}^{n}\sum_{j=1}^{n}D_{ij}^{2}%
\mathbb{G}(\mu(t))\mu_{i}(t)\mu_{j}(t)\tau_{ij}^{\mu}(t)
  </annotation>
 </semantics>
</math>

 is called the <strong>drift process</strong> of the portfolio (and it is a non-negative quantity if the generating function 

<math display="inline" id="Stochastic_portfolio_theory:121">
 <semantics>
  <mi>𝔾</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>𝔾</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \mathbb{G}
  </annotation>
 </semantics>
</math>

 is concave); and the quantities</p>

<p>

<math display="block" id="Stochastic_portfolio_theory:122">
 <semantics>
  <mrow>
   <mrow>
    <mrow>
     <msubsup>
      <mi>τ</mi>
      <mrow>
       <mi>i</mi>
       <mi>j</mi>
      </mrow>
      <mi>μ</mi>
     </msubsup>
     <mrow>
      <mo stretchy="false">(</mo>
      <mi>t</mi>
      <mo stretchy="false">)</mo>
     </mrow>
    </mrow>
    <mo>:=</mo>
    <mrow>
     <munderover>
      <mo largeop="true" movablelimits="false" symmetric="true">∑</mo>
      <mrow>
       <mi>ν</mi>
       <mo>=</mo>
       <mn>1</mn>
      </mrow>
      <mi>n</mi>
     </munderover>
     <mrow>
      <mrow>
       <mo stretchy="false">(</mo>
       <mrow>
        <mrow>
         <msub>
          <mi>ξ</mi>
          <mrow>
           <mi>i</mi>
           <mi>ν</mi>
          </mrow>
         </msub>
         <mrow>
          <mo stretchy="false">(</mo>
          <mi>t</mi>
          <mo stretchy="false">)</mo>
         </mrow>
        </mrow>
        <mo>-</mo>
        <mrow>
         <msubsup>
          <mi>ξ</mi>
          <mi>ν</mi>
          <mi>μ</mi>
         </msubsup>
         <mrow>
          <mo stretchy="false">(</mo>
          <mi>t</mi>
          <mo stretchy="false">)</mo>
         </mrow>
        </mrow>
       </mrow>
       <mo stretchy="false">)</mo>
      </mrow>
      <mrow>
       <mo stretchy="false">(</mo>
       <mrow>
        <mrow>
         <msub>
          <mi>ξ</mi>
          <mrow>
           <mi>j</mi>
           <mi>ν</mi>
          </mrow>
         </msub>
         <mrow>
          <mo stretchy="false">(</mo>
          <mi>t</mi>
          <mo stretchy="false">)</mo>
         </mrow>
        </mrow>
        <mo>-</mo>
        <mrow>
         <msubsup>
          <mi>ξ</mi>
          <mi>ν</mi>
          <mi>μ</mi>
         </msubsup>
         <mrow>
          <mo stretchy="false">(</mo>
          <mi>t</mi>
          <mo stretchy="false">)</mo>
         </mrow>
        </mrow>
       </mrow>
       <mo stretchy="false">)</mo>
      </mrow>
     </mrow>
    </mrow>
   </mrow>
   <mo rspace="22.5pt">,</mo>
   <mrow>
    <mrow>
     <msub>
      <mi>ξ</mi>
      <mrow>
       <mi>i</mi>
       <mi>ν</mi>
      </mrow>
     </msub>
     <mrow>
      <mo stretchy="false">(</mo>
      <mi>t</mi>
      <mo stretchy="false">)</mo>
     </mrow>
    </mrow>
    <mo>:=</mo>
    <mrow>
     <munderover>
      <mo largeop="true" movablelimits="false" symmetric="true">∑</mo>
      <mrow>
       <mi>i</mi>
       <mo>=</mo>
       <mn>1</mn>
      </mrow>
      <mi>n</mi>
     </munderover>
     <mrow>
      <msub>
       <mi>μ</mi>
       <mi>i</mi>
      </msub>
      <mrow>
       <mo stretchy="false">(</mo>
       <mi>t</mi>
       <mo stretchy="false">)</mo>
      </mrow>
      <msub>
       <mi>ξ</mi>
       <mrow>
        <mi>i</mi>
        <mi>ν</mi>
       </mrow>
      </msub>
      <mrow>
       <mo stretchy="false">(</mo>
       <mi>t</mi>
       <mo stretchy="false">)</mo>
      </mrow>
     </mrow>
    </mrow>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <csymbol cd="ambiguous">formulae-sequence</csymbol>
    <apply>
     <csymbol cd="latexml">assign</csymbol>
     <apply>
      <times></times>
      <apply>
       <csymbol cd="ambiguous">superscript</csymbol>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>τ</ci>
        <apply>
         <times></times>
         <ci>i</ci>
         <ci>j</ci>
        </apply>
       </apply>
       <ci>μ</ci>
      </apply>
      <ci>t</ci>
     </apply>
     <apply>
      <apply>
       <csymbol cd="ambiguous">superscript</csymbol>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <sum></sum>
        <apply>
         <eq></eq>
         <ci>ν</ci>
         <cn type="integer">1</cn>
        </apply>
       </apply>
       <ci>n</ci>
      </apply>
      <apply>
       <times></times>
       <apply>
        <minus></minus>
        <apply>
         <times></times>
         <apply>
          <csymbol cd="ambiguous">subscript</csymbol>
          <ci>ξ</ci>
          <apply>
           <times></times>
           <ci>i</ci>
           <ci>ν</ci>
          </apply>
         </apply>
         <ci>t</ci>
        </apply>
        <apply>
         <times></times>
         <apply>
          <csymbol cd="ambiguous">superscript</csymbol>
          <apply>
           <csymbol cd="ambiguous">subscript</csymbol>
           <ci>ξ</ci>
           <ci>ν</ci>
          </apply>
          <ci>μ</ci>
         </apply>
         <ci>t</ci>
        </apply>
       </apply>
       <apply>
        <minus></minus>
        <apply>
         <times></times>
         <apply>
          <csymbol cd="ambiguous">subscript</csymbol>
          <ci>ξ</ci>
          <apply>
           <times></times>
           <ci>j</ci>
           <ci>ν</ci>
          </apply>
         </apply>
         <ci>t</ci>
        </apply>
        <apply>
         <times></times>
         <apply>
          <csymbol cd="ambiguous">superscript</csymbol>
          <apply>
           <csymbol cd="ambiguous">subscript</csymbol>
           <ci>ξ</ci>
           <ci>ν</ci>
          </apply>
          <ci>μ</ci>
         </apply>
         <ci>t</ci>
        </apply>
       </apply>
      </apply>
     </apply>
    </apply>
    <apply>
     <csymbol cd="latexml">assign</csymbol>
     <apply>
      <times></times>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>ξ</ci>
       <apply>
        <times></times>
        <ci>i</ci>
        <ci>ν</ci>
       </apply>
      </apply>
      <ci>t</ci>
     </apply>
     <apply>
      <apply>
       <csymbol cd="ambiguous">superscript</csymbol>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <sum></sum>
        <apply>
         <eq></eq>
         <ci>i</ci>
         <cn type="integer">1</cn>
        </apply>
       </apply>
       <ci>n</ci>
      </apply>
      <apply>
       <times></times>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>μ</ci>
        <ci>i</ci>
       </apply>
       <ci>t</ci>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>ξ</ci>
        <apply>
         <times></times>
         <ci>i</ci>
         <ci>ν</ci>
        </apply>
       </apply>
       <ci>t</ci>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \tau_{ij}^{\mu}(t):=\sum_{\nu=1}^{n}(\xi_{i\nu}(t)-\xi_{\nu}^{\mu}(t))(\xi_{j%
\nu}(t)-\xi_{\nu}^{\mu}(t)),\qquad\xi_{i\nu}(t):=\sum_{i=1}^{n}\mu_{i}(t)\xi_{%
i\nu}(t)
  </annotation>
 </semantics>
</math>

</p>

<p>with 

<math display="inline" id="Stochastic_portfolio_theory:123">
 <semantics>
  <mrow>
   <mrow>
    <mn>1</mn>
    <mo>≤</mo>
    <mi>i</mi>
   </mrow>
   <mo>,</mo>
   <mrow>
    <mi>j</mi>
    <mo>≤</mo>
    <mi>n</mi>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <csymbol cd="ambiguous">formulae-sequence</csymbol>
    <apply>
     <leq></leq>
     <cn type="integer">1</cn>
     <ci>i</ci>
    </apply>
    <apply>
     <leq></leq>
     <ci>j</ci>
     <ci>n</ci>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   1\leq i,j\leq n
  </annotation>
 </semantics>
</math>

 are called the <strong>relative covariances</strong> between 

<math display="inline" id="Stochastic_portfolio_theory:124">
 <semantics>
  <mrow>
   <mi>log</mi>
   <mrow>
    <mo stretchy="false">(</mo>
    <msub>
     <mi>X</mi>
     <mi>i</mi>
    </msub>
    <mo stretchy="false">)</mo>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <log></log>
    <apply>
     <csymbol cd="ambiguous">subscript</csymbol>
     <ci>X</ci>
     <ci>i</ci>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \log(X_{i})
  </annotation>
 </semantics>
</math>

 and 

<math display="inline" id="Stochastic_portfolio_theory:125">
 <semantics>
  <mrow>
   <mi>log</mi>
   <mrow>
    <mo stretchy="false">(</mo>
    <msub>
     <mi>X</mi>
     <mi>j</mi>
    </msub>
    <mo stretchy="false">)</mo>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <log></log>
    <apply>
     <csymbol cd="ambiguous">subscript</csymbol>
     <ci>X</ci>
     <ci>j</ci>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \log(X_{j})
  </annotation>
 </semantics>
</math>

 with respect to the market.</p>
<h3 id="examples">Examples</h3>
<ol>
<li>The constant function 

<math display="inline" id="Stochastic_portfolio_theory:126">
 <semantics>
  <mrow>
   <mi>𝔾</mi>
   <mo>:=</mo>
   <mi>w</mi>
   <mo>></mo>
   <mn>0</mn>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <and></and>
    <apply>
     <csymbol cd="latexml">assign</csymbol>
     <ci>𝔾</ci>
     <ci>w</ci>
    </apply>
    <apply>
     <gt></gt>
     <share href="#.cmml">
     </share>
     <cn type="integer">0</cn>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \mathbb{G}:=w>0
  </annotation>
 </semantics>
</math>

 generates the <em>market portfolio</em> 

<math display="inline" id="Stochastic_portfolio_theory:127">
 <semantics>
  <mi>μ</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>μ</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \mu
  </annotation>
 </semantics>
</math>

,</li>
<li>The geometric mean function 

<math display="inline" id="Stochastic_portfolio_theory:128">
 <semantics>
  <mrow>
   <mrow>
    <mi>ℍ</mi>
    <mrow>
     <mo stretchy="false">(</mo>
     <mi>x</mi>
     <mo stretchy="false">)</mo>
    </mrow>
   </mrow>
   <mo>:=</mo>
   <msup>
    <mrow>
     <mo stretchy="false">(</mo>
     <mrow>
      <msub>
       <mi>x</mi>
       <mn>1</mn>
      </msub>
      <mi mathvariant="normal">⋯</mi>
      <msub>
       <mi>x</mi>
       <mi>n</mi>
      </msub>
     </mrow>
     <mo stretchy="false">)</mo>
    </mrow>
    <mfrac>
     <mn>1</mn>
     <mi>n</mi>
    </mfrac>
   </msup>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <csymbol cd="latexml">assign</csymbol>
    <apply>
     <times></times>
     <ci>ℍ</ci>
     <ci>x</ci>
    </apply>
    <apply>
     <csymbol cd="ambiguous">superscript</csymbol>
     <apply>
      <times></times>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>x</ci>
       <cn type="integer">1</cn>
      </apply>
      <ci>normal-⋯</ci>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>x</ci>
       <ci>n</ci>
      </apply>
     </apply>
     <apply>
      <divide></divide>
      <cn type="integer">1</cn>
      <ci>n</ci>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \mathbb{H}(x):=(x_{1}\cdots x_{n})^{\frac{1}{n}}
  </annotation>
 </semantics>
</math>

 generates the <em>equal-weighted portfolio</em> 

<math display="inline" id="Stochastic_portfolio_theory:129">
 <semantics>
  <mrow>
   <mrow>
    <msub>
     <mi>φ</mi>
     <mi>i</mi>
    </msub>
    <mrow>
     <mo stretchy="false">(</mo>
     <mi>n</mi>
     <mo stretchy="false">)</mo>
    </mrow>
   </mrow>
   <mo>=</mo>
   <mfrac>
    <mn>1</mn>
    <mi>n</mi>
   </mfrac>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <times></times>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <ci>φ</ci>
      <ci>i</ci>
     </apply>
     <ci>n</ci>
    </apply>
    <apply>
     <divide></divide>
     <cn type="integer">1</cn>
     <ci>n</ci>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \varphi_{i}(n)=\frac{1}{n}
  </annotation>
 </semantics>
</math>

 for all 

<math display="inline" id="Stochastic_portfolio_theory:130">
 <semantics>
  <mrow>
   <mn>1</mn>
   <mo>≤</mo>
   <mi>i</mi>
   <mo>≤</mo>
   <mi>n</mi>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <and></and>
    <apply>
     <leq></leq>
     <cn type="integer">1</cn>
     <ci>i</ci>
    </apply>
    <apply>
     <leq></leq>
     <share href="#.cmml">
     </share>
     <ci>n</ci>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   1\leq i\leq n
  </annotation>
 </semantics>
</math>

,</li>
<li>The modified entropy function 

<math display="inline" id="Stochastic_portfolio_theory:131">
 <semantics>
  <mrow>
   <mrow>
    <msup>
     <mi>𝕊</mi>
     <mi>c</mi>
    </msup>
    <mrow>
     <mo stretchy="false">(</mo>
     <mi>x</mi>
     <mo stretchy="false">)</mo>
    </mrow>
   </mrow>
   <mo>=</mo>
   <mrow>
    <mi>c</mi>
    <mo>-</mo>
    <mrow>
     <msubsup>
      <mo largeop="true" symmetric="true">∑</mo>
      <mrow>
       <mi>i</mi>
       <mo>=</mo>
       <mn>1</mn>
      </mrow>
      <mi>n</mi>
     </msubsup>
     <mrow>
      <msub>
       <mi>x</mi>
       <mi>i</mi>
      </msub>
      <mo>⋅</mo>
      <mrow>
       <mi>log</mi>
       <mrow>
        <mo stretchy="false">(</mo>
        <msub>
         <mi>x</mi>
         <mi>i</mi>
        </msub>
        <mo stretchy="false">)</mo>
       </mrow>
      </mrow>
     </mrow>
    </mrow>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <times></times>
     <apply>
      <csymbol cd="ambiguous">superscript</csymbol>
      <ci>𝕊</ci>
      <ci>c</ci>
     </apply>
     <ci>x</ci>
    </apply>
    <apply>
     <minus></minus>
     <ci>c</ci>
     <apply>
      <apply>
       <csymbol cd="ambiguous">superscript</csymbol>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <sum></sum>
        <apply>
         <eq></eq>
         <ci>i</ci>
         <cn type="integer">1</cn>
        </apply>
       </apply>
       <ci>n</ci>
      </apply>
      <apply>
       <ci>normal-⋅</ci>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>x</ci>
        <ci>i</ci>
       </apply>
       <apply>
        <log></log>
        <apply>
         <csymbol cd="ambiguous">subscript</csymbol>
         <ci>x</ci>
         <ci>i</ci>
        </apply>
       </apply>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \mathbb{S}^{c}(x)=c-\sum_{i=1}^{n}x_{i}\cdot\log(x_{i})
  </annotation>
 </semantics>
</math>

 for any 

<math display="inline" id="Stochastic_portfolio_theory:132">
 <semantics>
  <mrow>
   <mi>c</mi>
   <mo>></mo>
   <mn>0</mn>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <gt></gt>
    <ci>c</ci>
    <cn type="integer">0</cn>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   c>0
  </annotation>
 </semantics>
</math>

 generates the <em>modified entropy-weighted portfolio</em>,</li>
<li>The function 

<math display="inline" id="Stochastic_portfolio_theory:133">
 <semantics>
  <mrow>
   <mrow>
    <msup>
     <mi>𝔻</mi>
     <mrow>
      <mo stretchy="false">(</mo>
      <mi>p</mi>
      <mo stretchy="false">)</mo>
     </mrow>
    </msup>
    <mrow>
     <mo stretchy="false">(</mo>
     <mi>x</mi>
     <mo stretchy="false">)</mo>
    </mrow>
   </mrow>
   <mo>:=</mo>
   <msup>
    <mrow>
     <mo stretchy="false">(</mo>
     <mrow>
      <msubsup>
       <mo largeop="true" symmetric="true">∑</mo>
       <mrow>
        <mi>i</mi>
        <mo>=</mo>
        <mn>1</mn>
       </mrow>
       <mi>n</mi>
      </msubsup>
      <msubsup>
       <mi>x</mi>
       <mi>i</mi>
       <mi>p</mi>
      </msubsup>
     </mrow>
     <mo stretchy="false">)</mo>
    </mrow>
    <mfrac>
     <mn>1</mn>
     <mi>p</mi>
    </mfrac>
   </msup>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <csymbol cd="latexml">assign</csymbol>
    <apply>
     <times></times>
     <apply>
      <csymbol cd="ambiguous">superscript</csymbol>
      <ci>𝔻</ci>
      <ci>p</ci>
     </apply>
     <ci>x</ci>
    </apply>
    <apply>
     <csymbol cd="ambiguous">superscript</csymbol>
     <apply>
      <apply>
       <csymbol cd="ambiguous">superscript</csymbol>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <sum></sum>
        <apply>
         <eq></eq>
         <ci>i</ci>
         <cn type="integer">1</cn>
        </apply>
       </apply>
       <ci>n</ci>
      </apply>
      <apply>
       <csymbol cd="ambiguous">superscript</csymbol>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>x</ci>
        <ci>i</ci>
       </apply>
       <ci>p</ci>
      </apply>
     </apply>
     <apply>
      <divide></divide>
      <cn type="integer">1</cn>
      <ci>p</ci>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \mathbb{D}^{(p)}(x):=(\sum_{i=1}^{n}x_{i}^{p})^{\frac{1}{p}}
  </annotation>
 </semantics>
</math>

 with 

<math display="inline" id="Stochastic_portfolio_theory:134">
 <semantics>
  <mrow>
   <mn>0</mn>
   <mo><</mo>
   <mi>p</mi>
   <mo><</mo>
   <mn>1</mn>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <and></and>
    <apply>
     <lt></lt>
     <cn type="integer">0</cn>
     <ci>p</ci>
    </apply>
    <apply>
     <lt></lt>
     <share href="#.cmml">
     </share>
     <cn type="integer">1</cn>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   0<p<1
  </annotation>
 </semantics>
</math>

 generates the <em>diversity-weighted portfolio</em> 

<math display="inline" id="Stochastic_portfolio_theory:135">
 <semantics>
  <mrow>
   <mrow>
    <msubsup>
     <mi>δ</mi>
     <mi>i</mi>
     <mrow>
      <mo stretchy="false">(</mo>
      <mi>p</mi>
      <mo stretchy="false">)</mo>
     </mrow>
    </msubsup>
    <mrow>
     <mo stretchy="false">(</mo>
     <mi>t</mi>
     <mo stretchy="false">)</mo>
    </mrow>
   </mrow>
   <mo>=</mo>
   <mfrac>
    <msup>
     <mrow>
      <mo stretchy="false">(</mo>
      <mrow>
       <msub>
        <mi>μ</mi>
        <mi>i</mi>
       </msub>
       <mrow>
        <mo stretchy="false">(</mo>
        <mi>t</mi>
        <mo stretchy="false">)</mo>
       </mrow>
      </mrow>
      <mo stretchy="false">)</mo>
     </mrow>
     <mi>p</mi>
    </msup>
    <mrow>
     <mstyle displaystyle="false">
      <msubsup>
       <mo largeop="true" symmetric="true">∑</mo>
       <mrow>
        <mi>i</mi>
        <mo>=</mo>
        <mn>1</mn>
       </mrow>
       <mi>n</mi>
      </msubsup>
     </mstyle>
     <msup>
      <mrow>
       <mo stretchy="false">(</mo>
       <mrow>
        <msub>
         <mi>μ</mi>
         <mi>i</mi>
        </msub>
        <mrow>
         <mo stretchy="false">(</mo>
         <mi>t</mi>
         <mo stretchy="false">)</mo>
        </mrow>
       </mrow>
       <mo stretchy="false">)</mo>
      </mrow>
      <mi>p</mi>
     </msup>
    </mrow>
   </mfrac>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <times></times>
     <apply>
      <csymbol cd="ambiguous">superscript</csymbol>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>δ</ci>
       <ci>i</ci>
      </apply>
      <ci>p</ci>
     </apply>
     <ci>t</ci>
    </apply>
    <apply>
     <divide></divide>
     <apply>
      <csymbol cd="ambiguous">superscript</csymbol>
      <apply>
       <times></times>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>μ</ci>
        <ci>i</ci>
       </apply>
       <ci>t</ci>
      </apply>
      <ci>p</ci>
     </apply>
     <apply>
      <apply>
       <csymbol cd="ambiguous">superscript</csymbol>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <sum></sum>
        <apply>
         <eq></eq>
         <ci>i</ci>
         <cn type="integer">1</cn>
        </apply>
       </apply>
       <ci>n</ci>
      </apply>
      <apply>
       <csymbol cd="ambiguous">superscript</csymbol>
       <apply>
        <times></times>
        <apply>
         <csymbol cd="ambiguous">subscript</csymbol>
         <ci>μ</ci>
         <ci>i</ci>
        </apply>
        <ci>t</ci>
       </apply>
       <ci>p</ci>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \delta_{i}^{(p)}(t)=\frac{(\mu_{i}(t))^{p}}{\sum_{i=1}^{n}(\mu_{i}(t))^{p}}
  </annotation>
 </semantics>
</math>

 with <em>drift process</em> 

<math display="inline" id="Stochastic_portfolio_theory:136">
 <semantics>
  <mrow>
   <mrow>
    <mo stretchy="false">(</mo>
    <mrow>
     <mn>1</mn>
     <mo>-</mo>
     <mi>p</mi>
    </mrow>
    <mo stretchy="false">)</mo>
   </mrow>
   <msubsup>
    <mi>γ</mi>
    <msup>
     <mi>δ</mi>
     <mrow>
      <mo stretchy="false">(</mo>
      <mi>p</mi>
      <mo stretchy="false">)</mo>
     </mrow>
    </msup>
    <mo>*</mo>
   </msubsup>
   <mrow>
    <mo stretchy="false">(</mo>
    <mi>t</mi>
    <mo stretchy="false">)</mo>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <times></times>
    <apply>
     <minus></minus>
     <cn type="integer">1</cn>
     <ci>p</ci>
    </apply>
    <apply>
     <csymbol cd="ambiguous">superscript</csymbol>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <ci>γ</ci>
      <apply>
       <csymbol cd="ambiguous">superscript</csymbol>
       <ci>δ</ci>
       <ci>p</ci>
      </apply>
     </apply>
     <times></times>
    </apply>
    <ci>t</ci>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   (1-p)\gamma_{\delta^{(p)}}^{*}(t)
  </annotation>
 </semantics>
</math>

.</li>
</ol>
<h3 id="arbitrage-relative-to-the-market">Arbitrage relative to the market</h3>

<p>The excess growth rate of the market portfolio admits the representation 

<math display="inline" id="Stochastic_portfolio_theory:137">
 <semantics>
  <mrow>
   <mrow>
    <mn>2</mn>
    <msubsup>
     <mi>γ</mi>
     <mi>μ</mi>
     <mo>*</mo>
    </msubsup>
    <mrow>
     <mo stretchy="false">(</mo>
     <mi>t</mi>
     <mo stretchy="false">)</mo>
    </mrow>
   </mrow>
   <mo>=</mo>
   <mrow>
    <msubsup>
     <mo largeop="true" symmetric="true">∑</mo>
     <mrow>
      <mi>i</mi>
      <mo>=</mo>
      <mn>1</mn>
     </mrow>
     <mi>n</mi>
    </msubsup>
    <mrow>
     <msub>
      <mi>μ</mi>
      <mi>i</mi>
     </msub>
     <mrow>
      <mo stretchy="false">(</mo>
      <mi>t</mi>
      <mo stretchy="false">)</mo>
     </mrow>
     <msubsup>
      <mi>τ</mi>
      <mrow>
       <mi>i</mi>
       <mi>i</mi>
      </mrow>
      <mi>μ</mi>
     </msubsup>
     <mrow>
      <mo stretchy="false">(</mo>
      <mi>t</mi>
      <mo stretchy="false">)</mo>
     </mrow>
    </mrow>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <times></times>
     <cn type="integer">2</cn>
     <apply>
      <csymbol cd="ambiguous">superscript</csymbol>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>γ</ci>
       <ci>μ</ci>
      </apply>
      <times></times>
     </apply>
     <ci>t</ci>
    </apply>
    <apply>
     <apply>
      <csymbol cd="ambiguous">superscript</csymbol>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <sum></sum>
       <apply>
        <eq></eq>
        <ci>i</ci>
        <cn type="integer">1</cn>
       </apply>
      </apply>
      <ci>n</ci>
     </apply>
     <apply>
      <times></times>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>μ</ci>
       <ci>i</ci>
      </apply>
      <ci>t</ci>
      <apply>
       <csymbol cd="ambiguous">superscript</csymbol>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>τ</ci>
        <apply>
         <times></times>
         <ci>i</ci>
         <ci>i</ci>
        </apply>
       </apply>
       <ci>μ</ci>
      </apply>
      <ci>t</ci>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   2\gamma_{\mu}^{*}(t)=\sum_{i=1}^{n}\mu_{i}(t)\tau_{ii}^{\mu}(t)
  </annotation>
 </semantics>
</math>

 as a capitalization-weighted average relative stock variance. This quantity is nonnegative; if it happens to be bounded away from zero, namely</p>

<p>

<math display="block" id="Stochastic_portfolio_theory:138">
 <semantics>
  <mrow>
   <mrow>
    <mrow>
     <msubsup>
      <mi>γ</mi>
      <mi>μ</mi>
      <mo>*</mo>
     </msubsup>
     <mrow>
      <mo stretchy="false">(</mo>
      <mi>t</mi>
      <mo stretchy="false">)</mo>
     </mrow>
    </mrow>
    <mo>=</mo>
    <mrow>
     <mfrac>
      <mn>1</mn>
      <mn>2</mn>
     </mfrac>
     <mrow>
      <munderover>
       <mo largeop="true" movablelimits="false" symmetric="true">∑</mo>
       <mrow>
        <mi>i</mi>
        <mo>=</mo>
        <mn>1</mn>
       </mrow>
       <mi>n</mi>
      </munderover>
      <mrow>
       <msub>
        <mi>μ</mi>
        <mi>i</mi>
       </msub>
       <mrow>
        <mo stretchy="false">(</mo>
        <mi>t</mi>
        <mo stretchy="false">)</mo>
       </mrow>
       <msubsup>
        <mi>τ</mi>
        <mrow>
         <mi>i</mi>
         <mi>i</mi>
        </mrow>
        <mi>μ</mi>
       </msubsup>
       <mrow>
        <mo stretchy="false">(</mo>
        <mi>t</mi>
        <mo stretchy="false">)</mo>
       </mrow>
      </mrow>
     </mrow>
    </mrow>
    <mo>≥</mo>
    <mi>h</mi>
    <mo>></mo>
    <mn>0</mn>
   </mrow>
   <mo>,</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <and></and>
    <apply>
     <eq></eq>
     <apply>
      <times></times>
      <apply>
       <csymbol cd="ambiguous">superscript</csymbol>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>γ</ci>
        <ci>μ</ci>
       </apply>
       <times></times>
      </apply>
      <ci>t</ci>
     </apply>
     <apply>
      <times></times>
      <apply>
       <divide></divide>
       <cn type="integer">1</cn>
       <cn type="integer">2</cn>
      </apply>
      <apply>
       <apply>
        <csymbol cd="ambiguous">superscript</csymbol>
        <apply>
         <csymbol cd="ambiguous">subscript</csymbol>
         <sum></sum>
         <apply>
          <eq></eq>
          <ci>i</ci>
          <cn type="integer">1</cn>
         </apply>
        </apply>
        <ci>n</ci>
       </apply>
       <apply>
        <times></times>
        <apply>
         <csymbol cd="ambiguous">subscript</csymbol>
         <ci>μ</ci>
         <ci>i</ci>
        </apply>
        <ci>t</ci>
        <apply>
         <csymbol cd="ambiguous">superscript</csymbol>
         <apply>
          <csymbol cd="ambiguous">subscript</csymbol>
          <ci>τ</ci>
          <apply>
           <times></times>
           <ci>i</ci>
           <ci>i</ci>
          </apply>
         </apply>
         <ci>μ</ci>
        </apply>
        <ci>t</ci>
       </apply>
      </apply>
     </apply>
    </apply>
    <apply>
     <geq></geq>
     <share href="#.cmml">
     </share>
     <ci>h</ci>
    </apply>
    <apply>
     <gt></gt>
     <share href="#.cmml">
     </share>
     <cn type="integer">0</cn>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \gamma_{\mu}^{*}(t)=\frac{1}{2}\sum_{i=1}^{n}\mu_{i}(t)\tau_{ii}^{\mu}(t)\geq h%
>0,
  </annotation>
 </semantics>
</math>

 for all 

<math display="inline" id="Stochastic_portfolio_theory:139">
 <semantics>
  <mrow>
   <mn>0</mn>
   <mo>≤</mo>
   <mi>t</mi>
   <mo><</mo>
   <mi mathvariant="normal">∞</mi>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <and></and>
    <apply>
     <leq></leq>
     <cn type="integer">0</cn>
     <ci>t</ci>
    </apply>
    <apply>
     <lt></lt>
     <share href="#.cmml">
     </share>
     <infinity></infinity>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   0\leq t<\infty
  </annotation>
 </semantics>
</math>

 for some real constant 

<math display="inline" id="Stochastic_portfolio_theory:140">
 <semantics>
  <mi>h</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>h</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   h
  </annotation>
 </semantics>
</math>

, then it can be shown using the F-G decomposition that, for every 

<math display="inline" id="Stochastic_portfolio_theory:141">
 <semantics>
  <mrow>
   <mrow>
    <mi>T</mi>
    <mo>></mo>
    <mrow>
     <mrow>
      <mi>𝕊</mi>
      <mrow>
       <mo stretchy="false">(</mo>
       <mrow>
        <mi>μ</mi>
        <mrow>
         <mo stretchy="false">(</mo>
         <mn>0</mn>
         <mo stretchy="false">)</mo>
        </mrow>
       </mrow>
       <mo stretchy="false">)</mo>
      </mrow>
     </mrow>
     <mo>/</mo>
     <mi>h</mi>
    </mrow>
   </mrow>
   <mo>,</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <gt></gt>
    <ci>T</ci>
    <apply>
     <divide></divide>
     <apply>
      <times></times>
      <ci>𝕊</ci>
      <apply>
       <times></times>
       <ci>μ</ci>
       <cn type="integer">0</cn>
      </apply>
     </apply>
     <ci>h</ci>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   T>\mathbb{S}(\mu(0))/h,
  </annotation>
 </semantics>
</math>

 there exists a constant 

<math display="inline" id="Stochastic_portfolio_theory:142">
 <semantics>
  <mrow>
   <mi>c</mi>
   <mo>></mo>
   <mn>0</mn>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <gt></gt>
    <ci>c</ci>
    <cn type="integer">0</cn>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   c>0
  </annotation>
 </semantics>
</math>

 for which the modified entropic portfolio 

<math display="inline" id="Stochastic_portfolio_theory:143">
 <semantics>
  <msup>
   <mi mathvariant="normal">Θ</mi>
   <mrow>
    <mo stretchy="false">(</mo>
    <mi>c</mi>
    <mo stretchy="false">)</mo>
   </mrow>
  </msup>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <csymbol cd="ambiguous">superscript</csymbol>
    <ci>normal-Θ</ci>
    <ci>c</ci>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \Theta^{(c)}
  </annotation>
 </semantics>
</math>

 is strict arbitrage relative to the market 

<math display="inline" id="Stochastic_portfolio_theory:144">
 <semantics>
  <mi>μ</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>μ</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \mu
  </annotation>
 </semantics>
</math>

 over 

<math display="inline" id="Stochastic_portfolio_theory:145">
 <semantics>
  <mrow>
   <mo stretchy="false">[</mo>
   <mn>0</mn>
   <mo>,</mo>
   <mi>T</mi>
   <mo stretchy="false">]</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <interval closure="closed">
    <cn type="integer">0</cn>
    <ci>T</ci>
   </interval>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   [0,T]
  </annotation>
 </semantics>
</math>

; see Fernholz and Karatzas (2005) for details. It is an open question, whether such arbitrage exists over arbitrary time horizons (for two special cases, in which the answer to this question turns out to be affirmative, please see the paragraph below and the next section).</p>

<p>If the eigenvalues of the covariance matrix 

<math display="inline" id="Stochastic_portfolio_theory:146">
 <semantics>
  <msub>
   <mrow>
    <mo stretchy="false">(</mo>
    <mrow>
     <msub>
      <mi>σ</mi>
      <mrow>
       <mi>i</mi>
       <mi>j</mi>
      </mrow>
     </msub>
     <mrow>
      <mo stretchy="false">(</mo>
      <mi>t</mi>
      <mo stretchy="false">)</mo>
     </mrow>
    </mrow>
    <mo stretchy="false">)</mo>
   </mrow>
   <mrow>
    <mrow>
     <mn>1</mn>
     <mo>≤</mo>
     <mi>i</mi>
    </mrow>
    <mo>,</mo>
    <mrow>
     <mi>j</mi>
     <mo>≤</mo>
     <mi>n</mi>
    </mrow>
   </mrow>
  </msub>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <csymbol cd="ambiguous">subscript</csymbol>
    <apply>
     <times></times>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <ci>σ</ci>
      <apply>
       <times></times>
       <ci>i</ci>
       <ci>j</ci>
      </apply>
     </apply>
     <ci>t</ci>
    </apply>
    <apply>
     <csymbol cd="ambiguous">formulae-sequence</csymbol>
     <apply>
      <leq></leq>
      <cn type="integer">1</cn>
      <ci>i</ci>
     </apply>
     <apply>
      <leq></leq>
      <ci>j</ci>
      <ci>n</ci>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   (\sigma_{ij}(t))_{1\leq i,j\leq n}
  </annotation>
 </semantics>
</math>

 are bounded away from both zero and infinity, the condition 

<math display="inline" id="Stochastic_portfolio_theory:147">
 <semantics>
  <mrow>
   <msubsup>
    <mi>γ</mi>
    <mi>μ</mi>
    <mo>*</mo>
   </msubsup>
   <mo>≥</mo>
   <mi>h</mi>
   <mo>></mo>
   <mn>0</mn>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <and></and>
    <apply>
     <geq></geq>
     <apply>
      <csymbol cd="ambiguous">superscript</csymbol>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>γ</ci>
       <ci>μ</ci>
      </apply>
      <times></times>
     </apply>
     <ci>h</ci>
    </apply>
    <apply>
     <gt></gt>
     <share href="#.cmml">
     </share>
     <cn type="integer">0</cn>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \gamma_{\mu}^{*}\geq h>0
  </annotation>
 </semantics>
</math>

 can be shown to be equivalent to diversity, namely 

<math display="inline" id="Stochastic_portfolio_theory:148">
 <semantics>
  <mrow>
   <msub>
    <mi>μ</mi>
    <mi>max</mi>
   </msub>
   <mo>≤</mo>
   <mrow>
    <mn>1</mn>
    <mo>-</mo>
    <mi>ε</mi>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <leq></leq>
    <apply>
     <csymbol cd="ambiguous">subscript</csymbol>
     <ci>μ</ci>
     <max></max>
    </apply>
    <apply>
     <minus></minus>
     <cn type="integer">1</cn>
     <ci>ε</ci>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \mu_{\max}\leq 1-\varepsilon
  </annotation>
 </semantics>
</math>

 for a suitable 

<math display="inline" id="Stochastic_portfolio_theory:149">
 <semantics>
  <mrow>
   <mrow>
    <mi>ε</mi>
    <mo>∈</mo>
    <mrow>
     <mo stretchy="false">(</mo>
     <mn>0</mn>
     <mo>,</mo>
     <mn>1</mn>
     <mo stretchy="false">)</mo>
    </mrow>
   </mrow>
   <mo>.</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <in></in>
    <ci>ε</ci>
    <interval closure="open">
     <cn type="integer">0</cn>
     <cn type="integer">1</cn>
    </interval>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \varepsilon\in(0,1).
  </annotation>
 </semantics>
</math>

 Then the diversity-weighted portfolio 

<math display="inline" id="Stochastic_portfolio_theory:150">
 <semantics>
  <msup>
   <mi>δ</mi>
   <mrow>
    <mo stretchy="false">(</mo>
    <mi>p</mi>
    <mo stretchy="false">)</mo>
   </mrow>
  </msup>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <csymbol cd="ambiguous">superscript</csymbol>
    <ci>δ</ci>
    <ci>p</ci>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \delta^{(p)}
  </annotation>
 </semantics>
</math>

 leads to strict arbitrage relative to the market portfolio over sufficiently long time horizons; whereas, suitable modifications of this diversity-weighted portfolio realize such strict arbitrage over arbitrary time horizons.</p>
<h2 id="an-example-volatility-stabilized-markets">An example: volatility-stabilized markets</h2>

<p>We consider the example of a system of <a href="stochastic_differential_equations" title="wikilink">stochastic differential equations</a></p>

<p>

<math display="block" id="Stochastic_portfolio_theory:151">
 <semantics>
  <mrow>
   <mrow>
    <mi>d</mi>
    <mrow>
     <mi>log</mi>
     <mrow>
      <mo stretchy="false">(</mo>
      <mrow>
       <msub>
        <mi>X</mi>
        <mi>i</mi>
       </msub>
       <mrow>
        <mo stretchy="false">(</mo>
        <mi>t</mi>
        <mo stretchy="false">)</mo>
       </mrow>
      </mrow>
      <mo stretchy="false">)</mo>
     </mrow>
    </mrow>
   </mrow>
   <mo>=</mo>
   <mrow>
    <mrow>
     <mpadded width="+1.7pt">
      <mfrac>
       <mi>α</mi>
       <mrow>
        <mn>2</mn>
        <msub>
         <mi>μ</mi>
         <mi>i</mi>
        </msub>
        <mrow>
         <mo stretchy="false">(</mo>
         <mi>t</mi>
         <mo stretchy="false">)</mo>
        </mrow>
       </mrow>
      </mfrac>
     </mpadded>
     <mi>d</mi>
     <mi>t</mi>
    </mrow>
    <mo>+</mo>
    <mrow>
     <mpadded width="+1.7pt">
      <mfrac>
       <mi>σ</mi>
       <mrow>
        <msub>
         <mi>μ</mi>
         <mi>i</mi>
        </msub>
        <mrow>
         <mo stretchy="false">(</mo>
         <mi>t</mi>
         <mo stretchy="false">)</mo>
        </mrow>
       </mrow>
      </mfrac>
     </mpadded>
     <mi>d</mi>
     <msub>
      <mi>W</mi>
      <mi>i</mi>
     </msub>
     <mrow>
      <mo stretchy="false">(</mo>
      <mi>t</mi>
      <mo stretchy="false">)</mo>
     </mrow>
    </mrow>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <times></times>
     <ci>d</ci>
     <apply>
      <log></log>
      <apply>
       <times></times>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>X</ci>
        <ci>i</ci>
       </apply>
       <ci>t</ci>
      </apply>
     </apply>
    </apply>
    <apply>
     <plus></plus>
     <apply>
      <times></times>
      <apply>
       <divide></divide>
       <ci>α</ci>
       <apply>
        <times></times>
        <cn type="integer">2</cn>
        <apply>
         <csymbol cd="ambiguous">subscript</csymbol>
         <ci>μ</ci>
         <ci>i</ci>
        </apply>
        <ci>t</ci>
       </apply>
      </apply>
      <ci>d</ci>
      <ci>t</ci>
     </apply>
     <apply>
      <times></times>
      <apply>
       <divide></divide>
       <ci>σ</ci>
       <apply>
        <times></times>
        <apply>
         <csymbol cd="ambiguous">subscript</csymbol>
         <ci>μ</ci>
         <ci>i</ci>
        </apply>
        <ci>t</ci>
       </apply>
      </apply>
      <ci>d</ci>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>W</ci>
       <ci>i</ci>
      </apply>
      <ci>t</ci>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   d\log(X_{i}(t))=\frac{\alpha}{2\mu_{i}(t)}\,dt+\frac{\sigma}{\mu_{i}(t)}\,dW_{%
i}(t)
  </annotation>
 </semantics>
</math>

 with 

<math display="inline" id="Stochastic_portfolio_theory:152">
 <semantics>
  <mrow>
   <mn>1</mn>
   <mo>≤</mo>
   <mi>i</mi>
   <mo>≤</mo>
   <mi>n</mi>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <and></and>
    <apply>
     <leq></leq>
     <cn type="integer">1</cn>
     <ci>i</ci>
    </apply>
    <apply>
     <leq></leq>
     <share href="#.cmml">
     </share>
     <ci>n</ci>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   1\leq i\leq n
  </annotation>
 </semantics>
</math>

 given real constants 

<math display="inline" id="Stochastic_portfolio_theory:153">
 <semantics>
  <mrow>
   <mi>α</mi>
   <mo>≥</mo>
   <mn>0</mn>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <geq></geq>
    <ci>α</ci>
    <cn type="integer">0</cn>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \alpha\geq 0
  </annotation>
 </semantics>
</math>

 and an 

<math display="inline" id="Stochastic_portfolio_theory:154">
 <semantics>
  <mi>n</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>n</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   n
  </annotation>
 </semantics>
</math>

-dimensional Brownian motion 

<math display="inline" id="Stochastic_portfolio_theory:155">
 <semantics>
  <mrow>
   <mrow>
    <mo stretchy="false">(</mo>
    <msub>
     <mi>W</mi>
     <mn>1</mn>
    </msub>
    <mo>,</mo>
    <mi mathvariant="normal">…</mi>
    <mo>,</mo>
    <msub>
     <mi>W</mi>
     <mi>n</mi>
    </msub>
    <mo stretchy="false">)</mo>
   </mrow>
   <mo>.</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <vector>
    <apply>
     <csymbol cd="ambiguous">subscript</csymbol>
     <ci>W</ci>
     <cn type="integer">1</cn>
    </apply>
    <ci>normal-…</ci>
    <apply>
     <csymbol cd="ambiguous">subscript</csymbol>
     <ci>W</ci>
     <ci>n</ci>
    </apply>
   </vector>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   (W_{1},\dots,W_{n}).
  </annotation>
 </semantics>
</math>

 It follows from the work of Bass and Perkins (2002) that this system has a weak solution, which is unique in distribution. Fernholz and Karatzas (2005) show how to construct this solution in terms of scaled and time-changed squared <a href="Bessel_processes" title="wikilink">Bessel processes</a>, and prove that the resulting system is coherent.</p>

<p>The total market capitalization 

<math display="inline" id="Stochastic_portfolio_theory:156">
 <semantics>
  <mi>X</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>X</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   X
  </annotation>
 </semantics>
</math>

 behaves here as <a href="geometric_Brownian_motion" title="wikilink">geometric Brownian motion</a> with drift, and has the same constant growth rate as the largest stock; whereas the excess growth rate of the market portfolio is a positive constant. On the other hand, the relative market weights 

<math display="inline" id="Stochastic_portfolio_theory:157">
 <semantics>
  <msub>
   <mi>μ</mi>
   <mi>i</mi>
  </msub>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <csymbol cd="ambiguous">subscript</csymbol>
    <ci>μ</ci>
    <ci>i</ci>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \mu_{i}
  </annotation>
 </semantics>
</math>

 with 

<math display="inline" id="Stochastic_portfolio_theory:158">
 <semantics>
  <mrow>
   <mn>1</mn>
   <mo>≤</mo>
   <mi>i</mi>
   <mo>≤</mo>
   <mi>n</mi>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <and></and>
    <apply>
     <leq></leq>
     <cn type="integer">1</cn>
     <ci>i</ci>
    </apply>
    <apply>
     <leq></leq>
     <share href="#.cmml">
     </share>
     <ci>n</ci>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   1\leq i\leq n
  </annotation>
 </semantics>
</math>

 have the dynamics of multi-allele <a href="Wright-Fisher_model" title="wikilink">Wright-Fisher processes</a>. This model is an example of a non-diverse market with unbounded variances, in which strong arbitrage opportunities with respect to the market portfolio 

<math display="inline" id="Stochastic_portfolio_theory:159">
 <semantics>
  <mi>μ</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>μ</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \mu
  </annotation>
 </semantics>
</math>

 exist over <em>arbitrary time horizons</em>, as was shown by Banner and Fernholz (2008). Moreover, Pal (2012) derived the joint density of market weights at fixed times and at certain stopping times.</p>
<h2 id="rank-based-portfolios">Rank-based portfolios</h2>

<p>We fix an integer 

<math display="inline" id="Stochastic_portfolio_theory:160">
 <semantics>
  <mrow>
   <mi>m</mi>
   <mo>∈</mo>
   <mrow>
    <mo stretchy="false">{</mo>
    <mn>2</mn>
    <mo>,</mo>
    <mi mathvariant="normal">…</mi>
    <mo>,</mo>
    <mrow>
     <mi>n</mi>
     <mo>-</mo>
     <mn>1</mn>
    </mrow>
    <mo stretchy="false">}</mo>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <in></in>
    <ci>m</ci>
    <set>
     <cn type="integer">2</cn>
     <ci>normal-…</ci>
     <apply>
      <minus></minus>
      <ci>n</ci>
      <cn type="integer">1</cn>
     </apply>
    </set>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   m\in\{2,\dots,n-1\}
  </annotation>
 </semantics>
</math>

 and construct two capitalization-weighted portfolios: one consisting of the top 

<math display="inline" id="Stochastic_portfolio_theory:161">
 <semantics>
  <mi>m</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>m</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   m
  </annotation>
 </semantics>
</math>

 stocks, denoted 

<math display="inline" id="Stochastic_portfolio_theory:162">
 <semantics>
  <mi>ζ</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>ζ</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \zeta
  </annotation>
 </semantics>
</math>

, and one consisting of the bottom 

<math display="inline" id="Stochastic_portfolio_theory:163">
 <semantics>
  <mrow>
   <mi>n</mi>
   <mo>-</mo>
   <mi>m</mi>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <minus></minus>
    <ci>n</ci>
    <ci>m</ci>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   n-m
  </annotation>
 </semantics>
</math>

 stocks, denoted 

<math display="inline" id="Stochastic_portfolio_theory:164">
 <semantics>
  <mi>η</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>η</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \eta
  </annotation>
 </semantics>
</math>

. More specifically,</p>

<p>

<math display="block" id="Stochastic_portfolio_theory:165">
 <semantics>
  <mrow>
   <mrow>
    <mrow>
     <msub>
      <mi>ζ</mi>
      <mi>i</mi>
     </msub>
     <mrow>
      <mo stretchy="false">(</mo>
      <mi>t</mi>
      <mo stretchy="false">)</mo>
     </mrow>
    </mrow>
    <mo>=</mo>
    <mfrac>
     <mrow>
      <msubsup>
       <mo largeop="true" symmetric="true">∑</mo>
       <mrow>
        <mi>k</mi>
        <mo>=</mo>
        <mn>1</mn>
       </mrow>
       <mi>m</mi>
      </msubsup>
      <mrow>
       <msub>
        <mi>μ</mi>
        <mrow>
         <mo stretchy="false">(</mo>
         <mi>k</mi>
         <mo stretchy="false">)</mo>
        </mrow>
       </msub>
       <mrow>
        <mo stretchy="false">(</mo>
        <mi>t</mi>
        <mo stretchy="false">)</mo>
       </mrow>
       <msub>
        <mn>𝟏</mn>
        <mrow>
         <mo stretchy="false">{</mo>
         <msub>
          <mi>μ</mi>
          <mi>i</mi>
         </msub>
         <mrow>
          <mo stretchy="false">(</mo>
          <mi>t</mi>
          <mo stretchy="false">)</mo>
         </mrow>
         <mo>=</mo>
         <msub>
          <mi>μ</mi>
          <mrow>
           <mo stretchy="false">(</mo>
           <mi>k</mi>
           <mo stretchy="false">)</mo>
          </mrow>
         </msub>
         <mrow>
          <mo stretchy="false">(</mo>
          <mi>t</mi>
          <mo stretchy="false">)</mo>
         </mrow>
         <mo stretchy="false">}</mo>
        </mrow>
       </msub>
      </mrow>
     </mrow>
     <mrow>
      <msubsup>
       <mo largeop="true" symmetric="true">∑</mo>
       <mrow>
        <mi>l</mi>
        <mo>=</mo>
        <mn>1</mn>
       </mrow>
       <mi>m</mi>
      </msubsup>
      <mrow>
       <msub>
        <mi>μ</mi>
        <mrow>
         <mo stretchy="false">(</mo>
         <mi>l</mi>
         <mo stretchy="false">)</mo>
        </mrow>
       </msub>
       <mrow>
        <mo stretchy="false">(</mo>
        <mi>t</mi>
        <mo stretchy="false">)</mo>
       </mrow>
      </mrow>
     </mrow>
    </mfrac>
   </mrow>
   <mrow>
    <mrow>
     <mtext>and</mtext>
     <msub>
      <mi>η</mi>
      <mi>i</mi>
     </msub>
     <mrow>
      <mo stretchy="false">(</mo>
      <mi>t</mi>
      <mo stretchy="false">)</mo>
     </mrow>
    </mrow>
    <mo>=</mo>
    <mfrac>
     <mrow>
      <msubsup>
       <mo largeop="true" symmetric="true">∑</mo>
       <mrow>
        <mi>k</mi>
        <mo>=</mo>
        <mrow>
         <mi>m</mi>
         <mo>+</mo>
         <mn>1</mn>
        </mrow>
       </mrow>
       <mi>n</mi>
      </msubsup>
      <mrow>
       <msub>
        <mi>μ</mi>
        <mrow>
         <mo stretchy="false">(</mo>
         <mi>k</mi>
         <mo stretchy="false">)</mo>
        </mrow>
       </msub>
       <mrow>
        <mo stretchy="false">(</mo>
        <mi>t</mi>
        <mo stretchy="false">)</mo>
       </mrow>
       <msub>
        <mn>𝟏</mn>
        <mrow>
         <mo stretchy="false">{</mo>
         <msub>
          <mi>μ</mi>
          <mi>i</mi>
         </msub>
         <mrow>
          <mo stretchy="false">(</mo>
          <mi>t</mi>
          <mo stretchy="false">)</mo>
         </mrow>
         <mo>=</mo>
         <msub>
          <mi>μ</mi>
          <mrow>
           <mo stretchy="false">(</mo>
           <mi>k</mi>
           <mo stretchy="false">)</mo>
          </mrow>
         </msub>
         <mrow>
          <mo stretchy="false">(</mo>
          <mi>t</mi>
          <mo stretchy="false">)</mo>
         </mrow>
         <mo stretchy="false">}</mo>
        </mrow>
       </msub>
      </mrow>
     </mrow>
     <mrow>
      <msubsup>
       <mo largeop="true" symmetric="true">∑</mo>
       <mrow>
        <mi>l</mi>
        <mo>=</mo>
        <mrow>
         <mi>m</mi>
         <mo>+</mo>
         <mn>1</mn>
        </mrow>
       </mrow>
       <mi>n</mi>
      </msubsup>
      <mrow>
       <msub>
        <mi>μ</mi>
        <mrow>
         <mo stretchy="false">(</mo>
         <mi>l</mi>
         <mo stretchy="false">)</mo>
        </mrow>
       </msub>
       <mrow>
        <mo stretchy="false">(</mo>
        <mi>t</mi>
        <mo stretchy="false">)</mo>
       </mrow>
      </mrow>
     </mrow>
    </mfrac>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <csymbol cd="ambiguous">formulae-sequence</csymbol>
    <apply>
     <eq></eq>
     <apply>
      <times></times>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>ζ</ci>
       <ci>i</ci>
      </apply>
      <ci>t</ci>
     </apply>
     <apply>
      <divide></divide>
      <apply>
       <apply>
        <csymbol cd="ambiguous">superscript</csymbol>
        <apply>
         <csymbol cd="ambiguous">subscript</csymbol>
         <sum></sum>
         <apply>
          <eq></eq>
          <ci>k</ci>
          <cn type="integer">1</cn>
         </apply>
        </apply>
        <ci>m</ci>
       </apply>
       <apply>
        <times></times>
        <apply>
         <csymbol cd="ambiguous">subscript</csymbol>
         <ci>μ</ci>
         <ci>k</ci>
        </apply>
        <ci>t</ci>
        <apply>
         <csymbol cd="ambiguous">subscript</csymbol>
         <cn type="integer">1</cn>
         <cerror>
          <csymbol cd="ambiguous">fragments</csymbol>
          <ci>normal-{</ci>
          <apply>
           <csymbol cd="ambiguous">subscript</csymbol>
           <ci>μ</ci>
           <ci>i</ci>
          </apply>
          <cerror>
           <csymbol cd="ambiguous">fragments</csymbol>
           <ci>normal-(</ci>
           <csymbol cd="unknown">t</csymbol>
           <ci>normal-)</ci>
          </cerror>
          <eq></eq>
          <apply>
           <csymbol cd="ambiguous">subscript</csymbol>
           <ci>μ</ci>
           <ci>k</ci>
          </apply>
          <cerror>
           <csymbol cd="ambiguous">fragments</csymbol>
           <ci>normal-(</ci>
           <csymbol cd="unknown">t</csymbol>
           <ci>normal-)</ci>
          </cerror>
          <ci>normal-}</ci>
         </cerror>
        </apply>
       </apply>
      </apply>
      <apply>
       <apply>
        <csymbol cd="ambiguous">superscript</csymbol>
        <apply>
         <csymbol cd="ambiguous">subscript</csymbol>
         <sum></sum>
         <apply>
          <eq></eq>
          <ci>l</ci>
          <cn type="integer">1</cn>
         </apply>
        </apply>
        <ci>m</ci>
       </apply>
       <apply>
        <times></times>
        <apply>
         <csymbol cd="ambiguous">subscript</csymbol>
         <ci>μ</ci>
         <ci>l</ci>
        </apply>
        <ci>t</ci>
       </apply>
      </apply>
     </apply>
    </apply>
    <apply>
     <eq></eq>
     <apply>
      <times></times>
      <mtext>and</mtext>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>η</ci>
       <ci>i</ci>
      </apply>
      <ci>t</ci>
     </apply>
     <apply>
      <divide></divide>
      <apply>
       <apply>
        <csymbol cd="ambiguous">superscript</csymbol>
        <apply>
         <csymbol cd="ambiguous">subscript</csymbol>
         <sum></sum>
         <apply>
          <eq></eq>
          <ci>k</ci>
          <apply>
           <plus></plus>
           <ci>m</ci>
           <cn type="integer">1</cn>
          </apply>
         </apply>
        </apply>
        <ci>n</ci>
       </apply>
       <apply>
        <times></times>
        <apply>
         <csymbol cd="ambiguous">subscript</csymbol>
         <ci>μ</ci>
         <ci>k</ci>
        </apply>
        <ci>t</ci>
        <apply>
         <csymbol cd="ambiguous">subscript</csymbol>
         <cn type="integer">1</cn>
         <cerror>
          <csymbol cd="ambiguous">fragments</csymbol>
          <ci>normal-{</ci>
          <apply>
           <csymbol cd="ambiguous">subscript</csymbol>
           <ci>μ</ci>
           <ci>i</ci>
          </apply>
          <cerror>
           <csymbol cd="ambiguous">fragments</csymbol>
           <ci>normal-(</ci>
           <csymbol cd="unknown">t</csymbol>
           <ci>normal-)</ci>
          </cerror>
          <eq></eq>
          <apply>
           <csymbol cd="ambiguous">subscript</csymbol>
           <ci>μ</ci>
           <ci>k</ci>
          </apply>
          <cerror>
           <csymbol cd="ambiguous">fragments</csymbol>
           <ci>normal-(</ci>
           <csymbol cd="unknown">t</csymbol>
           <ci>normal-)</ci>
          </cerror>
          <ci>normal-}</ci>
         </cerror>
        </apply>
       </apply>
      </apply>
      <apply>
       <apply>
        <csymbol cd="ambiguous">superscript</csymbol>
        <apply>
         <csymbol cd="ambiguous">subscript</csymbol>
         <sum></sum>
         <apply>
          <eq></eq>
          <ci>l</ci>
          <apply>
           <plus></plus>
           <ci>m</ci>
           <cn type="integer">1</cn>
          </apply>
         </apply>
        </apply>
        <ci>n</ci>
       </apply>
       <apply>
        <times></times>
        <apply>
         <csymbol cd="ambiguous">subscript</csymbol>
         <ci>μ</ci>
         <ci>l</ci>
        </apply>
        <ci>t</ci>
       </apply>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \zeta_{i}(t)=\frac{\sum_{k=1}^{m}\mu_{(k)}(t)\mathbf{1}_{\{\mu_{i}(t)=\mu_{(k)%
}(t)\}}}{\sum_{l=1}^{m}\mu_{(l)}(t)}\qquad\text{ and }\eta_{i}(t)=\frac{\sum_{%
k=m+1}^{n}\mu_{(k)}(t)\mathbf{1}_{\{\mu_{i}(t)=\mu_{(k)}(t)\}}}{\sum_{l=m+1}^{%
n}\mu_{(l)}(t)}
  </annotation>
 </semantics>
</math>

 for 

<math display="inline" id="Stochastic_portfolio_theory:166">
 <semantics>
  <mrow>
   <mrow>
    <mn>1</mn>
    <mo>≤</mo>
    <mi>i</mi>
    <mo>≤</mo>
    <mi>n</mi>
   </mrow>
   <mo>.</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <and></and>
    <apply>
     <leq></leq>
     <cn type="integer">1</cn>
     <ci>i</ci>
    </apply>
    <apply>
     <leq></leq>
     <share href="#.cmml">
     </share>
     <ci>n</ci>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   1\leq i\leq n.
  </annotation>
 </semantics>
</math>


 Fernholz (1999), (2002) showed that the relative performance of the large-stock portfolio with respect to the market is given as</p>

<p>

<math display="block" id="Stochastic_portfolio_theory:167">
 <semantics>
  <mrow>
   <mrow>
    <mrow>
     <mi>log</mi>
     <mrow>
      <mo>(</mo>
      <mfrac>
       <mrow>
        <msub>
         <mi>Z</mi>
         <mi>ζ</mi>
        </msub>
        <mrow>
         <mo stretchy="false">(</mo>
         <mi>t</mi>
         <mo stretchy="false">)</mo>
        </mrow>
       </mrow>
       <mrow>
        <msub>
         <mi>Z</mi>
         <mi>μ</mi>
        </msub>
        <mrow>
         <mo stretchy="false">(</mo>
         <mi>t</mi>
         <mo stretchy="false">)</mo>
        </mrow>
       </mrow>
      </mfrac>
      <mo>)</mo>
     </mrow>
    </mrow>
    <mo>=</mo>
    <mrow>
     <mrow>
      <mi>log</mi>
      <mrow>
       <mo>(</mo>
       <mfrac>
        <mrow>
         <mrow>
          <msub>
           <mi>μ</mi>
           <mrow>
            <mo stretchy="false">(</mo>
            <mn>1</mn>
            <mo stretchy="false">)</mo>
           </mrow>
          </msub>
          <mrow>
           <mo stretchy="false">(</mo>
           <mi>T</mi>
           <mo stretchy="false">)</mo>
          </mrow>
         </mrow>
         <mo>+</mo>
         <mi mathvariant="normal">⋯</mi>
         <mo>+</mo>
         <mrow>
          <msub>
           <mi>μ</mi>
           <mrow>
            <mo stretchy="false">(</mo>
            <mi>m</mi>
            <mo stretchy="false">)</mo>
           </mrow>
          </msub>
          <mrow>
           <mo stretchy="false">(</mo>
           <mi>T</mi>
           <mo stretchy="false">)</mo>
          </mrow>
         </mrow>
        </mrow>
        <mrow>
         <mrow>
          <msub>
           <mi>μ</mi>
           <mrow>
            <mo stretchy="false">(</mo>
            <mn>1</mn>
            <mo stretchy="false">)</mo>
           </mrow>
          </msub>
          <mrow>
           <mo stretchy="false">(</mo>
           <mn>0</mn>
           <mo stretchy="false">)</mo>
          </mrow>
         </mrow>
         <mo>+</mo>
         <mi mathvariant="normal">⋯</mi>
         <mo>+</mo>
         <mrow>
          <msub>
           <mi>μ</mi>
           <mrow>
            <mo stretchy="false">(</mo>
            <mi>m</mi>
            <mo stretchy="false">)</mo>
           </mrow>
          </msub>
          <mrow>
           <mo stretchy="false">(</mo>
           <mn>0</mn>
           <mo stretchy="false">)</mo>
          </mrow>
         </mrow>
        </mrow>
       </mfrac>
       <mo>)</mo>
      </mrow>
     </mrow>
     <mo>-</mo>
     <mrow>
      <mfrac>
       <mn>1</mn>
       <mn>2</mn>
      </mfrac>
      <mrow>
       <msubsup>
        <mo largeop="true" symmetric="true">∫</mo>
        <mn>0</mn>
        <mi>T</mi>
       </msubsup>
       <mrow>
        <mpadded width="+1.7pt">
         <mfrac>
          <mrow>
           <msub>
            <mi>μ</mi>
            <mrow>
             <mo stretchy="false">(</mo>
             <mi>m</mi>
             <mo stretchy="false">)</mo>
            </mrow>
           </msub>
           <mrow>
            <mo stretchy="false">(</mo>
            <mi>t</mi>
            <mo stretchy="false">)</mo>
           </mrow>
          </mrow>
          <mrow>
           <mrow>
            <msub>
             <mi>μ</mi>
             <mrow>
              <mo stretchy="false">(</mo>
              <mn>1</mn>
              <mo stretchy="false">)</mo>
             </mrow>
            </msub>
            <mrow>
             <mo stretchy="false">(</mo>
             <mi>t</mi>
             <mo stretchy="false">)</mo>
            </mrow>
           </mrow>
           <mo>+</mo>
           <mi mathvariant="normal">⋯</mi>
           <mo>+</mo>
           <mrow>
            <msub>
             <mi>μ</mi>
             <mrow>
              <mo stretchy="false">(</mo>
              <mi>m</mi>
              <mo stretchy="false">)</mo>
             </mrow>
            </msub>
            <mrow>
             <mo stretchy="false">(</mo>
             <mi>t</mi>
             <mo stretchy="false">)</mo>
            </mrow>
           </mrow>
          </mrow>
         </mfrac>
        </mpadded>
        <mi>d</mi>
        <msup>
         <mi mathvariant="normal">Λ</mi>
         <mrow>
          <mo stretchy="false">(</mo>
          <mi>m</mi>
          <mo>,</mo>
          <mrow>
           <mi>m</mi>
           <mo>+</mo>
           <mn>1</mn>
          </mrow>
          <mo stretchy="false">)</mo>
         </mrow>
        </msup>
        <mrow>
         <mo stretchy="false">(</mo>
         <mi>t</mi>
         <mo stretchy="false">)</mo>
        </mrow>
       </mrow>
      </mrow>
     </mrow>
    </mrow>
   </mrow>
   <mo>.</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <log></log>
     <apply>
      <divide></divide>
      <apply>
       <times></times>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>Z</ci>
        <ci>ζ</ci>
       </apply>
       <ci>t</ci>
      </apply>
      <apply>
       <times></times>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>Z</ci>
        <ci>μ</ci>
       </apply>
       <ci>t</ci>
      </apply>
     </apply>
    </apply>
    <apply>
     <minus></minus>
     <apply>
      <log></log>
      <apply>
       <divide></divide>
       <apply>
        <plus></plus>
        <apply>
         <times></times>
         <apply>
          <csymbol cd="ambiguous">subscript</csymbol>
          <ci>μ</ci>
          <cn type="integer">1</cn>
         </apply>
         <ci>T</ci>
        </apply>
        <ci>normal-⋯</ci>
        <apply>
         <times></times>
         <apply>
          <csymbol cd="ambiguous">subscript</csymbol>
          <ci>μ</ci>
          <ci>m</ci>
         </apply>
         <ci>T</ci>
        </apply>
       </apply>
       <apply>
        <plus></plus>
        <apply>
         <times></times>
         <apply>
          <csymbol cd="ambiguous">subscript</csymbol>
          <ci>μ</ci>
          <cn type="integer">1</cn>
         </apply>
         <cn type="integer">0</cn>
        </apply>
        <ci>normal-⋯</ci>
        <apply>
         <times></times>
         <apply>
          <csymbol cd="ambiguous">subscript</csymbol>
          <ci>μ</ci>
          <ci>m</ci>
         </apply>
         <cn type="integer">0</cn>
        </apply>
       </apply>
      </apply>
     </apply>
     <apply>
      <times></times>
      <apply>
       <divide></divide>
       <cn type="integer">1</cn>
       <cn type="integer">2</cn>
      </apply>
      <apply>
       <apply>
        <csymbol cd="ambiguous">superscript</csymbol>
        <apply>
         <csymbol cd="ambiguous">subscript</csymbol>
         <int></int>
         <cn type="integer">0</cn>
        </apply>
        <ci>T</ci>
       </apply>
       <apply>
        <times></times>
        <apply>
         <divide></divide>
         <apply>
          <times></times>
          <apply>
           <csymbol cd="ambiguous">subscript</csymbol>
           <ci>μ</ci>
           <ci>m</ci>
          </apply>
          <ci>t</ci>
         </apply>
         <apply>
          <plus></plus>
          <apply>
           <times></times>
           <apply>
            <csymbol cd="ambiguous">subscript</csymbol>
            <ci>μ</ci>
            <cn type="integer">1</cn>
           </apply>
           <ci>t</ci>
          </apply>
          <ci>normal-⋯</ci>
          <apply>
           <times></times>
           <apply>
            <csymbol cd="ambiguous">subscript</csymbol>
            <ci>μ</ci>
            <ci>m</ci>
           </apply>
           <ci>t</ci>
          </apply>
         </apply>
        </apply>
        <ci>d</ci>
        <apply>
         <csymbol cd="ambiguous">superscript</csymbol>
         <ci>normal-Λ</ci>
         <interval closure="open">
          <ci>m</ci>
          <apply>
           <plus></plus>
           <ci>m</ci>
           <cn type="integer">1</cn>
          </apply>
         </interval>
        </apply>
        <ci>t</ci>
       </apply>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \log\left(\frac{Z_{\zeta}(t)}{Z_{\mu}(t)}\right)=\log\left(\frac{\mu_{(1)}(T)+%
\cdots+\mu_{(m)}(T)}{\mu_{(1)}(0)+\cdots+\mu_{(m)}(0)}\right)-\frac{1}{2}\int_%
{0}^{T}\frac{\mu_{(m)}(t)}{\mu_{(1)}(t)+\cdots+\mu_{(m)}(t)}\,d\Lambda^{(m,m+1%
)}(t).
  </annotation>
 </semantics>
</math>

 Indeed, if there is no turnover at the mth rank during the interval 

<math display="inline" id="Stochastic_portfolio_theory:168">
 <semantics>
  <mrow>
   <mo stretchy="false">[</mo>
   <mn>0</mn>
   <mo>,</mo>
   <mi>T</mi>
   <mo stretchy="false">]</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <interval closure="closed">
    <cn type="integer">0</cn>
    <ci>T</ci>
   </interval>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   [0,T]
  </annotation>
 </semantics>
</math>

, the fortunes of 

<math display="inline" id="Stochastic_portfolio_theory:169">
 <semantics>
  <mi>ζ</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>ζ</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \zeta
  </annotation>
 </semantics>
</math>

 relative to the market are determined solely on the basis of how the total capitalization of this sub-universe of the 

<math display="inline" id="Stochastic_portfolio_theory:170">
 <semantics>
  <mi>m</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>m</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   m
  </annotation>
 </semantics>
</math>

 largest stocks fares, at time 

<math display="inline" id="Stochastic_portfolio_theory:171">
 <semantics>
  <mi>T</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>T</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   T
  </annotation>
 </semantics>
</math>

 versus time 0; whenever there is turnover at the 

<math display="inline" id="Stochastic_portfolio_theory:172">
 <semantics>
  <mi>m</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>m</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   m
  </annotation>
 </semantics>
</math>

-th rank, though, 

<math display="inline" id="Stochastic_portfolio_theory:173">
 <semantics>
  <mi>ζ</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>ζ</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \zeta
  </annotation>
 </semantics>
</math>

 has to sell at a loss a stock that gets “relegated” to the lower league, and buy a stock that has risen in value and been promoted. This accounts for the “leakage” that is evident in the last term, an integral with respect to the cumulative turnover process 

<math display="inline" id="Stochastic_portfolio_theory:174">
 <semantics>
  <msup>
   <mi mathvariant="normal">Λ</mi>
   <mrow>
    <mo stretchy="false">(</mo>
    <mi>m</mi>
    <mo>,</mo>
    <mrow>
     <mi>m</mi>
     <mo>+</mo>
     <mn>1</mn>
    </mrow>
    <mo stretchy="false">)</mo>
   </mrow>
  </msup>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <csymbol cd="ambiguous">superscript</csymbol>
    <ci>normal-Λ</ci>
    <interval closure="open">
     <ci>m</ci>
     <apply>
      <plus></plus>
      <ci>m</ci>
      <cn type="integer">1</cn>
     </apply>
    </interval>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \Lambda^{(m,m+1)}
  </annotation>
 </semantics>
</math>

 of the relative weight in the large-cap portfolio 

<math display="inline" id="Stochastic_portfolio_theory:175">
 <semantics>
  <mi>ζ</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>ζ</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \zeta
  </annotation>
 </semantics>
</math>

 of the stock that occupies the mth rank.</p>

<p>The reverse situation prevails with the portfolio 

<math display="inline" id="Stochastic_portfolio_theory:176">
 <semantics>
  <mi>η</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>η</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \eta
  </annotation>
 </semantics>
</math>

 of small stocks, which gets to sell at a profit stocks that are being promoted to the “upper capitalization” league, and buy relatively cheaply stocks that are being relegated:</p>

<p>

<math display="block" id="Stochastic_portfolio_theory:177">
 <semantics>
  <mrow>
   <mrow>
    <mrow>
     <mi>log</mi>
     <mrow>
      <mo>(</mo>
      <mfrac>
       <mrow>
        <msub>
         <mi>Z</mi>
         <mi>η</mi>
        </msub>
        <mrow>
         <mo stretchy="false">(</mo>
         <mi>t</mi>
         <mo stretchy="false">)</mo>
        </mrow>
       </mrow>
       <mrow>
        <msub>
         <mi>Z</mi>
         <mi>μ</mi>
        </msub>
        <mrow>
         <mo stretchy="false">(</mo>
         <mi>t</mi>
         <mo stretchy="false">)</mo>
        </mrow>
       </mrow>
      </mfrac>
      <mo>)</mo>
     </mrow>
    </mrow>
    <mo>=</mo>
    <mrow>
     <mrow>
      <mi>log</mi>
      <mrow>
       <mo>(</mo>
       <mfrac>
        <mrow>
         <mrow>
          <msub>
           <mi>μ</mi>
           <mrow>
            <mo stretchy="false">(</mo>
            <mrow>
             <mi>m</mi>
             <mo>+</mo>
             <mn>1</mn>
            </mrow>
            <mo stretchy="false">)</mo>
           </mrow>
          </msub>
          <mrow>
           <mo stretchy="false">(</mo>
           <mi>T</mi>
           <mo stretchy="false">)</mo>
          </mrow>
         </mrow>
         <mo>+</mo>
         <mi mathvariant="normal">⋯</mi>
         <mo>+</mo>
         <mrow>
          <msub>
           <mi>μ</mi>
           <mrow>
            <mo stretchy="false">(</mo>
            <mi>n</mi>
            <mo stretchy="false">)</mo>
           </mrow>
          </msub>
          <mrow>
           <mo stretchy="false">(</mo>
           <mi>T</mi>
           <mo stretchy="false">)</mo>
          </mrow>
         </mrow>
        </mrow>
        <mrow>
         <mrow>
          <msub>
           <mi>μ</mi>
           <mrow>
            <mo stretchy="false">(</mo>
            <mrow>
             <mi>m</mi>
             <mo>+</mo>
             <mn>1</mn>
            </mrow>
            <mo stretchy="false">)</mo>
           </mrow>
          </msub>
          <mrow>
           <mo stretchy="false">(</mo>
           <mn>0</mn>
           <mo stretchy="false">)</mo>
          </mrow>
         </mrow>
         <mo>+</mo>
         <mi mathvariant="normal">⋯</mi>
         <mo>+</mo>
         <mrow>
          <msub>
           <mi>μ</mi>
           <mrow>
            <mo stretchy="false">(</mo>
            <mi>n</mi>
            <mo stretchy="false">)</mo>
           </mrow>
          </msub>
          <mrow>
           <mo stretchy="false">(</mo>
           <mn>0</mn>
           <mo stretchy="false">)</mo>
          </mrow>
         </mrow>
        </mrow>
       </mfrac>
       <mo>)</mo>
      </mrow>
     </mrow>
     <mo>+</mo>
     <mrow>
      <mfrac>
       <mn>1</mn>
       <mn>2</mn>
      </mfrac>
      <mrow>
       <msubsup>
        <mo largeop="true" symmetric="true">∫</mo>
        <mn>0</mn>
        <mi>T</mi>
       </msubsup>
       <mfrac>
        <mrow>
         <msub>
          <mi>μ</mi>
          <mrow>
           <mo stretchy="false">(</mo>
           <mrow>
            <mi>m</mi>
            <mo>+</mo>
            <mn>1</mn>
           </mrow>
           <mo stretchy="false">)</mo>
          </mrow>
         </msub>
         <mrow>
          <mo stretchy="false">(</mo>
          <mi>t</mi>
          <mo stretchy="false">)</mo>
         </mrow>
        </mrow>
        <mrow>
         <mrow>
          <msub>
           <mi>μ</mi>
           <mrow>
            <mo stretchy="false">(</mo>
            <mrow>
             <mi>m</mi>
             <mo>+</mo>
             <mn>1</mn>
            </mrow>
            <mo stretchy="false">)</mo>
           </mrow>
          </msub>
          <mrow>
           <mo stretchy="false">(</mo>
           <mi>t</mi>
           <mo stretchy="false">)</mo>
          </mrow>
         </mrow>
         <mo>+</mo>
         <mi mathvariant="normal">⋯</mi>
         <mo>+</mo>
         <mrow>
          <msub>
           <mi>μ</mi>
           <mrow>
            <mo stretchy="false">(</mo>
            <mi>n</mi>
            <mo stretchy="false">)</mo>
           </mrow>
          </msub>
          <mrow>
           <mo stretchy="false">(</mo>
           <mi>t</mi>
           <mo stretchy="false">)</mo>
          </mrow>
         </mrow>
        </mrow>
       </mfrac>
      </mrow>
     </mrow>
    </mrow>
   </mrow>
   <mo>.</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <log></log>
     <apply>
      <divide></divide>
      <apply>
       <times></times>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>Z</ci>
        <ci>η</ci>
       </apply>
       <ci>t</ci>
      </apply>
      <apply>
       <times></times>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>Z</ci>
        <ci>μ</ci>
       </apply>
       <ci>t</ci>
      </apply>
     </apply>
    </apply>
    <apply>
     <plus></plus>
     <apply>
      <log></log>
      <apply>
       <divide></divide>
       <apply>
        <plus></plus>
        <apply>
         <times></times>
         <apply>
          <csymbol cd="ambiguous">subscript</csymbol>
          <ci>μ</ci>
          <apply>
           <plus></plus>
           <ci>m</ci>
           <cn type="integer">1</cn>
          </apply>
         </apply>
         <ci>T</ci>
        </apply>
        <ci>normal-⋯</ci>
        <apply>
         <times></times>
         <apply>
          <csymbol cd="ambiguous">subscript</csymbol>
          <ci>μ</ci>
          <ci>n</ci>
         </apply>
         <ci>T</ci>
        </apply>
       </apply>
       <apply>
        <plus></plus>
        <apply>
         <times></times>
         <apply>
          <csymbol cd="ambiguous">subscript</csymbol>
          <ci>μ</ci>
          <apply>
           <plus></plus>
           <ci>m</ci>
           <cn type="integer">1</cn>
          </apply>
         </apply>
         <cn type="integer">0</cn>
        </apply>
        <ci>normal-⋯</ci>
        <apply>
         <times></times>
         <apply>
          <csymbol cd="ambiguous">subscript</csymbol>
          <ci>μ</ci>
          <ci>n</ci>
         </apply>
         <cn type="integer">0</cn>
        </apply>
       </apply>
      </apply>
     </apply>
     <apply>
      <times></times>
      <apply>
       <divide></divide>
       <cn type="integer">1</cn>
       <cn type="integer">2</cn>
      </apply>
      <apply>
       <apply>
        <csymbol cd="ambiguous">superscript</csymbol>
        <apply>
         <csymbol cd="ambiguous">subscript</csymbol>
         <int></int>
         <cn type="integer">0</cn>
        </apply>
        <ci>T</ci>
       </apply>
       <apply>
        <divide></divide>
        <apply>
         <times></times>
         <apply>
          <csymbol cd="ambiguous">subscript</csymbol>
          <ci>μ</ci>
          <apply>
           <plus></plus>
           <ci>m</ci>
           <cn type="integer">1</cn>
          </apply>
         </apply>
         <ci>t</ci>
        </apply>
        <apply>
         <plus></plus>
         <apply>
          <times></times>
          <apply>
           <csymbol cd="ambiguous">subscript</csymbol>
           <ci>μ</ci>
           <apply>
            <plus></plus>
            <ci>m</ci>
            <cn type="integer">1</cn>
           </apply>
          </apply>
          <ci>t</ci>
         </apply>
         <ci>normal-⋯</ci>
         <apply>
          <times></times>
          <apply>
           <csymbol cd="ambiguous">subscript</csymbol>
           <ci>μ</ci>
           <ci>n</ci>
          </apply>
          <ci>t</ci>
         </apply>
        </apply>
       </apply>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \log\left(\frac{Z_{\eta}(t)}{Z_{\mu}(t)}\right)=\log\left(\frac{\mu_{(m+1)}(T)%
+\cdots+\mu_{(n)}(T)}{\mu_{(m+1)}(0)+\cdots+\mu_{(n)}(0)}\right)+\frac{1}{2}%
\int_{0}^{T}\frac{\mu_{(m+1)}(t)}{\mu_{(m+1)}(t)+\cdots+\mu_{(n)}(t)}.
  </annotation>
 </semantics>
</math>

 It is clear from these two expressions that, in a <em>coherent</em> and <em>stochastically stable</em> market, the small- stock cap-weighted portfolio 

<math display="inline" id="Stochastic_portfolio_theory:178">
 <semantics>
  <mi>ζ</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>ζ</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \zeta
  </annotation>
 </semantics>
</math>

 will tend to outperform its large-stock counterpart 

<math display="inline" id="Stochastic_portfolio_theory:179">
 <semantics>
  <mi>η</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>η</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \eta
  </annotation>
 </semantics>
</math>

, at least over large time horizons and; in particular, we have under those conditions</p>

<p>

<math display="block" id="Stochastic_portfolio_theory:180">
 <semantics>
  <mrow>
   <mrow>
    <munder>
     <mo movablelimits="false">lim</mo>
     <mrow>
      <mi>T</mi>
      <mo>→</mo>
      <mi mathvariant="normal">∞</mi>
     </mrow>
    </munder>
    <mrow>
     <mfrac>
      <mn>1</mn>
      <mi>T</mi>
     </mfrac>
     <mrow>
      <mi>log</mi>
      <mrow>
       <mo>(</mo>
       <mfrac>
        <mrow>
         <msub>
          <mi>Z</mi>
          <mi>η</mi>
         </msub>
         <mrow>
          <mo stretchy="false">(</mo>
          <mi>t</mi>
          <mo stretchy="false">)</mo>
         </mrow>
        </mrow>
        <mrow>
         <msub>
          <mi>Z</mi>
          <mi>μ</mi>
         </msub>
         <mrow>
          <mo stretchy="false">(</mo>
          <mi>t</mi>
          <mo stretchy="false">)</mo>
         </mrow>
        </mrow>
       </mfrac>
       <mo>)</mo>
      </mrow>
     </mrow>
    </mrow>
   </mrow>
   <mo>=</mo>
   <mrow>
    <msup>
     <mi>λ</mi>
     <mrow>
      <mo stretchy="false">(</mo>
      <mi>m</mi>
      <mo>,</mo>
      <mrow>
       <mi>m</mi>
       <mo>+</mo>
       <mn>1</mn>
      </mrow>
      <mo stretchy="false">)</mo>
     </mrow>
    </msup>
    <mi>𝔼</mi>
    <mrow>
     <mo>(</mo>
     <mrow>
      <mfrac>
       <msub>
        <mi>M</mi>
        <mrow>
         <mo stretchy="false">(</mo>
         <mn>1</mn>
         <mo stretchy="false">)</mo>
        </mrow>
       </msub>
       <mrow>
        <msub>
         <mi>M</mi>
         <mrow>
          <mo stretchy="false">(</mo>
          <mn>1</mn>
          <mo stretchy="false">)</mo>
         </mrow>
        </msub>
        <mo>+</mo>
        <mi mathvariant="normal">⋯</mi>
        <mo>+</mo>
        <msub>
         <mi>M</mi>
         <mrow>
          <mo stretchy="false">(</mo>
          <mi>m</mi>
          <mo stretchy="false">)</mo>
         </mrow>
        </msub>
       </mrow>
      </mfrac>
      <mo>+</mo>
      <mfrac>
       <msub>
        <mi>M</mi>
        <mrow>
         <mo stretchy="false">(</mo>
         <mrow>
          <mi>m</mi>
          <mo>+</mo>
          <mn>1</mn>
         </mrow>
         <mo stretchy="false">)</mo>
        </mrow>
       </msub>
       <mrow>
        <msub>
         <mi>M</mi>
         <mrow>
          <mo stretchy="false">(</mo>
          <mrow>
           <mi>m</mi>
           <mo>+</mo>
           <mn>1</mn>
          </mrow>
          <mo stretchy="false">)</mo>
         </mrow>
        </msub>
        <mo>+</mo>
        <mi mathvariant="normal">⋯</mi>
        <mo>+</mo>
        <msub>
         <mi>M</mi>
         <mrow>
          <mo stretchy="false">(</mo>
          <mi>n</mi>
          <mo stretchy="false">)</mo>
         </mrow>
        </msub>
       </mrow>
      </mfrac>
     </mrow>
     <mo>)</mo>
    </mrow>
   </mrow>
   <mo>></mo>
   <mn>0.</mn>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <and></and>
    <apply>
     <eq></eq>
     <apply>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <limit></limit>
       <apply>
        <ci>normal-→</ci>
        <ci>T</ci>
        <infinity></infinity>
       </apply>
      </apply>
      <apply>
       <times></times>
       <apply>
        <divide></divide>
        <cn type="integer">1</cn>
        <ci>T</ci>
       </apply>
       <apply>
        <log></log>
        <apply>
         <divide></divide>
         <apply>
          <times></times>
          <apply>
           <csymbol cd="ambiguous">subscript</csymbol>
           <ci>Z</ci>
           <ci>η</ci>
          </apply>
          <ci>t</ci>
         </apply>
         <apply>
          <times></times>
          <apply>
           <csymbol cd="ambiguous">subscript</csymbol>
           <ci>Z</ci>
           <ci>μ</ci>
          </apply>
          <ci>t</ci>
         </apply>
        </apply>
       </apply>
      </apply>
     </apply>
     <apply>
      <times></times>
      <apply>
       <csymbol cd="ambiguous">superscript</csymbol>
       <ci>λ</ci>
       <interval closure="open">
        <ci>m</ci>
        <apply>
         <plus></plus>
         <ci>m</ci>
         <cn type="integer">1</cn>
        </apply>
       </interval>
      </apply>
      <ci>𝔼</ci>
      <apply>
       <plus></plus>
       <apply>
        <divide></divide>
        <apply>
         <csymbol cd="ambiguous">subscript</csymbol>
         <ci>M</ci>
         <cn type="integer">1</cn>
        </apply>
        <apply>
         <plus></plus>
         <apply>
          <csymbol cd="ambiguous">subscript</csymbol>
          <ci>M</ci>
          <cn type="integer">1</cn>
         </apply>
         <ci>normal-⋯</ci>
         <apply>
          <csymbol cd="ambiguous">subscript</csymbol>
          <ci>M</ci>
          <ci>m</ci>
         </apply>
        </apply>
       </apply>
       <apply>
        <divide></divide>
        <apply>
         <csymbol cd="ambiguous">subscript</csymbol>
         <ci>M</ci>
         <apply>
          <plus></plus>
          <ci>m</ci>
          <cn type="integer">1</cn>
         </apply>
        </apply>
        <apply>
         <plus></plus>
         <apply>
          <csymbol cd="ambiguous">subscript</csymbol>
          <ci>M</ci>
          <apply>
           <plus></plus>
           <ci>m</ci>
           <cn type="integer">1</cn>
          </apply>
         </apply>
         <ci>normal-⋯</ci>
         <apply>
          <csymbol cd="ambiguous">subscript</csymbol>
          <ci>M</ci>
          <ci>n</ci>
         </apply>
        </apply>
       </apply>
      </apply>
     </apply>
    </apply>
    <apply>
     <gt></gt>
     <share href="#.cmml">
     </share>
     <cn type="float">0.</cn>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \lim_{T\rightarrow\infty}\frac{1}{T}\log\left(\frac{Z_{\eta}(t)}{Z_{\mu}(t)}%
\right)=\lambda^{(m,m+1)}\mathbb{E}\left(\frac{M_{(1)}}{M_{(1)}+\cdots+M_{(m)}%
}+\frac{M_{(m+1)}}{M_{(m+1)}+\cdots+M_{(n)}}\right)>0.
  </annotation>
 </semantics>
</math>

 This quantifies the so-called <strong>size effect</strong>. In Fernholz (1999, 2002), constructions such as these are generalized to include functionally generated portfolios based on ranked market weights.</p>
<h2 id="first--and-second-order-models">First- and second-order models</h2>

<p>First- and second-order models are hybrid Atlas models that reproduce some of the structure of real stock markets. First-order models have only rank-based parameters, and second-order models have both rank-based and name-based parameters.</p>

<p>Suppose that 

<math display="inline" id="Stochastic_portfolio_theory:181">
 <semantics>
  <mrow>
   <msub>
    <mi>X</mi>
    <mn>1</mn>
   </msub>
   <mo>,</mo>
   <mi mathvariant="normal">…</mi>
   <mo>,</mo>
   <msub>
    <mi>X</mi>
    <mi>n</mi>
   </msub>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <list>
    <apply>
     <csymbol cd="ambiguous">subscript</csymbol>
     <ci>X</ci>
     <cn type="integer">1</cn>
    </apply>
    <ci>normal-…</ci>
    <apply>
     <csymbol cd="ambiguous">subscript</csymbol>
     <ci>X</ci>
     <ci>n</ci>
    </apply>
   </list>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   X_{1},\ldots,X_{n}
  </annotation>
 </semantics>
</math>

 is a coherent market, and that the limits</p>

<p>

<math display="block" id="Stochastic_portfolio_theory:182">
 <semantics>
  <mrow>
   <msubsup>
    <mi>σ</mi>
    <mi>k</mi>
    <mn>2</mn>
   </msubsup>
   <mo>=</mo>
   <mrow>
    <munder>
     <mo movablelimits="false">lim</mo>
     <mrow>
      <mi>t</mi>
      <mo>→</mo>
      <mi mathvariant="normal">∞</mi>
     </mrow>
    </munder>
    <mrow>
     <msup>
      <mi>t</mi>
      <mrow>
       <mo>-</mo>
       <mn>1</mn>
      </mrow>
     </msup>
     <mrow>
      <mo stretchy="false">⟨</mo>
      <mrow>
       <mi>log</mi>
       <msub>
        <mi>μ</mi>
        <mrow>
         <mo stretchy="false">(</mo>
         <mi>k</mi>
         <mo stretchy="false">)</mo>
        </mrow>
       </msub>
      </mrow>
      <mo stretchy="false">⟩</mo>
     </mrow>
     <mrow>
      <mo stretchy="false">(</mo>
      <mi>t</mi>
      <mo stretchy="false">)</mo>
     </mrow>
    </mrow>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <csymbol cd="ambiguous">superscript</csymbol>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <ci>σ</ci>
      <ci>k</ci>
     </apply>
     <cn type="integer">2</cn>
    </apply>
    <apply>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <limit></limit>
      <apply>
       <ci>normal-→</ci>
       <ci>t</ci>
       <infinity></infinity>
      </apply>
     </apply>
     <apply>
      <times></times>
      <apply>
       <csymbol cd="ambiguous">superscript</csymbol>
       <ci>t</ci>
       <apply>
        <minus></minus>
        <cn type="integer">1</cn>
       </apply>
      </apply>
      <apply>
       <csymbol cd="latexml">delimited-⟨⟩</csymbol>
       <apply>
        <log></log>
        <apply>
         <csymbol cd="ambiguous">subscript</csymbol>
         <ci>μ</ci>
         <ci>k</ci>
        </apply>
       </apply>
      </apply>
      <ci>t</ci>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \mathbf{\sigma}_{k}^{2}=\lim_{t\to\infty}t^{-1}\langle\log\mu_{(k)}\rangle(t)
  </annotation>
 </semantics>
</math>

</p>

<p>and</p>

<p>

<math display="block" id="Stochastic_portfolio_theory:183">
 <semantics>
  <mrow>
   <msub>
    <mi>𝐠</mi>
    <mi>k</mi>
   </msub>
   <mo>=</mo>
   <mrow>
    <munder>
     <mo movablelimits="false">lim</mo>
     <mrow>
      <mi>T</mi>
      <mo>→</mo>
      <mi mathvariant="normal">∞</mi>
     </mrow>
    </munder>
    <mrow>
     <mfrac>
      <mn>1</mn>
      <mi>T</mi>
     </mfrac>
     <mrow>
      <msubsup>
       <mo largeop="true" symmetric="true">∫</mo>
       <mn>0</mn>
       <mi>T</mi>
      </msubsup>
      <mrow>
       <munderover>
        <mo largeop="true" movablelimits="false" symmetric="true">∑</mo>
        <mrow>
         <mi>i</mi>
         <mo>=</mo>
         <mn>1</mn>
        </mrow>
        <mi>n</mi>
       </munderover>
       <mrow>
        <mpadded width="+1.7pt">
         <msub>
          <mn>𝟏</mn>
          <mrow>
           <mo stretchy="false">{</mo>
           <msub>
            <mi>r</mi>
            <mi>t</mi>
           </msub>
           <mrow>
            <mo stretchy="false">(</mo>
            <mi>i</mi>
            <mo stretchy="false">)</mo>
           </mrow>
           <mo>=</mo>
           <mi>k</mi>
           <mo stretchy="false">}</mo>
          </mrow>
         </msub>
        </mpadded>
        <mi>d</mi>
        <mrow>
         <mi>log</mi>
         <msub>
          <mi>μ</mi>
          <mi>i</mi>
         </msub>
        </mrow>
        <mrow>
         <mo stretchy="false">(</mo>
         <mi>t</mi>
         <mo stretchy="false">)</mo>
        </mrow>
       </mrow>
      </mrow>
     </mrow>
    </mrow>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <csymbol cd="ambiguous">subscript</csymbol>
     <ci>𝐠</ci>
     <ci>k</ci>
    </apply>
    <apply>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <limit></limit>
      <apply>
       <ci>normal-→</ci>
       <ci>T</ci>
       <infinity></infinity>
      </apply>
     </apply>
     <apply>
      <times></times>
      <apply>
       <divide></divide>
       <cn type="integer">1</cn>
       <ci>T</ci>
      </apply>
      <apply>
       <apply>
        <csymbol cd="ambiguous">superscript</csymbol>
        <apply>
         <csymbol cd="ambiguous">subscript</csymbol>
         <int></int>
         <cn type="integer">0</cn>
        </apply>
        <ci>T</ci>
       </apply>
       <apply>
        <apply>
         <csymbol cd="ambiguous">superscript</csymbol>
         <apply>
          <csymbol cd="ambiguous">subscript</csymbol>
          <sum></sum>
          <apply>
           <eq></eq>
           <ci>i</ci>
           <cn type="integer">1</cn>
          </apply>
         </apply>
         <ci>n</ci>
        </apply>
        <apply>
         <times></times>
         <apply>
          <csymbol cd="ambiguous">subscript</csymbol>
          <cn type="integer">1</cn>
          <cerror>
           <csymbol cd="ambiguous">fragments</csymbol>
           <ci>normal-{</ci>
           <apply>
            <csymbol cd="ambiguous">subscript</csymbol>
            <ci>r</ci>
            <ci>t</ci>
           </apply>
           <cerror>
            <csymbol cd="ambiguous">fragments</csymbol>
            <ci>normal-(</ci>
            <csymbol cd="unknown">i</csymbol>
            <ci>normal-)</ci>
           </cerror>
           <eq></eq>
           <csymbol cd="unknown">k</csymbol>
           <ci>normal-}</ci>
          </cerror>
         </apply>
         <ci>d</ci>
         <apply>
          <log></log>
          <apply>
           <csymbol cd="ambiguous">subscript</csymbol>
           <ci>μ</ci>
           <ci>i</ci>
          </apply>
         </apply>
         <ci>t</ci>
        </apply>
       </apply>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \mathbf{g}_{k}=\lim_{T\to\infty}\frac{1}{T}\int_{0}^{T}\sum_{i=1}^{n}\mathbf{1%
}_{\{r_{t}(i)=k\}}\,d\log\mu_{i}(t)
  </annotation>
 </semantics>
</math>

</p>

<p>exist for 

<math display="inline" id="Stochastic_portfolio_theory:184">
 <semantics>
  <mrow>
   <mi>k</mi>
   <mo>=</mo>
   <mrow>
    <mn>1</mn>
    <mo>,</mo>
    <mi mathvariant="normal">…</mi>
    <mo>,</mo>
    <mpadded width="+1.7pt">
     <mi>n</mi>
    </mpadded>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <ci>k</ci>
    <list>
     <cn type="integer">1</cn>
     <ci>normal-…</ci>
     <ci>n</ci>
    </list>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   k=1,\ldots,n\,
  </annotation>
 </semantics>
</math>

, where 

<math display="inline" id="Stochastic_portfolio_theory:185">
 <semantics>
  <mrow>
   <msub>
    <mi>r</mi>
    <mi>t</mi>
   </msub>
   <mrow>
    <mo stretchy="false">(</mo>
    <mi>i</mi>
    <mo stretchy="false">)</mo>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <times></times>
    <apply>
     <csymbol cd="ambiguous">subscript</csymbol>
     <ci>r</ci>
     <ci>t</ci>
    </apply>
    <ci>i</ci>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   r_{t}(i)
  </annotation>
 </semantics>
</math>

 is the rank of 

<math display="inline" id="Stochastic_portfolio_theory:186">
 <semantics>
  <mrow>
   <msub>
    <mi>X</mi>
    <mi>i</mi>
   </msub>
   <mrow>
    <mo stretchy="false">(</mo>
    <mi>t</mi>
    <mo stretchy="false">)</mo>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <times></times>
    <apply>
     <csymbol cd="ambiguous">subscript</csymbol>
     <ci>X</ci>
     <ci>i</ci>
    </apply>
    <ci>t</ci>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   X_{i}(t)
  </annotation>
 </semantics>
</math>

. Then the Atlas model 

<math display="inline" id="Stochastic_portfolio_theory:187">
 <semantics>
  <mrow>
   <msub>
    <mover accent="true">
     <mi>X</mi>
     <mo>^</mo>
    </mover>
    <mn>1</mn>
   </msub>
   <mo>,</mo>
   <mi mathvariant="normal">…</mi>
   <mo>,</mo>
   <msub>
    <mover accent="true">
     <mi>X</mi>
     <mo>^</mo>
    </mover>
    <mi>n</mi>
   </msub>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <list>
    <apply>
     <csymbol cd="ambiguous">subscript</csymbol>
     <apply>
      <ci>normal-^</ci>
      <ci>X</ci>
     </apply>
     <cn type="integer">1</cn>
    </apply>
    <ci>normal-…</ci>
    <apply>
     <csymbol cd="ambiguous">subscript</csymbol>
     <apply>
      <ci>normal-^</ci>
      <ci>X</ci>
     </apply>
     <ci>n</ci>
    </apply>
   </list>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   {\widehat{X}}_{1},\ldots,{\widehat{X}}_{n}
  </annotation>
 </semantics>
</math>

 defined by</p>

<p>

<math display="block" id="Stochastic_portfolio_theory:188">
 <semantics>
  <mrow>
   <mrow>
    <mrow>
     <mi>d</mi>
     <mrow>
      <mi>log</mi>
      <msub>
       <mover accent="true">
        <mi>X</mi>
        <mo>^</mo>
       </mover>
       <mi>i</mi>
      </msub>
     </mrow>
     <mrow>
      <mo stretchy="false">(</mo>
      <mi>t</mi>
      <mo stretchy="false">)</mo>
     </mrow>
    </mrow>
    <mo>=</mo>
    <mrow>
     <mrow>
      <munderover>
       <mo largeop="true" movablelimits="false" symmetric="true">∑</mo>
       <mrow>
        <mi>k</mi>
        <mo>=</mo>
        <mn>1</mn>
       </mrow>
       <mi>n</mi>
      </munderover>
      <mrow>
       <msub>
        <mi>𝐠</mi>
        <mi>k</mi>
       </msub>
       <mpadded width="+1.7pt">
        <msub>
         <mn mathvariant="bold">1</mn>
         <mrow>
          <mo stretchy="false">{</mo>
          <msub>
           <mover accent="true">
            <mi>r</mi>
            <mo stretchy="false">^</mo>
           </mover>
           <mi>t</mi>
          </msub>
          <mrow>
           <mo stretchy="false">(</mo>
           <mi>i</mi>
           <mo stretchy="false">)</mo>
          </mrow>
          <mo>=</mo>
          <mi>k</mi>
          <mo stretchy="false">}</mo>
         </mrow>
        </msub>
       </mpadded>
       <mi>d</mi>
       <mi>t</mi>
      </mrow>
     </mrow>
     <mo>+</mo>
     <mrow>
      <munderover>
       <mo largeop="true" movablelimits="false" symmetric="true">∑</mo>
       <mrow>
        <mi>k</mi>
        <mo>=</mo>
        <mn>1</mn>
       </mrow>
       <mi>n</mi>
      </munderover>
      <mrow>
       <msub>
        <mi>σ</mi>
        <mi>k</mi>
       </msub>
       <mpadded width="+1.7pt">
        <msub>
         <mn>𝟏</mn>
         <mrow>
          <mo stretchy="false">{</mo>
          <msub>
           <mover accent="true">
            <mi>r</mi>
            <mo stretchy="false">^</mo>
           </mover>
           <mi>t</mi>
          </msub>
          <mrow>
           <mo stretchy="false">(</mo>
           <mi>i</mi>
           <mo stretchy="false">)</mo>
          </mrow>
          <mo>=</mo>
          <mi>k</mi>
          <mo stretchy="false">}</mo>
         </mrow>
        </msub>
       </mpadded>
       <mi>d</mi>
       <msub>
        <mi>W</mi>
        <mi>i</mi>
       </msub>
       <mrow>
        <mo stretchy="false">(</mo>
        <mi>t</mi>
        <mo stretchy="false">)</mo>
       </mrow>
      </mrow>
     </mrow>
    </mrow>
   </mrow>
   <mo>,</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <times></times>
     <ci>d</ci>
     <apply>
      <log></log>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <apply>
        <ci>normal-^</ci>
        <ci>X</ci>
       </apply>
       <ci>i</ci>
      </apply>
     </apply>
     <ci>t</ci>
    </apply>
    <apply>
     <plus></plus>
     <apply>
      <apply>
       <csymbol cd="ambiguous">superscript</csymbol>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <sum></sum>
        <apply>
         <eq></eq>
         <ci>k</ci>
         <cn type="integer">1</cn>
        </apply>
       </apply>
       <ci>n</ci>
      </apply>
      <apply>
       <times></times>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>𝐠</ci>
        <ci>k</ci>
       </apply>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <cn type="float">1</cn>
        <cerror>
         <csymbol cd="ambiguous">fragments</csymbol>
         <ci>normal-{</ci>
         <apply>
          <csymbol cd="ambiguous">subscript</csymbol>
          <apply>
           <ci>normal-^</ci>
           <ci>r</ci>
          </apply>
          <ci>t</ci>
         </apply>
         <cerror>
          <csymbol cd="ambiguous">fragments</csymbol>
          <ci>normal-(</ci>
          <csymbol cd="unknown">i</csymbol>
          <ci>normal-)</ci>
         </cerror>
         <eq></eq>
         <csymbol cd="unknown">k</csymbol>
         <ci>normal-}</ci>
        </cerror>
       </apply>
       <ci>d</ci>
       <ci>t</ci>
      </apply>
     </apply>
     <apply>
      <apply>
       <csymbol cd="ambiguous">superscript</csymbol>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <sum></sum>
        <apply>
         <eq></eq>
         <ci>k</ci>
         <cn type="integer">1</cn>
        </apply>
       </apply>
       <ci>n</ci>
      </apply>
      <apply>
       <times></times>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>σ</ci>
        <ci>k</ci>
       </apply>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <cn type="integer">1</cn>
        <cerror>
         <csymbol cd="ambiguous">fragments</csymbol>
         <ci>normal-{</ci>
         <apply>
          <csymbol cd="ambiguous">subscript</csymbol>
          <apply>
           <ci>normal-^</ci>
           <ci>r</ci>
          </apply>
          <ci>t</ci>
         </apply>
         <cerror>
          <csymbol cd="ambiguous">fragments</csymbol>
          <ci>normal-(</ci>
          <csymbol cd="unknown">i</csymbol>
          <ci>normal-)</ci>
         </cerror>
         <eq></eq>
         <csymbol cd="unknown">k</csymbol>
         <ci>normal-}</ci>
        </cerror>
       </apply>
       <ci>d</ci>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>W</ci>
        <ci>i</ci>
       </apply>
       <ci>t</ci>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   d\log{\widehat{X}}_{i}(t)=\sum_{k=1}^{n}\mathbf{g}_{k}\,\mathbf{1}_{\{{\hat{r}%
}_{t}(i)=k\}}\,dt+\sum_{k=1}^{n}\mathbf{\sigma}_{k}\mathbf{1}_{\{{\hat{r}}_{t}%
(i)=k\}}\,dW_{i}(t),
  </annotation>
 </semantics>
</math>

</p>

<p>where 

<math display="inline" id="Stochastic_portfolio_theory:189">
 <semantics>
  <mrow>
   <msub>
    <mover accent="true">
     <mi>r</mi>
     <mo stretchy="false">^</mo>
    </mover>
    <mi>t</mi>
   </msub>
   <mrow>
    <mo stretchy="false">(</mo>
    <mi>i</mi>
    <mo stretchy="false">)</mo>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <times></times>
    <apply>
     <csymbol cd="ambiguous">subscript</csymbol>
     <apply>
      <ci>normal-^</ci>
      <ci>r</ci>
     </apply>
     <ci>t</ci>
    </apply>
    <ci>i</ci>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   {\hat{r}}_{t}(i)
  </annotation>
 </semantics>
</math>

 is the rank of 

<math display="inline" id="Stochastic_portfolio_theory:190">
 <semantics>
  <mrow>
   <msub>
    <mover accent="true">
     <mi>X</mi>
     <mo>^</mo>
    </mover>
    <mi>i</mi>
   </msub>
   <mrow>
    <mo stretchy="false">(</mo>
    <mi>t</mi>
    <mo stretchy="false">)</mo>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <times></times>
    <apply>
     <csymbol cd="ambiguous">subscript</csymbol>
     <apply>
      <ci>normal-^</ci>
      <ci>X</ci>
     </apply>
     <ci>i</ci>
    </apply>
    <ci>t</ci>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \widehat{X}_{i}(t)
  </annotation>
 </semantics>
</math>

 and 

<math display="inline" id="Stochastic_portfolio_theory:191">
 <semantics>
  <mrow>
   <mo stretchy="false">(</mo>
   <msub>
    <mi>W</mi>
    <mn>1</mn>
   </msub>
   <mo>,</mo>
   <mi mathvariant="normal">…</mi>
   <mo>,</mo>
   <msub>
    <mi>W</mi>
    <mi>n</mi>
   </msub>
   <mo stretchy="false">)</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <vector>
    <apply>
     <csymbol cd="ambiguous">subscript</csymbol>
     <ci>W</ci>
     <cn type="integer">1</cn>
    </apply>
    <ci>normal-…</ci>
    <apply>
     <csymbol cd="ambiguous">subscript</csymbol>
     <ci>W</ci>
     <ci>n</ci>
    </apply>
   </vector>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   (W_{1},\ldots,W_{n})
  </annotation>
 </semantics>
</math>

 is an 

<math display="inline" id="Stochastic_portfolio_theory:192">
 <semantics>
  <mi>n</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>n</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   n
  </annotation>
 </semantics>
</math>

-dimensional Brownian motion process, is the <strong>first-order model</strong> for the original market, 

<math display="inline" id="Stochastic_portfolio_theory:193">
 <semantics>
  <mrow>
   <msub>
    <mi>X</mi>
    <mn>1</mn>
   </msub>
   <mo>,</mo>
   <mi mathvariant="normal">…</mi>
   <mo>,</mo>
   <msub>
    <mi>X</mi>
    <mi>n</mi>
   </msub>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <list>
    <apply>
     <csymbol cd="ambiguous">subscript</csymbol>
     <ci>X</ci>
     <cn type="integer">1</cn>
    </apply>
    <ci>normal-…</ci>
    <apply>
     <csymbol cd="ambiguous">subscript</csymbol>
     <ci>X</ci>
     <ci>n</ci>
    </apply>
   </list>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   X_{1},\ldots,X_{n}
  </annotation>
 </semantics>
</math>


.</p>

<p>Under reasonable conditions, the capital distribution curve for a first-order model will be close to that of the original market. However, a first-order model is ergodic in the sense that each stock asymptotically spends 

<math display="inline" id="Stochastic_portfolio_theory:194">
 <semantics>
  <mrow>
   <mo stretchy="false">(</mo>
   <mrow>
    <mn>1</mn>
    <mo>/</mo>
    <mi>n</mi>
   </mrow>
   <mo stretchy="false">)</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <divide></divide>
    <cn type="integer">1</cn>
    <ci>n</ci>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   (1/n)
  </annotation>
 </semantics>
</math>

-th of its time at each rank, a property that is not present in actual markets. In order to vary the proportion of time that a stock spends at each rank, it is necessary to use some form of hybrid Atlas model with parameters that depend on both rank and name. An effort in this direction was made by Fernholz, Ichiba, and Karatzas (2013), who introduced a <strong>second-order model</strong> for the market with rank- and name-based growth parameters, and variance parameters that depended on rank alone.</p>
<h2 id="references">References</h2>
<ul>
<li>Fernholz, E.R. (2002). <em>Stochastic Portfolio Theory</em>. New York: Springer-Verlag.</li>
</ul>

<p>"</p>

<p><a href="Category:Mathematical_theorems" title="wikilink">Category:Mathematical theorems</a> <a href="Category:Finance_theories" title="wikilink">Category:Finance theories</a></p>
</body>
</html>
