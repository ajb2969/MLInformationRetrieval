   Mass matrix      Mass matrix   In analytical mechanics , the mass matrix is a symmetric  matrix  M that expresses the connection between the time derivative    q  ˙     normal-˙  q    \dot{q}   of the generalized coordinate vector  q of a system and the kinetic energy  T of that system, by the equation      T  =    1  2     q  ˙   T   M   q  ˙        T      1  2    superscript   normal-˙  q   normal-T   M   normal-˙  q      T=\frac{1}{2}\dot{q}^{\mathrm{T}}M\dot{q}   where     q  ˙   T     superscript   normal-˙  q   normal-T    \dot{q}^{\mathrm{T}}   denotes the transpose of the vector    q  ˙     normal-˙  q    \dot{q}   . 1 This equation is analogous to the formula for the kinetic energy of a particle with mass   m   m   m   and velocity v , namely       T   =    1  2   m     |  v  |   2     =      1  2   v   ⋅  m   v         T      1  2   m   superscript    v   2            normal-⋅      1  2   v   m   v      T\;=\;\frac{1}{2}m|v|^{2}\;=\;\frac{1}{2}v\cdot mv   and can be derived from it, by expressing the position of each particle of the system in terms of q .  In general, the mass matrix M depends on the state q , and therefore varies with time.  Lagrangian mechanics yields an ordinary differential equation (actually, a system of coupled differential equations) that describes the evolution of a system in terms of an arbitrary vector of generalized coordinates that completely defines the position of every particle in the system. The kinetic energy formula above is one term of that equation, that represents the total kinetic energy of all the particles.  Examples  Two-body unidimensional system  (Figure)  System of masses in one spatial dimension.   For example, consider a system consisting of two point-like masses confined to a straight track. The state of that systems can be described by a vector q of two generalized coordinates, namely the positions of the two particles along the track.      q  =    [     x  1     x  2    ]   T       q   superscript   delimited-[]     subscript  x  1    subscript  x  2     normal-T     q=[x_{1}\,x_{2}]^{\mathrm{T}}   . Supposing the particles have masses m 1 , m 2 , the kinetic energy of the system is      T  =   ∑   i  =  1   2    1  2    m  i     x  ˙   i     2      fragments  T    superscript   subscript     i  1    2     1  2    subscript  m  i    subscript   normal-˙  x   i    2     T=\sum_{i=1}^{2}\frac{1}{2}m_{i}\dot{x}_{i}{}^{2}   This formula can also be written as      T  =    1  2     q  ˙   T   M   q  ˙        T      1  2    superscript   normal-˙  q   normal-T   M   normal-˙  q      T=\frac{1}{2}\dot{q}^{\mathrm{T}}M\dot{q}   where      M  =   [      m  1     0      0     m  2      ]       M     subscript  m  1   0    0   subscript  m  2       M=\begin{bmatrix}m_{1}&0\\
 0&m_{2}\end{bmatrix}     N-body system  More generally, consider a system of N particles labelled by an index i = 1, 2,..., N , where the position of particle number i is defined by n i free Cartesian coordinates (where n i is 1, 2, or 3). Let q be the column vector comprising all those coordinates. The mass matrix M is the diagonal  block matrix where in each block the diagonal elements are the mass of the corresponding particle: 2      M  =   diag   [    m  1    I   n  1     ,    m  2    I   n  2     ,  ⋯  ,    m  N    I   n  N     ]        M    diag      subscript  m  1    subscript  I   subscript  n  1        subscript  m  2    subscript  I   subscript  n  2     normal-⋯     subscript  m  N    subscript  I   subscript  n  N         M=\mathrm{diag}[m_{1}I_{n_{1}},m_{2}I_{n_{2}},\cdots,m_{N}I_{n_{N}}]     where I n i is the n i × n i  identity matrix , or more fully:      M  =   [      m  1     ⋯    0    0    ⋯    0    ⋯    0    ⋯    0      ⋮    ⋱    ⋮    ⋮    ⋱    ⋮    ⋱    ⋮    ⋱    ⋮      0    ⋯     m  1     0    ⋯    0    ⋯    0    ⋯    0      0    ⋯    0     m  2     ⋯    0    ⋯    0    ⋯    0      ⋮    ⋱    ⋮    ⋮    ⋱    ⋮    ⋱    ⋮    ⋱    ⋮      0    ⋯    0    0    ⋯     m  2     ⋯    0    ⋯    0      ⋮    ⋱    ⋮    ⋮    ⋱    ⋮    ⋱    ⋮    ⋱    ⋮      0    ⋯    0    0    ⋯    0    ⋯     m  N     ⋯    0      ⋮    ⋱    ⋮    ⋮    ⋱    ⋮    ⋱    ⋮    ⋱    ⋮      0    ⋯    0    0    ⋯    0    ⋯    0    ⋯     m  N      ]       M     subscript  m  1   normal-⋯  0  0  normal-⋯  0  normal-⋯  0  normal-⋯  0    normal-⋮  normal-⋱  normal-⋮  normal-⋮  normal-⋱  normal-⋮  normal-⋱  normal-⋮  normal-⋱  normal-⋮    0  normal-⋯   subscript  m  1   0  normal-⋯  0  normal-⋯  0  normal-⋯  0    0  normal-⋯  0   subscript  m  2   normal-⋯  0  normal-⋯  0  normal-⋯  0    normal-⋮  normal-⋱  normal-⋮  normal-⋮  normal-⋱  normal-⋮  normal-⋱  normal-⋮  normal-⋱  normal-⋮    0  normal-⋯  0  0  normal-⋯   subscript  m  2   normal-⋯  0  normal-⋯  0    normal-⋮  normal-⋱  normal-⋮  normal-⋮  normal-⋱  normal-⋮  normal-⋱  normal-⋮  normal-⋱  normal-⋮    0  normal-⋯  0  0  normal-⋯  0  normal-⋯   subscript  m  N   normal-⋯  0    normal-⋮  normal-⋱  normal-⋮  normal-⋮  normal-⋱  normal-⋮  normal-⋱  normal-⋮  normal-⋱  normal-⋮    0  normal-⋯  0  0  normal-⋯  0  normal-⋯  0  normal-⋯   subscript  m  N       M=\begin{bmatrix}m_{1}&\cdots&0&0&\cdots&0&\cdots&0&\cdots&0\\
 \vdots&\ddots&\vdots&\vdots&\ddots&\vdots&\ddots&\vdots&\ddots&\vdots\\
 0&\cdots&m_{1}&0&\cdots&0&\cdots&0&\cdots&0\\
 0&\cdots&0&m_{2}&\cdots&0&\cdots&0&\cdots&0\\
 \vdots&\ddots&\vdots&\vdots&\ddots&\vdots&\ddots&\vdots&\ddots&\vdots\\
 0&\cdots&0&0&\cdots&m_{2}&\cdots&0&\cdots&0\\
 \vdots&\ddots&\vdots&\vdots&\ddots&\vdots&\ddots&\vdots&\ddots&\vdots\\
 0&\cdots&0&0&\cdots&0&\cdots&m_{N}&\cdots&0\\
 \vdots&\ddots&\vdots&\vdots&\ddots&\vdots&\ddots&\vdots&\ddots&\vdots\\
 0&\cdots&0&0&\cdots&0&\cdots&0&\cdots&m_{N}\\
 \end{bmatrix}     Rotating dumbbell  (Figure)  Rotating dumbbell.   For a less trivial example, consider two point-like objects with masses m 1 , m 2 , attached to the ends of a rigid massless bar with length 2 R , the assembly being free to rotate and slide over a fixed plane. The state of the system can be described by the generalized coordinate vector      q  =   [  x  ,  y  ,  α  ]       q   x  y  α     q=[x,y,\alpha]   where x , y are the Cartesian coordinates of the bar's midpoint and α is the angle of the bar from some arbitrary reference direction. The positions and velocities of the two particles are          p  1   =    (  x  ,  y  )   +   R   (   cos  α   ,   sin  α   )          v  1   =    (   x  ˙   ,   y  ˙   )   +   R   α  ˙    (   -   sin  α    ,   cos  α   )            p  2   =    (  x  ,  y  )   -   R   (   cos  α   ,   sin  α   )          v  2   =    (   x  ˙   ,   y  ˙   )   -   R   α  ˙    (   -   sin  α    ,   cos  α   )               subscript  p  1      x  y     R     α     α          subscript  v  1       normal-˙  x    normal-˙  y      R   normal-˙  α        α      α            subscript  p  2      x  y     R     α     α          subscript  v  2       normal-˙  x    normal-˙  y      R   normal-˙  α        α      α          \begin{array}[]{ll}p_{1}=(x,y)+R(\cos\alpha,\sin\alpha)&v_{1}=(\dot{x},\dot{y}%
 )+R\dot{\alpha}(-\sin\alpha,\cos\alpha)\\
 p_{2}=(x,y)-R(\cos\alpha,\sin\alpha)&v_{2}=(\dot{x},\dot{y})-R\dot{\alpha}(-%
 \sin\alpha,\cos\alpha)\end{array}   and their total kinetic energy is      T  =    m    x  ˙   2    +   m    y  ˙   2    +   m   R  2     α  ˙   2    +   2  R  d   cos   α   x  ˙    α  ˙      +   2  R  d   sin   α   y  ˙    α  ˙           T      m   superscript   normal-˙  x   2      m   superscript   normal-˙  y   2      m   superscript  R  2    superscript   normal-˙  α   2      2  R  d      α   normal-˙  x    normal-˙  α        2  R  d      α   normal-˙  y    normal-˙  α         T=m\dot{x}^{2}+m\dot{y}^{2}+mR^{2}\dot{\alpha}^{2}+2Rd\cos\alpha\dot{x}\dot{%
 \alpha}+2Rd\sin\alpha\dot{y}\dot{\alpha}   where    m  =    m  1   +   m  2        m     subscript  m  1    subscript  m  2      m=m_{1}+m_{2}   and    d  =    m  1   -   m  2        d     subscript  m  1    subscript  m  2      d=m_{1}-m_{2}   . This formula can be written in matrix form as      T  =    1  2     q  ˙   T   M   q  ˙        T      1  2    superscript   normal-˙  q   normal-T   M   normal-˙  q      T=\frac{1}{2}\dot{q}^{\mathrm{T}}M\dot{q}   where      M  =   [     m    0     R  ;   d   cos  α         0    m     R  d   sin  α         R  d   cos  α       R  d   sin  α        R  2   m      ]       M    m  0   R    d    α       0  m    R  d    α        R  d    α      R  d    α       superscript  R  2   m       M=\begin{bmatrix}m&0&Rd\cos\alpha\\
 0&m&Rd\sin\alpha\\
 Rd\cos\alpha&Rd\sin\alpha&R^{2}m\end{bmatrix}   Note that the matrix depends on the current angle α of the bar.  Continuum mechanics  For discrete approximations of continuum mechanics as in the finite element method , there may be more than one way to construct the mass matrix, depending on desired computational and accuracy performance. For example, a lumped-mass method, in which the deformation of each element is ignored, creates a diagonal mass matrix and negates the need to integrate mass across the deformed element.  See also   Moment of inertia  Stress–energy tensor  Stiffness matrix   References    Mathematical methods for physics and engineering, K.F. Riley, M.P. Hobson, S.J. Bence, Cambridge University Press, 2010, ISBN 978-0-521-86153-3    Analytical Mechanics, L.N. Hand, J.D. Finch, Cambridge University Press, 2008, ISBN 978 0 521 57572 0    "  Category:Computational science          