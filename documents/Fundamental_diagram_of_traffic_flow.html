<html lang="en">
<head>
<meta charset="utf-8"/>
<title offset="615">Fundamental diagram of traffic flow</title>
<script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_SVG.js" type="text/javascript">
</script>
</head>
<body>
<h1>Fundamental diagram of traffic flow</h1>
<hr/>

<p>The <strong>fundamental diagram of traffic flow</strong> is a <a class="uri" href="diagram" title="wikilink">diagram</a> that gives a relation between the traffic flux (vehicles/hour) and the traffic density (vehicles/km). A macroscopic traffic model involving traffic flux, traffic density and velocity forms the basis of the fundamental diagram. It can be used to predict the capability of a road system, or its behaviour when applying inflow regulation or <a href="speed_limit" title="wikilink">speed limits</a>. </p>
<h2 id="basic-statements">Basic statements</h2>
<ul>
<li>There is a connection between traffic density and vehicle velocity: The more vehicles are on a road, the slower their velocity will be.</li>
<li>To prevent congestion and to keep traffic flow stable, the number of vehicles entering the control zone has to be smaller or equal to the number of vehicles leaving the zone in the same time.</li>
<li>At a critical traffic density and a corresponding critical velocity the state of flow will change from stable to unstable.</li>
<li>If one of the vehicles brakes in unstable flow regime the flow will collapse.</li>
</ul>

<p>The primary tool for graphically displaying information in the study traffic flow is the fundamental diagram. Fundamental diagrams consist of three different graphs: flow-density, speed-flow, and speed-density. The graphs are two dimensional graphs. All the graphs are related by the equation “flow = speed * density”; this equation is the essential equation in traffic flow. The fundamental diagrams were derived by the plotting of field data points and giving these data points a best fit curve. With the fundamental diagrams researchers can explore the relationship between speed, flow, and density of traffic.</p>
<h3 id="speed-density">Speed-density</h3>

<p>The speed-density relationship is linear with a negative slope; therefore, as the density increases the speed of the roadway decreases. The line crosses the speed axis, y, at the free flow speed, and the line crosses the density axis, x, at the jam density. Here the speed approaches free flow speed as the density approaches zero. As the density increases, the speed of the vehicles on the roadway decreases. The speed reaches zero when the density equals the jam density.</p>
<h3 id="flow-density">Flow-density</h3>

<p>In the study of traffic flow theory, the flow-density diagram is used to determine the traffic state of a roadway. Currently, there are two types of flow density graphs. The first is the parabolic shaped flow-density curve, and the second is the triangular shaped flow-density curve. Academia views the triangular shaped flow-density curve as more the accurate representation of real world events. The triangular shaped curve consists of two vectors. The first vector is the freeflow side of the curve. This vector is created by placing the freeflow velocity vector of a roadway at the origin of the flow-density graph. The second vector is the congested branch, which is created by placing the vector of the shock wave speed at zero flow and jam density. The congested branch has a negative slope, which implies that the higher the density on the congested branch the lower the flow; therefore, even though there are more cars on the road, the number of cars passing a single point is less than if there were fewer cars on the road. The intersection of freeflow and congested vectors is the apex of the curve and is considered the capacity of the roadway, which is the traffic condition at which the maximum number of vehicles can pass by a point in a given time period. The flow and capacity at which this point occurs is the optimum flow and optimum density, respectively. The flow density diagram is used to give the traffic condition of a roadway. With the traffic conditions, time-space diagrams can be created to give travel time, delay, and queue lengths of a road segment.</p>
<h3 id="speed-flow">Speed-flow</h3>

<p>Speed flow diagrams are used to determine the speed at which the optimum flow occurs. There are currently two shapes of the speed-flow curve. The speed-flow curve also consists of two branches, the freeflow and congested branches. The diagram is not a function, allowing the flow variable to exist at two different speeds. The flow variable existing at two different speeds occurs when the speed is higher and the density is lower or when the speed is lower and the density is higher, which allows for the same flow rate. In the first speed-flow diagram, the freeflow branch is a horizontal line, which shows that the roadway is at freeflow speed until the optimum flow is reached. Once the optimum flow is reached, the diagram switches to the congested branch, which is a parabolic shape. The second speed flow diagram is a parabola. The parabola suggests that the only time there is freeflow speed is when the density approaches zero; it also suggests that as the flow increases the speed decreases. This parabolic graph also contains an optimum flow. The optimum flow also divides the freeflow and congested branches on the parabolic graph.</p>
<h2 id="macroscopic-fundamental-diagram">Macroscopic fundamental diagram</h2>

<p>A macroscopic fundamental diagram (MFD) is type of traffic flow fundamental diagram that relates space-mean flow, density and speed of an entire network with n number of links as shown in Figure 1. The MFD thus represents the capacity, 

<math display="inline" id="Fundamental_diagram_of_traffic_flow:0">
 <semantics>
  <mrow>
   <mi>μ</mi>
   <mrow>
    <mo stretchy="false">(</mo>
    <mi>n</mi>
    <mo stretchy="false">)</mo>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <times></times>
    <ci>μ</ci>
    <ci>n</ci>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \mu(n)
  </annotation>
 </semantics>
</math>

, of the network in terms of vehicle density with 

<math display="inline" id="Fundamental_diagram_of_traffic_flow:1">
 <semantics>
  <msub>
   <mi>μ</mi>
   <mn>1</mn>
  </msub>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <csymbol cd="ambiguous">subscript</csymbol>
    <ci>μ</ci>
    <cn type="integer">1</cn>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \mu_{1}
  </annotation>
 </semantics>
</math>

 being the maximum capacity of the network and 

<math display="inline" id="Fundamental_diagram_of_traffic_flow:2">
 <semantics>
  <mi>η</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>η</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \eta
  </annotation>
 </semantics>
</math>

 being the jam density of the network. The maximum capacity or “sweet spot” of the network is the region at the peak of the MFD function.</p>
<figure><b>(Figure)</b>
<figcaption>Figure 1: Sample traffic flow macroscopic fundamental diagram</figcaption>
</figure>
<figure><b>(Figure)</b>
<figcaption>Figure 2: Space-time diagram for the ith link in a traffic flow network</figcaption>
</figure>
<h3 id="flow">Flow</h3>

<p>The space-mean flow, 

<math display="inline" id="Fundamental_diagram_of_traffic_flow:3">
 <semantics>
  <mover accent="true">
   <mi>q</mi>
   <mo stretchy="false">¯</mo>
  </mover>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <ci>normal-¯</ci>
    <ci>q</ci>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \bar{q}
  </annotation>
 </semantics>
</math>

, across all the links of a given network can be expressed by:</p>

<p>

<math display="inline" id="Fundamental_diagram_of_traffic_flow:4">
 <semantics>
  <mrow>
   <mover accent="true">
    <mi>q</mi>
    <mo stretchy="false">¯</mo>
   </mover>
   <mo>=</mo>
   <mfrac>
    <mrow>
     <mstyle displaystyle="false">
      <msubsup>
       <mo largeop="true" symmetric="true">∑</mo>
       <mrow>
        <mi>k</mi>
        <mo>=</mo>
        <mn>1</mn>
       </mrow>
       <mi>n</mi>
      </msubsup>
     </mstyle>
     <mrow>
      <msub>
       <mi>d</mi>
       <mi>i</mi>
      </msub>
      <mrow>
       <mo stretchy="false">(</mo>
       <mi>B</mi>
       <mo stretchy="false">)</mo>
      </mrow>
     </mrow>
    </mrow>
    <mrow>
     <mi>n</mi>
     <mi>T</mi>
     <mi>L</mi>
    </mrow>
   </mfrac>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <ci>normal-¯</ci>
     <ci>q</ci>
    </apply>
    <apply>
     <divide></divide>
     <apply>
      <apply>
       <csymbol cd="ambiguous">superscript</csymbol>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <sum></sum>
        <apply>
         <eq></eq>
         <ci>k</ci>
         <cn type="integer">1</cn>
        </apply>
       </apply>
       <ci>n</ci>
      </apply>
      <apply>
       <times></times>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>d</ci>
        <ci>i</ci>
       </apply>
       <ci>B</ci>
      </apply>
     </apply>
     <apply>
      <times></times>
      <ci>n</ci>
      <ci>T</ci>
      <ci>L</ci>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \bar{q}=\frac{\sum_{k=1}^{n}d_{i}(B)}{nTL}
  </annotation>
 </semantics>
</math>

, where B is the area in the time-space diagram shown in Figure 2.</p>
<h3 id="density">Density</h3>

<p>The space-mean density, 

<math display="inline" id="Fundamental_diagram_of_traffic_flow:5">
 <semantics>
  <mover accent="true">
   <mi>k</mi>
   <mo stretchy="false">¯</mo>
  </mover>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <ci>normal-¯</ci>
    <ci>k</ci>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \bar{k}
  </annotation>
 </semantics>
</math>

, across all the links of a given network can be expressed by:</p>

<p>

<math display="inline" id="Fundamental_diagram_of_traffic_flow:6">
 <semantics>
  <mrow>
   <mover accent="true">
    <mi>k</mi>
    <mo stretchy="false">¯</mo>
   </mover>
   <mo>=</mo>
   <mfrac>
    <mrow>
     <mstyle displaystyle="false">
      <msubsup>
       <mo largeop="true" symmetric="true">∑</mo>
       <mrow>
        <mi>k</mi>
        <mo>=</mo>
        <mn>1</mn>
       </mrow>
       <mi>n</mi>
      </msubsup>
     </mstyle>
     <mrow>
      <msub>
       <mi>t</mi>
       <mi>i</mi>
      </msub>
      <mrow>
       <mo stretchy="false">(</mo>
       <mi>B</mi>
       <mo stretchy="false">)</mo>
      </mrow>
     </mrow>
    </mrow>
    <mrow>
     <mi>n</mi>
     <mi>T</mi>
     <mi>L</mi>
    </mrow>
   </mfrac>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <ci>normal-¯</ci>
     <ci>k</ci>
    </apply>
    <apply>
     <divide></divide>
     <apply>
      <apply>
       <csymbol cd="ambiguous">superscript</csymbol>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <sum></sum>
        <apply>
         <eq></eq>
         <ci>k</ci>
         <cn type="integer">1</cn>
        </apply>
       </apply>
       <ci>n</ci>
      </apply>
      <apply>
       <times></times>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>t</ci>
        <ci>i</ci>
       </apply>
       <ci>B</ci>
      </apply>
     </apply>
     <apply>
      <times></times>
      <ci>n</ci>
      <ci>T</ci>
      <ci>L</ci>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \bar{k}=\frac{\sum_{k=1}^{n}t_{i}(B)}{nTL}
  </annotation>
 </semantics>
</math>

, where B is the area in the time-space diagram shown in Figure 2.</p>
<h3 id="speed">Speed</h3>

<p>The space-mean speed, 

<math display="inline" id="Fundamental_diagram_of_traffic_flow:7">
 <semantics>
  <mover accent="true">
   <mi>v</mi>
   <mo stretchy="false">¯</mo>
  </mover>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <ci>normal-¯</ci>
    <ci>v</ci>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \bar{v}
  </annotation>
 </semantics>
</math>

, across all the links of a given network can be expressed by:</p>

<p>

<math display="inline" id="Fundamental_diagram_of_traffic_flow:8">
 <semantics>
  <mrow>
   <mover accent="true">
    <mi>v</mi>
    <mo stretchy="false">¯</mo>
   </mover>
   <mo>=</mo>
   <mfrac>
    <mover accent="true">
     <mi>q</mi>
     <mo stretchy="false">¯</mo>
    </mover>
    <mover accent="true">
     <mi>k</mi>
     <mo stretchy="false">¯</mo>
    </mover>
   </mfrac>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <ci>normal-¯</ci>
     <ci>v</ci>
    </apply>
    <apply>
     <divide></divide>
     <apply>
      <ci>normal-¯</ci>
      <ci>q</ci>
     </apply>
     <apply>
      <ci>normal-¯</ci>
      <ci>k</ci>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \bar{v}=\frac{\bar{q}}{\bar{k}}
  </annotation>
 </semantics>
</math>

, where B is the area in the space-time diagram shown in Figure 2.</p>
<h3 id="average-travel-time">Average travel time</h3>

<p>The MFD function can expressed in terms of the number of vehicles in the network such that:</p>

<p>

<math display="inline" id="Fundamental_diagram_of_traffic_flow:9">
 <semantics>
  <mrow>
   <mi>n</mi>
   <mo>=</mo>
   <mrow>
    <mover accent="true">
     <mi>k</mi>
     <mo stretchy="false">¯</mo>
    </mover>
    <mrow>
     <msubsup>
      <mo largeop="true" symmetric="true">∑</mo>
      <mrow>
       <mi>k</mi>
       <mo>=</mo>
       <mn>1</mn>
      </mrow>
      <mi>n</mi>
     </msubsup>
     <msub>
      <mi>l</mi>
      <mi>i</mi>
     </msub>
    </mrow>
   </mrow>
   <mo>=</mo>
   <mrow>
    <mover accent="true">
     <mi>k</mi>
     <mo stretchy="false">¯</mo>
    </mover>
    <mi>L</mi>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <and></and>
    <apply>
     <eq></eq>
     <ci>n</ci>
     <apply>
      <times></times>
      <apply>
       <ci>normal-¯</ci>
       <ci>k</ci>
      </apply>
      <apply>
       <apply>
        <csymbol cd="ambiguous">superscript</csymbol>
        <apply>
         <csymbol cd="ambiguous">subscript</csymbol>
         <sum></sum>
         <apply>
          <eq></eq>
          <ci>k</ci>
          <cn type="integer">1</cn>
         </apply>
        </apply>
        <ci>n</ci>
       </apply>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>l</ci>
        <ci>i</ci>
       </apply>
      </apply>
     </apply>
    </apply>
    <apply>
     <eq></eq>
     <share href="#.cmml">
     </share>
     <apply>
      <times></times>
      <apply>
       <ci>normal-¯</ci>
       <ci>k</ci>
      </apply>
      <ci>L</ci>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   n=\bar{k}\sum_{k=1}^{n}l_{i}=\bar{k}L
  </annotation>
 </semantics>
</math>

 where 

<math display="inline" id="Fundamental_diagram_of_traffic_flow:10">
 <semantics>
  <mi>L</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>L</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   L
  </annotation>
 </semantics>
</math>

 represents the total lane miles of the network.</p>

<p>Let 

<math display="inline" id="Fundamental_diagram_of_traffic_flow:11">
 <semantics>
  <mi>d</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>d</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   d
  </annotation>
 </semantics>
</math>

 be the average distance driven by a user in the network. The average travel time (

<math display="inline" id="Fundamental_diagram_of_traffic_flow:12">
 <semantics>
  <mi>τ</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>τ</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \tau
  </annotation>
 </semantics>
</math>

) is:</p>

<p>

<math display="inline" id="Fundamental_diagram_of_traffic_flow:13">
 <semantics>
  <mrow>
   <mi>τ</mi>
   <mo>=</mo>
   <mfrac>
    <mi>d</mi>
    <mover accent="true">
     <mi>v</mi>
     <mo stretchy="false">¯</mo>
    </mover>
   </mfrac>
   <mo>=</mo>
   <mfrac>
    <mrow>
     <mi>n</mi>
     <mi>d</mi>
    </mrow>
    <mrow>
     <mi>M</mi>
     <mi>F</mi>
     <mi>D</mi>
     <mrow>
      <mo stretchy="false">(</mo>
      <mi>n</mi>
      <mo stretchy="false">)</mo>
     </mrow>
     <mi>L</mi>
    </mrow>
   </mfrac>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <and></and>
    <apply>
     <eq></eq>
     <ci>τ</ci>
     <apply>
      <divide></divide>
      <ci>d</ci>
      <apply>
       <ci>normal-¯</ci>
       <ci>v</ci>
      </apply>
     </apply>
    </apply>
    <apply>
     <eq></eq>
     <share href="#.cmml">
     </share>
     <apply>
      <divide></divide>
      <apply>
       <times></times>
       <ci>n</ci>
       <ci>d</ci>
      </apply>
      <apply>
       <times></times>
       <ci>M</ci>
       <ci>F</ci>
       <ci>D</ci>
       <ci>n</ci>
       <ci>L</ci>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \tau=\frac{d}{\bar{v}}=\frac{nd}{MFD(n)L}
  </annotation>
 </semantics>
</math>

</p>
<h3 id="application-of-the-mfd">Application of the MFD</h3>

<p>In 2008, the traffic flow data of the city street network of Yokohama, Japan was collected using 500 fixed sensors and 140 mobile sensors. The study<a class="footnoteRef" href="#fn1" id="fnref1"><sup>1</sup></a> revealed that city sectors with approximate area of 10 km<sup>2</sup> are expected to have well-defined MFD functions. However, the observed MFD does not produce the full MFD function in the congested region of higher densities. Most beneficially though, the MFD function of a city network was shown to be independent of the traffic demand. Thus, through the continuous collection of traffic flow data the MFD for urban neighborhoods and cities can be obtained and used for analysis and traffic engineering purposes. These MFD functions can aid agencies in improving network accessibility and help to reduce congestion by monitoring the number of vehicles in the network. In turn, using <a href="congestion_pricing" title="wikilink">congestion pricing</a>, perimeter control, and other various traffic control methods, agencies can maintain optimum network performance at the "sweet spot" peak capacity. Agencies can also use the MFD to estimate average trip times for public information and engineering purposes. Recently, Keyvan-Ekbatani et al.<a class="footnoteRef" href="#fn2" id="fnref2"><sup>2</sup></a> exploited the notion of MFD to improve mobility in saturated traffic conditions via application of gating measures, based on an appropriate simple feedback control structure. In fact, they developed a simple (nonlinear and linearized) control design model, incorporating the operational MFD, which allows for the gating problem to be cast in a proper feedback control design setting. This allows for application and comparison of a variety of linear or nonlinear, feedback or predictive (e.g. <a href="Smith_predictor" title="wikilink">Smith predictor</a>, internal model control and other) control design methods from the <a href="Control_Engineering" title="wikilink">control engineering</a> arsenal; among them, a simple but efficient <a href="PI_controller" title="wikilink">PI controller</a> was developed and successfully tested in a fairly realistic microscopic simulation environment.</p>
<h2 id="see-also">See also</h2>
<ul>
<li><a href="Three-phase_traffic_theory" title="wikilink">Three-phase traffic theory</a></li>
<li><a href="Traffic_congestion:_Reconstruction_with_Kerner's_three-phase_theory" title="wikilink">Traffic congestion: Reconstruction with Kerner's three-phase theory</a></li>
<li><a href="Kerner’s_breakdown_minimization_principle" title="wikilink">Kerner’s breakdown minimization principle</a></li>
</ul>
<ul>
<li><a href="Traffic_flow" title="wikilink">Traffic flow</a></li>
<li><a href="Traffic_wave" title="wikilink">Traffic wave</a></li>
<li><a href="Traffic_congestion" title="wikilink">Traffic congestion</a></li>
<li><a href="Three-detector_problem_and_Newell's_method" title="wikilink">Three-detector problem and Newell's method</a></li>
</ul>
<h2 id="references">References</h2>

<p>"</p>

<p><a href="Category:Road_transport" title="wikilink">Category:Road transport</a> <a href="Category:Transportation_engineering" title="wikilink">Category:Transportation engineering</a></p>
<section class="footnotes">
<hr/>
<ol>
<li id="fn1">Geroliminis, N; Daganzo, CF. <em>“Existence of urban-scale macroscopic fundamental diagrams: Some experimental findings.”</em> TRANSPORTATION RESEARCH PART B-METHODOLOGICAL; NOV, 2008; 42; 9; p759-p770 <a href="#fnref1">↩</a></li>
<li id="fn2">Keyvan-Ekbatani, M., Kouvelas, A, Papamichail, I. &amp; Papageorgiou, M. <em>“Exploiting the Fundamental Diagram of Urban Networks for Feedback-Based Gating.”</em> TRANSPORTATION RESEARCH PART B-METHODOLOGICAL; DEC, 2012; 46; 10; p1393-p1403 <a href="#fnref2">↩</a></li>
</ol>
</section>
</body>
</html>
