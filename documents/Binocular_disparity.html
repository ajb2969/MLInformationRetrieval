<html lang="en">
<head>
<meta charset="utf-8"/>
<title offset="441">Binocular disparity</title>
<script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_SVG.js" type="text/javascript">
</script>
</head>
<body>
<h1>Binocular disparity</h1>
<hr/>

<p><strong>Binocular disparity</strong> refers to the difference in image location of an object seen by the left and right <a href="human_eye" title="wikilink">eyes</a>, resulting from the eyes’ horizontal separation (<a class="uri" href="parallax" title="wikilink">parallax</a>). The brain uses binocular disparity to extract depth information from the two-dimensional <a href="retinal_image" title="wikilink">retinal images</a> in <a class="uri" href="stereopsis" title="wikilink">stereopsis</a>. In <a href="computer_vision" title="wikilink">computer vision</a>, binocular disparity refers to the difference in coordinates of similar features within two stereo images.</p>

<p>A similar disparity can be used in rangefinding by a <a href="coincidence_rangefinder" title="wikilink">coincidence rangefinder</a> to determine distance and/or altitude to a target. In astronomy, the disparity between different locations on the Earth can be used to determine various celestial <a class="uri" href="parallax" title="wikilink">parallax</a>, and Earth's orbit can be used for <a href="stellar_parallax" title="wikilink">stellar parallax</a>.</p>
<h2 id="definition">Definition</h2>
<figure><b>(Figure)</b>
<figcaption>Figure 1. Definition of binocular disparity (far and near).</figcaption>
</figure>

<p>Human eyes are horizontally separated by about 50–75 mm (<a href="interpupillary_distance" title="wikilink">interpupillary distance</a>) depending on each individual. Thus, each eye has a slightly different view of the world around. This can be easily seen when alternately closing one eye while looking at a vertical edge. The binocular disparity can be observed from apparent horizontal shift of the vertical edge between both views.</p>

<p>At any given moment, the line of sight of the two eyes meet at a point in space. This point in space projects to the same location (i.e. the center) on the retinae of the two eyes. Because of the different viewpoints observed by the left and right eye however, many other points in space do not fall on corresponding retinal locations. Visual binocular disparity is defined as the difference between the point of projection in the two eyes and is usually expressed in degrees as the <a href="visual_angle" title="wikilink">visual angle</a>.<a class="footnoteRef" href="#fn1" id="fnref1"><sup>1</sup></a></p>

<p>The term "binocular disparity" refers to geometric measurements made external to the eye. The disparity of the images on the actual retina depends on factors internal to the eye, especially the location of the nodal points, even if the cross section of the retina is a perfect circle. Disparity on retina conforms to binocular disparity when measured as degrees, while much different if measured as distance due to the complicated structure inside eye.</p>

<p><strong>Figure 1:</strong> The full black circle is the point of fixation. The blue object lies nearer to the observer. Therefore it has a "near" disparity d<sub>n</sub>. Objects lying more far away (green) correspondingly have a "far" disparity d<sub>f</sub>. Binocular disparity is the angle between two lines of projection in one eye(Mathematically,d<sub>n</sub>-d<sub>f</sub>, with sign, measured counterclockwise). One of which is the real projection from the object to the actual point of projection. The other one is the imaginary projection running through the <a href="nodal_point" title="wikilink">nodal point</a> of the lens of the one eye to the point corresponding to the actual point of projection in the other eye. For simplicity reasons here both objects lie on the line of fixation for one eye such that the imaginary projection ends directly on the fovea of the other eye, but in general the fovea acts at most as a reference. Note that far disparities are smaller than near disparities for objects having the same distance from the fixation point.</p>

<p>In computer vision, binocular disparity is calculated from stereo images taken from a set of stereo cameras. The variable distance between these cameras, called the baseline, can affect the disparity of a specific point on their respective image plane. As the baseline increases, the disparity increases due to the greater angle needed to align the sight on the point. However, in computer vision, binocular disparity is referenced as coordinate differences of the point between the right and left images instead of a visual angle. The units are usually measured in pixels.</p>
<h2 id="tricking-neurons-with-2d-images">Tricking neurons with 2D images</h2>
<figure><b>(Figure)</b>
<figcaption>Figure 2. Simulation of disparity from depth in the plane. (relates to Figure 1)</figcaption>
</figure>

<p>Brain cells (<a href="neuron" title="wikilink">neurons</a>) in a part of the brain responsible for processing visual information coming from the retinae (<a href="primary_visual_cortex" title="wikilink">primary visual cortex</a>) can detect the existence of disparity in their input from the eyes. Specifically, these neurons will be active, if an object with "their" special disparity lies within the part of the visual field to which they have access (<a href="receptive_field" title="wikilink">receptive field</a>).<a class="footnoteRef" href="#fn2" id="fnref2"><sup>2</sup></a></p>

<p>Researchers investigating precise properties of these neurons with respect to disparity present visual <a href="Stimulus_(physiology)" title="wikilink">stimuli</a> with different disparities to the cells and look whether they are active or not. One possibility to present stimuli with different disparities is to place objects in varying depth in front of the eyes. However, the drawback to this method may not be precise enough for objects placed further away as they possess smaller disparities while objects closer will have greater disparities. Instead, neuroscientists use an alternate method as schematised in Figure 2.</p>

<p><strong>Figure 2:</strong> The disparity of an object with different depth than the fixation point can alternatively be produced by presenting an image of the object to one eye and a laterally shifted version of the same image to the other eye. The full black circle is the point of fixation. Objects in varying depths are placed along the line of fixation of the left eye. The same disparity produced from a shift in depth of an object (filled coloured circles) can also be produced by laterally shifting the object in constant depth in the picture one eye sees (black circles with coloured margin). Note that for near disparities the lateral shift has to be larger to correspond to the same depth compared with far disparities. This is what neuroscientists usually do with <a href="random_dot_stimuli" title="wikilink">random dot stimuli</a> to study disparity selectivity of neurons since the lateral distance required to test disparities is less than the distances required using depth tests. This principle has also been applied in <a class="uri" href="autostereogram" title="wikilink">autostereogram</a> illusions.</p>
<h2 id="computing-disparity-using-digital-stereo-images">Computing disparity using digital stereo images</h2>

<p>The disparity of features between two stereo images are usually computed as a shift to the left of an image feature when viewed in the right image.<a class="footnoteRef" href="#fn3" id="fnref3"><sup>3</sup></a> For example, a single point that appears at the x coordinate <em>t</em> (measured in <a href="pixel" title="wikilink">pixels</a>) in the left image may be present at the x coordinate <em>t - 3</em> in the right image. In this case, the disparity at that location in the right image would be 3 pixels.</p>

<p>Stereo images may not always be correctly aligned to allow for quick disparity calculation. For example, the set of cameras may be slightly rotated off level. Through a process known as <a href="image_rectification" title="wikilink">image rectification</a>, both images are rotated to allow for disparities in only the horizontal direction (i.e. there is no disparity in the y image coordinates).<a class="footnoteRef" href="#fn4" id="fnref4"><sup>4</sup></a> This is a property that can also be achieved by precise alignment of the stereo cameras before image capture.</p>
<h3 id="computer-algorithm">Computer algorithm</h3>

<p>After rectification, the <a href="correspondence_problem" title="wikilink">correspondence problem</a> can be solved using an algorithm that scans both the left and right images for matching image features. A common approach to this problem is to form a smaller image patch around every pixel in the left image. These image patches are compared to all possible disparities in the right image by comparing their corresponding image patches. For example, for a disparity of 1, the patch in the left image would be compared to a similar-sized patch in the right, shifted to the left by one pixel. The comparison between these two patches can be made by attaining a computational measure from one of the following equations that compares each of the pixels in the patches. For all of the following equations, L and R refer to the left and right columns while r and c refer to the current row and column of either images being examined. "d" refers to the disparity of the right image.</p>
<ul>
<li>Normalized correlation

<math display="block" id="Binocular_disparity:0">
 <semantics>
  <mfrac>
   <mrow>
    <mo largeop="true" symmetric="true">∑</mo>
    <mrow>
     <mo largeop="true" symmetric="true">∑</mo>
     <mrow>
      <mrow>
       <mrow>
        <mi>L</mi>
        <mrow>
         <mo stretchy="false">(</mo>
         <mi>r</mi>
         <mo>,</mo>
         <mi>c</mi>
         <mo stretchy="false">)</mo>
        </mrow>
       </mrow>
       <mo>⋅</mo>
       <mi>R</mi>
      </mrow>
      <mrow>
       <mo stretchy="false">(</mo>
       <mi>r</mi>
       <mo>,</mo>
       <mrow>
        <mi>c</mi>
        <mo>-</mo>
        <mi>d</mi>
       </mrow>
       <mo stretchy="false">)</mo>
      </mrow>
     </mrow>
    </mrow>
   </mrow>
   <msqrt>
    <mrow>
     <mrow>
      <mo stretchy="false">(</mo>
      <mrow>
       <mo largeop="true" symmetric="true">∑</mo>
       <mrow>
        <mo largeop="true" symmetric="true">∑</mo>
        <mrow>
         <mi>L</mi>
         <msup>
          <mrow>
           <mo stretchy="false">(</mo>
           <mi>r</mi>
           <mo>,</mo>
           <mi>c</mi>
           <mo stretchy="false">)</mo>
          </mrow>
          <mn>2</mn>
         </msup>
        </mrow>
       </mrow>
      </mrow>
      <mo stretchy="false">)</mo>
     </mrow>
     <mo>⋅</mo>
     <mrow>
      <mo stretchy="false">(</mo>
      <mrow>
       <mo largeop="true" symmetric="true">∑</mo>
       <mrow>
        <mo largeop="true" symmetric="true">∑</mo>
        <mrow>
         <mi>R</mi>
         <msup>
          <mrow>
           <mo stretchy="false">(</mo>
           <mi>r</mi>
           <mo>,</mo>
           <mrow>
            <mi>c</mi>
            <mo>-</mo>
            <mi>d</mi>
           </mrow>
           <mo stretchy="false">)</mo>
          </mrow>
          <mn>2</mn>
         </msup>
        </mrow>
       </mrow>
      </mrow>
      <mo stretchy="false">)</mo>
     </mrow>
    </mrow>
   </msqrt>
  </mfrac>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <divide></divide>
    <apply>
     <sum></sum>
     <apply>
      <sum></sum>
      <apply>
       <times></times>
       <apply>
        <ci>normal-⋅</ci>
        <apply>
         <times></times>
         <ci>L</ci>
         <interval closure="open">
          <ci>r</ci>
          <ci>c</ci>
         </interval>
        </apply>
        <ci>R</ci>
       </apply>
       <interval closure="open">
        <ci>r</ci>
        <apply>
         <minus></minus>
         <ci>c</ci>
         <ci>d</ci>
        </apply>
       </interval>
      </apply>
     </apply>
    </apply>
    <apply>
     <root></root>
     <apply>
      <ci>normal-⋅</ci>
      <apply>
       <sum></sum>
       <apply>
        <sum></sum>
        <apply>
         <times></times>
         <ci>L</ci>
         <apply>
          <csymbol cd="ambiguous">superscript</csymbol>
          <interval closure="open">
           <ci>r</ci>
           <ci>c</ci>
          </interval>
          <cn type="integer">2</cn>
         </apply>
        </apply>
       </apply>
      </apply>
      <apply>
       <sum></sum>
       <apply>
        <sum></sum>
        <apply>
         <times></times>
         <ci>R</ci>
         <apply>
          <csymbol cd="ambiguous">superscript</csymbol>
          <interval closure="open">
           <ci>r</ci>
           <apply>
            <minus></minus>
            <ci>c</ci>
            <ci>d</ci>
           </apply>
          </interval>
          <cn type="integer">2</cn>
         </apply>
        </apply>
       </apply>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \frac{\sum{\sum{L(r,c)\cdot R(r,c-d)}}}{\sqrt{(\sum{\sum{L(r,c)^{2}}})\cdot(%
\sum{\sum{R(r,c-d)^{2}}})}}
  </annotation>
 </semantics>
</math>

</li>
</ul>
<ul>
<li>Sum of squared differences

<math display="block" id="Binocular_disparity:1">
 <semantics>
  <mrow>
   <mo largeop="true" movablelimits="false" symmetric="true">∑</mo>
   <mrow>
    <mo largeop="true" movablelimits="false" symmetric="true">∑</mo>
    <msup>
     <mrow>
      <mo stretchy="false">(</mo>
      <mrow>
       <mrow>
        <mi>L</mi>
        <mrow>
         <mo stretchy="false">(</mo>
         <mi>r</mi>
         <mo>,</mo>
         <mi>c</mi>
         <mo stretchy="false">)</mo>
        </mrow>
       </mrow>
       <mo>-</mo>
       <mrow>
        <mi>R</mi>
        <mrow>
         <mo stretchy="false">(</mo>
         <mi>r</mi>
         <mo>,</mo>
         <mrow>
          <mi>c</mi>
          <mo>-</mo>
          <mi>d</mi>
         </mrow>
         <mo stretchy="false">)</mo>
        </mrow>
       </mrow>
      </mrow>
      <mo stretchy="false">)</mo>
     </mrow>
     <mn>2</mn>
    </msup>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <sum></sum>
    <apply>
     <sum></sum>
     <apply>
      <csymbol cd="ambiguous">superscript</csymbol>
      <apply>
       <minus></minus>
       <apply>
        <times></times>
        <ci>L</ci>
        <interval closure="open">
         <ci>r</ci>
         <ci>c</ci>
        </interval>
       </apply>
       <apply>
        <times></times>
        <ci>R</ci>
        <interval closure="open">
         <ci>r</ci>
         <apply>
          <minus></minus>
          <ci>c</ci>
          <ci>d</ci>
         </apply>
        </interval>
       </apply>
      </apply>
      <cn type="integer">2</cn>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \sum{\sum{(L(r,c)-R(r,c-d))^{2}}}
  </annotation>
 </semantics>
</math>

</li>
</ul>
<ul>
<li>Sum of absolute differences

<math display="block" id="Binocular_disparity:2">
 <semantics>
  <mrow>
   <mo largeop="true" movablelimits="false" symmetric="true">∑</mo>
   <mrow>
    <mo largeop="true" movablelimits="false" symmetric="true">∑</mo>
    <mrow>
     <mo>|</mo>
     <mrow>
      <mrow>
       <mi>L</mi>
       <mrow>
        <mo stretchy="false">(</mo>
        <mi>r</mi>
        <mo>,</mo>
        <mi>c</mi>
        <mo stretchy="false">)</mo>
       </mrow>
      </mrow>
      <mo>-</mo>
      <mrow>
       <mi>R</mi>
       <mrow>
        <mo stretchy="false">(</mo>
        <mi>r</mi>
        <mo>,</mo>
        <mrow>
         <mi>c</mi>
         <mo>-</mo>
         <mi>d</mi>
        </mrow>
        <mo stretchy="false">)</mo>
       </mrow>
      </mrow>
     </mrow>
     <mo>|</mo>
    </mrow>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <sum></sum>
    <apply>
     <sum></sum>
     <apply>
      <abs></abs>
      <apply>
       <minus></minus>
       <apply>
        <times></times>
        <ci>L</ci>
        <interval closure="open">
         <ci>r</ci>
         <ci>c</ci>
        </interval>
       </apply>
       <apply>
        <times></times>
        <ci>R</ci>
        <interval closure="open">
         <ci>r</ci>
         <apply>
          <minus></minus>
          <ci>c</ci>
          <ci>d</ci>
         </apply>
        </interval>
       </apply>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \sum{\sum{\left|L(r,c)-R(r,c-d)\right|}}
  </annotation>
 </semantics>
</math>

</li>
</ul>

<p>The disparity with the lowest computed value using one of the above methods is considered the disparity for the image feature. This lowest score indicates that the algorithm has found the best match of corresponding features in both images.</p>

<p>The method described above is a <a href="brute-force_search" title="wikilink">brute-force search</a> algorithm. With large patch and/or image sizes, this technique can be very time consuming as pixels are constantly being re-examined to find the lowest correlation score. However, this technique also involves unnecessary repetition as many pixels overlap. A more efficient algorithm involves remembering all values from the previous pixel. An even more efficient algorithm involves remembering column sums from the previous row (in addition to remembering all values from the previous pixel). Techniques that save previous information can greatly increase the <a href="algorithmic_efficiency" title="wikilink">algorithmic efficiency</a> of this image analyzing process.</p>
<h2 id="uses-of-disparity-from-images">Uses of disparity from images</h2>

<p>Knowledge of disparity can be used in further extraction of information from stereo images. One case that disparity is most useful is for depth/distance calculation. Disparity and distance from the cameras are inversely related. As the distance from the cameras increases, the disparity decreases. This allows for depth perception in stereo images. Using geometry and algebra, the points that appear in the 2D stereo images can be mapped as coordinates in 3D space.</p>

<p>This concept is particularly useful for navigation. For example, the <a href="Mars_Exploration_Rover" title="wikilink">Mars Exploration Rover</a> uses a similar method for scanning the terrain for obstacles.<a class="footnoteRef" href="#fn5" id="fnref5"><sup>5</sup></a> The rover captures a pair of images with its stereoscopic navigation cameras and disparity calculations are performed in order to detect elevated objects (such as boulders).<a class="footnoteRef" href="#fn6" id="fnref6"><sup>6</sup></a> Additionally, location and speed data can be extracted from subsequent stereo images by measuring the displacement of objects relative to the rover. In some cases, this is the best source of this type of information as the encoder sensors in the wheels may be inaccurate due to tire slippage.</p>
<h2 id="in-popular-culture">In popular culture</h2>

<p>Binocular disparity forms the premise for a sketch from the film <em><a href="Wayne's_World_(film)" title="wikilink">Wayne's World</a></em> in which Wayne, who is lying in bed as <a href="Tia_Carrere" title="wikilink">Tia Carrere</a>'s character, Cassandra, perches above him, compares the respective images from his left and right eyes while noting which is which by saying "Camera 1 ... Camera 2 ... Camera 1 ... Camera 2."</p>
<h2 id="see-also">See also</h2>
<ul>
<li><a href="Binocular_summation" title="wikilink">Binocular summation</a></li>
<li><a href="Binocular_vision" title="wikilink">Binocular vision</a></li>
<li><a class="uri" href="Cyclodisparity" title="wikilink">Cyclodisparity</a></li>
<li><a href="Epipolar_geometry" title="wikilink">Epipolar geometry</a></li>
</ul>
<h2 id="references">References</h2>
<references>
</references>

<p><a class="uri" href="lb:Parallax" title="wikilink">lb:Parallax</a> <a class="uri" href="ja:両眼視差" title="wikilink">ja:両眼視差</a>"</p>

<p><a class="uri" href="Category:Vision" title="wikilink">Category:Vision</a> <a href="Category:Computer_vision" title="wikilink">Category:Computer vision</a> <a class="uri" href="Category:Parallax" title="wikilink">Category:Parallax</a></p>
<section class="footnotes">
<hr/>
<ol>
<li id="fn1">Qian, N., Binocular Disparity and the Perception of Depth, Neuron, 18, 359-368, 1997.<a href="#fnref1">↩</a></li>
<li id="fn2">Gonzalez, F. and Perez, R., Neural mechanisms underlying stereoscopic vision, Prog Neurobiol, 55(3), 191-224, 1998.<a href="#fnref2">↩</a></li>
<li id="fn3">Linda G. Shapiro and George C. Stockman (2001). Computer Vision. Prentice Hall, 371-409. ISBN 0-13-030796-3.<a href="#fnref3">↩</a></li>
<li id="fn4"></li>
<li id="fn5">"The Computer Vision Laboratory ." JPL.NASA.GOV. JPL/NASA, n.d. Web. 5 Jun 2011. <https: facilities="" facilityimage.cfm?facility="13&amp;Image=335" www-robotics.jpl.nasa.gov="">.<a href="#fnref5">↩</a></https:></li>
<li id="fn6">"Spacecraft: Surface Operations: Rover ." JPL.NASA.GOV. JPL/NASA, n.d. Web. 5 Jun 2011. <a class="uri" href="http://marsrovers.jpl.nasa.gov/mission/spacecraft_rover_eyes.html">http://marsrovers.jpl.nasa.gov/mission/spacecraft_rover_eyes.html</a>.<a href="#fnref6">↩</a></li>
</ol>
</section>
</body>
</html>
