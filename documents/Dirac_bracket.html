<html lang="en">
<head>
<meta charset="utf-8"/>
<title offset="355">Dirac bracket</title>
<script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_SVG.js" type="text/javascript">
</script>
</head>
<body>
<h1>Dirac bracket</h1>
<hr>The '''Dirac bracket''' is a generalization of the [[Poisson bracket]] developed by [[Paul Dirac]]<ref>{{cite doi|10.4153/CJM-1950-012-1|noedit}}</ref> to treat classical systems with [[second class c
<p>onstraints]] in <a href="Hamiltonian_mechanics" title="wikilink">Hamiltonian mechanics</a>, and to thus allow them to undergo <a href="canonical_quantization" title="wikilink">canonical quantization</a>. It is an important part of Dirac's development of <a href="Hamiltonian_mechanics" title="wikilink">Hamiltonian mechanics</a> to elegantly handle more general <a href="Lagrangian_mechanics" title="wikilink">Lagrangians</a>, when constraints and thus more apparent than dynamical variables are at hand.<a class="footnoteRef" href="#fn1" id="fnref1"><sup>1</sup></a> More abstractly, the two-form implied from the Dirac bracket is <strong>the restriction of the <a href="Symplectic_manifold" title="wikilink">symplectic form</a> to the constraint surface in <a href="phase_space" title="wikilink">phase space</a></strong>.<a class="footnoteRef" href="#fn2" id="fnref2"><sup>2</sup></a></p>

<p>This article assumes familiarity with the standard <a href="Lagrangian_mechanics" title="wikilink">Lagrangian</a> and <a href="Hamiltonian_Mechanics" title="wikilink">Hamiltonian</a> formalisms, and their connection to <a href="canonical_quantization" title="wikilink">canonical quantization</a>. Details of Dirac's modified Hamiltonian formalism are also summarized to put the Dirac bracket in context.</p>
<h2 id="inadequacy-of-the-standard-hamiltonian-procedure">Inadequacy of the standard Hamiltonian procedure</h2>

<p>The standard development of Hamiltonian mechanics is inadequate in several specific situations:</p>
<ol>
<li>When the Lagrangian is at most linear in the velocity of at least one coordinate; in which case, the definition of the <a href="Canonical_coordinate" title="wikilink">canonical momentum</a> leads to a <em>constraint</em>. This is the most frequent reason to resort to Dirac brackets. For instance, the Lagrangian (density) for any <a class="uri" href="fermion" title="wikilink">fermion</a> is of this form.</li>
<li>When there are <a href="Gauge_fixing" title="wikilink">gauge</a> (or other unphysical) degrees of freedom which need to be fixed.</li>
<li>When there are any other constraints that one wishes to impose in phase space.</li>
</ol>
<h3 id="example-of-a-lagrangian-linear-in-velocity">Example of a Lagrangian linear in velocity</h3>

<p>An example in <a href="classical_mechanics" title="wikilink">classical mechanics</a> is a particle with charge 

<math display="inline" id="Dirac_bracket:0">
 <semantics>
  <mi>q</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>q</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   q
  </annotation>
 </semantics>
</math>

 and mass 

<math display="inline" id="Dirac_bracket:1">
 <semantics>
  <mi>m</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>m</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   m
  </annotation>
 </semantics>
</math>

 confined to the 

<math display="inline" id="Dirac_bracket:2">
 <semantics>
  <mi>x</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>x</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   x
  </annotation>
 </semantics>
</math>

 - 

<math display="inline" id="Dirac_bracket:3">
 <semantics>
  <mi>y</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>y</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   y
  </annotation>
 </semantics>
</math>

 plane with a strong constant, homogeneous perpendicular magnetic field, so then pointing in the 

<math display="inline" id="Dirac_bracket:4">
 <semantics>
  <mi>z</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>z</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   z
  </annotation>
 </semantics>
</math>

-direction with strength 

<math display="inline" id="Dirac_bracket:5">
 <semantics>
  <mi>B</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>B</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   B
  </annotation>
 </semantics>
</math>

.<a class="footnoteRef" href="#fn3" id="fnref3"><sup>3</sup></a></p>

<p>The Lagrangian for this system with an appropriate choice of parameters is</p>

<p>

<math display="block" id="Dirac_bracket:6">
 <semantics>
  <mrow>
   <mrow>
    <mi>L</mi>
    <mo>=</mo>
    <mrow>
     <mrow>
      <mrow>
       <mstyle displaystyle="false">
        <mfrac>
         <mn>1</mn>
         <mn>2</mn>
        </mfrac>
       </mstyle>
       <mi>m</mi>
       <msup>
        <mover accent="true">
         <mi>v</mi>
         <mo stretchy="false">→</mo>
        </mover>
        <mn>2</mn>
       </msup>
      </mrow>
      <mo>+</mo>
      <mrow>
       <mrow>
        <mfrac>
         <mi>q</mi>
         <mi>c</mi>
        </mfrac>
        <mover accent="true">
         <mi>A</mi>
         <mo stretchy="false">→</mo>
        </mover>
       </mrow>
       <mo>⋅</mo>
       <mover accent="true">
        <mi>v</mi>
        <mo stretchy="false">→</mo>
       </mover>
      </mrow>
     </mrow>
     <mo>-</mo>
     <mrow>
      <mi>V</mi>
      <mrow>
       <mo stretchy="false">(</mo>
       <mover accent="true">
        <mi>r</mi>
        <mo stretchy="false">→</mo>
       </mover>
       <mo stretchy="false">)</mo>
      </mrow>
     </mrow>
    </mrow>
   </mrow>
   <mo>,</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <ci>L</ci>
    <apply>
     <minus></minus>
     <apply>
      <plus></plus>
      <apply>
       <times></times>
       <apply>
        <divide></divide>
        <cn type="integer">1</cn>
        <cn type="integer">2</cn>
       </apply>
       <ci>m</ci>
       <apply>
        <csymbol cd="ambiguous">superscript</csymbol>
        <apply>
         <ci>normal-→</ci>
         <ci>v</ci>
        </apply>
        <cn type="integer">2</cn>
       </apply>
      </apply>
      <apply>
       <ci>normal-⋅</ci>
       <apply>
        <times></times>
        <apply>
         <divide></divide>
         <ci>q</ci>
         <ci>c</ci>
        </apply>
        <apply>
         <ci>normal-→</ci>
         <ci>A</ci>
        </apply>
       </apply>
       <apply>
        <ci>normal-→</ci>
        <ci>v</ci>
       </apply>
      </apply>
     </apply>
     <apply>
      <times></times>
      <ci>V</ci>
      <apply>
       <ci>normal-→</ci>
       <ci>r</ci>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   L=\tfrac{1}{2}m\vec{v}^{2}+\frac{q}{c}\vec{A}\cdot\vec{v}-V(\vec{r}),
  </annotation>
 </semantics>
</math>

 where  is the <a href="vector_potential" title="wikilink">vector potential</a> for the magnetic field, ; 

<math display="inline" id="Dirac_bracket:7">
 <semantics>
  <mi>c</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>c</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   c
  </annotation>
 </semantics>
</math>

 is the speed of light in vacuum; and 

<math display="inline" id="Dirac_bracket:8">
 <semantics>
  <mi>V</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>V</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   V
  </annotation>
 </semantics>
</math>

() is an arbitrary external scalar potential; one could easily take it to be quadratic in 

<math display="inline" id="Dirac_bracket:9">
 <semantics>
  <mi>x</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>x</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   x
  </annotation>
 </semantics>
</math>

 and 

<math display="inline" id="Dirac_bracket:10">
 <semantics>
  <mi>y</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>y</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   y
  </annotation>
 </semantics>
</math>

, without loss of generality. We use</p>

<p>

<math display="block" id="Dirac_bracket:11">
 <semantics>
  <mrow>
   <mover accent="true">
    <mi>A</mi>
    <mo stretchy="false">→</mo>
   </mover>
   <mo>=</mo>
   <mrow>
    <mfrac>
     <mi>B</mi>
     <mn>2</mn>
    </mfrac>
    <mrow>
     <mo stretchy="false">(</mo>
     <mrow>
      <mrow>
       <mi>x</mi>
       <mover accent="true">
        <mi>y</mi>
        <mo stretchy="false">^</mo>
       </mover>
      </mrow>
      <mo>-</mo>
      <mrow>
       <mi>y</mi>
       <mover accent="true">
        <mi>x</mi>
        <mo stretchy="false">^</mo>
       </mover>
      </mrow>
     </mrow>
     <mo stretchy="false">)</mo>
    </mrow>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <ci>normal-→</ci>
     <ci>A</ci>
    </apply>
    <apply>
     <times></times>
     <apply>
      <divide></divide>
      <ci>B</ci>
      <cn type="integer">2</cn>
     </apply>
     <apply>
      <minus></minus>
      <apply>
       <times></times>
       <ci>x</ci>
       <apply>
        <ci>normal-^</ci>
        <ci>y</ci>
       </apply>
      </apply>
      <apply>
       <times></times>
       <ci>y</ci>
       <apply>
        <ci>normal-^</ci>
        <ci>x</ci>
       </apply>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \vec{A}=\frac{B}{2}(x\hat{y}-y\hat{x})
  </annotation>
 </semantics>
</math>

 as our vector potential. Here, the hats indicate unit vectors. Later in the article, however, they are used to distinguish quantum mechanical operators from their classical analogs. The usage should be clear from the context.</p>

<p>Explicitly, the <a href="Lagrangian_mechanics" title="wikilink">Lagrangian</a> amounts to just</p>

<p>

<math display="block" id="Dirac_bracket:12">
 <semantics>
  <mrow>
   <mrow>
    <mi>L</mi>
    <mo>=</mo>
    <mrow>
     <mrow>
      <mrow>
       <mfrac>
        <mi>m</mi>
        <mn>2</mn>
       </mfrac>
       <mrow>
        <mo stretchy="false">(</mo>
        <mrow>
         <msup>
          <mover accent="true">
           <mi>x</mi>
           <mo>˙</mo>
          </mover>
          <mn>2</mn>
         </msup>
         <mo>+</mo>
         <msup>
          <mover accent="true">
           <mi>y</mi>
           <mo>˙</mo>
          </mover>
          <mn>2</mn>
         </msup>
        </mrow>
        <mo stretchy="false">)</mo>
       </mrow>
      </mrow>
      <mo>+</mo>
      <mrow>
       <mfrac>
        <mrow>
         <mi>q</mi>
         <mi>B</mi>
        </mrow>
        <mrow>
         <mn>2</mn>
         <mi>c</mi>
        </mrow>
       </mfrac>
       <mrow>
        <mo stretchy="false">(</mo>
        <mrow>
         <mrow>
          <mi>x</mi>
          <mover accent="true">
           <mi>y</mi>
           <mo>˙</mo>
          </mover>
         </mrow>
         <mo>-</mo>
         <mrow>
          <mi>y</mi>
          <mover accent="true">
           <mi>x</mi>
           <mo>˙</mo>
          </mover>
         </mrow>
        </mrow>
        <mo stretchy="false">)</mo>
       </mrow>
      </mrow>
     </mrow>
     <mo>-</mo>
     <mrow>
      <mi>V</mi>
      <mrow>
       <mo stretchy="false">(</mo>
       <mi>x</mi>
       <mo>,</mo>
       <mi>y</mi>
       <mo rspace="5.8pt" stretchy="false">)</mo>
      </mrow>
     </mrow>
    </mrow>
   </mrow>
   <mo>,</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <ci>L</ci>
    <apply>
     <minus></minus>
     <apply>
      <plus></plus>
      <apply>
       <times></times>
       <apply>
        <divide></divide>
        <ci>m</ci>
        <cn type="integer">2</cn>
       </apply>
       <apply>
        <plus></plus>
        <apply>
         <csymbol cd="ambiguous">superscript</csymbol>
         <apply>
          <ci>normal-˙</ci>
          <ci>x</ci>
         </apply>
         <cn type="integer">2</cn>
        </apply>
        <apply>
         <csymbol cd="ambiguous">superscript</csymbol>
         <apply>
          <ci>normal-˙</ci>
          <ci>y</ci>
         </apply>
         <cn type="integer">2</cn>
        </apply>
       </apply>
      </apply>
      <apply>
       <times></times>
       <apply>
        <divide></divide>
        <apply>
         <times></times>
         <ci>q</ci>
         <ci>B</ci>
        </apply>
        <apply>
         <times></times>
         <cn type="integer">2</cn>
         <ci>c</ci>
        </apply>
       </apply>
       <apply>
        <minus></minus>
        <apply>
         <times></times>
         <ci>x</ci>
         <apply>
          <ci>normal-˙</ci>
          <ci>y</ci>
         </apply>
        </apply>
        <apply>
         <times></times>
         <ci>y</ci>
         <apply>
          <ci>normal-˙</ci>
          <ci>x</ci>
         </apply>
        </apply>
       </apply>
      </apply>
     </apply>
     <apply>
      <times></times>
      <ci>V</ci>
      <interval closure="open">
       <ci>x</ci>
       <ci>y</ci>
      </interval>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   L=\frac{m}{2}(\dot{x}^{2}+\dot{y}^{2})+\frac{qB}{2c}(x\dot{y}-y\dot{x})-V(x,y)%
~{},
  </annotation>
 </semantics>
</math>

 which leads to the equations of motion</p>

<p>

<math display="block" id="Dirac_bracket:13">
 <semantics>
  <mrow>
   <mrow>
    <mi>m</mi>
    <mover accent="true">
     <mi>x</mi>
     <mo>¨</mo>
    </mover>
   </mrow>
   <mo>=</mo>
   <mrow>
    <mrow>
     <mo>-</mo>
     <mfrac>
      <mrow>
       <mo>∂</mo>
       <mi>V</mi>
      </mrow>
      <mrow>
       <mo>∂</mo>
       <mi>x</mi>
      </mrow>
     </mfrac>
    </mrow>
    <mo>+</mo>
    <mrow>
     <mfrac>
      <mrow>
       <mi>q</mi>
       <mi>B</mi>
      </mrow>
      <mi>c</mi>
     </mfrac>
     <mover accent="true">
      <mi>y</mi>
      <mo>˙</mo>
     </mover>
    </mrow>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <times></times>
     <ci>m</ci>
     <apply>
      <ci>normal-¨</ci>
      <ci>x</ci>
     </apply>
    </apply>
    <apply>
     <plus></plus>
     <apply>
      <minus></minus>
      <apply>
       <divide></divide>
       <apply>
        <partialdiff></partialdiff>
        <ci>V</ci>
       </apply>
       <apply>
        <partialdiff></partialdiff>
        <ci>x</ci>
       </apply>
      </apply>
     </apply>
     <apply>
      <times></times>
      <apply>
       <divide></divide>
       <apply>
        <times></times>
        <ci>q</ci>
        <ci>B</ci>
       </apply>
       <ci>c</ci>
      </apply>
      <apply>
       <ci>normal-˙</ci>
       <ci>y</ci>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   m\ddot{x}=-\frac{\partial V}{\partial x}+\frac{qB}{c}\dot{y}
  </annotation>
 </semantics>
</math>

</p>

<p>

<math display="block" id="Dirac_bracket:14">
 <semantics>
  <mrow>
   <mrow>
    <mrow>
     <mi>m</mi>
     <mover accent="true">
      <mi>y</mi>
      <mo>¨</mo>
     </mover>
    </mrow>
    <mo>=</mo>
    <mrow>
     <mrow>
      <mo>-</mo>
      <mfrac>
       <mrow>
        <mo>∂</mo>
        <mi>V</mi>
       </mrow>
       <mrow>
        <mo>∂</mo>
        <mi>y</mi>
       </mrow>
      </mfrac>
     </mrow>
     <mo>-</mo>
     <mrow>
      <mfrac>
       <mrow>
        <mi>q</mi>
        <mi>B</mi>
       </mrow>
       <mi>c</mi>
      </mfrac>
      <mover accent="true">
       <mi>x</mi>
       <mo>˙</mo>
      </mover>
     </mrow>
    </mrow>
   </mrow>
   <mo>.</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <times></times>
     <ci>m</ci>
     <apply>
      <ci>normal-¨</ci>
      <ci>y</ci>
     </apply>
    </apply>
    <apply>
     <minus></minus>
     <apply>
      <minus></minus>
      <apply>
       <divide></divide>
       <apply>
        <partialdiff></partialdiff>
        <ci>V</ci>
       </apply>
       <apply>
        <partialdiff></partialdiff>
        <ci>y</ci>
       </apply>
      </apply>
     </apply>
     <apply>
      <times></times>
      <apply>
       <divide></divide>
       <apply>
        <times></times>
        <ci>q</ci>
        <ci>B</ci>
       </apply>
       <ci>c</ci>
      </apply>
      <apply>
       <ci>normal-˙</ci>
       <ci>x</ci>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   m\ddot{y}=-\frac{\partial V}{\partial y}-\frac{qB}{c}\dot{x}.
  </annotation>
 </semantics>
</math>

 For a harmonic potential, the gradient of <em>V</em> amounts to just the coordinates, −(<em>x</em>,<em>y</em>).</p>

<p>Now, in the limit of a very large magnetic field, <em>qB</em>/<em>mc</em> ≫ 1. One may then drop the kinetic term to produce a simple approximate Lagrangian,</p>

<p>

<math display="block" id="Dirac_bracket:15">
 <semantics>
  <mrow>
   <mrow>
    <mi>L</mi>
    <mo>=</mo>
    <mrow>
     <mrow>
      <mfrac>
       <mrow>
        <mi>q</mi>
        <mi>B</mi>
       </mrow>
       <mrow>
        <mn>2</mn>
        <mi>c</mi>
       </mrow>
      </mfrac>
      <mrow>
       <mo stretchy="false">(</mo>
       <mrow>
        <mrow>
         <mi>x</mi>
         <mover accent="true">
          <mi>y</mi>
          <mo>˙</mo>
         </mover>
        </mrow>
        <mo>-</mo>
        <mrow>
         <mi>y</mi>
         <mover accent="true">
          <mi>x</mi>
          <mo>˙</mo>
         </mover>
        </mrow>
       </mrow>
       <mo stretchy="false">)</mo>
      </mrow>
     </mrow>
     <mo>-</mo>
     <mrow>
      <mi>V</mi>
      <mrow>
       <mo stretchy="false">(</mo>
       <mi>x</mi>
       <mo>,</mo>
       <mi>y</mi>
       <mo rspace="5.8pt" stretchy="false">)</mo>
      </mrow>
     </mrow>
    </mrow>
   </mrow>
   <mo>,</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <ci>L</ci>
    <apply>
     <minus></minus>
     <apply>
      <times></times>
      <apply>
       <divide></divide>
       <apply>
        <times></times>
        <ci>q</ci>
        <ci>B</ci>
       </apply>
       <apply>
        <times></times>
        <cn type="integer">2</cn>
        <ci>c</ci>
       </apply>
      </apply>
      <apply>
       <minus></minus>
       <apply>
        <times></times>
        <ci>x</ci>
        <apply>
         <ci>normal-˙</ci>
         <ci>y</ci>
        </apply>
       </apply>
       <apply>
        <times></times>
        <ci>y</ci>
        <apply>
         <ci>normal-˙</ci>
         <ci>x</ci>
        </apply>
       </apply>
      </apply>
     </apply>
     <apply>
      <times></times>
      <ci>V</ci>
      <interval closure="open">
       <ci>x</ci>
       <ci>y</ci>
      </interval>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   L=\frac{qB}{2c}(x\dot{y}-y\dot{x})-V(x,y)~{},
  </annotation>
 </semantics>
</math>

 with first-order equations of motion</p>

<p>

<math display="block" id="Dirac_bracket:16">
 <semantics>
  <mrow>
   <mover accent="true">
    <mi>y</mi>
    <mo>˙</mo>
   </mover>
   <mo>=</mo>
   <mrow>
    <mfrac>
     <mi>c</mi>
     <mrow>
      <mi>q</mi>
      <mi>B</mi>
     </mrow>
    </mfrac>
    <mfrac>
     <mrow>
      <mo>∂</mo>
      <mi>V</mi>
     </mrow>
     <mrow>
      <mo>∂</mo>
      <mi>x</mi>
     </mrow>
    </mfrac>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <ci>normal-˙</ci>
     <ci>y</ci>
    </apply>
    <apply>
     <times></times>
     <apply>
      <divide></divide>
      <ci>c</ci>
      <apply>
       <times></times>
       <ci>q</ci>
       <ci>B</ci>
      </apply>
     </apply>
     <apply>
      <divide></divide>
      <apply>
       <partialdiff></partialdiff>
       <ci>V</ci>
      </apply>
      <apply>
       <partialdiff></partialdiff>
       <ci>x</ci>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \dot{y}=\frac{c}{qB}\frac{\partial V}{\partial x}
  </annotation>
 </semantics>
</math>

</p>

<p>

<math display="block" id="Dirac_bracket:17">
 <semantics>
  <mrow>
   <mrow>
    <mover accent="true">
     <mi>x</mi>
     <mo>˙</mo>
    </mover>
    <mo>=</mo>
    <mrow>
     <mo>-</mo>
     <mrow>
      <mfrac>
       <mi>c</mi>
       <mrow>
        <mi>q</mi>
        <mi>B</mi>
       </mrow>
      </mfrac>
      <mpadded width="+3.3pt">
       <mfrac>
        <mrow>
         <mo>∂</mo>
         <mi>V</mi>
        </mrow>
        <mrow>
         <mo>∂</mo>
         <mi>y</mi>
        </mrow>
       </mfrac>
      </mpadded>
     </mrow>
    </mrow>
   </mrow>
   <mo>.</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <ci>normal-˙</ci>
     <ci>x</ci>
    </apply>
    <apply>
     <minus></minus>
     <apply>
      <times></times>
      <apply>
       <divide></divide>
       <ci>c</ci>
       <apply>
        <times></times>
        <ci>q</ci>
        <ci>B</ci>
       </apply>
      </apply>
      <apply>
       <divide></divide>
       <apply>
        <partialdiff></partialdiff>
        <ci>V</ci>
       </apply>
       <apply>
        <partialdiff></partialdiff>
        <ci>y</ci>
       </apply>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \dot{x}=-\frac{c}{qB}\frac{\partial V}{\partial y}~{}.
  </annotation>
 </semantics>
</math>

 Note that this approximate Lagrangian is <em>linear in the velocities</em>, which is one of the conditions under which the standard Hamiltonian procedure breaks down. While this example has been motivated as an approximation, the Lagrangian under consideration is legitimate and leads to consistent equations of motion in the Lagrangian formalism.</p>

<p>Following the Hamiltonian procedure, however, the canonical momenta associated with the coordinates are now</p>

<p>

<math display="block" id="Dirac_bracket:18">
 <semantics>
  <mrow>
   <msub>
    <mi>p</mi>
    <mi>x</mi>
   </msub>
   <mo>=</mo>
   <mfrac>
    <mrow>
     <mo>∂</mo>
     <mi>L</mi>
    </mrow>
    <mrow>
     <mo>∂</mo>
     <mover accent="true">
      <mi>x</mi>
      <mo>˙</mo>
     </mover>
    </mrow>
   </mfrac>
   <mo>=</mo>
   <mrow>
    <mo>-</mo>
    <mrow>
     <mfrac>
      <mrow>
       <mi>q</mi>
       <mi>B</mi>
      </mrow>
      <mrow>
       <mn>2</mn>
       <mi>c</mi>
      </mrow>
     </mfrac>
     <mi>y</mi>
    </mrow>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <and></and>
    <apply>
     <eq></eq>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <ci>p</ci>
      <ci>x</ci>
     </apply>
     <apply>
      <divide></divide>
      <apply>
       <partialdiff></partialdiff>
       <ci>L</ci>
      </apply>
      <apply>
       <partialdiff></partialdiff>
       <apply>
        <ci>normal-˙</ci>
        <ci>x</ci>
       </apply>
      </apply>
     </apply>
    </apply>
    <apply>
     <eq></eq>
     <share href="#.cmml">
     </share>
     <apply>
      <minus></minus>
      <apply>
       <times></times>
       <apply>
        <divide></divide>
        <apply>
         <times></times>
         <ci>q</ci>
         <ci>B</ci>
        </apply>
        <apply>
         <times></times>
         <cn type="integer">2</cn>
         <ci>c</ci>
        </apply>
       </apply>
       <ci>y</ci>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   p_{x}=\frac{\partial L}{\partial\dot{x}}=-\frac{qB}{2c}y
  </annotation>
 </semantics>
</math>

</p>

<p>

<math display="block" id="Dirac_bracket:19">
 <semantics>
  <mrow>
   <mrow>
    <msub>
     <mi>p</mi>
     <mi>y</mi>
    </msub>
    <mo>=</mo>
    <mfrac>
     <mrow>
      <mo>∂</mo>
      <mi>L</mi>
     </mrow>
     <mrow>
      <mo>∂</mo>
      <mover accent="true">
       <mi>y</mi>
       <mo>˙</mo>
      </mover>
     </mrow>
    </mfrac>
    <mo>=</mo>
    <mrow>
     <mfrac>
      <mrow>
       <mi>q</mi>
       <mi>B</mi>
      </mrow>
      <mrow>
       <mn>2</mn>
       <mi>c</mi>
      </mrow>
     </mfrac>
     <mpadded width="+3.3pt">
      <mi>x</mi>
     </mpadded>
    </mrow>
   </mrow>
   <mo>,</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <and></and>
    <apply>
     <eq></eq>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <ci>p</ci>
      <ci>y</ci>
     </apply>
     <apply>
      <divide></divide>
      <apply>
       <partialdiff></partialdiff>
       <ci>L</ci>
      </apply>
      <apply>
       <partialdiff></partialdiff>
       <apply>
        <ci>normal-˙</ci>
        <ci>y</ci>
       </apply>
      </apply>
     </apply>
    </apply>
    <apply>
     <eq></eq>
     <share href="#.cmml">
     </share>
     <apply>
      <times></times>
      <apply>
       <divide></divide>
       <apply>
        <times></times>
        <ci>q</ci>
        <ci>B</ci>
       </apply>
       <apply>
        <times></times>
        <cn type="integer">2</cn>
        <ci>c</ci>
       </apply>
      </apply>
      <ci>x</ci>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   p_{y}=\frac{\partial L}{\partial\dot{y}}=\frac{qB}{2c}x~{},
  </annotation>
 </semantics>
</math>

 which are unusual in that they are not invertible to the velocities; instead, they are constrained to be functions of the coordinates: the four phase-space variables are linearly dependent, so the variable basis is <a href="overcompleteness" title="wikilink">overcomplete</a>.</p>

<p>A <a href="Legendre_transformation" title="wikilink">Legendre transformation</a> then produces the Hamiltonian,</p>

<p>

<math display="block" id="Dirac_bracket:20">
 <semantics>
  <mrow>
   <mrow>
    <mrow>
     <mi>H</mi>
     <mrow>
      <mo stretchy="false">(</mo>
      <mi>x</mi>
      <mo>,</mo>
      <mi>y</mi>
      <mo>,</mo>
      <msub>
       <mi>p</mi>
       <mi>x</mi>
      </msub>
      <mo>,</mo>
      <msub>
       <mi>p</mi>
       <mi>y</mi>
      </msub>
      <mo stretchy="false">)</mo>
     </mrow>
    </mrow>
    <mo>=</mo>
    <mrow>
     <mrow>
      <mrow>
       <mover accent="true">
        <mi>x</mi>
        <mo>˙</mo>
       </mover>
       <msub>
        <mi>p</mi>
        <mi>x</mi>
       </msub>
      </mrow>
      <mo>+</mo>
      <mrow>
       <mover accent="true">
        <mi>y</mi>
        <mo>˙</mo>
       </mover>
       <msub>
        <mi>p</mi>
        <mi>y</mi>
       </msub>
      </mrow>
     </mrow>
     <mo>-</mo>
     <mi>L</mi>
    </mrow>
    <mo>=</mo>
    <mrow>
     <mi>V</mi>
     <mrow>
      <mo stretchy="false">(</mo>
      <mi>x</mi>
      <mo>,</mo>
      <mi>y</mi>
      <mo stretchy="false">)</mo>
     </mrow>
    </mrow>
   </mrow>
   <mo>.</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <and></and>
    <apply>
     <eq></eq>
     <apply>
      <times></times>
      <ci>H</ci>
      <vector>
       <ci>x</ci>
       <ci>y</ci>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>p</ci>
        <ci>x</ci>
       </apply>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>p</ci>
        <ci>y</ci>
       </apply>
      </vector>
     </apply>
     <apply>
      <minus></minus>
      <apply>
       <plus></plus>
       <apply>
        <times></times>
        <apply>
         <ci>normal-˙</ci>
         <ci>x</ci>
        </apply>
        <apply>
         <csymbol cd="ambiguous">subscript</csymbol>
         <ci>p</ci>
         <ci>x</ci>
        </apply>
       </apply>
       <apply>
        <times></times>
        <apply>
         <ci>normal-˙</ci>
         <ci>y</ci>
        </apply>
        <apply>
         <csymbol cd="ambiguous">subscript</csymbol>
         <ci>p</ci>
         <ci>y</ci>
        </apply>
       </apply>
      </apply>
      <ci>L</ci>
     </apply>
    </apply>
    <apply>
     <eq></eq>
     <share href="#.cmml">
     </share>
     <apply>
      <times></times>
      <ci>V</ci>
      <interval closure="open">
       <ci>x</ci>
       <ci>y</ci>
      </interval>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   H(x,y,p_{x},p_{y})=\dot{x}p_{x}+\dot{y}p_{y}-L=V(x,y).
  </annotation>
 </semantics>
</math>

 Note that this "naive" Hamiltonian has <em>no dependence on the momenta</em>, which means that equations of motion (Hamilton's equations) are inconsistent.</p>

<p>The Hamiltonian procedure has broken down. One might try to fix the problem by eliminating two of the components of the 4d phase space, say 

<math display="inline" id="Dirac_bracket:21">
 <semantics>
  <mi>y</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>y</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   y
  </annotation>
 </semantics>
</math>

 and <em>p</em><sub><em>y</em></sub>, down to a reduced phase space of 2d, that is sometimes expressing the coordinates as momenta and sometimes as coordinates. However, this is neither a general nor rigorous solution. This gets to the heart of the matter: that the definition of the canonical momenta implies a <em>constraint on phase space</em> (between momenta and coordinates) that was never taken into account.</p>
<h2 id="generalized-hamiltonian-procedure">Generalized Hamiltonian procedure</h2>

<p>In Lagrangian mechanics, if the system has <a href="holonomic_constraint" title="wikilink">holonomic constraints</a>, then one generally adds <a href="Lagrange_multipliers" title="wikilink">Lagrange multipliers</a> to the Lagrangian to account for them. The extra terms vanish when the constraints are satisfied, thereby forcing the path of stationary action to be on the constraint surface. In this case, going to the Hamiltonian formalism introduces a constraint on <em>phase space</em> in Hamiltonian mechanics, but the solution is similar.</p>

<p>Before proceeding, it is useful to understand the notions of <strong>weak equality</strong> and <strong>strong equality</strong>. Two functions on phase space, 

<math display="inline" id="Dirac_bracket:22">
 <semantics>
  <mi>f</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>f</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   f
  </annotation>
 </semantics>
</math>

 and 

<math display="inline" id="Dirac_bracket:23">
 <semantics>
  <mi>g</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>g</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   g
  </annotation>
 </semantics>
</math>

, are weakly equal if they are equal <em>when the constraints are satisfied, but not throughout the phase space</em>, denoted 

<math display="inline" id="Dirac_bracket:24">
 <semantics>
  <mrow>
   <mi>f</mi>
   <mi mathvariant="normal">≈</mi>
   <mi>g</mi>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <times></times>
    <ci>f</ci>
    <ci>normal-≈</ci>
    <ci>g</ci>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   f≈g
  </annotation>
 </semantics>
</math>

. If 

<math display="inline" id="Dirac_bracket:25">
 <semantics>
  <mi>f</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>f</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   f
  </annotation>
 </semantics>
</math>

 and 

<math display="inline" id="Dirac_bracket:26">
 <semantics>
  <mi>g</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>g</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   g
  </annotation>
 </semantics>
</math>

 are equal independently of the constraints being satisfied, they are called strongly equal, written 

<math display="inline" id="Dirac_bracket:27">
 <semantics>
  <mrow>
   <mi>f</mi>
   <mo>=</mo>
   <mi>g</mi>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <ci>f</ci>
    <ci>g</ci>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   f=g
  </annotation>
 </semantics>
</math>

. It is important to note that, in order to get the right answer, <em>no weak equations may be used before evaluating derivatives or Poisson brackets</em>.</p>

<p>The new procedure works as follows, start with a Lagrangian and define the canonical momenta in the usual way. Some of those definitions may not be invertible and instead give a constraint in phase space (as above). Constraints derived in this way or imposed from the beginning of the problem are called <strong>primary constraints</strong>. The constraints, labeled 

<math display="inline" id="Dirac_bracket:28">
 <semantics>
  <mi>φ</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>φ</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   φ
  </annotation>
 </semantics>
</math>

<sub><em>j</em></sub>, must weakly vanish, <mtpl></mtpl>.</p>

<p>Next, one finds the <strong>naive Hamiltonian</strong>, 

<math display="inline" id="Dirac_bracket:29">
 <semantics>
  <mi>H</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>H</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   H
  </annotation>
 </semantics>
</math>

, in the usual way via a Legendre transformation, exactly as in the above example. Note that the Hamiltonian can always be written as a function of <em>q</em>s and <em>p</em>s only, even if the velocities cannot be inverted into functions of the momenta.</p>
<h3 id="generalizing-the-hamiltonian">Generalizing the Hamiltonian</h3>

<p>Dirac argues that we should generalize the Hamiltonian (somewhat analogously to the method of Lagrange multipliers) to</p>

<p>

<math display="block" id="Dirac_bracket:30">
 <semantics>
  <mrow>
   <mrow>
    <msup>
     <mi>H</mi>
     <mo>*</mo>
    </msup>
    <mo>=</mo>
    <mrow>
     <mi>H</mi>
     <mo>+</mo>
     <mrow>
      <munder>
       <mo largeop="true" movablelimits="false" symmetric="true">∑</mo>
       <mi>j</mi>
      </munder>
      <mrow>
       <msub>
        <mi>c</mi>
        <mi>j</mi>
       </msub>
       <msub>
        <mi>ϕ</mi>
        <mi>j</mi>
       </msub>
      </mrow>
     </mrow>
    </mrow>
    <mo>≈</mo>
    <mi>H</mi>
   </mrow>
   <mo>,</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <and></and>
    <apply>
     <eq></eq>
     <apply>
      <csymbol cd="ambiguous">superscript</csymbol>
      <ci>H</ci>
      <times></times>
     </apply>
     <apply>
      <plus></plus>
      <ci>H</ci>
      <apply>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <sum></sum>
        <ci>j</ci>
       </apply>
       <apply>
        <times></times>
        <apply>
         <csymbol cd="ambiguous">subscript</csymbol>
         <ci>c</ci>
         <ci>j</ci>
        </apply>
        <apply>
         <csymbol cd="ambiguous">subscript</csymbol>
         <ci>ϕ</ci>
         <ci>j</ci>
        </apply>
       </apply>
      </apply>
     </apply>
    </apply>
    <apply>
     <approx></approx>
     <share href="#.cmml">
     </share>
     <ci>H</ci>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   H^{*}=H+\sum_{j}c_{j}\phi_{j}\approx H,
  </annotation>
 </semantics>
</math>

 where the <mtpl></mtpl> are not constants but functions of the coordinates and momenta. Since this new Hamiltonian is the most general function of coordinates and momenta weakly equal to the naive Hamiltonian, <em>H</em> * is the broadest generalization of the Hamiltonian possible so that 

<math display="inline" id="Dirac_bracket:31">
 <semantics>
  <mrow>
   <mrow>
    <mrow>
     <mi>δ</mi>
     <mi>H</mi>
    </mrow>
    <mo>*</mo>
    <mi mathvariant="normal">≈</mi>
   </mrow>
   <mi>δ</mi>
   <mi>H</mi>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <times></times>
    <apply>
     <times></times>
     <apply>
      <times></times>
      <ci>δ</ci>
      <ci>H</ci>
     </apply>
     <ci>normal-≈</ci>
    </apply>
    <ci>δ</ci>
    <ci>H</ci>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   δH*≈δH
  </annotation>
 </semantics>
</math>

 when <mtpl></mtpl>.</p>

<p>To further illuminate the <em>c</em><sub>j</sub>, consider how one gets the equations of motion from the naive Hamiltonian in the standard procedure. One expands the variation of the Hamiltonian out in two ways and sets them equal (using a somewhat abbreviated notation with suppressed indices and sums):</p>

<p>

<math display="block" id="Dirac_bracket:32">
 <semantics>
  <mrow>
   <mrow>
    <mrow>
     <mi>δ</mi>
     <mi>H</mi>
    </mrow>
    <mo>=</mo>
    <mrow>
     <mrow>
      <mfrac>
       <mrow>
        <mo>∂</mo>
        <mi>H</mi>
       </mrow>
       <mrow>
        <mo>∂</mo>
        <mi>q</mi>
       </mrow>
      </mfrac>
      <mi>δ</mi>
      <mi>q</mi>
     </mrow>
     <mo>+</mo>
     <mrow>
      <mfrac>
       <mrow>
        <mo>∂</mo>
        <mi>H</mi>
       </mrow>
       <mrow>
        <mo>∂</mo>
        <mi>p</mi>
       </mrow>
      </mfrac>
      <mi>δ</mi>
      <mi>p</mi>
     </mrow>
    </mrow>
    <mo>≈</mo>
    <mrow>
     <mrow>
      <mover accent="true">
       <mi>q</mi>
       <mo>˙</mo>
      </mover>
      <mi>δ</mi>
      <mi>p</mi>
     </mrow>
     <mo>-</mo>
     <mrow>
      <mover accent="true">
       <mi>p</mi>
       <mo>˙</mo>
      </mover>
      <mi>δ</mi>
      <mpadded width="+3.3pt">
       <mi>q</mi>
      </mpadded>
     </mrow>
    </mrow>
   </mrow>
   <mo>,</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <and></and>
    <apply>
     <eq></eq>
     <apply>
      <times></times>
      <ci>δ</ci>
      <ci>H</ci>
     </apply>
     <apply>
      <plus></plus>
      <apply>
       <times></times>
       <apply>
        <divide></divide>
        <apply>
         <partialdiff></partialdiff>
         <ci>H</ci>
        </apply>
        <apply>
         <partialdiff></partialdiff>
         <ci>q</ci>
        </apply>
       </apply>
       <ci>δ</ci>
       <ci>q</ci>
      </apply>
      <apply>
       <times></times>
       <apply>
        <divide></divide>
        <apply>
         <partialdiff></partialdiff>
         <ci>H</ci>
        </apply>
        <apply>
         <partialdiff></partialdiff>
         <ci>p</ci>
        </apply>
       </apply>
       <ci>δ</ci>
       <ci>p</ci>
      </apply>
     </apply>
    </apply>
    <apply>
     <approx></approx>
     <share href="#.cmml">
     </share>
     <apply>
      <minus></minus>
      <apply>
       <times></times>
       <apply>
        <ci>normal-˙</ci>
        <ci>q</ci>
       </apply>
       <ci>δ</ci>
       <ci>p</ci>
      </apply>
      <apply>
       <times></times>
       <apply>
        <ci>normal-˙</ci>
        <ci>p</ci>
       </apply>
       <ci>δ</ci>
       <ci>q</ci>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \delta H=\frac{\partial H}{\partial q}\delta q+\frac{\partial H}{\partial p}%
\delta p\approx\dot{q}\delta p-\dot{p}\delta q~{},
  </annotation>
 </semantics>
</math>

 where the second equality holds after simplifying with the Euler-Lagrange equations of motion and the definition of canonical momentum. From this equality, one deduces the equations of motion in the Hamiltonian formalism from</p>

<p>

<math display="block" id="Dirac_bracket:33">
 <semantics>
  <mrow>
   <mrow>
    <mrow>
     <mrow>
      <mrow>
       <mo>(</mo>
       <mrow>
        <mfrac>
         <mrow>
          <mo>∂</mo>
          <mi>H</mi>
         </mrow>
         <mrow>
          <mo>∂</mo>
          <mi>q</mi>
         </mrow>
        </mfrac>
        <mo>+</mo>
        <mover accent="true">
         <mi>p</mi>
         <mo>˙</mo>
        </mover>
       </mrow>
       <mo>)</mo>
      </mrow>
      <mi>δ</mi>
      <mi>q</mi>
     </mrow>
     <mo>+</mo>
     <mrow>
      <mrow>
       <mo>(</mo>
       <mrow>
        <mfrac>
         <mrow>
          <mo>∂</mo>
          <mi>H</mi>
         </mrow>
         <mrow>
          <mo>∂</mo>
          <mi>p</mi>
         </mrow>
        </mfrac>
        <mo>-</mo>
        <mover accent="true">
         <mi>q</mi>
         <mo>˙</mo>
        </mover>
       </mrow>
       <mo>)</mo>
      </mrow>
      <mi>δ</mi>
      <mi>p</mi>
     </mrow>
    </mrow>
    <mo>=</mo>
    <mpadded width="+3.3pt">
     <mn>0</mn>
    </mpadded>
   </mrow>
   <mo>,</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <plus></plus>
     <apply>
      <times></times>
      <apply>
       <plus></plus>
       <apply>
        <divide></divide>
        <apply>
         <partialdiff></partialdiff>
         <ci>H</ci>
        </apply>
        <apply>
         <partialdiff></partialdiff>
         <ci>q</ci>
        </apply>
       </apply>
       <apply>
        <ci>normal-˙</ci>
        <ci>p</ci>
       </apply>
      </apply>
      <ci>δ</ci>
      <ci>q</ci>
     </apply>
     <apply>
      <times></times>
      <apply>
       <minus></minus>
       <apply>
        <divide></divide>
        <apply>
         <partialdiff></partialdiff>
         <ci>H</ci>
        </apply>
        <apply>
         <partialdiff></partialdiff>
         <ci>p</ci>
        </apply>
       </apply>
       <apply>
        <ci>normal-˙</ci>
        <ci>q</ci>
       </apply>
      </apply>
      <ci>δ</ci>
      <ci>p</ci>
     </apply>
    </apply>
    <cn type="integer">0</cn>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \left(\frac{\partial H}{\partial q}+\dot{p}\right)\delta q+\left(\frac{%
\partial H}{\partial p}-\dot{q}\right)\delta p=0~{},
  </annotation>
 </semantics>
</math>

 where the weak equality symbol is no longer displayed explicitly, since by definition the equations of motion only hold weakly. In the present context, one cannot simply set the coefficients of 

<math display="inline" id="Dirac_bracket:34">
 <semantics>
  <mrow>
   <mi>δ</mi>
   <mi>q</mi>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <times></times>
    <ci>δ</ci>
    <ci>q</ci>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   δq
  </annotation>
 </semantics>
</math>

 and 

<math display="inline" id="Dirac_bracket:35">
 <semantics>
  <mrow>
   <mi>δ</mi>
   <mi>p</mi>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <times></times>
    <ci>δ</ci>
    <ci>p</ci>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   δp
  </annotation>
 </semantics>
</math>

 separately to zero, since the variations are somewhat restricted by the constraints. In particular, the variations must be tangent to the constraint surface.</p>

<p>One can demonstrate the solution to</p>

<p>

<math display="block" id="Dirac_bracket:36">
 <semantics>
  <mrow>
   <mrow>
    <mrow>
     <mrow>
      <munder>
       <mo largeop="true" movablelimits="false" symmetric="true">∑</mo>
       <mi>n</mi>
      </munder>
      <mrow>
       <msub>
        <mi>A</mi>
        <mi>n</mi>
       </msub>
       <mi>δ</mi>
       <msub>
        <mi>q</mi>
        <mi>n</mi>
       </msub>
      </mrow>
     </mrow>
     <mo>+</mo>
     <mrow>
      <munder>
       <mo largeop="true" movablelimits="false" symmetric="true">∑</mo>
       <mi>n</mi>
      </munder>
      <mrow>
       <msub>
        <mi>B</mi>
        <mi>n</mi>
       </msub>
       <mi>δ</mi>
       <msub>
        <mi>p</mi>
        <mi>n</mi>
       </msub>
      </mrow>
     </mrow>
    </mrow>
    <mo>=</mo>
    <mn>0</mn>
   </mrow>
   <mo>,</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <plus></plus>
     <apply>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <sum></sum>
       <ci>n</ci>
      </apply>
      <apply>
       <times></times>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>A</ci>
        <ci>n</ci>
       </apply>
       <ci>δ</ci>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>q</ci>
        <ci>n</ci>
       </apply>
      </apply>
     </apply>
     <apply>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <sum></sum>
       <ci>n</ci>
      </apply>
      <apply>
       <times></times>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>B</ci>
        <ci>n</ci>
       </apply>
       <ci>δ</ci>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>p</ci>
        <ci>n</ci>
       </apply>
      </apply>
     </apply>
    </apply>
    <cn type="integer">0</cn>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \sum_{n}A_{n}\delta q_{n}+\sum_{n}B_{n}\delta p_{n}=0,
  </annotation>
 </semantics>
</math>

 for the variations <em>δq</em><sub>n</sub> and <mtpl></mtpl> restricted by the constraints 

<math display="inline" id="Dirac_bracket:37">
 <semantics>
  <mrow>
   <msub>
    <mi>ϕ</mi>
    <mi>j</mi>
   </msub>
   <mo>≈</mo>
   <mn>0</mn>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <approx></approx>
    <apply>
     <csymbol cd="ambiguous">subscript</csymbol>
     <ci>ϕ</ci>
     <ci>j</ci>
    </apply>
    <cn type="integer">0</cn>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \phi_{j}\approx 0
  </annotation>
 </semantics>
</math>

 (assuming the constraints satisfy some <a href="regular_function" title="wikilink">regularity conditions</a>) is generally<a class="footnoteRef" href="#fn4" id="fnref4"><sup>4</sup></a></p>

<p>

<math display="block" id="Dirac_bracket:38">
 <semantics>
  <mrow>
   <msub>
    <mi>A</mi>
    <mi>n</mi>
   </msub>
   <mo>=</mo>
   <mrow>
    <munder>
     <mo largeop="true" movablelimits="false" symmetric="true">∑</mo>
     <mi>m</mi>
    </munder>
    <mrow>
     <msub>
      <mi>u</mi>
      <mi>m</mi>
     </msub>
     <mfrac>
      <mrow>
       <mo>∂</mo>
       <msub>
        <mi>ϕ</mi>
        <mi>m</mi>
       </msub>
      </mrow>
      <mrow>
       <mo>∂</mo>
       <msub>
        <mi>q</mi>
        <mi>n</mi>
       </msub>
      </mrow>
     </mfrac>
    </mrow>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <csymbol cd="ambiguous">subscript</csymbol>
     <ci>A</ci>
     <ci>n</ci>
    </apply>
    <apply>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <sum></sum>
      <ci>m</ci>
     </apply>
     <apply>
      <times></times>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>u</ci>
       <ci>m</ci>
      </apply>
      <apply>
       <divide></divide>
       <apply>
        <partialdiff></partialdiff>
        <apply>
         <csymbol cd="ambiguous">subscript</csymbol>
         <ci>ϕ</ci>
         <ci>m</ci>
        </apply>
       </apply>
       <apply>
        <partialdiff></partialdiff>
        <apply>
         <csymbol cd="ambiguous">subscript</csymbol>
         <ci>q</ci>
         <ci>n</ci>
        </apply>
       </apply>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   A_{n}=\sum_{m}u_{m}\frac{\partial\phi_{m}}{\partial q_{n}}
  </annotation>
 </semantics>
</math>

</p>

<p>

<math display="block" id="Dirac_bracket:39">
 <semantics>
  <mrow>
   <mrow>
    <msub>
     <mi>B</mi>
     <mi>n</mi>
    </msub>
    <mo>=</mo>
    <mrow>
     <munder>
      <mo largeop="true" movablelimits="false" symmetric="true">∑</mo>
      <mi>m</mi>
     </munder>
     <mrow>
      <msub>
       <mi>u</mi>
       <mi>m</mi>
      </msub>
      <mfrac>
       <mrow>
        <mo>∂</mo>
        <msub>
         <mi>ϕ</mi>
         <mi>m</mi>
        </msub>
       </mrow>
       <mrow>
        <mo>∂</mo>
        <msub>
         <mi>p</mi>
         <mi>n</mi>
        </msub>
       </mrow>
      </mfrac>
     </mrow>
    </mrow>
   </mrow>
   <mo>,</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <csymbol cd="ambiguous">subscript</csymbol>
     <ci>B</ci>
     <ci>n</ci>
    </apply>
    <apply>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <sum></sum>
      <ci>m</ci>
     </apply>
     <apply>
      <times></times>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>u</ci>
       <ci>m</ci>
      </apply>
      <apply>
       <divide></divide>
       <apply>
        <partialdiff></partialdiff>
        <apply>
         <csymbol cd="ambiguous">subscript</csymbol>
         <ci>ϕ</ci>
         <ci>m</ci>
        </apply>
       </apply>
       <apply>
        <partialdiff></partialdiff>
        <apply>
         <csymbol cd="ambiguous">subscript</csymbol>
         <ci>p</ci>
         <ci>n</ci>
        </apply>
       </apply>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   B_{n}=\sum_{m}u_{m}\frac{\partial\phi_{m}}{\partial p_{n}},
  </annotation>
 </semantics>
</math>

 where the <em>u</em><sub>m</sub> are arbitrary functions.</p>

<p>Using this result, the equations of motion become</p>

<p>

<math display="block" id="Dirac_bracket:40">
 <semantics>
  <mrow>
   <msub>
    <mover accent="true">
     <mi>p</mi>
     <mo>˙</mo>
    </mover>
    <mi>j</mi>
   </msub>
   <mo>=</mo>
   <mrow>
    <mrow>
     <mo>-</mo>
     <mfrac>
      <mrow>
       <mo>∂</mo>
       <mi>H</mi>
      </mrow>
      <mrow>
       <mo>∂</mo>
       <msub>
        <mi>q</mi>
        <mi>j</mi>
       </msub>
      </mrow>
     </mfrac>
    </mrow>
    <mo>-</mo>
    <mrow>
     <munder>
      <mo largeop="true" movablelimits="false" symmetric="true">∑</mo>
      <mi>k</mi>
     </munder>
     <mrow>
      <msub>
       <mi>u</mi>
       <mi>k</mi>
      </msub>
      <mfrac>
       <mrow>
        <mo>∂</mo>
        <msub>
         <mi>ϕ</mi>
         <mi>k</mi>
        </msub>
       </mrow>
       <mrow>
        <mo>∂</mo>
        <msub>
         <mi>q</mi>
         <mi>j</mi>
        </msub>
       </mrow>
      </mfrac>
     </mrow>
    </mrow>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <csymbol cd="ambiguous">subscript</csymbol>
     <apply>
      <ci>normal-˙</ci>
      <ci>p</ci>
     </apply>
     <ci>j</ci>
    </apply>
    <apply>
     <minus></minus>
     <apply>
      <minus></minus>
      <apply>
       <divide></divide>
       <apply>
        <partialdiff></partialdiff>
        <ci>H</ci>
       </apply>
       <apply>
        <partialdiff></partialdiff>
        <apply>
         <csymbol cd="ambiguous">subscript</csymbol>
         <ci>q</ci>
         <ci>j</ci>
        </apply>
       </apply>
      </apply>
     </apply>
     <apply>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <sum></sum>
       <ci>k</ci>
      </apply>
      <apply>
       <times></times>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>u</ci>
        <ci>k</ci>
       </apply>
       <apply>
        <divide></divide>
        <apply>
         <partialdiff></partialdiff>
         <apply>
          <csymbol cd="ambiguous">subscript</csymbol>
          <ci>ϕ</ci>
          <ci>k</ci>
         </apply>
        </apply>
        <apply>
         <partialdiff></partialdiff>
         <apply>
          <csymbol cd="ambiguous">subscript</csymbol>
          <ci>q</ci>
          <ci>j</ci>
         </apply>
        </apply>
       </apply>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \dot{p}_{j}=-\frac{\partial H}{\partial q_{j}}-\sum_{k}u_{k}\frac{\partial\phi%
_{k}}{\partial q_{j}}
  </annotation>
 </semantics>
</math>

</p>

<p>

<math display="block" id="Dirac_bracket:41">
 <semantics>
  <mrow>
   <msub>
    <mover accent="true">
     <mi>q</mi>
     <mo>˙</mo>
    </mover>
    <mi>j</mi>
   </msub>
   <mo>=</mo>
   <mrow>
    <mfrac>
     <mrow>
      <mo>∂</mo>
      <mi>H</mi>
     </mrow>
     <mrow>
      <mo>∂</mo>
      <msub>
       <mi>p</mi>
       <mi>j</mi>
      </msub>
     </mrow>
    </mfrac>
    <mo>+</mo>
    <mrow>
     <munder>
      <mo largeop="true" movablelimits="false" symmetric="true">∑</mo>
      <mi>k</mi>
     </munder>
     <mrow>
      <msub>
       <mi>u</mi>
       <mi>k</mi>
      </msub>
      <mfrac>
       <mrow>
        <mo>∂</mo>
        <msub>
         <mi>ϕ</mi>
         <mi>k</mi>
        </msub>
       </mrow>
       <mrow>
        <mo>∂</mo>
        <msub>
         <mi>p</mi>
         <mi>j</mi>
        </msub>
       </mrow>
      </mfrac>
     </mrow>
    </mrow>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <csymbol cd="ambiguous">subscript</csymbol>
     <apply>
      <ci>normal-˙</ci>
      <ci>q</ci>
     </apply>
     <ci>j</ci>
    </apply>
    <apply>
     <plus></plus>
     <apply>
      <divide></divide>
      <apply>
       <partialdiff></partialdiff>
       <ci>H</ci>
      </apply>
      <apply>
       <partialdiff></partialdiff>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>p</ci>
        <ci>j</ci>
       </apply>
      </apply>
     </apply>
     <apply>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <sum></sum>
       <ci>k</ci>
      </apply>
      <apply>
       <times></times>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>u</ci>
        <ci>k</ci>
       </apply>
       <apply>
        <divide></divide>
        <apply>
         <partialdiff></partialdiff>
         <apply>
          <csymbol cd="ambiguous">subscript</csymbol>
          <ci>ϕ</ci>
          <ci>k</ci>
         </apply>
        </apply>
        <apply>
         <partialdiff></partialdiff>
         <apply>
          <csymbol cd="ambiguous">subscript</csymbol>
          <ci>p</ci>
          <ci>j</ci>
         </apply>
        </apply>
       </apply>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \dot{q}_{j}=\frac{\partial H}{\partial p_{j}}+\sum_{k}u_{k}\frac{\partial\phi_%
{k}}{\partial p_{j}}
  </annotation>
 </semantics>
</math>

</p>

<p>

<math display="block" id="Dirac_bracket:42">
 <semantics>
  <mrow>
   <mrow>
    <mrow>
     <msub>
      <mi>ϕ</mi>
      <mi>j</mi>
     </msub>
     <mrow>
      <mo stretchy="false">(</mo>
      <mi>q</mi>
      <mo>,</mo>
      <mi>p</mi>
      <mo stretchy="false">)</mo>
     </mrow>
    </mrow>
    <mo>=</mo>
    <mn>0</mn>
   </mrow>
   <mo>,</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <times></times>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <ci>ϕ</ci>
      <ci>j</ci>
     </apply>
     <interval closure="open">
      <ci>q</ci>
      <ci>p</ci>
     </interval>
    </apply>
    <cn type="integer">0</cn>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \phi_{j}(q,p)=0,
  </annotation>
 </semantics>
</math>

 where the <mtpl></mtpl> are functions of coordinates and velocities that can be determined, in principle, from the second equation of motion above.</p>

<p>The Legendre transform between the Lagrangian formalism and the Hamiltonian formalism has been saved at the cost of adding new variables.</p>
<h3 id="consistency-conditions">Consistency conditions</h3>

<p>The equations of motion become more compact when using the Poisson bracket, since if 

<math display="inline" id="Dirac_bracket:43">
 <semantics>
  <mi>f</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>f</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   f
  </annotation>
 </semantics>
</math>

 is some function of the coordinates and momenta then</p>

<p>

<math display="block" id="Dirac_bracket:44">
 <semantics>
  <mrow>
   <mrow>
    <mover accent="true">
     <mi>f</mi>
     <mo>˙</mo>
    </mover>
    <mo>≈</mo>
    <msub>
     <mrow>
      <mo stretchy="false">{</mo>
      <mi>f</mi>
      <mo>,</mo>
      <msup>
       <mi>H</mi>
       <mo>*</mo>
      </msup>
      <mo stretchy="false">}</mo>
     </mrow>
     <mrow>
      <mi>P</mi>
      <mi>B</mi>
     </mrow>
    </msub>
    <mo>≈</mo>
    <mrow>
     <msub>
      <mrow>
       <mo stretchy="false">{</mo>
       <mi>f</mi>
       <mo>,</mo>
       <mi>H</mi>
       <mo stretchy="false">}</mo>
      </mrow>
      <mrow>
       <mi>P</mi>
       <mi>B</mi>
      </mrow>
     </msub>
     <mo>+</mo>
     <mrow>
      <munder>
       <mo largeop="true" movablelimits="false" symmetric="true">∑</mo>
       <mi>k</mi>
      </munder>
      <mrow>
       <msub>
        <mi>u</mi>
        <mi>k</mi>
       </msub>
       <msub>
        <mrow>
         <mo stretchy="false">{</mo>
         <mi>f</mi>
         <mo>,</mo>
         <msub>
          <mi>ϕ</mi>
          <mi>k</mi>
         </msub>
         <mo stretchy="false">}</mo>
        </mrow>
        <mrow>
         <mi>P</mi>
         <mi>B</mi>
        </mrow>
       </msub>
      </mrow>
     </mrow>
    </mrow>
   </mrow>
   <mo>,</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <and></and>
    <apply>
     <approx></approx>
     <apply>
      <ci>normal-˙</ci>
      <ci>f</ci>
     </apply>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <set>
       <ci>f</ci>
       <apply>
        <csymbol cd="ambiguous">superscript</csymbol>
        <ci>H</ci>
        <times></times>
       </apply>
      </set>
      <apply>
       <times></times>
       <ci>P</ci>
       <ci>B</ci>
      </apply>
     </apply>
    </apply>
    <apply>
     <approx></approx>
     <share href="#.cmml">
     </share>
     <apply>
      <plus></plus>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <set>
        <ci>f</ci>
        <ci>H</ci>
       </set>
       <apply>
        <times></times>
        <ci>P</ci>
        <ci>B</ci>
       </apply>
      </apply>
      <apply>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <sum></sum>
        <ci>k</ci>
       </apply>
       <apply>
        <times></times>
        <apply>
         <csymbol cd="ambiguous">subscript</csymbol>
         <ci>u</ci>
         <ci>k</ci>
        </apply>
        <apply>
         <csymbol cd="ambiguous">subscript</csymbol>
         <set>
          <ci>f</ci>
          <apply>
           <csymbol cd="ambiguous">subscript</csymbol>
           <ci>ϕ</ci>
           <ci>k</ci>
          </apply>
         </set>
         <apply>
          <times></times>
          <ci>P</ci>
          <ci>B</ci>
         </apply>
        </apply>
       </apply>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \dot{f}\approx\{f,H^{*}\}_{PB}\approx\{f,H\}_{PB}+\sum_{k}u_{k}\{f,\phi_{k}\}_%
{PB},
  </annotation>
 </semantics>
</math>

 if one assumes that the Poisson bracket with the <em>u</em><sub>k</sub> (functions of the velocity) exist; this causes no problems since the contribution weakly vanishes. Now, there are some consistency conditions which must be satisfied in order for this formalism to make sense. If the constraints are going to be satisfied, then their equations of motion must weakly vanish, that is, we require</p>

<p>

<math display="block" id="Dirac_bracket:45">
 <semantics>
  <mrow>
   <mover accent="true">
    <msub>
     <mi>ϕ</mi>
     <mi>j</mi>
    </msub>
    <mo>˙</mo>
   </mover>
   <mo>≈</mo>
   <mrow>
    <msub>
     <mrow>
      <mo stretchy="false">{</mo>
      <msub>
       <mi>ϕ</mi>
       <mi>j</mi>
      </msub>
      <mo>,</mo>
      <mi>H</mi>
      <mo stretchy="false">}</mo>
     </mrow>
     <mrow>
      <mi>P</mi>
      <mi>B</mi>
     </mrow>
    </msub>
    <mo>+</mo>
    <mrow>
     <munder>
      <mo largeop="true" movablelimits="false" symmetric="true">∑</mo>
      <mi>k</mi>
     </munder>
     <mrow>
      <msub>
       <mi>u</mi>
       <mi>k</mi>
      </msub>
      <msub>
       <mrow>
        <mo stretchy="false">{</mo>
        <msub>
         <mi>ϕ</mi>
         <mi>j</mi>
        </msub>
        <mo>,</mo>
        <msub>
         <mi>ϕ</mi>
         <mi>k</mi>
        </msub>
        <mo stretchy="false">}</mo>
       </mrow>
       <mrow>
        <mi>P</mi>
        <mi>B</mi>
       </mrow>
      </msub>
     </mrow>
    </mrow>
   </mrow>
   <mo>≈</mo>
   <mn>0.</mn>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <and></and>
    <apply>
     <approx></approx>
     <apply>
      <ci>normal-˙</ci>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>ϕ</ci>
       <ci>j</ci>
      </apply>
     </apply>
     <apply>
      <plus></plus>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <set>
        <apply>
         <csymbol cd="ambiguous">subscript</csymbol>
         <ci>ϕ</ci>
         <ci>j</ci>
        </apply>
        <ci>H</ci>
       </set>
       <apply>
        <times></times>
        <ci>P</ci>
        <ci>B</ci>
       </apply>
      </apply>
      <apply>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <sum></sum>
        <ci>k</ci>
       </apply>
       <apply>
        <times></times>
        <apply>
         <csymbol cd="ambiguous">subscript</csymbol>
         <ci>u</ci>
         <ci>k</ci>
        </apply>
        <apply>
         <csymbol cd="ambiguous">subscript</csymbol>
         <set>
          <apply>
           <csymbol cd="ambiguous">subscript</csymbol>
           <ci>ϕ</ci>
           <ci>j</ci>
          </apply>
          <apply>
           <csymbol cd="ambiguous">subscript</csymbol>
           <ci>ϕ</ci>
           <ci>k</ci>
          </apply>
         </set>
         <apply>
          <times></times>
          <ci>P</ci>
          <ci>B</ci>
         </apply>
        </apply>
       </apply>
      </apply>
     </apply>
    </apply>
    <apply>
     <approx></approx>
     <share href="#.cmml">
     </share>
     <cn type="float">0.</cn>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \dot{\phi_{j}}\approx\{\phi_{j},H\}_{PB}+\sum_{k}u_{k}\{\phi_{j},\phi_{k}\}_{%
PB}\approx 0.
  </annotation>
 </semantics>
</math>

 There are four different types of conditions that can result from the above:</p>
<ol>
<li>An equation that is inherently false, such as 1=0 .</li>
<li>An equation that is identically true, possibly after using one of our primary constraints.</li>
<li>An equation that places new constraints on our coordinates and momenta, but is independent of the <mtpl></mtpl>.</li>
<li>An equation that serves to specify the <mtpl></mtpl>.</li>
</ol>

<p>The first case indicates that the starting Lagrangian gives inconsistent equations of motion, such as 

<math display="inline" id="Dirac_bracket:46">
 <semantics>
  <mrow>
   <mi>L</mi>
   <mo>=</mo>
   <mi>q</mi>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <ci>L</ci>
    <ci>q</ci>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   L=q
  </annotation>
 </semantics>
</math>

. The second case does not contribute anything new.</p>

<p>The third case gives new constraints in phase space. A constraint derived in this manner is called a <strong><a href="secondary_constraint" title="wikilink">secondary constraint</a></strong>. Upon finding the secondary constraint one should add it to the extended Hamiltonian and check the new consistency conditions, which may result in still more constraints. Iterate this process until there are no more constraints. The distinction between primary and secondary constraints is largely an artificial one (i.e. a constraint for the same system can be primary or secondary depending on the Lagrangian), so this article does not distinguish between them from here on. Assuming the consistency condition has been iterated until all of the constraints have been found, then 

<math display="inline" id="Dirac_bracket:47">
 <semantics>
  <mi>φ</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>φ</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   φ
  </annotation>
 </semantics>
</math>

<sub><em>j</em></sub> will index all of them. Note this article uses secondary constraint to mean any constraint that was not initially in the problem or derived from the definition of canonical momenta; some authors distinguish between secondary constraints, tertiary constraints, et cetera.</p>

<p>Finally, the last case helps fix the <mtpl></mtpl>. If, at the end of this process, the <mtpl></mtpl> are not completely determined, then that means there are unphysical (gauge) degrees of freedom in the system. Once all of the constraints (primary and secondary) are added to the naive Hamiltonian and the solutions to the consistency conditions for the <mtpl></mtpl> are plugged in, the result is called <em>the total Hamiltonian</em>.</p>
<h3 id="fixing-the">Fixing the <mtpl></mtpl></h3>

<p>The <em>u</em><sub>k</sub> must solve a set of inhomogeneous linear equations of the form</p>

<p>

<math display="block" id="Dirac_bracket:48">
 <semantics>
  <mrow>
   <mrow>
    <msub>
     <mrow>
      <mo stretchy="false">{</mo>
      <msub>
       <mi>ϕ</mi>
       <mi>j</mi>
      </msub>
      <mo>,</mo>
      <mi>H</mi>
      <mo stretchy="false">}</mo>
     </mrow>
     <mrow>
      <mi>P</mi>
      <mi>B</mi>
     </mrow>
    </msub>
    <mo>+</mo>
    <mrow>
     <munder>
      <mo largeop="true" movablelimits="false" symmetric="true">∑</mo>
      <mi>k</mi>
     </munder>
     <mrow>
      <msub>
       <mi>u</mi>
       <mi>k</mi>
      </msub>
      <msub>
       <mrow>
        <mo stretchy="false">{</mo>
        <msub>
         <mi>ϕ</mi>
         <mi>j</mi>
        </msub>
        <mo>,</mo>
        <msub>
         <mi>ϕ</mi>
         <mi>k</mi>
        </msub>
        <mo stretchy="false">}</mo>
       </mrow>
       <mrow>
        <mi>P</mi>
        <mi>B</mi>
       </mrow>
      </msub>
     </mrow>
    </mrow>
   </mrow>
   <mo>≈</mo>
   <mn>0.</mn>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <approx></approx>
    <apply>
     <plus></plus>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <set>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>ϕ</ci>
        <ci>j</ci>
       </apply>
       <ci>H</ci>
      </set>
      <apply>
       <times></times>
       <ci>P</ci>
       <ci>B</ci>
      </apply>
     </apply>
     <apply>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <sum></sum>
       <ci>k</ci>
      </apply>
      <apply>
       <times></times>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>u</ci>
        <ci>k</ci>
       </apply>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <set>
         <apply>
          <csymbol cd="ambiguous">subscript</csymbol>
          <ci>ϕ</ci>
          <ci>j</ci>
         </apply>
         <apply>
          <csymbol cd="ambiguous">subscript</csymbol>
          <ci>ϕ</ci>
          <ci>k</ci>
         </apply>
        </set>
        <apply>
         <times></times>
         <ci>P</ci>
         <ci>B</ci>
        </apply>
       </apply>
      </apply>
     </apply>
    </apply>
    <cn type="float">0.</cn>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \{\phi_{j},H\}_{PB}+\sum_{k}u_{k}\{\phi_{j},\phi_{k}\}_{PB}\approx 0.
  </annotation>
 </semantics>
</math>

 The above equation must possess at least one solution, since otherwise the initial Lagrangian is inconsistent; however, in systems with gauge degrees of freedom, the solution will not be unique. The most general solution is of the form</p>

<p>

<math display="block" id="Dirac_bracket:49">
 <semantics>
  <mrow>
   <mrow>
    <msub>
     <mi>u</mi>
     <mi>k</mi>
    </msub>
    <mo>=</mo>
    <mrow>
     <msub>
      <mi>U</mi>
      <mi>k</mi>
     </msub>
     <mo>+</mo>
     <msub>
      <mi>V</mi>
      <mi>k</mi>
     </msub>
    </mrow>
   </mrow>
   <mo>,</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <csymbol cd="ambiguous">subscript</csymbol>
     <ci>u</ci>
     <ci>k</ci>
    </apply>
    <apply>
     <plus></plus>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <ci>U</ci>
      <ci>k</ci>
     </apply>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <ci>V</ci>
      <ci>k</ci>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   u_{k}=U_{k}+V_{k},
  </annotation>
 </semantics>
</math>

 where 

<math display="inline" id="Dirac_bracket:50">
 <semantics>
  <msub>
   <mi>U</mi>
   <mi>k</mi>
  </msub>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <csymbol cd="ambiguous">subscript</csymbol>
    <ci>U</ci>
    <ci>k</ci>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   U_{k}
  </annotation>
 </semantics>
</math>

 is a particular solution and <mtpl></mtpl> is the most general solution to the homogeneous equation</p>

<p>

<math display="block" id="Dirac_bracket:51">
 <semantics>
  <mrow>
   <mrow>
    <munder>
     <mo largeop="true" movablelimits="false" symmetric="true">∑</mo>
     <mi>k</mi>
    </munder>
    <mrow>
     <msub>
      <mi>V</mi>
      <mi>k</mi>
     </msub>
     <msub>
      <mrow>
       <mo stretchy="false">{</mo>
       <msub>
        <mi>ϕ</mi>
        <mi>j</mi>
       </msub>
       <mo>,</mo>
       <msub>
        <mi>ϕ</mi>
        <mi>k</mi>
       </msub>
       <mo stretchy="false">}</mo>
      </mrow>
      <mrow>
       <mi>P</mi>
       <mi>B</mi>
      </mrow>
     </msub>
    </mrow>
   </mrow>
   <mo>≈</mo>
   <mn>0.</mn>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <approx></approx>
    <apply>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <sum></sum>
      <ci>k</ci>
     </apply>
     <apply>
      <times></times>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>V</ci>
       <ci>k</ci>
      </apply>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <set>
        <apply>
         <csymbol cd="ambiguous">subscript</csymbol>
         <ci>ϕ</ci>
         <ci>j</ci>
        </apply>
        <apply>
         <csymbol cd="ambiguous">subscript</csymbol>
         <ci>ϕ</ci>
         <ci>k</ci>
        </apply>
       </set>
       <apply>
        <times></times>
        <ci>P</ci>
        <ci>B</ci>
       </apply>
      </apply>
     </apply>
    </apply>
    <cn type="float">0.</cn>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \sum_{k}V_{k}\{\phi_{j},\phi_{k}\}_{PB}\approx 0.
  </annotation>
 </semantics>
</math>

 The most general solution will be a linear combination of linearly independent solutions to the above homogeneous equation. The number of linearly independent solutions equals the number of <mtpl></mtpl> (which is the same as the number of constraints) minus the number of consistency conditions of the fourth type (in previous subsection). This is the number of unphysical degrees of freedom in the system. Labeling the linear independent solutions <mtpl></mtpl> where the index 

<math display="inline" id="Dirac_bracket:52">
 <semantics>
  <mi>a</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>a</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   a
  </annotation>
 </semantics>
</math>

 runs from 1 to the number of unphysical degrees of freedom, the general solution to the consistency conditions is of the form</p>

<p>

<math display="block" id="Dirac_bracket:53">
 <semantics>
  <mrow>
   <mrow>
    <msub>
     <mi>u</mi>
     <mi>k</mi>
    </msub>
    <mo>≈</mo>
    <mrow>
     <msub>
      <mi>U</mi>
      <mi>k</mi>
     </msub>
     <mo>+</mo>
     <mrow>
      <munder>
       <mo largeop="true" movablelimits="false" symmetric="true">∑</mo>
       <mi>a</mi>
      </munder>
      <mrow>
       <msub>
        <mi>v</mi>
        <mi>a</mi>
       </msub>
       <msubsup>
        <mi>V</mi>
        <mi>k</mi>
        <mi>a</mi>
       </msubsup>
      </mrow>
     </mrow>
    </mrow>
   </mrow>
   <mo>,</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <approx></approx>
    <apply>
     <csymbol cd="ambiguous">subscript</csymbol>
     <ci>u</ci>
     <ci>k</ci>
    </apply>
    <apply>
     <plus></plus>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <ci>U</ci>
      <ci>k</ci>
     </apply>
     <apply>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <sum></sum>
       <ci>a</ci>
      </apply>
      <apply>
       <times></times>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>v</ci>
        <ci>a</ci>
       </apply>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <apply>
         <csymbol cd="ambiguous">superscript</csymbol>
         <ci>V</ci>
         <ci>a</ci>
        </apply>
        <ci>k</ci>
       </apply>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   u_{k}\approx U_{k}+\sum_{a}v_{a}V^{a}_{k},
  </annotation>
 </semantics>
</math>

 where the <mtpl></mtpl> are completely arbitrary functions of time. A different choice of the <mtpl></mtpl> corresponds to a gauge transformation, and should leave the physical state of the system unchanged.<a class="footnoteRef" href="#fn5" id="fnref5"><sup>5</sup></a></p>
<h3 id="the-total-hamiltonian">The total Hamiltonian</h3>

<p>At this point, it is natural to introduce the <strong>total Hamiltonian</strong></p>

<p>

<math display="block" id="Dirac_bracket:54">
 <semantics>
  <mrow>
   <msub>
    <mi>H</mi>
    <mi>T</mi>
   </msub>
   <mo>=</mo>
   <mrow>
    <mi>H</mi>
    <mo>+</mo>
    <mrow>
     <munder>
      <mo largeop="true" movablelimits="false" symmetric="true">∑</mo>
      <mi>k</mi>
     </munder>
     <mrow>
      <msub>
       <mi>U</mi>
       <mi>k</mi>
      </msub>
      <msub>
       <mi>ϕ</mi>
       <mi>k</mi>
      </msub>
     </mrow>
    </mrow>
    <mo>+</mo>
    <mrow>
     <munder>
      <mo largeop="true" movablelimits="false" symmetric="true">∑</mo>
      <mrow>
       <mi>a</mi>
       <mo>,</mo>
       <mi>k</mi>
      </mrow>
     </munder>
     <mrow>
      <msub>
       <mi>v</mi>
       <mi>a</mi>
      </msub>
      <msubsup>
       <mi>V</mi>
       <mi>k</mi>
       <mi>a</mi>
      </msubsup>
      <msub>
       <mi>ϕ</mi>
       <mi>k</mi>
      </msub>
     </mrow>
    </mrow>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <csymbol cd="ambiguous">subscript</csymbol>
     <ci>H</ci>
     <ci>T</ci>
    </apply>
    <apply>
     <plus></plus>
     <ci>H</ci>
     <apply>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <sum></sum>
       <ci>k</ci>
      </apply>
      <apply>
       <times></times>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>U</ci>
        <ci>k</ci>
       </apply>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>ϕ</ci>
        <ci>k</ci>
       </apply>
      </apply>
     </apply>
     <apply>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <sum></sum>
       <list>
        <ci>a</ci>
        <ci>k</ci>
       </list>
      </apply>
      <apply>
       <times></times>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>v</ci>
        <ci>a</ci>
       </apply>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <apply>
         <csymbol cd="ambiguous">superscript</csymbol>
         <ci>V</ci>
         <ci>a</ci>
        </apply>
        <ci>k</ci>
       </apply>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>ϕ</ci>
        <ci>k</ci>
       </apply>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   H_{T}=H+\sum_{k}U_{k}\phi_{k}+\sum_{a,k}v_{a}V^{a}_{k}\phi_{k}
  </annotation>
 </semantics>
</math>

 and what is denoted</p>

<p>

<math display="block" id="Dirac_bracket:55">
 <semantics>
  <mrow>
   <mrow>
    <msup>
     <mi>H</mi>
     <mo>′</mo>
    </msup>
    <mo>=</mo>
    <mrow>
     <mi>H</mi>
     <mo>+</mo>
     <mrow>
      <munder>
       <mo largeop="true" movablelimits="false" symmetric="true">∑</mo>
       <mi>k</mi>
      </munder>
      <mrow>
       <msub>
        <mi>U</mi>
        <mi>k</mi>
       </msub>
       <msub>
        <mi>ϕ</mi>
        <mi>k</mi>
       </msub>
      </mrow>
     </mrow>
    </mrow>
   </mrow>
   <mo>.</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <csymbol cd="ambiguous">superscript</csymbol>
     <ci>H</ci>
     <ci>normal-′</ci>
    </apply>
    <apply>
     <plus></plus>
     <ci>H</ci>
     <apply>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <sum></sum>
       <ci>k</ci>
      </apply>
      <apply>
       <times></times>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>U</ci>
        <ci>k</ci>
       </apply>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>ϕ</ci>
        <ci>k</ci>
       </apply>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   H^{\prime}=H+\sum_{k}U_{k}\phi_{k}.
  </annotation>
 </semantics>
</math>

 The time evolution of a function on the phase space, 

<math display="inline" id="Dirac_bracket:56">
 <semantics>
  <mi>f</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>f</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   f
  </annotation>
 </semantics>
</math>

 is governed by</p>

<p>

<math display="block" id="Dirac_bracket:57">
 <semantics>
  <mrow>
   <mrow>
    <mover accent="true">
     <mi>f</mi>
     <mo>˙</mo>
    </mover>
    <mo>≈</mo>
    <msub>
     <mrow>
      <mo stretchy="false">{</mo>
      <mi>f</mi>
      <mo>,</mo>
      <msub>
       <mi>H</mi>
       <mi>T</mi>
      </msub>
      <mo stretchy="false">}</mo>
     </mrow>
     <mrow>
      <mi>P</mi>
      <mi>B</mi>
     </mrow>
    </msub>
   </mrow>
   <mo>.</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <approx></approx>
    <apply>
     <ci>normal-˙</ci>
     <ci>f</ci>
    </apply>
    <apply>
     <csymbol cd="ambiguous">subscript</csymbol>
     <set>
      <ci>f</ci>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>H</ci>
       <ci>T</ci>
      </apply>
     </set>
     <apply>
      <times></times>
      <ci>P</ci>
      <ci>B</ci>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \dot{f}\approx\{f,H_{T}\}_{PB}.
  </annotation>
 </semantics>
</math>

 Later, the extended Hamiltonian is introduced. For gauge-invariant (physically measurable quantities) quantities, all of the Hamiltonians should give the same time evolution, since they are all weakly equivalent. It is only for nongauge-invariant quantities that the distinction becomes important.</p>
<h2 id="the-dirac-bracket">The Dirac bracket</h2>

<p>Above is everything needed to find the equations of motion in Dirac's modified Hamiltonian procedure. Having the equations of motion, however, is not the endpoint for theoretical considerations. If one wants to canonically quantize a general system, then one needs the Dirac brackets. Before defining Dirac brackets, <strong>first-class</strong> and <strong>second-class</strong> constraints need to be introduced.</p>

<p>We call a function 

<math display="inline" id="Dirac_bracket:58">
 <semantics>
  <mrow>
   <mi>f</mi>
   <mrow>
    <mo stretchy="false">(</mo>
    <mi>q</mi>
    <mo>,</mo>
    <mi>p</mi>
    <mo stretchy="false">)</mo>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <times></times>
    <ci>f</ci>
    <interval closure="open">
     <ci>q</ci>
     <ci>p</ci>
    </interval>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   f(q,p)
  </annotation>
 </semantics>
</math>

 of coordinates and momenta first class if its Poisson bracket with all of the constraints weakly vanishes, that is,</p>

<p>

<math display="block" id="Dirac_bracket:59">
 <semantics>
  <mrow>
   <mrow>
    <msub>
     <mrow>
      <mo stretchy="false">{</mo>
      <mi>f</mi>
      <mo>,</mo>
      <msub>
       <mi>ϕ</mi>
       <mi>j</mi>
      </msub>
      <mo stretchy="false">}</mo>
     </mrow>
     <mrow>
      <mi>P</mi>
      <mi>B</mi>
     </mrow>
    </msub>
    <mo>≈</mo>
    <mn>0</mn>
   </mrow>
   <mo>,</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <approx></approx>
    <apply>
     <csymbol cd="ambiguous">subscript</csymbol>
     <set>
      <ci>f</ci>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>ϕ</ci>
       <ci>j</ci>
      </apply>
     </set>
     <apply>
      <times></times>
      <ci>P</ci>
      <ci>B</ci>
     </apply>
    </apply>
    <cn type="integer">0</cn>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \{f,\phi_{j}\}_{PB}\approx 0,
  </annotation>
 </semantics>
</math>

 for all 

<math display="inline" id="Dirac_bracket:60">
 <semantics>
  <mi>j</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>j</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   j
  </annotation>
 </semantics>
</math>

. Note that the only quantities that weakly vanish are the constraints 

<math display="inline" id="Dirac_bracket:61">
 <semantics>
  <mi>φ</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>φ</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   φ
  </annotation>
 </semantics>
</math>

<sub><em>j</em></sub>, and therefore anything that weakly vanishes must be strongly equal to a linear combination of the constraints. One can demonstrate that the Poisson bracket of two first class quantities must also be first class. The first class constraints are intimately connected with the unphysical degrees of freedom mentioned earlier. Namely, the number of independent first class constraints is equal to the number of unphysical degrees of freedom, and furthermore the primary first class constraints generate gauge transformations. Dirac further postulated that all secondary first class constraints are generators of gauge transformations, which turns out to be false; however, typically one operates under the assumption that all first class constraints generate gauge transformations when using this treatment.<a class="footnoteRef" href="#fn6" id="fnref6"><sup>6</sup></a></p>

<p>When the first-class secondary constraints are added into the Hamiltonian with arbitrary <mtpl></mtpl> as the first class primary constraints are added to arrive at the total Hamiltonian, then one obtains the <strong>extended Hamiltonian</strong>. The extended Hamiltonian gives the most general possible time evolution for any gauge-dependent quantities, and may actually generalize the equations of motion from those of the Lagrangian formalism.</p>

<p>For the purposes of introducing the Dirac bracket, of more immediate interest are the <a href="First_class_constraint#Second_class_constraints" title="wikilink">second class constraints</a>. Second class constraints are constraints that have nonvanishing Poisson bracket with at least one other constraint.</p>

<p>For instance, consider constraints 

<math display="inline" id="Dirac_bracket:62">
 <semantics>
  <mi>φ</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>φ</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   φ
  </annotation>
 </semantics>
</math>

<sub>1</sub> and 

<math display="inline" id="Dirac_bracket:63">
 <semantics>
  <mi>φ</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>φ</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   φ
  </annotation>
 </semantics>
</math>

<sub>2</sub> whose Poisson bracket is simply a constant, 

<math display="inline" id="Dirac_bracket:64">
 <semantics>
  <mi>c</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>c</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   c
  </annotation>
 </semantics>
</math>

,</p>

<p>

<math display="block" id="Dirac_bracket:65">
 <semantics>
  <mrow>
   <mrow>
    <msub>
     <mrow>
      <mo stretchy="false">{</mo>
      <msub>
       <mi>ϕ</mi>
       <mn>1</mn>
      </msub>
      <mo>,</mo>
      <msub>
       <mi>ϕ</mi>
       <mn>2</mn>
      </msub>
      <mo stretchy="false">}</mo>
     </mrow>
     <mrow>
      <mi>P</mi>
      <mi>B</mi>
     </mrow>
    </msub>
    <mo>=</mo>
    <mpadded width="+3.3pt">
     <mi>c</mi>
    </mpadded>
   </mrow>
   <mo>.</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <csymbol cd="ambiguous">subscript</csymbol>
     <set>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>ϕ</ci>
       <cn type="integer">1</cn>
      </apply>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>ϕ</ci>
       <cn type="integer">2</cn>
      </apply>
     </set>
     <apply>
      <times></times>
      <ci>P</ci>
      <ci>B</ci>
     </apply>
    </apply>
    <ci>c</ci>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \{\phi_{1},\phi_{2}\}_{PB}=c~{}.
  </annotation>
 </semantics>
</math>

 Now, suppose one wishes to employ canonical quantization, then the phase-space coordinates become operators whose commutators become 

<math display="inline" id="Dirac_bracket:66">
 <semantics>
  <mrow>
   <mi>i</mi>
   <mi>ħ</mi>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <times></times>
    <ci>i</ci>
    <ci>ħ</ci>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   iħ
  </annotation>
 </semantics>
</math>

 times their classical Poisson bracket. Assuming there are no ordering issues that give rise to new quantum corrections, this implies that</p>

<p>

<math display="block" id="Dirac_bracket:67">
 <semantics>
  <mrow>
   <mrow>
    <mrow>
     <mo stretchy="false">[</mo>
     <msub>
      <mover accent="true">
       <mi>ϕ</mi>
       <mo stretchy="false">^</mo>
      </mover>
      <mn>1</mn>
     </msub>
     <mo>,</mo>
     <msub>
      <mover accent="true">
       <mi>ϕ</mi>
       <mo stretchy="false">^</mo>
      </mover>
      <mn>2</mn>
     </msub>
     <mo stretchy="false">]</mo>
    </mrow>
    <mo>=</mo>
    <mrow>
     <mi>i</mi>
     <mpadded width="+3.3pt">
      <mi mathvariant="normal">ℏ</mi>
     </mpadded>
     <mi>c</mi>
    </mrow>
   </mrow>
   <mo>,</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <interval closure="closed">
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <apply>
       <ci>normal-^</ci>
       <ci>ϕ</ci>
      </apply>
      <cn type="integer">1</cn>
     </apply>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <apply>
       <ci>normal-^</ci>
       <ci>ϕ</ci>
      </apply>
      <cn type="integer">2</cn>
     </apply>
    </interval>
    <apply>
     <times></times>
     <ci>i</ci>
     <csymbol cd="latexml">Planck-constant-over-2-pi</csymbol>
     <ci>c</ci>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   [\hat{\phi}_{1},\hat{\phi}_{2}]=i\hbar~{}c,
  </annotation>
 </semantics>
</math>

 where the hats emphasize the fact that the constraints are on operators.</p>

<p>On the one hand, canonical quantization gives the above commutation relation, but on the other hand 

<math display="inline" id="Dirac_bracket:68">
 <semantics>
  <mi>φ</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>φ</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   φ
  </annotation>
 </semantics>
</math>

<sub>1</sub> and 

<math display="inline" id="Dirac_bracket:69">
 <semantics>
  <mi>φ</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>φ</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   φ
  </annotation>
 </semantics>
</math>

<sub>2</sub> are constraints that must vanish on physical states, whereas the right-hand side cannot vanish. This example illustrates the need for some generalization of the Poisson bracket which respects the system's constraints, and which leads to a consistent quantization procedure. This new bracket should be bilinear, antisymmetric, satisfy the Jacobi identity as does the Poisson bracket, reduce to the Poisson bracket for unconstrained systems, and, additionally, <em>the bracket of any constraint with any other quantity must vanish</em>.</p>

<p>At this point, the second class constraints will be labeled <sub><em>a</em></sub> . Define a matrix with entries</p>

<p>

<math display="block" id="Dirac_bracket:70">
 <semantics>
  <mrow>
   <mrow>
    <msub>
     <mi>M</mi>
     <mrow>
      <mi>a</mi>
      <mi>b</mi>
     </mrow>
    </msub>
    <mo>=</mo>
    <msub>
     <mrow>
      <mo stretchy="false">{</mo>
      <msub>
       <mover accent="true">
        <mi>ϕ</mi>
        <mo stretchy="false">~</mo>
       </mover>
       <mi>a</mi>
      </msub>
      <mo>,</mo>
      <msub>
       <mover accent="true">
        <mi>ϕ</mi>
        <mo stretchy="false">~</mo>
       </mover>
       <mi>b</mi>
      </msub>
      <mo stretchy="false">}</mo>
     </mrow>
     <mrow>
      <mi>P</mi>
      <mi>B</mi>
     </mrow>
    </msub>
   </mrow>
   <mo>.</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <csymbol cd="ambiguous">subscript</csymbol>
     <ci>M</ci>
     <apply>
      <times></times>
      <ci>a</ci>
      <ci>b</ci>
     </apply>
    </apply>
    <apply>
     <csymbol cd="ambiguous">subscript</csymbol>
     <set>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <apply>
        <ci>normal-~</ci>
        <ci>ϕ</ci>
       </apply>
       <ci>a</ci>
      </apply>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <apply>
        <ci>normal-~</ci>
        <ci>ϕ</ci>
       </apply>
       <ci>b</ci>
      </apply>
     </set>
     <apply>
      <times></times>
      <ci>P</ci>
      <ci>B</ci>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   M_{ab}=\{\tilde{\phi}_{a},\tilde{\phi}_{b}\}_{PB}.
  </annotation>
 </semantics>
</math>

 In this case, the Dirac bracket of two functions on phase space, 

<math display="inline" id="Dirac_bracket:71">
 <semantics>
  <mi>f</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>f</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   f
  </annotation>
 </semantics>
</math>

 and 

<math display="inline" id="Dirac_bracket:72">
 <semantics>
  <mi>g</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>g</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   g
  </annotation>
 </semantics>
</math>

, is defined as  where <mtpl></mtpl> denotes the 

<math display="inline" id="Dirac_bracket:73">
 <semantics>
  <mrow>
   <mi>a</mi>
   <mi>b</mi>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <times></times>
    <ci>a</ci>
    <ci>b</ci>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   ab
  </annotation>
 </semantics>
</math>

 entry of 

<math display="inline" id="Dirac_bracket:74">
 <semantics>
  <mi>M</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>M</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   M
  </annotation>
 </semantics>
</math>

 's inverse matrix. Dirac proved that 

<math display="inline" id="Dirac_bracket:75">
 <semantics>
  <mi>M</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>M</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   M
  </annotation>
 </semantics>
</math>

 <em>will always be invertible</em>.</p>

<p>It is straightforward to check that the above definition of the Dirac bracket satisfies all of the desired properties, and especially the last one, of vanishing for an argument which is a constraint.</p>

<p>When applying <a href="canonical_quantization" title="wikilink">canonical quantization</a> on a constrained Hamiltonian system, the commutator of the operators is supplanted by 

<math display="inline" id="Dirac_bracket:76">
 <semantics>
  <mrow>
   <mi>i</mi>
   <mi>ħ</mi>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <times></times>
    <ci>i</ci>
    <ci>ħ</ci>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   iħ
  </annotation>
 </semantics>
</math>

 times their classical <em>Dirac bracket</em>. Since the Dirac bracket respects the constraints, one need not be careful about evaluating all brackets before using any weak equations, as is the case with the Poisson bracket.</p>

<p>Note that while the Poisson bracket of bosonic (Grassmann even) variables with itself must vanish, the Poisson bracket of fermions represented as a <a href="Grassmann_number" title="wikilink">Grassmann variables</a> with itself need not vanish. This means that in the fermionic case it <em>is</em> possible for there to be an odd number of second class constraints.</p>
<h2 id="illustration-on-the-example-provided">Illustration on the example provided</h2>

<p>Returning to the above example, the naive Hamiltonian and the two primary constraints are</p>

<p>

<math display="block" id="Dirac_bracket:77">
 <semantics>
  <mrow>
   <mi>H</mi>
   <mo>=</mo>
   <mrow>
    <mi>V</mi>
    <mrow>
     <mo stretchy="false">(</mo>
     <mi>x</mi>
     <mo>,</mo>
     <mi>y</mi>
     <mo stretchy="false">)</mo>
    </mrow>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <ci>H</ci>
    <apply>
     <times></times>
     <ci>V</ci>
     <interval closure="open">
      <ci>x</ci>
      <ci>y</ci>
     </interval>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   H=V(x,y)
  </annotation>
 </semantics>
</math>

</p>

<p>

<math display="block" id="Dirac_bracket:78">
 <semantics>
  <mrow>
   <mrow>
    <mrow>
     <msub>
      <mi>ϕ</mi>
      <mn>1</mn>
     </msub>
     <mo>=</mo>
     <mrow>
      <msub>
       <mi>p</mi>
       <mi>x</mi>
      </msub>
      <mo>+</mo>
      <mrow>
       <mstyle displaystyle="false">
        <mfrac>
         <mrow>
          <mi>q</mi>
          <mi>B</mi>
         </mrow>
         <mrow>
          <mn>2</mn>
          <mi>c</mi>
         </mrow>
        </mfrac>
       </mstyle>
       <mi>y</mi>
      </mrow>
     </mrow>
    </mrow>
    <mo rspace="22.5pt">,</mo>
    <mrow>
     <msub>
      <mi>ϕ</mi>
      <mn>2</mn>
     </msub>
     <mo>=</mo>
     <mrow>
      <msub>
       <mi>p</mi>
       <mi>y</mi>
      </msub>
      <mo>-</mo>
      <mrow>
       <mstyle displaystyle="false">
        <mfrac>
         <mrow>
          <mi>q</mi>
          <mi>B</mi>
         </mrow>
         <mrow>
          <mn>2</mn>
          <mi>c</mi>
         </mrow>
        </mfrac>
       </mstyle>
       <mi>x</mi>
      </mrow>
     </mrow>
    </mrow>
   </mrow>
   <mo>.</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <csymbol cd="ambiguous">formulae-sequence</csymbol>
    <apply>
     <eq></eq>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <ci>ϕ</ci>
      <cn type="integer">1</cn>
     </apply>
     <apply>
      <plus></plus>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>p</ci>
       <ci>x</ci>
      </apply>
      <apply>
       <times></times>
       <apply>
        <divide></divide>
        <apply>
         <times></times>
         <ci>q</ci>
         <ci>B</ci>
        </apply>
        <apply>
         <times></times>
         <cn type="integer">2</cn>
         <ci>c</ci>
        </apply>
       </apply>
       <ci>y</ci>
      </apply>
     </apply>
    </apply>
    <apply>
     <eq></eq>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <ci>ϕ</ci>
      <cn type="integer">2</cn>
     </apply>
     <apply>
      <minus></minus>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>p</ci>
       <ci>y</ci>
      </apply>
      <apply>
       <times></times>
       <apply>
        <divide></divide>
        <apply>
         <times></times>
         <ci>q</ci>
         <ci>B</ci>
        </apply>
        <apply>
         <times></times>
         <cn type="integer">2</cn>
         <ci>c</ci>
        </apply>
       </apply>
       <ci>x</ci>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \phi_{1}=p_{x}+\tfrac{qB}{2c}y,\qquad\phi_{2}=p_{y}-\tfrac{qB}{2c}x.
  </annotation>
 </semantics>
</math>

 Therefore the extended Hamiltonian can be written</p>

<p>

<math display="block" id="Dirac_bracket:79">
 <semantics>
  <mrow>
   <mrow>
    <msup>
     <mi>H</mi>
     <mo>*</mo>
    </msup>
    <mo>=</mo>
    <mrow>
     <mrow>
      <mi>V</mi>
      <mrow>
       <mo stretchy="false">(</mo>
       <mi>x</mi>
       <mo>,</mo>
       <mi>y</mi>
       <mo stretchy="false">)</mo>
      </mrow>
     </mrow>
     <mo>+</mo>
     <mrow>
      <msub>
       <mi>u</mi>
       <mn>1</mn>
      </msub>
      <mrow>
       <mo>(</mo>
       <mrow>
        <msub>
         <mi>p</mi>
         <mi>x</mi>
        </msub>
        <mo>+</mo>
        <mrow>
         <mstyle displaystyle="false">
          <mfrac>
           <mrow>
            <mi>q</mi>
            <mi>B</mi>
           </mrow>
           <mrow>
            <mn>2</mn>
            <mi>c</mi>
           </mrow>
          </mfrac>
         </mstyle>
         <mi>y</mi>
        </mrow>
       </mrow>
       <mo>)</mo>
      </mrow>
     </mrow>
     <mo>+</mo>
     <mrow>
      <msub>
       <mi>u</mi>
       <mn>2</mn>
      </msub>
      <mrow>
       <mo>(</mo>
       <mrow>
        <msub>
         <mi>p</mi>
         <mi>y</mi>
        </msub>
        <mo>-</mo>
        <mrow>
         <mstyle displaystyle="false">
          <mfrac>
           <mrow>
            <mi>q</mi>
            <mi>B</mi>
           </mrow>
           <mrow>
            <mn>2</mn>
            <mi>c</mi>
           </mrow>
          </mfrac>
         </mstyle>
         <mi>x</mi>
        </mrow>
       </mrow>
       <mo>)</mo>
      </mrow>
     </mrow>
    </mrow>
   </mrow>
   <mo>.</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <csymbol cd="ambiguous">superscript</csymbol>
     <ci>H</ci>
     <times></times>
    </apply>
    <apply>
     <plus></plus>
     <apply>
      <times></times>
      <ci>V</ci>
      <interval closure="open">
       <ci>x</ci>
       <ci>y</ci>
      </interval>
     </apply>
     <apply>
      <times></times>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>u</ci>
       <cn type="integer">1</cn>
      </apply>
      <apply>
       <plus></plus>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>p</ci>
        <ci>x</ci>
       </apply>
       <apply>
        <times></times>
        <apply>
         <divide></divide>
         <apply>
          <times></times>
          <ci>q</ci>
          <ci>B</ci>
         </apply>
         <apply>
          <times></times>
          <cn type="integer">2</cn>
          <ci>c</ci>
         </apply>
        </apply>
        <ci>y</ci>
       </apply>
      </apply>
     </apply>
     <apply>
      <times></times>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>u</ci>
       <cn type="integer">2</cn>
      </apply>
      <apply>
       <minus></minus>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>p</ci>
        <ci>y</ci>
       </apply>
       <apply>
        <times></times>
        <apply>
         <divide></divide>
         <apply>
          <times></times>
          <ci>q</ci>
          <ci>B</ci>
         </apply>
         <apply>
          <times></times>
          <cn type="integer">2</cn>
          <ci>c</ci>
         </apply>
        </apply>
        <ci>x</ci>
       </apply>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   H^{*}=V(x,y)+u_{1}\left(p_{x}+\tfrac{qB}{2c}y\right)+u_{2}\left(p_{y}-\tfrac{%
qB}{2c}x\right).
  </annotation>
 </semantics>
</math>

 The next step is to apply the consistency conditions 

<math display="inline" id="Dirac_bracket:80">
 <semantics>
  <msub>
   <mrow>
    <mo stretchy="false">{</mo>
    <msub>
     <mi>ϕ</mi>
     <mi>j</mi>
    </msub>
    <mo>,</mo>
    <msup>
     <mi>H</mi>
     <mo>*</mo>
    </msup>
    <mo stretchy="false">}</mo>
   </mrow>
   <mrow>
    <mi>P</mi>
    <mi>B</mi>
   </mrow>
  </msub>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <csymbol cd="ambiguous">subscript</csymbol>
    <set>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <ci>ϕ</ci>
      <ci>j</ci>
     </apply>
     <apply>
      <csymbol cd="ambiguous">superscript</csymbol>
      <ci>H</ci>
      <times></times>
     </apply>
    </set>
    <apply>
     <times></times>
     <ci>P</ci>
     <ci>B</ci>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \{\phi_{j},H^{*}\}_{PB}
  </annotation>
 </semantics>
</math>

 ≈ 0, which in this case become</p>

<p>

<math display="block" id="Dirac_bracket:81">
 <semantics>
  <mrow>
   <mrow>
    <msub>
     <mrow>
      <mo stretchy="false">{</mo>
      <msub>
       <mi>ϕ</mi>
       <mn>1</mn>
      </msub>
      <mo>,</mo>
      <mi>H</mi>
      <mo stretchy="false">}</mo>
     </mrow>
     <mrow>
      <mi>P</mi>
      <mi>B</mi>
     </mrow>
    </msub>
    <mo>+</mo>
    <mrow>
     <munder>
      <mo largeop="true" movablelimits="false" symmetric="true">∑</mo>
      <mi>j</mi>
     </munder>
     <mrow>
      <msub>
       <mi>u</mi>
       <mi>j</mi>
      </msub>
      <msub>
       <mrow>
        <mo stretchy="false">{</mo>
        <msub>
         <mi>ϕ</mi>
         <mn>1</mn>
        </msub>
        <mo>,</mo>
        <msub>
         <mi>ϕ</mi>
         <mi>j</mi>
        </msub>
        <mo stretchy="false">}</mo>
       </mrow>
       <mrow>
        <mi>P</mi>
        <mi>B</mi>
       </mrow>
      </msub>
     </mrow>
    </mrow>
   </mrow>
   <mo>=</mo>
   <mrow>
    <mrow>
     <mo>-</mo>
     <mfrac>
      <mrow>
       <mo>∂</mo>
       <mi>V</mi>
      </mrow>
      <mrow>
       <mo>∂</mo>
       <mi>x</mi>
      </mrow>
     </mfrac>
    </mrow>
    <mo>+</mo>
    <mrow>
     <msub>
      <mi>u</mi>
      <mn>2</mn>
     </msub>
     <mfrac>
      <mrow>
       <mi>q</mi>
       <mi>B</mi>
      </mrow>
      <mi>c</mi>
     </mfrac>
    </mrow>
   </mrow>
   <mo>≈</mo>
   <mn>0</mn>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <and></and>
    <apply>
     <eq></eq>
     <apply>
      <plus></plus>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <set>
        <apply>
         <csymbol cd="ambiguous">subscript</csymbol>
         <ci>ϕ</ci>
         <cn type="integer">1</cn>
        </apply>
        <ci>H</ci>
       </set>
       <apply>
        <times></times>
        <ci>P</ci>
        <ci>B</ci>
       </apply>
      </apply>
      <apply>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <sum></sum>
        <ci>j</ci>
       </apply>
       <apply>
        <times></times>
        <apply>
         <csymbol cd="ambiguous">subscript</csymbol>
         <ci>u</ci>
         <ci>j</ci>
        </apply>
        <apply>
         <csymbol cd="ambiguous">subscript</csymbol>
         <set>
          <apply>
           <csymbol cd="ambiguous">subscript</csymbol>
           <ci>ϕ</ci>
           <cn type="integer">1</cn>
          </apply>
          <apply>
           <csymbol cd="ambiguous">subscript</csymbol>
           <ci>ϕ</ci>
           <ci>j</ci>
          </apply>
         </set>
         <apply>
          <times></times>
          <ci>P</ci>
          <ci>B</ci>
         </apply>
        </apply>
       </apply>
      </apply>
     </apply>
     <apply>
      <plus></plus>
      <apply>
       <minus></minus>
       <apply>
        <divide></divide>
        <apply>
         <partialdiff></partialdiff>
         <ci>V</ci>
        </apply>
        <apply>
         <partialdiff></partialdiff>
         <ci>x</ci>
        </apply>
       </apply>
      </apply>
      <apply>
       <times></times>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>u</ci>
        <cn type="integer">2</cn>
       </apply>
       <apply>
        <divide></divide>
        <apply>
         <times></times>
         <ci>q</ci>
         <ci>B</ci>
        </apply>
        <ci>c</ci>
       </apply>
      </apply>
     </apply>
    </apply>
    <apply>
     <approx></approx>
     <share href="#.cmml">
     </share>
     <cn type="integer">0</cn>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \{\phi_{1},H\}_{PB}+\sum_{j}u_{j}\{\phi_{1},\phi_{j}\}_{PB}=-\frac{\partial V}%
{\partial x}+u_{2}\frac{qB}{c}\approx 0
  </annotation>
 </semantics>
</math>

</p>

<p>

<math display="block" id="Dirac_bracket:82">
 <semantics>
  <mrow>
   <mrow>
    <msub>
     <mrow>
      <mo stretchy="false">{</mo>
      <msub>
       <mi>ϕ</mi>
       <mn>2</mn>
      </msub>
      <mo>,</mo>
      <mi>H</mi>
      <mo stretchy="false">}</mo>
     </mrow>
     <mrow>
      <mi>P</mi>
      <mi>B</mi>
     </mrow>
    </msub>
    <mo>+</mo>
    <mrow>
     <munder>
      <mo largeop="true" movablelimits="false" symmetric="true">∑</mo>
      <mi>j</mi>
     </munder>
     <mrow>
      <msub>
       <mi>u</mi>
       <mi>j</mi>
      </msub>
      <msub>
       <mrow>
        <mo stretchy="false">{</mo>
        <msub>
         <mi>ϕ</mi>
         <mn>2</mn>
        </msub>
        <mo>,</mo>
        <msub>
         <mi>ϕ</mi>
         <mi>j</mi>
        </msub>
        <mo stretchy="false">}</mo>
       </mrow>
       <mrow>
        <mi>P</mi>
        <mi>B</mi>
       </mrow>
      </msub>
     </mrow>
    </mrow>
   </mrow>
   <mo>=</mo>
   <mrow>
    <mrow>
     <mo>-</mo>
     <mfrac>
      <mrow>
       <mo>∂</mo>
       <mi>V</mi>
      </mrow>
      <mrow>
       <mo>∂</mo>
       <mi>y</mi>
      </mrow>
     </mfrac>
    </mrow>
    <mo>-</mo>
    <mrow>
     <msub>
      <mi>u</mi>
      <mn>1</mn>
     </msub>
     <mfrac>
      <mrow>
       <mi>q</mi>
       <mi>B</mi>
      </mrow>
      <mi>c</mi>
     </mfrac>
    </mrow>
   </mrow>
   <mo>≈</mo>
   <mn>0.</mn>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <and></and>
    <apply>
     <eq></eq>
     <apply>
      <plus></plus>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <set>
        <apply>
         <csymbol cd="ambiguous">subscript</csymbol>
         <ci>ϕ</ci>
         <cn type="integer">2</cn>
        </apply>
        <ci>H</ci>
       </set>
       <apply>
        <times></times>
        <ci>P</ci>
        <ci>B</ci>
       </apply>
      </apply>
      <apply>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <sum></sum>
        <ci>j</ci>
       </apply>
       <apply>
        <times></times>
        <apply>
         <csymbol cd="ambiguous">subscript</csymbol>
         <ci>u</ci>
         <ci>j</ci>
        </apply>
        <apply>
         <csymbol cd="ambiguous">subscript</csymbol>
         <set>
          <apply>
           <csymbol cd="ambiguous">subscript</csymbol>
           <ci>ϕ</ci>
           <cn type="integer">2</cn>
          </apply>
          <apply>
           <csymbol cd="ambiguous">subscript</csymbol>
           <ci>ϕ</ci>
           <ci>j</ci>
          </apply>
         </set>
         <apply>
          <times></times>
          <ci>P</ci>
          <ci>B</ci>
         </apply>
        </apply>
       </apply>
      </apply>
     </apply>
     <apply>
      <minus></minus>
      <apply>
       <minus></minus>
       <apply>
        <divide></divide>
        <apply>
         <partialdiff></partialdiff>
         <ci>V</ci>
        </apply>
        <apply>
         <partialdiff></partialdiff>
         <ci>y</ci>
        </apply>
       </apply>
      </apply>
      <apply>
       <times></times>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>u</ci>
        <cn type="integer">1</cn>
       </apply>
       <apply>
        <divide></divide>
        <apply>
         <times></times>
         <ci>q</ci>
         <ci>B</ci>
        </apply>
        <ci>c</ci>
       </apply>
      </apply>
     </apply>
    </apply>
    <apply>
     <approx></approx>
     <share href="#.cmml">
     </share>
     <cn type="float">0.</cn>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \{\phi_{2},H\}_{PB}+\sum_{j}u_{j}\{\phi_{2},\phi_{j}\}_{PB}=-\frac{\partial V}%
{\partial y}-u_{1}\frac{qB}{c}\approx 0.
  </annotation>
 </semantics>
</math>

 These are <em>not</em> secondary constraints, but conditions that fix <mtpl></mtpl> and <mtpl></mtpl>. Therefore, there are no secondary constraints and the arbitrary coefficients are completely determined, indicating that there are no unphysical degrees of freedom.</p>

<p>If one plugs in with the values of <mtpl></mtpl> and <mtpl></mtpl>, then one can see that the equations of motion are</p>

<p>

<math display="block" id="Dirac_bracket:83">
 <semantics>
  <mrow>
   <mover accent="true">
    <mi>x</mi>
    <mo>˙</mo>
   </mover>
   <mo>=</mo>
   <mrow>
    <msub>
     <mrow>
      <mo stretchy="false">{</mo>
      <mi>x</mi>
      <mo>,</mo>
      <mi>H</mi>
      <mo stretchy="false">}</mo>
     </mrow>
     <mrow>
      <mi>P</mi>
      <mi>B</mi>
     </mrow>
    </msub>
    <mo>+</mo>
    <mrow>
     <msub>
      <mi>u</mi>
      <mn>1</mn>
     </msub>
     <msub>
      <mrow>
       <mo stretchy="false">{</mo>
       <mi>x</mi>
       <mo>,</mo>
       <msub>
        <mi>ϕ</mi>
        <mn>1</mn>
       </msub>
       <mo stretchy="false">}</mo>
      </mrow>
      <mrow>
       <mi>P</mi>
       <mi>B</mi>
      </mrow>
     </msub>
    </mrow>
    <mo>+</mo>
    <mrow>
     <msub>
      <mi>u</mi>
      <mn>2</mn>
     </msub>
     <mrow>
      <mo stretchy="false">{</mo>
      <mi>x</mi>
      <mo>,</mo>
      <msub>
       <mi>ϕ</mi>
       <mn>2</mn>
      </msub>
      <mo stretchy="false">}</mo>
     </mrow>
    </mrow>
   </mrow>
   <mo>=</mo>
   <mrow>
    <mo>-</mo>
    <mrow>
     <mfrac>
      <mi>c</mi>
      <mrow>
       <mi>q</mi>
       <mi>B</mi>
      </mrow>
     </mfrac>
     <mfrac>
      <mrow>
       <mo>∂</mo>
       <mi>V</mi>
      </mrow>
      <mrow>
       <mo>∂</mo>
       <mi>y</mi>
      </mrow>
     </mfrac>
    </mrow>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <and></and>
    <apply>
     <eq></eq>
     <apply>
      <ci>normal-˙</ci>
      <ci>x</ci>
     </apply>
     <apply>
      <plus></plus>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <set>
        <ci>x</ci>
        <ci>H</ci>
       </set>
       <apply>
        <times></times>
        <ci>P</ci>
        <ci>B</ci>
       </apply>
      </apply>
      <apply>
       <times></times>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>u</ci>
        <cn type="integer">1</cn>
       </apply>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <set>
         <ci>x</ci>
         <apply>
          <csymbol cd="ambiguous">subscript</csymbol>
          <ci>ϕ</ci>
          <cn type="integer">1</cn>
         </apply>
        </set>
        <apply>
         <times></times>
         <ci>P</ci>
         <ci>B</ci>
        </apply>
       </apply>
      </apply>
      <apply>
       <times></times>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>u</ci>
        <cn type="integer">2</cn>
       </apply>
       <set>
        <ci>x</ci>
        <apply>
         <csymbol cd="ambiguous">subscript</csymbol>
         <ci>ϕ</ci>
         <cn type="integer">2</cn>
        </apply>
       </set>
      </apply>
     </apply>
    </apply>
    <apply>
     <eq></eq>
     <share href="#.cmml">
     </share>
     <apply>
      <minus></minus>
      <apply>
       <times></times>
       <apply>
        <divide></divide>
        <ci>c</ci>
        <apply>
         <times></times>
         <ci>q</ci>
         <ci>B</ci>
        </apply>
       </apply>
       <apply>
        <divide></divide>
        <apply>
         <partialdiff></partialdiff>
         <ci>V</ci>
        </apply>
        <apply>
         <partialdiff></partialdiff>
         <ci>y</ci>
        </apply>
       </apply>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \dot{x}=\{x,H\}_{PB}+u_{1}\{x,\phi_{1}\}_{PB}+u_{2}\{x,\phi_{2}\}=-\frac{c}{qB%
}\frac{\partial V}{\partial y}
  </annotation>
 </semantics>
</math>

</p>

<p>

<math display="block" id="Dirac_bracket:84">
 <semantics>
  <mrow>
   <mover accent="true">
    <mi>y</mi>
    <mo>˙</mo>
   </mover>
   <mo>=</mo>
   <mrow>
    <mfrac>
     <mi>c</mi>
     <mrow>
      <mi>q</mi>
      <mi>B</mi>
     </mrow>
    </mfrac>
    <mfrac>
     <mrow>
      <mo>∂</mo>
      <mi>V</mi>
     </mrow>
     <mrow>
      <mo>∂</mo>
      <mi>x</mi>
     </mrow>
    </mfrac>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <ci>normal-˙</ci>
     <ci>y</ci>
    </apply>
    <apply>
     <times></times>
     <apply>
      <divide></divide>
      <ci>c</ci>
      <apply>
       <times></times>
       <ci>q</ci>
       <ci>B</ci>
      </apply>
     </apply>
     <apply>
      <divide></divide>
      <apply>
       <partialdiff></partialdiff>
       <ci>V</ci>
      </apply>
      <apply>
       <partialdiff></partialdiff>
       <ci>x</ci>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \dot{y}=\frac{c}{qB}\frac{\partial V}{\partial x}
  </annotation>
 </semantics>
</math>

</p>

<p>

<math display="block" id="Dirac_bracket:85">
 <semantics>
  <mrow>
   <msub>
    <mover accent="true">
     <mi>p</mi>
     <mo>˙</mo>
    </mover>
    <mi>x</mi>
   </msub>
   <mo>=</mo>
   <mrow>
    <mo>-</mo>
    <mrow>
     <mfrac>
      <mn>1</mn>
      <mn>2</mn>
     </mfrac>
     <mfrac>
      <mrow>
       <mo>∂</mo>
       <mi>V</mi>
      </mrow>
      <mrow>
       <mo>∂</mo>
       <mi>x</mi>
      </mrow>
     </mfrac>
    </mrow>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <csymbol cd="ambiguous">subscript</csymbol>
     <apply>
      <ci>normal-˙</ci>
      <ci>p</ci>
     </apply>
     <ci>x</ci>
    </apply>
    <apply>
     <minus></minus>
     <apply>
      <times></times>
      <apply>
       <divide></divide>
       <cn type="integer">1</cn>
       <cn type="integer">2</cn>
      </apply>
      <apply>
       <divide></divide>
       <apply>
        <partialdiff></partialdiff>
        <ci>V</ci>
       </apply>
       <apply>
        <partialdiff></partialdiff>
        <ci>x</ci>
       </apply>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \dot{p}_{x}=-\frac{1}{2}\frac{\partial V}{\partial x}
  </annotation>
 </semantics>
</math>

</p>

<p>

<math display="block" id="Dirac_bracket:86">
 <semantics>
  <mrow>
   <mrow>
    <msub>
     <mover accent="true">
      <mi>p</mi>
      <mo>˙</mo>
     </mover>
     <mi>y</mi>
    </msub>
    <mo>=</mo>
    <mrow>
     <mo>-</mo>
     <mrow>
      <mfrac>
       <mn>1</mn>
       <mn>2</mn>
      </mfrac>
      <mfrac>
       <mrow>
        <mo>∂</mo>
        <mi>V</mi>
       </mrow>
       <mrow>
        <mo>∂</mo>
        <mi>y</mi>
       </mrow>
      </mfrac>
     </mrow>
    </mrow>
   </mrow>
   <mo>,</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <csymbol cd="ambiguous">subscript</csymbol>
     <apply>
      <ci>normal-˙</ci>
      <ci>p</ci>
     </apply>
     <ci>y</ci>
    </apply>
    <apply>
     <minus></minus>
     <apply>
      <times></times>
      <apply>
       <divide></divide>
       <cn type="integer">1</cn>
       <cn type="integer">2</cn>
      </apply>
      <apply>
       <divide></divide>
       <apply>
        <partialdiff></partialdiff>
        <ci>V</ci>
       </apply>
       <apply>
        <partialdiff></partialdiff>
        <ci>y</ci>
       </apply>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \dot{p}_{y}=-\frac{1}{2}\frac{\partial V}{\partial y},
  </annotation>
 </semantics>
</math>

 which are self-consistent and coincide with the Lagrangian equations of motion.</p>

<p>A simple calculation confirms that 

<math display="inline" id="Dirac_bracket:87">
 <semantics>
  <mi>φ</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>φ</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   φ
  </annotation>
 </semantics>
</math>

<sub>1</sub> and 

<math display="inline" id="Dirac_bracket:88">
 <semantics>
  <mi>φ</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>φ</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   φ
  </annotation>
 </semantics>
</math>

<sub>2</sub> are second class constraints since</p>

<p>

<math display="block" id="Dirac_bracket:89">
 <semantics>
  <mrow>
   <mrow>
    <msub>
     <mrow>
      <mo stretchy="false">{</mo>
      <msub>
       <mi>ϕ</mi>
       <mn>1</mn>
      </msub>
      <mo>,</mo>
      <msub>
       <mi>ϕ</mi>
       <mn>2</mn>
      </msub>
      <mo stretchy="false">}</mo>
     </mrow>
     <mrow>
      <mi>P</mi>
      <mi>B</mi>
     </mrow>
    </msub>
    <mo>=</mo>
    <mrow>
     <mo>-</mo>
     <msub>
      <mrow>
       <mo stretchy="false">{</mo>
       <msub>
        <mi>ϕ</mi>
        <mn>2</mn>
       </msub>
       <mo>,</mo>
       <msub>
        <mi>ϕ</mi>
        <mn>1</mn>
       </msub>
       <mo stretchy="false">}</mo>
      </mrow>
      <mrow>
       <mi>P</mi>
       <mi>B</mi>
      </mrow>
     </msub>
    </mrow>
    <mo>=</mo>
    <mfrac>
     <mrow>
      <mi>q</mi>
      <mi>B</mi>
     </mrow>
     <mi>c</mi>
    </mfrac>
   </mrow>
   <mo>,</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <and></and>
    <apply>
     <eq></eq>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <set>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>ϕ</ci>
        <cn type="integer">1</cn>
       </apply>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>ϕ</ci>
        <cn type="integer">2</cn>
       </apply>
      </set>
      <apply>
       <times></times>
       <ci>P</ci>
       <ci>B</ci>
      </apply>
     </apply>
     <apply>
      <minus></minus>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <set>
        <apply>
         <csymbol cd="ambiguous">subscript</csymbol>
         <ci>ϕ</ci>
         <cn type="integer">2</cn>
        </apply>
        <apply>
         <csymbol cd="ambiguous">subscript</csymbol>
         <ci>ϕ</ci>
         <cn type="integer">1</cn>
        </apply>
       </set>
       <apply>
        <times></times>
        <ci>P</ci>
        <ci>B</ci>
       </apply>
      </apply>
     </apply>
    </apply>
    <apply>
     <eq></eq>
     <share href="#.cmml">
     </share>
     <apply>
      <divide></divide>
      <apply>
       <times></times>
       <ci>q</ci>
       <ci>B</ci>
      </apply>
      <ci>c</ci>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \{\phi_{1},\phi_{2}\}_{PB}=-\{\phi_{2},\phi_{1}\}_{PB}=\frac{qB}{c},
  </annotation>
 </semantics>
</math>

 hence the matrix looks like</p>

<p>

<math display="block" id="Dirac_bracket:90">
 <semantics>
  <mrow>
   <mrow>
    <mi>M</mi>
    <mo>=</mo>
    <mrow>
     <mfrac>
      <mrow>
       <mi>q</mi>
       <mi>B</mi>
      </mrow>
      <mi>c</mi>
     </mfrac>
     <mrow>
      <mo>(</mo>
      <mtable displaystyle="true">
       <mtr>
        <mtd columnalign="center">
         <mn>0</mn>
        </mtd>
        <mtd columnalign="center">
         <mn>1</mn>
        </mtd>
       </mtr>
       <mtr>
        <mtd columnalign="center">
         <mrow>
          <mo>-</mo>
          <mn>1</mn>
         </mrow>
        </mtd>
        <mtd columnalign="center">
         <mn>0</mn>
        </mtd>
       </mtr>
      </mtable>
      <mo>)</mo>
     </mrow>
    </mrow>
   </mrow>
   <mo>,</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <ci>M</ci>
    <apply>
     <times></times>
     <apply>
      <divide></divide>
      <apply>
       <times></times>
       <ci>q</ci>
       <ci>B</ci>
      </apply>
      <ci>c</ci>
     </apply>
     <matrix>
      <matrixrow>
       <cn type="integer">0</cn>
       <cn type="integer">1</cn>
      </matrixrow>
      <matrixrow>
       <apply>
        <minus></minus>
        <cn type="integer">1</cn>
       </apply>
       <cn type="integer">0</cn>
      </matrixrow>
     </matrix>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   M=\frac{qB}{c}\left(\begin{matrix}0&1\\
-1&0\end{matrix}\right),
  </annotation>
 </semantics>
</math>

 which is easily inverted to</p>

<p>

<math display="block" id="Dirac_bracket:91">
 <semantics>
  <mrow>
   <mrow>
    <mrow>
     <msup>
      <mi>M</mi>
      <mrow>
       <mo>-</mo>
       <mn>1</mn>
      </mrow>
     </msup>
     <mo>=</mo>
     <mrow>
      <mrow>
       <mfrac>
        <mi>c</mi>
        <mrow>
         <mi>q</mi>
         <mi>B</mi>
        </mrow>
       </mfrac>
       <mrow>
        <mo>(</mo>
        <mtable displaystyle="true">
         <mtr>
          <mtd columnalign="center">
           <mn>0</mn>
          </mtd>
          <mtd columnalign="center">
           <mrow>
            <mo>-</mo>
            <mn>1</mn>
           </mrow>
          </mtd>
         </mtr>
         <mtr>
          <mtd columnalign="center">
           <mn>1</mn>
          </mtd>
          <mtd columnalign="center">
           <mn>0</mn>
          </mtd>
         </mtr>
        </mtable>
        <mo>)</mo>
       </mrow>
      </mrow>
      <mo>⇒</mo>
     </mrow>
    </mrow>
    <mrow>
     <msubsup>
      <mi>M</mi>
      <mrow>
       <mi>a</mi>
       <mi>b</mi>
      </mrow>
      <mrow>
       <mo>-</mo>
       <mn>1</mn>
      </mrow>
     </msubsup>
     <mo>=</mo>
     <mrow>
      <mo>-</mo>
      <mrow>
       <mfrac>
        <mi>c</mi>
        <mrow>
         <mi>q</mi>
         <msub>
          <mi>B</mi>
          <mn>0</mn>
         </msub>
        </mrow>
       </mfrac>
       <msub>
        <mi>ϵ</mi>
        <mrow>
         <mi>a</mi>
         <mi>b</mi>
        </mrow>
       </msub>
      </mrow>
     </mrow>
    </mrow>
   </mrow>
   <mo>,</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <csymbol cd="ambiguous">formulae-sequence</csymbol>
    <apply>
     <eq></eq>
     <apply>
      <csymbol cd="ambiguous">superscript</csymbol>
      <ci>M</ci>
      <apply>
       <minus></minus>
       <cn type="integer">1</cn>
      </apply>
     </apply>
     <list>
      <apply>
       <times></times>
       <apply>
        <divide></divide>
        <ci>c</ci>
        <apply>
         <times></times>
         <ci>q</ci>
         <ci>B</ci>
        </apply>
       </apply>
       <matrix>
        <matrixrow>
         <cn type="integer">0</cn>
         <apply>
          <minus></minus>
          <cn type="integer">1</cn>
         </apply>
        </matrixrow>
        <matrixrow>
         <cn type="integer">1</cn>
         <cn type="integer">0</cn>
        </matrixrow>
       </matrix>
      </apply>
      <ci>normal-⇒</ci>
     </list>
    </apply>
    <apply>
     <eq></eq>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <apply>
       <csymbol cd="ambiguous">superscript</csymbol>
       <ci>M</ci>
       <apply>
        <minus></minus>
        <cn type="integer">1</cn>
       </apply>
      </apply>
      <apply>
       <times></times>
       <ci>a</ci>
       <ci>b</ci>
      </apply>
     </apply>
     <apply>
      <minus></minus>
      <apply>
       <times></times>
       <apply>
        <divide></divide>
        <ci>c</ci>
        <apply>
         <times></times>
         <ci>q</ci>
         <apply>
          <csymbol cd="ambiguous">subscript</csymbol>
          <ci>B</ci>
          <cn type="integer">0</cn>
         </apply>
        </apply>
       </apply>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>ϵ</ci>
        <apply>
         <times></times>
         <ci>a</ci>
         <ci>b</ci>
        </apply>
       </apply>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   M^{-1}=\frac{c}{qB}\left(\begin{matrix}0&-1\\
1&0\end{matrix}\right)\quad\Rightarrow\quad M^{-1}_{ab}=-\frac{c}{qB_{0}}%
\epsilon_{ab},
  </annotation>
 </semantics>
</math>

 where 

<math display="inline" id="Dirac_bracket:92">
 <semantics>
  <msub>
   <mi>ϵ</mi>
   <mrow>
    <mi>a</mi>
    <mi>b</mi>
   </mrow>
  </msub>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <csymbol cd="ambiguous">subscript</csymbol>
    <ci>ϵ</ci>
    <apply>
     <times></times>
     <ci>a</ci>
     <ci>b</ci>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \epsilon_{ab}
  </annotation>
 </semantics>
</math>

 is the <a href="Levi-Civita_symbol" title="wikilink">Levi-Civita symbol</a>. Thus, the Dirac brackets are defined to be</p>

<p>

<math display="block" id="Dirac_bracket:93">
 <semantics>
  <mrow>
   <mrow>
    <msub>
     <mrow>
      <mo stretchy="false">{</mo>
      <mi>f</mi>
      <mo>,</mo>
      <mi>g</mi>
      <mo stretchy="false">}</mo>
     </mrow>
     <mrow>
      <mi>D</mi>
      <mi>B</mi>
     </mrow>
    </msub>
    <mo>=</mo>
    <mrow>
     <msub>
      <mrow>
       <mo stretchy="false">{</mo>
       <mi>f</mi>
       <mo>,</mo>
       <mi>g</mi>
       <mo stretchy="false">}</mo>
      </mrow>
      <mrow>
       <mi>P</mi>
       <mi>B</mi>
      </mrow>
     </msub>
     <mo>+</mo>
     <mrow>
      <mfrac>
       <mrow>
        <mi>c</mi>
        <msub>
         <mi>ϵ</mi>
         <mrow>
          <mi>a</mi>
          <mi>b</mi>
         </mrow>
        </msub>
       </mrow>
       <mrow>
        <mi>q</mi>
        <mi>B</mi>
       </mrow>
      </mfrac>
      <msub>
       <mrow>
        <mo stretchy="false">{</mo>
        <mi>f</mi>
        <mo>,</mo>
        <msub>
         <mi>ϕ</mi>
         <mi>a</mi>
        </msub>
        <mo stretchy="false">}</mo>
       </mrow>
       <mrow>
        <mi>P</mi>
        <mi>B</mi>
       </mrow>
      </msub>
      <msub>
       <mrow>
        <mo stretchy="false">{</mo>
        <msub>
         <mi>ϕ</mi>
         <mi>b</mi>
        </msub>
        <mo>,</mo>
        <mi>g</mi>
        <mo stretchy="false">}</mo>
       </mrow>
       <mrow>
        <mi>P</mi>
        <mi>B</mi>
       </mrow>
      </msub>
     </mrow>
    </mrow>
   </mrow>
   <mo>.</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <csymbol cd="ambiguous">subscript</csymbol>
     <set>
      <ci>f</ci>
      <ci>g</ci>
     </set>
     <apply>
      <times></times>
      <ci>D</ci>
      <ci>B</ci>
     </apply>
    </apply>
    <apply>
     <plus></plus>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <set>
       <ci>f</ci>
       <ci>g</ci>
      </set>
      <apply>
       <times></times>
       <ci>P</ci>
       <ci>B</ci>
      </apply>
     </apply>
     <apply>
      <times></times>
      <apply>
       <divide></divide>
       <apply>
        <times></times>
        <ci>c</ci>
        <apply>
         <csymbol cd="ambiguous">subscript</csymbol>
         <ci>ϵ</ci>
         <apply>
          <times></times>
          <ci>a</ci>
          <ci>b</ci>
         </apply>
        </apply>
       </apply>
       <apply>
        <times></times>
        <ci>q</ci>
        <ci>B</ci>
       </apply>
      </apply>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <set>
        <ci>f</ci>
        <apply>
         <csymbol cd="ambiguous">subscript</csymbol>
         <ci>ϕ</ci>
         <ci>a</ci>
        </apply>
       </set>
       <apply>
        <times></times>
        <ci>P</ci>
        <ci>B</ci>
       </apply>
      </apply>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <set>
        <apply>
         <csymbol cd="ambiguous">subscript</csymbol>
         <ci>ϕ</ci>
         <ci>b</ci>
        </apply>
        <ci>g</ci>
       </set>
       <apply>
        <times></times>
        <ci>P</ci>
        <ci>B</ci>
       </apply>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \{f,g\}_{DB}=\{f,g\}_{PB}+\frac{c\epsilon_{ab}}{qB}\{f,\phi_{a}\}_{PB}\{\phi_{%
b},g\}_{PB}.
  </annotation>
 </semantics>
</math>

 If one always uses the Dirac bracket instead of the Poisson bracket, then there is no issue about the order of applying constraints and evaluating expressions, since the Dirac bracket of anything weakly zero is strongly equal to zero. This means that one can just use the naive Hamiltonian with Dirac brackets, instead, to thus get the correct equations of motion, which one can easily confirm on the above ones.</p>

<p>To quantize the system, the Dirac brackets between all of the phase space variables are needed. The nonvanishing Dirac brackets for this system are</p>

<p>

<math display="block" id="Dirac_bracket:94">
 <semantics>
  <mrow>
   <msub>
    <mrow>
     <mo stretchy="false">{</mo>
     <mi>x</mi>
     <mo>,</mo>
     <mi>y</mi>
     <mo stretchy="false">}</mo>
    </mrow>
    <mrow>
     <mi>D</mi>
     <mi>B</mi>
    </mrow>
   </msub>
   <mo>=</mo>
   <mrow>
    <mo>-</mo>
    <mstyle displaystyle="false">
     <mfrac>
      <mi>c</mi>
      <mrow>
       <mi>q</mi>
       <mi>B</mi>
      </mrow>
     </mfrac>
    </mstyle>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <csymbol cd="ambiguous">subscript</csymbol>
     <set>
      <ci>x</ci>
      <ci>y</ci>
     </set>
     <apply>
      <times></times>
      <ci>D</ci>
      <ci>B</ci>
     </apply>
    </apply>
    <apply>
     <minus></minus>
     <apply>
      <divide></divide>
      <ci>c</ci>
      <apply>
       <times></times>
       <ci>q</ci>
       <ci>B</ci>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \{x,y\}_{DB}=-\tfrac{c}{qB}
  </annotation>
 </semantics>
</math>

</p>

<p>

<math display="block" id="Dirac_bracket:95">
 <semantics>
  <mrow>
   <msub>
    <mrow>
     <mo stretchy="false">{</mo>
     <mi>x</mi>
     <mo>,</mo>
     <msub>
      <mi>p</mi>
      <mi>x</mi>
     </msub>
     <mo stretchy="false">}</mo>
    </mrow>
    <mrow>
     <mi>D</mi>
     <mi>B</mi>
    </mrow>
   </msub>
   <mo>=</mo>
   <msub>
    <mrow>
     <mo stretchy="false">{</mo>
     <mi>y</mi>
     <mo>,</mo>
     <msub>
      <mi>p</mi>
      <mi>y</mi>
     </msub>
     <mo stretchy="false">}</mo>
    </mrow>
    <mrow>
     <mi>D</mi>
     <mi>B</mi>
    </mrow>
   </msub>
   <mo>=</mo>
   <mfrac>
    <mn>1</mn>
    <mn>2</mn>
   </mfrac>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <and></and>
    <apply>
     <eq></eq>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <set>
       <ci>x</ci>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>p</ci>
        <ci>x</ci>
       </apply>
      </set>
      <apply>
       <times></times>
       <ci>D</ci>
       <ci>B</ci>
      </apply>
     </apply>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <set>
       <ci>y</ci>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>p</ci>
        <ci>y</ci>
       </apply>
      </set>
      <apply>
       <times></times>
       <ci>D</ci>
       <ci>B</ci>
      </apply>
     </apply>
    </apply>
    <apply>
     <eq></eq>
     <share href="#.cmml">
     </share>
     <apply>
      <divide></divide>
      <cn type="integer">1</cn>
      <cn type="integer">2</cn>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \{x,p_{x}\}_{DB}=\{y,p_{y}\}_{DB}=\frac{1}{2}
  </annotation>
 </semantics>
</math>

 while the cross-terms vanish, and</p>

<p>

<math display="block" id="Dirac_bracket:96">
 <semantics>
  <mrow>
   <mrow>
    <msub>
     <mrow>
      <mo stretchy="false">{</mo>
      <msub>
       <mi>p</mi>
       <mi>x</mi>
      </msub>
      <mo>,</mo>
      <msub>
       <mi>p</mi>
       <mi>y</mi>
      </msub>
      <mo stretchy="false">}</mo>
     </mrow>
     <mrow>
      <mi>D</mi>
      <mi>B</mi>
     </mrow>
    </msub>
    <mo>=</mo>
    <mrow>
     <mo>-</mo>
     <mstyle displaystyle="false">
      <mfrac>
       <mrow>
        <mi>q</mi>
        <mi>B</mi>
       </mrow>
       <mrow>
        <mn>4</mn>
        <mi>c</mi>
       </mrow>
      </mfrac>
     </mstyle>
    </mrow>
   </mrow>
   <mo>.</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <csymbol cd="ambiguous">subscript</csymbol>
     <set>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>p</ci>
       <ci>x</ci>
      </apply>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>p</ci>
       <ci>y</ci>
      </apply>
     </set>
     <apply>
      <times></times>
      <ci>D</ci>
      <ci>B</ci>
     </apply>
    </apply>
    <apply>
     <minus></minus>
     <apply>
      <divide></divide>
      <apply>
       <times></times>
       <ci>q</ci>
       <ci>B</ci>
      </apply>
      <apply>
       <times></times>
       <cn type="integer">4</cn>
       <ci>c</ci>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \{p_{x},p_{y}\}_{DB}=-\tfrac{qB}{4c}.
  </annotation>
 </semantics>
</math>

</p>

<p>Therefore, the correct implementation of <a href="canonical_quantization" title="wikilink">canonical quantization</a> dictates the commutation relations,</p>

<p>

<math display="block" id="Dirac_bracket:97">
 <semantics>
  <mrow>
   <mrow>
    <mo stretchy="false">[</mo>
    <mover accent="true">
     <mi>x</mi>
     <mo stretchy="false">^</mo>
    </mover>
    <mo>,</mo>
    <mover accent="true">
     <mi>y</mi>
     <mo stretchy="false">^</mo>
    </mover>
    <mo stretchy="false">]</mo>
   </mrow>
   <mo>=</mo>
   <mrow>
    <mo>-</mo>
    <mrow>
     <mi>i</mi>
     <mstyle displaystyle="false">
      <mfrac>
       <mrow>
        <mi mathvariant="normal">ℏ</mi>
        <mi>c</mi>
       </mrow>
       <mrow>
        <mi>q</mi>
        <mi>B</mi>
       </mrow>
      </mfrac>
     </mstyle>
    </mrow>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <interval closure="closed">
     <apply>
      <ci>normal-^</ci>
      <ci>x</ci>
     </apply>
     <apply>
      <ci>normal-^</ci>
      <ci>y</ci>
     </apply>
    </interval>
    <apply>
     <minus></minus>
     <apply>
      <times></times>
      <ci>i</ci>
      <apply>
       <divide></divide>
       <apply>
        <times></times>
        <csymbol cd="latexml">Planck-constant-over-2-pi</csymbol>
        <ci>c</ci>
       </apply>
       <apply>
        <times></times>
        <ci>q</ci>
        <ci>B</ci>
       </apply>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   [\hat{x},\hat{y}]=-i\tfrac{\hbar c}{qB}
  </annotation>
 </semantics>
</math>

</p>

<p>

<math display="block" id="Dirac_bracket:98">
 <semantics>
  <mrow>
   <mrow>
    <mo stretchy="false">[</mo>
    <mover accent="true">
     <mi>x</mi>
     <mo stretchy="false">^</mo>
    </mover>
    <mo>,</mo>
    <msub>
     <mover accent="true">
      <mi>p</mi>
      <mo stretchy="false">^</mo>
     </mover>
     <mi>x</mi>
    </msub>
    <mo stretchy="false">]</mo>
   </mrow>
   <mo>=</mo>
   <mrow>
    <mo stretchy="false">[</mo>
    <mover accent="true">
     <mi>y</mi>
     <mo stretchy="false">^</mo>
    </mover>
    <mo>,</mo>
    <msub>
     <mover accent="true">
      <mi>p</mi>
      <mo stretchy="false">^</mo>
     </mover>
     <mi>y</mi>
    </msub>
    <mo stretchy="false">]</mo>
   </mrow>
   <mo>=</mo>
   <mrow>
    <mi>i</mi>
    <mfrac>
     <mi mathvariant="normal">ℏ</mi>
     <mn>2</mn>
    </mfrac>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <and></and>
    <apply>
     <eq></eq>
     <interval closure="closed">
      <apply>
       <ci>normal-^</ci>
       <ci>x</ci>
      </apply>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <apply>
        <ci>normal-^</ci>
        <ci>p</ci>
       </apply>
       <ci>x</ci>
      </apply>
     </interval>
     <interval closure="closed">
      <apply>
       <ci>normal-^</ci>
       <ci>y</ci>
      </apply>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <apply>
        <ci>normal-^</ci>
        <ci>p</ci>
       </apply>
       <ci>y</ci>
      </apply>
     </interval>
    </apply>
    <apply>
     <eq></eq>
     <share href="#.cmml">
     </share>
     <apply>
      <times></times>
      <ci>i</ci>
      <apply>
       <divide></divide>
       <csymbol cd="latexml">Planck-constant-over-2-pi</csymbol>
       <cn type="integer">2</cn>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   [\hat{x},\hat{p}_{x}]=[\hat{y},\hat{p}_{y}]=i\frac{\hbar}{2}
  </annotation>
 </semantics>
</math>

 with the cross terms vanishing, and</p>

<p>

<math display="block" id="Dirac_bracket:99">
 <semantics>
  <mrow>
   <mrow>
    <mrow>
     <mo stretchy="false">[</mo>
     <msub>
      <mover accent="true">
       <mi>p</mi>
       <mo stretchy="false">^</mo>
      </mover>
      <mi>x</mi>
     </msub>
     <mo>,</mo>
     <msub>
      <mover accent="true">
       <mi>p</mi>
       <mo stretchy="false">^</mo>
      </mover>
      <mi>y</mi>
     </msub>
     <mo stretchy="false">]</mo>
    </mrow>
    <mo>=</mo>
    <mrow>
     <mo>-</mo>
     <mrow>
      <mi>i</mi>
      <mpadded width="+3.3pt">
       <mstyle displaystyle="false">
        <mfrac>
         <mrow>
          <mi mathvariant="normal">ℏ</mi>
          <mi>q</mi>
          <mi>B</mi>
         </mrow>
         <mrow>
          <mn>4</mn>
          <mi>c</mi>
         </mrow>
        </mfrac>
       </mstyle>
      </mpadded>
     </mrow>
    </mrow>
   </mrow>
   <mo>.</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <interval closure="closed">
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <apply>
       <ci>normal-^</ci>
       <ci>p</ci>
      </apply>
      <ci>x</ci>
     </apply>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <apply>
       <ci>normal-^</ci>
       <ci>p</ci>
      </apply>
      <ci>y</ci>
     </apply>
    </interval>
    <apply>
     <minus></minus>
     <apply>
      <times></times>
      <ci>i</ci>
      <apply>
       <divide></divide>
       <apply>
        <times></times>
        <csymbol cd="latexml">Planck-constant-over-2-pi</csymbol>
        <ci>q</ci>
        <ci>B</ci>
       </apply>
       <apply>
        <times></times>
        <cn type="integer">4</cn>
        <ci>c</ci>
       </apply>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   [\hat{p}_{x},\hat{p}_{y}]=-i\tfrac{\hbar qB}{4c}~{}.
  </annotation>
 </semantics>
</math>

</p>

<p>Interestingly, this example has a nonvanishing commutator between  and , which means this structure specifies a <a href="noncommutative_geometry" title="wikilink">noncommutative geometry</a>. (Since the two coordinates do not commute, there will be an <a href="uncertainty_principle" title="wikilink">uncertainty principle</a> for the 

<math display="inline" id="Dirac_bracket:100">
 <semantics>
  <mi>x</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>x</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   x
  </annotation>
 </semantics>
</math>


 and 

<math display="inline" id="Dirac_bracket:101">
 <semantics>
  <mi>y</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>y</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   y
  </annotation>
 </semantics>
</math>

 positions.)</p>

<p>Similarly, for free motion on a hypersphere <mtpl></mtpl>, the 

<math display="inline" id="Dirac_bracket:102">
 <semantics>
  <mi>n</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>n</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   n
  </annotation>
 </semantics>
</math>

+1 coordinates are constrained, <mtpl> 1}}</mtpl>. From a plain kinetic Lagrangian, it is evident that their momenta are perpendicular to them, <mtpl> 0}}</mtpl>. Thus the corresponding Dirac Brackets are likewise simple to work out,<a class="footnoteRef" href="#fn7" id="fnref7"><sup>7</sup></a></p>

<p>

<math display="block" id="Dirac_bracket:103">
 <semantics>
  <mrow>
   <mrow>
    <msub>
     <mrow>
      <mo stretchy="false">{</mo>
      <msub>
       <mi>x</mi>
       <mi>i</mi>
      </msub>
      <mo>,</mo>
      <msub>
       <mi>x</mi>
       <mi>j</mi>
      </msub>
      <mo stretchy="false">}</mo>
     </mrow>
     <mrow>
      <mi>D</mi>
      <mi>B</mi>
     </mrow>
    </msub>
    <mo>=</mo>
    <mn>0</mn>
   </mrow>
   <mo>,</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <csymbol cd="ambiguous">subscript</csymbol>
     <set>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>x</ci>
       <ci>i</ci>
      </apply>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>x</ci>
       <ci>j</ci>
      </apply>
     </set>
     <apply>
      <times></times>
      <ci>D</ci>
      <ci>B</ci>
     </apply>
    </apply>
    <cn type="integer">0</cn>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \{x_{i},x_{j}\}_{DB}=0,
  </annotation>
 </semantics>
</math>

</p>

<p>

<math display="block" id="Dirac_bracket:104">
 <semantics>
  <mrow>
   <mrow>
    <msub>
     <mrow>
      <mo stretchy="false">{</mo>
      <msub>
       <mi>x</mi>
       <mi>i</mi>
      </msub>
      <mo>,</mo>
      <msub>
       <mi>p</mi>
       <mi>j</mi>
      </msub>
      <mo stretchy="false">}</mo>
     </mrow>
     <mrow>
      <mi>D</mi>
      <mi>B</mi>
     </mrow>
    </msub>
    <mo>=</mo>
    <mrow>
     <msub>
      <mi>δ</mi>
      <mrow>
       <mi>i</mi>
       <mi>j</mi>
      </mrow>
     </msub>
     <mo>-</mo>
     <mrow>
      <msub>
       <mi>x</mi>
       <mi>i</mi>
      </msub>
      <msub>
       <mi>x</mi>
       <mi>j</mi>
      </msub>
     </mrow>
    </mrow>
   </mrow>
   <mo>,</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <csymbol cd="ambiguous">subscript</csymbol>
     <set>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>x</ci>
       <ci>i</ci>
      </apply>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>p</ci>
       <ci>j</ci>
      </apply>
     </set>
     <apply>
      <times></times>
      <ci>D</ci>
      <ci>B</ci>
     </apply>
    </apply>
    <apply>
     <minus></minus>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <ci>δ</ci>
      <apply>
       <times></times>
       <ci>i</ci>
       <ci>j</ci>
      </apply>
     </apply>
     <apply>
      <times></times>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>x</ci>
       <ci>i</ci>
      </apply>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>x</ci>
       <ci>j</ci>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \{x_{i},p_{j}\}_{DB}=\delta_{ij}-x_{i}x_{j},
  </annotation>
 </semantics>
</math>

</p>

<p>

<math display="block" id="Dirac_bracket:105">
 <semantics>
  <mrow>
   <mrow>
    <msub>
     <mrow>
      <mo stretchy="false">{</mo>
      <msub>
       <mi>p</mi>
       <mi>i</mi>
      </msub>
      <mo>,</mo>
      <msub>
       <mi>p</mi>
       <mi>j</mi>
      </msub>
      <mo stretchy="false">}</mo>
     </mrow>
     <mrow>
      <mi>D</mi>
      <mi>B</mi>
     </mrow>
    </msub>
    <mo>=</mo>
    <mrow>
     <mrow>
      <msub>
       <mi>x</mi>
       <mi>j</mi>
      </msub>
      <msub>
       <mi>p</mi>
       <mi>i</mi>
      </msub>
     </mrow>
     <mo>-</mo>
     <mrow>
      <msub>
       <mi>x</mi>
       <mi>i</mi>
      </msub>
      <mpadded width="+3.3pt">
       <msub>
        <mi>p</mi>
        <mi>j</mi>
       </msub>
      </mpadded>
     </mrow>
    </mrow>
   </mrow>
   <mo>.</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <csymbol cd="ambiguous">subscript</csymbol>
     <set>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>p</ci>
       <ci>i</ci>
      </apply>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>p</ci>
       <ci>j</ci>
      </apply>
     </set>
     <apply>
      <times></times>
      <ci>D</ci>
      <ci>B</ci>
     </apply>
    </apply>
    <apply>
     <minus></minus>
     <apply>
      <times></times>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>x</ci>
       <ci>j</ci>
      </apply>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>p</ci>
       <ci>i</ci>
      </apply>
     </apply>
     <apply>
      <times></times>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>x</ci>
       <ci>i</ci>
      </apply>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>p</ci>
       <ci>j</ci>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \{p_{i},p_{j}\}_{DB}=x_{j}p_{i}-x_{i}p_{j}~{}.
  </annotation>
 </semantics>
</math>

 The 2(

<math display="inline" id="Dirac_bracket:106">
 <semantics>
  <mi>n</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>n</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   n
  </annotation>
 </semantics>
</math>

+1) constrained phase-space variables <mtpl></mtpl> obey much <em>simpler Dirac brackets</em> than the 2

<math display="inline" id="Dirac_bracket:107">
 <semantics>
  <mi>n</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>n</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   n
  </annotation>
 </semantics>
</math>

 unconstrained variables, had one eliminated one of the 

<math display="inline" id="Dirac_bracket:108">
 <semantics>
  <mi>x</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>x</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   x
  </annotation>
 </semantics>
</math>

s and one of the 

<math display="inline" id="Dirac_bracket:109">
 <semantics>
  <mi>p</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>p</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   p
  </annotation>
 </semantics>
</math>

s through the two constraints ab initio, which would obey plain Poisson brackets. The Dirac brackets add simplicity and elegance, at the cost of excessive (constrained) phase-space variables.</p>

<p>For example, for free motion on a circle, 

<math display="inline" id="Dirac_bracket:110">
 <semantics>
  <mi>n</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>n</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   n
  </annotation>
 </semantics>
</math>


=1, for 

<math display="inline" id="Dirac_bracket:111">
 <semantics>
  <mi>x</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>x</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   x
  </annotation>
 </semantics>
</math>

<sub>1</sub>≡ 

<math display="inline" id="Dirac_bracket:112">
 <semantics>
  <mi>z</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>z</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   z
  </annotation>
 </semantics>
</math>

 and eliminating 

<math display="inline" id="Dirac_bracket:113">
 <semantics>
  <mi>x</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>x</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   x
  </annotation>
 </semantics>
</math>

<sub>2</sub> from the circle constraint yields the unconstrained</p>

<p>

<math display="block" id="Dirac_bracket:114">
 <semantics>
  <mrow>
   <mrow>
    <mi>L</mi>
    <mo>=</mo>
    <mrow>
     <mfrac>
      <mn>1</mn>
      <mn>2</mn>
     </mfrac>
     <mpadded width="+3.3pt">
      <mfrac>
       <msup>
        <mover accent="true">
         <mi>z</mi>
         <mo>˙</mo>
        </mover>
        <mn>2</mn>
       </msup>
       <mrow>
        <mn>1</mn>
        <mo>-</mo>
        <msup>
         <mi>z</mi>
         <mn>2</mn>
        </msup>
       </mrow>
      </mfrac>
     </mpadded>
    </mrow>
   </mrow>
   <mo>,</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <ci>L</ci>
    <apply>
     <times></times>
     <apply>
      <divide></divide>
      <cn type="integer">1</cn>
      <cn type="integer">2</cn>
     </apply>
     <apply>
      <divide></divide>
      <apply>
       <csymbol cd="ambiguous">superscript</csymbol>
       <apply>
        <ci>normal-˙</ci>
        <ci>z</ci>
       </apply>
       <cn type="integer">2</cn>
      </apply>
      <apply>
       <minus></minus>
       <cn type="integer">1</cn>
       <apply>
        <csymbol cd="ambiguous">superscript</csymbol>
        <ci>z</ci>
        <cn type="integer">2</cn>
       </apply>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   L=\frac{1}{2}\frac{{\dot{z}}^{2}}{1-z^{2}}~{},
  </annotation>
 </semantics>
</math>

 with equations of motion</p>

<p>

<math display="block" id="Dirac_bracket:115">
 <semantics>
  <mrow>
   <mrow>
    <mover accent="true">
     <mi>z</mi>
     <mo>¨</mo>
    </mover>
    <mo>=</mo>
    <mrow>
     <mo>-</mo>
     <mrow>
      <mi>z</mi>
      <mfrac>
       <msup>
        <mover accent="true">
         <mi>z</mi>
         <mo>˙</mo>
        </mover>
        <mn>2</mn>
       </msup>
       <mrow>
        <mn>1</mn>
        <mo>-</mo>
        <msup>
         <mi>z</mi>
         <mn>2</mn>
        </msup>
       </mrow>
      </mfrac>
     </mrow>
    </mrow>
    <mo>=</mo>
    <mrow>
     <mo>-</mo>
     <mrow>
      <mi>z</mi>
      <mn>2</mn>
      <mpadded width="+3.3pt">
       <mi>E</mi>
      </mpadded>
     </mrow>
    </mrow>
   </mrow>
   <mo>,</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <and></and>
    <apply>
     <eq></eq>
     <apply>
      <ci>normal-¨</ci>
      <ci>z</ci>
     </apply>
     <apply>
      <minus></minus>
      <apply>
       <times></times>
       <ci>z</ci>
       <apply>
        <divide></divide>
        <apply>
         <csymbol cd="ambiguous">superscript</csymbol>
         <apply>
          <ci>normal-˙</ci>
          <ci>z</ci>
         </apply>
         <cn type="integer">2</cn>
        </apply>
        <apply>
         <minus></minus>
         <cn type="integer">1</cn>
         <apply>
          <csymbol cd="ambiguous">superscript</csymbol>
          <ci>z</ci>
          <cn type="integer">2</cn>
         </apply>
        </apply>
       </apply>
      </apply>
     </apply>
    </apply>
    <apply>
     <eq></eq>
     <share href="#.cmml">
     </share>
     <apply>
      <minus></minus>
      <apply>
       <times></times>
       <ci>z</ci>
       <cn type="integer">2</cn>
       <ci>E</ci>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   {\ddot{z}}=-z\frac{{\dot{z}}^{2}}{1-z^{2}}=-z2E~{},
  </annotation>
 </semantics>
</math>

 an oscillation; whereas the equivalent constrained system with 

<math display="inline" id="Dirac_bracket:116">
 <semantics>
  <mi>H</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>H</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   H
  </annotation>
 </semantics>
</math>

 = 

<math display="inline" id="Dirac_bracket:117">
 <semantics>
  <mi>p</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>p</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   p
  </annotation>
 </semantics>
</math>

<sup>2</sup>/2 = 

<math display="inline" id="Dirac_bracket:118">
 <semantics>
  <mi>E</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>E</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   E
  </annotation>
 </semantics>
</math>

 yields</p>

<p>

<math display="block" id="Dirac_bracket:119">
 <semantics>
  <mrow>
   <mrow>
    <msup>
     <mover accent="true">
      <mi>x</mi>
      <mo>˙</mo>
     </mover>
     <mi>i</mi>
    </msup>
    <mo>=</mo>
    <msub>
     <mrow>
      <mo stretchy="false">{</mo>
      <msup>
       <mi>x</mi>
       <mi>i</mi>
      </msup>
      <mo>,</mo>
      <mi>H</mi>
      <mo stretchy="false">}</mo>
     </mrow>
     <mrow>
      <mi>D</mi>
      <mi>B</mi>
     </mrow>
    </msub>
    <mo>=</mo>
    <mpadded width="+3.3pt">
     <msup>
      <mi>p</mi>
      <mi>i</mi>
     </msup>
    </mpadded>
   </mrow>
   <mo>,</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <and></and>
    <apply>
     <eq></eq>
     <apply>
      <csymbol cd="ambiguous">superscript</csymbol>
      <apply>
       <ci>normal-˙</ci>
       <ci>x</ci>
      </apply>
      <ci>i</ci>
     </apply>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <set>
       <apply>
        <csymbol cd="ambiguous">superscript</csymbol>
        <ci>x</ci>
        <ci>i</ci>
       </apply>
       <ci>H</ci>
      </set>
      <apply>
       <times></times>
       <ci>D</ci>
       <ci>B</ci>
      </apply>
     </apply>
    </apply>
    <apply>
     <eq></eq>
     <share href="#.cmml">
     </share>
     <apply>
      <csymbol cd="ambiguous">superscript</csymbol>
      <ci>p</ci>
      <ci>i</ci>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   {\dot{x}}^{i}=\{x^{i},H\}_{DB}=p^{i}~{},
  </annotation>
 </semantics>
</math>

</p>

<p>

<math display="block" id="Dirac_bracket:120">
 <semantics>
  <mrow>
   <mrow>
    <msup>
     <mover accent="true">
      <mi>p</mi>
      <mo>˙</mo>
     </mover>
     <mi>i</mi>
    </msup>
    <mo>=</mo>
    <msub>
     <mrow>
      <mo stretchy="false">{</mo>
      <msup>
       <mi>p</mi>
       <mi>i</mi>
      </msup>
      <mo>,</mo>
      <mi>H</mi>
      <mo stretchy="false">}</mo>
     </mrow>
     <mrow>
      <mi>D</mi>
      <mi>B</mi>
     </mrow>
    </msub>
    <mo>=</mo>
    <mrow>
     <mpadded width="+3.3pt">
      <msup>
       <mi>x</mi>
       <mi>i</mi>
      </msup>
     </mpadded>
     <mpadded width="+3.3pt">
      <msup>
       <mi>p</mi>
       <mn>2</mn>
      </msup>
     </mpadded>
    </mrow>
   </mrow>
   <mo>,</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <and></and>
    <apply>
     <eq></eq>
     <apply>
      <csymbol cd="ambiguous">superscript</csymbol>
      <apply>
       <ci>normal-˙</ci>
       <ci>p</ci>
      </apply>
      <ci>i</ci>
     </apply>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <set>
       <apply>
        <csymbol cd="ambiguous">superscript</csymbol>
        <ci>p</ci>
        <ci>i</ci>
       </apply>
       <ci>H</ci>
      </set>
      <apply>
       <times></times>
       <ci>D</ci>
       <ci>B</ci>
      </apply>
     </apply>
    </apply>
    <apply>
     <eq></eq>
     <share href="#.cmml">
     </share>
     <apply>
      <times></times>
      <apply>
       <csymbol cd="ambiguous">superscript</csymbol>
       <ci>x</ci>
       <ci>i</ci>
      </apply>
      <apply>
       <csymbol cd="ambiguous">superscript</csymbol>
       <ci>p</ci>
       <cn type="integer">2</cn>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   {\dot{p}}^{i}=\{p^{i},H\}_{DB}=x^{i}~{}p^{2}~{},
  </annotation>
 </semantics>
</math>

 whence, instantly, virtually by inspection, oscillation for both variables,</p>

<p>

<math display="block" id="Dirac_bracket:121">
 <semantics>
  <mrow>
   <mrow>
    <msup>
     <mover accent="true">
      <mi>x</mi>
      <mo>¨</mo>
     </mover>
     <mi>i</mi>
    </msup>
    <mo>=</mo>
    <mrow>
     <mo>-</mo>
     <mrow>
      <msup>
       <mi>x</mi>
       <mi>i</mi>
      </msup>
      <mn>2</mn>
      <mpadded width="+3.3pt">
       <mi>E</mi>
      </mpadded>
     </mrow>
    </mrow>
   </mrow>
   <mo>.</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <csymbol cd="ambiguous">superscript</csymbol>
     <apply>
      <ci>normal-¨</ci>
      <ci>x</ci>
     </apply>
     <ci>i</ci>
    </apply>
    <apply>
     <minus></minus>
     <apply>
      <times></times>
      <apply>
       <csymbol cd="ambiguous">superscript</csymbol>
       <ci>x</ci>
       <ci>i</ci>
      </apply>
      <cn type="integer">2</cn>
      <ci>E</ci>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   {\ddot{x}}^{i}=-x^{i}2E~{}.
  </annotation>
 </semantics>
</math>

</p>
<h2 id="references">References</h2>
<h2 id="see-also">See also</h2>
<ul>
<li><a href="Canonical_quantization" title="wikilink">Canonical quantization</a></li>
<li><a href="Hamiltonian_mechanics" title="wikilink">Hamiltonian mechanics</a></li>
<li><a href="Poisson_bracket" title="wikilink">Poisson bracket</a></li>
<li><a href="First_class_constraint" title="wikilink">First class constraint</a></li>
<li><a href="Second_class_constraints" title="wikilink">Second class constraints</a></li>
<li><a href="Lagrangian_(field_theory)" title="wikilink">Lagrangian</a></li>
<li><a href="Symplectic_structure" title="wikilink">Symplectic structure</a></li>
<li><a class="uri" href="Overcompleteness" title="wikilink">Overcompleteness</a></li>
</ul>

<p>"</p>

<p><a href="Category:Mathematical_quantization" title="wikilink">Category:Mathematical quantization</a> <a href="Category:Symplectic_geometry" title="wikilink">Category:Symplectic geometry</a> <a href="Category:Hamiltonian_mechanics" title="wikilink">Category:Hamiltonian mechanics</a> <a href="Category:Theoretical_physics" title="wikilink">Category:Theoretical physics</a></p>
<section class="footnotes">
<hr/>
<ol>
<li id="fn1">; Dover, ISBN 0486417131.<a href="#fnref1">↩</a></li>
<li id="fn2">See pages 48-58 of Ch. 2 in Henneaux, Marc and Teitelboim, Claudio, <em>Quantization of Gauge Systems</em>. Princeton University Press, 1992. ISBN 0-691-08775-X<a href="#fnref2">↩</a></li>
<li id="fn3"><a href="#fnref3">↩</a></li>
<li id="fn4">See page 8 in Henneaux and Teitelboim in the references.<a href="#fnref4">↩</a></li>
<li id="fn5">Weinberg, Steven, <em>The Quantum Theory of Fields</em>, Volume 1. Cambridge University Press, 1995. ISBN 0-521-55001-7<a href="#fnref5">↩</a></li>
<li id="fn6">See Henneaux and Teitelboim, pages 18-19.<a href="#fnref6">↩</a></li>
<li id="fn7"><a href="#fnref7">↩</a></li>
</ol>
</section>
</hr></body>
</html>
