


Op amp integrator




Op amp integrator

The operational amplifier integrator is an electronic integration circuit. Based on the operational amplifier (op-amp), it performs the mathematical operation of integration with respect to time; that is, its output voltage is proportional to the input voltage integrated over time.
Applications
The integrator circuit is mostly used in analog computers, analog-to-digital converters and wave-shaping circuits. A common wave-shaping use is as a charge amplifier and they are usually constructed using an operational amplifier though they can use high gain discrete transistor configurations.
Design
The input current is offset by a negative feedback current flowing in the capacitor, which is generated by an increase in output voltage of the amplifier. The output voltage is therefore dependent on the value of input current it has to offset and the inverse of the value of the feedback capacitor. The greater the capacitor value, the less output voltage has to be generated to produce a particular feedback current flow.
The input impedance of the circuit is almost zero because of the Miller effect. Hence all the stray capacitances (the cable capacitance, the amplifier input capacitance, etc.) are virtually grounded and they have no influence on the output signal.1
Ideal circuit
(Figure)
Integrator circuit

The circuit operates by passing a current that charges or discharges the capacitor Cf during the time under consideration, which strives to retain the virtual ground condition at the input by off-setting the effect of the input current. Referring to the above diagram, if the op-amp is assumed to be ideal, nodes v1 and v2 are held equal, and so v2 is a virtual ground. The input voltage passes a current 
 
 
 
  through the resistor producing a compensating current flow through the series capacitor to maintain the virtual ground. This charges or discharges the capacitor over time. Because the resistor and capacitor are connected to a virtual ground, the input current does not vary with capacitor charge and a linear integration of output is achieved.
The circuit can be analyzed by applying Kirchhoff's current law at the node v2, keeping ideal op-amp behaviour in mind.



 
  in an ideal op-amp, so:



Furthermore, the capacitor has a voltage-current relationship governed by the equation:



Substituting the appropriate variables:



 
  in an ideal op-amp, resulting in:



Integrating both sides with respect to time:



If the initial value of vo is assumed to be 0 V, this results in a DC error of:2



Practical circuit

 The ideal circuit is not a practical integrator design for a number of reasons. Practical op-amps have a finite open-loop gain, an input offset voltage and input bias currents (
 
 
 
 ). This can cause several issues for the ideal design; most importantly, if 
 
 
 
 , both the output offset voltage and the input bias current 
 
 
 
  can cause current to pass through the capacitor, causing the output voltage to drift over time until the op-amp saturates. Similarly, if 
 
 
 
 
  were a signal centered about zero volts (i.e. without a DC component), no drift would be expected in an ideal circuit, but may occur in a real circuit. To negate the effect of the input bias current, it is necessary to set:


 
 . The error voltage then becomes:



The input bias current thus causes the same voltage drops at both the positive and negative terminals.
Also, in a DC steady state, the capacitor acts as an open circuit. The DC gain of the ideal circuit is therefore infinite (or in practice, the open-loop gain of a non-ideal op-amp). To counter this, a large resistor 
 
 
 
  is inserted in parallel with the feedback capacitor, as shown in the figure above. This limits the DC gain of the circuit to a finite value, and hence changes the output drift into a finite, preferably small, DC error. Referring to the above diagram:



where 
 
 
 
 
  is the input offset voltage and 
 
 
 
  is the input bias current on the inverting terminal. 
 
 
 
  indicates two resistance values in parallel.
Frequency response
(Figure)
Frequency response of ideal and practical integrator.

The frequency responses of the practical and ideal integrator are shown in the above figure. For both circuits, the crossover frequency 
 
 
 
 , at which the gain is 0 dB, is given by:



The 3 dB cutoff frequency

 
 
  of the practical circuit is given by:



The practical integrator circuit is equivalent to an active first-order low-pass filter. The gain is relatively constant up to the cutoff frequency and decreases by 20 dB per decade beyond it. The integration operation occurs for frequencies in the range 
 
 
 
 , provided that 
 
 
 
 . This condition can be achieved by appropriate choice of 
 
 
 
  and 
 
 
 
 
  time constants.
References

OP AMP Integrator Complete Tutorial

"
Category:Analog circuits Category:Linear electronic circuits



Transducers with Charge Output↩
↩




