   Inverse image functor      Inverse image functor   In mathematics , the inverse image functor is a covariant construction of sheaves . The direct image functor is the primary operation on sheaves, with the simplest definition. The inverse image exhibits some relatively subtle features.  Definition  Suppose given a sheaf   ğ’¢   ğ’¢   \mathcal{G}   on   Y   Y   Y   and that we want to transport   ğ’¢   ğ’¢   \mathcal{G}   to   X   X   X   using a continuous map     f  :   X  â†’  Y      normal-:  f   normal-â†’  X  Y     f\colon X\to Y   .  We will call the result the inverse image or pullback  sheaf      f   -  1    ğ’¢       superscript  f    1    ğ’¢    f^{-1}\mathcal{G}   . If we try to imitate the direct image by setting        f   -  1    ğ’¢   (  U  )    =   ğ’¢   (   f   (  U  )    )           superscript  f    1    ğ’¢  U     ğ’¢    f  U      f^{-1}\mathcal{G}(U)=\mathcal{G}(f(U))   for each open set   U   U   U   of   X   X   X   , we immediately run into a problem    f   (  U  )       f  U    f(U)   is not necessarily open. The best we could do is to approximate it by open sets, and even then we will get a presheaf and not a sheaf. Consequently, we define     f   -  1    ğ’¢       superscript  f    1    ğ’¢    f^{-1}\mathcal{G}   to be the sheaf associated to the presheaf :       U  â†¦     lim  â†’    V  âŠ‡   f   (  U  )       ğ’¢   (  V  )      .     maps-to  U    subscript  injective-limit      f  U   V      ğ’¢  V      U\mapsto\underrightarrow{\lim}_{V\supseteq f(U)}\mathcal{G}(V).   (Here   U   U   U   is an open subset of   X   X   X   and the colimit runs over all open subsets   V   V   V   of   Y   Y   Y   containing    f   (  U  )       f  U    f(U)   .)  For example, if   f   f   f   is just the inclusion of a point   y   y   y   of   Y   Y   Y   , then     f   -  1     (  â„±  )        superscript  f    1    â„±    f^{-1}(\mathcal{F})   is just the stalk of   â„±   â„±   \mathcal{F}   at this point.  The restriction maps, as well as the functoriality of the inverse image follows from the universal property of direct limits .  When dealing with morphisms     f  :   X  â†’  Y      normal-:  f   normal-â†’  X  Y     f\colon X\to Y   of locally ringed spaces , for example schemes in algebraic geometry , one often works with sheaves of    ğ’ª  Y     subscript  ğ’ª  Y    \mathcal{O}_{Y}   -modules, where    ğ’ª  Y     subscript  ğ’ª  Y    \mathcal{O}_{Y}   is the structure sheaf of   Y   Y   Y   . Then the functor    f   -  1      superscript  f    1     f^{-1}   is inappropriate, because in general it does not even give sheaves of    ğ’ª  X     subscript  ğ’ª  X    \mathcal{O}_{X}   -modules. In order to remedy this, one defines in this situation for a sheaf of    ğ’ª  Y     subscript  ğ’ª  Y    \mathcal{O}_{Y}   -modules   ğ’¢   ğ’¢   \mathcal{G}   its inverse image by        f  *   ğ’¢   :=     f   -  1    ğ’¢    âŠ—    f   -  1     ğ’ª  Y      ğ’ª  X       assign     superscript  f    ğ’¢     subscript  tensor-product     superscript  f    1     subscript  ğ’ª  Y        superscript  f    1    ğ’¢    subscript  ğ’ª  X      f^{*}\mathcal{G}:=f^{-1}\mathcal{G}\otimes_{f^{-1}\mathcal{O}_{Y}}\mathcal{O}_%
 {X}   .  Properties   While    f   -  1      superscript  f    1     f^{-1}   is more complicated to define than    f  âˆ—     subscript  f  normal-âˆ—    f_{\ast}   , the stalks are easier to compute: given a point    x  âˆˆ  X      x  X    x\in X   , one has      (    f   -  1    ğ’¢   )   x   â‰…   ğ’¢   f   (  x  )          subscript     superscript  f    1    ğ’¢   x    subscript  ğ’¢    f  x      (f^{-1}\mathcal{G})_{x}\cong\mathcal{G}_{f(x)}   .      f   -  1      superscript  f    1     f^{-1}   is an exact functor, as can be seen by the above calculation of the stalks.      f  *     superscript  f     f^{*}   is (in general) only right exact. If    f  *     superscript  f     f^{*}   is exact, f is called flat .      f   -  1      superscript  f    1     f^{-1}   is the left adjoint of the direct image functor     f  âˆ—     subscript  f  normal-âˆ—    f_{\ast}   . This implies that there are natural unit and counit morphisms    ğ’¢  â†’    f  *    f   -  1    ğ’¢      normal-â†’  ğ’¢     subscript  f     superscript  f    1    ğ’¢     \mathcal{G}\rightarrow f_{*}f^{-1}\mathcal{G}   and      f   -  1     f  *   â„±   â†’  â„±     normal-â†’     superscript  f    1     subscript  f    â„±   â„±    f^{-1}f_{*}\mathcal{F}\rightarrow\mathcal{F}   . These morphisms yield a natural adjunction correspondence:         Hom   ğ’ğ¡   (  X  )      (    f   -  1    ğ’¢   ,  â„±  )    =    Hom   ğ’ğ¡   (  Y  )      (  ğ’¢  ,    f  *   â„±   )           subscript  Hom    ğ’ğ¡  X        superscript  f    1    ğ’¢   â„±       subscript  Hom    ğ’ğ¡  Y     ğ’¢     subscript  f    â„±       \mathrm{Hom}_{\mathbf{Sh}(X)}(f^{-1}\mathcal{G},\mathcal{F})=\mathrm{Hom}_{%
 \mathbf{Sh}(Y)}(\mathcal{G},f_{*}\mathcal{F})   . However, these morphisms are almost never isomorphisms. For example, if    i  :   Z  â†’  Y      normal-:  i   normal-â†’  Z  Y     i\colon Z\to Y   denotes the inclusion of a closed subset, the stalks of     i  *    i   -  1    ğ’¢       subscript  i     superscript  i    1    ğ’¢    i_{*}i^{-1}\mathcal{G}   at a point    y  âˆˆ  Y      y  Y    y\in Y   is canonically isomorphic to    ğ’¢  y     subscript  ğ’¢  y    \mathcal{G}_{y}   if   y   y   y   is in   Z   Z   Z   and   0   0    otherwise. A similar adjunction holds for the case of sheaves of modules, replacing    f   -  1      superscript  f    1     f^{-1}   by    f  *     superscript  f     f^{*}   .  References    . See section II.4.   "  Category:Algebraic geometry  Category:Sheaf theory   