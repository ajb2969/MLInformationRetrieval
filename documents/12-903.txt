   Ultralimit      Ultralimit    For the direct limit of a sequence of ultrapowers, see Ultraproduct .    In mathematics , an ultralimit is a geometric construction that assigns to a sequence of metric spaces  X n a limiting metric space. The notion of an ultralimit captures the limiting behavior of finite configurations in the spaces X n and uses an ultrafilter to avoid the process of repeatedly passing to subsequences to ensure convergence. An ultralimit is a generalization of the notion of Gromov-Hausdorff convergence of metric spaces.  Ultrafilters  Recall that an ultrafilter  ω on the set of natural numbers   ℕ   ℕ   \mathbb{N}   is a finite-additive set function (which can be thought of as a measure)    ω  :    2  ℕ   →   {  0  ,  1  }       normal-:  ω   normal-→   superscript  2  ℕ    0  1      \omega:2^{\mathbb{N}}\to\{0,1\}   from the power set     2  ℕ     superscript  2  ℕ    2^{\mathbb{N}}   (that is, the set of all subsets of   ℕ   ℕ   \mathbb{N}   ) to the set {0,1} such that     ω   (  ℕ  )    =  1        ω  ℕ   1    \omega(\mathbb{N})=1   . An ultrafilter ω on   ℕ   ℕ   \mathbb{N}   is non-principal if for every finite subset    F  ⊆  ℕ      F  ℕ    F\subseteq\mathbb{N}   we have ω ( F )=0.  Limit of a sequence of points with respect to an ultrafilter  Let ω be a non-principal ultrafilter on   ℕ   ℕ   \mathbb{N}   . If     (   x  n   )    n  ∈  ℕ      subscript   subscript  x  n     n  ℕ     (x_{n})_{n\in\mathbb{N}}   is a sequence of points in a metric space ( X , d ) and x ∈ X , the point x is called the ω - limit of x n , denoted    x  =    lim  ω    x  n        x    subscript   ω    subscript  x  n      x=\lim_{\omega}x_{n}   , if for every    ϵ  >  0      ϵ  0    \epsilon>0   we have:       ω   {  n  :    d   (   x  n   ,  x  )    ≤  ϵ   }    =  1.        ω   conditional-set  n      d    subscript  x  n   x    ϵ     1.    \omega\{n:d(x_{n},x)\leq\epsilon\}=1.     It is not hard to see the following:   If an ω -limit of a sequence of points exists, it is unique.  If    x  =    lim   n  →  ∞     x  n        x    subscript    normal-→  n      subscript  x  n      x=\lim_{n\to\infty}x_{n}   in the standard sense,    x  =    lim  ω    x  n        x    subscript   ω    subscript  x  n      x=\lim_{\omega}x_{n}   . (For this property to hold it is crucial that the ultrafilter be non-principal.)   An important basic fact 1 states that, if ( X , d ) is compact and ω is a non-principal ultrafilter on   ℕ   ℕ   \mathbb{N}   , the ω -limit of any sequence of points in X exists (and is necessarily unique).  In particular, any bounded sequence of real numbers has a well-defined ω -limit in   ℝ   ℝ   \mathbb{R}   (as closed intervals are compact).  Ultralimit of metric spaces with specified base-points  Let ω be a non-principal ultrafilter on   ℕ   ℕ   \mathbb{N}   . Let ( X n , d n ) be a sequence of metric spaces with specified base-points p n ∈ X n .  Let us say that a sequence     (   x  n   )    n  ∈  ℕ      subscript   subscript  x  n     n  ℕ     (x_{n})_{n\in\mathbb{N}}   , where x n ∈ X n , is admissible , if the sequence of real numbers ( d n ( x n , p n )) n is bounded, that is, if there exists a positive real number C such that      d  n    (   x  n   ,   p  n   )    ≤  C         subscript  d  n     subscript  x  n    subscript  p  n     C    d_{n}(x_{n},p_{n})\leq C   . Let us denote the set of all admissible sequences by   𝒜   𝒜   \mathcal{A}   .  It is easy to see from the triangle inequality that for any two admissible sequences    𝐱  =    (   x  n   )    n  ∈  ℕ        𝐱   subscript   subscript  x  n     n  ℕ      \mathbf{x}=(x_{n})_{n\in\mathbb{N}}   and    𝐲  =    (   y  n   )    n  ∈  ℕ        𝐲   subscript   subscript  y  n     n  ℕ      \mathbf{y}=(y_{n})_{n\in\mathbb{N}}   the sequence ( d n ( x n , y n )) n is bounded and hence there exists an ω -limit       d  ^   ∞    (  𝐱  ,  𝐲  )    :=    lim  ω     d  n    (   x  n   ,   y  n   )        assign     subscript   normal-^  d      𝐱  𝐲      subscript   ω      subscript  d  n     subscript  x  n    subscript  y  n        \hat{d}_{\infty}(\mathbf{x},\mathbf{y}):=\lim_{\omega}d_{n}(x_{n},y_{n})   . Let us define a relation   ∼   similar-to   \sim   on the set   𝒜   𝒜   \mathcal{A}   of all admissible sequences as follows. For     𝐱  ,  𝐲   ∈  𝒜       𝐱  𝐲   𝒜    \mathbf{x},\mathbf{y}\in\mathcal{A}   we have    𝐱  ∼  𝐲     similar-to  𝐱  𝐲    \mathbf{x}\sim\mathbf{y}   whenever       d  ^   ∞    (  𝐱  ,  𝐲  )    =  0.         subscript   normal-^  d      𝐱  𝐲    0.    \hat{d}_{\infty}(\mathbf{x},\mathbf{y})=0.   It is easy to show that   ∼   similar-to   \sim   is an equivalence relation on    𝒜  .    𝒜   \mathcal{A}.     The ultralimit with respect to ω of the sequence ( X n , d n , p n ) is a metric space    (   X  ∞   ,   d  ∞   )      subscript  X     subscript  d      (X_{\infty},d_{\infty})   defined as follows. 2  As a set, we have     X  ∞   =  𝒜  /  ∼     fragments   subscript  X     A   similar-to    X_{\infty}=\mathcal{A}/{\sim}   .  For two   ∼   similar-to   \sim   -equivalence classes     [  𝐱  ]   ,   [  𝐲  ]       delimited-[]  𝐱    delimited-[]  𝐲     [\mathbf{x}],[\mathbf{y}]   of admissible sequences    𝐱  =    (   x  n   )    n  ∈  ℕ        𝐱   subscript   subscript  x  n     n  ℕ      \mathbf{x}=(x_{n})_{n\in\mathbb{N}}   and    𝐲  =    (   y  n   )    n  ∈  ℕ        𝐲   subscript   subscript  y  n     n  ℕ      \mathbf{y}=(y_{n})_{n\in\mathbb{N}}   we have       d  ∞    (   [  𝐱  ]   ,   [  𝐲  ]   )    :=     d  ^   ∞    (  𝐱  ,  𝐲  )    =    lim  ω     d  n    (   x  n   ,   y  n   )      .       assign     subscript  d      delimited-[]  𝐱    delimited-[]  𝐲        subscript   normal-^  d      𝐱  𝐲           subscript   ω      subscript  d  n     subscript  x  n    subscript  y  n         d_{\infty}([\mathbf{x}],[\mathbf{y}]):=\hat{d}_{\infty}(\mathbf{x},\mathbf{y})%
 =\lim_{\omega}d_{n}(x_{n},y_{n}).     It is not hard to see that    d  ∞     subscript  d     d_{\infty}   is well-defined and that it is a metric on the set    X  ∞     subscript  X     X_{\infty}   .  Denote     (   X  ∞   ,   d  ∞   )   =    lim  ω    (   X  n   ,   d  n   ,   p  n   )          subscript  X     subscript  d       subscript   ω     subscript  X  n    subscript  d  n    subscript  p  n       (X_{\infty},d_{\infty})=\lim_{\omega}(X_{n},d_{n},p_{n})   .  On basepoints in the case of uniformly bounded spaces  Suppose that ( X n , d n ) is a sequence of metric spaces of uniformly bounded diameter, that is, there exists a real number C >0 such that diam( X n )≤ C for every    n  ∈  ℕ      n  ℕ    n\in\mathbb{N}   . Then for any choice p n of base-points in X n  every sequence       (   x  n   )   n   ,   x  n    ∈   X  n         subscript   subscript  x  n   n    subscript  x  n     subscript  X  n     (x_{n})_{n},x_{n}\in X_{n}   is admissible. Therefore in this situation the choice of base-points does not have to be specified when defining an ultralimit, and the ultralimit    (   X  ∞   ,   d  ∞   )      subscript  X     subscript  d      (X_{\infty},d_{\infty})   depends only on ( X n , d n ) and on ω but does not depend on the choice of a base-point sequence      p  n   ∈   X  n    .       subscript  p  n    subscript  X  n     p_{n}\in X_{n}.   . In this case one writes     (   X  ∞   ,   d  ∞   )   =    lim  ω    (   X  n   ,   d  n   )          subscript  X     subscript  d       subscript   ω     subscript  X  n    subscript  d  n       (X_{\infty},d_{\infty})=\lim_{\omega}(X_{n},d_{n})   .  Basic properties of ultralimits   If ( X n , d n ) are geodesic metric spaces then     (   X  ∞   ,   d  ∞   )   =    lim  ω    (   X  n   ,   d  n   ,   p  n   )          subscript  X     subscript  d       subscript   ω     subscript  X  n    subscript  d  n    subscript  p  n       (X_{\infty},d_{\infty})=\lim_{\omega}(X_{n},d_{n},p_{n})   is also a geodesic metric space. 3  If ( X n , d n ) are complete metric spaces then     (   X  ∞   ,   d  ∞   )   =    lim  ω    (   X  n   ,   d  n   ,   p  n   )          subscript  X     subscript  d       subscript   ω     subscript  X  n    subscript  d  n    subscript  p  n       (X_{\infty},d_{\infty})=\lim_{\omega}(X_{n},d_{n},p_{n})   is also a complete metric space. 4 5   Actually, by construction, the limit space is always complete, even when ( X n , d n ) is a repeating sequence of a space ( X , d ) which is not complete. 6   If ( X n , d n ) are compact metric spaces that converge to a compact metric space ( X , d ) in the Gromov–Hausdorff sense (this automatically implies that the spaces ( X n , d n ) have uniformly bounded diameter), then the ultralimit     (   X  ∞   ,   d  ∞   )   =    lim  ω    (   X  n   ,   d  n   )          subscript  X     subscript  d       subscript   ω     subscript  X  n    subscript  d  n       (X_{\infty},d_{\infty})=\lim_{\omega}(X_{n},d_{n})   is isometric to ( X , d ).  Suppose that ( X n , d n ) are proper metric spaces and that     p  n   ∈   X  n        subscript  p  n    subscript  X  n     p_{n}\in X_{n}   are base-points such that the pointed sequence ( X n , d n , p n ) converges to a proper metric space ( X , d ) in the Gromov–Hausdorff sense. Then the ultralimit     (   X  ∞   ,   d  ∞   )   =    lim  ω    (   X  n   ,   d  n   ,   p  n   )          subscript  X     subscript  d       subscript   ω     subscript  X  n    subscript  d  n    subscript  p  n       (X_{\infty},d_{\infty})=\lim_{\omega}(X_{n},d_{n},p_{n})   is isometric to ( X , d ). 7  Let κ ≤0 and let ( X n , d n ) be a sequence of CAT( κ )-metric spaces . Then the ultralimit     (   X  ∞   ,   d  ∞   )   =    lim  ω    (   X  n   ,   d  n   ,   p  n   )          subscript  X     subscript  d       subscript   ω     subscript  X  n    subscript  d  n    subscript  p  n       (X_{\infty},d_{\infty})=\lim_{\omega}(X_{n},d_{n},p_{n})   is also a CAT( κ )-space. 8  Let ( X n , d n ) be a sequence of CAT( κ n )-metric spaces where       lim   n  →  ∞     κ  n    =   -  ∞    .        subscript    normal-→  n      subscript  κ  n          \lim_{n\to\infty}\kappa_{n}=-\infty.   Then the ultralimit     (   X  ∞   ,   d  ∞   )   =    lim  ω    (   X  n   ,   d  n   ,   p  n   )          subscript  X     subscript  d       subscript   ω     subscript  X  n    subscript  d  n    subscript  p  n       (X_{\infty},d_{\infty})=\lim_{\omega}(X_{n},d_{n},p_{n})   is real tree . 9   Asymptotic cones  An important class of ultralimits are the so-called asymptotic cones of metric spaces. Let ( X , d ) be a metric space, let ω be a non-principal ultrafilter on   ℕ   ℕ   \mathbb{N}   and let p n ∈ X be a sequence of base-points. Then the ω –ultralimit of the sequence    (  X  ,   d  n   ,   p  n   )     X    d  n    subscript  p  n     (X,\frac{d}{n},p_{n})   is called the asymptotic cone of X with respect to ω and      (   p  n   )   n      subscript   subscript  p  n   n    (p_{n})_{n}\,   and is denoted    C  o  n   e  ω    (  X  ,  d  ,    (   p  n   )   n   )       C  o  n   subscript  e  ω    X  d   subscript   subscript  p  n   n      Cone_{\omega}(X,d,(p_{n})_{n})\,   . One often takes the base-point sequence to be constant, p n = p for some p ∈ X ; in this case the asymptotic cone does not depend on the choice of p ∈ X and is denoted by    C  o  n   e  ω    (  X  ,  d  )       C  o  n   subscript  e  ω    X  d     Cone_{\omega}(X,d)\,   or just    C  o  n   e  ω    (  X  )       C  o  n   subscript  e  ω   X    Cone_{\omega}(X)\,   .  The notion of an asymptotic cone plays an important role in geometric group theory since asymptotic cones (or, more precisely, their topological types and bi-Lipschitz types ) provide quasi-isometry invariants of metric spaces in general and of finitely generated groups in particular. 10 Asymptotic cones also turn out to be a useful tool in the study of relatively hyperbolic groups and their generalizations. 11  Examples   Let ( X , d ) be a compact metric space and put ( X n , d n )=( X , d ) for every    n  ∈  ℕ      n  ℕ    n\in\mathbb{N}   . Then the ultralimit     (   X  ∞   ,   d  ∞   )   =    lim  ω    (   X  n   ,   d  n   )          subscript  X     subscript  d       subscript   ω     subscript  X  n    subscript  d  n       (X_{\infty},d_{\infty})=\lim_{\omega}(X_{n},d_{n})   is isometric to ( X , d ).  Let ( X , d X ) and ( Y , d Y ) be two distinct compact metric spaces and let ( X n , d n ) be a sequence of metric spaces such that for each n either ( X n , d n )=( X , d X ) or ( X n , d n )=( Y , d Y ). Let     A  1   =   {  n  |    (   X  n   ,   d  n   )   =   (  X  ,   d  X   )    }        subscript  A  1    conditional-set  n      subscript  X  n    subscript  d  n     X   subscript  d  X        A_{1}=\{n|(X_{n},d_{n})=(X,d_{X})\}\,   and     A  2   =   {  n  |    (   X  n   ,   d  n   )   =   (  Y  ,   d  Y   )    }        subscript  A  2    conditional-set  n      subscript  X  n    subscript  d  n     Y   subscript  d  Y        A_{2}=\{n|(X_{n},d_{n})=(Y,d_{Y})\}\,   . Thus A 1 , A 2 are disjoint and       A  1   ∪   A  2    =  ℕ   .         subscript  A  1    subscript  A  2    ℕ    A_{1}\cup A_{2}=\mathbb{N}.   Therefore one of A 1 , A 2 has ω -measure 1 and the other has ω -measure 0. Hence     lim  ω    (   X  n   ,   d  n   )       subscript   ω     subscript  X  n    subscript  d  n      \lim_{\omega}(X_{n},d_{n})   is isometric to ( X , d X ) if ω ( A 1 )=1 and     lim  ω    (   X  n   ,   d  n   )       subscript   ω     subscript  X  n    subscript  d  n      \lim_{\omega}(X_{n},d_{n})   is isometric to ( Y , d Y ) if ω ( A 2 )=1. This shows that the ultralimit can depend on the choice of an ultrafilter ω .  Let ( M , g ) be a compact connected Riemannian manifold of dimension m , where g is a Riemannian metric on M . Let d be the metric on M corresponding to g , so that ( M , d ) is a geodesic metric space . Choose a basepoint p ∈ M . Then the ultralimit (and even the ordinary Gromov-Hausdorff limit )     lim  ω    (  M  ,   n  d   ,  p  )       subscript   ω    M    n  d   p     \lim_{\omega}(M,nd,p)   is isometric to the tangent space  T p M of M at p with the distance function on T p M given by the inner product  g(p) . Therefore the ultralimit     lim  ω    (  M  ,   n  d   ,  p  )       subscript   ω    M    n  d   p     \lim_{\omega}(M,nd,p)   is isometric to the Euclidean space     ℝ  m     superscript  ℝ  m    \mathbb{R}^{m}   with the standard Euclidean metric . 12  Let    (   ℝ  m   ,  d  )      superscript  ℝ  m   d    (\mathbb{R}^{m},d)   be the standard m -dimensional Euclidean space with the standard Euclidean metric. Then the asymptotic cone    C  o  n   e  ω    (   ℝ  m   ,  d  )       C  o  n   subscript  e  ω     superscript  ℝ  m   d     Cone_{\omega}(\mathbb{R}^{m},d)   is isometric to    (   ℝ  m   ,  d  )      superscript  ℝ  m   d    (\mathbb{R}^{m},d)   .  Let    (   ℤ  2   ,  d  )      superscript  ℤ  2   d    (\mathbb{Z}^{2},d)   be the 2-dimensional integer lattice where the distance between two lattice points is given by the length of the shortest edge-path between them in the grid. Then the asymptotic cone    C  o  n   e  ω    (   ℤ  2   ,  d  )       C  o  n   subscript  e  ω     superscript  ℤ  2   d     Cone_{\omega}(\mathbb{Z}^{2},d)   is isometric to    (   ℝ  2   ,   d  1   )      superscript  ℝ  2    subscript  d  1     (\mathbb{R}^{2},d_{1})   where     d  1      subscript  d  1    d_{1}\,   is the Taxicab metric (or L 1 -metric) on    ℝ  2     superscript  ℝ  2    \mathbb{R}^{2}   .  Let ( X , d ) be a δ -hyperbolic geodesic metric space for some δ ≥0. Then the asymptotic cone    C  o  n   e  ω    (  X  )       C  o  n   subscript  e  ω   X    Cone_{\omega}(X)\,   is a real tree . 13 14  Let ( X , d ) be a metric space of finite diameter. Then the asymptotic cone    C  o  n   e  ω    (  X  )       C  o  n   subscript  e  ω   X    Cone_{\omega}(X)\,   is a single point.  Let ( X , d ) be a CAT(0)-metric space . Then the asymptotic cone    C  o  n   e  ω    (  X  )       C  o  n   subscript  e  ω   X    Cone_{\omega}(X)\,   is also a CAT(0)-space. 15   Footnotes  Basic References   John Roe. Lectures on Coarse Geometry.  American Mathematical Society , 2003. ISBN 978-0-8218-3332-2; Ch. 7.  L.Van den Dries, A.J.Wilkie, On Gromov's theorem concerning groups of polynomial growth and elementary logic . Journal of Algebra , Vol. 89(1984), pp. 349–374.  M. Kapovich B. Leeb. On asymptotic cones and quasi-isometry classes of fundamental groups of 3-manifolds , Geometric and Functional Analysis , Vol. 5 (1995), no. 3, pp. 582–603  M. Kapovich. Hyperbolic Manifolds and Discrete Groups. Birkhäuser, 2000. ISBN 978-0-8176-3904-4; Ch. 9.  Cornelia Druţu and Mark Sapir (with an Appendix by Denis Osin and Mark Sapir), Tree-graded spaces and asymptotic cones of groups.  Topology , Volume 44 (2005), no. 5, pp. 959–1058.  M. Gromov. Metric Structures for Riemannian and Non-Riemannian Spaces. Progress in Mathematics vol. 152, Birkhäuser, 1999. ISBN 0-8176-3898-9; Ch. 3.  B. Kleiner and B. Leeb, Rigidity of quasi-isometries for symmetric spaces and Euclidean buildings.  Publications Mathématiques de L'IHÉS . Volume 86, Number 1, December 1997, pp. 115–197.   See also   Ultrafilter  Geometric group theory  Gromov-Hausdorff convergence   "  Category:Geometric group theory  Category:Metric geometry      John Roe. Lectures on Coarse Geometry.  American Mathematical Society , 2003. ISBN 978-0-8218-3332-2; Definition 7.19, p. 107. ↩   L.Van den Dries, A.J.Wilkie, On Gromov's theorem concerning groups of polynomial growth and elementary logic . Journal of Algebra , Vol. 89(1984), pp. 349–374. ↩  John Roe. Lectures on Coarse Geometry.  American Mathematical Society , 2003. ISBN 978-0-8218-3332-2; Proposition 7.20, p. 108. ↩  Bridson, Haefliger "Metric Spaces of Non-positive curvature" Lemma 5.53 ↩   M. Kapovich B. Leeb. On asymptotic cones and quasi-isometry classes of fundamental groups of 3-manifolds , Geometric and Functional Analysis , Vol. 5 (1995), no. 3, pp. 582–603 ↩   John Roe. Lectures on Coarse Geometry.  American Mathematical Society , 2003. ISBN 978-0-8218-3332-2 ↩  Cornelia Druţu and Mark Sapir (with an Appendix by Denis Osin and Mark Sapir), Tree-graded spaces and asymptotic cones of groups.  Topology , Volume 44 (2005), no. 5, pp. 959–1058. ↩  Yu. Burago, M. Gromov, and G. Perel'man. A. D. Aleksandrov spaces with curvatures bounded below (in Russian), Uspekhi Matematicheskih Nauk vol. 47 (1992), pp. 3–51; translated in: Russian Math. Surveys vol. 47, no. 2 (1992), pp. 1–58 ↩   John Roe. Lectures on Coarse Geometry.  American Mathematical Society , 2003. ISBN 978-0-8218-3332-2; Example 7.30, p. 118. ↩      