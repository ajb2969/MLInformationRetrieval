   Partition of sums of squares      Partition of sums of squares   The partition of sums of squares is a concept that permeates much of inferential statistics and descriptive statistics . More properly, it is the partitioning of sums of squared deviations or errors . Mathematically, the sum of squared deviations is an unscaled, or unadjusted measure of dispersion (also called variability ). When scaled for the number of degrees of freedom , it estimates the variance , or spread of the observations about their mean value. Partitioning of the sum of squared deviations into various components allows the overall variability in a dataset to be ascribed to different types or sources of variability, with the relative importance of each being quantified by the size of each component of the overall sum of squares.  Background  The distance from any point in a collection of data, to the mean of the data, is the deviation. This can be written as     y  i   -   y  Â¯        subscript  y  i    normal-Â¯  y     y_{i}-\overline{y}   , where    y  i     subscript  y  i    y_{i}   is the ith data point, and    y  Â¯     normal-Â¯  y    \overline{y}   is the estimate of the mean. If all such deviations are squared, then summed, as in     âˆ‘   i  =  1   n     (    y  i   -    y  Â¯     )   2       superscript   subscript     i  1    n    superscript     subscript  y  i    normal-Â¯  y    2     \sum_{i=1}^{n}\left(y_{i}-\overline{y}\,\right)^{2}   , this gives the "sum of squares" for these data.  When more data are added to the collection the sum of squares will increase, except in unlikely cases such as the new data being equal to the mean. So usually, the sum of squares will grow with the size of the data collection. That is a manifestation of the fact that it is unscaled.  In many cases, the number of degrees of freedom is simply the number of data in the collection, minus one. We write this as n âˆ’Â 1, where n is the number of data.  Scaling (also known as normalizing) means adjusting the sum of squares so that it does not grow as the size of the data collection grows. This is important when we want to compare samples of different sizes, such as a sample of 100 people compared to a sample of 20 people. If the sum of squares was not normalized, its value would always be larger for the sample of 100 people than for the sample of 20 people. To scale the sum of squares, we divide it by the degrees of freedom, i.e., calculate the sum of squares per degree of freedom, or variance. Standard deviation , in turn, is the square root of the variance.  The above information is how sum of squares is used in descriptive statistics; see the article on total sum of squares for an application of this broad principle to inferential statistics .  Partitioning the sum of squares in linear regression  Theorem. Given a linear regression model     y  i   =    Î²  0   +    Î²  1    x   i  1     +  â‹¯  +    Î²  p    x   i  p     +   Îµ  i         subscript  y  i      subscript  Î²  0      subscript  Î²  1    subscript  x    i  1     normal-â‹¯     subscript  Î²  p    subscript  x    i  p      subscript  Îµ  i      y_{i}=\beta_{0}+\beta_{1}x_{i1}+\cdots+\beta_{p}x_{ip}+\varepsilon_{i}    including a constant based on a sample       (   y  i   ,   x   i  1    ,  â€¦  ,   x   i  p    )   ,  i   =  1   ,   â€¦  ,  n      formulae-sequence       subscript  y  i    subscript  x    i  1    normal-â€¦   subscript  x    i  p     i   1    normal-â€¦  n     (y_{i},x_{i1},\ldots,x_{ip}),\,i=1,\ldots,n   containing n observations, the Total Sum of Squares     T  S  S   =    âˆ‘   i  =  1   n     (    y  i   -   y  Â¯    )   2          T  S  S     superscript   subscript     i  1    n    superscript     subscript  y  i    normal-Â¯  y    2      TSS=\sum_{i=1}^{n}(y_{i}-\bar{y})^{2}   can be partitioned as follows into the explained sum of squares (ESS) and the residual sum of squares (RSS):       TSS  =   ESS  +  RSS    ,      TSS    ESS  RSS     \mathrm{TSS}=\mathrm{ESS}+\mathrm{RSS},   where this equation is equivalent to each of the following forms:       âˆ¥   y  -    y  Â¯   ğŸ    âˆ¥   2     superscript   norm    y     normal-Â¯  y   1     2    \displaystyle\left\|y-\bar{y}\mathbf{1}\right\|^{2}     Proof        âˆ‘   i  =  1   n      (    y  i   -   y  Â¯    )   2       superscript   subscript     i  1    n    superscript     subscript  y  i    normal-Â¯  y    2     \displaystyle\sum_{i=1}^{n}(y_{i}-\overline{y})^{2}     The requirement that the model includes a constant or equivalently that the design matrix contains a column of ones ensures that      âˆ‘   i  =  1   n     Îµ  ^   i    =  0        superscript   subscript     i  1    n    subscript   normal-^  Îµ   i    0    \sum_{i=1}^{n}\hat{\varepsilon}_{i}=0   .  Some readers may find the following version of the proof, set in vector form, more enlightening:          S   S  total    =    âˆ¥   ğ²  -   ğ²  Â¯    âˆ¥   2         =    âˆ¥     ğ²  -   ğ²  Â¯    +   ğ²  ^    -   ğ²  ^    âˆ¥   2    ,           =    âˆ¥    (    ğ²  ^   -   ğ²  Â¯    )   +   (   ğ²  -   ğ²  ^    )    âˆ¥   2    ,           =     âˆ¥    ğ²  ^   -   ğ²  Â¯    âˆ¥   2   +    âˆ¥   Îµ  ^   âˆ¥   2   +   2    Îµ  ^   T    (    ğ²  ^   -   ğ²  Â¯    )      ,           =    S   S  regression    +   S   S  error    +   2    Îµ  ^   T    (    X   Î²  ^    -   ğ²  Â¯    )      ,           =     S   S  regression    +   S   S  error    +   2   (     Îµ  ^   T   X   )    Î²  ^     -   2    Îµ  ^   T    ğ²  Â¯      ,           =    S   S  regression    +   S   S  error      .             S   subscript  S  total     superscript   norm    ğ²   normal-Â¯  ğ²     2      absent   superscript   norm        ğ²   normal-Â¯  ğ²     normal-^  ğ²     normal-^  ğ²     2       missing-subexpression     absent   superscript   norm       normal-^  ğ²    normal-Â¯  ğ²      ğ²   normal-^  ğ²      2       missing-subexpression     absent     superscript   norm     normal-^  ğ²    normal-Â¯  ğ²     2    superscript   norm   normal-^  Îµ    2     2   superscript   normal-^  Îµ   T      normal-^  ğ²    normal-Â¯  ğ²          missing-subexpression     absent      S   subscript  S  regression      S   subscript  S  error      2   superscript   normal-^  Îµ   T       X   normal-^  Î²     normal-Â¯  ğ²          missing-subexpression     absent        S   subscript  S  regression      S   subscript  S  error      2     superscript   normal-^  Îµ   T   X    normal-^  Î²       2   superscript   normal-^  Îµ   T    normal-Â¯  ğ²         missing-subexpression     absent      S   subscript  S  regression      S   subscript  S  error         \begin{aligned}\displaystyle SS_{{\text{total}}}=\|{{\mathbf{y}}-\bar{\mathbf{%
 y}}}\|^{2}&\displaystyle=\|{{\mathbf{y}}-\bar{\mathbf{y}}+{\mathbf{\hat{y}}}-{%
 \mathbf{\hat{y}}}}\|^{2},\\
 &\displaystyle=\|{\left({{\mathbf{\hat{y}}}-\bar{\mathbf{y}}}\right)+\left({{%
 \mathbf{y}}-{\mathbf{\hat{y}}}}\right)}\|^{2},\\
 &\displaystyle=\|{{\mathbf{\hat{y}}}-\bar{\mathbf{y}}}\|^{2}+\|{\hat{%
 \varepsilon}}\|^{2}+2{\hat{\varepsilon}}^{T}\left({{\mathbf{\hat{y}}}-\bar{%
 \mathbf{y}}}\right),\\
 &\displaystyle=SS_{{\text{regression}}}+SS_{{\text{error}}}+2{\hat{\varepsilon%
 }}^{T}\left({X{\hat{\beta}}-\bar{\mathbf{y}}}\right),\\
 &\displaystyle=SS_{{\text{regression}}}+SS_{{\text{error}}}+2\left({\hat{%
 \varepsilon}^{T}X}\right){\hat{\beta}-}2{\hat{\varepsilon}}^{T}{\bar{\mathbf{y%
 }}},\\
 &\displaystyle=SS_{{\text{regression}}}+SS_{{\text{error}}}.\\
 \end{aligned}     The elimination of terms in the last line, used the fact that         Îµ  ^   T   X   =     (   ğ²  -   ğ²  ^    )   T   X   =    ğ²  T    (   I  -   X    (    X  T   X   )    -  1     X  T     )   X   =    ğ²  T    (   X  -  X   )    =  0.           superscript   normal-^  Îµ   T   X      superscript    ğ²   normal-^  ğ²    T   X           superscript  ğ²  T     I    X   superscript     superscript  X  T   X     1     superscript  X  T     X           superscript  ğ²  T     X  X         0.     \hat{\varepsilon}^{T}X=\left({\mathbf{y}}-{\mathbf{\hat{y}}}\right)^{T}X={%
 \mathbf{y}}^{T}\left({I-X\left({X^{T}X}\right)^{-1}X^{T}}\right)X={\mathbf{y}}%
 ^{T}\left(X-X\right)={\mathbf{0}}.     Further partitioning  Note that the residual sum of squares can be further partitioned as the lack-of-fit sum of squares plus the sum of squares due to pure error.  See also   Inner-product space   Hilbert space   Euclidean space   Orthogonality  Orthonormal basis   Orthogonal complement , the closed subspace orthogonal to a set (especially a subspace)  Orthomodular lattice of the subspaces of an inner-product space  Orthogonal projection   Pythagorean theorem that the sum of the squared norms of orthogonal summands equals the squared norm of the sum.   Least squares  Mean squared error  Squared deviations   References    Pre-publication chapters are available on-line.     Republished as:     "  Category:Analysis of variance  Category:Regression analysis  Category:Least squares   