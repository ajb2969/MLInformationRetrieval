   Surprise (networks)      Surprise (networks)   Surprise (denoted S ) is a global measure of the quality of a partition of a given complex network into communities. The name Surprise derives from the fact that its value evaluates how surprising (unlikely) a given partition is, from a statistical point of view. Using benchmarks with networks with known community structure, it has been shown that Surprise maximization is a very effective way to determine the communities present in the networks.  Definition  Formula  Given a partition into communities , Surprise compares the number of links within and between communities in that partition with the expected number of them in a random network with the same distribution of nodes per communities. Thus, S evaluates, at the same time, both the number of nodes and links.  The formula of Surprise for a given partition is:      S  =   -   log    ∑   j  =  p    min   (  M  ,  n  )        (      M      j      )    (       F  -  M        n  -  j       )     (      F      n      )           S         superscript   subscript     j  p      M  n         binomial  M  j    binomial    F  M     n  j      binomial  F  n         S=-\log\sum_{j=p}^{\min(M,n)}\frac{{\left({{M}\atop{j}}\right)}{\left({{F-M}%
 \atop{n-j}}\right)}}{{\left({{F}\atop{n}}\right)}}   where F is the maximum possible number of links in the network for the number of nodes k      F  =    k   (   k  -  1   )    2       F      k    k  1    2     F=\frac{k(k-1)}{2}     M is the maximum possible number of intra-community links. Let C be the number of communities, then      M  =    ∑   i  =  1   C      k  i    (    k  i   -  1   )    2        M    superscript   subscript     i  1    C        subscript  k  i      subscript  k  i   1    2      M=\sum_{i=1}^{C}\frac{k_{i}(k_{i}-1)}{2}     n is the actual number of links in the network and p is the actual number of intra-community links of that partition.  Properties   S values range between zero and plus infinity  S becomes zero in the following two cases:   ::*All nodes are joined into a single community  ::*Each node has its own community  "  Category:Network theory   