   Danskin's theorem      Danskin's theorem   In convex analysis , Danskin's theorem is a theorem which provides information about the derivatives of a function of the form        f   (  x  )    =     max   z  ∈  Z    ϕ    (  x  ,  z  )     .        f  x       subscript     z  Z    ϕ    x  z      f(x)=\max_{z\in Z}\phi(x,z).     The theorem has applications in optimization , where it sometimes is used to solve minimax problems. The original theorem by J. M. Danskin, given in his 1967, monograph "The Theory of Max-Min and its Applications to Weapons Allocation Problems," Springer, NY, provides a formula for the directional derivative of the maximum of a (not necessarily convex) directionally differentiable function. When adapted to the case of a convex function, this formula yields the following theorem given in somewhat more general form as Proposition A.22 in the 1971 Ph.D. Thesis by D. P. Bertsekas, "Control of Uncertain Systems with a Set-Membership Description of the Uncertainty". A proof of the following version can be found in the 1999 book "Nonlinear Programming" by Bertsekas (Section B.5).  Statement  The theorem applies to the following situation. Suppose    ϕ   (  x  ,  z  )       ϕ   x  z     \phi(x,z)   is a continuous function of two arguments,      ϕ  :     ℝ  n   ×  Z   →  ℝ      normal-:  ϕ   normal-→     superscript  ℝ  n   Z   ℝ     \phi:{\mathbb{R}}^{n}\times Z\rightarrow{\mathbb{R}}   where    Z  ⊂   ℝ  m       Z   superscript  ℝ  m     Z\subset{\mathbb{R}}^{m}   is a compact set . Further assume that    ϕ   (  x  ,  z  )       ϕ   x  z     \phi(x,z)   is convex in   x   x   x   for every    z  ∈  Z      z  Z    z\in Z   .  Under these conditions, Danskin's theorem provides conclusions regarding the differentiability of the function        f   (  x  )    =     max   z  ∈  Z    ϕ    (  x  ,  z  )     .        f  x       subscript     z  Z    ϕ    x  z      f(x)=\max_{z\in Z}\phi(x,z).   To state these results, we define the set of maximizing points     Z  0    (  x  )        subscript  Z  0   x    Z_{0}(x)   as         Z  0    (  x  )    =   {   z  ¯   :    ϕ   (  x  ,   z  ¯   )    =     max   z  ∈  Z    ϕ    (  x  ,  z  )     }    .         subscript  Z  0   x    conditional-set   normal-¯  z       ϕ   x   normal-¯  z         subscript     z  Z    ϕ    x  z        Z_{0}(x)=\left\{\overline{z}:\phi(x,\overline{z})=\max_{z\in Z}\phi(x,z)\right\}.     Danskin's theorem then provides the following results.   Convexity      f   (  x  )       f  x    f(x)   is convex .  Directional derivatives  The directional derivative of    f   (  x  )       f  x    f(x)   in the direction   y   y   y   , denoted      D  y    f   (  x  )        subscript  D  y   f  x    D_{y}\ f(x)   , is given by        D  y   f   (  x  )    =     max   z  ∈    Z  0    (  x  )       ϕ  ′     (  x  ,  z  ;  y  )     ,         subscript  D  y   f  x       subscript     z     subscript  Z  0   x      superscript  ϕ  normal-′     x  z  y      D_{y}f(x)=\max_{z\in Z_{0}(x)}\phi^{\prime}(x,z;y),      where     ϕ  ′    (  x  ,  z  ;  y  )        superscript  ϕ  normal-′    x  z  y     \phi^{\prime}(x,z;y)   is the directional derivative of the function    ϕ   (  ⋅  ,  z  )       ϕ   normal-⋅  z     \phi(\cdot,z)   at   x   x   x   in the direction   y   y   y   .  Derivative      f   (  x  )       f  x    f(x)   is differentiable at   x   x   x   if     Z  0    (  x  )        subscript  Z  0   x    Z_{0}(x)   consists of a single element    z  ¯     normal-¯  z    \overline{z}   . In this case, the derivative of    f   (  x  )       f  x    f(x)   (or the gradient of    f   (  x  )       f  x    f(x)   if   x   x   x   is a vector) is given by        ∂  f    ∂  x    =     ∂  ϕ    (  x  ,   z  ¯   )     ∂  x     .          f     x          ϕ    x   normal-¯  z       x      \frac{\partial f}{\partial x}=\frac{\partial\phi(x,\overline{z})}{\partial x}.      Subdifferential  If    ϕ   (  x  ,  z  )       ϕ   x  z     \phi(x,z)   is differentiable with respect to   x   x   x   for all    z  ∈  Z      z  Z    z\in Z   , and if     ∂  ϕ   /   ∂  x         ϕ     x     \partial\phi/\partial x   is continuous with respect to   z   z   z   for all   x   x   x   , then the subdifferential of    f   (  x  )       f  x    f(x)   is given by       ∂  f    (  x  )    =   conv   {     ∂  ϕ    (  x  ,  z  )     ∂  x    :   z  ∈    Z  0    (  x  )     }            f   x     conv   conditional-set        ϕ    x  z      x      z     subscript  Z  0   x        \partial f(x)=\mathrm{conv}\left\{\frac{\partial\phi(x,z)}{\partial x}:z\in Z_%
 {0}(x)\right\}      where   conv   conv   \mathrm{conv}   indicates the convex hull operation.  Extension   The 1971 Ph.D. Thesis by Bertsekas 1 (Proposition A.22) proves a more general result, which does not require that    ϕ   (  ⋅  ,  z  )       ϕ   normal-⋅  z     \phi(\cdot,z)   is differentiable. Instead it assumes that    ϕ   (  ⋅  ,  z  )       ϕ   normal-⋅  z     \phi(\cdot,z)   is an extended real-valued closed proper convex function for each   z   z   z   in the compact set   Z   Z   Z   , that    i  n  t   (   d  o  m   (  f  )    )       i  n  t    d  o  m  f     int(dom(f))   , the interior of the effective domain of   f   f   f   , is nonempty, and that   ϕ   ϕ   \phi   is continuous on the set     i  n  t   (   d  o  m   (  f  )    )    ×  Z        i  n  t    d  o  m  f    Z    int(dom(f))\times Z   . Then for all   x   x   x   in    i  n  t   (   d  o  m   (  f  )    )       i  n  t    d  o  m  f     int(dom(f))   , the subdifferential of   f   f   f   at   x   x   x   is given by          ∂  f    (  x  )    =   conv   {    ∂  ϕ    (  x  ,  z  )    :   z  ∈    Z  0    (  x  )     }            f   x     conv   conditional-set      ϕ    x  z      z     subscript  Z  0   x        \partial f(x)=\mathrm{conv}\left\{\partial\phi(x,z):z\in Z_{0}(x)\right\}        where     ∂  ϕ    (  x  ,  z  )         ϕ    x  z     \partial\phi(x,z)   is the subdifferential of    ϕ   (  ⋅  ,  z  )       ϕ   normal-⋅  z     \phi(\cdot,z)   at   x   x   x   for any   z   z   z   in   Z   Z   Z   .  See also   Maximum theorem  Envelope theorem  Hotellings Lemma   References       "  Category:Convex analysis  Category:Mathematical optimization  Category:Theorems in analysis  Category:Convex optimization     Ph.D. Thesis by D. P. Bertsekas ↩     