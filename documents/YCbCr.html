<html lang="en">
<head>
<meta charset="utf-8"/>
<title offset="1815">YCbCr</title>
<script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_SVG.js" type="text/javascript">
</script>
</head>
<body>
<h1>YCbCr</h1>
<hr/>

<p> </p>

<p><strong>YCbCr</strong>, <strong>Y′CbCr</strong>, or <strong>Y Pb/Cb Pr/Cr</strong>, also written as  or , is a family of <a href="color_space" title="wikilink">color spaces</a> used as a part of the <a href="color_image_pipeline" title="wikilink">color image pipeline</a> in <a class="uri" href="video" title="wikilink">video</a> and <a href="digital_photography" title="wikilink">digital photography</a> systems. Y′ is the <a href="Luma_(video)" title="wikilink">luma</a> component and C<sub>B</sub> and C<sub>R</sub> are the blue-difference and red-difference <a href="chrominance" title="wikilink">chroma</a> components. Y′ (with prime) is distinguished from Y, which is <a href="luminance_(relative)" title="wikilink">luminance</a>, meaning that light intensity is nonlinearly encoded based on <a href="gamma_correction" title="wikilink">gamma corrected</a> <a class="uri" href="RGB" title="wikilink">RGB</a> primaries.</p>

<p>Y′CbCr is not an <a href="absolute_color_space" title="wikilink">absolute color space</a>; rather, it is a <em>way of encoding</em> RGB information. The actual color displayed depends on the actual RGB primaries used to display the signal. Therefore a value expressed as Y′CbCr is predictable only if standard RGB primary chromaticities are used.</p>
<h2 id="rationale">Rationale</h2>

<p><a href="Cathode_ray_tube" title="wikilink">Cathode ray tube</a> displays are driven by red, green, and blue voltage signals, but these <a href="RGB_color_space" title="wikilink">RGB</a> signals are not efficient as a representation for storage and transmission, since they have a lot of <a href="Redundancy_(information_theory)" title="wikilink">redundancy</a>.</p>

<p>YCbCr and Y′CbCr are a practical approximation to color processing and perceptual uniformity, where the <a href="primary_color" title="wikilink">primary colors</a> corresponding roughly to red, green and blue are processed into perceptually meaningful information. By doing this, subsequent image/video processing, transmission and storage can do operations and introduce errors in perceptually meaningful ways. Y′CbCr is used to separate out a luma signal (Y′) that can be stored with high resolution or transmitted at high bandwidth, and two chroma components (C<sub>B</sub> and C<sub>R</sub>) that can be bandwidth-reduced, subsampled, compressed, or otherwise treated separately for improved system efficiency.</p>

<p>One practical example would be decreasing the bandwidth or resolution allocated to "color" compared to "black and white", since humans are more sensitive to the black-and-white information (see image example to the right). This is called <a href="chroma_subsampling" title="wikilink">chroma subsampling</a>.</p>
<h2 id="ycbcr">YCbCr</h2>

<p>YCbCr is sometimes abbreviated to <strong>YCC</strong>. Y′CbCr is often called <a class="uri" href="YPbPr" title="wikilink">YPbPr</a> when used for <a href="Analog_video" title="wikilink">analog</a> component video, although the term Y′CbCr is commonly used for both systems, with or without the prime.</p>

<p>Y′CbCr is often confused with the <a class="uri" href="YUV" title="wikilink">YUV</a> color space, and typically the terms YCbCr and YUV are used interchangeably, leading to some confusion; when referring to signals in video or digital form, the term "YUV" mostly means "Y′CbCr".</p>

<p>Y′CbCr signals (prior to scaling and offsets to place the signals into digital form) are called <a class="uri" href="YPbPr" title="wikilink">YPbPr</a>, and are created from the corresponding gamma-adjusted <a class="uri" href="RGB" title="wikilink">RGB</a> (red, green and blue) source using two defined constants K<sub>B</sub> and K<sub>R</sub> as follows:</p>

<p>

<math display="inline" id="YCbCr:0">
 <semantics>
  <msup>
   <mi>Y</mi>
   <mo>′</mo>
  </msup>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <csymbol cd="ambiguous">superscript</csymbol>
    <ci>Y</ci>
    <ci>normal-′</ci>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \displaystyle Y^{\prime}
  </annotation>
 </semantics>
</math>


</p>

<p>where K<sub>B</sub> and K<sub>R</sub> are ordinarily derived from the definition of the corresponding RGB space. (The equivalent <a href="matrix_(mathematics)" title="wikilink">matrix</a> manipulation is often referred to as the "color matrix".)</p>

<p>Here, the prime ′ symbols mean <a href="gamma_correction" title="wikilink">gamma correction</a> is being used; thus R′, G′ and B′ nominally range from 0 to 1, with 0 representing the minimum intensity (e.g., for display of the color <a class="uri" href="black" title="wikilink">black</a>) and 1 the maximum (e.g., for display of the color <a class="uri" href="white" title="wikilink">white</a>). The resulting luma (Y) value will then have a nominal range from 0 to 1, and the chroma (P<sub>B</sub> and P<sub>R</sub>) values will have a nominal range from -0.5 to +0.5. The reverse conversion process can be readily derived by inverting the above equations.</p>

<p>When representing the signals in digital form, the results are scaled and rounded, and offsets are typically added. For example, the scaling and offset applied to the Y′ component per specification (e.g. <a class="uri" href="MPEG-2" title="wikilink">MPEG-2</a><a class="footnoteRef" href="#fn1" id="fnref1"><sup>1</sup></a>) results in the value of 16 for black and the value of 235 for white when using an 8-bit representation. The standard has 8-bit digitized versions of C<sub>B</sub> and C<sub>R</sub> scaled to a different range of 16 to 240. Consequently, rescaling by the fraction (235-16)/(240-16) = 219/224 is sometimes required when doing color matrixing or processing in YCbCr space, resulting in quantization distortions when the subsequent processing is not performed using higher bit depths.</p>

<p>The scaling that results in the use of a smaller range of digital values than what might appear to be desirable for representation of the nominal range of the input data allows for some "overshoot" and "undershoot" during processing without necessitating undesirable <a href="Clipping_(signal_processing)" title="wikilink">clipping</a>. This "head-room" and "toe-room" can also be used for extension of the nominal color <a class="uri" href="gamut" title="wikilink">gamut</a>, as specified by <a class="uri" href="xvYCC" title="wikilink">xvYCC</a>.</p>

<p>Since the equations defining YCbCr are formed in a way that rotates the entire nominal RGB color cube and scales it to fit within a (larger) YCbCr color cube, there are some points within the YCbCr color cube that <em>cannot</em> be represented in the corresponding RGB domain (at least not within the nominal RGB range). This causes some difficulty in determining how to correctly interpret and display some YCbCr signals. These out-of-range YCbCr values are used by xvYCC to encode colors outside the BT.709 gamut.</p>
<figure><b>(Figure)</b>
<figcaption>RGB to YCbCr conversion</figcaption>
</figure>
<h3 id="itu-r-bt.601-conversion">ITU-R BT.601 conversion</h3>

<p>The form of Y′CbCr that was defined for <a href="standard-definition_television" title="wikilink">standard-definition television</a> use in the <a class="uri" href="ITU-R" title="wikilink">ITU-R</a> BT.601 (formerly <a href="CCIR_601" title="wikilink">CCIR 601</a>) standard for use with digital <a href="component_video" title="wikilink">component video</a> is derived from the corresponding RGB space as follows:</p>

<p>

<math display="inline" id="YCbCr:1">
 <semantics>
  <msub>
   <mi>K</mi>
   <mi>B</mi>
  </msub>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <csymbol cd="ambiguous">subscript</csymbol>
    <ci>K</ci>
    <ci>B</ci>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \displaystyle K_{B}
  </annotation>
 </semantics>
</math>


</p>

<p>From the above constants and formulas, the following can be derived for ITU-R BT.601.</p>

<p>Analog YPbPr from analog R'G'B' is derived as follows:</p>

<p>

<math display="inline" id="YCbCr:2">
 <semantics>
  <msup>
   <mi>Y</mi>
   <mo>′</mo>
  </msup>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <csymbol cd="ambiguous">superscript</csymbol>
    <ci>Y</ci>
    <ci>normal-′</ci>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \displaystyle Y^{\prime}
  </annotation>
 </semantics>
</math>


</p>

<p>Digital Y′CbCr (8 bits per sample) is derived from analog R'G'B' as follows:</p>

<p>

<math display="inline" id="YCbCr:3">
 <semantics>
  <msup>
   <mi>Y</mi>
   <mo>′</mo>
  </msup>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <csymbol cd="ambiguous">superscript</csymbol>
    <ci>Y</ci>
    <ci>normal-′</ci>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \displaystyle Y^{\prime}
  </annotation>
 </semantics>
</math>


</p>

<p>or simply componentwise</p>

<p>

<math display="inline" id="YCbCr:4">
 <semantics>
  <mrow>
   <mo stretchy="false">(</mo>
   <msup>
    <mi>Y</mi>
    <mo>′</mo>
   </msup>
   <mo>,</mo>
   <msub>
    <mi>C</mi>
    <mi>B</mi>
   </msub>
   <mo>,</mo>
   <msub>
    <mi>C</mi>
    <mi>R</mi>
   </msub>
   <mo stretchy="false">)</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <vector>
    <apply>
     <csymbol cd="ambiguous">superscript</csymbol>
     <ci>Y</ci>
     <ci>normal-′</ci>
    </apply>
    <apply>
     <csymbol cd="ambiguous">subscript</csymbol>
     <ci>C</ci>
     <ci>B</ci>
    </apply>
    <apply>
     <csymbol cd="ambiguous">subscript</csymbol>
     <ci>C</ci>
     <ci>R</ci>
    </apply>
   </vector>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \displaystyle(Y^{\prime},C_{B},C_{R})
  </annotation>
 </semantics>
</math>


</p>

<p>The resultant signals range from 16 to 235 for Y' (Cb and Cr range from 16 to 240); the values from 0 to 15 are called <em>footroom</em>, while the values from 236 to 255 are called <em>headroom</em>.</p>

<p>Alternatively, digital Y′CbCr can derived from digital R'dG'dB'd (8 bits per sample, each using the full range with zero representing black and 255 representing white) according to the following equations:</p>

<p>

<math display="inline" id="YCbCr:5">
 <semantics>
  <msup>
   <mi>Y</mi>
   <mo>′</mo>
  </msup>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <csymbol cd="ambiguous">superscript</csymbol>
    <ci>Y</ci>
    <ci>normal-′</ci>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \displaystyle Y^{\prime}
  </annotation>
 </semantics>
</math>


</p>

<p>In the above formula, the scaling factors are multiplied by 

<math display="inline" id="YCbCr:6">
 <semantics>
  <mfrac>
   <mn>256</mn>
   <mn>255</mn>
  </mfrac>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <divide></divide>
    <cn type="integer">256</cn>
    <cn type="integer">255</cn>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \frac{256}{255}
  </annotation>
 </semantics>
</math>

. This allows for the value 256 in the denominator, which can be calculated by a single <a class="uri" href="bitshift" title="wikilink">bitshift</a>.</p>

<p>If the R'dG'dB'd digital source includes footroom and headroom, the footroom offset 16 needs to be subtracted first from each signal, and a scale factor of 

<math display="inline" id="YCbCr:7">
 <semantics>
  <mfrac>
   <mn>255</mn>
   <mn>219</mn>
  </mfrac>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <divide></divide>
    <cn type="integer">255</cn>
    <cn type="integer">219</cn>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \frac{255}{219}
  </annotation>
 </semantics>
</math>

 needs to be included in the equations.</p>

<p>The inverse transform is:</p>

<p>

<math display="inline" id="YCbCr:8">
 <semantics>
  <msubsup>
   <mi>R</mi>
   <mi>D</mi>
   <mo>′</mo>
  </msubsup>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <csymbol cd="ambiguous">subscript</csymbol>
    <apply>
     <csymbol cd="ambiguous">superscript</csymbol>
     <ci>R</ci>
     <ci>normal-′</ci>
    </apply>
    <ci>D</ci>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \displaystyle R^{\prime}_{D}
  </annotation>
 </semantics>
</math>


</p>

<p>The inverse transform without any roundings (using values coming directly from ITU-R BT.601 recommendation) is:</p>

<p>

<math display="inline" id="YCbCr:9">
 <semantics>
  <msubsup>
   <mi>R</mi>
   <mi>D</mi>
   <mo>′</mo>
  </msubsup>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <csymbol cd="ambiguous">subscript</csymbol>
    <apply>
     <csymbol cd="ambiguous">superscript</csymbol>
     <ci>R</ci>
     <ci>normal-′</ci>
    </apply>
    <ci>D</ci>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \displaystyle R^{\prime}_{D}
  </annotation>
 </semantics>
</math>


</p>

<p>This form of Y′CbCr is used primarily for older <a href="standard-definition_television" title="wikilink">standard-definition television</a> systems, as it uses an RGB model that fits the phosphor emission characteristics of older <a href="Cathode_ray_tube" title="wikilink">CRTs</a>.</p>
<h3 id="itu-r-bt.709-conversion">ITU-R BT.709 conversion</h3>

<p> A different form of Y′CbCr is specified in the <a href="Rec._709" title="wikilink">ITU-R BT.709</a> standard, primarily for <a href="High-definition_television" title="wikilink">HDTV</a> use. The newer form is also used in some computer-display oriented applications. In this case, the values of Kb and Kr differ, but the formulas for using them are the same. For ITU-R BT.709, the constants are:</p>

<p>

<math display="inline" id="YCbCr:10">
 <semantics>
  <msub>
   <mi>K</mi>
   <mi>B</mi>
  </msub>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <csymbol cd="ambiguous">subscript</csymbol>
    <ci>K</ci>
    <ci>B</ci>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \displaystyle K_{B}
  </annotation>
 </semantics>
</math>


</p>

<p>This form of Y′CbCr is based on an RGB model that more closely fits the phosphor emission characteristics of newer CRTs and other modern display equipment.</p>

<p>The definitions of the R', G', and B' signals also differ between BT.709 and BT.601, and differ within BT.601 depending on the type of TV system in use (625-line as in <a class="uri" href="PAL" title="wikilink">PAL</a> and <a class="uri" href="SECAM" title="wikilink">SECAM</a> or 525-line as in <a class="uri" href="NTSC" title="wikilink">NTSC</a>), and differ further in other specifications. In different designs there are differences in the definitions of the R, G, and B chromaticity coordinates, the reference white point, the supported gamut range, the exact gamma pre-compensation functions for deriving R', G' and B' from R, G, and B, and in the scaling and offsets to be applied during conversion from R'G'B' to Y′CbCr. So proper conversion of Y′CbCr from one form to the other is not just a matter of inverting one matrix and applying the other. In fact, when Y′CbCr is designed ideally, the values of K<sub>B</sub> and K<sub>R</sub> are derived from the precise specification of the RGB color primary signals, so that the luma (Y′) signal corresponds as closely as possible to a <a href="gamma_correction" title="wikilink">gamma-adjusted</a> measurement of <a class="uri" href="luminance" title="wikilink">luminance</a> (typically based on the <a href="International_Commission_on_Illumination" title="wikilink">CIE</a> 1931 measurements of the response of the human visual system to color stimuli).<a class="footnoteRef" href="#fn2" id="fnref2"><sup>2</sup></a></p>
<h3 id="itu-r-bt.2020-conversion">ITU-R BT.2020 conversion</h3>

<p>The <a href="Rec._2020" title="wikilink">ITU-R BT.2020</a> standard defines both gamma corrected Y′CbCr and a linear encoded version of YCbCr called YcCbcCrc.<a class="footnoteRef" href="#fn3" id="fnref3"><sup>3</sup></a> YcCbcCrc may be used when the top priority is the most accurate retention of luminance information.<a class="footnoteRef" href="#fn4" id="fnref4"><sup>4</sup></a> For YcCbcCrc, the coefficients are:</p>

<p>

<math display="inline" id="YCbCr:11">
 <semantics>
  <msub>
   <mi>K</mi>
   <mi>B</mi>
  </msub>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <csymbol cd="ambiguous">subscript</csymbol>
    <ci>K</ci>
    <ci>B</ci>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \displaystyle K_{B}
  </annotation>
 </semantics>
</math>


</p>
<h3 id="jpeg-conversion">JPEG conversion</h3>

<p><a class="uri" href="JFIF" title="wikilink">JFIF</a> usage of <a class="uri" href="JPEG" title="wikilink">JPEG</a> allows Y′CbCr where Y′, C<sub>B</sub> and C<sub>R</sub> have the full 8-bit range of 0-255:<a class="footnoteRef" href="#fn5" id="fnref5"><sup>5</sup></a></p>

<p>

<math display="inline" id="YCbCr:12">
 <semantics>
  <msup>
   <mi>Y</mi>
   <mo>′</mo>
  </msup>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <csymbol cd="ambiguous">superscript</csymbol>
    <ci>Y</ci>
    <ci>normal-′</ci>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \displaystyle Y^{\prime}
  </annotation>
 </semantics>
</math>


</p>

<p>And back:</p>

<p>

<math display="inline" id="YCbCr:13">
 <semantics>
  <mi>R</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>R</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \displaystyle R
  </annotation>
 </semantics>
</math>


</p>
<h2 id="cbcr-planes-at-different-y-values">CbCr Planes at different Y values</h2>

<p><a class="uri" href="File:YCbCr-CbCr">File:YCbCr-CbCr</a> Y0.png|Y=0 <a class="uri" href="File:YCbCr-CbCr">File:YCbCr-CbCr</a> Y50.png|Y=0.5 <a class="uri" href="File:YCbCr-CbCr">File:YCbCr-CbCr</a> Y100.png|Y=1</p>
<h2 id="references">References</h2>
<h2 id="external-links">External links</h2>
<ul>
<li><a href="http://www.poynton.com/ColorFAQ.html">Charles Poynton — Color FAQ</a></li>
<li><a href="http://www.poynton.com/Poynton-video-eng.html">Charles Poynton — Video engineering</a></li>
<li><a href="http://www.couleur.org/index.php?page=transformations#YCbCr">Color Space Visualization</a></li>
<li>[<a class="uri" href="http://www.pcmag.com/encyclopedia_term/0,2542,t=YCbCr&amp;i">http://www.pcmag.com/encyclopedia_term/0,2542,t=YCbCr&amp;i;</a>;=55147,00.asp PC Magazine Encyclopedia: YCbCr]</li>
<li><a href="http://discoverybiz.net/enu0/faq/faq_YUV_YCbCr_YPbPr.htm">YUV, YCbCr, YPbPr color spaces.</a></li>
<li><a href="http://www.equasys.de/colorformat.html">Color formats</a> for image and video processing — <a href="http://www.equasys.de/colorconversion.html">Color conversion</a> between RGB, YUV, YCbCr and YPbPr.</li>
</ul>

<p>."</p>

<p><a href="Category:Color_space" title="wikilink">Category:Color space</a></p>
<section class="footnotes">
<hr/>
<ol>
<li id="fn1">e.g. the <a class="uri" href="MPEG-2" title="wikilink">MPEG-2</a> specification, ITU <a class="uri" href="H.262" title="wikilink">H.262</a> 2000 E pg. 44<a href="#fnref1">↩</a></li>
<li id="fn2">Charles Poynton, <em>Digital Video and HDTV</em>, Chapter 24, pp. 291–292, <a href="Morgan_Kaufmann" title="wikilink">Morgan Kaufmann</a>, 2003.<a href="#fnref2">↩</a></li>
<li id="fn3"><a href="#fnref3">↩</a></li>
<li id="fn4"></li>
<li id="fn5"><a href="http://www.w3.org/Graphics/JPEG/jfif3.pdf">JPEG File Interchange Format Version 1.02</a><a href="#fnref5">↩</a></li>
</ol>
</section>
</body>
</html>
