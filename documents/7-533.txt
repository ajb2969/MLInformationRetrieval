   Buck–boost converter      Buck–boost converter   (Figure)  The basic schematic of an inverting buck–boost converter.   The buck–boost converter is a type of DC-to-DC converter that has an output voltage magnitude that is either greater than or less than the input voltage magnitude. It is equivalent to a flyback converter using a single inductor instead of a transformer. 1  Two different topologies are called buck–boost converter . Both of them can produce a range of output voltages, from an output voltage much larger (in absolute magnitude) than the input voltage, down to almost zero.   The inverting topology  The output voltage is of the opposite polarity than the input. This is a switched-mode power supply with a similar circuit topology to the boost converter and the buck converter . The output voltage is adjustable based on the duty cycle of the switching transistor. One possible drawback of this converter is that the switch does not have a terminal at ground; this complicates the driving circuitry. Neither drawback is of any consequence if the power supply is isolated from the load circuit (if, for example, the supply is a battery) because the supply and diode polarity can simply be reversed. The switch can be on either the ground side or the supply side.  A buck (step-down) converter combined with a boost (step-up) converter  The output voltage is typically of the same polarity of the input, and can be lower or higher than the input. Such a non-inverting buck-boost converter may use a single inductor which is used for both the buck inductor and the boost inductor, 2 3    Motorola Semiconductor. [ http://www.datasheetarchive.com/dataframe.php?file=DSA-457120.pdf&dir; ;=Datasheets-23∂=AN954 "Application note AN954: A Unique Converter Configuration provides step-up/down functions"]. 1985. "... a unique step-up/down configuration can be created ... which still employs a single inductor for the voltage transformation."  sometimes called a "four-switch buck-boost converter" , 4 it may use multiple inductors but only a single switch as in the SEPIC and Ćuk topologies.  The rest of this article describes the inverting topology.  Principle of operation    The basic principle of the buck–boost converter is fairly simple (see figure 2):   while in the On-state, the input voltage source is directly connected to the inductor (L). This results in accumulating energy in L. In this stage, the capacitor supplies energy to the output load.  while in the Off-state, the inductor is connected to the output load and capacitor, so energy is transferred from L to C and R.   Compared to the buck and boost converters, the characteristics of the buck–boost converter are mainly:   polarity of the output voltage is opposite to that of the input;  the output voltage can vary continuously from 0 to    -  ∞         \scriptstyle-\infty   (for an ideal converter). The output voltage ranges for a buck and a boost converter are respectively    V  i     subscript  V  i    \scriptstyle V_{i}   to 0 and    V  i     subscript  V  i    \scriptstyle V_{i}   to   ∞     \scriptstyle\infty   .   Conceptual overview  Like the buck and boost converters, the operation of the buck-boost is best understood in terms of the inductor's "reluctance" to allow rapid change in current. From the initial state in which nothing is charged and the switch is open, the current through the inductor is zero. When the switch is first closed, the blocking diode prevents current from flowing into the right hand side of the circuit, so it must all flow through the inductor. However, since the inductor doesn't like rapid current change, it will initially keep the current low by dropping most of the voltage provided by the source. Over time, the inductor will allow the current to slowly increase by decreasing its voltage drop. Also during this time, the inductor will store energy in the form of a magnetic field.  Continuous mode  (Figure)  Fig 3: Waveforms of current and voltage in a buck–boost converter operating in continuous mode.   If the current through the inductor L never falls to zero during a commutation cycle, the converter is said to operate in continuous mode. The current and voltage waveforms in an ideal converter can be seen in Figure 3.  From    t  =  0      t  0    \scriptstyle t=0   to    t  =    D   T       t    D  T     \scriptstyle t=D\,T   , the converter is in On-State, so the switch S is closed. The rate of change in the inductor current ( I L ) is therefore given by        d   I  L     d  t    =    V  i   L          normal-d   subscript  I  L     normal-d  t       subscript  V  i   L     \frac{\operatorname{d}I_{\text{L}}}{\operatorname{d}t}=\frac{V_{i}}{L}     At the end of the On-state, the increase of I L is therefore:       Δ   I   L  On     =    ∫  0    D   T     d   I  L     =    ∫  0    D   T        V  i   L     d  t     =      V  i     D   T   L           normal-Δ   subscript  I   subscript  L  On       superscript   subscript   0     D  T     normal-d   subscript  I  L            superscript   subscript   0     D  T         subscript  V  i   L    normal-d  t               subscript  V  i   D  T   L      \Delta I_{\text{L}_{\text{On}}}=\int_{0}^{D\,T}\operatorname{d}I_{\text{L}}=%
 \int_{0}^{D\,T}\frac{V_{i}}{L}\,\operatorname{d}t=\frac{V_{i}\,D\,T}{L}     D is the duty cycle. It represents the fraction of the commutation period T during which the switch is On. Therefore D ranges between 0 ( S is never on) and 1 ( S is always on).  During the Off-state, the switch S is open, so the inductor current flows through the load. If we assume zero voltage drop in the diode, and a capacitor large enough for its voltage to remain constant, the evolution of I L is:        d   I  L     d  t    =    V  o   L          normal-d   subscript  I  L     normal-d  t       subscript  V  o   L     \frac{\operatorname{d}I_{\text{L}}}{\operatorname{d}t}=\frac{V_{o}}{L}     Therefore, the variation of I L during the Off-period is:       Δ   I   L  Off     =    ∫  0    (   1  -  D   )   T     d   I  L     =    ∫  0    (   1  -  D   )   T        V  o     d  t    L    =     V  o    (   1  -  D   )   T   L           normal-Δ   subscript  I   subscript  L  Off       superscript   subscript   0       1  D   T     normal-d   subscript  I  L            superscript   subscript   0       1  D   T         subscript  V  o    normal-d  t    L              subscript  V  o     1  D   T   L      \Delta I_{\text{L}_{\text{Off}}}=\int_{0}^{\left(1-D\right)T}\operatorname{d}I%
 _{\text{L}}=\int_{0}^{\left(1-D\right)T}\frac{V_{o}\,\operatorname{d}t}{L}=%
 \frac{V_{o}\left(1-D\right)T}{L}     As we consider that the converter operates in steady-state conditions, the amount of energy stored in each of its components has to be the same at the beginning and at the end of a commutation cycle. As the energy in an inductor is given by:      E  =    1  2    L    I  L  2        E      1  2   L   superscript   subscript  I  L   2      E=\frac{1}{2}L\,I_{\text{L}}^{2}     it is obvious that the value of I L at the end of the Off state must be the same with the value of I L at the beginning of the On-state, i.e. the sum of the variations of I L during the on and the off states must be zero:        Δ   I   L  On     +   Δ   I   L  Off      =  0          normal-Δ   subscript  I   subscript  L  On       normal-Δ   subscript  I   subscript  L  Off      0    \Delta I_{\text{L}_{\text{On}}}+\Delta I_{\text{L}_{\text{Off}}}=0     Substituting    Δ   I   L  On        normal-Δ   subscript  I   subscript  L  On      \Delta I_{\text{L}_{\text{On}}}   and    Δ   I   L  Off        normal-Δ   subscript  I   subscript  L  Off      \Delta I_{\text{L}_{\text{Off}}}   by their expressions yields:        Δ   I   L  On     +   Δ   I   L  Off      =       V  i     D   T   L   +     V  o    (   1  -  D   )   T   L    =  0            normal-Δ   subscript  I   subscript  L  On       normal-Δ   subscript  I   subscript  L  Off             subscript  V  i   D  T   L        subscript  V  o     1  D   T   L         0     \Delta I_{\text{L}_{\text{On}}}+\Delta I_{\text{L}_{\text{Off}}}=\frac{V_{i}\,%
 D\,T}{L}+\frac{V_{o}\left(1-D\right)T}{L}=0     This can be written as:        V  o    V  i    =   D   D  -  1           subscript  V  o    subscript  V  i      D    D  1      \frac{V_{o}}{V_{i}}=\frac{D}{D-1}     This in return yields that:      D  =    V  o     V  o   -   V  i         D     subscript  V  o      subscript  V  o    subscript  V  i       D=\frac{V_{o}}{V_{o}-V_{i}}     From the above expression it can be seen that the polarity of the output voltage is always negative (because the duty cycle goes from 0 to 1), and that its absolute value increases with D, theoretically up to minus infinity when D approaches 1. Apart from the polarity, this converter is either step-up (a boost converter) or step-down (a buck converter). Thus it is named a buck–boost converter.  Discontinuous mode  In some cases, the amount of energy required by the load is small enough to be transferred in a time smaller than the whole commutation period. In this case, the current through the inductor falls to zero during part of the period. The only difference in the principle described above is that the inductor is completely discharged at the end of the commutation cycle (see waveforms in figure 4). Although slight, the difference has a strong effect on the output voltage equation. It can be calculated as follows:  Because the inductor current at the beginning of the cycle is zero, its maximum value    I   L  max      subscript  I   subscript  L  max     I_{L_{\text{max}}}   (at    t  =    D   T       t    D  T     t=D\,T   ) is       I   L  max    =      V  i     D   T   L        subscript  I   subscript  L  max         subscript  V  i   D  T   L     I_{L_{\text{max}}}=\frac{V_{i}\,D\,T}{L}     During the off-period, I L falls to zero after δ.T:        I   L  max    +      V  o     δ   T   L    =  0         subscript  I   subscript  L  max         subscript  V  o   δ  T   L    0    I_{L_{\text{max}}}+\frac{V_{o}\,\delta\,T}{L}=0     Using the two previous equations, δ is:      δ  =   -      V  i    D    V  o         δ         subscript  V  i   D    subscript  V  o       \delta=-\frac{V_{i}\,D}{V_{o}}     The load current    I  o     subscript  I  o    I_{o}   is equal to the average diode current (    I  D     subscript  I  D    I_{D}   ). As can be seen on figure 4, the diode current is equal to the inductor current during the off-state. Therefore, the output current can be written as:       I  o   =    I  D   ¯   =     I   L  max    2   δ          subscript  I  o    normal-¯   subscript  I  D              subscript  I   subscript  L  max    2   δ      I_{o}=\bar{I_{D}}=\frac{I_{L_{\text{max}}}}{2}\delta     Replacing    I   L  max      subscript  I   subscript  L  max     I_{L_{\text{max}}}   and δ by their respective expressions yields:       I  o   =   -       V  i     D   T    2  L        V  i    D    V  o      =   -      V  i  2      D  2    T    2   L    V  o             subscript  I  o            subscript  V  i   D  T     2  L         subscript  V  i   D    subscript  V  o                  superscript   subscript  V  i   2    superscript  D  2   T     2  L   subscript  V  o         I_{o}=-\frac{V_{i}\,D\,T}{2L}\frac{V_{i}\,D}{V_{o}}=-\frac{V_{i}^{2}\,D^{2}\,T%
 }{2L\,V_{o}}     Therefore, the output voltage gain can be written as:        V  o    V  i    =   -      V  i      D  2    T    2   L    I  o             subscript  V  o    subscript  V  i           subscript  V  i    superscript  D  2   T     2  L   subscript  I  o        \frac{V_{o}}{V_{i}}=-\frac{V_{i}\,D^{2}\,T}{2L\,I_{o}}     Compared to the expression of the output voltage gain for the continuous mode, this expression is much more complicated. Furthermore, in discontinuous operation, the output voltage not only depends on the duty cycle, but also on the inductor value, the input voltage and the output current.  Limit between continuous and discontinuous modes  (Figure)  Fig 5: Evolution of the normalized output voltage with the normalized output current in a buck–boost converter.   As told at the beginning of this section, the converter operates in discontinuous mode when low current is drawn by the load, and in continuous mode at higher load current levels. The limit between discontinuous and continuous modes is reached when the inductor current falls to zero exactly at the end of the commutation cycle. with the notations of figure 4, this corresponds to :         D   T   +    δ   T    =  T          D  T     δ  T    T    D\,T+\delta\,T=T          D  +  δ   =   1         D  δ   1    D+\delta=1\,     In this case, the output current    I   o  lim      subscript  I   subscript  o  lim     \scriptstyle I_{o_{\text{lim}}}   (output current at the limit between continuous and discontinuous modes) is given by:       I   o  lim    =    I  D   ¯   =     I   L  max    2    (   1  -  D   )           subscript  I   subscript  o  lim     normal-¯   subscript  I  D              subscript  I   subscript  L  max    2     1  D       I_{o_{\text{lim}}}=\bar{I_{D}}=\frac{I_{L_{\text{max}}}}{2}\left(1-D\right)     Replacing    I   L  max      subscript  I   subscript  L  max     \scriptstyle I_{L_{\text{max}}}   by the expression given in the discontinuous mode section yields:       I   o  lim    =       V  i     D   T    2  L     (   1  -  D   )         subscript  I   subscript  o  lim           subscript  V  i   D  T     2  L      1  D      I_{o_{\text{lim}}}=\frac{V_{i}\,D\,T}{2L}\left(1-D\right)     As    I   o  lim      subscript  I   subscript  o  lim     \scriptstyle I_{o_{\text{lim}}}   is the current at the limit between continuous and discontinuous modes of operations, it satisfies the expressions of both modes. Therefore, using the expression of the output voltage in continuous mode, the previous expression can be written as:       I   o  lim    =       V  i     D   T    2  L      V  i    V  o     (   -  D   )         subscript  I   subscript  o  lim           subscript  V  i   D  T     2  L       subscript  V  i    subscript  V  o      D      I_{o_{\text{lim}}}=\frac{V_{i}\,D\,T}{2L}\frac{V_{i}}{V_{o}}\left(-D\right)     Let's now introduce two more notations:   the normalized voltage, defined by     |   V  o   |   =     V  o    V  i            subscript  V  o       subscript  V  o    subscript  V  i      \scriptstyle\left|V_{o}\right|=\frac{V_{o}}{V_{i}}   . It corresponds to the gain in voltage of the converter;  the normalized current, defined by     |   I  o   |   =     L    T    V  i       I  o           subscript  I  o        L    T   subscript  V  i      subscript  I  o      \scriptstyle\left|I_{o}\right|=\frac{L}{T\,V_{i}}I_{o}   . The term       T    V  i    L         T   subscript  V  i    L    \scriptstyle\frac{T\,V_{i}}{L}   is equal to the maximum increase of the inductor current during a cycle; i.e., the increase of the inductor current with a duty cycle D=1. So, in steady state operation of the converter, this means that    |   I  o   |       subscript  I  o     \scriptstyle\left|I_{o}\right|   equals 0 for no output current, and 1 for the maximum current the converter can deliver.   Using these notations, we have:   in continuous mode,     |   V  o   |   =   -    D   1  -  D             subscript  V  o        D    1  D       \scriptstyle\left|V_{o}\right|=-\frac{D}{1-D}   ;  in discontinuous mode,     |   V  o   |   =   -     D  2    2   |   I  o   |              subscript  V  o         superscript  D  2     2     subscript  I  o         \scriptstyle\left|V_{o}\right|=-\frac{D^{2}}{2\left|I_{o}\right|}   ;  the current at the limit between continuous and discontinuous mode is     I   o  lim    =        V  i    T    2  L     D   (   1  -  D   )    =      I   o  lim     2   |   I  o   |      D   (   1  -  D   )           subscript  I   subscript  o  lim           subscript  V  i   T     2  L    D    1  D              subscript  I   subscript  o  lim      2     subscript  I  o      D    1  D       \scriptstyle I_{o_{\text{lim}}}=\frac{V_{i}\,T}{2L}D\left(1-D\right)=\frac{I_{%
 o_{\text{lim}}}}{2\left|I_{o}\right|}D\left(1-D\right)   . Therefore the locus of the limit between continuous and discontinuous modes is given by       1   2   |   I  o   |      D   (   1  -  D   )    =  1          1    2     subscript  I  o      D    1  D    1    \scriptstyle\frac{1}{2\left|I_{o}\right|}D\left(1-D\right)=1   .   These expressions have been plotted in figure 5. The difference in behavior between the continuous and discontinuous modes can be seen clearly.  Non-ideal circuit  Effect of parasitic resistances  In the analysis above, no dissipative elements ( resistors ) have been considered. That means that the power is transmitted without losses from the input voltage source to the load. However, parasitic resistances exist in all circuits, due to the resistivity of the materials they are made from. Therefore, a fraction of the power managed by the converter is dissipated by these parasitic resistances.  For the sake of simplicity, we consider here that the inductor is the only non-ideal component, and that it is equivalent to an inductor and a resistor in series. This assumption is acceptable because an inductor is made of one long wound piece of wire, so it is likely to exhibit a non-negligible parasitic resistance ( R L ). Furthermore, current flows through the inductor both in the on and the off states.  Using the state-space averaging method, we can write:       V  i   =     V  ¯   L   +    V  ¯   S         subscript  V  i      subscript   normal-¯  V   L    subscript   normal-¯  V   S      V_{i}=\bar{V}_{\text{L}}+\bar{V}_{S}     where     V  ¯   L     subscript   normal-¯  V   L    \scriptstyle\bar{V}_{\text{L}}   and     V  ¯   S     subscript   normal-¯  V   S    \scriptstyle\bar{V}_{S}   are respectively the average voltage across the inductor and the switch over the commutation cycle. If we consider that the converter operates in steady-state, the average current through the inductor is constant. The average voltage across the inductor is:        V  ¯   L   =    L     d   I  L    ¯    d  t     +    R  L     I  ¯   L     =    R  L     I  ¯   L           subscript   normal-¯  V   L       L     normal-¯    d   subscript  I  L       d  t        subscript  R  L    subscript   normal-¯  I   L             subscript  R  L    subscript   normal-¯  I   L       \bar{V}_{\text{L}}=L\frac{\bar{dI_{\text{L}}}}{dt}+R_{\text{L}}\bar{I}_{\text{%
 L}}=R_{\text{L}}\bar{I}_{\text{L}}     When the switch is in the on-state,     V  S   =  0       subscript  V  S   0    \scriptstyle V_{S}=0   . When it is off, the diode is forward biased (we consider the continuous mode operation), therefore     V  S   =    V  i   -   V  o         subscript  V  S      subscript  V  i    subscript  V  o      \scriptstyle V_{S}=V_{i}-V_{o}   . Therefore, the average voltage across the switch is:        V  ¯   S   =    D  0   +    (   1  -  D   )    (    V  i   -   V  o    )     =    (   1  -  D   )    (    V  i   -   V  o    )           subscript   normal-¯  V   S       D  0       1  D      subscript  V  i    subscript  V  o               1  D      subscript  V  i    subscript  V  o        \bar{V}_{S}=D\,0+(1-D)(V_{i}-V_{o})=(1-D)(V_{i}-V_{o})     The output current is the opposite of the inductor current during the off-state. the average inductor current is therefore:        I  ¯   L   =    -   I  o     1  -  D         subscript   normal-¯  I   L        subscript  I  o      1  D      \bar{I}_{\text{L}}=\frac{-I_{o}}{1-D}     Assuming the output current and voltage have negligible ripple, the load of the converter can be considered purely resistive. If R is the resistance of the load, the above expression becomes:        I  ¯   L   =    -   V  o      (   1  -  D   )   R         subscript   normal-¯  I   L        subscript  V  o        1  D   R      \bar{I}_{\text{L}}=\frac{-V_{o}}{(1-D)R}     Using the previous equations, the input voltage becomes:       V  i   =     R  L     -   V  o      (   1  -  D   )   R     +    (   1  -  D   )    (    V  i   -   V  o    )          subscript  V  i        subscript  R  L        subscript  V  o        1  D   R         1  D      subscript  V  i    subscript  V  o        V_{i}=R_{\text{L}}\frac{-V_{o}}{(1-D)R}+(1-D)(V_{i}-V_{o})     This can be written as:        V  o    V  i    =    -  D       R  L    R   (   1  -  D   )     +  1   -  D           subscript  V  o    subscript  V  i        D          subscript  R  L     R    1  D     1   D      \frac{V_{o}}{V_{i}}=\frac{-D}{\frac{R_{\text{L}}}{R(1-D)}+1-D}     If the inductor resistance is zero, the equation above becomes equal to the one of the ideal case. But when R L increases, the voltage gain of the converter decreases compared to the ideal case. Furthermore, the influence of R L increases with the duty cycle. This is summarized in figure 6.  See also   Buck Converter  Boost Converter  Ćuk converter  SEPIC converter   References  Further reading   Daniel W. Hart, "Introduction to Power Electronics", Prentice Hall, Upper Saddle River, New Jersey USA, 1997 ISBN 0-02-351182-6  Christophe Basso, Switch-Mode Power Supplies: SPICE Simulations and Practical Designs . McGraw-Hill. ISBN 0-07-150858-9.   "  Category:Electrical power conversion     The Flyback Converter - Lecture notes - ECEN4517 - Department of Electrical and Computer Engineering - University of Colorado, Boulder. ↩  "Non-inverting Buck-Boost Regulator" (p.9) ↩  ST AN2389: "An MCU-based low cost non-inverting buck-boost converter for battery chargers" ↩  Haifeng Fan. "Wide VIN and High-Power Challenges with Buck-Boost Converters" . 2015. ↩     