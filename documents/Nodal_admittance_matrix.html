<html lang="en">
<head>
<meta charset="utf-8"/>
<title offset="843">Nodal admittance matrix</title>
<script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_SVG.js" type="text/javascript">
</script>
</head>
<body>
<h1>Nodal admittance matrix</h1>
<hr/>

<p>In <a href="power_engineering" title="wikilink">power engineering</a>, <strong>nodal admittance matrix</strong> (or just <strong>admittance matrix</strong>) or <strong>Y Matrix</strong> or <strong>Ybus</strong> is an <em>n x n</em> <a href="matrix_(mathematics)" title="wikilink">matrix</a> describing a power system with <em>n</em> <a href="Electrical_bus" title="wikilink">buses</a>. It represents the nodal <a class="uri" href="admittance" title="wikilink">admittance</a> of the buses in a power system. In realistic systems which contain thousands of buses, the Y matrix is quite sparse. Each bus in a real power system is usually connected to only a few other buses through the <a href="electric_power_transmission" title="wikilink">transmission lines</a>. The Y Matrix is also one of the data requirements needed to formulate a <a href="power_flow_study" title="wikilink">power flow study</a>.</p>

<p>The nodal admittance matrix form: 

<math display="inline" id="Nodal_admittance_matrix:0">
 <semantics>
  <mrow>
   <mi>Y</mi>
   <mo>=</mo>
   <mrow>
    <mo>[</mo>
    <mtable>
     <mtr>
      <mtd columnalign="center">
       <msub>
        <mi>Y</mi>
        <mn>11</mn>
       </msub>
      </mtd>
      <mtd columnalign="center">
       <msub>
        <mi>Y</mi>
        <mn>12</mn>
       </msub>
      </mtd>
      <mtd columnalign="center">
       <mi mathvariant="normal">⋯</mi>
      </mtd>
      <mtd columnalign="center">
       <msub>
        <mi>Y</mi>
        <mrow>
         <mn>1</mn>
         <mi>n</mi>
        </mrow>
       </msub>
      </mtd>
     </mtr>
     <mtr>
      <mtd columnalign="center">
       <msub>
        <mi>Y</mi>
        <mn>21</mn>
       </msub>
      </mtd>
      <mtd columnalign="center">
       <msub>
        <mi>Y</mi>
        <mn>22</mn>
       </msub>
      </mtd>
      <mtd columnalign="center">
       <mi mathvariant="normal">⋯</mi>
      </mtd>
      <mtd columnalign="center">
       <msub>
        <mi>Y</mi>
        <mrow>
         <mn>2</mn>
         <mi>n</mi>
        </mrow>
       </msub>
      </mtd>
     </mtr>
     <mtr>
      <mtd columnalign="center">
       <mi mathvariant="normal">⋯</mi>
      </mtd>
      <mtd columnalign="center">
       <mi mathvariant="normal">⋯</mi>
      </mtd>
      <mtd columnalign="center">
       <mi mathvariant="normal">⋯</mi>
      </mtd>
      <mtd columnalign="center">
       <mi mathvariant="normal">⋯</mi>
      </mtd>
     </mtr>
     <mtr>
      <mtd columnalign="center">
       <msub>
        <mi>Y</mi>
        <mrow>
         <mi>n</mi>
         <mn>1</mn>
        </mrow>
       </msub>
      </mtd>
      <mtd columnalign="center">
       <msub>
        <mi>Y</mi>
        <mrow>
         <mi>n</mi>
         <mn>2</mn>
        </mrow>
       </msub>
      </mtd>
      <mtd columnalign="center">
       <mi mathvariant="normal">⋯</mi>
      </mtd>
      <mtd columnalign="center">
       <msub>
        <mi>Y</mi>
        <mrow>
         <mi>n</mi>
         <mi>n</mi>
        </mrow>
       </msub>
      </mtd>
     </mtr>
    </mtable>
    <mo>]</mo>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <ci>Y</ci>
    <matrix>
     <matrixrow>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>Y</ci>
       <cn type="integer">11</cn>
      </apply>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>Y</ci>
       <cn type="integer">12</cn>
      </apply>
      <ci>normal-⋯</ci>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>Y</ci>
       <apply>
        <times></times>
        <cn type="integer">1</cn>
        <ci>n</ci>
       </apply>
      </apply>
     </matrixrow>
     <matrixrow>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>Y</ci>
       <cn type="integer">21</cn>
      </apply>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>Y</ci>
       <cn type="integer">22</cn>
      </apply>
      <ci>normal-⋯</ci>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>Y</ci>
       <apply>
        <times></times>
        <cn type="integer">2</cn>
        <ci>n</ci>
       </apply>
      </apply>
     </matrixrow>
     <matrixrow>
      <ci>normal-⋯</ci>
      <ci>normal-⋯</ci>
      <ci>normal-⋯</ci>
      <ci>normal-⋯</ci>
     </matrixrow>
     <matrixrow>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>Y</ci>
       <apply>
        <times></times>
        <ci>n</ci>
        <cn type="integer">1</cn>
       </apply>
      </apply>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>Y</ci>
       <apply>
        <times></times>
        <ci>n</ci>
        <cn type="integer">2</cn>
       </apply>
      </apply>
      <ci>normal-⋯</ci>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>Y</ci>
       <apply>
        <times></times>
        <ci>n</ci>
        <ci>n</ci>
       </apply>
      </apply>
     </matrixrow>
    </matrix>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   Y=\begin{bmatrix}Y_{11}&Y_{12}&\cdots&Y_{1n}\\
Y_{21}&Y_{22}&\cdots&Y_{2n}\\
\cdots&\cdots&\cdots&\cdots\\
Y_{n1}&Y_{n2}&\cdots&Y_{nn}\end{bmatrix}
  </annotation>
 </semantics>
</math>

</p>
<h2 id="context">Context</h2>

<p><a href="Power_engineering" title="wikilink">Electric power transmission</a> needs optimization in order to determine the necessary real and reactive power flows in a system for a given set of loads, as well as the voltages and currents in the system. Power flow studies are used not only to analyze current power flow situations, but also to plan ahead for anticipated disturbances to the system, such as the loss of a transmission line to maintenance and repairs. The power flow study would determine whether or not the system could continue functioning properly without the transmission line. Only <a href="computer_simulation" title="wikilink">computer simulation</a> allows the complex handling required in power flow analysis because in most realistic situations the system is very complex and extensive and would be impractical to solve by hand. The Y Matrix is a tool in that domain. It provides a method of systematically reducing a complex system to a matrix than can be solved by a computer program. The equations used to construct the Y matrix come from the application of Kirchhoff’s current law and Kirchhoff’s voltage law to a circuit with steady-state sinusoidal operation. These laws give us that the sum of currents entering a node in the circuit is zero, and the sum of voltages around a closed loop starting and ending at a node is also zero. These principles are applied to all the nodes in a power flow system and thereby determine the elements of the admittance matrix, which represents the admittance relationships between nodes, which then determine the voltages, currents and power flows in the system.</p>
<h2 id="design">Design</h2>

<p>Starting from the <a href="One-line_diagram" title="wikilink">single line diagram</a> of a power system, there are four main steps in creating the Y Matrix. First, the single line diagram is converted to an impedance diagram. Next, all voltage sources are converted to their equivalent current source representations. From here, the impedance diagram is then converted to an admittance diagram. Finally, the Y Matrix itself is created.</p>

<p>

<math display="inline" id="Nodal_admittance_matrix:1">
 <semantics>
  <mrow>
   <msub>
    <mi>Y</mi>
    <mrow>
     <mi>i</mi>
     <mi>j</mi>
    </mrow>
   </msub>
   <mo>=</mo>
   <mrow>
    <mo>{</mo>
    <mtable>
     <mtr>
      <mtd columnalign="left">
       <mrow>
        <mrow>
         <msub>
          <mi>y</mi>
          <mrow>
           <mi>i</mi>
           <mi>i</mi>
          </mrow>
         </msub>
         <mo>+</mo>
         <mrow>
          <msub>
           <mo largeop="true" symmetric="true">∑</mo>
           <mrow>
            <mi>k</mi>
            <mo>≠</mo>
            <mi>i</mi>
           </mrow>
          </msub>
          <msub>
           <mi>y</mi>
           <mrow>
            <mi>i</mi>
            <mi>k</mi>
           </mrow>
          </msub>
         </mrow>
        </mrow>
        <mo>,</mo>
       </mrow>
      </mtd>
      <mtd columnalign="left">
       <mrow>
        <mrow>
         <mtext>if</mtext>
         <mi>j</mi>
        </mrow>
        <mo>=</mo>
        <mi>i</mi>
       </mrow>
      </mtd>
     </mtr>
     <mtr>
      <mtd columnalign="left">
       <mrow>
        <mrow>
         <mo>-</mo>
         <msub>
          <mi>y</mi>
          <mrow>
           <mi>i</mi>
           <mi>j</mi>
          </mrow>
         </msub>
        </mrow>
        <mo>,</mo>
       </mrow>
      </mtd>
      <mtd columnalign="left">
       <mrow>
        <mrow>
         <mtext>if</mtext>
         <mi>j</mi>
        </mrow>
        <mo>≠</mo>
        <mi>i</mi>
       </mrow>
      </mtd>
     </mtr>
    </mtable>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <csymbol cd="ambiguous">subscript</csymbol>
     <ci>Y</ci>
     <apply>
      <times></times>
      <ci>i</ci>
      <ci>j</ci>
     </apply>
    </apply>
    <apply>
     <csymbol cd="latexml">cases</csymbol>
     <apply>
      <plus></plus>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>y</ci>
       <apply>
        <times></times>
        <ci>i</ci>
        <ci>i</ci>
       </apply>
      </apply>
      <apply>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <sum></sum>
        <apply>
         <neq></neq>
         <ci>k</ci>
         <ci>i</ci>
        </apply>
       </apply>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>y</ci>
        <apply>
         <times></times>
         <ci>i</ci>
         <ci>k</ci>
        </apply>
       </apply>
      </apply>
     </apply>
     <apply>
      <eq></eq>
      <list>
       <mtext>if</mtext>
       <ci>j</ci>
      </list>
      <ci>i</ci>
     </apply>
     <apply>
      <minus></minus>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>y</ci>
       <apply>
        <times></times>
        <ci>i</ci>
        <ci>j</ci>
       </apply>
      </apply>
     </apply>
     <apply>
      <neq></neq>
      <list>
       <mtext>if</mtext>
       <ci>j</ci>
      </list>
      <ci>i</ci>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   Y_{ij}=\begin{cases}y_{ii}+\sum_{k\neq i}{y_{ik}},&\mbox{if}\quad j=i\\
-y_{ij},&\mbox{if}\quad j\neq i\end{cases}
  </annotation>
 </semantics>
</math>


</p>

<p>Here, 

<math display="inline" id="Nodal_admittance_matrix:2">
 <semantics>
  <mrow>
   <msub>
    <mi>y</mi>
    <mrow>
     <mi>i</mi>
     <mi>k</mi>
    </mrow>
   </msub>
   <mo>=</mo>
   <mrow>
    <msub>
     <mi>g</mi>
     <mrow>
      <mi>i</mi>
      <mi>k</mi>
     </mrow>
    </msub>
    <mo>+</mo>
    <mrow>
     <msqrt>
      <mrow>
       <mo>-</mo>
       <mn>1</mn>
      </mrow>
     </msqrt>
     <msub>
      <mi>b</mi>
      <mrow>
       <mi>i</mi>
       <mi>k</mi>
      </mrow>
     </msub>
    </mrow>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <csymbol cd="ambiguous">subscript</csymbol>
     <ci>y</ci>
     <apply>
      <times></times>
      <ci>i</ci>
      <ci>k</ci>
     </apply>
    </apply>
    <apply>
     <plus></plus>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <ci>g</ci>
      <apply>
       <times></times>
       <ci>i</ci>
       <ci>k</ci>
      </apply>
     </apply>
     <apply>
      <times></times>
      <apply>
       <root></root>
       <apply>
        <minus></minus>
        <cn type="integer">1</cn>
       </apply>
      </apply>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>b</ci>
       <apply>
        <times></times>
        <ci>i</ci>
        <ci>k</ci>
       </apply>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   y_{ik}=g_{ik}+\sqrt{-1}b_{ik}
  </annotation>
 </semantics>
</math>

 is the summed <a class="uri" href="admittance" title="wikilink">admittance</a> of all power lines going directly from bus 

<math display="inline" id="Nodal_admittance_matrix:3">
 <semantics>
  <mi>i</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>i</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   i
  </annotation>
 </semantics>
</math>

 to 

<math display="inline" id="Nodal_admittance_matrix:4">
 <semantics>
  <mi>k</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>k</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   k
  </annotation>
 </semantics>
</math>

 (zero if no such). The parameter 

<math display="inline" id="Nodal_admittance_matrix:5">
 <semantics>
  <msub>
   <mi>y</mi>
   <mrow>
    <mi>i</mi>
    <mi>i</mi>
   </mrow>
  </msub>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <csymbol cd="ambiguous">subscript</csymbol>
    <ci>y</ci>
    <apply>
     <times></times>
     <ci>i</ci>
     <ci>i</ci>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   y_{ii}
  </annotation>
 </semantics>
</math>

 is often neglected, but could have a non-zero value representing the admittance-to-ground at bus i. The Y Matrix diagonal elements 

<math display="inline" id="Nodal_admittance_matrix:6">
 <semantics>
  <mrow>
   <msub>
    <mi>Y</mi>
    <mn>11</mn>
   </msub>
   <mo>,</mo>
   <msub>
    <mi>Y</mi>
    <mn>22</mn>
   </msub>
   <mo>,</mo>
   <mi mathvariant="normal">…</mi>
   <mo>,</mo>
   <msub>
    <mi>Y</mi>
    <mrow>
     <mi>n</mi>
     <mi>n</mi>
    </mrow>
   </msub>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <list>
    <apply>
     <csymbol cd="ambiguous">subscript</csymbol>
     <ci>Y</ci>
     <cn type="integer">11</cn>
    </apply>
    <apply>
     <csymbol cd="ambiguous">subscript</csymbol>
     <ci>Y</ci>
     <cn type="integer">22</cn>
    </apply>
    <ci>normal-…</ci>
    <apply>
     <csymbol cd="ambiguous">subscript</csymbol>
     <ci>Y</ci>
     <apply>
      <times></times>
      <ci>n</ci>
      <ci>n</ci>
     </apply>
    </apply>
   </list>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   Y_{11},Y_{22},...,Y_{nn}
  </annotation>
 </semantics>
</math>


 are called the <em>self-admittances</em> at the nodes, and each equals the sum of all the admittances terminating on the node identified by the repeated subscripts. The other admittances are the <em>mutual admittances</em> of the nodes, and each equals the negative of the sum of all admittances connected directly between the nodes identified by the double subscripts. As indicated by the provided construction, the Y Matrix is typically a <a href="symmetric_matrix" title="wikilink">symmetric matrix</a>. However, extensions such as transformer modeling may make it asymmetrical.<a class="footnoteRef" href="#fn1" id="fnref1"><sup>1</sup></a> Off diagonals are always negative while diagonals are always positive.</p>

<p>For small transmission systems of about less than 10 nodes or buses, the Y matrix can be calculated manually. But for a realistic system with relatively large number of nodes or buses, say 1000 nodes, a computer program for computing Y is more practical to use.</p>
<h2 id="see-also">See also</h2>
<ul>
<li><a href="Admittance_parameters" title="wikilink">Admittance parameters</a></li>
<li><a class="uri" href="Zbus" title="wikilink">Zbus</a></li>
</ul>
<h2 id="references">References</h2>

<p></p>
<h2 id="external-links">External links</h2>
<ul>
<li><a href="http://www.jcmiras.net/jcm/item/73/">A C/C++ Program and Source Code for Computing Ybus and Zbus Matrices</a></li>
</ul>

<p>"</p>

<p><a href="Category:Electrical_engineering" title="wikilink">Category:Electrical engineering</a> <a href="Category:Electric_power" title="wikilink">Category:Electric power</a></p>
<section class="footnotes">
<hr/>
<ol>
<li id="fn1"><a href="#fnref1">↩</a></li>
</ol>
</section>
</body>
</html>
