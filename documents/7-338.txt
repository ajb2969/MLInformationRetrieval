   Miller effect      Miller effect   In electronics , the Miller effect accounts for the increase in the equivalent input  capacitance of an inverting voltage amplifier due to amplification of the effect of capacitance between the input and output terminals. The virtually increased input capacitance due to the Miller effect is given by       C  M   =   C   (   1  +   A  v    )         subscript  C  M     C    1   subscript  A  v       C_{M}=C(1+A_{v})\,   where    -   A  v        subscript  A  v     -A_{v}   is the gain of the amplifier and C is the feedback capacitance.  Although the term Miller effect normally refers to capacitance, any impedance connected between the input and another node exhibiting gain can modify the amplifier input impedance via this effect. These properties of the Miller effect are generalized in the Miller theorem . The Miller capacitance due to parasitic capacitance between the output and input of active devices like transistors and vacuum tubes is a major factor limiting their gain at high frequencies. Miller capacitance was identified in 1920 in triode  vacuum tubes by John Milton Miller .  History  The Miller effect was named after John Milton Miller . 1 When Miller published his work in 1920, he was working on vacuum tube triodes; however, the same theory applies to more modern devices such as bipolar and MOS transistors .  Derivation  Consider an ideal inverting voltage amplifier of gain    -   A  v        subscript  A  v     -A_{v}   with an impedance    Z   Z   Z   connected between its input and output nodes. The output voltage is therefore     V  o   =   -    A  v    V  i          subscript  V  o        subscript  A  v    subscript  V  i       V_{o}=-A_{v}V_{i}   . Assuming that the amplifier input draws no current, all of the input current flows through   Z   Z   Z   , and is therefore given by       I  i   =     V  i   -   V  o    Z   =     V  i    (   1  +   A  v    )    Z          subscript  I  i        subscript  V  i    subscript  V  o    Z             subscript  V  i     1   subscript  A  v     Z      I_{i}=\frac{V_{i}-V_{o}}{Z}=\frac{V_{i}(1+A_{v})}{Z}   .  The input impedance of the circuit is        Z   i  n    =    V  i    I  i    =   Z   1  +   A  v      .         subscript  Z    i  n       subscript  V  i    subscript  I  i           Z    1   subscript  A  v        Z_{in}=\frac{V_{i}}{I_{i}}=\frac{Z}{1+A_{v}}.     If Z represents a capacitor with impedance    Z  =   1   s  C        Z    1    s  C      Z=\frac{1}{sC}   , the resulting input impedance is         Z   i  n    =    1   s   C  M     where      C  M   =   C   (   1  +   A  v    )      .     formulae-sequence     subscript  Z    i  n       1    s   subscript  C  M     where       subscript  C  M     C    1   subscript  A  v        Z_{in}=\frac{1}{sC_{M}}\quad\mathrm{where}\quad C_{M}=C(1+A_{v}).     Thus the effective or Miller capacitance  C M is the physical C multiplied by the factor    (   1  +   A  v    )      1   subscript  A  v     (1+A_{v})   . 2  Effects  As most amplifiers are inverting (    A  v     subscript  A  v    A_{v}   as defined above is positive), the effective capacitance at their inputs is increased due to the Miller effect. This can reduce the bandwidth of the amplifier, restricting its range of operation to lower frequencies. The tiny junction and stray capacitances between the base and collector terminals of a Darlington transistor , for example, may be drastically increased by the Miller effects due to its high gain, lowering the high frequency response of the device.  It is also important to note that the Miller capacitance is the capacitance seen looking into the input. If looking for all of the RC time constants (poles) it is important to include as well the capacitance seen by the output. The capacitance on the output is often neglected since it sees    C   (   1  +   1  /   A  v     )       C    1    1   subscript  A  v       {C}({1+1/A_{v}})   and amplifier outputs are typically low impedance. However if the amplifier has a high impedance output, such as if a gain stage is also the output stage, then this RC can have a significant impact on the performance of the amplifier. This is when pole splitting techniques are used.  The Miller effect may also be exploited to synthesize larger capacitors from smaller ones. One such example is in the stabilization of feedback amplifiers , where the required capacitance may be too large to practically include in the circuit. This may be particularly important in the design of integrated circuits , where capacitors can consume significant area, increasing costs.  Mitigation  The Miller effect may be undesired in many cases, and approaches may be sought to lower its impact. Several such techniques are used in the design of amplifiers.  A current buffer stage may be added at the output to lower the gain    A  v     subscript  A  v    A_{v}   between the input and output terminals of the amplifier (though not necessarily the overall gain). For example, a common base may be used as a current buffer at the output of a common emitter stage, forming a cascode . This will typically reduce the Miller effect and increase the bandwidth of the amplifier.  Alternatively, a voltage buffer may be used before the amplifier input, reducing the effective source impedance seen by the input terminals. This lowers the    R  C      R  C    RC   time constant of the circuit and typically increases the bandwidth.  Impact on frequency response  (Figure)  Figure 2: Amplifier with feedback capacitor C C .   Figure 2A shows an example of Figure 1 where the impedance coupling the input to the output is the coupling capacitor C C . A Thévenin voltage source V A drives the circuit with Thévenin resistance R A . The output impedance of the amplifier is considered low enough that the relationship V o = A v V i is presumed to hold. At the output Z L serves as the load. (The load is irrelevant to this discussion: it just provides a path for the current to leave the circuit.) In Figure 2A, the coupling capacitor delivers a current jω C C ( V i − V o ) to the output node.  Figure 2B shows a circuit electrically identical to Figure 2A using Miller's theorem. The coupling capacitor is replaced on the input side of the circuit by the Miller capacitance C M , which draws the same current from the driver as the coupling capacitor in Figure 2A. Therefore, the driver sees exactly the same loading in both circuits. On the output side, a capacitor C Mo = (1 + 1/ A v ) C C draws the same current from the output as does the coupling capacitor in Figure 2A.  In order that the Miller capacitance draw the same current in Figure 2B as the coupling capacitor in Figure 2A, the Miller transformation is used to relate C M to C C . In this example, this transformation is equivalent to setting the currents equal, that is           j   ω   C  C    (    V  i   -   V  O    )    =   j  ω   C  M    V  i     ,        j  ω   subscript  C  C      subscript  V  i    subscript  V  O       j  ω   subscript  C  M    subscript  V  i      \ j\omega C_{C}(V_{i}-V_{O})=j\omega C_{M}V_{i},        or, rearranging this equation          C  M   =    C  C    (   1  -    V  o    V  i     )    =    C  C    (   1  +   A  v    )     .         subscript  C  M      subscript  C  C     1     subscript  V  o    subscript  V  i              subscript  C  C     1   subscript  A  v        C_{M}=C_{C}\left(1-\frac{V_{o}}{V_{i}}\right)=C_{C}(1+A_{v}).        This result is the same as C M of the Derivation Section .  The present example with A v frequency independent shows the implications of the Miller effect, and therefore of C C , upon the frequency response of this circuit, and is typical of the impact of the Miller effect (see, for example, common source ). If C C = 0 F, the output voltage of the circuit is simply A v v A , independent of frequency. However, when C C is not zero, Figure 2B shows the large Miller capacitance appears at the input of the circuit. The voltage output of the circuit now becomes          V  o   =   -    A  v    V  i     =   -    A  v     V  A    1  +   j  ω   C  M    R  A         ,         subscript  V  o        subscript  A  v    subscript  V  i               subscript  A  v      subscript  V  A     1    j  ω   subscript  C  M    subscript  R  A           V_{o}=-A_{v}V_{i}=-A_{v}\frac{V_{A}}{1+j\omega C_{M}R_{A}},        and rolls off with frequency once frequency is high enough that ω C M R A ≥ 1. It is a low-pass filter . In analog amplifiers this curtailment of frequency response is a major implication of the Miller effect. In this example, the frequency ω 3dB such that ω 3dB  C M R A = 1 marks the end of the low-frequency response region and sets the bandwidth or cutoff frequency of the amplifier.  The effect of C M upon the amplifier bandwidth is greatly reduced for low impedance drivers ( C M  R A is small if R A is small). Consequently, one way to minimize the Miller effect upon bandwidth is to use a low-impedance driver, for example, by interposing a voltage follower stage between the driver and the amplifier, which reduces the apparent driver impedance seen by the amplifier.  The output voltage of this simple circuit is always A v v i . However, real amplifiers have output resistance. If the amplifier output resistance is included in the analysis, the output voltage exhibits a more complex frequency response and the impact of the frequency-dependent current source on the output side must be taken into account. 3 Ordinarily these effects show up only at frequencies much higher than the roll-off due to the Miller capacitance, so the analysis presented here is adequate to determine the useful frequency range of an amplifier dominated by the Miller effect.  Miller approximation  This example also assumes A v is frequency independent, but more generally there is frequency dependence of the amplifier contained implicitly in A v . Such frequency dependence of A v also makes the Miller capacitance frequency dependent, so interpretation of C M as a capacitance becomes more difficult. However, ordinarily any frequency dependence of A v arises only at frequencies much higher than the roll-off with frequency caused by the Miller effect, so for frequencies up to the Miller-effect roll-off of the gain, A v is accurately approximated by its low-frequency value. Determination of C M using A v at low frequencies is the so-called Miller approximation . 4 With the Miller approximation, C M becomes frequency independent, and its interpretation as a capacitance at low frequencies is secure.  References and notes    See also   Miller theorem   "  Category:Electrical engineering  Category:Electronic design  Category:Analog circuits     John M. Miller, "Dependence of the input impedance of a three-electrode vacuum tube upon the load in the plate circuit," Scientific Papers of the Bureau of Standards , vol.15, no. 351, pages 367-385 (1920). Available on-line at: http://web.mit.edu/klund/www/papers/jmiller.pdf . ↩  ↩  See article on pole splitting . ↩      