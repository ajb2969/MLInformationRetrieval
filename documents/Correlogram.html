<html lang="en">
<head>
<meta charset="utf-8"/>
<title offset="335">Correlogram</title>
<script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_SVG.js" type="text/javascript">
</script>
</head>
<body>
<h1>Correlogram</h1>
<hr/>

<p> </p>

<p>In the analysis of data, a <strong>correlogram</strong> is an image of correlation statistics. For example, in <a href="time_series_analysis" title="wikilink">time series analysis</a>, a correlogram, also known as an <strong>autocorrelation plot</strong>, is a plot of the sample <a href="autocorrelation" title="wikilink">autocorrelations</a> 

<math display="inline" id="Correlogram:0">
 <semantics>
  <mpadded width="+1.7pt">
   <msub>
    <mi>r</mi>
    <mi>h</mi>
   </msub>
  </mpadded>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <csymbol cd="ambiguous">subscript</csymbol>
    <ci>r</ci>
    <ci>h</ci>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   r_{h}\,
  </annotation>
 </semantics>
</math>

 versus 

<math display="inline" id="Correlogram:1">
 <semantics>
  <mpadded width="+1.7pt">
   <mi>h</mi>
  </mpadded>
  <annotation-xml encoding="MathML-Content">
   <ci>h</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   h\,
  </annotation>
 </semantics>
</math>

 (the time lags).</p>

<p>If <a class="uri" href="cross-correlation" title="wikilink">cross-correlation</a> is used, the result is called a <em>cross-correlogram</em>. The correlogram is a commonly used tool for checking <a class="uri" href="randomness" title="wikilink">randomness</a> in a <a href="data_set" title="wikilink">data set</a>. This randomness is ascertained by computing autocorrelations for data values at varying time lags. If random, such autocorrelations should be near zero for any and all time-lag separations. If non-random, then one or more of the autocorrelations will be significantly non-zero.</p>

<p>In addition, correlograms are used in the <a href="model_identification" title="wikilink">model identification</a> stage for <a class="uri" href="Box–Jenkins" title="wikilink">Box–Jenkins</a> <a href="autoregressive_moving_average" title="wikilink">autoregressive moving average</a> <a href="time_series" title="wikilink">time series</a> models. Autocorrelations should be near-zero for randomness; if the analyst does not check for randomness, then the validity of many of the statistical conclusions becomes suspect. The correlogram is an excellent way of checking for such randomness.</p>

<p>Sometimes, <strong>corrgrams</strong>, color-mapped matrices of correlation strengths in <a href="multivariate_analysis" title="wikilink">multivariate analysis</a>,<a class="footnoteRef" href="#fn1" id="fnref1"><sup>1</sup></a> are also called correlograms.<a class="footnoteRef" href="#fn2" id="fnref2"><sup>2</sup></a><a class="footnoteRef" href="#fn3" id="fnref3"><sup>3</sup></a></p>
<h2 id="applications">Applications</h2>

<p>The correlogram can help provide answers to the following questions:</p>
<ul>
<li>Are the data random?</li>
<li>Is an observation related to an adjacent observation?</li>
<li>Is an observation related to an observation twice-removed? (etc.)</li>
<li>Is the observed time series <a href="white_noise" title="wikilink">white noise</a>?</li>
<li>Is the observed time series sinusoidal?</li>
<li>Is the observed time series autoregressive?</li>
<li>What is an appropriate model for the observed time series?</li>
<li>Is the model</li>
</ul>

<p>

<math display="block" id="Correlogram:2">
 <semantics>
  <mrow>
   <mi>Y</mi>
   <mo>=</mo>
   <mrow>
    <mi>constant</mi>
    <mo>+</mo>
    <mi>error</mi>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <ci>Y</ci>
    <apply>
     <plus></plus>
     <ci>constant</ci>
     <ci>error</ci>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   Y=\mathrm{constant}+\mathrm{error}
  </annotation>
 </semantics>
</math>

 valid and sufficient?</p>
<ul>
<li>Is the formula 

<math display="inline" id="Correlogram:3">
 <semantics>
  <mrow>
   <msub>
    <mi>s</mi>
    <mover accent="true">
     <mi>Y</mi>
     <mo stretchy="false">¯</mo>
    </mover>
   </msub>
   <mo>=</mo>
   <mrow>
    <mi>s</mi>
    <mo>/</mo>
    <msqrt>
     <mi>N</mi>
    </msqrt>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <csymbol cd="ambiguous">subscript</csymbol>
     <ci>s</ci>
     <apply>
      <ci>normal-¯</ci>
      <ci>Y</ci>
     </apply>
    </apply>
    <apply>
     <divide></divide>
     <ci>s</ci>
     <apply>
      <root></root>
      <ci>N</ci>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   s_{\bar{Y}}=s/\sqrt{N}
  </annotation>
 </semantics>
</math>

 valid?</li>
</ul>
<h2 id="importance">Importance</h2>

<p>Randomness (along with fixed model, fixed variation, and fixed distribution) is one of the four assumptions that typically underlie all measurement processes. The randomness assumption is critically important for the following three reasons:</p>
<ul>
<li>Most standard <a href="statistical_test" title="wikilink">statistical tests</a> depend on randomness. The validity of the test conclusions is directly linked to the validity of the randomness assumption.</li>
<li>Many commonly used statistical formulae depend on the randomness assumption, the most common formula being the formula for determining the standard deviation of the sample mean:</li>
</ul>

<p>

<math display="block" id="Correlogram:4">
 <semantics>
  <mrow>
   <msub>
    <mi>s</mi>
    <mover accent="true">
     <mi>Y</mi>
     <mo stretchy="false">¯</mo>
    </mover>
   </msub>
   <mo>=</mo>
   <mrow>
    <mi>s</mi>
    <mo>/</mo>
    <msqrt>
     <mi>N</mi>
    </msqrt>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <csymbol cd="ambiguous">subscript</csymbol>
     <ci>s</ci>
     <apply>
      <ci>normal-¯</ci>
      <ci>Y</ci>
     </apply>
    </apply>
    <apply>
     <divide></divide>
     <ci>s</ci>
     <apply>
      <root></root>
      <ci>N</ci>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   s_{\bar{Y}}=s/\sqrt{N}
  </annotation>
 </semantics>
</math>

 where <em>s</em> is the <a href="standard_deviation" title="wikilink">standard deviation</a> of the data. Although heavily used, the results from using this formula are of no value unless the randomness assumption holds.</p>
<ul>
<li>For univariate data, the default model is</li>
</ul>

<p>

<math display="block" id="Correlogram:5">
 <semantics>
  <mrow>
   <mi>Y</mi>
   <mo>=</mo>
   <mrow>
    <mi>constant</mi>
    <mo>+</mo>
    <mi>error</mi>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <ci>Y</ci>
    <apply>
     <plus></plus>
     <ci>constant</ci>
     <ci>error</ci>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   Y=\mathrm{constant}+\mathrm{error}
  </annotation>
 </semantics>
</math>

 If the data are not random, this model is incorrect and invalid, and the estimates for the parameters (such as the constant) become nonsensical and invalid.</p>
<h2 id="estimation-of-autocorrelations">Estimation of autocorrelations</h2>

<p>The autocorrelation coefficient at lag <em>h</em> is given by</p>

<p>

<math display="block" id="Correlogram:6">
 <semantics>
  <mrow>
   <msub>
    <mi>r</mi>
    <mi>h</mi>
   </msub>
   <mo>=</mo>
   <mrow>
    <msub>
     <mi>c</mi>
     <mi>h</mi>
    </msub>
    <mo>/</mo>
    <mpadded width="+1.7pt">
     <msub>
      <mi>c</mi>
      <mn>0</mn>
     </msub>
    </mpadded>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <csymbol cd="ambiguous">subscript</csymbol>
     <ci>r</ci>
     <ci>h</ci>
    </apply>
    <apply>
     <divide></divide>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <ci>c</ci>
      <ci>h</ci>
     </apply>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <ci>c</ci>
      <cn type="integer">0</cn>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   r_{h}=c_{h}/c_{0}\,
  </annotation>
 </semantics>
</math>

 where <em>c<sub>h</sub></em> is the <a href="autocovariance_function" title="wikilink">autocovariance function</a></p>

<p>

<math display="block" id="Correlogram:7">
 <semantics>
  <mrow>
   <msub>
    <mi>c</mi>
    <mi>h</mi>
   </msub>
   <mo>=</mo>
   <mrow>
    <mfrac>
     <mn>1</mn>
     <mi>N</mi>
    </mfrac>
    <mrow>
     <munderover>
      <mo largeop="true" movablelimits="false" symmetric="true">∑</mo>
      <mrow>
       <mi>t</mi>
       <mo>=</mo>
       <mn>1</mn>
      </mrow>
      <mrow>
       <mi>N</mi>
       <mo>-</mo>
       <mi>h</mi>
      </mrow>
     </munderover>
     <mrow>
      <mrow>
       <mo>(</mo>
       <mrow>
        <msub>
         <mi>Y</mi>
         <mi>t</mi>
        </msub>
        <mo>-</mo>
        <mover accent="true">
         <mi>Y</mi>
         <mo stretchy="false">¯</mo>
        </mover>
       </mrow>
       <mo>)</mo>
      </mrow>
      <mrow>
       <mo>(</mo>
       <mrow>
        <msub>
         <mi>Y</mi>
         <mrow>
          <mi>t</mi>
          <mo>+</mo>
          <mi>h</mi>
         </mrow>
        </msub>
        <mo>-</mo>
        <mover accent="true">
         <mi>Y</mi>
         <mo stretchy="false">¯</mo>
        </mover>
       </mrow>
       <mo>)</mo>
      </mrow>
     </mrow>
    </mrow>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <csymbol cd="ambiguous">subscript</csymbol>
     <ci>c</ci>
     <ci>h</ci>
    </apply>
    <apply>
     <times></times>
     <apply>
      <divide></divide>
      <cn type="integer">1</cn>
      <ci>N</ci>
     </apply>
     <apply>
      <apply>
       <csymbol cd="ambiguous">superscript</csymbol>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <sum></sum>
        <apply>
         <eq></eq>
         <ci>t</ci>
         <cn type="integer">1</cn>
        </apply>
       </apply>
       <apply>
        <minus></minus>
        <ci>N</ci>
        <ci>h</ci>
       </apply>
      </apply>
      <apply>
       <times></times>
       <apply>
        <minus></minus>
        <apply>
         <csymbol cd="ambiguous">subscript</csymbol>
         <ci>Y</ci>
         <ci>t</ci>
        </apply>
        <apply>
         <ci>normal-¯</ci>
         <ci>Y</ci>
        </apply>
       </apply>
       <apply>
        <minus></minus>
        <apply>
         <csymbol cd="ambiguous">subscript</csymbol>
         <ci>Y</ci>
         <apply>
          <plus></plus>
          <ci>t</ci>
          <ci>h</ci>
         </apply>
        </apply>
        <apply>
         <ci>normal-¯</ci>
         <ci>Y</ci>
        </apply>
       </apply>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   c_{h}=\frac{1}{N}\sum_{t=1}^{N-h}\left(Y_{t}-\bar{Y}\right)\left(Y_{t+h}-\bar{%
Y}\right)
  </annotation>
 </semantics>
</math>

 and <em>c<sub>0</sub></em> is the <a href="variance_function" title="wikilink">variance function</a></p>

<p>

<math display="block" id="Correlogram:8">
 <semantics>
  <mrow>
   <msub>
    <mi>c</mi>
    <mn>0</mn>
   </msub>
   <mo>=</mo>
   <mrow>
    <mfrac>
     <mn>1</mn>
     <mi>N</mi>
    </mfrac>
    <mrow>
     <munderover>
      <mo largeop="true" movablelimits="false" symmetric="true">∑</mo>
      <mrow>
       <mi>t</mi>
       <mo>=</mo>
       <mn>1</mn>
      </mrow>
      <mi>N</mi>
     </munderover>
     <msup>
      <mrow>
       <mo>(</mo>
       <mrow>
        <msub>
         <mi>Y</mi>
         <mi>t</mi>
        </msub>
        <mo>-</mo>
        <mover accent="true">
         <mi>Y</mi>
         <mo stretchy="false">¯</mo>
        </mover>
       </mrow>
       <mo>)</mo>
      </mrow>
      <mn>2</mn>
     </msup>
    </mrow>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <csymbol cd="ambiguous">subscript</csymbol>
     <ci>c</ci>
     <cn type="integer">0</cn>
    </apply>
    <apply>
     <times></times>
     <apply>
      <divide></divide>
      <cn type="integer">1</cn>
      <ci>N</ci>
     </apply>
     <apply>
      <apply>
       <csymbol cd="ambiguous">superscript</csymbol>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <sum></sum>
        <apply>
         <eq></eq>
         <ci>t</ci>
         <cn type="integer">1</cn>
        </apply>
       </apply>
       <ci>N</ci>
      </apply>
      <apply>
       <csymbol cd="ambiguous">superscript</csymbol>
       <apply>
        <minus></minus>
        <apply>
         <csymbol cd="ambiguous">subscript</csymbol>
         <ci>Y</ci>
         <ci>t</ci>
        </apply>
        <apply>
         <ci>normal-¯</ci>
         <ci>Y</ci>
        </apply>
       </apply>
       <cn type="integer">2</cn>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   c_{0}=\frac{1}{N}\sum_{t=1}^{N}\left(Y_{t}-\bar{Y}\right)^{2}
  </annotation>
 </semantics>
</math>

</p>

<p>The resulting value of <em>r<sub>h</sub></em> will range between -1 and +1.</p>
<h3 id="alternate-estimate">Alternate estimate</h3>

<p>Some sources may use the following formula for the autocovariance function:</p>

<p>

<math display="block" id="Correlogram:9">
 <semantics>
  <mrow>
   <msub>
    <mi>c</mi>
    <mi>h</mi>
   </msub>
   <mo>=</mo>
   <mrow>
    <mfrac>
     <mn>1</mn>
     <mrow>
      <mi>N</mi>
      <mo>-</mo>
      <mi>h</mi>
     </mrow>
    </mfrac>
    <mrow>
     <munderover>
      <mo largeop="true" movablelimits="false" symmetric="true">∑</mo>
      <mrow>
       <mi>t</mi>
       <mo>=</mo>
       <mn>1</mn>
      </mrow>
      <mrow>
       <mi>N</mi>
       <mo>-</mo>
       <mi>h</mi>
      </mrow>
     </munderover>
     <mrow>
      <mrow>
       <mo>(</mo>
       <mrow>
        <msub>
         <mi>Y</mi>
         <mi>t</mi>
        </msub>
        <mo>-</mo>
        <mover accent="true">
         <mi>Y</mi>
         <mo stretchy="false">¯</mo>
        </mover>
       </mrow>
       <mo>)</mo>
      </mrow>
      <mrow>
       <mo>(</mo>
       <mrow>
        <msub>
         <mi>Y</mi>
         <mrow>
          <mi>t</mi>
          <mo>+</mo>
          <mi>h</mi>
         </mrow>
        </msub>
        <mo>-</mo>
        <mover accent="true">
         <mi>Y</mi>
         <mo stretchy="false">¯</mo>
        </mover>
       </mrow>
       <mo>)</mo>
      </mrow>
     </mrow>
    </mrow>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <csymbol cd="ambiguous">subscript</csymbol>
     <ci>c</ci>
     <ci>h</ci>
    </apply>
    <apply>
     <times></times>
     <apply>
      <divide></divide>
      <cn type="integer">1</cn>
      <apply>
       <minus></minus>
       <ci>N</ci>
       <ci>h</ci>
      </apply>
     </apply>
     <apply>
      <apply>
       <csymbol cd="ambiguous">superscript</csymbol>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <sum></sum>
        <apply>
         <eq></eq>
         <ci>t</ci>
         <cn type="integer">1</cn>
        </apply>
       </apply>
       <apply>
        <minus></minus>
        <ci>N</ci>
        <ci>h</ci>
       </apply>
      </apply>
      <apply>
       <times></times>
       <apply>
        <minus></minus>
        <apply>
         <csymbol cd="ambiguous">subscript</csymbol>
         <ci>Y</ci>
         <ci>t</ci>
        </apply>
        <apply>
         <ci>normal-¯</ci>
         <ci>Y</ci>
        </apply>
       </apply>
       <apply>
        <minus></minus>
        <apply>
         <csymbol cd="ambiguous">subscript</csymbol>
         <ci>Y</ci>
         <apply>
          <plus></plus>
          <ci>t</ci>
          <ci>h</ci>
         </apply>
        </apply>
        <apply>
         <ci>normal-¯</ci>
         <ci>Y</ci>
        </apply>
       </apply>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   c_{h}=\frac{1}{N-h}\sum_{t=1}^{N-h}\left(Y_{t}-\bar{Y}\right)\left(Y_{t+h}-%
\bar{Y}\right)
  </annotation>
 </semantics>
</math>

 Although this definition has less <a href="bias_of_an_estimator" title="wikilink">bias</a>, the (1/<em>N</em>) formulation has some desirable statistical properties and is the form most commonly used in the statistics literature. See pages 20 and 49-50 in Chatfield for details.</p>
<h2 id="statistical-inference-with-correlograms">Statistical inference with correlograms</h2>

<p>In the same graph one can draw upper and lower bounds for autocorrelation with significance level 

<math display="inline" id="Correlogram:10">
 <semantics>
  <mpadded width="+1.7pt">
   <mi>α</mi>
  </mpadded>
  <annotation-xml encoding="MathML-Content">
   <ci>α</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \alpha\,
  </annotation>
 </semantics>
</math>

:</p>

<p>

<math display="block" id="Correlogram:11">
 <semantics>
  <mrow>
   <mi>B</mi>
   <mo>=</mo>
   <mrow>
    <mo>±</mo>
    <mrow>
     <msub>
      <mi>z</mi>
      <mrow>
       <mn>1</mn>
       <mo>-</mo>
       <mrow>
        <mi>α</mi>
        <mo>/</mo>
        <mn>2</mn>
       </mrow>
      </mrow>
     </msub>
     <mi>S</mi>
     <mi>E</mi>
     <mrow>
      <mo stretchy="false">(</mo>
      <msub>
       <mi>r</mi>
       <mi>h</mi>
      </msub>
      <mo rspace="4.2pt" stretchy="false">)</mo>
     </mrow>
    </mrow>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <ci>B</ci>
    <apply>
     <csymbol cd="latexml">plus-or-minus</csymbol>
     <apply>
      <times></times>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>z</ci>
       <apply>
        <minus></minus>
        <cn type="integer">1</cn>
        <apply>
         <divide></divide>
         <ci>α</ci>
         <cn type="integer">2</cn>
        </apply>
       </apply>
      </apply>
      <ci>S</ci>
      <ci>E</ci>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>r</ci>
       <ci>h</ci>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   B=\pm z_{1-\alpha/2}SE(r_{h})\,
  </annotation>
 </semantics>
</math>

 with 

<math display="inline" id="Correlogram:12">
 <semantics>
  <mpadded width="+1.7pt">
   <msub>
    <mi>r</mi>
    <mi>h</mi>
   </msub>
  </mpadded>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <csymbol cd="ambiguous">subscript</csymbol>
    <ci>r</ci>
    <ci>h</ci>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   r_{h}\,
  </annotation>
 </semantics>
</math>

 as the estimated autocorrelation at lag 

<math display="inline" id="Correlogram:13">
 <semantics>
  <mpadded width="+1.7pt">
   <mi>h</mi>
  </mpadded>
  <annotation-xml encoding="MathML-Content">
   <ci>h</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   h\,
  </annotation>
 </semantics>
</math>

.</p>

<p>If the autocorrelation is higher (lower) than this upper (lower) bound, the null hypothesis that there is no autocorrelation at and beyond a given lag is rejected at a significance level of 

<math display="inline" id="Correlogram:14">
 <semantics>
  <mpadded width="+1.7pt">
   <mi>α</mi>
  </mpadded>
  <annotation-xml encoding="MathML-Content">
   <ci>α</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \alpha\,
  </annotation>
 </semantics>
</math>

. This test is an approximate one and assumes that the time-series is <a class="uri" href="Gaussian" title="wikilink">Gaussian</a>.</p>

<p>In the above, z<sub>1-α/2</sub> is the quantile of the <a href="normal_distribution" title="wikilink">normal distribution</a>; SE is the standard error, which can be computed by <a href="M._S._Bartlett" title="wikilink">Bartlett</a>'s formula for MA(l) processes:</p>

<p>

<math display="block" id="Correlogram:15">
 <semantics>
  <mrow>
   <mrow>
    <mi>S</mi>
    <mi>E</mi>
    <mrow>
     <mo stretchy="false">(</mo>
     <msub>
      <mi>r</mi>
      <mn>1</mn>
     </msub>
     <mo stretchy="false">)</mo>
    </mrow>
   </mrow>
   <mo>=</mo>
   <mfrac>
    <mn>1</mn>
    <msqrt>
     <mi>N</mi>
    </msqrt>
   </mfrac>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <times></times>
     <ci>S</ci>
     <ci>E</ci>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <ci>r</ci>
      <cn type="integer">1</cn>
     </apply>
    </apply>
    <apply>
     <divide></divide>
     <cn type="integer">1</cn>
     <apply>
      <root></root>
      <ci>N</ci>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   SE(r_{1})=\frac{1}{\sqrt{N}}
  </annotation>
 </semantics>
</math>

</p>

<p>

<math display="block" id="Correlogram:16">
 <semantics>
  <mrow>
   <mrow>
    <mi>S</mi>
    <mi>E</mi>
    <mrow>
     <mo stretchy="false">(</mo>
     <msub>
      <mi>r</mi>
      <mi>h</mi>
     </msub>
     <mo stretchy="false">)</mo>
    </mrow>
   </mrow>
   <mo>=</mo>
   <msqrt>
    <mfrac>
     <mrow>
      <mn>1</mn>
      <mo>+</mo>
      <mrow>
       <mn>2</mn>
       <mrow>
        <msubsup>
         <mo largeop="true" symmetric="true">∑</mo>
         <mrow>
          <mi>i</mi>
          <mo>=</mo>
          <mn>1</mn>
         </mrow>
         <mrow>
          <mi>h</mi>
          <mo>-</mo>
          <mn>1</mn>
         </mrow>
        </msubsup>
        <msubsup>
         <mi>r</mi>
         <mi>i</mi>
         <mn>2</mn>
        </msubsup>
       </mrow>
      </mrow>
     </mrow>
     <mi>N</mi>
    </mfrac>
   </msqrt>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <times></times>
     <ci>S</ci>
     <ci>E</ci>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <ci>r</ci>
      <ci>h</ci>
     </apply>
    </apply>
    <apply>
     <root></root>
     <apply>
      <divide></divide>
      <apply>
       <plus></plus>
       <cn type="integer">1</cn>
       <apply>
        <times></times>
        <cn type="integer">2</cn>
        <apply>
         <apply>
          <csymbol cd="ambiguous">superscript</csymbol>
          <apply>
           <csymbol cd="ambiguous">subscript</csymbol>
           <sum></sum>
           <apply>
            <eq></eq>
            <ci>i</ci>
            <cn type="integer">1</cn>
           </apply>
          </apply>
          <apply>
           <minus></minus>
           <ci>h</ci>
           <cn type="integer">1</cn>
          </apply>
         </apply>
         <apply>
          <csymbol cd="ambiguous">subscript</csymbol>
          <apply>
           <csymbol cd="ambiguous">superscript</csymbol>
           <ci>r</ci>
           <cn type="integer">2</cn>
          </apply>
          <ci>i</ci>
         </apply>
        </apply>
       </apply>
      </apply>
      <ci>N</ci>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   SE(r_{h})=\sqrt{\frac{1+2\sum_{i=1}^{h-1}r^{2}_{i}}{N}}
  </annotation>
 </semantics>
</math>

 for 

<math display="inline" id="Correlogram:17">
 <semantics>
  <mrow>
   <mi>h</mi>
   <mo>></mo>
   <mpadded width="+1.7pt">
    <mn>1.</mn>
   </mpadded>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <gt></gt>
    <ci>h</ci>
    <cn type="float">1.</cn>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   h>1.\,
  </annotation>
 </semantics>
</math>

</p>

<p>In the picture above we can reject the <a href="null_hypothesis" title="wikilink">null hypothesis</a> that there is no autocorrelation between time-points which are adjacent (lag=1). For the other periods one cannot reject the <a href="null_hypothesis" title="wikilink">null hypothesis</a> of no autocorrelation.</p>

<p>Note that there are two distinct formulas for generating the confidence bands:</p>

<p>1. If the correlogram is being used to test for randomness (i.e., there is no <a href="time_dependence" title="wikilink">time dependence</a> in the data), the following formula is recommended:</p>

<p>

<math display="block" id="Correlogram:18">
 <semantics>
  <mrow>
   <mo>±</mo>
   <mfrac>
    <msub>
     <mi>z</mi>
     <mrow>
      <mn>1</mn>
      <mo>-</mo>
      <mrow>
       <mi>α</mi>
       <mo>/</mo>
       <mn>2</mn>
      </mrow>
     </mrow>
    </msub>
    <msqrt>
     <mi>N</mi>
    </msqrt>
   </mfrac>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <csymbol cd="latexml">plus-or-minus</csymbol>
    <apply>
     <divide></divide>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <ci>z</ci>
      <apply>
       <minus></minus>
       <cn type="integer">1</cn>
       <apply>
        <divide></divide>
        <ci>α</ci>
        <cn type="integer">2</cn>
       </apply>
      </apply>
     </apply>
     <apply>
      <root></root>
      <ci>N</ci>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \pm\frac{z_{1-\alpha/2}}{\sqrt{N}}
  </annotation>
 </semantics>
</math>

 where <em>N</em> is the <a href="sample_size" title="wikilink">sample size</a>, <em>z</em> is the <a href="quantile_function" title="wikilink">quantile function</a> of the <a href="standard_normal_distribution" title="wikilink">standard normal distribution</a> and α is the <a href="significance_level" title="wikilink">significance level</a>. In this case, the confidence bands have fixed width that depends on the sample size.</p>

<p>2. Correlograms are also used in the model identification stage for fitting <a class="uri" href="ARIMA" title="wikilink">ARIMA</a> models. In this case, a <a href="moving_average_model" title="wikilink">moving average model</a> is assumed for the data and the following confidence bands should be generated:</p>

<p>

<math display="block" id="Correlogram:19">
 <semantics>
  <mrow>
   <mo>±</mo>
   <mrow>
    <msub>
     <mi>z</mi>
     <mrow>
      <mn>1</mn>
      <mo>-</mo>
      <mrow>
       <mi>α</mi>
       <mo>/</mo>
       <mn>2</mn>
      </mrow>
     </mrow>
    </msub>
    <msqrt>
     <mrow>
      <mfrac>
       <mn>1</mn>
       <mi>N</mi>
      </mfrac>
      <mrow>
       <mo>(</mo>
       <mrow>
        <mn>1</mn>
        <mo>+</mo>
        <mrow>
         <mn>2</mn>
         <mrow>
          <munderover>
           <mo largeop="true" movablelimits="false" symmetric="true">∑</mo>
           <mrow>
            <mi>i</mi>
            <mo>=</mo>
            <mn>1</mn>
           </mrow>
           <mi>k</mi>
          </munderover>
          <msubsup>
           <mi>r</mi>
           <mi>i</mi>
           <mn>2</mn>
          </msubsup>
         </mrow>
        </mrow>
       </mrow>
       <mo>)</mo>
      </mrow>
     </mrow>
    </msqrt>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <csymbol cd="latexml">plus-or-minus</csymbol>
    <apply>
     <times></times>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <ci>z</ci>
      <apply>
       <minus></minus>
       <cn type="integer">1</cn>
       <apply>
        <divide></divide>
        <ci>α</ci>
        <cn type="integer">2</cn>
       </apply>
      </apply>
     </apply>
     <apply>
      <root></root>
      <apply>
       <times></times>
       <apply>
        <divide></divide>
        <cn type="integer">1</cn>
        <ci>N</ci>
       </apply>
       <apply>
        <plus></plus>
        <cn type="integer">1</cn>
        <apply>
         <times></times>
         <cn type="integer">2</cn>
         <apply>
          <apply>
           <csymbol cd="ambiguous">superscript</csymbol>
           <apply>
            <csymbol cd="ambiguous">subscript</csymbol>
            <sum></sum>
            <apply>
             <eq></eq>
             <ci>i</ci>
             <cn type="integer">1</cn>
            </apply>
           </apply>
           <ci>k</ci>
          </apply>
          <apply>
           <csymbol cd="ambiguous">superscript</csymbol>
           <apply>
            <csymbol cd="ambiguous">subscript</csymbol>
            <ci>r</ci>
            <ci>i</ci>
           </apply>
           <cn type="integer">2</cn>
          </apply>
         </apply>
        </apply>
       </apply>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \pm z_{1-\alpha/2}\sqrt{\frac{1}{N}\left(1+2\sum_{i=1}^{k}r_{i}^{2}\right)}
  </annotation>
 </semantics>
</math>

 where <em>k</em> is the lag. In this case, the confidence bands increase as the lag increases.</p>
<h2 id="software">Software</h2>

<p>Correlograms are available in most general purpose statistical software programs. In <a href="R_(programming_language)" title="wikilink">R</a>, the function acf and pacf can be used to produce such a plot.</p>
<h2 id="related-techniques">Related techniques</h2>
<ul>
<li><a href="Partial_autocorrelation_plot" title="wikilink">Partial autocorrelation plot</a></li>
<li><a href="Lag_plot" title="wikilink">Lag plot</a></li>
<li><a href="Spectral_plot" title="wikilink">Spectral plot</a></li>
<li><a href="Seasonal_subseries_plot" title="wikilink">Seasonal subseries plot</a></li>
<li><a href="Scaled_Correlation" title="wikilink">Scaled Correlation</a></li>
</ul>
<h2 id="references">References</h2>
<h2 id="further-reading">Further reading</h2>
<ul>
<li></li>
<li></li>
<li></li>
</ul>
<h2 id="external-links">External links</h2>
<ul>
<li><a href="http://www.itl.nist.gov/div898/handbook/eda/section3/eda331.htm">Autocorrelation Plot</a></li>
</ul>

<p>"</p>

<p><a href="Category:Statistical_charts_and_diagrams" title="wikilink">Category:Statistical charts and diagrams</a> <a href="Category:Time_series_analysis" title="wikilink">Category:Time series analysis</a></p>
<section class="footnotes">
<hr/>
<ol>
<li id="fn1"><a href="#fnref1">↩</a></li>
<li id="fn2"><a href="#fnref2">↩</a></li>
<li id="fn3"><a href="#fnref3">↩</a></li>
</ol>
</section>
</body>
</html>
