<html lang="en">
<head>
<meta charset="utf-8"/>
<title offset="1697">Log-rank test</title>
<script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_SVG.js" type="text/javascript">
</script>
</head>
<body>
<h1>Log-rank test</h1>
<hr/>

<p>In <a class="uri" href="statistics" title="wikilink">statistics</a>, the <strong>log-rank test</strong> is a <a href="hypothesis_test" title="wikilink">hypothesis test</a> to compare the <a href="survival_analysis" title="wikilink">survival</a> distributions of two samples. It is a <a class="uri" href="nonparametric" title="wikilink">nonparametric</a> test and appropriate to use when the data are right skewed and <a href="Censoring_(statistics)" title="wikilink">censored</a> (technically, the censoring must be non-informative). It is widely used in <a href="clinical_trials" title="wikilink">clinical trials</a> to establish the efficacy of a new treatment in comparison with a control treatment when the measurement is the time to event (such as the time from initial treatment to a heart attack). The test is sometimes called the <strong>Mantel–Cox test</strong>, named after <a href="Nathan_Mantel" title="wikilink">Nathan Mantel</a> and <a href="David_Cox_(statistician)" title="wikilink">David Cox</a>. The log-rank test can also be viewed as a time-stratified <a href="Cochran–Mantel–Haenszel_statistics" title="wikilink">Cochran–Mantel–Haenszel test</a>.</p>

<p>The test was first proposed by <a href="Nathan_Mantel" title="wikilink">Nathan Mantel</a> and was named the <em>log-rank test</em> by <a href="Richard_Peto" title="wikilink">Richard</a> and <a href="Julian_Peto" title="wikilink">Julian Peto</a>.<a class="footnoteRef" href="#fn1" id="fnref1"><sup>1</sup></a><a class="footnoteRef" href="#fn2" id="fnref2"><sup>2</sup></a><a class="footnoteRef" href="#fn3" id="fnref3"><sup>3</sup></a></p>
<h2 id="definition">Definition</h2>

<p>The log-rank test statistic compares estimates of the <a href="Failure_rate#Failure_rate_in_the_continuous_sense" title="wikilink">hazard functions</a> of the two groups at each observed event time. It is constructed by computing the observed and expected number of events in one of the groups at each observed event time and then adding these to obtain an overall summary across all time points where there is an event.</p>

<p>Let <em>j</em> = 1, ..., <em>J</em> be the distinct times of observed events in either group. For each time 

<math display="inline" id="Log-rank_test:0">
 <semantics>
  <mi>j</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>j</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   j
  </annotation>
 </semantics>
</math>

, let 

<math display="inline" id="Log-rank_test:1">
 <semantics>
  <msub>
   <mi>N</mi>
   <mrow>
    <mn>1</mn>
    <mi>j</mi>
   </mrow>
  </msub>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <csymbol cd="ambiguous">subscript</csymbol>
    <ci>N</ci>
    <apply>
     <times></times>
     <cn type="integer">1</cn>
     <ci>j</ci>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   N_{1j}
  </annotation>
 </semantics>
</math>

 and 

<math display="inline" id="Log-rank_test:2">
 <semantics>
  <msub>
   <mi>N</mi>
   <mrow>
    <mn>2</mn>
    <mi>j</mi>
   </mrow>
  </msub>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <csymbol cd="ambiguous">subscript</csymbol>
    <ci>N</ci>
    <apply>
     <times></times>
     <cn type="integer">2</cn>
     <ci>j</ci>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   N_{2j}
  </annotation>
 </semantics>
</math>

 be the number of subjects "at risk" (have not yet had an event or been censored) at the start of period 

<math display="inline" id="Log-rank_test:3">
 <semantics>
  <mi>j</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>j</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   j
  </annotation>
 </semantics>
</math>

 in the two groups (often treatment vs. control), respectively. Let 

<math display="inline" id="Log-rank_test:4">
 <semantics>
  <mrow>
   <msub>
    <mi>N</mi>
    <mi>j</mi>
   </msub>
   <mo>=</mo>
   <mrow>
    <msub>
     <mi>N</mi>
     <mrow>
      <mn>1</mn>
      <mi>j</mi>
     </mrow>
    </msub>
    <mo>+</mo>
    <msub>
     <mi>N</mi>
     <mrow>
      <mn>2</mn>
      <mi>j</mi>
     </mrow>
    </msub>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <csymbol cd="ambiguous">subscript</csymbol>
     <ci>N</ci>
     <ci>j</ci>
    </apply>
    <apply>
     <plus></plus>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <ci>N</ci>
      <apply>
       <times></times>
       <cn type="integer">1</cn>
       <ci>j</ci>
      </apply>
     </apply>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <ci>N</ci>
      <apply>
       <times></times>
       <cn type="integer">2</cn>
       <ci>j</ci>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   N_{j}=N_{1j}+N_{2j}
  </annotation>
 </semantics>
</math>

. Let 

<math display="inline" id="Log-rank_test:5">
 <semantics>
  <msub>
   <mi>O</mi>
   <mrow>
    <mn>1</mn>
    <mi>j</mi>
   </mrow>
  </msub>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <csymbol cd="ambiguous">subscript</csymbol>
    <ci>O</ci>
    <apply>
     <times></times>
     <cn type="integer">1</cn>
     <ci>j</ci>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   O_{1j}
  </annotation>
 </semantics>
</math>

 and 

<math display="inline" id="Log-rank_test:6">
 <semantics>
  <msub>
   <mi>O</mi>
   <mrow>
    <mn>2</mn>
    <mi>j</mi>
   </mrow>
  </msub>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <csymbol cd="ambiguous">subscript</csymbol>
    <ci>O</ci>
    <apply>
     <times></times>
     <cn type="integer">2</cn>
     <ci>j</ci>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   O_{2j}
  </annotation>
 </semantics>
</math>

 be the observed number of events in the groups respectively at time 

<math display="inline" id="Log-rank_test:7">
 <semantics>
  <mi>j</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>j</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   j
  </annotation>
 </semantics>
</math>

, and define 

<math display="inline" id="Log-rank_test:8">
 <semantics>
  <mrow>
   <msub>
    <mi>O</mi>
    <mi>j</mi>
   </msub>
   <mo>=</mo>
   <mrow>
    <msub>
     <mi>O</mi>
     <mrow>
      <mn>1</mn>
      <mi>j</mi>
     </mrow>
    </msub>
    <mo>+</mo>
    <msub>
     <mi>O</mi>
     <mrow>
      <mn>2</mn>
      <mi>j</mi>
     </mrow>
    </msub>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <csymbol cd="ambiguous">subscript</csymbol>
     <ci>O</ci>
     <ci>j</ci>
    </apply>
    <apply>
     <plus></plus>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <ci>O</ci>
      <apply>
       <times></times>
       <cn type="integer">1</cn>
       <ci>j</ci>
      </apply>
     </apply>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <ci>O</ci>
      <apply>
       <times></times>
       <cn type="integer">2</cn>
       <ci>j</ci>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   O_{j}=O_{1j}+O_{2j}
  </annotation>
 </semantics>
</math>

.</p>

<p>Given that 

<math display="inline" id="Log-rank_test:9">
 <semantics>
  <msub>
   <mi>O</mi>
   <mi>j</mi>
  </msub>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <csymbol cd="ambiguous">subscript</csymbol>
    <ci>O</ci>
    <ci>j</ci>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   O_{j}
  </annotation>
 </semantics>
</math>

 events happened across both groups at time 

<math display="inline" id="Log-rank_test:10">
 <semantics>
  <mi>j</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>j</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   j
  </annotation>
 </semantics>
</math>

, under the <a href="null_hypothesis" title="wikilink">null hypothesis</a> (of the two groups having identical survival and hazard functions) 

<math display="inline" id="Log-rank_test:11">
 <semantics>
  <msub>
   <mi>O</mi>
   <mrow>
    <mn>1</mn>
    <mi>j</mi>
   </mrow>
  </msub>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <csymbol cd="ambiguous">subscript</csymbol>
    <ci>O</ci>
    <apply>
     <times></times>
     <cn type="integer">1</cn>
     <ci>j</ci>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   O_{1j}
  </annotation>
 </semantics>
</math>

 has the <a href="hypergeometric_distribution" title="wikilink">hypergeometric distribution</a> with parameters 

<math display="inline" id="Log-rank_test:12">
 <semantics>
  <msub>
   <mi>N</mi>
   <mi>j</mi>
  </msub>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <csymbol cd="ambiguous">subscript</csymbol>
    <ci>N</ci>
    <ci>j</ci>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   N_{j}
  </annotation>
 </semantics>
</math>

, 

<math display="inline" id="Log-rank_test:13">
 <semantics>
  <msub>
   <mi>N</mi>
   <mrow>
    <mn>1</mn>
    <mi>j</mi>
   </mrow>
  </msub>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <csymbol cd="ambiguous">subscript</csymbol>
    <ci>N</ci>
    <apply>
     <times></times>
     <cn type="integer">1</cn>
     <ci>j</ci>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   N_{1j}
  </annotation>
 </semantics>
</math>

, and 

<math display="inline" id="Log-rank_test:14">
 <semantics>
  <msub>
   <mi>O</mi>
   <mi>j</mi>
  </msub>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <csymbol cd="ambiguous">subscript</csymbol>
    <ci>O</ci>
    <ci>j</ci>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   O_{j}
  </annotation>
 </semantics>
</math>

. This distribution has expected value 

<math display="inline" id="Log-rank_test:15">
 <semantics>
  <mrow>
   <msub>
    <mi>E</mi>
    <mrow>
     <mn>1</mn>
     <mi>j</mi>
    </mrow>
   </msub>
   <mo>=</mo>
   <mrow>
    <mfrac>
     <msub>
      <mi>O</mi>
      <mi>j</mi>
     </msub>
     <msub>
      <mi>N</mi>
      <mi>j</mi>
     </msub>
    </mfrac>
    <msub>
     <mi>N</mi>
     <mrow>
      <mn>1</mn>
      <mi>j</mi>
     </mrow>
    </msub>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <csymbol cd="ambiguous">subscript</csymbol>
     <ci>E</ci>
     <apply>
      <times></times>
      <cn type="integer">1</cn>
      <ci>j</ci>
     </apply>
    </apply>
    <apply>
     <times></times>
     <apply>
      <divide></divide>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>O</ci>
       <ci>j</ci>
      </apply>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>N</ci>
       <ci>j</ci>
      </apply>
     </apply>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <ci>N</ci>
      <apply>
       <times></times>
       <cn type="integer">1</cn>
       <ci>j</ci>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   E_{1j}=\frac{O_{j}}{N_{j}}N_{1j}
  </annotation>
 </semantics>
</math>

 and variance 

<math display="inline" id="Log-rank_test:16">
 <semantics>
  <mrow>
   <msub>
    <mi>V</mi>
    <mi>j</mi>
   </msub>
   <mo>=</mo>
   <mfrac>
    <mrow>
     <msub>
      <mi>O</mi>
      <mi>j</mi>
     </msub>
     <mrow>
      <mo stretchy="false">(</mo>
      <mrow>
       <msub>
        <mi>N</mi>
        <mrow>
         <mn>1</mn>
         <mi>j</mi>
        </mrow>
       </msub>
       <mo>/</mo>
       <msub>
        <mi>N</mi>
        <mi>j</mi>
       </msub>
      </mrow>
      <mo stretchy="false">)</mo>
     </mrow>
     <mrow>
      <mo stretchy="false">(</mo>
      <mrow>
       <mn>1</mn>
       <mo>-</mo>
       <mrow>
        <msub>
         <mi>N</mi>
         <mrow>
          <mn>1</mn>
          <mi>j</mi>
         </mrow>
        </msub>
        <mo>/</mo>
        <msub>
         <mi>N</mi>
         <mi>j</mi>
        </msub>
       </mrow>
      </mrow>
      <mo stretchy="false">)</mo>
     </mrow>
     <mrow>
      <mo stretchy="false">(</mo>
      <mrow>
       <msub>
        <mi>N</mi>
        <mi>j</mi>
       </msub>
       <mo>-</mo>
       <msub>
        <mi>O</mi>
        <mi>j</mi>
       </msub>
      </mrow>
      <mo stretchy="false">)</mo>
     </mrow>
    </mrow>
    <mrow>
     <msub>
      <mi>N</mi>
      <mi>j</mi>
     </msub>
     <mo>-</mo>
     <mn>1</mn>
    </mrow>
   </mfrac>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <csymbol cd="ambiguous">subscript</csymbol>
     <ci>V</ci>
     <ci>j</ci>
    </apply>
    <apply>
     <divide></divide>
     <apply>
      <times></times>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>O</ci>
       <ci>j</ci>
      </apply>
      <apply>
       <divide></divide>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>N</ci>
        <apply>
         <times></times>
         <cn type="integer">1</cn>
         <ci>j</ci>
        </apply>
       </apply>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>N</ci>
        <ci>j</ci>
       </apply>
      </apply>
      <apply>
       <minus></minus>
       <cn type="integer">1</cn>
       <apply>
        <divide></divide>
        <apply>
         <csymbol cd="ambiguous">subscript</csymbol>
         <ci>N</ci>
         <apply>
          <times></times>
          <cn type="integer">1</cn>
          <ci>j</ci>
         </apply>
        </apply>
        <apply>
         <csymbol cd="ambiguous">subscript</csymbol>
         <ci>N</ci>
         <ci>j</ci>
        </apply>
       </apply>
      </apply>
      <apply>
       <minus></minus>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>N</ci>
        <ci>j</ci>
       </apply>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>O</ci>
        <ci>j</ci>
       </apply>
      </apply>
     </apply>
     <apply>
      <minus></minus>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>N</ci>
       <ci>j</ci>
      </apply>
      <cn type="integer">1</cn>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   V_{j}=\frac{O_{j}(N_{1j}/N_{j})(1-N_{1j}/N_{j})(N_{j}-O_{j})}{N_{j}-1}
  </annotation>
 </semantics>
</math>

.</p>

<p>The log-rank statistic compares each 

<math display="inline" id="Log-rank_test:17">
 <semantics>
  <msub>
   <mi>O</mi>
   <mrow>
    <mn>1</mn>
    <mi>j</mi>
   </mrow>
  </msub>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <csymbol cd="ambiguous">subscript</csymbol>
    <ci>O</ci>
    <apply>
     <times></times>
     <cn type="integer">1</cn>
     <ci>j</ci>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   O_{1j}
  </annotation>
 </semantics>
</math>

 to its expectation 

<math display="inline" id="Log-rank_test:18">
 <semantics>
  <msub>
   <mi>E</mi>
   <mrow>
    <mn>1</mn>
    <mi>j</mi>
   </mrow>
  </msub>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <csymbol cd="ambiguous">subscript</csymbol>
    <ci>E</ci>
    <apply>
     <times></times>
     <cn type="integer">1</cn>
     <ci>j</ci>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   E_{1j}
  </annotation>
 </semantics>
</math>

 under the null hypothesis and is defined as</p>

<p>

<math display="block" id="Log-rank_test:19">
 <semantics>
  <mrow>
   <mrow>
    <mi>Z</mi>
    <mo>=</mo>
    <mfrac>
     <mrow>
      <msubsup>
       <mo largeop="true" symmetric="true">∑</mo>
       <mrow>
        <mi>j</mi>
        <mo>=</mo>
        <mn>1</mn>
       </mrow>
       <mi>J</mi>
      </msubsup>
      <mrow>
       <mo stretchy="false">(</mo>
       <mrow>
        <msub>
         <mi>O</mi>
         <mrow>
          <mn>1</mn>
          <mi>j</mi>
         </mrow>
        </msub>
        <mo>-</mo>
        <msub>
         <mi>E</mi>
         <mrow>
          <mn>1</mn>
          <mi>j</mi>
         </mrow>
        </msub>
       </mrow>
       <mo stretchy="false">)</mo>
      </mrow>
     </mrow>
     <msqrt>
      <mrow>
       <msubsup>
        <mo largeop="true" symmetric="true">∑</mo>
        <mrow>
         <mi>j</mi>
         <mo>=</mo>
         <mn>1</mn>
        </mrow>
        <mi>J</mi>
       </msubsup>
       <msub>
        <mi>V</mi>
        <mi>j</mi>
       </msub>
      </mrow>
     </msqrt>
    </mfrac>
   </mrow>
   <mo>.</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <ci>Z</ci>
    <apply>
     <divide></divide>
     <apply>
      <apply>
       <csymbol cd="ambiguous">superscript</csymbol>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <sum></sum>
        <apply>
         <eq></eq>
         <ci>j</ci>
         <cn type="integer">1</cn>
        </apply>
       </apply>
       <ci>J</ci>
      </apply>
      <apply>
       <minus></minus>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>O</ci>
        <apply>
         <times></times>
         <cn type="integer">1</cn>
         <ci>j</ci>
        </apply>
       </apply>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>E</ci>
        <apply>
         <times></times>
         <cn type="integer">1</cn>
         <ci>j</ci>
        </apply>
       </apply>
      </apply>
     </apply>
     <apply>
      <root></root>
      <apply>
       <apply>
        <csymbol cd="ambiguous">superscript</csymbol>
        <apply>
         <csymbol cd="ambiguous">subscript</csymbol>
         <sum></sum>
         <apply>
          <eq></eq>
          <ci>j</ci>
          <cn type="integer">1</cn>
         </apply>
        </apply>
        <ci>J</ci>
       </apply>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>V</ci>
        <ci>j</ci>
       </apply>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   Z=\frac{\sum_{j=1}^{J}(O_{1j}-E_{1j})}{\sqrt{\sum_{j=1}^{J}V_{j}}}.
  </annotation>
 </semantics>
</math>

</p>
<h2 id="asymptotic-distribution">Asymptotic distribution</h2>

<p>If the two groups have the same survival function, the log-rank statistic is approximately standard normal. A one-sided level 

<math display="inline" id="Log-rank_test:20">
 <semantics>
  <mi>α</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>α</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \alpha
  </annotation>
 </semantics>
</math>

 test will reject the null hypothesis if 

<math display="inline" id="Log-rank_test:21">
 <semantics>
  <mrow>
   <mi>Z</mi>
   <mo>></mo>
   <msub>
    <mi>z</mi>
    <mi>α</mi>
   </msub>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <gt></gt>
    <ci>Z</ci>
    <apply>
     <csymbol cd="ambiguous">subscript</csymbol>
     <ci>z</ci>
     <ci>α</ci>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   Z>z_{\alpha}
  </annotation>
 </semantics>
</math>

 where 

<math display="inline" id="Log-rank_test:22">
 <semantics>
  <msub>
   <mi>z</mi>
   <mi>α</mi>
  </msub>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <csymbol cd="ambiguous">subscript</csymbol>
    <ci>z</ci>
    <ci>α</ci>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   z_{\alpha}
  </annotation>
 </semantics>
</math>

 is the upper 

<math display="inline" id="Log-rank_test:23">
 <semantics>
  <mi>α</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>α</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \alpha
  </annotation>
 </semantics>
</math>

 quantile of the standard normal distribution. If the hazard ratio is 

<math display="inline" id="Log-rank_test:24">
 <semantics>
  <mi>λ</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>λ</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \lambda
  </annotation>
 </semantics>
</math>

, there are 

<math display="inline" id="Log-rank_test:25">
 <semantics>
  <mi>n</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>n</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   n
  </annotation>
 </semantics>
</math>

 total subjects, 

<math display="inline" id="Log-rank_test:26">
 <semantics>
  <mi>d</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>d</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   d
  </annotation>
 </semantics>
</math>

 is the probability a subject in either group will eventually have an event (so that 

<math display="inline" id="Log-rank_test:27">
 <semantics>
  <mrow>
   <mi>n</mi>
   <mi>d</mi>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <times></times>
    <ci>n</ci>
    <ci>d</ci>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   nd
  </annotation>
 </semantics>
</math>

 is the expected number of events at the time of the analysis), and the proportion of subjects randomized to each group is 50%, then the log-rank statistic is approximately normal with mean 

<math display="inline" id="Log-rank_test:28">
 <semantics>
  <mrow>
   <mrow>
    <mo stretchy="false">(</mo>
    <mrow>
     <mi>log</mi>
     <mi>λ</mi>
    </mrow>
    <mo rspace="4.2pt" stretchy="false">)</mo>
   </mrow>
   <msqrt>
    <mfrac>
     <mrow>
      <mpadded width="+1.7pt">
       <mi>n</mi>
      </mpadded>
      <mi>d</mi>
     </mrow>
     <mn>4</mn>
    </mfrac>
   </msqrt>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <times></times>
    <apply>
     <log></log>
     <ci>λ</ci>
    </apply>
    <apply>
     <root></root>
     <apply>
      <divide></divide>
      <apply>
       <times></times>
       <ci>n</ci>
       <ci>d</ci>
      </apply>
      <cn type="integer">4</cn>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   (\log{\lambda})\,\sqrt{\frac{n\,d}{4}}
  </annotation>
 </semantics>
</math>

 and variance 1.<a class="footnoteRef" href="#fn4" id="fnref4"><sup>4</sup></a> For a one-sided level 

<math display="inline" id="Log-rank_test:29">
 <semantics>
  <mi>α</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>α</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \alpha
  </annotation>
 </semantics>
</math>

 test with power 

<math display="inline" id="Log-rank_test:30">
 <semantics>
  <mrow>
   <mn>1</mn>
   <mo>-</mo>
   <mi>β</mi>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <minus></minus>
    <cn type="integer">1</cn>
    <ci>β</ci>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   1-\beta
  </annotation>
 </semantics>
</math>

, the sample size required is 

<math display="inline" id="Log-rank_test:31">
 <semantics>
  <mrow>
   <mi>n</mi>
   <mo>=</mo>
   <mfrac>
    <mrow>
     <mpadded width="+1.7pt">
      <mn>4</mn>
     </mpadded>
     <msup>
      <mrow>
       <mo stretchy="false">(</mo>
       <mrow>
        <msub>
         <mi>z</mi>
         <mi>α</mi>
        </msub>
        <mo>+</mo>
        <msub>
         <mi>z</mi>
         <mi>β</mi>
        </msub>
       </mrow>
       <mo stretchy="false">)</mo>
      </mrow>
      <mn>2</mn>
     </msup>
    </mrow>
    <mrow>
     <mi>d</mi>
     <mrow>
      <msup>
       <mi>log</mi>
       <mn>2</mn>
      </msup>
      <mi>λ</mi>
     </mrow>
    </mrow>
   </mfrac>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <ci>n</ci>
    <apply>
     <divide></divide>
     <apply>
      <times></times>
      <cn type="integer">4</cn>
      <apply>
       <csymbol cd="ambiguous">superscript</csymbol>
       <apply>
        <plus></plus>
        <apply>
         <csymbol cd="ambiguous">subscript</csymbol>
         <ci>z</ci>
         <ci>α</ci>
        </apply>
        <apply>
         <csymbol cd="ambiguous">subscript</csymbol>
         <ci>z</ci>
         <ci>β</ci>
        </apply>
       </apply>
       <cn type="integer">2</cn>
      </apply>
     </apply>
     <apply>
      <times></times>
      <ci>d</ci>
      <apply>
       <apply>
        <csymbol cd="ambiguous">superscript</csymbol>
        <log></log>
        <cn type="integer">2</cn>
       </apply>
       <ci>λ</ci>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   n=\frac{4\,(z_{\alpha}+z_{\beta})^{2}}{d\log^{2}{\lambda}}
  </annotation>
 </semantics>
</math>

 where 

<math display="inline" id="Log-rank_test:32">
 <semantics>
  <msub>
   <mi>z</mi>
   <mi>α</mi>
  </msub>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <csymbol cd="ambiguous">subscript</csymbol>
    <ci>z</ci>
    <ci>α</ci>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   z_{\alpha}
  </annotation>
 </semantics>
</math>

 and 

<math display="inline" id="Log-rank_test:33">
 <semantics>
  <msub>
   <mi>z</mi>
   <mi>β</mi>
  </msub>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <csymbol cd="ambiguous">subscript</csymbol>
    <ci>z</ci>
    <ci>β</ci>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   z_{\beta}
  </annotation>
 </semantics>
</math>

 are the quantiles of the standard normal distribution.</p>
<h2 id="joint-distribution">Joint distribution</h2>

<p>Suppose 

<math display="inline" id="Log-rank_test:34">
 <semantics>
  <msub>
   <mi>Z</mi>
   <mn>1</mn>
  </msub>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <csymbol cd="ambiguous">subscript</csymbol>
    <ci>Z</ci>
    <cn type="integer">1</cn>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   Z_{1}
  </annotation>
 </semantics>
</math>

 and 

<math display="inline" id="Log-rank_test:35">
 <semantics>
  <msub>
   <mi>Z</mi>
   <mn>2</mn>
  </msub>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <csymbol cd="ambiguous">subscript</csymbol>
    <ci>Z</ci>
    <cn type="integer">2</cn>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   Z_{2}
  </annotation>
 </semantics>
</math>

 are the log-rank statistics at two different time points in the same study (

<math display="inline" id="Log-rank_test:36">
 <semantics>
  <msub>
   <mi>Z</mi>
   <mn>1</mn>
  </msub>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <csymbol cd="ambiguous">subscript</csymbol>
    <ci>Z</ci>
    <cn type="integer">1</cn>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   Z_{1}
  </annotation>
 </semantics>
</math>

 earlier). Again, assume the hazard functions in the two groups are proportional with hazard ratio 

<math display="inline" id="Log-rank_test:37">
 <semantics>
  <mi>λ</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>λ</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \lambda
  </annotation>
 </semantics>
</math>

 and 

<math display="inline" id="Log-rank_test:38">
 <semantics>
  <msub>
   <mi>d</mi>
   <mn>1</mn>
  </msub>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <csymbol cd="ambiguous">subscript</csymbol>
    <ci>d</ci>
    <cn type="integer">1</cn>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   d_{1}
  </annotation>
 </semantics>
</math>

 and 

<math display="inline" id="Log-rank_test:39">
 <semantics>
  <msub>
   <mi>d</mi>
   <mn>2</mn>
  </msub>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <csymbol cd="ambiguous">subscript</csymbol>
    <ci>d</ci>
    <cn type="integer">2</cn>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   d_{2}
  </annotation>
 </semantics>
</math>

 are the probabilities that a subject will have an event at the two time points where 

<math display="inline" id="Log-rank_test:40">
 <semantics>
  <mrow>
   <msub>
    <mi>d</mi>
    <mn>1</mn>
   </msub>
   <mo>≤</mo>
   <msub>
    <mi>d</mi>
    <mn>2</mn>
   </msub>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <leq></leq>
    <apply>
     <csymbol cd="ambiguous">subscript</csymbol>
     <ci>d</ci>
     <cn type="integer">1</cn>
    </apply>
    <apply>
     <csymbol cd="ambiguous">subscript</csymbol>
     <ci>d</ci>
     <cn type="integer">2</cn>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   d_{1}\leq d_{2}
  </annotation>
 </semantics>
</math>

. 

<math display="inline" id="Log-rank_test:41">
 <semantics>
  <msub>
   <mi>Z</mi>
   <mn>1</mn>
  </msub>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <csymbol cd="ambiguous">subscript</csymbol>
    <ci>Z</ci>
    <cn type="integer">1</cn>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   Z_{1}
  </annotation>
 </semantics>
</math>

 and 

<math display="inline" id="Log-rank_test:42">
 <semantics>
  <msub>
   <mi>Z</mi>
   <mn>2</mn>
  </msub>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <csymbol cd="ambiguous">subscript</csymbol>
    <ci>Z</ci>
    <cn type="integer">2</cn>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   Z_{2}
  </annotation>
 </semantics>
</math>

 are approximately bivariate normal with means 

<math display="inline" id="Log-rank_test:43">
 <semantics>
  <mrow>
   <mi>log</mi>
   <mrow>
    <mpadded width="+1.7pt">
     <mi>λ</mi>
    </mpadded>
    <msqrt>
     <mfrac>
      <mrow>
       <mpadded width="+1.7pt">
        <mi>n</mi>
       </mpadded>
       <msub>
        <mi>d</mi>
        <mn>1</mn>
       </msub>
      </mrow>
      <mn>4</mn>
     </mfrac>
    </msqrt>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <log></log>
    <apply>
     <times></times>
     <ci>λ</ci>
     <apply>
      <root></root>
      <apply>
       <divide></divide>
       <apply>
        <times></times>
        <ci>n</ci>
        <apply>
         <csymbol cd="ambiguous">subscript</csymbol>
         <ci>d</ci>
         <cn type="integer">1</cn>
        </apply>
       </apply>
       <cn type="integer">4</cn>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \log{\lambda}\,\sqrt{\frac{n\,d_{1}}{4}}
  </annotation>
 </semantics>
</math>

 and 

<math display="inline" id="Log-rank_test:44">
 <semantics>
  <mrow>
   <mi>log</mi>
   <mrow>
    <mpadded width="+1.7pt">
     <mi>λ</mi>
    </mpadded>
    <msqrt>
     <mfrac>
      <mrow>
       <mpadded width="+1.7pt">
        <mi>n</mi>
       </mpadded>
       <msub>
        <mi>d</mi>
        <mn>2</mn>
       </msub>
      </mrow>
      <mn>4</mn>
     </mfrac>
    </msqrt>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <log></log>
    <apply>
     <times></times>
     <ci>λ</ci>
     <apply>
      <root></root>
      <apply>
       <divide></divide>
       <apply>
        <times></times>
        <ci>n</ci>
        <apply>
         <csymbol cd="ambiguous">subscript</csymbol>
         <ci>d</ci>
         <cn type="integer">2</cn>
        </apply>
       </apply>
       <cn type="integer">4</cn>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \log{\lambda}\,\sqrt{\frac{n\,d_{2}}{4}}
  </annotation>
 </semantics>
</math>

 and correlation 

<math display="inline" id="Log-rank_test:45">
 <semantics>
  <msqrt>
   <mfrac>
    <msub>
     <mi>d</mi>
     <mn>1</mn>
    </msub>
    <msub>
     <mi>d</mi>
     <mn>2</mn>
    </msub>
   </mfrac>
  </msqrt>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <root></root>
    <apply>
     <divide></divide>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <ci>d</ci>
      <cn type="integer">1</cn>
     </apply>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <ci>d</ci>
      <cn type="integer">2</cn>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \sqrt{\frac{d_{1}}{d_{2}}}
  </annotation>
 </semantics>
</math>

. Calculations involving the joint distribution are needed to correctly maintain the error rate when the data are examined multiple times within a study by a <a href="Data_Monitoring_Committee" title="wikilink">Data Monitoring Committee</a>.</p>
<h2 id="relationship-to-other-statistics">Relationship to other statistics</h2>
<ul>
<li>The log-rank test has been shown to be too permissive a test, allowing significant results for survivorship prediction models that have low accuracy. The F* test was developed in response to these observations and has been shown to be more critical and to track accuracy of the prediction models with higher fidelity.<a class="footnoteRef" href="#fn5" id="fnref5"><sup>5</sup></a></li>
</ul>
<ul>
<li>The log-rank statistic can be derived as the <a href="score_test" title="wikilink">score test</a> for the <a href="Proportional_hazards_models" title="wikilink">Cox proportional hazards model</a> comparing two groups. It is therefore asymptotically equivalent to the <a href="likelihood_ratio_test" title="wikilink">likelihood ratio test</a> statistic based from that model.</li>
</ul>
<ul>
<li>The log-rank statistic is asymptotically equivalent to the likelihood ratio test statistic for any family of distributions with proportional hazard alternative. For example, if the data from the two samples have <a href="exponential_distribution" title="wikilink">exponential distributions</a>.</li>
</ul>
<ul>
<li>If 

<math display="inline" id="Log-rank_test:46">
 <semantics>
  <mi>Z</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>Z</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   Z
  </annotation>
 </semantics>
</math>

 is the log-rank statistic, 

<math display="inline" id="Log-rank_test:47">
 <semantics>
  <mi>D</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>D</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   D
  </annotation>
 </semantics>
</math>

 is the number of events observed, and 

<math display="inline" id="Log-rank_test:48">
 <semantics>
  <mover accent="true">
   <mi>λ</mi>
   <mo stretchy="false">^</mo>
  </mover>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <ci>normal-^</ci>
    <ci>λ</ci>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \hat{\lambda}
  </annotation>
 </semantics>
</math>

 is the estimate of the hazard ratio, then 

<math display="inline" id="Log-rank_test:49">
 <semantics>
  <mrow>
   <mrow>
    <mi>log</mi>
    <mover accent="true">
     <mi>λ</mi>
     <mo stretchy="false">^</mo>
    </mover>
   </mrow>
   <mo>≈</mo>
   <mrow>
    <mpadded width="+1.7pt">
     <mi>Z</mi>
    </mpadded>
    <msqrt>
     <mrow>
      <mn>4</mn>
      <mo>/</mo>
      <mi>D</mi>
     </mrow>
    </msqrt>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <approx></approx>
    <apply>
     <log></log>
     <apply>
      <ci>normal-^</ci>
      <ci>λ</ci>
     </apply>
    </apply>
    <apply>
     <times></times>
     <ci>Z</ci>
     <apply>
      <root></root>
      <apply>
       <divide></divide>
       <cn type="integer">4</cn>
       <ci>D</ci>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \log{\hat{\lambda}}\approx Z\,\sqrt{4/D}
  </annotation>
 </semantics>
</math>

. This relationship is useful when two of the quantities are known (e.g. from a published article), but the third one is needed.</li>
</ul>
<ul>
<li>The log-rank statistic can be used when observations are censored. If censored observations are not present in the data then the <a href="Wilcoxon_rank_sum_test" title="wikilink">Wilcoxon rank sum test</a> is appropriate.</li>
</ul>
<ul>
<li>The log-rank statistic gives all calculations the same weight, regardless of the time at which an event occurs. The <a href="Peto_log-rank_test" title="wikilink">Peto log-rank test</a> statistic gives more weight to earlier events when there are a large number of observations.</li>
</ul>
<h2 id="see-also">See also</h2>
<ul>
<li><a href="Kaplan–Meier_estimator" title="wikilink">Kaplan–Meier estimator</a></li>
<li><a href="Hazard_ratio" title="wikilink">Hazard ratio</a></li>
</ul>
<h2 id="references">References</h2>
<h2 id="further-reading">Further reading</h2>
<ul>
<li></li>
</ul>

<p>"</p>

<p><a href="Category:Survival_analysis" title="wikilink">Category:Survival analysis</a> <a href="Category:Statistical_tests" title="wikilink">Category:Statistical tests</a></p>
<section class="footnotes">
<hr/>
<ol>
<li id="fn1"><a href="#fnref1">↩</a></li>
<li id="fn2"><a href="#fnref2">↩</a></li>
<li id="fn3"><a href="#fnref3">↩</a></li>
<li id="fn4"><a href="#fnref4">↩</a></li>
<li id="fn5"><a href="#fnref5">↩</a></li>
</ol>
</section>
</body>
</html>
