   Complex logarithm      Complex logarithm   (Figure)  A single branch of the complex logarithm. The hue of the color is used to show the arg (polar coordinate angle) of the complex logarithm. The saturation and value (intensity and brightness) of the color is used to show the modulus of the complex logarithm. The image file's page shows the encoding of colors as a function of their complex values.   In complex analysis , a complex logarithm function is an " inverse " of the complex exponential function , just as the real natural logarithm ln x is the inverse of the real exponential function  e x . Thus, a logarithm of a complex number  z is a complex number w such that e w = z . 1 The notation for such a w is ln z or log z . Since every nonzero complex number z has infinitely many logarithms, 2 care is required to give such notation an unambiguous meaning.  If z = re iθ with r > 0 ( polar form ), then w = ln r + iθ is one logarithm of z; adding integer multiples of 2 πi gives all the others. 3  Problems with inverting the complex exponential function  (Figure)  A plot of the multi-valued imaginary part of the complex logarithm function, which shows the branches. As a complex number z goes around the origin, the imaginary part of the logarithm goes up or down. This makes the origin a branch point of the function.   For a function to have an inverse , it must map distinct values to distinct values , i.e., be injective . But the complex exponential function is not injective, because for any w , since adding iθ to w has the effect of rotating e w counterclockwise θ  radians . Even worse, the infinitely many numbers       …  ,   w  -   4  π  i    ,   w  -   2  π  i    ,  w  ,   w  +   2  π  i    ,   w  +   4  π  i    ,  …   ,     normal-…    w    4  π  i      w    2  π  i    w    w    2  π  i      w    4  π  i    normal-…    \ldots,\;w-4\pi i,\;w-2\pi i,\;w,\;w+2\pi i,\;w+4\pi i,\;\ldots,   forming a sequence of equally spaced points along a vertical line, are all mapped to the same number by the exponential function. So the exponential function does not have an inverse function in the standard sense. 4 5  There are two solutions to this problem.  One is to restrict the domain of the exponential function to a region that does not contain any two numbers differing by an integer multiple of 2πi : this leads naturally to the definition of branches of , which are certain functions that single out one logarithm of each number in their domains. This is analogous to the definition of on  as the inverse of the restriction of to the interval : there are infinitely many real numbers θ with , but one (somewhat arbitrarily) chooses the one in .  Another way to resolve the indeterminacy is to view the logarithm as a function whose domain is not a region in the complex plane , but a Riemann surface that covers the punctured complex plane in an infinite-to-1 way.  Branches have the advantage that they can be evaluated at complex numbers. On the other hand, the function on the Riemann surface is elegant in that it packages together all branches of  and does not require an arbitrary choice as part of its definition.  Definition of principal value  For each nonzero complex number z = x + yi , the principal value Log z is the logarithm whose imaginary part lies in the interval (− π , π ]. The expression Log 0 is left undefined since there is no complex number w satisfying e w = 0.  The principal value can be described also in a few other ways.  To give a formula for Log z , begin by expressing z in polar form , z = re iθ . Given z , the polar form is not quite unique, because of the possibility of adding an integer multiple of 2 π to θ , but it can be made unique by requiring θ to lie in the interval (− π , π ]; this θ is called the principal value of the argument, and is sometimes written Arg z or (especially in computer languages) atan2( y , x ) . Then the principal value of the logarithm 6 can be defined by          Log  z   :=    ln  r   +   i  θ    =    ln   |  z  |    +   i   Arg  z     =    ln     x  2   +   y  2      +   i   atan2   (  y  ,  x  )       .       assign   Log  z       ln  r     i  θ               z      i   Arg  z             ln       superscript  x  2    superscript  y  2        i   atan2  y  x        \operatorname{Log}z:=\text{ln }r+i\theta=\ln|z|+i\operatorname{Arg}z=%
 \operatorname{ln}\sqrt{x^{2}+y^{2}}+i\operatorname{atan2}(y,x).        For example, Log(-3 i ) = ln 3 − πi /2.  Another way to describe Log z is as the inverse of a restriction of the complex exponential function, as in the previous section. The horizontal strip S consisting of complex numbers w = x + yi such that − π \mathbb{C}^\times = \mathbb{C} - \{0\}, and the inverse of this restriction is    Log  :    ℂ  ×   →  S      normal-:  Log   normal-→   superscript  ℂ    S     \operatorname{Log}\colon\mathbb{C}^{\times}\to S   . The conformal mapping section below explains the geometric properties of this map in more detail.  When the notation log z appears without any particular logarithm having been specified, it is generally best to assume that the principal value is intended. In particular, this gives a value consistent with the real value of ln z when z is a positive real number. The capitalization in the notation Log is used by some authors 7 to distinguish the principal value from other logarithms of z .  Not all identities satisfied by ln extend to complex numbers. It is true that e Log z = z for all z ≠ 0 (this is what it means for Log z to be a logarithm of z ), but the identity Log e z = z fails for z outside the strip S . For this reason, one cannot always apply Log to both sides of an identity e z = e w to deduce z = w . Also, the identity Log( z 1 z 2 ) = Log z 1 + Log z 2 can fail: the two sides can differ by an integer multiple of 2 πi : for instance,          Log   (    (   -  1   )   i   )    =   Log   (   -  i   )    =    ln   (  1  )    -    π  i   2    =   -    π  i   2     ,         Log      1   i     Log    i             1       π  i   2               π  i   2       \operatorname{Log}((-1)i)=\operatorname{Log}(-i)=\ln(1)-\frac{\pi i}{2}=-\frac%
 {\pi i}{2},        but           Log   (   -  1   )    +   Log   (  i  )     =    (    ln   (  1  )    +   π  i    )   +   (    ln   (  1  )    +    π  i   2    )    =    3  π  i   2   ≠   -    π  i   2     .           Log    1     Log  i          1     π  i        1       π  i   2              3  π  i   2              π  i   2       \operatorname{Log}(-1)+\operatorname{Log}(i)=\left(\ln(1)+\pi i\right)+\left(%
 \ln(1)+\frac{\pi i}{2}\right)=\frac{3\pi i}{2}\neq-\frac{\pi i}{2}.         The function Log z is discontinuous at each negative real number, but continuous everywhere else in    ℂ  ×     superscript  ℂ     \mathbb{C}^{\times}   . To explain the discontinuity, consider what happens to Arg z as z approaches a negative real number a . If z approaches a from above, then Arg z approaches π , which is also the value of Arg a itself. But if z approaches a from below, then Arg z approaches − π . So Arg z "jumps" by 2 π as z crosses the negative real axis, and similarly Log z jumps by 2 πi .  Branches of the complex logarithm  Is there a different way to choose a logarithm of each nonzero complex number so as to make a function L ( z ) that is continuous on all of    ℂ  ×     superscript  ℂ     \mathbb{C}^{\times}   ? Unfortunately, the answer is no. To see why, imagine tracking such a logarithm function along the unit circle , by evaluating L at e iθ as θ increases from 0 to 2 π . For simplicity, suppose that the starting value L (1) is 0. Then for L ( z ) to be continuous, L ( e iθ ) must agree with iθ as θ increases (the difference is a continuous function of θ taking values in the discrete set    2  π  i  ℤ      2  π  i  ℤ    2\pi i\mathbb{Z}   ). In particular, L ( e 2 πi ) = 2 πi , but e 2 πi = 1, so this contradicts L (1) = 0.  To obtain a continuous logarithm defined on complex numbers, it is hence necessary to restrict the domain to a smaller subset U of the complex plane. Because one of the goals is to be able to differentiate the function, it is reasonable to assume that the function is defined on a neighborhood of each point of its domain; in other words, U should be an open set . Also, it is reasonable to assume that U is connected , since otherwise the function values on different components of U could be unrelated to each other. All this motivates the following definition:    A branch of log z is a continuous function  L ( z ) defined on a connected open subset  U of the complex plane such that L ( z ) is a logarithm of z for each z in U . 8      For example, the principal value defines a branch on the open set where it is continuous, which is the set    ℂ  -   ℝ    ≤  0        ℂ   subscript  ℝ    absent  0      \mathbb{C}-\mathbb{R}_{\leq 0}   obtained by removing 0 and all negative real numbers from the complex plane.  Another example: The Mercator series         \log(1+u)=\sum_{n=1}^\infty \frac{(-1)^{n+1}}{n} u^n = u - \frac{u^2}{2} + \frac{u^3}{3} - \cdots \, converges  locally uniformly for | u |  Another way to prove this is to check the Cauchy-Riemann equations in polar coordinates . 9  Constructing branches via integration  The function ln x for x > 0 can be constructed by the formula          ln  x   =    ∫  1  x      1  u    d  u     .        x     superscript   subscript   1   x       1  u   d  u      \ln x=\int_{1}^{x}\frac{1}{u}\,du.        If the range of integration started at a positive number a other than 1, the formula would have to be         ln  x   =    ln  a   +    ∫  a  x      1  u    d  u           x       a     superscript   subscript   a   x       1  u   d  u       \ln x=\ln a+\int_{a}^{x}\frac{1}{u}\,du        instead.  In developing the analogue for the complex logarithm, there is an additional complication: the definition of the complex integral requires a choice of path. Fortunately, if the integrand is holomorphic, then the value of the integral is unchanged by deforming the path (while holding the endpoints fixed), and in a simply connected region U (a region with "no holes") any path from a to z inside U can be continuously deformed inside U into any other. All this leads to the following:    If U is a simply connected open subset of   ℂ   ℂ   \mathbb{C}   not containing 0, then a branch of log z defined on U can be constructed by choosing a starting point a in U , choosing a logarithm b of a , and defining            L   (  z  )    :=   b  +    ∫  a  z      1  w    d  w        assign    L  z     b    superscript   subscript   a   z       1  w   d  w       L(z):=b+\int_{a}^{z}\frac{1}{w}\,dw          for each z in U . 10      The complex logarithm as a conformal map  (Figure)  The circles Re(Log z ) = constant and the rays Im(Log z ) = constant in the complex z -plane.   Any holomorphic map    f  :   U  →  ℂ      normal-:  f   normal-→  U  ℂ     f\colon U\to\mathbb{C}   satisfying      f  ′    (  z  )    ≠  0         superscript  f  normal-′   z   0    f^{\prime}(z)\neq 0   for all    z  ∈  U      z  U    z\in U   is a conformal map , which means that if two curves passing through a point a of U form an angle α (in the sense that the tangent lines to the curves at a form an angle α ), then the images of the two curves form the same angle α at f ( a ). Since a branch of log z is holomorphic , and since its derivative 1/ z is never 0, it defines a conformal map .  For example, the principal branch w = Log z , viewed as a mapping from    ℂ  -   ℝ    ≤  0        ℂ   subscript  ℝ    absent  0      \mathbb{C}-\mathbb{R}_{\leq 0}   to the horizontal strip defined by |Im z | Strictly speaking, the point on each circle on the negative real axis should be discarded, or the principal value should be used there. in the z -plane centered at 0 are mapped to vertical segments in the w -plane connecting a − πi to a + πi , where a is a real number depending on the radius of the circle.   Rays emanating from 0 in the z -plane are mapped to horizontal lines in the w -plane.   Each circle and ray in the z -plane as above meet at a right angle. Their images under Log are a vertical segment and a horizontal line (respectively) in the w -plane, and these too meet at a right angle. This is an illustration of the conformal property of Log.  The associated Riemann surface  (Figure)  A visualization of the Riemann surface of log z . The surface appears to spiral around a vertical line corresponding to the origin of the complex plane. The actual surface extends arbitrarily far both horizontally and vertically, but is cut off in this image.   Construction  The various branches of log z cannot be glued to give a single function    log  :    ℂ  ×   →  ℂ      normal-:    normal-→   superscript  ℂ    ℂ     \log\colon\mathbb{C}^{\times}\to\mathbb{C}   because two branches may give different values at a point where both are defined. Compare, for example, the principal branch Log( z ) on    ℂ  -   ℝ    ≤  0        ℂ   subscript  ℝ    absent  0      \mathbb{C}-\mathbb{R}_{\leq 0}   with imaginary part θ in (− π , π ) and the branch L ( z ) on    ℂ  -   ℝ    ≥  0        ℂ   subscript  ℝ    absent  0      \mathbb{C}-\mathbb{R}_{\geq 0}   whose imaginary part θ lies in (0,2 π ). These agree on the upper half plane , but not on the lower half plane. So it makes sense to glue the domains of these branches only along the copies of the upper half plane . The resulting glued domain is connected, but it has two copies of the lower half plane. Those two copies can be visualized as two levels of a parking garage, and one can get from the Log level of the lower half plane up to the L level of the lower half plane by going 360° counterclockwise around 0, first crossing the positive real axis (of the Log level) into the shared copy of the upper half plane and then crossing the negative real axis (of the L level) into the L level of the lower half plane.  One can continue by gluing branches with imaginary part θ in ( π ,3 π ), in (2 π ,4 π ), and so on, and in the other direction, branches with imaginary part θ in (−2 π ,0), in (−3 π ,− π ), and so on. The final result is a connected surface that can be viewed as a spiralling parking garage with infinitely many levels extending both upward and downward. This is the Riemann surface  R associated to log z .  A point on R can be thought of as a pair ( z , θ ) where θ is a possible value of the argument of z . In this way, R can be embedded in     ℂ  ×  ℝ   ≈   ℝ  3         ℂ  ℝ    superscript  ℝ  3     \mathbb{C}\times\mathbb{R}\approx\mathbb{R}^{3}   .  The logarithm function on the Riemann surface  Because the domains of the branches were glued only along open sets where their values agreed, the branches glue to give a single well-defined function     log  R   :   R  →  ℂ      normal-:   subscript   R    normal-→  R  ℂ     \log_{R}\colon R\to\mathbb{C}   . 11 It maps each point ( z , θ ) on R to ln | z | + iθ . This process of extending the original branch Log by gluing compatible holomorphic functions is known as analytic continuation .  There is a "projection map" from R down to    ℂ  ×     superscript  ℂ     \mathbb{C}^{\times}   that "flattens" the spiral, sending ( z , θ ) to z . For any    z  ∈   ℂ  ×       z   superscript  ℂ      z\in\mathbb{C}^{\times}   , if one takes all the points ( z , θ ) of R lying "directly above" z and evaluates log R at all these points, one gets all the logarithms of z .  Gluing all branches of log z  Instead of gluing only the branches chosen above, one can start with all branches of log z , and simultaneously glue every pair of branches     L  1   :    U  1   →  ℂ      normal-:   subscript  L  1    normal-→   subscript  U  1   ℂ     L_{1}\colon U_{1}\to\mathbb{C}   and     L  2   :    U  2   →  ℂ      normal-:   subscript  L  2    normal-→   subscript  U  2   ℂ     L_{2}\colon U_{2}\to\mathbb{C}   along the largest open subset of     U  1   ∩   U  2        subscript  U  1    subscript  U  2     U_{1}\cap U_{2}   on which L 1 and L 2 agree. This yields the same Riemann surface R and function log R as before. This approach, although slightly harder to visualize, is more natural in that it does not require selecting any particular branches.  If U ′ is an open subset of R projecting bijectively to its image U in    ℂ  ×     superscript  ℂ     \mathbb{C}^{\times}   , then the restriction of log R to U ′ corresponds to a branch of log z defined on U . Every branch of log z arises in this way.  The Riemann surface as a universal cover  The projection map    R  →   ℂ  ×      normal-→  R   superscript  ℂ      R\to\mathbb{C}^{\times}   realizes R as a covering space of    ℂ  ×     superscript  ℂ     \mathbb{C}^{\times}   . In fact, it is a Galois covering with deck transformation group isomorphic to   ℤ   ℤ   \mathbb{Z}   , generated by the homeomorphism sending ( z , θ ) to ( z , θ +2 π ).  As a complex manifold , R is biholomorphic with   ℂ   ℂ   \mathbb{C}   via log R . (The inverse map sends z to ( e z ,Im z ).) This shows that R is simply connected , so R is the universal cover of    ℂ  ×     superscript  ℂ     \mathbb{C}^{\times}   .  Applications   The complex logarithm is needed to define exponentation in which the base is a complex number. Namely, if a and b are complex numbers with a ≠ 0, one can use the principal value to define a b = e b Log a . One can also replace Log a by other logarithms of a to obtain other values of a b .  Since the mapping w = Log z transforms circles centered at 0 into vertical straight line segments, it is useful in engineering applications involving an annulus .   Generalizations  Logarithms to other bases  Just as for real numbers, one can define for complex numbers a and b         log  a   b   =     log  b    log  a      ,        subscript   a   b       b     a      \log_{a}b=\frac{\log b}{\log a}\,,   the only caveat being that its value depends on the choice of a branch of log defined at a and b (with log a ≠ 0). For example, using the principal value gives         log  i   e   =    ln  e    ln  i    =   1    π  i   /  2    =   -    2  i   π     .          subscript   i   e       e     i           1      π  i   2               2  i   π       \log_{i}e=\frac{\ln e}{\ln i}=\frac{1}{\pi i/2}=-\frac{2i}{\pi}.     Logarithms of holomorphic functions  If f is a holomorphic function on a connected open subset U of   ℂ   ℂ   \mathbb{C}   , then a branch of log f on U is a continuous function g on U such that e g ( z ) = f ( z ) for all z in U . Such a function g is necessarily holomorphic with g′ ( z ) = f′ ( z )/ f ( z ) for all z in U .  If U is a simply connected open subset of   ℂ   ℂ   \mathbb{C}   , and f is a nowhere-vanishing holomorphic function on U , then a branch of log f defined on U can be constructed by choosing a starting point a in U , choosing a logarithm b of f ( a ), and defining       g   (  z  )    :=   b  +    ∫  a  z        f  ′    (  w  )     f   (  w  )      d  w        assign    g  z     b    superscript   subscript   a   z          superscript  f  normal-′   w     f  w    d  w       g(z):=b+\int_{a}^{z}\frac{f^{\prime}(w)}{f(w)}\,dw     for each z in U . 12  See also   Logarithm  Discrete logarithm  Exponential function  Arg (mathematics)  Inverse trigonometric functions  Exponentiation  Branch cut  Conformal map  Analytic continuation   Notes  References   John B. Conway , Functions of One Complex Variable , 2nd edition, Springer, 1978.  Serge Lang , Complex Analysis , 3rd edition, Springer-Verlag, 1993.  Gino Moretti, Functions of a Complex Variable , Prentice-Hall, Inc., 1964.  Donald Sarason, [ http://books.google.com/books?id=FUWPyHM-XK0C&pg; ;=PA40&dq;=logarithm+intitle:Complex+intitle:function+intitle:theory+inauthor:sarason&lr;=&as;_brr=0&ei;=df4UScGONJ_EtAPZ5-XjCw Complex Function Theory] , 2nd edition, American Mathematical Society, 2007.  E. T. Whittaker and G. N. Watson , A Course in Modern Analysis , fourth edition, Cambridge University Press, 1927.   "  Category:Analytic functions  Category:Logarithms     Sarason, Section IV.9. ↩    Conway, p. 39. ↩  Another interpretation of this is that the "inverse" of the complex exponential function is a multivalued function taking each nonzero complex number z to the set of all logarithms of z . ↩      Lang, p. 121. ↩  The notations R and log R are not universally used. ↩      