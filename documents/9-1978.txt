   Direct linear transformation      Direct linear transformation   Direct linear transformation ( DLT ) is an algorithm which solves a set of variables from a set of similarity relations:       ğ±  k   âˆ    ğ€    ğ²  k       proportional-to   subscript  ğ±  k     ğ€   subscript  ğ²  k      \mathbf{x}_{k}\propto\mathbf{A}\,\mathbf{y}_{k}   for     k   =   1  ,  â€¦  ,  N       k   1  normal-â€¦  N     \,k=1,\ldots,N     where    ğ±  k     subscript  ğ±  k    \mathbf{x}_{k}   and    ğ²  k     subscript  ğ²  k    \mathbf{y}_{k}   are known vectors,   âˆ   proportional-to   \,\propto   denotes equality up to an unknown scalar multiplication, and   ğ€   ğ€   \mathbf{A}   is a matrix (or linear transformation) which contains the unknowns to be solved.  This type of relation appears frequently in projective geometry . Practical examples include the relation between 3D points in a scene and their projection onto the image plane of a pinhole camera , and homographies .  Introduction  An ordinary linear equation       ğ±  k   =    ğ€    ğ²  k         subscript  ğ±  k     ğ€   subscript  ğ²  k      \mathbf{x}_{k}=\mathbf{A}\,\mathbf{y}_{k}   for     k   =   1  ,  â€¦  ,  N       k   1  normal-â€¦  N     \,k=1,\ldots,N     can be solved, for example, by rewriting it as a matrix equation    ğ—  =    ğ€   ğ˜       ğ—    ğ€  ğ˜     \mathbf{X}=\mathbf{A}\,\mathbf{Y}   where matrices   ğ—   ğ—   \mathbf{X}   and   ğ˜   ğ˜   \mathbf{Y}   contain the vectors    ğ±  k     subscript  ğ±  k    \mathbf{x}_{k}   and    ğ²  k     subscript  ğ²  k    \mathbf{y}_{k}   in their respective columns. Given that there exists a unique solution, it is given by       ğ€  =    ğ—     ğ˜  T      (    ğ˜    ğ˜  T    )    -  1      .      ğ€    ğ—   superscript  ğ˜  T    superscript    ğ˜   superscript  ğ˜  T      1       \mathbf{A}=\mathbf{X}\,\mathbf{Y}^{T}\,(\mathbf{Y}\,\mathbf{Y}^{T})^{-1}.     Solutions can also be described in the case that the equations are over or under determined.  What makes the direct linear transformation problem distinct from the above standard case is the fact that the left and right sides of the defining equation can differ by an unknown multiplicative factor which is dependent on k . As a consequence,   ğ€   ğ€   \mathbf{A}   cannot be computed as in the standard case. Instead, the similarity relations are rewritten as proper linear homogeneous equations which then can be solved by a standard method. The combination of rewriting the similarity equations as homogeneous linear equations and solving them by standard methods is referred to as a direct linear transformation algorithm or DLT algorithm .  Example  Let     ğ±  k   âˆˆ   â„  2        subscript  ğ±  k    superscript  â„  2     \mathbf{x}_{k}\in\mathbb{R}^{2}   and     ğ²  k   âˆˆ   â„  3        subscript  ğ²  k    superscript  â„  3     \mathbf{y}_{k}\in\mathbb{R}^{3}   be two sets of known vectors and the problem is to find    2  Ã—  3      2  3    2\times 3   matrix   ğ€   ğ€   \mathbf{A}   such that         Î±  k     ğ±  k    =    ğ€    ğ²  k           subscript  Î±  k    subscript  ğ±  k      ğ€   subscript  ğ²  k      \alpha_{k}\,\mathbf{x}_{k}=\mathbf{A}\,\mathbf{y}_{k}   for     k   =   1  ,  â€¦  ,  N       k   1  normal-â€¦  N     \,k=1,\ldots,N     where     Î±  k   â‰   0       subscript  Î±  k   0    \alpha_{k}\neq 0   is the unknown scalar factor related to equation k .  To get rid of the unknown scalars and obtain homogeneous equations, define the anti-symmetric matrix      ğ‡  =   (     0     -  1       1    0     )       ğ‡    0    1     1  0      \mathbf{H}=\begin{pmatrix}0&-1\\
 1&0\end{pmatrix}     and multiply both sides of the equation with      ğ±  k  T    ğ‡       superscript   subscript  ğ±  k   T   ğ‡    \mathbf{x}_{k}^{T}\,\mathbf{H}   from the left         Î±  k      ğ±  k  T     ğ‡    ğ±  k    =     ğ±  k  T     ğ‡    ğ€    ğ²  k           subscript  Î±  k    superscript   subscript  ğ±  k   T   ğ‡   subscript  ğ±  k       superscript   subscript  ğ±  k   T   ğ‡  ğ€   subscript  ğ²  k      \alpha_{k}\,\mathbf{x}_{k}^{T}\,\mathbf{H}\,\mathbf{x}_{k}=\mathbf{x}_{k}^{T}%
 \,\mathbf{H}\,\mathbf{A}\,\mathbf{y}_{k}   for      k   =   1  ,  â€¦  ,  N    .      k   1  normal-â€¦  N     \,k=1,\ldots,N.     Since        ğ±  k  T     ğ‡    ğ±  k    =  0   ,         superscript   subscript  ğ±  k   T   ğ‡   subscript  ğ±  k    0    \mathbf{x}_{k}^{T}\,\mathbf{H}\,\mathbf{x}_{k}=0,   the following homogeneous equations, which no longer contain the unknown scalars, are at hand      0  =     ğ±  k  T     ğ‡    ğ€    ğ²  k        0     superscript   subscript  ğ±  k   T   ğ‡  ğ€   subscript  ğ²  k      0=\mathbf{x}_{k}^{T}\,\mathbf{H}\,\mathbf{A}\,\mathbf{y}_{k}   for      k   =   1  ,  â€¦  ,  N    .      k   1  normal-â€¦  N     \,k=1,\ldots,N.     In order to solve   ğ€   ğ€   \mathbf{A}   from this set of equations, consider the elements of the vectors    ğ±  k     subscript  ğ±  k    \mathbf{x}_{k}   and    ğ²  k     subscript  ğ²  k    \mathbf{y}_{k}   and matrix   ğ€   ğ€   \mathbf{A}   :       ğ±  k   =   (      x   1  k         x   2  k       )        subscript  ğ±  k      subscript  x    1  k       subscript  x    2  k        \mathbf{x}_{k}=\begin{pmatrix}x_{1k}\\
 x_{2k}\end{pmatrix}   ,     ğ²  k   =   (      y   1  k         y   2  k         y   3  k       )        subscript  ğ²  k      subscript  y    1  k       subscript  y    2  k       subscript  y    3  k        \mathbf{y}_{k}=\begin{pmatrix}y_{1k}\\
 y_{2k}\\
 y_{3k}\end{pmatrix}   , Â  and    ğ€  =   (      a  11      a  12      a  13        a  21      a  22      a  23      )       ğ€     subscript  a  11    subscript  a  12    subscript  a  13      subscript  a  21    subscript  a  22    subscript  a  23       \mathbf{A}=\begin{pmatrix}a_{11}&a_{12}&a_{13}\\
 a_{21}&a_{22}&a_{23}\end{pmatrix}     and the above homogeneous equation becomes      0  =          a  11      x   2  k      y   1  k     -     a  21      x   1  k      y   1  k      +     a  12      x   2  k      y   2  k      -     a  22      x   1  k      y   2  k      +     a  13      x   2  k      y   3  k      -     a  23      x   1  k      y   3  k          0               subscript  a  11    subscript  x    2  k     subscript  y    1  k        subscript  a  21    subscript  x    1  k     subscript  y    1  k         subscript  a  12    subscript  x    2  k     subscript  y    2  k         subscript  a  22    subscript  x    1  k     subscript  y    2  k         subscript  a  13    subscript  x    2  k     subscript  y    3  k         subscript  a  23    subscript  x    1  k     subscript  y    3  k        0=a_{11}\,x_{2k}\,y_{1k}-a_{21}\,x_{1k}\,y_{1k}+a_{12}\,x_{2k}\,y_{2k}-a_{22}%
 \,x_{1k}\,y_{2k}+a_{13}\,x_{2k}\,y_{3k}-a_{23}\,x_{1k}\,y_{3k}   for      k   =   1  ,  â€¦  ,  N    .      k   1  normal-â€¦  N     \,k=1,\ldots,N.     This can also be written      0  =     ğ›  k  T    ğš       0     superscript   subscript  ğ›  k   T   ğš     0=\mathbf{b}_{k}^{T}\,\mathbf{a}   for     k   =   1  ,  â€¦  ,  N       k   1  normal-â€¦  N     \,k=1,\ldots,N     where    ğ›  k     subscript  ğ›  k    \mathbf{b}_{k}   and   ğš   ğš   \mathbf{a}   both are 6-dimensional vectors defined as       ğ›  k   =   (        x   2  k      y   1  k          -     x   1  k      y   1  k             x   2  k      y   2  k          -     x   1  k      y   2  k             x   2  k      y   3  k          -     x   1  k      y   3  k         )        subscript  ğ›  k        subscript  x    2  k     subscript  y    1  k            subscript  x    1  k     subscript  y    1  k           subscript  x    2  k     subscript  y    2  k            subscript  x    1  k     subscript  y    2  k           subscript  x    2  k     subscript  y    3  k            subscript  x    1  k     subscript  y    3  k          \mathbf{b}_{k}=\begin{pmatrix}x_{2k}\,y_{1k}\\
 -x_{1k}\,y_{1k}\\
 x_{2k}\,y_{2k}\\
 -x_{1k}\,y_{2k}\\
 x_{2k}\,y_{3k}\\
 -x_{1k}\,y_{3k}\end{pmatrix}   and     ğš  =   (      a  11        a  21        a  12        a  22        a  13        a  23      )    .      ğš     subscript  a  11      subscript  a  21      subscript  a  12      subscript  a  22      subscript  a  13      subscript  a  23       \mathbf{a}=\begin{pmatrix}a_{11}\\
 a_{21}\\
 a_{12}\\
 a_{22}\\
 a_{13}\\
 a_{23}\end{pmatrix}.     This set of homogeneous equation can also be written in matrix form      ğŸ  =    ğ   ğš       0    ğ  ğš     \mathbf{0}=\mathbf{B}\,\mathbf{a}     where   ğ   ğ   \mathbf{B}   is a    N  Ã—  6      N  6    N\times 6   matrix which holds the vectors    ğ›  k     subscript  ğ›  k    \mathbf{b}_{k}   in its rows. This means that   ğš   ğš   \mathbf{a}   lies in the null space of   ğ   ğ   \mathbf{B}   and can be determined, for example, by a singular value decomposition of   ğ   ğ   \mathbf{B}   ;   ğš   ğš   \mathbf{a}   is a right singular vector of   ğ   ğ   \mathbf{B}   corresponding to a singular value that equals zero. Once   ğš   ğš   \mathbf{a}   has been determined, the elements of   ğ€   ğ€   \mathbf{A}   can be found by a simple rearrangement from a 6-dimensional vector to a    2  Ã—  3      2  3    2\times 3   matrix. Notice that the scaling of   ğš   ğš   \mathbf{a}   or   ğ€   ğ€   \mathbf{A}   is not important (except that it must be non-zero) since the defining equations already allow for unknown scaling.  In practice the vectors    ğ±  k     subscript  ğ±  k    \mathbf{x}_{k}   and    ğ²  k     subscript  ğ²  k    \mathbf{y}_{k}   may contain noise which means that the similarity equations are only approximately valid. As a consequence, there may not be a vector   ğš   ğš   \mathbf{a}   which solves the homogeneous equation    ğŸ  =    ğ   ğš       0    ğ  ğš     \mathbf{0}=\mathbf{B}\,\mathbf{a}   exactly. In these cases, a total least squares solution can be used by choosing   ğš   ğš   \mathbf{a}   as a right singular vector corresponding to the smallest singular value of    ğ  .    ğ   \mathbf{B}.     More general cases  The above example has     ğ±  k   âˆˆ   â„  2        subscript  ğ±  k    superscript  â„  2     \mathbf{x}_{k}\in\mathbb{R}^{2}   and     ğ²  k   âˆˆ   â„  3        subscript  ğ²  k    superscript  â„  3     \mathbf{y}_{k}\in\mathbb{R}^{3}   , but the general strategy for rewriting the similarity relations into homogeneous linear equations can be generalized to arbitrary dimensions for both    ğ±  k     subscript  ğ±  k    \mathbf{x}_{k}   and     ğ²  k   .     subscript  ğ²  k    \mathbf{y}_{k}.     If     ğ±  k   âˆˆ   â„  2        subscript  ğ±  k    superscript  â„  2     \mathbf{x}_{k}\in\mathbb{R}^{2}   and     ğ²  k   âˆˆ   â„  q        subscript  ğ²  k    superscript  â„  q     \mathbf{y}_{k}\in\mathbb{R}^{q}   the previous expressions can still lead to an equation      0  =     ğ±  k  T     ğ‡    ğ€    ğ²  k        0     superscript   subscript  ğ±  k   T   ğ‡  ğ€   subscript  ğ²  k      0=\mathbf{x}_{k}^{T}\,\mathbf{H}\,\mathbf{A}\,\mathbf{y}_{k}   for     k   =   1  ,  â€¦  ,  N       k   1  normal-â€¦  N     \,k=1,\ldots,N     where   ğ€   ğ€   \mathbf{A}   now is     2  Ã—  q   .      2  q    2\times q.   Each k provides one equation in the    2  q      2  q    2q   unknown elements of   ğ€   ğ€   \mathbf{A}   and together these equations can be written      ğ   ğš   =  ğŸ        ğ  ğš   0    \mathbf{B}\,\mathbf{a}=\mathbf{0}   for the known     N  Ã—   2    q        N  2   q    N\times 2\,q   matrix   ğ   ğ   \mathbf{B}   and unknown 2q -dimensional vector    ğš  .    ğš   \mathbf{a}.   This vector can be found in a similar way as before.  In the most general case     ğ±  k   âˆˆ   â„  p        subscript  ğ±  k    superscript  â„  p     \mathbf{x}_{k}\in\mathbb{R}^{p}   and     ğ²  k   âˆˆ   â„  q        subscript  ğ²  k    superscript  â„  q     \mathbf{y}_{k}\in\mathbb{R}^{q}   . The main difference compared to previously is that the matrix   ğ‡   ğ‡   \mathbf{H}   now is    p  Ã—  p      p  p    p\times p   and anti-symmetric. When    p  >  0      p  0    p>0   the space of such matrices is no longer one-dimensional, it is of dimension       M  =     p    (   p  -  1   )    2    .      M      p    p  1    2     M=\frac{p\,(p-1)}{2}.     This means that each value of k provides M homogeneous equations of the type      0  =     ğ±  k  T      ğ‡  m     ğ€    ğ²  k        0     superscript   subscript  ğ±  k   T    subscript  ğ‡  m   ğ€   subscript  ğ²  k      0=\mathbf{x}_{k}^{T}\,\mathbf{H}_{m}\,\mathbf{A}\,\mathbf{y}_{k}   for     m   =   1  ,  â€¦  ,  M       m   1  normal-â€¦  M     \,m=1,\ldots,M   and for     k   =   1  ,  â€¦  ,  N       k   1  normal-â€¦  N     \,k=1,\ldots,N     where    ğ‡  m     subscript  ğ‡  m    \mathbf{H}_{m}   is a M -dimensional basis of the space of    p  Ã—  p      p  p    p\times p   anti-symmetric matrices.  === Example p = 3 ===  In the case that p = 3 the following three matrices    ğ‡  m     subscript  ğ‡  m    \mathbf{H}_{m}   can be chosen       ğ‡  1   =   (     0    0    0      0    0     -  1       0    1    0     )        subscript  ğ‡  1     0  0  0    0  0    1     0  1  0      \mathbf{H}_{1}=\begin{pmatrix}0&0&0\\
 0&0&-1\\
 0&1&0\end{pmatrix}   ,     ğ‡  2   =   (     0    0    1      0    0    0       -  1     0    0     )        subscript  ğ‡  2     0  0  1    0  0  0      1   0  0      \mathbf{H}_{2}=\begin{pmatrix}0&0&1\\
 0&0&0\\
 -1&0&0\end{pmatrix}   ,      ğ‡  3   =   (     0     -  1     0      1    0    0      0    0    0     )    .       subscript  ğ‡  3     0    1   0    1  0  0    0  0  0      \mathbf{H}_{3}=\begin{pmatrix}0&-1&0\\
 1&0&0\\
 0&0&0\end{pmatrix}.     In this particular case, the homogeneous linear equations can be written as      ğŸ  =      [   ğ±  k   ]   Ã—     ğ€    ğ²  k        0     subscript   delimited-[]   subscript  ğ±  k      ğ€   subscript  ğ²  k      \mathbf{0}=[\mathbf{x}_{k}]_{\times}\,\mathbf{A}\,\mathbf{y}_{k}   for     k   =   1  ,  â€¦  ,  N       k   1  normal-â€¦  N     \,k=1,\ldots,N     where     [   ğ±  k   ]   Ã—     subscript   delimited-[]   subscript  ğ±  k       [\mathbf{x}_{k}]_{\times}   is the matrix representation of the vector cross product . Notice that this last equation is vector valued; the left hand side is the zero element in    â„  3     superscript  â„  3    \mathbb{R}^{3}   .  Each value of k provides three homogeneous linear equations in the unknown elements of   ğ€   ğ€   \mathbf{A}   . However, since     [   ğ±  k   ]   Ã—     subscript   delimited-[]   subscript  ğ±  k       [\mathbf{x}_{k}]_{\times}   has rank = 2, at most two equations are linearly independent. In practice, therefore, it is common to only use two of the three matrices    ğ‡  m     subscript  ğ‡  m    \mathbf{H}_{m}   , for example, for m =1, 2. However, the linear dependency between the equations is dependent on    ğ±  k     subscript  ğ±  k    \mathbf{x}_{k}   , which means that in unlucky cases it would have been better to choose, for example, m =2,3. As a consequence, if the number of equations is not a concern, it may be better to use all three equations when the matrix   ğ   ğ   \mathbf{B}   is constructed.  The linear dependence between the resulting homogeneous linear equations is a general concern for the case p > 2 and has to be dealt with either by reducing the set of anti-symmetric matrices    ğ‡  m     subscript  ğ‡  m    \mathbf{H}_{m}   or by allowing   ğ   ğ   \mathbf{B}   to become larger than necessary for determining    ğš  .    ğš   \mathbf{a}.     References     External links   Homography Estimation by Elan Dubrofsky (Â§2.1 sketches the "Basic DLT Algorithm")   "  Category:Geometry in computer vision  Category:Projective geometry   