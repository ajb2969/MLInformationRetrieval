   Direct linear transformation      Direct linear transformation   Direct linear transformation ( DLT ) is an algorithm which solves a set of variables from a set of similarity relations:       𝐱  k   ∝    𝐀    𝐲  k       proportional-to   subscript  𝐱  k     𝐀   subscript  𝐲  k      \mathbf{x}_{k}\propto\mathbf{A}\,\mathbf{y}_{k}   for     k   =   1  ,  …  ,  N       k   1  normal-…  N     \,k=1,\ldots,N     where    𝐱  k     subscript  𝐱  k    \mathbf{x}_{k}   and    𝐲  k     subscript  𝐲  k    \mathbf{y}_{k}   are known vectors,   ∝   proportional-to   \,\propto   denotes equality up to an unknown scalar multiplication, and   𝐀   𝐀   \mathbf{A}   is a matrix (or linear transformation) which contains the unknowns to be solved.  This type of relation appears frequently in projective geometry . Practical examples include the relation between 3D points in a scene and their projection onto the image plane of a pinhole camera , and homographies .  Introduction  An ordinary linear equation       𝐱  k   =    𝐀    𝐲  k         subscript  𝐱  k     𝐀   subscript  𝐲  k      \mathbf{x}_{k}=\mathbf{A}\,\mathbf{y}_{k}   for     k   =   1  ,  …  ,  N       k   1  normal-…  N     \,k=1,\ldots,N     can be solved, for example, by rewriting it as a matrix equation    𝐗  =    𝐀   𝐘       𝐗    𝐀  𝐘     \mathbf{X}=\mathbf{A}\,\mathbf{Y}   where matrices   𝐗   𝐗   \mathbf{X}   and   𝐘   𝐘   \mathbf{Y}   contain the vectors    𝐱  k     subscript  𝐱  k    \mathbf{x}_{k}   and    𝐲  k     subscript  𝐲  k    \mathbf{y}_{k}   in their respective columns. Given that there exists a unique solution, it is given by       𝐀  =    𝐗     𝐘  T      (    𝐘    𝐘  T    )    -  1      .      𝐀    𝐗   superscript  𝐘  T    superscript    𝐘   superscript  𝐘  T      1       \mathbf{A}=\mathbf{X}\,\mathbf{Y}^{T}\,(\mathbf{Y}\,\mathbf{Y}^{T})^{-1}.     Solutions can also be described in the case that the equations are over or under determined.  What makes the direct linear transformation problem distinct from the above standard case is the fact that the left and right sides of the defining equation can differ by an unknown multiplicative factor which is dependent on k . As a consequence,   𝐀   𝐀   \mathbf{A}   cannot be computed as in the standard case. Instead, the similarity relations are rewritten as proper linear homogeneous equations which then can be solved by a standard method. The combination of rewriting the similarity equations as homogeneous linear equations and solving them by standard methods is referred to as a direct linear transformation algorithm or DLT algorithm .  Example  Let     𝐱  k   ∈   ℝ  2        subscript  𝐱  k    superscript  ℝ  2     \mathbf{x}_{k}\in\mathbb{R}^{2}   and     𝐲  k   ∈   ℝ  3        subscript  𝐲  k    superscript  ℝ  3     \mathbf{y}_{k}\in\mathbb{R}^{3}   be two sets of known vectors and the problem is to find    2  ×  3      2  3    2\times 3   matrix   𝐀   𝐀   \mathbf{A}   such that         α  k     𝐱  k    =    𝐀    𝐲  k           subscript  α  k    subscript  𝐱  k      𝐀   subscript  𝐲  k      \alpha_{k}\,\mathbf{x}_{k}=\mathbf{A}\,\mathbf{y}_{k}   for     k   =   1  ,  …  ,  N       k   1  normal-…  N     \,k=1,\ldots,N     where     α  k   ≠  0       subscript  α  k   0    \alpha_{k}\neq 0   is the unknown scalar factor related to equation k .  To get rid of the unknown scalars and obtain homogeneous equations, define the anti-symmetric matrix      𝐇  =   (     0     -  1       1    0     )       𝐇    0    1     1  0      \mathbf{H}=\begin{pmatrix}0&-1\\
 1&0\end{pmatrix}     and multiply both sides of the equation with      𝐱  k  T    𝐇       superscript   subscript  𝐱  k   T   𝐇    \mathbf{x}_{k}^{T}\,\mathbf{H}   from the left         α  k      𝐱  k  T     𝐇    𝐱  k    =     𝐱  k  T     𝐇    𝐀    𝐲  k           subscript  α  k    superscript   subscript  𝐱  k   T   𝐇   subscript  𝐱  k       superscript   subscript  𝐱  k   T   𝐇  𝐀   subscript  𝐲  k      \alpha_{k}\,\mathbf{x}_{k}^{T}\,\mathbf{H}\,\mathbf{x}_{k}=\mathbf{x}_{k}^{T}%
 \,\mathbf{H}\,\mathbf{A}\,\mathbf{y}_{k}   for      k   =   1  ,  …  ,  N    .      k   1  normal-…  N     \,k=1,\ldots,N.     Since        𝐱  k  T     𝐇    𝐱  k    =  0   ,         superscript   subscript  𝐱  k   T   𝐇   subscript  𝐱  k    0    \mathbf{x}_{k}^{T}\,\mathbf{H}\,\mathbf{x}_{k}=0,   the following homogeneous equations, which no longer contain the unknown scalars, are at hand      0  =     𝐱  k  T     𝐇    𝐀    𝐲  k        0     superscript   subscript  𝐱  k   T   𝐇  𝐀   subscript  𝐲  k      0=\mathbf{x}_{k}^{T}\,\mathbf{H}\,\mathbf{A}\,\mathbf{y}_{k}   for      k   =   1  ,  …  ,  N    .      k   1  normal-…  N     \,k=1,\ldots,N.     In order to solve   𝐀   𝐀   \mathbf{A}   from this set of equations, consider the elements of the vectors    𝐱  k     subscript  𝐱  k    \mathbf{x}_{k}   and    𝐲  k     subscript  𝐲  k    \mathbf{y}_{k}   and matrix   𝐀   𝐀   \mathbf{A}   :       𝐱  k   =   (      x   1  k         x   2  k       )        subscript  𝐱  k      subscript  x    1  k       subscript  x    2  k        \mathbf{x}_{k}=\begin{pmatrix}x_{1k}\\
 x_{2k}\end{pmatrix}   ,     𝐲  k   =   (      y   1  k         y   2  k         y   3  k       )        subscript  𝐲  k      subscript  y    1  k       subscript  y    2  k       subscript  y    3  k        \mathbf{y}_{k}=\begin{pmatrix}y_{1k}\\
 y_{2k}\\
 y_{3k}\end{pmatrix}   ,   and    𝐀  =   (      a  11      a  12      a  13        a  21      a  22      a  23      )       𝐀     subscript  a  11    subscript  a  12    subscript  a  13      subscript  a  21    subscript  a  22    subscript  a  23       \mathbf{A}=\begin{pmatrix}a_{11}&a_{12}&a_{13}\\
 a_{21}&a_{22}&a_{23}\end{pmatrix}     and the above homogeneous equation becomes      0  =          a  11      x   2  k      y   1  k     -     a  21      x   1  k      y   1  k      +     a  12      x   2  k      y   2  k      -     a  22      x   1  k      y   2  k      +     a  13      x   2  k      y   3  k      -     a  23      x   1  k      y   3  k          0               subscript  a  11    subscript  x    2  k     subscript  y    1  k        subscript  a  21    subscript  x    1  k     subscript  y    1  k         subscript  a  12    subscript  x    2  k     subscript  y    2  k         subscript  a  22    subscript  x    1  k     subscript  y    2  k         subscript  a  13    subscript  x    2  k     subscript  y    3  k         subscript  a  23    subscript  x    1  k     subscript  y    3  k        0=a_{11}\,x_{2k}\,y_{1k}-a_{21}\,x_{1k}\,y_{1k}+a_{12}\,x_{2k}\,y_{2k}-a_{22}%
 \,x_{1k}\,y_{2k}+a_{13}\,x_{2k}\,y_{3k}-a_{23}\,x_{1k}\,y_{3k}   for      k   =   1  ,  …  ,  N    .      k   1  normal-…  N     \,k=1,\ldots,N.     This can also be written      0  =     𝐛  k  T    𝐚       0     superscript   subscript  𝐛  k   T   𝐚     0=\mathbf{b}_{k}^{T}\,\mathbf{a}   for     k   =   1  ,  …  ,  N       k   1  normal-…  N     \,k=1,\ldots,N     where    𝐛  k     subscript  𝐛  k    \mathbf{b}_{k}   and   𝐚   𝐚   \mathbf{a}   both are 6-dimensional vectors defined as       𝐛  k   =   (        x   2  k      y   1  k          -     x   1  k      y   1  k             x   2  k      y   2  k          -     x   1  k      y   2  k             x   2  k      y   3  k          -     x   1  k      y   3  k         )        subscript  𝐛  k        subscript  x    2  k     subscript  y    1  k            subscript  x    1  k     subscript  y    1  k           subscript  x    2  k     subscript  y    2  k            subscript  x    1  k     subscript  y    2  k           subscript  x    2  k     subscript  y    3  k            subscript  x    1  k     subscript  y    3  k          \mathbf{b}_{k}=\begin{pmatrix}x_{2k}\,y_{1k}\\
 -x_{1k}\,y_{1k}\\
 x_{2k}\,y_{2k}\\
 -x_{1k}\,y_{2k}\\
 x_{2k}\,y_{3k}\\
 -x_{1k}\,y_{3k}\end{pmatrix}   and     𝐚  =   (      a  11        a  21        a  12        a  22        a  13        a  23      )    .      𝐚     subscript  a  11      subscript  a  21      subscript  a  12      subscript  a  22      subscript  a  13      subscript  a  23       \mathbf{a}=\begin{pmatrix}a_{11}\\
 a_{21}\\
 a_{12}\\
 a_{22}\\
 a_{13}\\
 a_{23}\end{pmatrix}.     This set of homogeneous equation can also be written in matrix form      𝟎  =    𝐁   𝐚       0    𝐁  𝐚     \mathbf{0}=\mathbf{B}\,\mathbf{a}     where   𝐁   𝐁   \mathbf{B}   is a    N  ×  6      N  6    N\times 6   matrix which holds the vectors    𝐛  k     subscript  𝐛  k    \mathbf{b}_{k}   in its rows. This means that   𝐚   𝐚   \mathbf{a}   lies in the null space of   𝐁   𝐁   \mathbf{B}   and can be determined, for example, by a singular value decomposition of   𝐁   𝐁   \mathbf{B}   ;   𝐚   𝐚   \mathbf{a}   is a right singular vector of   𝐁   𝐁   \mathbf{B}   corresponding to a singular value that equals zero. Once   𝐚   𝐚   \mathbf{a}   has been determined, the elements of   𝐀   𝐀   \mathbf{A}   can be found by a simple rearrangement from a 6-dimensional vector to a    2  ×  3      2  3    2\times 3   matrix. Notice that the scaling of   𝐚   𝐚   \mathbf{a}   or   𝐀   𝐀   \mathbf{A}   is not important (except that it must be non-zero) since the defining equations already allow for unknown scaling.  In practice the vectors    𝐱  k     subscript  𝐱  k    \mathbf{x}_{k}   and    𝐲  k     subscript  𝐲  k    \mathbf{y}_{k}   may contain noise which means that the similarity equations are only approximately valid. As a consequence, there may not be a vector   𝐚   𝐚   \mathbf{a}   which solves the homogeneous equation    𝟎  =    𝐁   𝐚       0    𝐁  𝐚     \mathbf{0}=\mathbf{B}\,\mathbf{a}   exactly. In these cases, a total least squares solution can be used by choosing   𝐚   𝐚   \mathbf{a}   as a right singular vector corresponding to the smallest singular value of    𝐁  .    𝐁   \mathbf{B}.     More general cases  The above example has     𝐱  k   ∈   ℝ  2        subscript  𝐱  k    superscript  ℝ  2     \mathbf{x}_{k}\in\mathbb{R}^{2}   and     𝐲  k   ∈   ℝ  3        subscript  𝐲  k    superscript  ℝ  3     \mathbf{y}_{k}\in\mathbb{R}^{3}   , but the general strategy for rewriting the similarity relations into homogeneous linear equations can be generalized to arbitrary dimensions for both    𝐱  k     subscript  𝐱  k    \mathbf{x}_{k}   and     𝐲  k   .     subscript  𝐲  k    \mathbf{y}_{k}.     If     𝐱  k   ∈   ℝ  2        subscript  𝐱  k    superscript  ℝ  2     \mathbf{x}_{k}\in\mathbb{R}^{2}   and     𝐲  k   ∈   ℝ  q        subscript  𝐲  k    superscript  ℝ  q     \mathbf{y}_{k}\in\mathbb{R}^{q}   the previous expressions can still lead to an equation      0  =     𝐱  k  T     𝐇    𝐀    𝐲  k        0     superscript   subscript  𝐱  k   T   𝐇  𝐀   subscript  𝐲  k      0=\mathbf{x}_{k}^{T}\,\mathbf{H}\,\mathbf{A}\,\mathbf{y}_{k}   for     k   =   1  ,  …  ,  N       k   1  normal-…  N     \,k=1,\ldots,N     where   𝐀   𝐀   \mathbf{A}   now is     2  ×  q   .      2  q    2\times q.   Each k provides one equation in the    2  q      2  q    2q   unknown elements of   𝐀   𝐀   \mathbf{A}   and together these equations can be written      𝐁   𝐚   =  𝟎        𝐁  𝐚   0    \mathbf{B}\,\mathbf{a}=\mathbf{0}   for the known     N  ×   2    q        N  2   q    N\times 2\,q   matrix   𝐁   𝐁   \mathbf{B}   and unknown 2q -dimensional vector    𝐚  .    𝐚   \mathbf{a}.   This vector can be found in a similar way as before.  In the most general case     𝐱  k   ∈   ℝ  p        subscript  𝐱  k    superscript  ℝ  p     \mathbf{x}_{k}\in\mathbb{R}^{p}   and     𝐲  k   ∈   ℝ  q        subscript  𝐲  k    superscript  ℝ  q     \mathbf{y}_{k}\in\mathbb{R}^{q}   . The main difference compared to previously is that the matrix   𝐇   𝐇   \mathbf{H}   now is    p  ×  p      p  p    p\times p   and anti-symmetric. When    p  >  0      p  0    p>0   the space of such matrices is no longer one-dimensional, it is of dimension       M  =     p    (   p  -  1   )    2    .      M      p    p  1    2     M=\frac{p\,(p-1)}{2}.     This means that each value of k provides M homogeneous equations of the type      0  =     𝐱  k  T      𝐇  m     𝐀    𝐲  k        0     superscript   subscript  𝐱  k   T    subscript  𝐇  m   𝐀   subscript  𝐲  k      0=\mathbf{x}_{k}^{T}\,\mathbf{H}_{m}\,\mathbf{A}\,\mathbf{y}_{k}   for     m   =   1  ,  …  ,  M       m   1  normal-…  M     \,m=1,\ldots,M   and for     k   =   1  ,  …  ,  N       k   1  normal-…  N     \,k=1,\ldots,N     where    𝐇  m     subscript  𝐇  m    \mathbf{H}_{m}   is a M -dimensional basis of the space of    p  ×  p      p  p    p\times p   anti-symmetric matrices.  === Example p = 3 ===  In the case that p = 3 the following three matrices    𝐇  m     subscript  𝐇  m    \mathbf{H}_{m}   can be chosen       𝐇  1   =   (     0    0    0      0    0     -  1       0    1    0     )        subscript  𝐇  1     0  0  0    0  0    1     0  1  0      \mathbf{H}_{1}=\begin{pmatrix}0&0&0\\
 0&0&-1\\
 0&1&0\end{pmatrix}   ,     𝐇  2   =   (     0    0    1      0    0    0       -  1     0    0     )        subscript  𝐇  2     0  0  1    0  0  0      1   0  0      \mathbf{H}_{2}=\begin{pmatrix}0&0&1\\
 0&0&0\\
 -1&0&0\end{pmatrix}   ,      𝐇  3   =   (     0     -  1     0      1    0    0      0    0    0     )    .       subscript  𝐇  3     0    1   0    1  0  0    0  0  0      \mathbf{H}_{3}=\begin{pmatrix}0&-1&0\\
 1&0&0\\
 0&0&0\end{pmatrix}.     In this particular case, the homogeneous linear equations can be written as      𝟎  =      [   𝐱  k   ]   ×     𝐀    𝐲  k        0     subscript   delimited-[]   subscript  𝐱  k      𝐀   subscript  𝐲  k      \mathbf{0}=[\mathbf{x}_{k}]_{\times}\,\mathbf{A}\,\mathbf{y}_{k}   for     k   =   1  ,  …  ,  N       k   1  normal-…  N     \,k=1,\ldots,N     where     [   𝐱  k   ]   ×     subscript   delimited-[]   subscript  𝐱  k       [\mathbf{x}_{k}]_{\times}   is the matrix representation of the vector cross product . Notice that this last equation is vector valued; the left hand side is the zero element in    ℝ  3     superscript  ℝ  3    \mathbb{R}^{3}   .  Each value of k provides three homogeneous linear equations in the unknown elements of   𝐀   𝐀   \mathbf{A}   . However, since     [   𝐱  k   ]   ×     subscript   delimited-[]   subscript  𝐱  k       [\mathbf{x}_{k}]_{\times}   has rank = 2, at most two equations are linearly independent. In practice, therefore, it is common to only use two of the three matrices    𝐇  m     subscript  𝐇  m    \mathbf{H}_{m}   , for example, for m =1, 2. However, the linear dependency between the equations is dependent on    𝐱  k     subscript  𝐱  k    \mathbf{x}_{k}   , which means that in unlucky cases it would have been better to choose, for example, m =2,3. As a consequence, if the number of equations is not a concern, it may be better to use all three equations when the matrix   𝐁   𝐁   \mathbf{B}   is constructed.  The linear dependence between the resulting homogeneous linear equations is a general concern for the case p > 2 and has to be dealt with either by reducing the set of anti-symmetric matrices    𝐇  m     subscript  𝐇  m    \mathbf{H}_{m}   or by allowing   𝐁   𝐁   \mathbf{B}   to become larger than necessary for determining    𝐚  .    𝐚   \mathbf{a}.     References     External links   Homography Estimation by Elan Dubrofsky (§2.1 sketches the "Basic DLT Algorithm")   "  Category:Geometry in computer vision  Category:Projective geometry   