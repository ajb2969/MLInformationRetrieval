   Step response      Step response   (Figure)  A typical step response for a second order system, illustrating overshoot , followed by ringing , all subsiding within a settling time .   The step response of a system in a given initial state consists of the time evolution of its outputs when its control inputs are Heaviside step functions . In electronic engineering and control theory , step response is the time behaviour of the outputs of a general system when its inputs change from zero to one in a very short time. The concept can be extended to the abstract mathematical notion of a dynamical system using an evolution parameter .  From a practical standpoint, knowing how the system responds to a sudden input is important because large and possibly fast deviations from the long term steady state may have extreme effects on the component itself and on other portions of the overall system dependent on this component. In addition, the overall system cannot act until the component's output settles down to some vicinity of its final state, delaying the overall system response. Formally, knowing the step response of a dynamical system gives information on the stability of such a system, and on its ability to reach one stationary state when starting from another.  Time domain versus frequency domain  Instead of frequency response, system performance may be specified in terms of parameters describing time-dependence of response. The step response can be described by the following quantities related to its time behavior ,   overshoot  rise time  settling time  ringing   In the case of linear dynamic systems, much can be inferred about the system from these characteristics. Below the step response of a simple two-pole amplifier is presented, and some of these terms are illustrated.  Step response of feedback amplifiers  (Figure)  Figure 1: Ideal negative feedback model; open loop gain is A OL and feedback factor is β.   This section describes the step response of a simple negative feedback amplifier shown in Figure 1. The feedback amplifier consists of a main open-loop amplifier of gain A OL and a feedback loop governed by a feedback factor β. This feedback amplifier is analyzed to determine how its step response depends upon the time constants governing the response of the main amplifier, and upon the amount of feedback used.  A negative-feedback amplifier has gain given by (see negative feedback amplifier ):        A   F  B    =    A   O  L     1  +   β   A   O  L        ,       subscript  A    F  B       subscript  A    O  L      1    β   subscript  A    O  L         A_{FB}=\frac{A_{OL}}{1+\beta A_{OL}},     where A OL = open-loop gain, A FB = closed-loop gain (the gain with negative feedback present) and β = feedback factor .  With one dominant pole  In many cases, the forward amplifier can be sufficiently well modeled in terms of a single dominant pole of time constant τ, that it, as an open-loop gain given by:        A   O  L    =    A  0    1  +   j  ω  τ      ,       subscript  A    O  L       subscript  A  0     1    j  ω  τ       A_{OL}=\frac{A_{0}}{1+j\omega\tau},     with zero-frequency gain A 0 and angular frequency ω = 2π f . This forward amplifier has unit step response        S   O  L     (  t  )    =    A  0    (   1  -   e   -   t  /  τ      )           subscript  S    O  L    t      subscript  A  0     1   superscript  e      t  τ         S_{OL}(t)=A_{0}(1-e^{-t/\tau})   ,  an exponential approach from 0 toward the new equilibrium value of A 0 .  The one-pole amplifier's transfer function leads to the closed-loop gain:       A   F  B    =    A  0    1  +   β   A  0           subscript  A    F  B       subscript  A  0     1    β   subscript  A  0        A_{FB}=\frac{A_{0}}{1+\beta A_{0}}   •      1   1  +   j  ω   τ   1  +   β   A  0         .       1    1    j  ω    τ    1    β   subscript  A  0          \ \frac{1}{1+j\omega\frac{\tau}{1+\beta A_{0}}}.     This closed-loop gain is of the same form as the open-loop gain: a one-pole filter. Its step response is of the same form: an exponential decay toward the new equilibrium value. But the time constant of the closed-loop step function is τ / (1 + β A 0 ), so it is faster than the forward amplifier's response by a factor of 1 + β A 0 :        S   F  B     (  t  )    =     A  0    1  +   β   A  0       (   1  -   e   -    t   (   1  +   β   A  0     )    /  τ      )           subscript  S    F  B    t        subscript  A  0     1    β   subscript  A  0        1   superscript  e        t    1    β   subscript  A  0      τ         S_{FB}(t)=\frac{A_{0}}{1+\beta A_{0}}(1-e^{-t(1+\beta A_{0})/\tau})   ,  As the feedback factor β is increased, the step response will get faster, until the original assumption of one dominant pole is no longer accurate. If there is a second pole, then as the closed-loop time constant approaches the time constant of the second pole, a two-pole analysis is needed.  Two-pole amplifiers  In the case that the open-loop gain has two poles (two time constants , τ 1 , τ 2 ), the step response is a bit more complicated. The open-loop gain is given by:        A   O  L    =    A  0     (   1  +   j  ω   τ  1     )    (   1  +   j  ω   τ  2     )      ,       subscript  A    O  L       subscript  A  0       1    j  ω   subscript  τ  1       1    j  ω   subscript  τ  2         A_{OL}=\frac{A_{0}}{(1+j\omega\tau_{1})(1+j\omega\tau_{2})},     with zero-frequency gain A 0 and angular frequency ω = 2π f .  Analysis  The two-pole amplifier's transfer function leads to the closed-loop gain:       A   F  B    =    A  0    1  +   β   A  0           subscript  A    F  B       subscript  A  0     1    β   subscript  A  0        A_{FB}=\frac{A_{0}}{1+\beta A_{0}}   •      1   1  +   j  ω     τ  1   +   τ  2     1  +   β   A  0       +     (   j  ω   )   2      τ  1    τ  2     1  +   β   A  0         .       1    1    j  ω       subscript  τ  1    subscript  τ  2      1    β   subscript  A  0          superscript    j  ω   2        subscript  τ  1    subscript  τ  2      1    β   subscript  A  0          \ \frac{1}{1+j\omega\frac{\tau_{1}+\tau_{2}}{1+\beta A_{0}}+(j\omega)^{2}\frac%
 {\tau_{1}\tau_{2}}{1+\beta A_{0}}}.     (Figure)  Figure 2: Conjugate pole locations for a two-pole feedback amplifier; Re (s) = real axis and Im (s) = imaginary axis.   The time dependence of the amplifier is easy to discover by switching variables to s = j ω, whereupon the gain becomes:       A   F  B    =    A  0     τ  1    τ  2          subscript  A    F  B       subscript  A  0      subscript  τ  1    subscript  τ  2       A_{FB}=\frac{A_{0}}{\tau_{1}\tau_{2}}   •    1    s  2   +   s   (    1   τ  1    +   1   τ  2     )    +    1  +   β   A  0       τ  1    τ  2          1     superscript  s  2     s      1   subscript  τ  1      1   subscript  τ  2          1    β   subscript  A  0        subscript  τ  1    subscript  τ  2        \frac{1}{s^{2}+s\left(\frac{1}{\tau_{1}}+\frac{1}{\tau_{2}}\right)+\frac{1+%
 \beta A_{0}}{\tau_{1}\tau_{2}}}     The poles of this expression (that is, the zeros of the denominator) occur at:       2  s   =   -   (    1   τ  1    +   1   τ  2     )          2  s         1   subscript  τ  1      1   subscript  τ  2        2s=-\left(\frac{1}{\tau_{1}}+\frac{1}{\tau_{2}}\right)            ±      (    1   τ  1    -   1   τ  2     )   2   -    4  β   A  0      τ  1    τ  2        ,     plus-or-minus       superscript      1   subscript  τ  1      1   subscript  τ  2     2       4  β   subscript  A  0       subscript  τ  1    subscript  τ  2         \pm\sqrt{\left(\frac{1}{\tau_{1}}-\frac{1}{\tau_{2}}\right)^{2}-\frac{4\beta A%
 _{0}}{\tau_{1}\tau_{2}}},        which shows for large enough values of βA'' 0 the square root becomes the square root of a negative number, that is the square root becomes imaginary, and the pole positions are complex conjugate numbers, either s + or s − ; see Figure 2:        s  ±   =    -  ρ   ±   j  μ     ,       subscript  s  plus-or-minus    plus-or-minus    ρ     j  μ      s_{\pm}=-\rho\pm j\mu,\,     with         ρ  =    1  2    (    1   τ  1    +   1   τ  2     )     ,      ρ      1  2       1   subscript  τ  1      1   subscript  τ  2        \rho=\frac{1}{2}\left(\frac{1}{\tau_{1}}+\frac{1}{\tau_{2}}\right),        and         μ  =    1  2       4  β   A  0      τ  1    τ  2     -    (    1   τ  1    -   1   τ  2     )   2       .      μ      1  2           4  β   subscript  A  0       subscript  τ  1    subscript  τ  2      superscript      1   subscript  τ  1      1   subscript  τ  2     2        \mu=\frac{1}{2}\sqrt{\frac{4\beta A_{0}}{\tau_{1}\tau_{2}}-\left(\frac{1}{\tau%
 _{1}}-\frac{1}{\tau_{2}}\right)^{2}}.        Using polar coordinates with the magnitude of the radius to the roots given by | s | (Figure 2):        |  s  |   =   |   s  ±   |   =     ρ  2   +   μ  2      ,          s      subscript  s  plus-or-minus              superscript  ρ  2    superscript  μ  2        |s|=|s_{\pm}|=\sqrt{\rho^{2}+\mu^{2}},     and the angular coordinate φ is given by:         cos  ϕ   =   ρ   |  s  |     ,    sin  ϕ   =   μ   |  s  |      .     formulae-sequence      ϕ     ρ    s         ϕ     μ    s       \cos\phi=\frac{\rho}{|s|},\sin\phi=\frac{\mu}{|s|}.   Tables of Laplace transforms show that the time response of such a system is composed of combinations of the two functions:           e   -   ρ  t      sin   (   μ  t   )     and         superscript  e      ρ  t         μ  t     and    e^{-\rho t}\sin(\mu t)\quad\text{and}\quad         e   -   ρ  t      cos   (   μ  t   )     ,       superscript  e      ρ  t         μ  t      e^{-\rho t}\cos(\mu t),        which is to say, the solutions are damped oscillations in time. In particular, the unit step response of the system is: 1        S   (  t  )    =    (    A  0    1  +   β   A  0      )    (   1  -     e   -   ρ  t        sin   (    μ  t   +  ϕ   )     sin   (  ϕ  )       )     ,        S  t        subscript  A  0     1    β   subscript  A  0        1     superscript  e      ρ  t             μ  t   ϕ      ϕ         S(t)=\left(\frac{A_{0}}{1+\beta A_{0}}\right)\left(1-e^{-\rho t}\ \frac{\sin%
 \left(\mu t+\phi\right)}{\sin(\phi)}\right)\ ,     which simplifies to       S   (  t  )    =   1  -     e   -   ρ  t        sin   (    μ  t   +  ϕ   )     sin   (  ϕ  )             S  t     1     superscript  e      ρ  t             μ  t   ϕ      ϕ        S(t)=1-e^{-\rho t}\ \frac{\sin\left(\mu t+\phi\right)}{\sin(\phi)}     when A 0 tends to infinity and the feedback factor β is one.  Notice that the damping of the response is set by ρ, that is, by the time constants of the open-loop amplifier. In contrast, the frequency of oscillation is set by μ, that is, by the feedback parameter through β A 0 . Because ρ is a sum of reciprocals of time constants, it is interesting to notice that ρ is dominated by the shorter of the two.  Results  Figure 3 shows the time response to a unit step input for three values of the parameter μ. It can be seen that the frequency of oscillation increases with μ, but the oscillations are contained between the two asymptotes set by the exponentials [ 1 − exp (−ρt) ] and [ 1 + exp(−ρt) ]. These asymptotes are determined by ρ and therefore by the time constants of the open-loop amplifier, independent of feedback.  The phenomena of oscillation about final value is called ringing . The overshoot is the maximum swing above final value, and clearly increases with μ. Likewise, the undershoot is the minimum swing below final value, again increasing with μ. The settling time is the time for departures from final value to sink below some specified level, say 10% of final value.  The dependence of settling time upon μ is not obvious, and the approximation of a two-pole system probably is not accurate enough to make any real-world conclusions about feedback dependence of settling time. However, the asymptotes [ 1 − exp (−ρt) ] and [ 1 + exp (−ρt) ] clearly impact settling time, and they are controlled by the time constants of the open-loop amplifier, particularly the shorter of the two time constants. That suggests that a specification on settling time must be met by appropriate design of the open-loop amplifier.  The two major conclusions from this analysis are:   Feedback controls the amplitude of oscillation about final value for a given open-loop amplifier and given values of open-loop time constants, τ 1 and τ 2 .  The open-loop amplifier decides settling time. It sets the time scale of Figure 3, and the faster the open-loop amplifier, the faster this time scale.   As an aside, it may be noted that real-world departures from this linear two-pole model occur due to two major complications: first, real amplifiers have more than two poles, as well as zeros; and second, real amplifiers are nonlinear, so their step response changes with signal amplitude.  Control of overshoot  How overshoot may be controlled by appropriate parameter choices is discussed next.  Using the equations above, the amount of overshoot can be found by differentiating the step response and finding its maximum value. The result for maximum step response S max is: 2        S  max   =   1  +   exp   (   -   π   ρ  μ     )      .       subscript  S      1        π    ρ  μ         S_{\max}=1+\exp\left(-\pi\frac{\rho}{\mu}\right).     The final value of the step response is 1, so the exponential is the actual overshoot itself. It is clear the overshoot is zero if μ = 0, which is the condition:         4  β   A  0      τ  1    τ  2     =    (    1   τ  1    -   1   τ  2     )   2    .          4  β   subscript  A  0       subscript  τ  1    subscript  τ  2      superscript      1   subscript  τ  1      1   subscript  τ  2     2     \frac{4\beta A_{0}}{\tau_{1}\tau_{2}}=\left(\frac{1}{\tau_{1}}-\frac{1}{\tau_{%
 2}}\right)^{2}.     This quadratic is solved for the ratio of time constants by setting x = ( τ 1 / τ 2 ) 1 / 2 with the result       x  =     β   A  0     +     β   A  0    +  1      .      x        β   subscript  A  0           β   subscript  A  0    1       x=\sqrt{\beta A_{0}}+\sqrt{\beta A_{0}+1}.\,     Because β A 0 >> 1, the 1 in the square root can be dropped, and the result is         τ  1    τ  2    =   4  β   A  0     .         subscript  τ  1    subscript  τ  2      4  β   subscript  A  0      \frac{\tau_{1}}{\tau_{2}}=4\beta A_{0}.     In words, the first time constant must be much larger than the second. To be more adventurous than a design allowing for no overshoot we can introduce a factor α in the above relation:         τ  1    τ  2    =   α  β   A  0     ,         subscript  τ  1    subscript  τ  2      α  β   subscript  A  0      \frac{\tau_{1}}{\tau_{2}}=\alpha\beta A_{0},     and let α be set by the amount of overshoot that is acceptable.  Figure 4 illustrates the procedure. Comparing the top panel (α = 4) with the lower panel (α = 0.5) shows lower values for α increase the rate of response, but increase overshoot. The case α = 2 (center panel) is the maximally flat design that shows no peaking in the Bode gain vs. frequency plot . That design has the rule of thumb built-in safety margin to deal with non-ideal realities like multiple poles (or zeros), nonlinearity (signal amplitude dependence) and manufacturing variations, any of which can lead to too much overshoot. The adjustment of the pole separation (that is, setting α) is the subject of frequency compensation , and one such method is pole splitting .  Control of settling time  The amplitude of ringing in the step response in Figure 3 is governed by the damping factor exp ( −ρ t ). That is, if we specify some acceptable step response deviation from final value, say Δ, that is:        S   (  t  )    ≤   1  +  Δ    ,        S  t     1  normal-Δ     S(t)\leq 1+\Delta,\,     this condition is satisfied regardless of the value of β A OL provided the time is longer than the settling time, say t S , given by: 3       Δ  =    e   -   ρ   t  S      or   t  S    =    ln   (   1  Δ   )    ρ   =    τ  2     2   ln   (   1  Δ   )      1  +    τ  2    τ  1       ≈   2   τ  2    ln   (   1  Δ   )      ,        normal-Δ     superscript  e      ρ   subscript  t  S      or   subscript  t  S               1  normal-Δ    ρ           subscript  τ  2       2      1  normal-Δ       1     subscript  τ  2    subscript  τ  1              2   subscript  τ  2       1  normal-Δ        \Delta=e^{-\rho t_{S}}\text{ or }t_{S}=\frac{\ln\left(\frac{1}{\Delta}\right)}%
 {\rho}=\tau_{2}\frac{2\ln\left(\frac{1}{\Delta}\right)}{1+\frac{\tau_{2}}{\tau%
 _{1}}}\approx 2\tau_{2}\ln\left(\frac{1}{\Delta}\right),     where the τ 1 >> τ 2 is applicable because of the overshoot control condition, which makes τ 1 = αβA OL τ 2 . Often the settling time condition is referred to by saying the settling period is inversely proportional to the unity gain bandwidth, because 1/(2π τ 2 ) is close to this bandwidth for an amplifier with typical dominant pole compensation . However, this result is more precise than this rule of thumb . As an example of this formula, if Δ = 1/e 4 = 1.8 %, the settling time condition is t S = 8 τ 2 .  In general, control of overshoot sets the time constant ratio, and settling time t S sets τ 2 . 4 5  6  Phase margin  Next, the choice of pole ratio τ 1 /τ 2 is related to the phase margin of the feedback amplifier. 7 The procedure outlined in the Bode plot article is followed. Figure 5 is the Bode gain plot for the two-pole amplifier in the range of frequencies up to the second pole position. The assumption behind Figure 5 is that the frequency f 0 dB lies between the lowest pole at f 1 = 1/(2πτ 1 ) and the second pole at f 2 = 1/(2πτ 2 ). As indicated in Figure 5, this condition is satisfied for values of α ≥ 1.  Using Figure 5 the frequency (denoted by f 0 dB ) is found where the loop gain β A 0 satisfies the unity gain or 0 dB condition, as defined by:       |   β   A  OL    (   f  0 db   )    |   =  1.          β   subscript  A  OL    subscript  f  0 db     1.    |\beta A_{\text{OL}}(f_{\text{0 db}})|=1.     The slope of the downward leg of the gain plot is (20 dB/decade); for every factor of ten increase in frequency, the gain drops by the same factor:        f  0 dB   =   β   A  0    f  1     .       subscript  f  0 dB     β   subscript  A  0    subscript  f  1      f_{\text{0 dB}}=\beta A_{0}f_{1}.\,     The phase margin is the departure of the phase at f 0 dB from −180°. Thus, the margin is:        ϕ  m   =    180  ∘   -   arctan   (    f  0 dB   /   f  1    )    -   arctan   (    f  0 dB   /   f  2    )      .       subscript  ϕ  m      superscript  180         subscript  f  0 dB    subscript  f  1          subscript  f  0 dB    subscript  f  2        \phi_{m}=180^{\circ}-\arctan(f_{\text{0 dB}}/f_{1})-\arctan(f_{\text{0 dB}}/f_%
 {2}).     Because f 0 dB / f 1 = βA 0 >> 1, the term in f 1 is 90°. That makes the phase margin:       ϕ  m   =    90  ∘   -   arctan   (    f  0 dB   /   f  2    )          subscript  ϕ  m      superscript  90         subscript  f  0 dB    subscript  f  2        \phi_{m}=90^{\circ}-\arctan(f_{\text{0 dB}}/f_{2})\,            =    90  ∘   -   arctan   (    β   A  0    f  1     α  β   A  0    f  1     )         absent     superscript  90          β   subscript  A  0    subscript  f  1      α  β   subscript  A  0    subscript  f  1         =90^{\circ}-\arctan\left(\frac{\beta A_{0}f_{1}}{\alpha\beta A_{0}f_{1}}\right)           =    90  ∘   -   arctan   (   1  α   )     =   arctan   (  α  )     .        absent     superscript  90        1  α            α      =90^{\circ}-\arctan\left(\frac{1}{\alpha}\right)=\arctan\left(\alpha\right).        In particular, for case α = 1, φ m = 45°, and for α = 2, φ m = 63.4°. Sansen 8 recommends α = 3, φ m = 71.6° as a "good safety position to start with".  If α is increased by shortening τ 2 , the settling time t S also is shortened. If α is increased by lengthening τ 1 , the settling time t S is little altered. More commonly, both τ 1  and τ 2 change, for example if the technique of pole splitting is used.  As an aside, for an amplifier with more than two poles, the diagram of Figure 5 still may be made to fit the Bode plots by making f 2 a fitting parameter, referred to as an "equivalent second pole" position. 9  Formal mathematical description  This section provides a formal mathematical definition of step response in terms of the abstract mathematical concept of a dynamical system    𝔖   𝔖   \scriptstyle\mathfrak{S}   : all notations and assumptions required for the following description are listed here.       t  ∈  T      t  T    \scriptstyle t\in T   is the evolution parameter of the system, called " time " for the sake of simplicity,        𝒙  |   t   ∈  M       evaluated-at  𝒙  t   M    \scriptstyle\boldsymbol{x}|_{t}\in M   is the state of the system at time    t    t   t\,   , called "output" for the sake of simplicity,      Φ  :    T  ×  M   ⟶  M      normal-:  normal-Φ   normal-⟶    T  M   M     \scriptstyle\Phi:T\times M\longrightarrow M   is the dynamical system evolution function ,       Φ   (  0  ,  𝒙  )    =   𝒙  0   ∈  M          normal-Φ   0  𝒙     subscript  𝒙  0        M     \scriptstyle\Phi(0,\boldsymbol{x})=\boldsymbol{x}_{0}\in M   is the dynamical system initial state ,      H   (  t  )       H  t    \scriptstyle H(t)\,   is the Heaviside step function   Nonlinear dynamical system  For a general dynamical system, the step response is defined as follows:           𝒙  |   t   =   Φ    {   H   (  t  )    }    (  t  ,   𝒙  0   )      .       evaluated-at  𝒙  t    subscript  normal-Φ       H  t     t   subscript  𝒙  0        \boldsymbol{x}|_{t}=\Phi_{\{H(t)\}\left(t,{\boldsymbol{x}_{0}}\right)}.\,        It is the evolution function when the control inputs (or source term , or forcing inputs ) are Heaviside functions: the notation emphasizes this concept showing H ( t ) as a subscript.  Linear dynamical system  For a linear  time-invariant black box, let     𝔖   ≡  S      𝔖  S    \scriptstyle\mathfrak{{S}}\ \equiv\ S   for notational convenience: the step response can be obtained by convolution of the Heaviside step function control and the impulse response  h ( t ) of the system itself          a   (  t  )    =    h  *  H    (  t  )    =    H  *  h    (  t  )    =    ∫   -  ∞    +  ∞     h   (  τ  )   H   (   t  -  τ   )   d  τ    =    ∫   -  ∞   t    h   (  τ  )   d  τ     .          a  t       h  H   t            H  h   t          superscript   subscript               h  τ  H    t  τ   d  τ           superscript   subscript        t     h  τ  d  τ       a(t)={h*H}(t)={H*h}(t)=\int_{-\infty}^{+\infty}h(\tau)H(t-\tau)\,d\tau=\int_{-%
 \infty}^{t}h(\tau)\,d\tau.        See also   Impulse response  Overshoot (signal)  Pole splitting  Rise time  Settling time  Time constant   References and notes  Further reading   Robert I. Demrow Settling time of operational amplifiers  1  Cezmi Kayabasi Settling time measurement techniques achieving high precision at high speeds  2  Vladimir Igorevic Arnol'd "Ordinary differential equations", various editions from MIT Press and from Springer Verlag, chapter 1 "Fundamental concepts"   External links   [ http://bcs.wiley.com/he-bcs/Books?action=resource&bcsId; ;=2357&itemId;=0471134767&resourceId;=5596 Kuo power point slides; Chapter 7 especially]   "  Category:Analog circuits  Category:Electronic design  Category:Dynamical systems  Category:Control theory  Category:Signal processing  Category:Amplifiers  Category:Transient response characteristics     ↩  ↩  This estimate is a bit conservative (long) because the factor 1 /sin(φ) in the overshoot contribution to S ( t ) has been replaced by 1 /sin(φ) ≈ 1. ↩  ↩  ↩  According to Johns and Martin, op. cit. , settling time is significant in switched-capacitor circuits , for example, where an op amp settling time must be less than half a clock period for sufficiently rapid charge transfer. ↩  The gain margin of the amplifier cannot be found using a two-pole model, because gain margin requires determination of the frequency f 180 where the gain flips sign, and this never happens in a two-pole system. If we know f 180 for the amplifier at hand, the gain margin can be found approximately, but f 180 then depends on the third and higher pole positions, as does the gain margin, unlike the estimate of phase margin, which is a two-pole estimate. ↩  ↩  ↩     