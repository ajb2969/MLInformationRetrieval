   Collision response      Collision response   In the context of classical mechanics simulations and physics engines employed within video games , collision response deals with models and algorithms for simulating the changes in the motion of two solid bodies following collision and other forms of contact.  Rigid Body Contact  thumb|upright=2.5|alt=The compression and expansion phases of a collision between two solid bodies|The compression and expansion phases of a collision between two solid bodies Two rigid bodies in unconstrained motion, potentially under the action of forces, may be modelled by solving their equations of motion using numerical integration techniques. On collision, the kinetic properties of two such bodies seem to undergo an instantaneous change, typically resulting in the bodies rebounding away from each other, sliding, or settling into relative static contact, depending on the elasticity of the materials and the configuration of the collision.  Contact Forces  The origin of the rebound phenomenon, or reaction , may be traced to the behaviour of real bodies that, unlike their perfectly rigid idealised counterparts, do undergo minor compression on collision, followed by expansion, prior to separation. The compression phase converts the kinetic energy of the bodies into potential energy and to an extent, heat. The expansion phase converts the potential energy back to kinetic energy.  During the compression and expansion phases of two colliding bodies, each body generates reactive forces on the other at the points of contact, such that the sum reaction forces of one body are equal in magnitude but opposite in direction to the forces of the other, as per the Newtonian principle of action and reaction. If the effects of friction are ignored, a collision is seen as affecting only the component of the velocities that are directed along the contact normal and as leaving the tangential components unaffected  Reaction  The degree of relative kinetic energy retained after a collision, termed the restitution , is dependent on the elasticity of the bodiesâ€Ÿ materials. The coefficient of restitution between two given materials is modeled as the ratio    e  âˆˆ   [  0..1  ]       e   delimited-[]  0..1     e\in[0..1]   of the relative post-collision speed of a point of contact along the contact normal, with respect to the relative pre-collision speed of the same point along the same normal. These coefficients are typically determined empirically for different material pairs, such as wood against concrete or rubber against wood. Values for   e   e   e   close to zero indicate inelastic collisions such as a piece of soft clay hitting the floor, whereas values close to one represent highly elastic collisions, such as a rubber ball bouncing off a wall. The kinetic energy loss is relative to one body with respect to the other. Thus the total momentum of both bodies with respect to some common reference is unchanged after the collision, in line with the principle of conservation of momentum .  Friction  thumb|upright=1.5|alt=Friction due to surface microstructure imperfections|Friction due to surface microstructure imperfections Another important contact phenomenon is surface-to-surface friction, a force that impedes the relative motion of two surfaces in contact, or that of a body in a fluid. In this section we discuss surface-to-surface friction of two bodies in relative static contact or sliding contact. In the real world, friction is due to the imperfect microstructure of surfaces whose protrusions interlock into each other, generating reactive forces tangential to the surfaces.  To overcome the friction between two bodies in static contact, the surfaces must somehow lift away from each other. Once in motion, the degree of surface affinity is reduced and hence bodies in sliding motion tend to offer lesser resistance to motion. These two categories of friction are respectively termed static friction and dynamic friction .  1. Applied Force (F)  It is a Force which is applied to an object by another object or by a person. The direction of the applied force depends on how the force is applied.  2. Normal Force (N)  It is the support force exerted upon an object which is in contact with another stable object.Normal force is sometimes referred to as the pressing force since its action presses the surface together. Normal force is always directed towards the object and acts perpendicularly with the applied force.  3. Frictional Force (f)  It is the force exerted by a surface as an object moves across it or makes an effort to move across it. The friction force opposes the motion of the object. Friction results when two surfaces are pressed together closely, causing attractive intermolecular forces between the molecules of the two different surface. As such, friction depends upon the nature of the two surfaces and upon the degree to which they are pressed together. Friction always acts parallel to the surface in contact and opposite the direction of motion. The friction force can be calculated using the equation.  Impulse-Based Contact Model  A force     ğŸ   (  t  )    âˆˆ   â„  3         ğŸ  t    superscript  â„  3     \mathbf{f}(t)\in\mathbb{R}^{3}   , dependent on time    t  âˆˆ  â„      t  â„    t\in\mathbb{R}   , acting on a body of assumed constant mass    m  âˆˆ  â„      m  â„    m\in\mathbb{R}   for a time interval    [   t  0   .  .   t  1   ]     fragments  normal-[   subscript  t  0   normal-.  normal-.   subscript  t  1   normal-]    [t_{0}..t_{1}]   generates a change in the bodyâ€™s momentum     ğ©   (  t  )    =   m  ğ¯   (  t  )          ğ©  t     m  ğ¯  t     \mathbf{p}(t)=m\mathbf{v}(t)   , where    ğ¯   (  t  )       ğ¯  t    \mathbf{v}(t)   is the resulting change in velocity. The change in momentum, termed an impulse and denoted by    j  âˆˆ   â„  3       j   superscript  â„  3     j\in\mathbb{R}^{3}   is thus computed as       ğ£  =    âˆ«   t  0    t  1     ğŸ  d  t        ğ£    superscript   subscript    subscript  t  0     subscript  t  1      ğŸ  d  t      \mathbf{j}=\int_{t_{0}}^{t_{1}}\mathbf{f}dt      For fixed impulse   ğ£   ğ£   \mathbf{j}   , the equation suggests that     t  1   â†’   t  0   â‡’   |  ğŸ  |   â†’  âˆ       normal-â†’   subscript  t  1    subscript  t  0     normal-â‡’      ğŸ     normal-â†’        t_{1}\rightarrow t_{0}\Rightarrow\left|\mathbf{f}\right|\rightarrow\infty   , that is, a smaller time interval must be compensated by a stronger reaction force to achieve the same impulse. When modelling a collision between idealized rigid bodies, it is impractical to simulate the compression and expansion phases of the body geometry over the collision time interval. However, by assuming that a suitable force   ğŸ   ğŸ   \mathbf{f}   can be found such that the limit        lim    t  1   â†’   t  0       âˆ«   t  0    t  1     ğŸ  d  t        subscript    normal-â†’   subscript  t  1    subscript  t  0       superscript   subscript    subscript  t  0     subscript  t  1      ğŸ  d  t      \lim_{t_{1}\rightarrow t_{0}}\int_{t_{0}}^{t_{1}}\mathbf{f}dt      exists and is equal to   ğ£   ğ£   \mathbf{j}   , the notion of instantaneous impulses may be introduced to simulate an instantaneous change in velocity after a collision.  Impulse-Based Reaction Model  thumb|upright=1.5|alt=The application of impulses at the point of collision|The application of impulses at the point of collision The effect of the reaction force      ğŸ  r    (  t  )    âˆˆ   â„  3          subscript  ğŸ  r   t    superscript  â„  3     \mathbf{f}_{r}(t)\in\mathbb{R}^{3}   over the interval of collision    [   t  0   .  .   t  1   ]     fragments  normal-[   subscript  t  0   normal-.  normal-.   subscript  t  1   normal-]    [t_{0}..t_{1}]   may hence be represented by an instantaneous reaction impulse      ğ£  r    (  t  )    âˆˆ   â„  3          subscript  ğ£  r   t    superscript  â„  3     \mathbf{j}_{r}(t)\in\mathbb{R}^{3}   , computed as        ğ£  r   =    âˆ«   t  0    t  1      ğŸ  r   d  t         subscript  ğ£  r     superscript   subscript    subscript  t  0     subscript  t  1       subscript  ğŸ  r   d  t      \mathbf{j}_{r}=\int_{t_{0}}^{t_{1}}\mathbf{f}_{r}dt      By deduction from the principle of action and reaction, if the collision impulse applied by the first body on the second body at a contact point     ğ©  r   âˆˆ   â„  3        subscript  ğ©  r    superscript  â„  3     \mathbf{p}_{r}\in\mathbb{R}^{3}   is    ğ£  r     subscript  ğ£  r    \mathbf{j}_{r}   , the counter impulse applied by the second body on the first is    -   ğ£  r        subscript  ğ£  r     -\mathbf{j}_{r}   . The decomposition     Â±   ğ£  r    =   Â±    j  r    ğ§  ^          plus-or-minus   subscript  ğ£  r     plus-or-minus     subscript  j  r    normal-^  ğ§       \pm\mathbf{j}_{r}=\pm j_{r}\mathbf{\hat{n}}   into the impulse magnitude     j  r   âˆˆ  â„       subscript  j  r   â„    j_{r}\in\mathbb{R}   and direction along the contact normal    ğ§  ^     normal-^  ğ§    \mathbf{\hat{n}}   and its negation    -   ğ§  ^        normal-^  ğ§     -\mathbf{\hat{n}}   allows for the derivation of a formula to compute the change in linear and angular velocities of the bodies resulting from the collision impulses. In the subsequent formulas,    ğ§  ^     normal-^  ğ§    \mathbf{\hat{n}}   is always assumed to point away from body 1 and towards body 2 at the contact point.  Assuming the collision impulse magnitude    ğ£  r     subscript  ğ£  r    \mathbf{j}_{r}   is given and using Newton's laws of motion the relation between the bodies' pre- and post- linear velocities are as follows            ğ¯   â€²  1    =    ğ¯  1   -     j  r    m  1     ğ§  ^          subscript   superscript  ğ¯  normal-â€²   1      subscript  ğ¯  1        subscript  j  r    subscript  m  1     normal-^  ğ§       \mathbf{v^{\prime}}_{1}=\mathbf{v}_{1}-\frac{j_{r}}{m_{1}}\mathbf{\hat{n}}      (1a)           ğ¯   â€²  2    =    ğ¯  2   +     j  r    m  2     ğ§  ^          subscript   superscript  ğ¯  normal-â€²   2      subscript  ğ¯  2        subscript  j  r    subscript  m  2     normal-^  ğ§       \mathbf{v^{\prime}}_{2}=\mathbf{v}_{2}+\frac{j_{r}}{m_{2}}\mathbf{\hat{n}}      (1b)     where, for the   i   i   i   th body,     ğ¯  i   âˆˆ   â„  3        subscript  ğ¯  i    superscript  â„  3     \mathbf{v}_{i}\in\mathbb{R}^{3}   is the pre-collision linear velocity,     ğ¯   â€²  i    âˆˆ   â„  3        subscript   superscript  ğ¯  normal-â€²   i    superscript  â„  3     \mathbf{v^{\prime}}_{i}\in\mathbb{R}^{3}   is the post-collision linear velocity.  Similarly for the angular velocities            Ï‰   â€²  1    =    Ï‰  1   -    j  r    ğˆ  1   -  1     (    ğ«  1   Ã—   ğ§  ^    )          subscript   superscript  Ï‰  normal-â€²   1      subscript  Ï‰  1      subscript  j  r    superscript   subscript  ğˆ  1     1       subscript  ğ«  1    normal-^  ğ§        \mathbf{\omega^{\prime}}_{1}=\mathbf{\omega}_{1}-j_{r}\mathbf{I}_{1}^{-1}(%
 \mathbf{r}_{1}\times\mathbf{\hat{n}})      (2a)           Ï‰   â€²  2    =    Ï‰  2   +    j  r    ğˆ  2   -  1     (    ğ«  2   Ã—   ğ§  ^    )          subscript   superscript  Ï‰  normal-â€²   2      subscript  Ï‰  2      subscript  j  r    superscript   subscript  ğˆ  2     1       subscript  ğ«  2    normal-^  ğ§        \mathbf{\omega^{\prime}}_{2}=\mathbf{\omega}_{2}+j_{r}\mathbf{I}_{2}^{-1}(%
 \mathbf{r}_{2}\times\mathbf{\hat{n}})      (2b)     where, for the   i   i   i   th body,     Ï‰  i   âˆˆ   â„  3        subscript  Ï‰  i    superscript  â„  3     {\omega}_{i}\in\mathbb{R}^{3}   is the angular pre-collision velocity,     Ï‰   â€²  i    âˆˆ   â„  3        subscript   superscript  Ï‰  normal-â€²   i    superscript  â„  3     {\omega^{\prime}}_{i}\in\mathbb{R}^{3}   is the angular post-collision velocity,     ğˆ  i   âˆˆ   â„   3  Ã—  3         subscript  ğˆ  i    superscript  â„    3  3      \mathbf{I}_{i}\in\mathbb{R}^{3\times 3}   is the inertia tensor in the world frame of reference, and     ğ«  i   âˆˆ   â„  3        subscript  ğ«  i    superscript  â„  3     \mathbf{r}_{i}\in\mathbb{R}^{3}   is offset of the shared contact point   ğ©   ğ©   \mathbf{p}   from the centre of mass.  The velocities      v   p  1    ,   v   p  2     âˆˆ   â„  3         subscript  v    p  1     subscript  v    p  2      superscript  â„  3     v_{p1},v_{p2}\in\mathbb{R}^{3}   of the bodies at the point of contact may be computed in terms of the respective linear and angular velocities, using            ğ¯   p  i    =    ğ¯  i   +    Ï‰  i   Ã—   ğ«  i          subscript  ğ¯    p  i       subscript  ğ¯  i      subscript  Ï‰  i    subscript  ğ«  i       \mathbf{v}_{pi}=\mathbf{v}_{i}+\mathbf{\omega}_{i}\times\mathbf{r}_{i}      (3)     for    i  =   1  ,  2       i   1  2     i=1,2   . The coefficient of restitution   e   e   e   relates the pre-collision relative velocity     ğ¯  r   =    ğ¯   p  2    -   ğ¯   p  1          subscript  ğ¯  r      subscript  ğ¯    p  2     subscript  ğ¯    p  1       \mathbf{v}_{r}=\mathbf{v}_{p2}-\mathbf{v}_{p1}   of the contact point to the post-collision relative velocity     ğ¯   â€²  r    =    ğ¯   â€²   p  2     -   ğ¯   â€²   p  1           subscript   superscript  ğ¯  normal-â€²   r      subscript   superscript  ğ¯  normal-â€²     p  2     subscript   superscript  ğ¯  normal-â€²     p  1       \mathbf{v^{\prime}}_{r}=\mathbf{v^{\prime}}_{p2}-\mathbf{v^{\prime}}_{p1}   along the contact normal    ğ§  ^     normal-^  ğ§    \mathbf{\hat{n}}   as follows             ğ¯   â€²  r    â‹…   ğ§  ^    =   -    e   ğ¯  r    â‹…   ğ§  ^          normal-â‹…   subscript   superscript  ğ¯  normal-â€²   r    normal-^  ğ§       normal-â‹…    e   subscript  ğ¯  r     normal-^  ğ§       \mathbf{v^{\prime}}_{r}\cdot\mathbf{\hat{n}}=-e\mathbf{v}_{r}\cdot\mathbf{\hat%
 {n}}      (4)     Substituting equations (1a), (1b), (2a), (2b) and (3) into equation (4) and solving for the reaction impulse magnitude    j  r     subscript  j  r    j_{r}   yields            j  r   =    -     (   1  +  e   )    ğ¯  r    â‹…   ğ§  ^       m  1     -  1    +   m  2     -  1    +    (      ğˆ  1     -  1     (    ğ«  1   Ã—   ğ§  ^    )    Ã—   ğ«  1    +     ğˆ  2     -  1     (    ğ«  2   Ã—   ğ§  ^    )    Ã—   ğ«  2     )   â‹…   ğ§  ^           subscript  j  r        normal-â‹…      1  e    subscript  ğ¯  r     normal-^  ğ§        superscript   subscript  m  1     1     superscript   subscript  m  2     1     normal-â‹…         superscript   subscript  ğˆ  1     1       subscript  ğ«  1    normal-^  ğ§      subscript  ğ«  1         superscript   subscript  ğˆ  2     1       subscript  ğ«  2    normal-^  ğ§      subscript  ğ«  2      normal-^  ğ§        j_{r}=\frac{-(1+e)\mathbf{v}_{r}\cdot\mathbf{\hat{n}}}{{m_{1}}^{-1}+{m_{2}}^{-%
 1}+({\mathbf{I}_{1}}^{-1}(\mathbf{r}_{1}\times\mathbf{\hat{n}})\times\mathbf{r%
 }_{1}+{\mathbf{I}_{2}}^{-1}(\mathbf{r}_{2}\times\mathbf{\hat{n}})\times\mathbf%
 {r}_{2})\cdot\mathbf{\hat{n}}}      (5)     Computing Impulse-Based Reaction  Thus, the procedure for computing the post-collision linear velocities    ğ¯   â€²  i      subscript   superscript  ğ¯  normal-â€²   i    \mathbf{v^{\prime}}_{i}   and angular velocities    Ï‰   â€²  i      subscript   superscript  Ï‰  normal-â€²   i    \mathbf{\omega^{\prime}}_{i}   is as follows:   Compute the reaction impulse magnitude    j  r     subscript  j  r    j_{r}   in terms of    ğ¯  r     subscript  ğ¯  r    \mathbf{v}_{r}   ,    m  1     subscript  m  1    m_{1}   ,    m  2     subscript  m  2    m_{2}   ,    ğˆ  1     subscript  ğˆ  1    \mathbf{I}_{1}   ,    ğˆ  2     subscript  ğˆ  2    \mathbf{I}_{2}   ,    ğ«  1     subscript  ğ«  1    \mathbf{r}_{1}   ,    ğ«  2     subscript  ğ«  2    \mathbf{r}_{2}   ,    ğ§  ^     normal-^  ğ§    \mathbf{\hat{n}}   and   e   e   e   using equation (5)  Compute the reaction impulse vector    ğ£  r     subscript  ğ£  r    \mathbf{j}_{r}   in terms of its magnitude    j  r     subscript  j  r    j_{r}   and contact normal    ğ§  ^     normal-^  ğ§    \mathbf{\hat{n}}   using     ğ£  r   =    j  r    ğ§  ^         subscript  ğ£  r      subscript  j  r    normal-^  ğ§      \mathbf{j}_{r}=j_{r}\mathbf{\hat{n}}   .  Compute new linear velocities    ğ¯   â€²  i      subscript   superscript  ğ¯  normal-â€²   i    \mathbf{v^{\prime}}_{i}   in terms of old velocities    ğ¯  i     subscript  ğ¯  i    \mathbf{v}_{i}   , masses    m  i     subscript  m  i    m_{i}   and reaction impulse vector    ğ£  r     subscript  ğ£  r    \mathbf{j}_{r}   using equations (1a) and (1b)  Compute new angular velocities    Ï‰   â€²  i      subscript   superscript  Ï‰  normal-â€²   i    \mathbf{\omega^{\prime}}_{i}   in terms of old angular velocities    Ï‰  i     subscript  Ï‰  i    \mathbf{\omega}_{i}   , inertia tensors    ğˆ  i     subscript  ğˆ  i    \mathbf{I}_{i}   and reaction impulse vector    ğ£  r     subscript  ğ£  r    \mathbf{j}_{r}   using equations (2a) and (2b)   Impulse-Based Friction Model  thumb|upright=1.0|alt=Coulomb friction model - friction cone|Coulomb friction model - friction cone  One of the most popular models for describing friction is the Coulomb friction model. This model defines coefficients of static friction      Î¼  s   âˆˆ  â„       subscript  Î¼  s   â„    {\mu}_{s}\in\mathbb{R}   and dynamic friction      Î¼  d   âˆˆ  â„       subscript  Î¼  d   â„    {\mu}_{d}\in\mathbb{R}   such that     Î¼  s   >   Î¼  d        subscript  Î¼  s    subscript  Î¼  d     {\mu}_{s}>{\mu}_{d}   . These coefficients describe the two types of friction forces in terms of the reaction forces acting on the bodies. More specifically, the static and dynamic friction force magnitudes      f  s   ,   f  d    âˆˆ  â„        subscript  f  s    subscript  f  d    â„    f_{s},f_{d}\in\mathbb{R}   are computed in terms of the reaction force magnitude     f  r   =   |   ğŸ  r   |        subscript  f  r      subscript  ğŸ  r      f_{r}=|\mathbf{f}_{r}|   as follows            f  s   =    Î¼  s    f  r         subscript  f  s      subscript  Î¼  s    subscript  f  r      f_{s}={\mu}_{s}f_{r}      (6a)           f  d   =    Î¼  d    f  r         subscript  f  d      subscript  Î¼  d    subscript  f  r      f_{d}={\mu}_{d}f_{r}      (6b)     The value    f  s     subscript  f  s    f_{s}   defines a maximum magnitude for the friction force required to counter the tangential component of any external sum force applied on a relatively static body, such that it remains static. Thus, if the external force is large enough, static friction is unable to fully counter this force, at which point the body gains velocity and becomes subject to dynamic friction of magnitude    f  d     subscript  f  d    f_{d}   acting against the sliding velocity.  The Coulomb friction model effectively defines a friction cone within which the tangential component of a force exerted by one body on the surface of another in static contact, is countered by an equal and opposite force such that the static configuration is maintained. Conversely, if the force falls outside the cone, static friction gives way to dynamic friction.  Given the contact normal     ğ§  ^   âˆˆ   â„  3        normal-^  ğ§    superscript  â„  3     \mathbf{\hat{n}}\in\mathbb{R}^{3}   and relative velocity     ğ¯  r   âˆˆ   â„  3        subscript  ğ¯  r    superscript  â„  3     \mathbf{v}_{r}\in\mathbb{R}^{3}   of the contact point, a tangent vector     ğ­  ^   âˆˆ   â„  3        normal-^  ğ­    superscript  â„  3     \mathbf{\hat{t}}\in\mathbb{R}^{3}   , orthogonal to    ğ§  ^     normal-^  ğ§    \mathbf{\hat{n}}   , may be defined such that            ğ­  ^   =   {        ğ¯  r   -    (    ğ¯  r   â‹…   ğ§  ^    )    ğ§  ^      |    ğ¯  r   -    (    ğ¯  r   â‹…   ğ§  ^    )    ğ§  ^     |         ğ¯  r   â‹…   ğ§  ^    â‰   0             ğŸ  e   -    (    ğŸ  e   â‹…   ğ§  ^    )    ğ§  ^      |    ğŸ  e   -    (    ğŸ  e   â‹…   ğ§  ^    )    ğ§  ^     |         ğ¯  r   â‹…   ğ§  ^    =  0        ğŸ  e   â‹…   ğ§  ^    â‰   0       ğŸ       ğ¯  r   â‹…   ğ§  ^    =  0        ğŸ  e   â‹…   ğ§  ^    =  0          fragments   normal-^  ğ­     fragments  normal-{         subscript  ğ¯  r      normal-â‹…   subscript  ğ¯  r    normal-^  ğ§     normal-^  ğ§          subscript  ğ¯  r      normal-â‹…   subscript  ğ¯  r    normal-^  ğ§     normal-^  ğ§          normal-â‹…   subscript  ğ¯  r    normal-^  ğ§    0   absent         subscript  ğŸ  e      normal-â‹…   subscript  ğŸ  e    normal-^  ğ§     normal-^  ğ§          subscript  ğŸ  e      normal-â‹…   subscript  ğŸ  e    normal-^  ğ§     normal-^  ğ§          normal-â‹…   subscript  ğ¯  r    normal-^  ğ§    0      normal-â‹…   subscript  ğŸ  e    normal-^  ğ§    0     0     normal-â‹…   subscript  ğ¯  r    normal-^  ğ§    0      normal-â‹…   subscript  ğŸ  e    normal-^  ğ§    0        \mathbf{\hat{t}}=\left\{\begin{matrix}\frac{\mathbf{v}_{r}-(\mathbf{v}_{r}%
 \cdot\mathbf{\hat{n}})\mathbf{\hat{n}}}{|\mathbf{v}_{r}-(\mathbf{v}_{r}\cdot%
 \mathbf{\hat{n}})\mathbf{\hat{n}}|}&\mathbf{v}_{r}\cdot\mathbf{\hat{n}}\neq 0&%
 \\
 \frac{\mathbf{f}_{e}-(\mathbf{f}_{e}\cdot\mathbf{\hat{n}})\mathbf{\hat{n}}}{|%
 \mathbf{f}_{e}-(\mathbf{f}_{e}\cdot\mathbf{\hat{n}})\mathbf{\hat{n}}|}&\mathbf%
 {v}_{r}\cdot\mathbf{\hat{n}}=0&\mathbf{f}_{e}\cdot\mathbf{\hat{n}}\neq 0\\
 \mathbf{0}&\mathbf{v}_{r}\cdot\mathbf{\hat{n}}=0&\mathbf{f}_{e}\cdot\mathbf{%
 \hat{n}}=0\\
 \end{matrix}\right.      (7)     where     ğŸ  e   âˆˆ   â„  3        subscript  ğŸ  e    superscript  â„  3     \mathbf{f}_{e}\in\mathbb{R}^{3}   is the sum of all external forces on the body. The multi-case definition of    ğ­  ^     normal-^  ğ­    \mathbf{\hat{t}}   is required for robustly computing the actual friction force     ğŸ  f   âˆˆ   â„  3        subscript  ğŸ  f    superscript  â„  3     \mathbf{f}_{f}\in\mathbb{R}^{3}   for both the general and particular states of contact. Informally, the first case computes the tangent vector along the relative velocity component perpendicular to the contact normal    ğ§  ^     normal-^  ğ§    \mathbf{\hat{n}}   . If this component is zero, the second case derives    ğ­  ^     normal-^  ğ­    \mathbf{\hat{t}}   in terms of the tangent component of the external force     ğŸ  e   âˆˆ   â„  3        subscript  ğŸ  e    superscript  â„  3     \mathbf{f}_{e}\in\mathbb{R}^{3}   . If there is no tangential velocity or external forces, then no friction is assumed, and    ğ­  ^     normal-^  ğ­    \mathbf{\hat{t}}   may be set to the zero vector. Thus,     ğŸ  f   âˆˆ   â„  3        subscript  ğŸ  f    superscript  â„  3     \mathbf{f}_{f}\in\mathbb{R}^{3}   is computed as            ğŸ  f   =   {      -    (    ğŸ  e   â‹…   ğ­  ^    )    ğ­  ^          ğ¯  r   â‹…   ğ­  ^    =  0        ğŸ  e   â‹…   ğ­  ^    â‰¤   f  s         -    f  d    ğ­  ^       (otherwise)         fragments   subscript  ğŸ  f     fragments  normal-{         normal-â‹…   subscript  ğŸ  e    normal-^  ğ­     normal-^  ğ­        normal-â‹…   subscript  ğ¯  r    normal-^  ğ­    0      normal-â‹…   subscript  ğŸ  e    normal-^  ğ­     subscript  f  s           subscript  f  d    normal-^  ğ­     (otherwise)       \mathbf{f}_{f}=\left\{\begin{matrix}-(\mathbf{f}_{e}\cdot\mathbf{\hat{t}})%
 \mathbf{\hat{t}}&\mathbf{v}_{r}\cdot\mathbf{\hat{t}}=0&\mathbf{f}_{e}\cdot%
 \mathbf{\hat{t}}\leq f_{s}\\
 -f_{d}\mathbf{\hat{t}}&\text{(otherwise)}\\
 \end{matrix}\right.      (8)     Equations (6a), (6b), (7) and (8) describe the Coulomb friction model in terms of forces. By adapting the argument for instantaneous impulses, an impulse-based version of the Coulomb friction model may be derived, relating a frictional impulse     ğ£  f   âˆˆ   â„  3        subscript  ğ£  f    superscript  â„  3     \mathbf{j}_{f}\in\mathbb{R}^{3}   , acting along the tangent    ğ­  ^     normal-^  ğ­    \mathbf{\hat{t}}   , to the reaction impulse     ğ£  r   âˆˆ   â„  3        subscript  ğ£  r    superscript  â„  3     \mathbf{j}_{r}\in\mathbb{R}^{3}   . Integrating (6a) and (6b) over the collision time interval    [   t  0   .  .   t  1   ]     fragments  normal-[   subscript  t  0   normal-.  normal-.   subscript  t  1   normal-]    [t_{0}..t_{1}]   yields            j  s   =    Î¼  s    j  r         subscript  j  s      subscript  Î¼  s    subscript  j  r      j_{s}={\mu}_{s}j_{r}      (9a)           j  d   =    Î¼  d    j  r         subscript  j  d      subscript  Î¼  d    subscript  j  r      j_{d}={\mu}_{d}j_{r}      (9b)     where     j  r   =   |   ğ£  r   |        subscript  j  r      subscript  ğ£  r      j_{r}=|\mathbf{j}_{r}|   is the magnitude of the reaction impulse acting along contact normal    ğ§  ^     normal-^  ğ§    \mathbf{\hat{n}}   . Similarly, by assuming    ğ­  ^     normal-^  ğ­    \mathbf{\hat{t}}   constant throughout the time interval, the integration of (8) yields            ğ£  f   =   {      -    (    m   ğ¯  r    â‹…   ğ­  ^    )    ğ­  ^          ğ¯  r   â‹…   ğ­  ^    =  0        m   ğ¯  r    â‹…   ğ­  ^    â‰¤   j  s         -    j  d    ğ­  ^       (otherwise)         fragments   subscript  ğ£  f     fragments  normal-{         normal-â‹…    m   subscript  ğ¯  r     normal-^  ğ­     normal-^  ğ­        normal-â‹…   subscript  ğ¯  r    normal-^  ğ­    0      normal-â‹…    m   subscript  ğ¯  r     normal-^  ğ­     subscript  j  s           subscript  j  d    normal-^  ğ­     (otherwise)       \mathbf{j}_{f}=\left\{\begin{matrix}-(m\mathbf{v}_{r}\cdot\mathbf{\hat{t}})%
 \mathbf{\hat{t}}&\mathbf{v}_{r}\cdot\mathbf{\hat{t}}=0&m\mathbf{v}_{r}\cdot%
 \mathbf{\hat{t}}\leq j_{s}\\
 -j_{d}\mathbf{\hat{t}}&\text{(otherwise)}\\
 \end{matrix}\right.      (10)     Equations (5) and (10) define an impulse-based contact model that is ideal for impulse-based simulations. When using this model, care must be taken in the choice of    Î¼  s     subscript  Î¼  s    {\mu}_{s}   and    Î¼  d     subscript  Î¼  d    {\mu}_{d}   as higher values may introduce additional kinetic energy into the system.  Notes  References   [ http://docs.google.com/fileview?id=0Bze6mKYvrpOKYjdkODVhMTAtM2Q4Zi00NzgyLWE2YzMtN2MwZmQ4NjA3OWMw&hl; ;=en C. Vella, "Gravitas: An extensible physics engine framework using object-oriented and design pattern-driven software architecture principles," Master in Information Technology Thesis, University of Malta, Msida, 2008.]   "  Category:Mechanics   