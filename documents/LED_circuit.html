<html lang="en">
<head>
<meta charset="utf-8"/>
<title offset="387">LED circuit</title>
<script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_SVG.js" type="text/javascript">
</script>
</head>
<body>
<h1>LED circuit</h1>
<hr/>

<p> In <a class="uri" href="electronics" title="wikilink">electronics</a>, an <strong>LED circuit</strong> is an <a class="uri" href="electrical" title="wikilink">electrical</a> <a href="Electric_circuit" title="wikilink">circuit</a> used to power a <a href="light-emitting_diode" title="wikilink">light-emitting diode</a> (LED). The circuit must provide sufficient current to light the LED at the required brightness, but must limit the current to prevent damaging the LED. The <a href="voltage_drop" title="wikilink">voltage drop</a> across an LED is approximately constant over a wide range of operating current; therefore, a small increase in applied voltage greatly increases the current. Very simple circuits are used for low-power indicator LEDs. More complex, <a href="current_source" title="wikilink">current source</a> circuits are required when driving high-power LEDs for illumination to achieve correct current regulation.</p>
<h2 id="basic-circuit">Basic circuit</h2>

<p>The simplest circuit to drive an LED consists of a <a href="voltage_source" title="wikilink">voltage source</a> and two components <a href="Series_and_parallel_circuits" title="wikilink">connected in series</a>: a <a href="current_limiting" title="wikilink">current limiting</a> <a class="uri" href="resistor" title="wikilink">resistor</a>, sometimes called the <a href="ballast_resistor" title="wikilink">ballast resistor</a>, and an LED. Optionally, a switch may be introduced to open and close the circuit. Although simple, this circuit is not the most energy efficient circuit to drive an LED, since energy is lost in the resistor. More complicated circuits improve the energy efficiency.</p>

<p>An LED has a voltage drop specified at the intended operating current. <a href="Ohm's_law" title="wikilink">Ohm's law</a> and <a href="Kirchhoff's_circuit_laws" title="wikilink">Kirchhoff's circuit laws</a> are used to calculate the appropriate resistor value to obtain the desired current. The value is computed by subtracting the LED voltage drop from the supply voltage, and dividing by the desired operating current. If the supply voltage is equal to the LED's voltage drop, no resistor is needed.</p>

<p>This basic circuit is used in a wide range of applications, including many consumer appliances such as mobile phone chargers.</p>
<h2 id="power-source-considerations">Power source considerations</h2>

<p>The voltage versus current characteristics of an LED are similar to any <a class="uri" href="diode" title="wikilink">diode</a>. Current is approximately an <a href="exponential_function" title="wikilink">exponential function</a> of voltage according to the <a href="Shockley_diode_equation" title="wikilink">Shockley diode equation</a>, and a small voltage change may result in a large change in current. If the voltage is below the threshold or on-voltage no current flows and the result is an unlit LED. If the voltage is too high the current exceeds the maximum rating, overheating and potentially destroying the LED.</p>

<p>It is therefore important that the power source provides an appropriate current. LEDs should only be connected to constant-current sources. Series resistors are a simple way to passively stabilize the LED current. An active <a href="constant_current_regulator" title="wikilink">constant current regulator</a> is commonly used for high power LEDs, stabilizing light output over a wide range of input voltages which might increase the useful life of batteries. <a href="Low-dropout_regulator" title="wikilink">Low drop-out</a> (LDO) constant current regulators also allow the total LED voltage to be a higher fraction of the power supply voltage. <a href="Switched-mode_power_supply" title="wikilink">Switched-mode power supplies</a> are used in some LED flashlights and household <a href="LED_lamps" title="wikilink">LED lamps</a>.</p>
<h2 id="series-resistor">Series resistor</h2>

<p>Series <a href="resistor" title="wikilink">resistors</a> are a simple way to stabilize the LED current, but energy is wasted in the resistor.</p>

<p>Miniature indicator LEDs are normally driven from low voltage DC via a current-limiting resistor. Currents of 2 mA, 10 mA and 20 mA are common. Sub-mA indicators may be made by driving ultrabright LEDs at very low current. Efficiency tends to reduce at low currents, but indicators running on 100 μA are still practical.</p>

<p>In <a href="coin_cell" title="wikilink">coin cell</a> powered keyring-type LED lights, the resistance of the cell itself is usually the only current limiting device. The cell should not therefore be replaced with a lower resistance type.</p>

<p>LEDs can be purchased with built-in series resistors. These can save <a href="printed_circuit_board" title="wikilink">printed circuit board</a> space and are especially useful when building <a href="prototype" title="wikilink">prototypes</a> or populating a PCB in a way other than its designers intended. However, the resistor value is set at the time of manufacture, removing one of the key methods of setting the LED's intensity.</p>
<h3 id="series-resistor-calculation">Series resistor calculation</h3>

<p>The formula to calculate the correct resistance to use is</p>

<p>

<math display="block" id="LED_circuit:0">
 <semantics>
  <mrow>
   <mrow>
    <mrow>
     <mtext>resistance</mtext>
     <mrow>
      <mo stretchy="false">(</mo>
      <mi>R</mi>
      <mo stretchy="false">)</mo>
     </mrow>
    </mrow>
    <mo>=</mo>
    <mfrac>
     <mrow>
      <mrow>
       <mtext>power supply voltage</mtext>
       <mrow>
        <mo stretchy="false">(</mo>
        <msub>
         <mi>V</mi>
         <mi>s</mi>
        </msub>
        <mo stretchy="false">)</mo>
       </mrow>
      </mrow>
      <mo>-</mo>
      <mrow>
       <mtext>LED voltage drop</mtext>
       <mrow>
        <mo stretchy="false">(</mo>
        <msub>
         <mi>V</mi>
         <mi>f</mi>
        </msub>
        <mo stretchy="false">)</mo>
       </mrow>
      </mrow>
     </mrow>
     <mrow>
      <mtext>LED current</mtext>
      <mrow>
       <mo stretchy="false">(</mo>
       <mi>I</mi>
       <mo stretchy="false">)</mo>
      </mrow>
     </mrow>
    </mfrac>
   </mrow>
   <mo>,</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <times></times>
     <mtext>resistance</mtext>
     <ci>R</ci>
    </apply>
    <apply>
     <divide></divide>
     <apply>
      <minus></minus>
      <apply>
       <times></times>
       <mtext>power supply voltage</mtext>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>V</ci>
        <ci>s</ci>
       </apply>
      </apply>
      <apply>
       <times></times>
       <mtext>LED voltage drop</mtext>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>V</ci>
        <ci>f</ci>
       </apply>
      </apply>
     </apply>
     <apply>
      <times></times>
      <mtext>LED current</mtext>
      <ci>I</ci>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \mbox{resistance}(R)=\frac{\mbox{power supply voltage}(V_{s})-\mbox{LED %
voltage drop}(V_{f})}{\mbox{LED current}(I)},
  </annotation>
 </semantics>
</math>

</p>

<p>where <em>power supply voltage</em> (<em>V<sub>s</sub></em>) is the voltage of the power supply, e.g. a 9 volt battery, <em>LED voltage drop</em> (<em>V<sub>f</sub></em>) is the forward voltage drop across the LED, and <em>LED current</em> (<em>I</em>) is the desired current of the LED. The above formula requires the current in amperes, although this value is usually given by the manufacturer in milliamperes, such as 20 mA.</p>

<p>Typically, the forward voltage of an LED is about 1.8–3.3 volts; it varies by the color of the LED. A red LED typically drops 1.8 volts, but voltage drop normally rises as the light frequency increases, so a blue LED may drop around 3.3 volts.</p>

<p>The formula can be explained considering the LED as a 

<math display="inline" id="LED_circuit:1">
 <semantics>
  <mrow>
   <mpadded width="+2.8pt">
    <mfrac>
     <msub>
      <mi>V</mi>
      <mi>f</mi>
     </msub>
     <mi>I</mi>
    </mfrac>
   </mpadded>
   <mi mathvariant="normal">Ω</mi>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <times></times>
    <apply>
     <divide></divide>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <ci>V</ci>
      <ci>f</ci>
     </apply>
     <ci>I</ci>
    </apply>
    <ci>normal-Ω</ci>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   {V_{f}\over I}\;\Omega
  </annotation>
 </semantics>
</math>

 resistance, and applying <a href="Kirchhoff's_voltage_law" title="wikilink">Kirchhoff's voltage law</a> (KVL) (<em>R</em> is the unknown quantity):</p>

<p>

<math display="block" id="LED_circuit:2">
 <semantics>
  <mrow>
   <msub>
    <mi>V</mi>
    <mi>s</mi>
   </msub>
   <mo>=</mo>
   <mrow>
    <msub>
     <mi>V</mi>
     <mi>r</mi>
    </msub>
    <mo>+</mo>
    <msub>
     <mi>V</mi>
     <mi>f</mi>
    </msub>
   </mrow>
   <mo>=</mo>
   <mrow>
    <mrow>
     <mi>R</mi>
     <mi>I</mi>
    </mrow>
    <mo>+</mo>
    <msub>
     <mi>V</mi>
     <mi>f</mi>
    </msub>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <and></and>
    <apply>
     <eq></eq>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <ci>V</ci>
      <ci>s</ci>
     </apply>
     <apply>
      <plus></plus>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>V</ci>
       <ci>r</ci>
      </apply>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>V</ci>
       <ci>f</ci>
      </apply>
     </apply>
    </apply>
    <apply>
     <eq></eq>
     <share href="#.cmml">
     </share>
     <apply>
      <plus></plus>
      <apply>
       <times></times>
       <ci>R</ci>
       <ci>I</ci>
      </apply>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>V</ci>
       <ci>f</ci>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   V_{s}=V_{r}+V_{f}=RI+V_{f}
  </annotation>
 </semantics>
</math>

</p>

<p>

<math display="block" id="LED_circuit:3">
 <semantics>
  <mrow>
   <mrow>
    <mi>R</mi>
    <mi>I</mi>
   </mrow>
   <mo>=</mo>
   <mrow>
    <msub>
     <mi>V</mi>
     <mi>s</mi>
    </msub>
    <mo>-</mo>
    <mpadded width="+2.8pt">
     <msub>
      <mi>V</mi>
      <mi>f</mi>
     </msub>
    </mpadded>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <times></times>
     <ci>R</ci>
     <ci>I</ci>
    </apply>
    <apply>
     <minus></minus>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <ci>V</ci>
      <ci>s</ci>
     </apply>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <ci>V</ci>
      <ci>f</ci>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   RI=V_{s}-V_{f}\;
  </annotation>
 </semantics>
</math>

</p>

<p>

<math display="block" id="LED_circuit:4">
 <semantics>
  <mrow>
   <mi>R</mi>
   <mo>=</mo>
   <mfrac>
    <mrow>
     <msub>
      <mi>V</mi>
      <mi>s</mi>
     </msub>
     <mo>-</mo>
     <msub>
      <mi>V</mi>
      <mi>f</mi>
     </msub>
    </mrow>
    <mi>I</mi>
   </mfrac>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <ci>R</ci>
    <apply>
     <divide></divide>
     <apply>
      <minus></minus>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>V</ci>
       <ci>s</ci>
      </apply>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>V</ci>
       <ci>f</ci>
      </apply>
     </apply>
     <ci>I</ci>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   R={V_{s}-V_{f}\over I}
  </annotation>
 </semantics>
</math>

</p>
<h2 id="led-arrays">LED arrays</h2>

<p>Strings of multiple LEDs are normally connected <a href="in_series" title="wikilink">in series</a>. In one configuration, the source voltage may be greater than or equal to the sum of the individual LED voltages; typically the LED voltages add up to around two-thirds of the supply voltage. A single current-limiting resistor may be used for each string.</p>

<p>The other configuration is to run the sum of the supply voltage at approximately 75 – 85% of the combined LED voltages. This uses the LEDs' combined inherent resistance as a serial resistor. While small voltage drops to each LED generally make no discernible loss of intensity or brightness, with sufficient LEDs in series a noticeable drop in brightness begins to show with enough LEDs in the circuit. In assuming that the supply voltage is 12 V, and each LED is 3 V, by using a string of either five or six LEDs whose combined voltage is 15 V or 18 V, they effectively may be under-driven, in favour of absence of power losses in terms of waste heat from resistors as well as simple circuitry.</p>

<p><a href="Parallel_circuits" title="wikilink">Parallel</a> operation is also possible but can be more problematic. Parallel LEDs must have closely matched forward voltages (<em>V<sub>f</sub></em>) in order to have similar branch currents and, therefore, similar light output. Variations in the manufacturing process can make it difficult to obtain satisfactory operation when connecting some types of LEDs in parallel.<a class="footnoteRef" href="#fn1" id="fnref1"><sup>1</sup></a></p>

<p><em>'</em></p>
<h2 id="led-display">LED display</h2>

<p>LEDs are often arranged in ways such that each LED (or each string of LEDs) can be individually turned on and off.</p>

<p>Direct drive is the simplest-to-understand approach -- it uses many independent single-LED (or single-string) circuits. For example, a person could design a <a href="digital_clock" title="wikilink">digital clock</a> such that when the clock displays "12:34" on a <a href="seven-segment_display" title="wikilink">seven-segment display</a>, the clock would turn on the appropriate segments directly and leave them on until something else needs to be displayed.</p>

<p>However, <a href="multiplexed_display" title="wikilink">multiplexed display</a> techniques are more often used than direct drive, because they have lower net hardware costs. For example, most people who design digital clocks design them such that when the clock displays "12:34" on a <a href="seven-segment_display" title="wikilink">seven-segment display</a>, at any one instant the clock turns on the appropriate segments of one of the digits -- all the other digits are dark. The clock scans through the digits rapidly enough that it gives the illusion that it is "constantly" displaying "12:34" for an entire minute. However, each "on" segment is actually being rapidly pulsed on and off many times a second. Such multiplexed displays have net lower hardware costs, but the resulting pulsed operation makes the display inevitably dimmer than directly driving the same LEDs independently.</p>

<p>An extension of this technique is <a class="uri" href="Charlieplexing" title="wikilink">Charlieplexing</a> where the ability of some microcontrollers to <a href="Three-state_logic" title="wikilink">tri-state</a> their output pins means larger numbers of LEDs can be driven, without using latches. For N pins, it is possible to drive n<sup>2</sup>-n LEDs</p>
<h2 id="polarity">Polarity</h2>

<p>Unlike <a href="incandescent_light_bulb" title="wikilink">incandescent light bulbs</a>, which illuminate regardless of the electrical <a href="Polarity_(physics)" title="wikilink">polarity</a>, <a href="LED" title="wikilink">LEDs</a> will only light with correct electrical polarity. When the voltage across the <a href="p-n_junction" title="wikilink">p-n junction</a> is in the correct direction, a significant current flows and the device is said to be <em>forward-biased</em>. If the voltage is of the wrong polarity, the device is said to be <em>reverse biased</em>, very little current flows, and no light is emitted. LEDs can be operated on an <a href="alternating_current" title="wikilink">alternating current</a> voltage, but they will only light with positive voltage, causing the LED to turn on and off at the frequency of the AC supply.</p>

<p>Most LEDs have low reverse <a href="breakdown_voltage" title="wikilink">breakdown voltage</a> ratings, so they will also be damaged by an applied reverse voltage above this threshold. The cause of damage is overcurrent resulting from the diode breakdown, not the voltage itself. LEDs driven directly from an AC supply of more than the reverse breakdown voltage may be protected by placing a diode (or another LED) in <a href="Antiparallel_(electronics)" title="wikilink">inverse parallel</a>.</p>

<p>The manufacturer will normally advise how to determine the polarity of the LED in the product datasheet.<a class="footnoteRef" href="#fn2" id="fnref2"><sup>2</sup></a></p>
<h2 id="pulsed-led-operation">Pulsed LED operation</h2>

<p>Many systems pulse LEDs on and off, by applying power periodically or intermittently. So long as the flicker rate is greater than the human <a href="flicker_fusion_threshold" title="wikilink">flicker fusion threshold</a>, and the LED is stationary relative to the eye, the LED will appear to be continuously lit. Varying the on/off ratio of the pulses is known as <a href="pulse-width_modulation" title="wikilink">pulse-width modulation</a>. In some cases PWM-based drivers are more efficient than constant current or constant voltage drivers.<a class="footnoteRef" href="#fn3" id="fnref3"><sup>3</sup></a><a class="footnoteRef" href="#fn4" id="fnref4"><sup>4</sup></a> It is also done to allow digital intensity control without a more complex <a href="digital-to-analog_converter" title="wikilink">digital-to-analog converter</a>. Several types of microprocessor boards use this technique to control the on-board LED, such as the <a class="uri" href="Arduino" title="wikilink">Arduino</a> and the <a href="MSP430" title="wikilink">Texas Instruments MSP430 LaunchPad</a>.</p>

<p>Most LED data sheets specify a maximum DC current that is safe for continuous operation. Often they specify some higher maximum pulsed current that is safe for brief pulses, as long as the LED controller keeps the pulse short enough and then turns off the power to the LED long enough for the LED to cool off.</p>
<h2 id="led-as-light-sensor">LED as light sensor</h2>

<p> In addition to emission, an LED can be used as a <a class="uri" href="photodiode" title="wikilink">photodiode</a> in <a class="uri" href="light" title="wikilink">light</a> detection. This capability may be used in a variety of applications including <a href="available_light" title="wikilink">ambient light</a> detection and bidirectional communications.<a class="footnoteRef" href="#fn5" id="fnref5"><sup>5</sup></a><a class="footnoteRef" href="#fn6" id="fnref6"><sup>6</sup></a></p>

<p>As a photodiode, an LED is sensitive to wavelengths equal to or shorter than the predominant wavelength it emits. For example, a green LED is sensitive to blue light and to some green light, but not to yellow or red light.</p>

<p>This implementation of LEDs may be added to designs with only minor modifications in circuitry.<a class="footnoteRef" href="#fn7" id="fnref7"><sup>7</sup></a> An LED can be <a class="uri" href="multiplexed" title="wikilink">multiplexed</a> in such a circuit, such that it can be used for both light emission and sensing at different times.<a class="footnoteRef" href="#fn8" id="fnref8"><sup>8</sup></a></p>
<h2 id="see-also">See also</h2>
<ul>
<li><a href="Joule_thief" title="wikilink">Joule thief</a> - minimal switch-mode power supply</li>
<li><a href="Switched-mode_power_supply_applications" title="wikilink">Switched-mode power supply applications</a> (SMPS) applications</li>
</ul>
<h2 id="references">References</h2>

<p><a href="ar:دائرة_ثنائي_مشع" title="wikilink">ar:دائرة ثنائي مشع</a> <a class="uri" href="de:LED#Betrieb.2C_Anschluss_und_Entsorgung" title="wikilink">de:LED#Betrieb.2C_Anschluss_und_Entsorgung</a>"</p>

<p><a href="Category:Analog_circuits" title="wikilink">Category:Analog circuits</a> <a href="Category:Light-emitting_diodes" title="wikilink">Category:Light-emitting diodes</a></p>
<section class="footnotes">
<hr/>
<ol>
<li id="fn1"><a href="#fnref1">↩</a></li>
<li id="fn2"></li>
<li id="fn3">Jim Lepkowski, Mike Hoogstra, and Christopher Young. <a href="http://www.onsemi.com/pub_link/Collateral/AND8067-D.PDF">Application note AND8067/D: "NL27WZ04 Dual Gate Inverter Oscillator Increases the Brightness of LEDs While Reducing Power Consumption"</a><a href="#fnref3">↩</a></li>
<li id="fn4"><a href="http://sci.tech-archive.net/Archive/sci.electronics.basics/2006-01/threads.html#00613">1</a><a href="#fnref4">↩</a></li>
<li id="fn5"></li>
<li id="fn6"><a href="#fnref6">↩</a></li>
<li id="fn7"><a href="#fnref7">↩</a></li>
<li id="fn8"></li>
</ol>
</section>
</body>
</html>
