<html lang="en">
<head>
<meta charset="utf-8"/>
<title offset="1009">Konami SCC</title>
<script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_SVG.js" type="text/javascript">
</script>
</head>
<body>
<h1>Konami SCC</h1>
<hr/>

<p> <strong>The Konami SCC</strong> (Sound Custom Chip or Sound Creative Chip) is a custom sound chip that was developed by <a class="uri" href="Konami" title="wikilink">Konami</a> with <a href="Yamaha_Corporation" title="wikilink">Yamaha</a>. It is one of several sound/memory management chips Konami developed in-house that ended up in use in home computer and video game systems from the late 1980s into the 1990s until the <a href="History_of_video_game_consoles_(fourth_generation)" title="wikilink">fourth generation</a> systems were prolific.</p>
<h2 id="uses">Uses</h2>

<p>The chip was used to expand the sound capabilities of the <a class="uri" href="MSX" title="wikilink">MSX</a> home computer. Its standard sound chip was a tone generating <a href="General_Instrument_AY-3-8910" title="wikilink">PSG</a>, capable of 3 channels of square wave tones. As the computer used cartridges to run software such as video games, Konami placed the SCC chip onto the same board as the ROM inside the cartridge they produced. This added 5 more channels which could be used in conjunction with the sounds of the PSG. Moreover, these channels had programmable waveforms so it expanded the tonal palette of the MSX.</p>

<p>Konami also found use for the chip in arcade boards of the time period as well, such as the <a href="Konami_GX400" title="wikilink">Konami GX400</a>. The game <a href="City_Bomber" title="wikilink">City Bomber</a> and others ran on this system.</p>
<h2 id="physical-description">Physical Description</h2>

<p>On each SCC the following is printed: <em>KONAMI 051649 2212P003 JAPAN</em>, followed by a fabrication location/date number, like <em>8750EAI</em>. The first two digits are the year, followed by the week. The letters after that are plant code of chip manufacturer (EAI is the factory code of one of Toshiba's semiconductor plant.)</p>
<h2 id="capabilities">Capabilities</h2>

<p>Unlike the PSG which was a tone-generating chip, the SCC is a simple wavetable sound chip. The chip has 128 bytes of memory built in, combined from 4 wave samples of 32 bytes each. Each of 3 channels gets its own sample, and channels 4 and 5 share a sample. Each channel can be controlled by an on/off bit, volume, and frequency. SCC sounds can also be used together with PSG sounds.</p>

<p>Though 32 bytes at most resolutions does not represent a complicated sample, such as a guitar recording, the 32 bytes were usually used to construct synthetic instruments with waveforms far more complex than what the PSG tone generators could produce.</p>

<p>It also had a <a href="MSX_cartridge_memory_mapper" title="wikilink">memory mapper</a> built in, so the cartridges only needed this chip and the actual <a href="Read-only_memory" title="wikilink">ROM</a>. Only a few of the MSX/MSX2 games used this chip. The first of all was Gradius 2. Games like Gradius or Yie-Are Kung-Fu were produced using the PSG sound chip but they were re-launched using the SCC chip improving their sound quality.</p>

<p>A slightly improved version called the <a href="Konami_Sound_Cartridge" title="wikilink">SCC+</a> is used for <a class="uri" href="Snatcher" title="wikilink">Snatcher</a> and <a href="SD_Snatcher" title="wikilink">SD Snatcher</a>, which has 64 kB of RAM on-board and minor improvements, such as ability to have different waveform for each channel.</p>
<h2 id="programming-the-scc">Programming the SCC</h2>

<p>What follows here is a technical description of how the chip works. Official documentation was never released to the public so all of this is reverse-engineered.</p>

<p>The SCC is accessed through memory-mapped I/O. First 3Fh (the two high bits are unimportant, so FFh is fine too) must be written to somewhere between 9000h and 97FFh. Now the SCC is active (you can read and write) at 9800h to 9FFFh.</p>
<table>
<thead>
<tr class="header">
<th style="text-align: left;">
<p>Address</p></th>
<th style="text-align: left;">
<p>read/write</p></th>
<th style="text-align: left;">
<p>Function</p></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">
<p>9800h - 981Fh</p></td>
<td style="text-align: left;">
<p>rw</p></td>
<td style="text-align: left;">
<p>waveform channel 1</p></td>
</tr>
<tr class="even">
<td style="text-align: left;">
<p>9820h - 983Fh</p></td>
<td style="text-align: left;">
<p>rw</p></td>
<td style="text-align: left;">
<p>waveform channel 2</p></td>
</tr>
<tr class="odd">
<td style="text-align: left;">
<p>9840h - 985Fh</p></td>
<td style="text-align: left;">
<p>rw</p></td>
<td style="text-align: left;">
<p>waveform channel 3</p></td>
</tr>
<tr class="even">
<td style="text-align: left;">
<p>9860h - 987Fh</p></td>
<td style="text-align: left;">
<p>rw</p></td>
<td style="text-align: left;">
<p>waveform channel 4 and 5</p></td>
</tr>
<tr class="odd">
<td style="text-align: left;">
<p>9880h - 9881h</p></td>
<td style="text-align: left;">
<p>w</p></td>
<td style="text-align: left;">
<p>frequency channel 1</p></td>
</tr>
<tr class="even">
<td style="text-align: left;">
<p>9882h - 9883h</p></td>
<td style="text-align: left;">
<p>w</p></td>
<td style="text-align: left;">
<p>frequency channel 2</p></td>
</tr>
<tr class="odd">
<td style="text-align: left;">
<p>9884h - 9885h</p></td>
<td style="text-align: left;">
<p>w</p></td>
<td style="text-align: left;">
<p>frequency channel 3</p></td>
</tr>
<tr class="even">
<td style="text-align: left;">
<p>9886h - 9887h</p></td>
<td style="text-align: left;">
<p>w</p></td>
<td style="text-align: left;">
<p>frequency channel 4</p></td>
</tr>
<tr class="odd">
<td style="text-align: left;">
<p>9888h - 9889h</p></td>
<td style="text-align: left;">
<p>w</p></td>
<td style="text-align: left;">
<p>frequency channel 5</p></td>
</tr>
<tr class="even">
<td style="text-align: left;">
<p>988Ah</p></td>
<td style="text-align: left;">
<p>w</p></td>
<td style="text-align: left;">
<p>volume channel 1</p></td>
</tr>
<tr class="odd">
<td style="text-align: left;">
<p>988Bh</p></td>
<td style="text-align: left;">
<p>w</p></td>
<td style="text-align: left;">
<p>volume channel 2</p></td>
</tr>
<tr class="even">
<td style="text-align: left;">
<p>988Ch</p></td>
<td style="text-align: left;">
<p>w</p></td>
<td style="text-align: left;">
<p>volume channel 3</p></td>
</tr>
<tr class="odd">
<td style="text-align: left;">
<p>988Dh</p></td>
<td style="text-align: left;">
<p>w</p></td>
<td style="text-align: left;">
<p>volume channel 4</p></td>
</tr>
<tr class="even">
<td style="text-align: left;">
<p>988Eh</p></td>
<td style="text-align: left;">
<p>w</p></td>
<td style="text-align: left;">
<p>volume channel 5</p></td>
</tr>
<tr class="odd">
<td style="text-align: left;">
<p>988Fh</p></td>
<td style="text-align: left;">
<p>w</p></td>
<td style="text-align: left;">
<p>on/off switch channel 1 to 5</p></td>
</tr>
<tr class="even">
<td style="text-align: left;">
<p>9890h - 989Fh</p></td>
<td style="text-align: left;"></td>
<td style="text-align: left;">
<p>same as 9880h to 988Fh</p></td>
</tr>
<tr class="odd">
<td style="text-align: left;">
<p>98A0h - 98DFh</p></td>
<td style="text-align: left;"></td>
<td style="text-align: left;">
<p>no function</p></td>
</tr>
<tr class="even">
<td style="text-align: left;">
<p>98E0h - 98FFh</p></td>
<td style="text-align: left;">
<p>rw</p></td>
<td style="text-align: left;">
<p>deformation register</p></td>
</tr>
</tbody>
</table>

<p>The waveform is made up of 32, signed (two's complement) bytes. The waveform represents the actual form of the tone the sound chip produces. It's played back from byte 0 to 31 and then again from the start.</p>

<p>The frequency is stored the same way as in the PSG. It is a 12-bit value. The first byte contains bits 0 to 7 from the frequency and bits 0 to 3 of the second byte contain bits 8 to 11 of the frequency. Bits 4 to 7 of the second byte are ignored. Remember that the value you enter is really a period: a higher value gives a lower frequency.</p>

<p>The formula for calculating the frequency of the tone is almost the same than for the PSG:</p>

<p>

<math display="inline" id="Konami_SCC:0">
 <semantics>
  <mrow>
   <msub>
    <mi>f</mi>
    <mrow>
     <mi>t</mi>
     <mi>o</mi>
     <mi>n</mi>
     <mi>e</mi>
    </mrow>
   </msub>
   <mo>=</mo>
   <mfrac>
    <msub>
     <mi>f</mi>
     <mrow>
      <mi>c</mi>
      <mi>l</mi>
      <mi>o</mi>
      <mi>c</mi>
      <mi>k</mi>
     </mrow>
    </msub>
    <mrow>
     <mn>32</mn>
     <mrow>
      <mo stretchy="false">(</mo>
      <mrow>
       <mi>P</mi>
       <mo>+</mo>
       <mn>1</mn>
      </mrow>
      <mo stretchy="false">)</mo>
     </mrow>
    </mrow>
   </mfrac>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <csymbol cd="ambiguous">subscript</csymbol>
     <ci>f</ci>
     <apply>
      <times></times>
      <ci>t</ci>
      <ci>o</ci>
      <ci>n</ci>
      <ci>e</ci>
     </apply>
    </apply>
    <apply>
     <divide></divide>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <ci>f</ci>
      <apply>
       <times></times>
       <ci>c</ci>
       <ci>l</ci>
       <ci>o</ci>
       <ci>c</ci>
       <ci>k</ci>
      </apply>
     </apply>
     <apply>
      <times></times>
      <cn type="integer">32</cn>
      <apply>
       <plus></plus>
       <ci>P</ci>
       <cn type="integer">1</cn>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   f_{tone}=\frac{f_{clock}}{32(P+1)}
  </annotation>
 </semantics>
</math>

 

<math display="inline" id="Konami_SCC:1">
 <semantics>
  <msub>
   <mi>f</mi>
   <mrow>
    <mi>c</mi>
    <mi>l</mi>
    <mi>o</mi>
    <mi>c</mi>
    <mi>k</mi>
   </mrow>
  </msub>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <csymbol cd="ambiguous">subscript</csymbol>
    <ci>f</ci>
    <apply>
     <times></times>
     <ci>c</ci>
     <ci>l</ci>
     <ci>o</ci>
     <ci>c</ci>
     <ci>k</ci>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   f_{clock}
  </annotation>
 </semantics>
</math>

 is the clock of the computer (always 3,579,545Hz on an MSX) and P is the 12 bits period set in the frequency register.</p>

<p>The volume is stored in the same way as in the MSX PSG, though it does not support envelopes. Bits 0 to 3 contain a volume of 0 to 15, and bits 7 to 4 are ignored. A volume of 0 is silent, and a volume of 15 is maximum volume.</p>

<p>Note: SCC volume is linear while the MSX PSG (usually the AY-3-8910) has logarithmic levels according to 

<math display="inline" id="Konami_SCC:2">
 <semantics>
  <mrow>
   <mi>y</mi>
   <mo>=</mo>
   <msup>
    <mn>2</mn>
    <mrow>
     <mo>-</mo>
     <mrow>
      <mo stretchy="false">(</mo>
      <mrow>
       <mrow>
        <mo stretchy="false">(</mo>
        <mrow>
         <mn>15</mn>
         <mo>-</mo>
         <mi>n</mi>
        </mrow>
        <mo stretchy="false">)</mo>
       </mrow>
       <mo>/</mo>
       <mn>2</mn>
      </mrow>
      <mo stretchy="false">)</mo>
     </mrow>
    </mrow>
   </msup>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <ci>y</ci>
    <apply>
     <csymbol cd="ambiguous">superscript</csymbol>
     <cn type="integer">2</cn>
     <apply>
      <minus></minus>
      <apply>
       <divide></divide>
       <apply>
        <minus></minus>
        <cn type="integer">15</cn>
        <ci>n</ci>
       </apply>
       <cn type="integer">2</cn>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   y=2^{-((15-n)/2)}
  </annotation>
 </semantics>
</math>

 (execept for n=0 that gives no output).</p>

<p>The on/off switch register switches the different channels on or off. Set bit 0 to activate channel 1, bit 1 for channel 2, and so on to bit 4 for channel 5. Bits 5 through 7 are ignored.</p>
<h2 id="deformation-register-98e0h">Deformation Register (98E0h)</h2>

<p>This register is not used by any <a class="uri" href="Konami" title="wikilink">Konami</a> game. All the addresses in the memory area (98E0h - 98FFh) refer to the same register. Resetting the SCC will set this register to 0.</p>

<p>The bits are RRB000XX with the following meaning: <poem> XX: Freq multiplier</poem></p>

<p><code>   00 = *1</code><br/>
<code>   01 = *256</code><br/>
<code>   10 = *16</code><br/>
<code>   11 = *16</code></p>

<p> The lower two bits (XX) influence the frequency. If set to 01b, all frequencies are multiplied by 256. If set to 11b or 10b, all frequencies are multiplied by 16. (This affects both freq of voice and rotation speed.) <poem> B: Reset if freq is written</poem></p>

<p><code>   0 = Normal</code><br/>
<code>   1 = Start from beginning of sample when freq changes</code></p>

<p> If bit 5 is set, waveform playback is started from the beginning when a frequency register is written to.<br/>
(This can be also used to implement sub-sample phase differences and among channels) <poem> RR: Rotation</poem></p>

<p><code>   00 = Normal, No rotation</code><br/>
<code>   01 = Rotate all waveforms with channel own freq. CH4 &amp; CH5 common waveform will be rotated with CH5 freq.</code><br/>
<code>   10 = Rotate only CH4 &amp; CH5 common waveform. Waveform will be rotated with CH4 freq.</code><br/>
<code>   11 = as 10, but to be verified by HW tests.</code></p>

<p> Channels that are rotating are READ ONLY. Writing will have no effect.</p>

<p>Rotating speed is same as reading speed of sample from memory. This means that it is easy to use CH4 &amp; CH5 common waveform as time counter for sample in other channel. Note anyway, that reading too actively may cause noise as SCC can't read the memory at the same time.</p>

<p>Reading from this register will return FFh, but will set bit 6 of the register. Since the waves start to rotate now, the values in 9800h through 987Fh will change each time you read them.</p>
<h2 id="more-on-memory">More on memory</h2>

<p>The memory area from 9800h to 987Fh behaves as RAM as long as the deformation register is reset. The memory area from 9880h to 98FFh is write only; if you read it, it'll always return FFh. Watch out for reading from the deformation register, as this will set bit 6.</p>

<p>The memory area from 9900h to 99FFh has exactly the same function as from 9800h to 98FFh, 9900h through 99FFh and so on to 9F00h through 9FFFh. This happens because the SCC chip is not connected to address lines A8 through A10, so it cannot distinguish these ranges.</p>
<h2 id="see-also">See also</h2>
<ul>
<li><a href="Konami_Sound_Cartridge" title="wikilink">Konami Sound Cartridge (aka Konami SCC+)</a></li>
</ul>
<h2 id="external-links">External links</h2>
<ul>
<li>Most of the information in this article comes from: <a class="uri" href="http://bifi.msxnet.org/msxnet/tech/scc">http://bifi.msxnet.org/msxnet/tech/scc</a></li>
<li>Konami SCC cartridge design for <a href="EAGLE_(program)" title="wikilink">EAGLE</a> and <a class="uri" href="Altera" title="wikilink">Altera</a> <a href="FPGA" title="wikilink">Cyclone III</a> configuration emulating sound subsystem of the chip is available from: <a class="uri" href="http://www.gr8bit.ru/gr8bit-knowledge-base.html">http://www.gr8bit.ru/gr8bit-knowledge-base.html</a></li>
</ul>

<p>"</p>

<p><a class="uri" href="Category:MSX" title="wikilink">Category:MSX</a> <a href="Category:Sound_chips" title="wikilink">Category:Sound chips</a></p>
</body>
</html>
