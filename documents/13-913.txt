   Averaging argument      Averaging argument   In computational complexity theory and cryptography , averaging argument is a standard argument for proving theorems. It usually allows us to convert probabilistic  polynomial-time algorithms into non-uniform polynomial-size circuits .  Example  To simplify, let's first consider an example.  Example: If every person likes at least 1/3 of the books in a library, then, there exists a book, which at least 1/3 of people liked it.  Proof: Suppose there are   N   N   N   people and B books. Each person likes at least    B  /  3      B  3    B/3   of the books. Let people leave a mark on the book they like. Then, there will be at least    M  =    (   N  B   )   /  3       M      N  B   3     M=(NB)/3   marks. The averaging argument claims that there exists a book with at least    N  /  3      N  3    N/3   marks on it. Assume, to the contradiction, that no such book exists. Then, every book has fewer than    N  /  3      N  3    N/3   marks. However, since there are   B   B   B   books, the total number of marks will be fewer than     (   N  B   )   /  3        N  B   3    (NB)/3   , contradicting the fact that there are at least   M   M   M   marks.   ■   normal-■   \scriptstyle\blacksquare     Formalized definition of averaging argument   Consider two sets: X and Y, a proposition    p  :    X  ×  Y   →  TRUE/FALSE      normal-:  p   normal-→    X  Y   TRUE/FALSE     p\colon X\times Y\to\text{TRUE/FALSE}   , and a fraction   f   f   f   (where    0  ≤  f  ≤  1        0  f       1     0\leq f\leq 1   ).  If for all    x  ∈  X      x  X    x\in X   and at least a fraction   f   f   f   of    y  ∈  Y      y  Y    y\in Y   , the proposition    p   (  x  ,  y  )       p   x  y     p(x,y)   holds, then there exists a    y  ∈  Y      y  Y    y\in Y   , for which there exists a fraction   f   f   f   of    x  ∈  X      x  X    x\in X   that the proposition    p   (  x  ,  y  )       p   x  y     p(x,y)   holds.   Another formal (and more complicated) definition is due to Barak: 1   Let   f   f   f   be some function. The averaging argument is the following claim: if we have a circuit   C   C   C   such that     C   (  x  ,  y  )    =   f   (  x  )          C   x  y      f  x     C(x,y)=f(x)   with probability at least   ρ   ρ   \rho   , where   x   x   x   is chosen at random and   y   y   y   is chosen independently from some distribution    Y   Y   Y   over     {  0  ,  1  }   m     superscript   0  1   m    \{0,1\}^{m}   (which might not even be efficiently sampleable ) then there exists a single string     y  0   ∈    {  0  ,  1  }   m        subscript  y  0    superscript   0  1   m     y_{0}\in\{0,1\}^{m}   such that      Pr  x    [    C   (  x  ,   y  0   )    =   f   (  x  )     ]    ≥  ρ        subscript  Pr  x       C   x   subscript  y  0       f  x     ρ    \Pr_{x}[C(x,y_{0})=f(x)]\geq\rho   .  Indeed, for every   y   y   y   define    p  y     subscript  p  y    p_{y}   to be     Pr  x    [    C   (  x  ,  y  )    =   f   (  x  )     ]       subscript  Pr  x       C   x  y      f  x      \Pr_{x}[C(x,y)=f(x)]   then        Pr   x  ,  y     [    C   (  x  ,  y  )    =   f   (  x  )     ]    =    E  y    [   p  y   ]          subscript  Pr   x  y        C   x  y      f  x        subscript  E  y    delimited-[]   subscript  p  y       \Pr_{x,y}[C(x,y)=f(x)]=E_{y}[p_{y}]\,     and then this reduces to the claim that for every random variable   Z   Z   Z   , if     E   [  Z  ]    ≥  ρ        E   delimited-[]  Z    ρ    E[Z]\geq\rho   then     Pr   [   Z  ≥  ρ   ]    >  0       Pr    Z  ρ    0    \Pr[Z\geq\rho]>0   (this holds since    E   [  Z  ]       E   delimited-[]  Z     E[Z]   is the weighted average of   Z   Z   Z   and clearly if the average of some values is at least   ρ   ρ   \rho   then one of the values must be at least   ρ   ρ   \rho   ).   Application  This argument has wide use in complexity theory (e.g. proving     ℬ  𝒫  𝒫   ⊊   𝒫  /  poly         ℬ  𝒫  𝒫     𝒫  poly     \mathcal{BPP}\subsetneq\mathcal{P}/\text{poly}   ) and cryptography (e.g. proving that indistinguishable encryption results in semantic security ). A plethora of such applications can be found in Goldreich 's books. 2 3 4  References  "  Category:Computational complexity theory  Category:Circuit complexity  Category:Probabilistic complexity theory  Category:Theory of cryptography     Boaz Barak , "Note on the averaging and hybrid arguments and prediction vs. distinguishing." , COS522, Princeton University, March 2006. ↩  Oded Goldreich , Foundations of Cryptography, Volume 1: Basic Tools , Cambridge University Press, 2001, ISBN 0-521-79172-3 ↩  Oded Goldreich , Foundations of Cryptography, Volume 2: Basic Applications , Cambridge University Press, 2004, ISBN 0-521-83084-2 ↩  Oded Goldreich , Computational Complexity: A Conceptual Perspective , Cambridge University Press, 2008, ISBN 0-521-88473-X ↩     