   Trace (linear algebra)      Trace (linear algebra)   In linear algebra , the trace of an n -by- n  square matrix  A is defined to be the sum of the elements on the main diagonal (the diagonal from the upper left to the lower right) of A , i.e.,       tr   (  A  )    =    a  11   +   a  22   +  ‚Ä¶  +   a   n  n     =    ‚àë   i  =  1   n    a   i  i            tr  A      subscript  a  11    subscript  a  22   normal-‚Ä¶   subscript  a    n  n            superscript   subscript     i  1    n    subscript  a    i  i        \operatorname{tr}(A)=a_{11}+a_{22}+\dots+a_{nn}=\sum_{i=1}^{n}a_{ii}   where a nn denotes the entry on the n -th row and n -th column of A . The trace of a matrix is the sum of the (complex) eigenvalues , and it is invariant with respect to a change of basis . This characterization can be used to define the trace of a linear operator in general. Note that the trace is only defined for a square matrix (i.e., ).  The trace is related to the derivative of the determinant (see Jacobi's formula ).  The term trace is a calque from the German Spur ( cognate with the English spoor ), which, as a function in mathematics, is often abbreviated to "tr".  Example  Let A be a matrix, with      A  =   (     a    b    c      d    e    f      g    h    i     )       A    a  b  c    d  e  f    g  h  i      A=\begin{pmatrix}a&b&c\\
 d&e&f\\
 g&h&i\end{pmatrix}   .  Then       tr   (  A  )    =   a  +  e  +  i        tr  A     a  e  i     \operatorname{tr}(A)=a+e+i   .  Properties  Basic properties  The trace is a linear mapping . That is,       tr   (   A  +  B   )    =    tr   (  A  )    +   tr   (  B  )          tr    A  B       tr  A    tr  B      \operatorname{tr}(A+B)=\operatorname{tr}(A)+\operatorname{tr}(B)   ,       tr   (   c  A   )    =   c   tr   (  A  )          tr    c  A      c   tr  A      \operatorname{tr}(cA)=c\operatorname{tr}(A)   .  for all square matrices A and B , and all scalars  c .  A matrix and its transpose have the same trace:       tr   (  A  )    =   tr   (   A  T   )         tr  A    tr   superscript  A  normal-T      \operatorname{tr}(A)=\operatorname{tr}(A^{\mathrm{T}})   .  This follows immediately from the fact that transposing a square matrix does not affect elements along the main diagonal.  Trace of a product  The trace of a product can be rewritten as the sum of entry-wise products of elements:       tr   (    X  T   Y   )    =   tr   (   X   Y  T    )    =   tr   (    Y  T   X   )    =   tr   (   Y   X  T    )    =    ‚àë   i  ,  j      X   i  j     Y   i  j             tr     superscript  X  normal-T   Y     tr    X   superscript  Y  normal-T           tr     superscript  Y  normal-T   X          tr    Y   superscript  X  normal-T            subscript    i  j       subscript  X    i  j     subscript  Y    i  j         \operatorname{tr}(X^{\mathrm{T}}Y)=\operatorname{tr}(XY^{\mathrm{T}})=%
 \operatorname{tr}(Y^{\mathrm{T}}X)=\operatorname{tr}(YX^{\mathrm{T}})=\sum_{i,%
 j}X_{ij}Y_{ij}   .  This means that the trace of a product of matrices functions similarly to a dot product of vectors. For this reason, generalizations of vector operations to matrices (e.g. in matrix calculus and statistics ) often involve a trace of matrix products.  The trace of a product can also be written in the following forms:           tr   (    X  T   Y   )    =    ‚àë  i     (   X  ‚àò  Y   )    i  i          tr     superscript  X  normal-T   Y      subscript   i    subscript    X  Y     i  i       \operatorname{tr}(X^{\mathrm{T}}Y)=\sum_{i}(X\circ Y)_{ii}       (using the Hadamard product , i.e. entry-wise product).            tr   (   X  T   Y  )   =  vec    (  Y  )   T   vec   (  X  )   =  vec    (  X  )   T   vec   (  Y  )      fragments  tr   fragments  normal-(   superscript  X  normal-T   Y  normal-)    vec   superscript   fragments  normal-(  Y  normal-)   normal-T   vec   fragments  normal-(  X  normal-)    vec   superscript   fragments  normal-(  X  normal-)   normal-T   vec   fragments  normal-(  Y  normal-)     \operatorname{tr}(X^{\mathrm{T}}Y)=\operatorname{vec}(Y)^{\mathrm{T}}%
 \operatorname{vec}(X)=\operatorname{vec}(X)^{\mathrm{T}}\operatorname{vec}(Y)       (using the vectorization operator).        The matrices in a trace of a product can be switched: If A is an m √ó n matrix and B is an n √ó m matrix, then       tr   (   A  B   )    =   tr   (   B  A   )         tr    A  B     tr    B  A      \operatorname{tr}(AB)=\operatorname{tr}(BA)   . This is immediate from the definition of the matrix product :       tr   (   A  B   )    =    ‚àë   i  =  1   m     (   A  B   )    i  i     =    ‚àë   i  =  1   m     ‚àë   j  =  1   n     A   i  j     B   j  i       =    ‚àë   j  =  1   n     ‚àë   i  =  1   m     B   j  i     A   i  j       =    ‚àë   j  =  1   n     (   B  A   )    j  j     =   tr   (   B  A   )           tr    A  B      superscript   subscript     i  1    m    subscript    A  B     i  i            superscript   subscript     i  1    m     superscript   subscript     j  1    n      subscript  A    i  j     subscript  B    j  i              superscript   subscript     j  1    n     superscript   subscript     i  1    m      subscript  B    j  i     subscript  A    i  j              superscript   subscript     j  1    n    subscript    B  A     j  j           tr    B  A       \operatorname{tr}(AB)=\sum_{i=1}^{m}\left(AB\right)_{ii}=\sum_{i=1}^{m}\sum_{j%
 =1}^{n}A_{ij}B_{ji}=\sum_{j=1}^{n}\sum_{i=1}^{m}B_{ji}A_{ij}=\sum_{j=1}^{n}%
 \left(BA\right)_{jj}=\operatorname{tr}(BA)   .  Equivalently, the trace is invariant under cyclic permutations , i.e.,       tr   (   A  B  C  D   )    =   tr   (   B  C  D  A   )    =   tr   (   C  D  A  B   )    =   tr   (   D  A  B  C   )           tr    A  B  C  D     tr    B  C  D  A          tr    C  D  A  B          tr    D  A  B  C       \operatorname{tr}(ABCD)=\operatorname{tr}(BCDA)=\operatorname{tr}(CDAB)=%
 \operatorname{tr}(DABC)   .  This is known as the cyclic property .  Note that arbitrary permutations are not allowed: in general,       tr   (   A  B  C   )    ‚â†   tr   (   A  C  B   )         tr    A  B  C     tr    A  C  B      \operatorname{tr}(ABC)\neq\operatorname{tr}(ACB)   .  However, if products of three symmetric matrices are considered, any permutation is allowed. (Proof: tr( ABC ) = tr( A T  B T  C T ) = tr( A T ( CB ) T ) = tr(( CB ) T A T ) = tr(( ACB ) T ) = tr( ACB ), where the last equality is because the traces of a matrix and its transpose are equal.) For more than three factors this is not true.  Unlike the determinant , the trace of the product is not the product of traces. What is true is that the trace of the tensor product of two matrices is the product of their traces:       tr   (   X  ‚äó  Y   )    =    tr   (  X  )     tr   (  Y  )          tr   tensor-product  X  Y       tr  X    tr  Y      \operatorname{tr}(X\otimes Y)=\operatorname{tr}(X)\operatorname{tr}(Y)   .  Other properties  The following three properties:       tr   (   A  +  B   )    =    tr   (  A  )    +   tr   (  B  )          tr    A  B       tr  A    tr  B      \operatorname{tr}(A+B)=\operatorname{tr}(A)+\operatorname{tr}(B)   ,       tr   (   c  A   )    =   c  ‚ãÖ   tr   (  A  )          tr    c  A     normal-‚ãÖ  c   tr  A      \operatorname{tr}(cA)=c\cdot\operatorname{tr}(A)   ,       tr   (   A  B   )    =   tr   (   B  A   )         tr    A  B     tr    B  A      \operatorname{tr}(AB)=\operatorname{tr}(BA)   ,  characterize the trace completely in the sense that follows. Let f be a linear functional on the space of square matrices satisfying . Then f and tr are proportional. Proof:       f   (   e   i  j    )    =  0        f   subscript  e    i  j     0    f(e_{ij})=0   if and only if    i  ‚â†  j      i  j    i\neq j   and     f   (   e   j  j    )    =   f   (   e  11   )          f   subscript  e    j  j       f   subscript  e  11      f(e_{jj})=f(e_{11})   (with the standard basis    e   i  j      subscript  e    i  j     e_{ij}   ), and thus       f   (  A  )    =    ‚àë   i  ,  j       [  A  ]    i  j    f   (   e   i  j    )     =    ‚àë  i      [  A  ]    i  i    f   (   e  11   )     =   f   (   e  11   )    tr   (  A  )             f  A     subscript    i  j       subscript   delimited-[]  A     i  j    f   subscript  e    i  j             subscript   i      subscript   delimited-[]  A     i  i    f   subscript  e  11            f   subscript  e  11    tr  A       f(A)=\sum_{i,j}[A]_{ij}f(e_{ij})=\sum_{i}[A]_{ii}f(e_{11})=f(e_{11})%
 \operatorname{tr}(A)   .  More abstractly, this corresponds to the decomposition     ùëîùëô  n   =    ùë†ùëô  n   ‚äï  k        subscript  ùëîùëô  n    direct-sum   subscript  ùë†ùëô  n   k     \mathit{gl}_{n}=\mathit{sl}_{n}\oplus k   , as tr( AB ) = tr( BA ) (equivalently,     tr   (   [  A  ,  B  ]   )    =  0       tr   A  B    0    \operatorname{tr}([A,B])=0   ) defines the trace on sl n , which has complement the scalar matrices, and leaves one degree of freedom: any such map is determined by its value on scalars, which is one scalar parameter and hence all are multiple of the trace, a non-zero such map.  The trace is similarity-invariant , which means that A and P ‚àí1 AP have the same trace. This is because       tr   (    P   -  1    A  P   )    =   tr   (    P   -  1     (   A  P   )    )    =   tr   (    (   A  P   )    P   -  1     )    =   tr   (   A   (   P   P   -  1     )    )    =   tr   (  A  )           tr     superscript  P    1    A  P     tr     superscript  P    1      A  P           tr      A  P    superscript  P    1            tr    A    P   superscript  P    1             tr  A      \operatorname{tr}(P^{-1}AP)=\operatorname{tr}(P^{-1}(AP))=\operatorname{tr}((%
 AP)P^{-1})=\operatorname{tr}(A(PP^{-1}))=\operatorname{tr}(A)   .  If A is symmetric and B is antisymmetric , then       tr   (   A  B   )    =  0       tr    A  B    0    \operatorname{tr}(AB)=0   .  The trace of the identity matrix is the dimension of the space; this leads to generalizations of dimension using trace . The trace of an idempotent matrix  A (for which A 2 = A ) is the rank of A . The trace of a nilpotent matrix is zero.  More generally, if is the characteristic polynomial of a matrix A , then       tr   (  A  )    =     d  1    Œª  1    +  ‚ãØ  +    d  k    Œª  k          tr  A        subscript  d  1    subscript  Œª  1    normal-‚ãØ     subscript  d  k    subscript  Œª  k       \operatorname{tr}(A)=d_{1}\lambda_{1}+\cdots+d_{k}\lambda_{k}   .  When both A and B are n -by- n , the trace of the (ring-theoretic) commutator of A and B vanishes: tr([ A , B ])¬†=¬†0; one can state this as "the trace is a map of Lie algebras     g   l  n    ‚Üí  k     normal-‚Üí    g   subscript  l  n    k    gl_{n}\to k   from operators to scalars", as the commutator of scalars is trivial (it is an abelian Lie algebra). In particular, using similarity invariance, it follows that the identity matrix is never similar to the commutator of any pair of matrices.  Conversely, any square matrix with zero trace is a linear combinations of the commutators of pairs of matrices. 1 Moreover, any square matrix with zero trace is unitarily equivalent to a square matrix with diagonal consisting of all zeros.  The trace of any power of a nilpotent matrix is zero. When the characteristic of the base field is zero, the converse also holds: if     tr   (   x  k   )    =  0       tr   superscript  x  k    0    \operatorname{tr}(x^{k})=0   for all   k   k   k   , then   x   x   x   is nilpotent.  The trace of a Hermitian matrix is real, because the elements on the diagonal are real.  The trace of a projection matrix is the dimension of the target space. If         P  X   =   X    (    X  T   X   )    -  1     X  T         subscript  P  X     X   superscript     superscript  X  normal-T   X     1     superscript  X  normal-T      P_{X}=X\left(X^{\mathrm{T}}X\right)^{-1}X^{\mathrm{T}}   ,    then      tr   (   P  X   )    =   rank   (  X  )         tr   subscript  P  X     rank  X     \operatorname{tr}\left(P_{X}\right)=\operatorname{rank}\left(X\right)   .    Exponential trace  Expressions like exp(tr( A )), where A is a square matrix, occur so often in some fields (e.g. multivariate statistical theory), that a shorthand notation has become common:       etr   (  A  )    :=   exp   (   tr   (  A  )    )       assign   etr  A      tr  A      \operatorname{etr}(A):=\exp(\operatorname{tr}(A))   .  This is sometimes referred to as the exponential trace function; it is used in the Golden‚ÄìThompson inequality .  Trace of a linear operator  Given some linear map  ( V is a finite- dimensional  vector space ) generally, we can define the trace of this map by considering the trace of matrix representation of f , that is, choosing a basis for V and describing f as a matrix relative to this basis, and taking the trace of this square matrix. The result will not depend on the basis chosen, since different bases will give rise to similar matrices , allowing for the possibility of a basis-independent definition for the trace of a linear map.  Such a definition can be given using the canonical isomorphism between the space End( V ) of linear maps on V and , where V * is the dual space of V . Let v be in V and let f be in V * . Then the trace of the decomposable element  is defined to be f ( v ); the trace of a general element is defined by linearity. Using an explicit basis for V and the corresponding dual basis for V * , one can show that this gives the same definition of the trace as given above.  Eigenvalue relationships  If A is a square n -by- n matrix with real or complex entries and if Œª 1 ,...,Œª n are the eigenvalues of A (listed according to their algebraic multiplicities ), then       tr   (  A  )    =    ‚àë  i    Œª  i         tr  A     subscript   i    subscript  Œª  i      \operatorname{tr}(A)=\sum_{i}\lambda_{i}   .  This follows from the fact that A is always similar to its Jordan form , an upper triangular matrix having Œª 1 ,...,Œª n on the main diagonal. In contrast, the determinant of   A   A   A   is the product of its eigenvalues; i.e.,       det   (  A  )    =    ‚àè  i    Œª  i         det  A     subscript  product  i    subscript  Œª  i      \operatorname{det}(A)=\prod_{i}\lambda_{i}   .  More generally,       tr   (   A  k   )    =    ‚àë  i    Œª  i  k         tr   superscript  A  k      subscript   i    superscript   subscript  Œª  i   k      \operatorname{tr}(A^{k})=\sum_{i}\lambda_{i}^{k}   .  Derivatives  The trace corresponds to the derivative of the determinant: it is the Lie algebra analog of the ( Lie group ) map of the determinant. This is made precise in Jacobi's formula for the derivative of the determinant .  As a particular case, at the identity , the derivative of the determinant actually amounts to the trace    tr  =   det  I  ‚Ä≤       tr   subscript   superscript  det  normal-‚Ä≤   I     \operatorname{tr}=\operatorname{det}^{\prime}_{I}   . From this (or from the connection between the trace and the eigenvalues), one can derive a connection between the trace function, the exponential map between a Lie algebra and its Lie group (or concretely, the matrix exponential function), and the determinant :       det   (   exp   (  A  )    )    =   exp   (   tr   (  A  )    )            A       tr  A      \det(\exp(A))=\exp(\operatorname{tr}(A))   .  For example, consider the one-parameter family of linear transformations given by rotation through angle Œ∏,       R  Œ∏   =   (      cos  Œ∏      -   sin  Œ∏         sin  Œ∏      cos  Œ∏      )        subscript  R  Œ∏       Œ∏       Œ∏        Œ∏     Œ∏       R_{\theta}=\left(\begin{array}[]{cc}\cos\theta&-\sin\theta\\
 \sin\theta&\cos\theta\end{array}\right)   .  These transformations all have determinant 1, so they preserve area. The derivative of this family at Œ∏ = 0, the identity rotation, is the antisymmetric matrix      A  =   (     0     -  1       1    0     )       A    0    1     1  0      A=\left(\begin{array}[]{cc}0&-1\\
 1&0\end{array}\right)     which clearly has trace zero, indicating that this matrix represents an infinitesimal transformation which preserves area.  A related characterization of the trace applies to linear vector fields. Given a matrix A , define a vector field F on ‚Ñù n by . The components of this vector field are linear functions (given by the rows of A ). Its divergence is a constant function, whose value is equal to tr( A ). By the divergence theorem , one can interpret this in terms of flows: if F ( x ) represents the velocity of a fluid at location x and U is a region in ‚Ñù n , the net flow of the fluid out of U is given by , where vol( U ) is the volume of U .  The trace is a linear operator, hence it commutes with the derivative:       d   tr   (  X  )     =   tr   (   d  X   )         normal-d   tr  X     tr   normal-d  X      \operatorname{d}\operatorname{tr}(X)=\operatorname{tr}(\operatorname{d\!}X)   .  Applications  The trace of a 2-by-2 complex matrix is used to classify M√∂bius transformations . First the matrix is normalized to make its determinant equal to one. Then, if the square of the trace is 4, the corresponding transformation is parabolic . If the square is in the interval [0,4), it is elliptic . Finally, if the square is greater than 4, the transformation is loxodromic . See classification of M√∂bius transformations .  The trace is used to define characters of group representations . Two representations     A  ,  B   :   G  ‚Üí   ùê∫ùêø   (  V  )        normal-:   A  B    normal-‚Üí  G    ùê∫ùêø  V      A,B:G\to\mathit{GL}(V)   of a group G are equivalent (up to change of basis on V ) if      tr  A    (  g  )    =    tr  B    (  g  )           tr  A   g      tr  B   g     \operatorname{tr}A(g)=\operatorname{tr}B(g)   for all .  The trace also plays a central role in the distribution of quadratic forms .  Lie algebra  The trace is a map of Lie algebras    tr  :    ùëîùëô  n   ‚Üí  k      normal-:  tr   normal-‚Üí   subscript  ùëîùëô  n   k     \operatorname{tr}\colon\mathit{gl}_{n}\to k   from the Lie algebra gl n of operators on a n -dimensional space ( matrices) to the Lie algebra k of scalars; as k is abelian (the Lie bracket vanishes), the fact that this is a map of Lie algebras is exactly the statement that the trace of a bracket vanishes:       tr   (   [  A  ,  B  ]   )    =  0       tr   A  B    0    \operatorname{tr}([A,B])=0   .  The kernel of this map, a matrix whose trace is zero , is often said to be or , and these matrices form the simple Lie algebra  sl n , which is the Lie algebra of the special linear group of matrices with determinant 1. The special linear group consists of the matrices which do not change volume, while the special linear algebra is the matrices which infinitesimally do not change volume.  In fact, there is an internal direct sum decomposition     ùëîùëô  n   =    ùë†ùëô  n   ‚äï  k        subscript  ùëîùëô  n    direct-sum   subscript  ùë†ùëô  n   k     \mathit{gl}_{n}=\mathit{sl}_{n}\oplus k   of operators/matrices into traceless operators/matrices and scalars operators/matrices. The projection map onto scalar operators can be expressed in terms of the trace, concretely as:      A  ‚Ü¶      1  n     tr   (  A  )     ‚ãÖ  I      maps-to  A   normal-‚ãÖ      1  n    tr  A    I     A\mapsto\textstyle{\frac{1}{n}}\operatorname{tr}(A)\cdot I   .  Formally, one can compose the trace (the counit map) with the unit map    k  ‚Üí   ùëîùëô  n      normal-‚Üí  k   subscript  ùëîùëô  n     k\to\mathit{gl}_{n}   of "inclusion of scalars " to obtain a map     ùëîùëô  n   ‚Üí   ùëîùëô  n      normal-‚Üí   subscript  ùëîùëô  n    subscript  ùëîùëô  n     \mathit{gl}_{n}\to\mathit{gl}_{n}   mapping onto scalars, and multiplying by n . Dividing by n makes this a projection, yielding the formula above.  In terms of short exact sequences , one has      0  ‚Üí   ùë†ùëô  n   ‚Üí    ùëîùëô  n    ‚Üí  tr   k   ‚Üí  0       normal-‚Üí  0   subscript  ùë†ùëô  n     normal-‚Üí       subscript  ùëîùëô  n    tr  normal-‚Üí   k     normal-‚Üí    0     0\to\mathit{sl}_{n}\to\mathit{gl}_{n}\overset{\operatorname{tr}}{\to}k\to 0   which is analogous to      1  ‚Üí   ùëÜùêø  n   ‚Üí    ùê∫ùêø  n    ‚Üí  det    K  *    ‚Üí  1       normal-‚Üí  1   subscript  ùëÜùêø  n     normal-‚Üí       subscript  ùê∫ùêø  n    det  normal-‚Üí    superscript  K       normal-‚Üí    1     1\to\mathit{SL}_{n}\to\mathit{GL}_{n}\overset{\operatorname{det}}{\to}K^{*}\to
 1   for Lie groups. However, the trace splits naturally (via    1  n      1  n    \textstyle{\frac{1}{n}}   times scalars) so     ùëîùëô  n   =    s   l  n    ‚äï  k        subscript  ùëîùëô  n    direct-sum    s   subscript  l  n    k     \mathit{gl}_{n}=sl_{n}\oplus k   , but the splitting of the determinant would be as the n th root times scalars, and this does not in general define a function, so the determinant does not split and the general linear group does not decompose      ùê∫ùêø  n   ‚â†    S   L  n    √ó   K  *     .       subscript  ùê∫ùêø  n       S   subscript  L  n     superscript  K       \mathit{GL}_{n}\neq SL_{n}\times K^{*}.     Bilinear forms  The bilinear form       B   (  x  ,  y  )    =     tr   (    ad   (  x  )     ad   (  y  )     )    where     ad   (  x  )    y    =   [  x  ,  y  ]   =    x  y   -   y  x            B   x  y        tr     ad  x    ad  y     where     ad  x   y          x  y            x  y     y  x       B(x,y)=\operatorname{tr}(\operatorname{ad}(x)\operatorname{ad}(y))\text{ where%
  }\operatorname{ad}(x)y=[x,y]=xy-yx     is called the Killing form , which is used for the classification of Lie algebras.  The trace defines a bilinear form:       (  x  ,  y  )   ‚Ü¶   tr   (   x  y   )       maps-to   x  y    tr    x  y      (x,y)\mapsto\operatorname{tr}(xy)     ( x , y square matrices).  The form is symmetric, non-degenerate 2 and associative in the sense that:       tr   (   x   [  y  ,  z  ]    )    =   tr   (    [  x  ,  y  ]   z   )         tr    x   y  z      tr     x  y   z      \operatorname{tr}(x[y,z])=\operatorname{tr}([x,y]z)   .  For a complex simple Lie algebra (e.g.,    ùî∞   ùî©  n       ùî∞   subscript  ùî©  n     \mathfrak{sl}_{n}   ), every such bilinear form is proportional to each other; in particular, to the Killing form.  Two matrices x and y are said to be trace orthogonal if       tr   (   x  y   )    =  0       tr    x  y    0    \operatorname{tr}(xy)=0   .  Inner product  For an m -by- n matrix A with complex (or real) entries and * being the conjugate transpose, we have       tr   (    A  *   A   )    ‚â•  0       tr     superscript  A    A    0    \operatorname{tr}(A^{*}A)\geq 0     with equality if and only if . The assignment       ‚ü®  A  ,  B  ‚ü©   =   tr   (    B  *   A   )         A  B    tr     superscript  B    A      \langle A,B\rangle=\operatorname{tr}(B^{*}A)     yields an inner product on the space of all complex (or real) m -by- n matrices.  The norm induced by the above inner product is called the Frobenius norm . Indeed it is simply the Euclidean norm if the matrix is considered as a vector of length m  n .  It follows that if A and B are positive semi-definite matrices of the same size then      0  ‚â§  tr    (  A  B  )   2   ‚â§  tr   (   A  2   )   tr   (   B  2   )   ‚â§  tr    (  A  )   2   tr    (  B  )   2      fragments  0   tr   superscript   fragments  normal-(  A  B  normal-)   2    tr   fragments  normal-(   superscript  A  2   normal-)   tr   fragments  normal-(   superscript  B  2   normal-)    tr   superscript   fragments  normal-(  A  normal-)   2   tr   superscript   fragments  normal-(  B  normal-)   2     0\leq\operatorname{tr}(AB)^{2}\leq\operatorname{tr}(A^{2})\operatorname{tr}(B^%
 {2})\leq\operatorname{tr}(A)^{2}\operatorname{tr}(B)^{2}   . 3  Generalization  The concept of trace of a matrix is generalised to the trace class of compact operators on Hilbert spaces , and the analog of the Frobenius norm is called the Hilbert‚ÄìSchmidt norm.  The partial trace is another generalization of the trace that is operator-valued. The trace of a linear operator   Z   Z   Z   which lives on a product space    A  ‚äó  B     tensor-product  A  B    A\otimes B   is equal to the partial traces over   A   A   A   and   B   B   B        tr   (  Z  )    =    tr  A    (    tr  B    (  Z  )    )    =    tr  B    (    tr  A    (  Z  )    )           tr  Z     subscript  tr  A     subscript  tr  B   Z           subscript  tr  B     subscript  tr  A   Z       \operatorname{tr}(Z)=\operatorname{tr}_{A}(\operatorname{tr}_{B}(Z))=%
 \operatorname{tr}_{B}(\operatorname{tr}_{A}(Z))   .  If A is a general associative algebra over a field k , then a trace on A is often defined to be any map tr:  which vanishes on commutators:  for all . Such a trace is not uniquely defined; it can always at least be modified by multiplication by a nonzero scalar.  A supertrace is the generalization of a trace to the setting of superalgebras .  The operation of tensor contraction generalizes the trace to arbitrary tensors.  Coordinate-free definition  We can identify the space of linear operators on a vector space V with the space    V  ‚äó   V  *      tensor-product  V   superscript  V      V\otimes V^{*}   , where    v  ‚äó  h  =   (  w  ‚Ü¶  h   (  w  )   v  )      fragments  v  tensor-product  h    fragments  normal-(  w  maps-to  h   fragments  normal-(  w  normal-)   v  normal-)     v\otimes h=(w\mapsto h(w)v)   . We also have a canonical bilinear function    t  :    V  √ó   V  *    ‚Üí  F      normal-:  t   normal-‚Üí    V   superscript  V     F     t\colon V\times V^{*}\to F   that consists of applying an element w * of V * to an element v of V to get an element of F , in symbols     t   (  v  ,   w  *   )    :=    w  *    (  v  )    ‚àà  F       assign    t   v   superscript  w         superscript  w    v        F     t(v,w^{*}):=w^{*}(v)\in F   . This induces a linear function on the tensor product (by its universal property )    t  :    V  ‚äó   V  *    ‚Üí  F      normal-:  t   normal-‚Üí   tensor-product  V   superscript  V     F     t\colon V\otimes V^{*}\to F   , which, as it turns out, when that tensor product is viewed as the space of operators, is equal to the trace.  This also clarifies why     tr   (   A  B   )    =   tr   (   B  A   )         tr    A  B     tr    B  A      \operatorname{tr}(AB)=\operatorname{tr}(BA)   and why     tr   (   A  B   )    ‚â†    tr   (  A  )     tr   (  B  )          tr    A  B       tr  A    tr  B      \operatorname{tr}(AB)\neq\operatorname{tr}(A)\operatorname{tr}(B)   , as composition of operators (multiplication of matrices) and trace can be interpreted as the same pairing. Viewing     End   (  V  )    ‚âÖ   V  ‚äó   V  *         End  V    tensor-product  V   superscript  V       \operatorname{End}(V)\cong V\otimes V^{*}   , one may interpret the composition map      End   (  V  )    √ó   End   (  V  )     ‚Üí   End   (  V  )       normal-‚Üí     End  V    End  V     End  V     \operatorname{End}(V)\times\operatorname{End}(V)\to\operatorname{End}(V)   as        (   V  ‚äó   V  *    )   √ó   (   V  ‚äó   V  *    )    ‚Üí   (   V  ‚äó   V  *    )      normal-‚Üí     tensor-product  V   superscript  V      tensor-product  V   superscript  V       tensor-product  V   superscript  V       (V\otimes V^{*})\times(V\otimes V^{*})\to(V\otimes V^{*})   coming from the pairing      V  *   √ó  V   ‚Üí  F     normal-‚Üí     superscript  V    V   F    V^{*}\times V\to F   on the middle terms. Taking the trace of the product then comes from pairing on the outer terms, while taking the product in the opposite order and then taking the trace just switches which pairing is applied first. On the other hand, taking the trace of A and the trace of B corresponds to applying the pairing on the left terms and on the right terms (rather than on inner and outer), and is thus different.  In coordinates, this corresponds to indexes: multiplication is given by      (   A  B   )    i  k    =    ‚àë  j     a   i  j     b   j  k           subscript    A  B     i  k      subscript   j      subscript  a    i  j     subscript  b    j  k        \textstyle{(AB)_{ik}=\sum_{j}a_{ij}b_{jk}}   , so     tr   (   A  B   )    =    ‚àë   i  j      a   i  j     b   j  i           tr    A  B      subscript     i  j       subscript  a    i  j     subscript  b    j  i        \textstyle{\operatorname{tr}(AB)=\sum_{ij}a_{ij}b_{ji}}   and     tr   (   B  A   )    =    ‚àë   i  j      b   i  j     a   j  i           tr    B  A      subscript     i  j       subscript  b    i  j     subscript  a    j  i        \textstyle{\operatorname{tr}(BA)=\sum_{ij}b_{ij}a_{ji}}   which is the same, while      tr   (  A  )    ‚ãÖ   tr   (  B  )     =    ‚àë  i     a   i  i    ‚ãÖ    ‚àë  j    b   j  j            normal-‚ãÖ   tr  A    tr  B      subscript   i    normal-‚ãÖ   subscript  a    i  i      subscript   j    subscript  b    j  j         \textstyle{\operatorname{tr}(A)\cdot\operatorname{tr}(B)=\sum_{i}a_{ii}\cdot%
 \sum_{j}b_{jj}}   , which is different.  For   V   V   V   finite-dimensional, with basis    {   e  i   }      subscript  e  i     \{e_{i}\}   and dual basis    {   e  i   }      superscript  e  i     \{e^{i}\}   , then     e  i   ‚äó   e  j      tensor-product   subscript  e  i    superscript  e  j     e_{i}\otimes e^{j}   is the ij '-entry of the matrix of the operator with respect to that basis. Any operator   A   A   A   is therefore a sum of the form    A  =     a   i  j     e  i    ‚äó   e  j        A   tensor-product     subscript  a    i  j     subscript  e  i     superscript  e  j      A=a_{ij}e_{i}\otimes e^{j}   . With   t   t   t   defined as above,     t   (  A  )    =    a   i  j    t   (    e  i   ‚äó   e  j    )          t  A      subscript  a    i  j    t   tensor-product   subscript  e  i    superscript  e  j       t(A)=a_{ij}t(e_{i}\otimes e^{j})   . The latter, however, is just the Kronecker delta , being 1 if  and 0 otherwise. This shows that    t   (  A  )       t  A    t(A)   is simply the sum of the coefficients along the diagonal. This method, however, makes coordinate invariance an immediate consequence of the definition.  Dual  Further, one may dualize this map, obtaining a map     F  *   =  F  ‚Üí   V  ‚äó   V  *    ‚âÖ   End   (  V  )           superscript  F    F    normal-‚Üí     tensor-product  V   superscript  V           End  V      F^{*}=F\to V\otimes V^{*}\cong\operatorname{End}(V)   . This map is precisely the inclusion of scalars , sending  to the identity matrix: "trace is dual to scalars". In the language of bialgebras , scalars are the unit , while trace is the counit .  One can then compose these,    F   ‚Üí  ùêº     End   (  V  )      ‚Üí  tr   F        F   I  normal-‚Üí     End  V      tr  normal-‚Üí   F      F\overset{I}{\to}\operatorname{End}(V)\overset{\operatorname{tr}}{\to}F   , which yields multiplication by n , as the trace of the identity is the dimension of the vector space.  See also   Trace of a tensor with respect to a metric tensor  Characteristic function  Field trace  Golden‚ÄìThompson inequality  Specht's theorem  Trace class  Trace inequalities  von Neumann's trace inequality   Notes  External links     "  Category:Linear algebra  Category:Matrix theory     Proof    ùî∞   ùî©  n       ùî∞   subscript  ùî©  n     \mathfrak{sl}_{n}   is a semisimple Lie algebra and thus every element in it is a linear combination of commutators of some pairs of elements, otherwise the derived algebra would be a proper ideal. ‚Ü©  This follows from the fact that     tr   (    A  *   A   )    =  0       tr     superscript  A    A    0    \operatorname{tr}(A^{*}A)=0   if and only if    A  =  0      A  0    A=0    ‚Ü©  Can be proven with the Cauchy‚ÄìSchwarz inequality . ‚Ü©     