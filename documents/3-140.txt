   Ultrametric space      Ultrametric space   In mathematics , an ultrametric space is a special kind of metric space in which the triangle inequality is replaced with     d   (  x  ,  y  )    ≤   max   {   d   (  x  ,  z  )    ,   d   (  z  ,  y  )    }          d   x  y        d   x  z      d   z  y       d(x,y)\leq\max\left\{d(x,z),d(z,y)\right\}   . Sometimes the associated metric is also called a non-Archimedean metric or super-metric . Although some of the theorems for ultrametric spaces may seem strange at a first glance, they appear naturally in many applications.  Formal definition  Formally, an ultrametric space is a set of points   M   M   M   with an associated distance function (also called a metric )      d  :    M  ×  M   →  ℝ      normal-:  d   normal-→    M  M   ℝ     d\colon M\times M\rightarrow\mathbb{R}     (where   ℝ   ℝ   \mathbb{R}   is the set of real numbers ), such that for all     x  ,  y  ,  z   ∈  M       x  y  z   M    x,y,z\in M   , one has:        d   (  x  ,  y  )    ≥  0        d   x  y    0    d(x,y)\geq 0          d   (  x  ,  y  )    =  0        d   x  y    0    d(x,y)=0    iff     x  =  y      x  y    x=y          d   (  x  ,  y  )    =   d   (  y  ,  x  )          d   x  y      d   y  x      d(x,y)=d(y,x)   ( symmetry )       d   (  x  ,  z  )    ≤   max   {   d   (  x  ,  y  )    ,   d   (  y  ,  z  )    }          d   x  z        d   x  y      d   y  z       d(x,z)\leq\max\left\{d(x,y),d(y,z)\right\}   ( strong triangle or ultrametric inequality ).   In the case when   M   M   M   is a group and   d   d   d   is generated by a length function     ∥  ⋅  ∥     fragments  parallel-to  normal-⋅  parallel-to    \|\cdot\|   (so that     d   (  x  ,  y  )    =   ∥   x  -  y   ∥         d   x  y     norm    x  y      d(x,y)=\|x-y\|   ), the last property can be made stronger using the Krull sharpening 1 to:       ∥   x  +  y   ∥   ≤   max   {   ∥  x  ∥   ,   ∥  y  ∥   }         norm    x  y       norm  x    norm  y      \|x+y\|\leq\max\left\{\|x\|,\|y\|\right\}   with equality if     ∥  x  ∥   ≠   ∥  y  ∥        norm  x    norm  y     \|x\|\neq\|y\|   .  We want to prove that if     ∥   x  +  y   ∥   ≤   max   {   ∥  x  ∥   ,   ∥  y  ∥   }         norm    x  y       norm  x    norm  y      \|x+y\|\leq\max\left\{\|x\|,\|y\|\right\}   , then the equality occurs if     ∥  x  ∥   ≠   ∥  y  ∥        norm  x    norm  y     \|x\|\neq\|y\|   . Without loss of generality , let us assume that     ∥  x  ∥   >   ∥  y  ∥        norm  x    norm  y     \|x\|>\|y\|   . This implies that     ∥   x  +  y   ∥   ≤   ∥  x  ∥        norm    x  y     norm  x     \|x+y\|\leq\|x\|   . But we can also compute     ∥  x  ∥   =   ∥    (   x  +  y   )   -  y   ∥   ≤   max   {   ∥   x  +  y   ∥   ,   ∥  y  ∥   }           norm  x    norm      x  y   y            norm    x  y     norm  y       \|x\|=\|(x+y)-y\|\leq\max\left\{\|x+y\|,\|y\|\right\}   . Now, the value of    max   {   ∥   x  +  y   ∥   ,   ∥  y  ∥   }        norm    x  y     norm  y     \max\left\{\|x+y\|,\|y\|\right\}   cannot be    ∥  y  ∥     norm  y    \|y\|   , for if that is the case, we have     ∥  x  ∥   ≤   ∥  y  ∥        norm  x    norm  y     \|x\|\leq\|y\|   contrary to the initial assumption. Thus,     max   {   ∥   x  +  y   ∥   ,   ∥  y  ∥   }    =   ∥   x  +  y   ∥          norm    x  y     norm  y     norm    x  y      \max\left\{\|x+y\|,\|y\|\right\}=\|x+y\|   , and     ∥  x  ∥   ≤   ∥   x  +  y   ∥        norm  x    norm    x  y      \|x\|\leq\|x+y\|   . Using the initial inequality, we have     ∥  x  ∥   ≤   ∥   x  +  y   ∥   ≤   ∥  x  ∥          norm  x    norm    x  y          norm  x      \|x\|\leq\|x+y\|\leq\|x\|   and therefore     ∥   x  +  y   ∥   =   ∥  x  ∥        norm    x  y     norm  x     \|x+y\|=\|x\|   .  Properties  From the above definition, one can conclude several typical properties of ultrametrics. For example, in an ultrametric space, for all     x  ,  y  ,  z   ∈  M       x  y  z   M    x,y,z\in M   and     r  ,  s   ∈  ℝ       r  s   ℝ    r,s\in\mathbb{R}   :   Every triangle is an acute isosceles or equilateral , i.e.     d   (  x  ,  y  )    =   d   (  y  ,  z  )          d   x  y      d   y  z      d(x,y)=d(y,z)   or     d   (  x  ,  z  )    =   d   (  y  ,  z  )          d   x  z      d   y  z      d(x,z)=d(y,z)   or     d   (  x  ,  y  )    =   d   (  z  ,  x  )          d   x  y      d   z  x      d(x,y)=d(z,x)   .   In the following, the concept and notation of an (open) ball is the same as in the article about metric spaces , i.e.       B   (  x  ;  r  )    ∩   B   (  y  ;  s  )          B   x  r      B   y  s      B(x;r)\cap B(y;s)   .   Intersecting balls are contained in each other, i.e. if     B   (  x  ;  r  )    ⊆   B   (  y  ;  s  )          B   x  r      B   y  s      B(x;r)\subseteq B(y;s)   is non-empty then either     B   (  y  ;  s  )    ⊆   B   (  x  ;  r  )          B   y  s      B   x  r      B(y;s)\subseteq B(x;r)   or   ≤     \leq   .  All balls are both open and closed sets in the induced topology . That is, open balls are also closed, and closed balls (replace with    r  >  0      r  0    r>0   ) are also open.  The set of all open balls with radius r and center in a closed ball of radius   r   r   r   forms a partition of the latter, and the mutual distance of two distinct open balls is again equal to $r$ .   Proving these statements is an instructive exercise. 2 All directly derive from the ultrametric triangle inequality. Note that, by the second statement, a ball may have several center points that have non-zero distance. The intuition behind such seemingly strange effects is that, due to the strong triangle inequality, distances in ultrametrics do not add up.  Examples   The discrete metric is an ultrametric.  The p-adic numbers form a complete ultrametric space.  Consider the set of words of arbitrary length (finite or infinite) over some alphabet Σ. Define the distance between two different words to be 2 − n , where n is the first place at which the words differ. The resulting metric is an ultrametric.  The set of words with glued ends of the length n over some alphabet Σ is an ultrametric space with respect to the p-close distance. Two words x and y are p-close if any substring of p (p.  If r =( r n ) is a sequence of real numbers  decreasing to zero, then | x | r := lim sup n →∞ | x n | r n induces an ultrametric on the space of all complex sequences for which it is finite. (Note that this is not a seminorm since it lacks homogeneity . — If the r n are allowed to be zero, one should use here the rather unusual convention that 0 0 =0.)  If G is an edge-weighted undirected graph , all edge weights are positive, and d ( u , v ) is the weight of the minimax path between u and v (that is, the largest weight of an edge, on a path chosen to minimize this largest weight), then the vertices of the graph, with distance measured by d , form an ultrametric space, and all finite ultrametric spaces may be represented in this way. 3   Applications  A contraction mapping may then be thought of as a way of approximating the final result of a computation (which can be guaranteed to exist by the Banach fixed point theorem ). Similar ideas can be found in domain theory . P-adic analysis makes heavy use of the ultrametric nature of the p-adic metric .  Applications are also known in solid-state physics, namely in the treatment of spin glasses by the replica-theory of Giorgio Parisi and coworkers, 4 and also in the theory of aperiodic solids. 5  Ultrametric distances are also utilized in taxonomy and phylogenetic tree construction using the UPGMA and WPGMA methods. 6  References  Further reading    .   "  Category:Metric geometry  Category:Metric spaces     Planet Math: Ultrametric Triangle Inequality ↩  Stack Exchange: Ultrametric Triangle Inequality ↩  . ↩  Mezard, M; Parisi, G; and Virasoro, M: SPIN GLASS THEORY AND BEYOND , World Scientific, 1986. ISBN 978-9971-5-0116-7 ↩  ↩      