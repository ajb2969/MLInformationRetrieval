   Square pyramidal number      Square pyramidal number   In mathematics , a pyramid number , or square pyramidal number , is a figurate number that represents the number of stacked spheres in a pyramid with a square base. Square pyramidal numbers also solve the problem of counting the number of squares in an    n  ×  n      n  normal-×  n    n×n   grid.  Formula  The first few square pyramidal numbers are:        1  ,  5  ,  14  ,  30  ,  55  ,  91  ,  140   ,     1  5  14  30  55  91  140    1,5,14,30,55,91,140,       204  ,  285  ,  385  ,  506  ,  650  ,  819     204  285  385  506  650  819    204,285,385,506,650,819   , ... .   These numbers can be expressed in a formula as        P  n   =    ∑   k  =  1   n    k  2    =    n   (   n  +  1   )    (    2  n   +  1   )    6   =     2   n  3    +   3   n  2    +  n   6    .         subscript  P  n     superscript   subscript     k  1    n    superscript  k  2             n    n  1       2  n   1    6              2   superscript  n  3      3   superscript  n  2    n   6      P_{n}=\sum_{k=1}^{n}k^{2}=\frac{n(n+1)(2n+1)}{6}=\frac{2n^{3}+3n^{2}+n}{6}.   This is a special case of Faulhaber's formula , and may be proved by a mathematical induction . 1 An equivalent formula is given in Fibonacci 's Liber Abaci (1202, ch. II.12).  In modern mathematics, figurate numbers are formalized by the Ehrhart polynomials . The Ehrhart polynomial    L   (  P  ,  t  )       L   P  t     L(P,t)   of a polyhedron   P   P   P   is a polynomial that counts the number of integer points in a copy of   P   P   P   that is expanded by multiplying all its coordinates by the number   t   t   t   . The Ehrhart polynomial of a pyramid whose base is a unit square with integer coordinates, and whose apex is an integer point at height one above the base plane, is . 2  Relations to other figurate numbers  The square pyramidal numbers can also be expressed as sums of binomial coefficients :        P  n   =    (      n  +  2       3     )   +   (      n  +  1       3     )     .       subscript  P  n      binomial    n  2   3    binomial    n  1   3      P_{n}={{n+2}\choose 3}+{{n+1}\choose 3}.   The binomial coefficients occurring in this representation are tetrahedral numbers , and this formula expresses a square pyramidal number as the sum of two tetrahedral numbers in the same way as square numbers are the sums of two consecutive triangular numbers. In this sum, one of the two tetrahedral numbers counts the number of balls in a stacked pyramid that are directly above or to one side of a diagonal of the base square, and the other tetrahedral number in the sum counts the number of balls that are to the other side of the diagonal. Square pyramidal numbers are also related to tetrahedral numbers in a different way:        P  n   =    1  4    (       2  n   +  2       3     )     .       subscript  P  n       1  4    binomial      2  n   2   3      P_{n}=\frac{1}{4}{\left({{2n+2}\atop{3}}\right)}.     The sum of two consecutive square pyramidal numbers is an octahedral number .  Augmenting a pyramid whose base edge has   n   n   n   balls by adding to one of its triangular faces a tetrahedron whose base edge has    n  −  1      n  normal-−  1    n−1   balls produces a triangular prism . Equivalently, a pyramid can be expressed as the result of subtracting a tetrahedron from a prism. This geometric dissection leads to another relation:        P  n   =    n   (      n  +  1       2     )    -   (      n  +  1       3     )     .       subscript  P  n       n   binomial    n  1   2     binomial    n  1   3      P_{n}=n{\left({{n+1}\atop{2}}\right)}-{\left({{n+1}\atop{3}}\right)}.     Besides   1   1   1   , there is only one other number that is both a square and a pyramid number:   4900   4900   4900   , which is both the   70   70   70   th square number and the   24   24   24   th square pyramidal number. This fact was proven by G. N. Watson in 1918.  Another relationship involves the Pascal Triangle: Whereas the classical Pascal Triangle with sides    (  1  ,  1  )     1  1    (1,1)   has diagonals with the natural numbers, triangular numbers, and tetrahedral numbers, generating the Fibonacci numbers as sums of samplings across diagonals, the sister Pascal with sides    (  2  ,  1  )     2  1    (2,1)   has equivalent diagonals with odd numbers, square numbers, and square pyramidal numbers, respectively, and generates (by the same procedure) the Lucas numbers rather than Fibonacci.  In the same way that the square pyramidal numbers can be defined as a sum of consecutive squares, the squared triangular numbers can be defined as a sum of consecutive cubes.  Squares in a square  A common mathematical puzzle involves finding the number of squares in a large   n   n   n   by   n   n   n   square grid. This number can be derived as follows:   The number of    1  ×  1      1  normal-×  1    1×1   boxes found in the grid is .  The number of    2  ×  2      2  normal-×  2    2×2   boxes found in the grid is . These can be counted by counting all of the possible upper-left corners of    2  ×  2      2  normal-×  2    2×2   boxes.  The number of    k  ×  k      k  normal-×  k    k×k   boxes    (   1  ≤  k  ≤  n   )      1  normal-≤  k  normal-≤  n    (1≤k≤n)   found in the grid is . These can be counted by counting all of the possible upper-left corners of    k  ×  k      k  normal-×  k    k×k   boxes.   It follows that the number of squares in an    n  ×  n      n  normal-×  n    n×n   square grid is:         n  2   +    (   n  -  1   )   2   +    (   n  -  2   )   2   +    (   n  -  3   )   2   +  …  +   1  2    =    n   (   n  +  1   )    (    2  n   +  1   )    6    .         superscript  n  2    superscript    n  1   2    superscript    n  2   2    superscript    n  3   2   normal-…   superscript  1  2        n    n  1       2  n   1    6     n^{2}+(n-1)^{2}+(n-2)^{2}+(n-3)^{2}+\ldots+1^{2}=\frac{n(n+1)(2n+1)}{6}.   That is, the solution to the puzzle is given by the square pyramidal numbers.  The number of rectangles in a square grid is given by the squared triangular numbers .  Derivation of the summation formula  The difference of two consecutive square numbers is always an odd number. More precisely, because of the identity , the difference between the   k   k   k   th and the    (   k  −  1   )      k  normal-−  1    (k−1)   th square number is    2  k  −  1      2  k  normal-−  1    2k−1   . This yields the following scheme:        0     1     4     9     16     25    …      (   n  -  1   )   2       n  2        1     3     5     7     9     …       2  n   -  1          0   missing-subexpression   1   missing-subexpression   4   missing-subexpression   9   missing-subexpression   16   missing-subexpression   25  normal-…   superscript    n  1   2    missing-subexpression    superscript  n  2      missing-subexpression   1   missing-subexpression   3   missing-subexpression   5   missing-subexpression   7   missing-subexpression   9   missing-subexpression   normal-…   missing-subexpression       2  n   1    missing-subexpression      \begin{array}[]{ccccccccccccccc}0&&1&&4&&9&&16&&25&\ldots&(n-1)^{2}&&n^{2}\\
 &1&&3&&5&&7&&9&&\ldots&&2n-1&\end{array}     Hence any square number can be written as a sum of odd numbers, that is     n  2   =     ∑   i  =  1   n    2  i    -  1        superscript  n  2       superscript   subscript     i  1    n     2  i    1     n^{2}=\sum_{i=1}^{n}2i-1   . This representation of square numbers can be used to express the sum of the first   n   n   n   square numbers by odd numbers arranged in a triangle with the sum of all numbers in the triangle being equal to the sum of the first   n   n   n   square numbers:          1  2   =      1               2  2   =      1    3              3  2   =      1    3    5             4  2   =      1    3    5    7            5  2   =      1    3    5    7    9         ⋮    ⋮        ⋱           (   n  -  1   )   2   =      1    ⋯       ⋯      2  n   -  3          n  2   =      1    ⋯       ⋯      2  n   -  3       2  n   -  1            superscript  1  2   absent   1   missing-subexpression    missing-subexpression    missing-subexpression    missing-subexpression    missing-subexpression    missing-subexpression    missing-subexpression        superscript  2  2   absent   1  3   missing-subexpression    missing-subexpression    missing-subexpression    missing-subexpression    missing-subexpression    missing-subexpression        superscript  3  2   absent   1  3  5   missing-subexpression    missing-subexpression    missing-subexpression    missing-subexpression    missing-subexpression        superscript  4  2   absent   1  3  5  7   missing-subexpression    missing-subexpression    missing-subexpression    missing-subexpression        superscript  5  2   absent   1  3  5  7  9   missing-subexpression    missing-subexpression    missing-subexpression     normal-⋮  normal-⋮   missing-subexpression    missing-subexpression    missing-subexpression    missing-subexpression   normal-⋱   missing-subexpression    missing-subexpression        superscript    n  1   2   absent   1  normal-⋯   missing-subexpression    missing-subexpression    missing-subexpression   normal-⋯      2  n   3    missing-subexpression        superscript  n  2   absent   1  normal-⋯   missing-subexpression    missing-subexpression    missing-subexpression   normal-⋯      2  n   3       2  n   1      \begin{array}[]{rcccccccc}\scriptstyle 1^{2}\scriptstyle=&1&&&&&&&\\
 \scriptstyle 2^{2}\scriptstyle=&1&3&&&&&&\\
 \scriptstyle 3^{2}\scriptstyle=&1&3&5&&&&&\\
 \scriptstyle 4^{2}\scriptstyle=&1&3&5&7&&&&\\
 \scriptstyle 5^{2}\scriptstyle=&1&3&5&7&9&&&\\
 \vdots&\vdots&&&&&\ddots&&\\
 \scriptstyle(n-1)^{2}\scriptstyle=&1&\cdots&&&&\cdots&\scriptstyle 2n-3&\\
 \scriptstyle n^{2}\scriptstyle=&1&\cdots&&&&\cdots&\scriptstyle 2n-3&%
 \scriptstyle 2n-1\end{array}     The same odd numbers are now arranged in two different ways in congruent triangles.          2  n   -  1                2  n   -  3       2  n   -  3             ⋮     ⋱           9    ⋯    ⋯    9          7    ⋯    ⋯    7    7         5    ⋯    ⋯    5    5    5        3    ⋯    ⋯    3    3    3    3       1    ⋯    ⋯    1    1    1    1    1        =   n  2        =    (   n  -  1   )   2      ⋯      =   5  2        =   4  2        =   3  2        =   2  2        =   1  2              2  n   1    missing-subexpression    missing-subexpression    missing-subexpression    missing-subexpression    missing-subexpression    missing-subexpression    missing-subexpression         2  n   3       2  n   3    missing-subexpression    missing-subexpression    missing-subexpression    missing-subexpression    missing-subexpression    missing-subexpression     normal-⋮   missing-subexpression   normal-⋱   missing-subexpression    missing-subexpression    missing-subexpression    missing-subexpression    missing-subexpression     9  normal-⋯  normal-⋯  9   missing-subexpression    missing-subexpression    missing-subexpression    missing-subexpression     7  normal-⋯  normal-⋯  7  7   missing-subexpression    missing-subexpression    missing-subexpression     5  normal-⋯  normal-⋯  5  5  5   missing-subexpression    missing-subexpression     3  normal-⋯  normal-⋯  3  3  3  3   missing-subexpression     1  normal-⋯  normal-⋯  1  1  1  1  1      absent   superscript  n  2      absent   superscript    n  1   2    normal-⋯    absent   superscript  5  2      absent   superscript  4  2      absent   superscript  3  2      absent   superscript  2  2      absent   superscript  1  2       \begin{array}[]{cccccccc}\scriptstyle 2n-1&&&&&&\\
 \scriptstyle 2n-3&\scriptstyle 2n-3&&&&&\\
 \vdots&&\ddots&&&&\\
 9&\cdots&\cdots&9&&&&\\
 7&\cdots&\cdots&7&7&&&\\
 5&\cdots&\cdots&5&5&5\\
 3&\cdots&\cdots&3&3&3&3\\
 1&\cdots&\cdots&1&1&1&1&1\\
 \hline\scriptstyle=n^{2}&\scriptstyle=(n-1)^{2}&\cdots&\scriptstyle=5^{2}&%
 \scriptstyle=4^{2}&\scriptstyle=3^{2}&\scriptstyle=2^{2}&\scriptstyle=1^{2}%
 \end{array}         1             3    1            5    3    1           7    5    3    1          9    7    5    3    1         ⋮        ⋱          2  n   -  3     ⋯       ⋯    1         2  n   -  1       2  n   -  3        ⋯     1        =   n  2        =    (   n  -  1   )   2      ⋯      =   5  2        =   4  2        =   3  2        =   2  2        =   1  2          1   missing-subexpression    missing-subexpression    missing-subexpression    missing-subexpression    missing-subexpression    missing-subexpression    missing-subexpression     3  1   missing-subexpression    missing-subexpression    missing-subexpression    missing-subexpression    missing-subexpression    missing-subexpression     5  3  1   missing-subexpression    missing-subexpression    missing-subexpression    missing-subexpression    missing-subexpression     7  5  3  1   missing-subexpression    missing-subexpression    missing-subexpression    missing-subexpression     9  7  5  3  1   missing-subexpression    missing-subexpression    missing-subexpression     normal-⋮   missing-subexpression    missing-subexpression    missing-subexpression    missing-subexpression   normal-⋱   missing-subexpression    missing-subexpression         2  n   3   normal-⋯   missing-subexpression    missing-subexpression    missing-subexpression   normal-⋯  1   missing-subexpression         2  n   1       2  n   3    missing-subexpression    missing-subexpression    missing-subexpression   normal-⋯   missing-subexpression   1      absent   superscript  n  2      absent   superscript    n  1   2    normal-⋯    absent   superscript  5  2      absent   superscript  4  2      absent   superscript  3  2      absent   superscript  2  2      absent   superscript  1  2       \begin{array}[]{cccccccc}1&&&&&&&\\
 3&1&&&&&&\\
 5&3&1&&&&&\\
 7&5&3&1&&&&\\
 9&7&5&3&1&&&\\
 \vdots&&&&&\ddots&&\\
 \scriptstyle 2n-3&\cdots&&&&\cdots&1&\\
 \scriptstyle 2n-1&\scriptstyle 2n-3&&&&\cdots&&1\\
 \hline\scriptstyle=n^{2}&\scriptstyle=(n-1)^{2}&\cdots&\scriptstyle=5^{2}&%
 \scriptstyle=4^{2}&\scriptstyle=3^{2}&\scriptstyle=2^{2}&\scriptstyle=1^{2}%
 \end{array}     Stacking the three triangles on top of each other's yields you columns consisting of three numbers, which have the property that their sum is always     2  n   +  1        2  n   1    2n+1   . At each vertex the sum of the column is      2  n  −  1   +  1  +  1   =    2  n   +  1           2  n  normal-−  1   1  1       2  n   1     2n−1+1+1=2n+1   . Now if you move from one column to another then in one triangle the number will increase by two but in a second triangle it decrease by two and remain the same in the third triangle, hence the sum of the column stays constant. There are     1  +  2  +  …  +  n   =    n   (   n  +  1   )    2         1  2  normal-…  n       n    n  1    2     1+2+\ldots+n=\tfrac{n(n+1)}{2}   such columns, so the sum of the numbers in all three triangles is     n   (   n  +  1   )    (    2  n   +  1   )    2        n    n  1       2  n   1    2    \tfrac{n(n+1)(2n+1)}{2}   . This is thrice the sum of the first   n   n   n   square numbers, so it yields:       P  n   =    n   (   n  +  1   )    (    2  n   +  1   )    6        subscript  P  n       n    n  1       2  n   1    6     P_{n}=\frac{n(n+1)(2n+1)}{6}     See also   Figurate number  Polygonal number  Triangular number   Notes  References         External links     "  Category:Figurate numbers  Category:Pyramids     Hopcroft, Motwani & Ullman (2007), [ p. 20] ↩  . ↩     