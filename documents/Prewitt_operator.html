<html lang="en">
<head>
<meta charset="utf-8"/>
<title offset="1906">Prewitt operator</title>
<script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_SVG.js" type="text/javascript">
</script>
</head>
<body>
<h1>Prewitt operator</h1>
<hr/>

<p>The <strong>Prewitt operator</strong> is used in <a href="image_processing" title="wikilink">image processing</a>, particularly within <a href="edge_detection" title="wikilink">edge detection</a> algorithms. Technically, it is a <a href="Difference_operator" title="wikilink">discrete differentiation operator</a>, computing an approximation of the <a href="Image_gradient" title="wikilink">gradient</a> of the image intensity function. At each point in the image, the result of the Prewitt operator is either the corresponding gradient vector or the norm of this vector. The Prewitt operator is based on convolving the image with a small, separable, and integer valued filter in horizontal and vertical directions and is therefore relatively inexpensive in terms of computations. On the other hand, the gradient approximation which it produces is relatively crude, in particular for high frequency variations in the image. The Prewitt operator was developed by Judith M. S. Prewitt.</p>
<h2 id="simplified-description">Simplified description</h2>

<p>In simple terms, the operator calculates the <em><a href="Image_gradient" title="wikilink">gradient</a></em> of the image intensity at each point, giving the direction of the largest possible increase from light to dark and the rate of change in that direction. The result therefore shows how "abruptly" or "smoothly" the image changes at that point, and therefore how likely it is that part of the image represents an <em>edge</em>, as well as how that edge is likely to be oriented. In practice, the magnitude (likelihood of an edge) calculation is more reliable and easier to interpret than the direction calculation.</p>

<p>Mathematically, the <a class="uri" href="gradient" title="wikilink">gradient</a> of a two-variable function (here the image intensity function) is at each image point a 2D <a href="Vector_(geometric)" title="wikilink">vector</a> with the components given by the <a href="derivative" title="wikilink">derivatives</a> in the horizontal and vertical directions. At each image point, the gradient vector points in the direction of largest possible intensity increase, and the length of the gradient vector corresponds to the rate of change in that direction. This implies that the result of the Prewitt operator at an image point which is in a region of constant image intensity is a zero vector and at a point on an edge is a vector which points across the edge, from darker to brighter values.</p>
<h2 id="formulation">Formulation</h2>

<p>Mathematically, the operator uses two 3×3 kernels which are <a href="convolution" title="wikilink">convolved</a> with the original image to calculate approximations of the derivatives - one for horizontal changes, and one for vertical. If we define 

<math display="inline" id="Prewitt_operator:0">
 <semantics>
  <mi>𝐀</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>𝐀</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \mathbf{A}
  </annotation>
 </semantics>
</math>

 as the source image, and 

<math display="inline" id="Prewitt_operator:1">
 <semantics>
  <msub>
   <mi>𝐆</mi>
   <mi>𝐱</mi>
  </msub>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <csymbol cd="ambiguous">subscript</csymbol>
    <ci>𝐆</ci>
    <ci>𝐱</ci>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \mathbf{G_{x}}
  </annotation>
 </semantics>
</math>

 and 

<math display="inline" id="Prewitt_operator:2">
 <semantics>
  <msub>
   <mi>𝐆</mi>
   <mi>𝐲</mi>
  </msub>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <csymbol cd="ambiguous">subscript</csymbol>
    <ci>𝐆</ci>
    <ci>𝐲</ci>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \mathbf{G_{y}}
  </annotation>
 </semantics>
</math>

 are two images which at each point contain the horizontal and vertical derivative approximations, the latter are computed as:</p>

<p>

<math display="block" id="Prewitt_operator:3">
 <semantics>
  <mrow>
   <mrow>
    <msub>
     <mi>𝐆</mi>
     <mi>𝐱</mi>
    </msub>
    <mo>=</mo>
    <mrow>
     <mrow>
      <mrow>
       <mo>[</mo>
       <mtable displaystyle="true">
        <mtr>
         <mtd columnalign="center">
          <mrow>
           <mo>-</mo>
           <mn>1</mn>
          </mrow>
         </mtd>
         <mtd columnalign="center">
          <mn>0</mn>
         </mtd>
         <mtd columnalign="center">
          <mrow>
           <mo>+</mo>
           <mn>1</mn>
          </mrow>
         </mtd>
        </mtr>
        <mtr>
         <mtd columnalign="center">
          <mrow>
           <mo>-</mo>
           <mn>1</mn>
          </mrow>
         </mtd>
         <mtd columnalign="center">
          <mn>0</mn>
         </mtd>
         <mtd columnalign="center">
          <mrow>
           <mo>+</mo>
           <mn>1</mn>
          </mrow>
         </mtd>
        </mtr>
        <mtr>
         <mtd columnalign="center">
          <mrow>
           <mo>-</mo>
           <mn>1</mn>
          </mrow>
         </mtd>
         <mtd columnalign="center">
          <mn>0</mn>
         </mtd>
         <mtd columnalign="center">
          <mrow>
           <mo>+</mo>
           <mn>1</mn>
          </mrow>
         </mtd>
        </mtr>
       </mtable>
       <mo>]</mo>
      </mrow>
      <mo>*</mo>
      <mi>𝐀</mi>
     </mrow>
     <mtext>and</mtext>
    </mrow>
   </mrow>
   <mrow>
    <msub>
     <mi>𝐆</mi>
     <mi>𝐲</mi>
    </msub>
    <mo>=</mo>
    <mrow>
     <mrow>
      <mo>[</mo>
      <mtable displaystyle="true">
       <mtr>
        <mtd columnalign="center">
         <mrow>
          <mo>-</mo>
          <mn>1</mn>
         </mrow>
        </mtd>
        <mtd columnalign="center">
         <mrow>
          <mo>-</mo>
          <mn>1</mn>
         </mrow>
        </mtd>
        <mtd columnalign="center">
         <mrow>
          <mo>-</mo>
          <mn>1</mn>
         </mrow>
        </mtd>
       </mtr>
       <mtr>
        <mtd columnalign="center">
         <mn>0</mn>
        </mtd>
        <mtd columnalign="center">
         <mn>0</mn>
        </mtd>
        <mtd columnalign="center">
         <mn>0</mn>
        </mtd>
       </mtr>
       <mtr>
        <mtd columnalign="center">
         <mrow>
          <mo>+</mo>
          <mn>1</mn>
         </mrow>
        </mtd>
        <mtd columnalign="center">
         <mrow>
          <mo>+</mo>
          <mn>1</mn>
         </mrow>
        </mtd>
        <mtd columnalign="center">
         <mrow>
          <mo>+</mo>
          <mn>1</mn>
         </mrow>
        </mtd>
       </mtr>
      </mtable>
      <mo>]</mo>
     </mrow>
     <mo>*</mo>
     <mi>𝐀</mi>
    </mrow>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <csymbol cd="ambiguous">formulae-sequence</csymbol>
    <apply>
     <eq></eq>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <ci>𝐆</ci>
      <ci>𝐱</ci>
     </apply>
     <list>
      <apply>
       <times></times>
       <matrix>
        <matrixrow>
         <apply>
          <minus></minus>
          <cn type="integer">1</cn>
         </apply>
         <cn type="integer">0</cn>
         <apply>
          <plus></plus>
          <cn type="integer">1</cn>
         </apply>
        </matrixrow>
        <matrixrow>
         <apply>
          <minus></minus>
          <cn type="integer">1</cn>
         </apply>
         <cn type="integer">0</cn>
         <apply>
          <plus></plus>
          <cn type="integer">1</cn>
         </apply>
        </matrixrow>
        <matrixrow>
         <apply>
          <minus></minus>
          <cn type="integer">1</cn>
         </apply>
         <cn type="integer">0</cn>
         <apply>
          <plus></plus>
          <cn type="integer">1</cn>
         </apply>
        </matrixrow>
       </matrix>
       <ci>𝐀</ci>
      </apply>
      <mtext>and</mtext>
     </list>
    </apply>
    <apply>
     <eq></eq>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <ci>𝐆</ci>
      <ci>𝐲</ci>
     </apply>
     <apply>
      <times></times>
      <matrix>
       <matrixrow>
        <apply>
         <minus></minus>
         <cn type="integer">1</cn>
        </apply>
        <apply>
         <minus></minus>
         <cn type="integer">1</cn>
        </apply>
        <apply>
         <minus></minus>
         <cn type="integer">1</cn>
        </apply>
       </matrixrow>
       <matrixrow>
        <cn type="integer">0</cn>
        <cn type="integer">0</cn>
        <cn type="integer">0</cn>
       </matrixrow>
       <matrixrow>
        <apply>
         <plus></plus>
         <cn type="integer">1</cn>
        </apply>
        <apply>
         <plus></plus>
         <cn type="integer">1</cn>
        </apply>
        <apply>
         <plus></plus>
         <cn type="integer">1</cn>
        </apply>
       </matrixrow>
      </matrix>
      <ci>𝐀</ci>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \mathbf{G_{x}}=\begin{bmatrix}-1&0&+1\\
-1&0&+1\\
-1&0&+1\end{bmatrix}*\mathbf{A}\quad\mbox{and}\quad\mathbf{G_{y}}=\begin{%
bmatrix}-1&-1&-1\\
0&0&0\\
+1&+1&+1\end{bmatrix}*\mathbf{A}
  </annotation>
 </semantics>
</math>

</p>

<p>where 

<math display="inline" id="Prewitt_operator:4">
 <semantics>
  <mo>*</mo>
  <annotation-xml encoding="MathML-Content">
   <times></times>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   *
  </annotation>
 </semantics>
</math>

 here denotes the 2-dimensional <a class="uri" href="convolution" title="wikilink">convolution</a> operation.</p>

<p>Since the Prewitt kernels can be decomposed as the products of an averaging and a differentiation kernel, they compute the gradient with smoothing. Therefore, it is a <a href="separable_filter" title="wikilink">separable filter</a>. For example, 

<math display="inline" id="Prewitt_operator:5">
 <semantics>
  <msub>
   <mi>𝐆</mi>
   <mi>𝐱</mi>
  </msub>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <csymbol cd="ambiguous">subscript</csymbol>
    <ci>𝐆</ci>
    <ci>𝐱</ci>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \mathbf{G_{x}}
  </annotation>
 </semantics>
</math>

 can be written as</p>

<p>

<math display="block" id="Prewitt_operator:6">
 <semantics>
  <mrow>
   <mrow>
    <mo>[</mo>
    <mtable displaystyle="true">
     <mtr>
      <mtd columnalign="center">
       <mrow>
        <mo>-</mo>
        <mn>1</mn>
       </mrow>
      </mtd>
      <mtd columnalign="center">
       <mn>0</mn>
      </mtd>
      <mtd columnalign="center">
       <mrow>
        <mo>+</mo>
        <mn>1</mn>
       </mrow>
      </mtd>
     </mtr>
     <mtr>
      <mtd columnalign="center">
       <mrow>
        <mo>-</mo>
        <mn>1</mn>
       </mrow>
      </mtd>
      <mtd columnalign="center">
       <mn>0</mn>
      </mtd>
      <mtd columnalign="center">
       <mrow>
        <mo>+</mo>
        <mn>1</mn>
       </mrow>
      </mtd>
     </mtr>
     <mtr>
      <mtd columnalign="center">
       <mrow>
        <mo>-</mo>
        <mn>1</mn>
       </mrow>
      </mtd>
      <mtd columnalign="center">
       <mn>0</mn>
      </mtd>
      <mtd columnalign="center">
       <mrow>
        <mo>+</mo>
        <mn>1</mn>
       </mrow>
      </mtd>
     </mtr>
    </mtable>
    <mo>]</mo>
   </mrow>
   <mo>=</mo>
   <mrow>
    <mrow>
     <mo>[</mo>
     <mtable displaystyle="true">
      <mtr>
       <mtd columnalign="center">
        <mn>1</mn>
       </mtd>
      </mtr>
      <mtr>
       <mtd columnalign="center">
        <mn>1</mn>
       </mtd>
      </mtr>
      <mtr>
       <mtd columnalign="center">
        <mn>1</mn>
       </mtd>
      </mtr>
     </mtable>
     <mo>]</mo>
    </mrow>
    <mrow>
     <mo>[</mo>
     <mtable displaystyle="true">
      <mtr>
       <mtd columnalign="center">
        <mrow>
         <mo>-</mo>
         <mn>1</mn>
        </mrow>
       </mtd>
       <mtd columnalign="center">
        <mn>0</mn>
       </mtd>
       <mtd columnalign="center">
        <mn>1</mn>
       </mtd>
      </mtr>
     </mtable>
     <mo>]</mo>
    </mrow>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <matrix>
     <matrixrow>
      <apply>
       <minus></minus>
       <cn type="integer">1</cn>
      </apply>
      <cn type="integer">0</cn>
      <apply>
       <plus></plus>
       <cn type="integer">1</cn>
      </apply>
     </matrixrow>
     <matrixrow>
      <apply>
       <minus></minus>
       <cn type="integer">1</cn>
      </apply>
      <cn type="integer">0</cn>
      <apply>
       <plus></plus>
       <cn type="integer">1</cn>
      </apply>
     </matrixrow>
     <matrixrow>
      <apply>
       <minus></minus>
       <cn type="integer">1</cn>
      </apply>
      <cn type="integer">0</cn>
      <apply>
       <plus></plus>
       <cn type="integer">1</cn>
      </apply>
     </matrixrow>
    </matrix>
    <apply>
     <times></times>
     <matrix>
      <matrixrow>
       <cn type="integer">1</cn>
      </matrixrow>
      <matrixrow>
       <cn type="integer">1</cn>
      </matrixrow>
      <matrixrow>
       <cn type="integer">1</cn>
      </matrixrow>
     </matrix>
     <matrix>
      <matrixrow>
       <apply>
        <minus></minus>
        <cn type="integer">1</cn>
       </apply>
       <cn type="integer">0</cn>
       <cn type="integer">1</cn>
      </matrixrow>
     </matrix>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \begin{bmatrix}-1&0&+1\\
-1&0&+1\\
-1&0&+1\end{bmatrix}=\begin{bmatrix}1\\
1\\
1\end{bmatrix}\begin{bmatrix}-1&0&1\end{bmatrix}
  </annotation>
 </semantics>
</math>

</p>

<p>The <em>x</em>-coordinate is defined here as increasing in the "right"-direction, and the <em>y</em>-coordinate is defined as increasing in the "down"-direction. At each point in the image, the resulting gradient approximations can be combined to give the gradient magnitude, using:</p>

<p>

<math display="block" id="Prewitt_operator:7">
 <semantics>
  <mrow>
   <mi>𝐆</mi>
   <mo>=</mo>
   <msqrt>
    <mrow>
     <mmultiscripts>
      <mi>𝐆</mi>
      <mi>x</mi>
      <none></none>
      <none></none>
      <mn>2</mn>
     </mmultiscripts>
     <mo>+</mo>
     <mmultiscripts>
      <mi>𝐆</mi>
      <mi>y</mi>
      <none></none>
      <none></none>
      <mn>2</mn>
     </mmultiscripts>
    </mrow>
   </msqrt>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <ci>𝐆</ci>
    <apply>
     <root></root>
     <apply>
      <plus></plus>
      <apply>
       <csymbol cd="ambiguous">superscript</csymbol>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>𝐆</ci>
        <ci>x</ci>
       </apply>
       <cn type="integer">2</cn>
      </apply>
      <apply>
       <csymbol cd="ambiguous">superscript</csymbol>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>𝐆</ci>
        <ci>y</ci>
       </apply>
       <cn type="integer">2</cn>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \mathbf{G}=\sqrt{{\mathbf{G}_{x}}^{2}+{\mathbf{G}_{y}}^{2}}
  </annotation>
 </semantics>
</math>

</p>

<p>Using this information, we can also calculate the gradient's direction:</p>

<p>

<math display="block" id="Prewitt_operator:8">
 <semantics>
  <mrow>
   <mi>𝚯</mi>
   <mo>=</mo>
   <mrow>
    <mo>atan2</mo>
    <mrow>
     <mo>(</mo>
     <msub>
      <mi>𝐆</mi>
      <mi>y</mi>
     </msub>
     <mo>,</mo>
     <msub>
      <mi>𝐆</mi>
      <mi>x</mi>
     </msub>
     <mo>)</mo>
    </mrow>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <ci>𝚯</ci>
    <apply>
     <ci>atan2</ci>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <ci>𝐆</ci>
      <ci>y</ci>
     </apply>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <ci>𝐆</ci>
      <ci>x</ci>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \mathbf{\Theta}=\operatorname{atan2}\left({\mathbf{G}_{y},\mathbf{G}_{x}}\right)
  </annotation>
 </semantics>
</math>

 where, for example, <strong>Θ</strong> is 0 for a vertical edge which is darker on the right side.</p>
<h2 id="example">Example</h2>
<table>
<tbody>
<tr class="odd">
<td style="text-align: left;"><figure><b>(Figure)</b>
<figcaption>Grayscale image of a brick wall &amp; a bike rack</figcaption>
</figure></td>
<td style="text-align: left;"><figure><b>(Figure)</b>
<figcaption>Gradient with Prewitt operator of grayscale image of a brick wall &amp; a bike rack</figcaption>
</figure></td>
</tr>
</tbody>
</table>
<h2 id="see-also">See also</h2>
<ul>
<li><a href="Sobel_operator" title="wikilink">Sobel operator</a></li>
<li><a href="Laplace_operator" title="wikilink">Laplace operator</a></li>
<li><a href="Roberts_Cross" title="wikilink">Roberts Cross</a></li>
<li><a href="edge_detection" title="wikilink">edge detection</a></li>
<li><a href="feature_detection_(computer_vision)" title="wikilink">feature detection (computer vision)</a></li>
<li><a href="digital_image_processing" title="wikilink">digital image processing</a></li>
<li><a href="computer_vision" title="wikilink">computer vision</a></li>
<li><a href="feature_extraction" title="wikilink">feature extraction</a></li>
<li><a href="Image_gradient" title="wikilink">Image gradient</a></li>
<li><a href="Image_Derivatives" title="wikilink">Image derivatives</a></li>
</ul>
<h2 id="references">References</h2>

<p>J.M.S. Prewitt "Object Enhancement and Extraction" in "Picture processing and Psychopictorics", Academic Press,1970</p>

<p>"</p>

<p><a href="Category:Feature_detection_(computer_vision)" title="wikilink">Category:Feature detection (computer vision)</a></p>
</body>
</html>
