   Heavy traffic approximation      Heavy traffic approximation   In queueing theory , a discipline within the mathematical theory of probability , a heavy traffic approximation (sometimes heavy traffic limit theorem 1 or diffusion approximation ) is the matching of a queueing model with a diffusion process under some limiting conditions on the model's parameters. The first such result was published by John Kingman who showed that when the utilisation parameter of an M/M/1 queue is near 1 a scaled version of the queue length process can be accurately approximated by a reflected Brownian motion . 2  Heavy traffic condition  Heavy traffic approximations are typically stated for the process X ( t ) describing the number of customers in the system at time t . They are arrived at by considering the model under the limiting values of some model parameters and therefore for the result to be finite the model must be rescaled by a factor n , denoted 3           X  ^   n    (  t  )    =     X   (   n  t   )    -   ùîº   (   X   (   n  t   )    )      n           subscript   normal-^  X   n   t         X    n  t      ùîº    X    n  t        n      \hat{X}_{n}(t)=\frac{X(nt)-\mathbb{E}(X(nt))}{\sqrt{n}}        and the limit of this process is considered as n ‚Üí¬†‚àû.  There are three classes of regime under which such approximations are generally considered.   The number of servers is fixed and the traffic intensity (utilization) is increased to 1 (from below). The queue length approximation is a reflected Brownian motion . 4 5 6  Traffic intensity is fixed and the number of servers and arrival rate are increased to infinity. Here the queue length limit converges to the normal distribution . 7 8 9  A quantity Œ≤ is fixed where         Œ≤  =    (   1  -  œÅ   )    s        Œ≤      1  œÅ     s      \beta=(1-\rho)\sqrt{s}     with œÅ representing the traffic intensity and s the number of servers. Traffic intensity and the number of servers are increased to infinity and the limiting process is a hybrid of the above results. This case, first published by Halfin and Whitt is often known as the Halfin‚ÄìWhitt regime 10 11 12 or quality-and-efficiency-driven (QED) regime. 13      Results for a G/G/1 queue  Theorem 1.  14 Consider a sequence of G/G/1 queues indexed by   j   j   j   . For queue   j   j   j    let    T  j     subscript  T  j    T_{j}   denote the random inter-arrival time,    S  j     subscript  S  j    S_{j}   denote the random service time; let     œÅ  j   =    Œª  j    Œº  j         subscript  œÅ  j      subscript  Œª  j    subscript  Œº  j      \rho_{j}=\frac{\lambda_{j}}{\mu_{j}}   denote the traffic intensity with     1   Œª  j    =   E   (   T  j   )          1   subscript  Œª  j      E   subscript  T  j      \frac{1}{\lambda_{j}}=E(T_{j})   and     1   Œº  j    =   E   (   S  j   )          1   subscript  Œº  j      E   subscript  S  j      \frac{1}{\mu_{j}}=E(S_{j})   ; let    W   q  ,  j      subscript  W   q  j     W_{q,j}   denote the waiting time in queue for a customer in steady state; Let     Œ±  j   =   -   E   [    S  j   -   T  j    ]          subscript  Œ±  j       E   delimited-[]     subscript  S  j    subscript  T  j         \alpha_{j}=-E[S_{j}-T_{j}]   and      Œ≤  j  2   =   var   [    S  j   -   T  j    ]     ;       superscript   subscript  Œ≤  j   2    var     subscript  S  j    subscript  T  j       \beta_{j}^{2}=\operatorname{var}[S_{j}-T_{j}];     Suppose that     T  j    ‚Üí  ùëë   T      d  normal-‚Üí    subscript  T  j   T    T_{j}\xrightarrow{d}T   ,     S  j    ‚Üí  ùëë   S      d  normal-‚Üí    subscript  S  j   S    S_{j}\xrightarrow{d}S   , and     œÅ  j   ‚Üí  1     normal-‚Üí   subscript  œÅ  j   1    \rho_{j}\rightarrow 1   . then        2   Œ±  j     Œ≤  j  2     W   q  ,  j      ‚Üí  ùëë    exp   (  1  )        d  normal-‚Üí         2   subscript  Œ±  j     superscript   subscript  Œ≤  j   2     subscript  W   q  j       1     \frac{2\alpha_{j}}{\beta_{j}^{2}}W_{q,j}\xrightarrow{d}\exp(1)     provided that:  (a)     Var   [   S  -  T   ]    >  0       Var    S  T    0    \operatorname{Var}[S-T]>0   (b) for some    Œ¥  >  0      Œ¥  0    \delta>0   ,    E   [   S  j   2  +  Œ¥    ]       E   delimited-[]   superscript   subscript  S  j     2  Œ¥       E[S_{j}^{2+\delta}]   and    E   [   T  j   2  +  Œ¥    ]       E   delimited-[]   superscript   subscript  T  j     2  Œ¥       E[T_{j}^{2+\delta}]   are both less than some constant   C   C   C   for all   j   j   j   .  Heuristic argument   Waiting time in queue   Let     U   (  n  )    =    S   (  n  )    -   T   (  n  )          superscript  U  n      superscript  S  n    superscript  T  n      U^{(n)}=S^{(n)}-T^{(n)}   be the difference between the nth service time and the nth inter-arrival time; Let    W  q   (  n  )      superscript   subscript  W  q   n    W_{q}^{(n)}   be the waiting time in queue of the nth customer;  Then by definition:       W  q   (  n  )    =   max   (    W  q   (   n  -  1   )    +   U   (   n  -  1   )     ,  0  )         superscript   subscript  W  q   n        superscript   subscript  W  q     n  1     superscript  U    n  1     0     W_{q}^{(n)}=\max(W_{q}^{(n-1)}+U^{(n-1)},0)   After recursive calculation, we have:       W  q   (  n  )    =   max   (    U   (  1  )    +  ‚ãØ  +   U   (   n  -  1   )     ,    U   (  2  )    +  ‚ãØ  +   U   (   n  -  1   )     ,  ‚Ä¶  ,   U   (   n  -  1   )    ,  0  )         superscript   subscript  W  q   n        superscript  U  1   normal-‚ãØ   superscript  U    n  1        superscript  U  2   normal-‚ãØ   superscript  U    n  1     normal-‚Ä¶   superscript  U    n  1    0     W_{q}^{(n)}=\max(U^{(1)}+\cdots+U^{(n-1)},U^{(2)}+\cdots+U^{(n-1)},\ldots,U^{(%
 n-1)},0)      Random walk   Let     P   (  k  )    =    ‚àë   i  =  1   k    U   (   n  -  i   )          superscript  P  k     superscript   subscript     i  1    k    superscript  U    n  i       P^{(k)}=\sum_{i=1}^{k}U^{(n-i)}   , with    U   (  i  )      superscript  U  i    U^{(i)}   are i.i.d; Define    Œ±  =   -   E   [   U   (  i  )    ]         Œ±      E   delimited-[]   superscript  U  i        \alpha=-E[U^{(i)}]   and     Œ≤  2   =   var   [   U   (  i  )    ]         superscript  Œ≤  2    var   superscript  U  i      \beta^{2}=\operatorname{var}[U^{(i)}]   ;  Then we have       E   [   P   (  k  )    ]    =   -   k  Œ±          E   delimited-[]   superscript  P  k         k  Œ±      E[P^{(k)}]=-k\alpha          var   [   P   (  k  )    ]    =   k   Œ≤  2         var   superscript  P  k      k   superscript  Œ≤  2      \operatorname{var}[P^{(k)}]=k\beta^{2}           W  q   (  n  )    =    max    n  -  1   ‚â•  k  ‚â•  0     P   (  k  )      ;       superscript   subscript  W  q   n     subscript         n  1   k       0      superscript  P  k      W_{q}^{(n)}=\max_{n-1\geq k\geq 0}P^{(k)};   we get     W  q   (  ‚àû  )    =    sup   k  ‚â•  0     P   (  k  )          superscript   subscript  W  q       subscript  supremum    k  0     superscript  P  k      W_{q}^{(\infty)}=\sup_{k\geq 0}P^{(k)}   by taking limit over   n   n   n   .  Thus the waiting time in queue of the nth customer    W  q   (  n  )      superscript   subscript  W  q   n    W_{q}^{(n)}   is the supremum of a random walk with a negative drift.   Brownian motion approximation   Random walk can be approximated by a Brownian motion when the jump sizes approach 0 and the times between the jump approach 0. We have     P   (  0  )    =  0       superscript  P  0   0    P^{(0)}=0   and    P   (  k  )      superscript  P  k    P^{(k)}   has independent and stationary increments. When the traffic intensity   œÅ   œÅ   \rho   approaches 1 and k approach to   ‚àû     \infty   , we have      P   (  t  )     ‚àº   ùí©   (   -   Œ±  t    ,    Œ≤  2   t   )       similar-to   superscript  P  t     ùí©       Œ±  t       superscript  Œ≤  2   t       P^{(t)}\ \sim\ \mathcal{N}(-\alpha t,\beta^{2}t)   after replaced k with continuous value t according to functional central limit theorem . 15 Thus the waiting time in queue of the nth customer can be approximated by the supremum of a Brownian motion with a negative drift.   Supremum of Brownian motion   Theorem 2. 16 Let   X   X   X   be a Brownian motion with drift   Œº   Œº   \mu   and standard deviation   œÉ   œÉ   \sigma   starting at the origin, and let     M  t     sup   0  ‚â§  s  ‚â§  t     X   (  s  )          subscript  M  t     subscript  supremum      0  s       t       X  s      M_{t}\sup_{0\leq s\leq t}X(s)     if    Œº  ‚â§  0      Œº  0    \mu\leq 0          lim   t  ‚Üí  ‚àû    P   (   M  t   >  x  )   =  exp   (  2  Œº  x  /   œÉ  2   )   ,  x  ‚â•  0  ;     fragments   subscript    normal-‚Üí  t     P   fragments  normal-(   subscript  M  t    x  normal-)      fragments  normal-(  2  Œº  x    superscript  œÉ  2   normal-)   normal-,  x   0  normal-;    \lim_{t\rightarrow\infty}P(M_{t}>x)=\exp(2\mu x/\sigma^{2}),x\geq 0;   otherwise       lim   t  ‚Üí  ‚àû    P   (   M  t   ‚â•  x  )   =  1  ,  x  ‚â•  0.     fragments   subscript    normal-‚Üí  t     P   fragments  normal-(   subscript  M  t    x  normal-)    1  normal-,  x   0.    \lim_{t\rightarrow\infty}P(M_{t}\geq x)=1,x\geq 0.     Conclusion       W  q   (  ‚àû  )    ‚àº   exp   (    2  Œ±    Œ≤  2    )       normal-‚àº   superscript   subscript  W  q           2  Œ±    superscript  Œ≤  2       W_{q}^{(\infty)}\thicksim\exp\left(\frac{2\alpha}{\beta^{2}}\right)   under heavy traffic condition Thus, the heavy traffic limit theorem (Theorem 1) is heuristically argued. Formal proofs usually follow a different approach which involve characteristic functions . 17 18  Example  Consider an M/G/1 queue with arrival rate   Œª   Œª   \lambda   ,the mean of the service time     E   [  S  ]    =   1  Œº         E   delimited-[]  S      1  Œº     E[S]=\frac{1}{\mu}   , and the variance of the service time     var   [  S  ]    =   œÉ  B  2        var  S    superscript   subscript  œÉ  B   2     \operatorname{var}[S]=\sigma_{B}^{2}   . What is average waiting time in queue in the steady state ?  The exact average waiting time in queue in steady state is give by:       W  q   =     œÅ  2   +    Œª  2    œÉ  B  2      2  Œª   (   1  -  œÅ   )          subscript  W  q        superscript  œÅ  2      superscript  Œª  2    superscript   subscript  œÉ  B   2       2  Œª    1  œÅ       W_{q}=\frac{\rho^{2}+\lambda^{2}\sigma_{B}^{2}}{2\lambda(1-\rho)}   The corresponding heavy traffic approximation:        W  q   (  H  )    =    Œª   (    1   Œª  2    +   œÉ  B  2    )     2   (   1  -  œÅ   )      .       superscript   subscript  W  q   H       Œª      1   superscript  Œª  2     superscript   subscript  œÉ  B   2       2    1  œÅ       W_{q}^{(H)}=\frac{\lambda(\frac{1}{\lambda^{2}}+\sigma_{B}^{2})}{2(1-\rho)}.   The relative error of the heavy traffic approximation:         W  q   (  H  )    -   W  q     W  q    =    1  -   œÅ  2      œÅ  2   +    Œª  2    œÉ  B  2               superscript   subscript  W  q   H    subscript  W  q     subscript  W  q        1   superscript  œÅ  2       superscript  œÅ  2      superscript  Œª  2    superscript   subscript  œÉ  B   2        \frac{W_{q}^{(H)}-W_{q}}{W_{q}}=\frac{1-\rho^{2}}{\rho^{2}+\lambda^{2}\sigma_{%
 B}^{2}}   Thus when    œÅ  ‚Üí  1     normal-‚Üí  œÅ  1    \rho\rightarrow 1   , we have :         W  q   (  H  )    -   W  q     W  q    ‚Üí  0.     normal-‚Üí       superscript   subscript  W  q   H    subscript  W  q     subscript  W  q    0.    \frac{W_{q}^{(H)}-W_{q}}{W_{q}}\rightarrow 0.     External links   The G/G/1 queue by Sergey Foss   References  "  Category:Traffic simulation  Category:Queueing theory  Category:Stochastic processes     ‚Ü©  ‚Ü©  ‚Ü©  ‚Ü©  ‚Ü©  ‚Ü©  ‚Ü©  ‚Ü©  ‚Ü©   ‚Ü©  ‚Ü©  ‚Ü©  ‚Ü©  ‚Ü©  ‚Ü©  ‚Ü©  ‚Ü©     