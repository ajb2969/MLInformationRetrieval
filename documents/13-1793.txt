   Total variation denoising      Total variation denoising   In signal processing, Total variation denoising , also known as total variation regularization is a process, most often used in digital image processing , that has applications in noise removal. It is based on the principle that signals with excessive and possibly spurious detail have high total variation , that is, the integral of the absolute gradient of the signal is high. According to this principle, reducing the total variation of the signal subject to it being a close match to the original signal, removes unwanted detail whilst preserving important details such as edges. The concept was pioneered by Rudin et al. in 1992. 1  This noise removal technique has advantages over simple techniques such as linear smoothing or median filtering which reduce noise but at the same time smooth away edges to a greater or lesser degree. By contrast, total variation denoising is remarkably effective at simultaneously preserving edges whilst smoothing away noise in flat regions, even at low signal-to-noise ratios. 2  Mathematical exposition for 1D digital signals  For a digital signal     y  n     subscript  y  n    y_{n}   , we can, for example, define the total variation as:       V   (  y  )    =    ∑  n    |    y   n  +  1    -   y  n    |          V  y     subscript   n        subscript  y    n  1     subscript  y  n        V(y)=\sum\limits_{n}\left|y_{n+1}-y_{n}\right|     Given an input signal    x  n     subscript  x  n    x_{n}   , the goal of total variation denoising is to find an approximation, call it    y  n     subscript  y  n    y_{n}   , that has smaller total variation than    x  n     subscript  x  n    x_{n}   but is "close" to    x  n     subscript  x  n    x_{n}   . One measure of closeness is the sum of square errors:       E   (  x  ,  y  )    =    1  2     ∑  n     (    x  n   -   y  n    )   2           E   x  y        1  2     subscript   n    superscript     subscript  x  n    subscript  y  n    2       E(x,y)=\frac{1}{2}\sum\limits_{n}\left(x_{n}-y_{n}\right)^{2}     So the total variation denoising problem amounts to minimizing the following discrete functional over the signal    y  n     subscript  y  n    y_{n}   :       E   (  x  ,  y  )    +   λ  V   (  y  )          E   x  y      λ  V  y     E(x,y)+\lambda V(y)     By differentiating this functional with respect to    y  n     subscript  y  n    y_{n}   , we can derive a corresponding Euler–Lagrange equation , that can be numerically integrated with the original signal    x  n     subscript  x  n    x_{n}   as initial condition. This was the original approach. 3 Alternatively, since this is a convex functional , techniques from convex optimization can be used to minimize it and find the solution    y  n     subscript  y  n    y_{n}   . 4  Regularization properties  The regularization parameter   λ   λ   \lambda   plays a critical role in the denoising process. When    λ  =  0      λ  0    \lambda=0   , there is no denoising and the result is identical to the input signal. As    λ  →  ∞     normal-→  λ     \lambda\to\infty   , however, the total variation term plays an increasingly strong role, which forces the result to have smaller total variation, at the expense of being less like the input (noisy) signal. Thus, the choice of regularization parameter is critical to achieving just the right amount of noise removal.  2D digital signals  We now consider 2D signals y , such as images. The total variation norm proposed by the 1992 paper is       V   (  y  )    =    ∑   i  ,  j        |    y    i  +  1   ,  j    -   y   i  ,  j     |   2   +    |    y   i  ,   j  +  1     -   y   i  ,  j     |   2            V  y     subscript    i  j         superscript       subscript  y     i  1   j     subscript  y   i  j      2    superscript       subscript  y   i    j  1      subscript  y   i  j      2        V(y)=\sum_{i,j}\sqrt{|y_{i+1,j}-y_{i,j}|^{2}+|y_{i,j+1}-y_{i,j}|^{2}}   and is isotropic and not differentiable . A variation that is sometimes used, since it may sometimes be easier to minimize, is an anisotropic version         V  aniso    (  y  )    =     ∑   i  ,  j       |    y    i  +  1   ,  j    -   y   i  ,  j     |   2     +     |    y   i  ,   j  +  1     -   y   i  ,  j     |   2     =     ∑   i  ,  j     |    y    i  +  1   ,  j    -   y   i  ,  j     |    +   |    y   i  ,   j  +  1     -   y   i  ,  j     |     .           subscript  V  aniso   y       subscript    i  j       superscript       subscript  y     i  1   j     subscript  y   i  j      2        superscript       subscript  y   i    j  1      subscript  y   i  j      2              subscript    i  j         subscript  y     i  1   j     subscript  y   i  j            subscript  y   i    j  1      subscript  y   i  j          V_{\text{aniso}}(y)=\sum_{i,j}\sqrt{|y_{i+1,j}-y_{i,j}|^{2}}+\sqrt{|y_{i,j+1}-%
 y_{i,j}|^{2}}=\sum_{i,j}|y_{i+1,j}-y_{i,j}|+|y_{i,j+1}-y_{i,j}|.     The standard total variation denoising problem is still of the form          min  y    E    (  x  ,  y  )    +   λ  V   (  y  )            subscript   y   E    x  y      λ  V  y     \min_{y}\;E(x,y)+\lambda V(y)   where E is the 2D L2 norm . In contrast to the 1D case, solving this denoising is non-trivial. A recent algorithm that solves this is known as Chambolle's Algorithm. 5  Due in part to much research in compressed sensing in the mid-2000s, there are many algorithms, such as the split- Bregman method, that solve variants of this problem.  See also   Total variation  Anisotropic diffusion  Signal Processing  Digital Image Processing  Noise reduction  Non-local means   External links   TVDIP: Full-featured Matlab 1D total variation denoising implementation.  Demonstration of the original Rudin, Osher, Fatemi approach and some advances.   References  "  Category:Nonlinear filters  Category:Signal processing  Category:Image processing     ↩  ↩   ↩  ↩     