<html lang="en">
<head>
<meta charset="utf-8"/>
<title offset="506">Comb sort</title>
<script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_SVG.js" type="text/javascript">
</script>
</head>
<body>
<h1>Comb sort</h1>
<hr/>

<p><strong>Comb sort</strong> is a relatively simple <a href="sorting_algorithm" title="wikilink">sorting algorithm</a> originally designed by Włodzimierz Dobosiewicz in 1980.<a class="footnoteRef" href="#fn1" id="fnref1"><sup>1</sup></a> Later it was rediscovered by Stephen Lacey and Richard Box in 1991.<a class="footnoteRef" href="#fn2" id="fnref2"><sup>2</sup></a> Comb sort improves on <a href="bubble_sort" title="wikilink">bubble sort</a>.</p>
<h2 id="algorithm">Algorithm</h2>

<p>The basic idea is to eliminate <em>turtles</em>, or small values near the end of the list, since in a bubble sort these slow the sorting down tremendously. <em>Rabbits</em>, large values around the beginning of the list, do not pose a problem in bubble sort.</p>

<p>In bubble sort, when any two elements are compared, they always have a <em>gap</em> (distance from each other) of 1. The basic idea of comb sort is that the gap can be much more than 1 (<a href="Shell_sort" title="wikilink">Shell sort</a> is also based on this idea, but it is a modification of <a href="insertion_sort" title="wikilink">insertion sort</a> rather than bubble sort).</p>

<p>In other words, the inner loop of <a href="bubble_sort" title="wikilink">bubble sort</a>, which does the actual <em>swap</em>, is modified such that gap between swapped elements goes down (for each iteration of outer loop) in steps of shrink factor. i.e. [ input size / shrink factor, input size / shrink factor^2, input size / shrink factor^3, ...., 1 ]. Unlike in <a href="bubble_sort" title="wikilink">bubble sort</a>, where the gap is constant i.e. 1.</p>

<p>The gap starts out as the length of the list being sorted divided by the <em>shrink factor</em> (generally 1.3; see below), and the list is sorted with that value (rounded down to an integer if needed) as the gap. Then the gap is divided by the shrink factor again, the list is sorted with this new gap, and the process repeats until the gap is 1. At this point, comb sort continues using a gap of 1 until the list is fully sorted. The final stage of the sort is thus equivalent to a bubble sort, but by this time most turtles have been dealt with, so a bubble sort will be efficient.</p>

<p>The shrink factor has a great effect on the efficiency of comb sort. In the original article, the authors suggested 1.3. A value too small slows the algorithm down because more comparisons must be made, whereas a value too large means that no comparisons will be made. Lacey and Box empirically found (by testing Combsort on over 200,000 random lists) the shrink factor of 1.3 to be the best.</p>
<h3 id="pseudocode">Pseudocode</h3>

<p><strong><code>function</code></strong><code> combsort(</code><strong><code>array</code></strong><code> input)</code><br/>
<code>    gap := input.size </code><span style="color:green"><code>//initialize gap size</code></span><br/>
<code>    shrink := 1.3 </code><span style="color:green"><code>//set the gap shrink factor</code></span><br/>
<br/>
<code>    </code><strong><code>loop</code> <code>until</code></strong><code> gap = 1 </code><strong><code>and</code></strong><code> swapped = false</code><br/>
<code>        </code><span style="color:green"><code>//update the gap value for a next comb. Below is an example</code></span><br/>
<code>        gap := int(gap / shrink)</code><br/>
<code>        </code><strong><code>if</code></strong><code> gap </code><code>//minimum gap is 1</code><br/>
<code>          gap := 1</code><br/>
<code>        </code><strong><code>end</code> <code>if</code></strong><br/>
<code>        </code><br/>
<code>         i := 0</code><br/>
<code>        swapped := false </code><span style="color:green"><code>//see </code><a href="bubblesort" title="wikilink"><code>bubblesort</code></a><code> for an explanation</code></span></p>

<p><br/>
<span style="color:green">//a single "comb" over the input list</span></p>

<p><code>        </code><strong><code>loop</code> <code>until</code></strong><code> i + gap &gt; input.size</code><span style="color:green"><code> //see </code><a href="shellsort" title="wikilink"><code>shellsort</code></a><code> for similar idea</code></span><br/>
<code>            </code><strong><code>if</code></strong><code> input[i] &gt; input[i+gap]</code><br/>
<code>                </code><a href="Swap_(computer_science)" title="wikilink"><code>swap</code></a><code>(input[i], input[i+gap])</code><br/>
<code>                swapped := true </code><span style="color:green"><code>// Flag a swap has occurred, so the</code></span></p>

<p><span style="color:green">// list is not guaranteed sorted</span></p>

<p><code>            </code><strong><code>end</code> <code>if</code></strong><br/>
<code>            i := i + 1</code><br/>
<code>        </code><strong><code>end</code> <code>loop</code></strong><br/>
<code>       </code><br/>
<code>     </code><strong><code>end</code> <code>loop</code></strong><br/>
<strong><code>end</code> <code>function</code></strong></p>
<h2 id="see-also">See also</h2>
<ul>
<li><a href="Bubble_sort" title="wikilink">Bubble sort</a>, a generally slower algorithm, is the basis of comb sort.</li>
<li><a href="Cocktail_sort" title="wikilink">Cocktail sort</a>, or bidirectional bubble sort, is a variation of bubble sort that also addresses the problem of turtles, albeit less effectively.</li>
</ul>
<h2 id="references">References</h2>

<p>"</p>

<p><a href="Category:Sorting_algorithms" title="wikilink">Category:Sorting algorithms</a> <a href="Category:Comparison_sorts" title="wikilink">Category:Comparison sorts</a> <a href="Category:Articles_with_example_pseudocode" title="wikilink">Category:Articles with example pseudocode</a></p>
<section class="footnotes">
<hr/>
<ol>
<li id="fn1"></li>
<li id="fn2"><a href="http://cs.clackamas.cc.or.us/molatore/cs260Spr03/combsort.htm">"A Fast Easy Sort"</a>, <a href="Byte_Magazine" title="wikilink"><em>Byte</em> Magazine</a>, April 1991<a href="#fnref2">↩</a></li>
</ol>
</section>
</body>
</html>
