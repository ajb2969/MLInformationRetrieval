   Bundle adjustment      Bundle adjustment   Given a set of images depicting a number of 3D points from different viewpoints , bundle adjustment can be defined as the problem of simultaneously refining the 3D coordinates describing the scene geometry as well as the parameters of the relative motion and the optical characteristics of the camera(s) employed to acquire the images, according to an optimality criterion involving the corresponding image projections of all points.  Uses  Bundle adjustment is almost always used as the last step of every feature-based 3D reconstruction algorithm. It amounts to an optimization problem on the 3D structure and viewing parameters (i.e., camera pose and possibly intrinsic calibration and radial distortion), to obtain a reconstruction which is optimal under certain assumptions regarding the noise pertaining to the observed image features: If the image error is zero-mean Gaussian , then bundle adjustment is the Maximum Likelihood Estimator . Its name refers to the bundles of light rays originating from each 3D feature and converging on each camera's optical center, which are adjusted optimally with respect to both the structure and viewing parameters (similarity in meaning to categorical  bundle seems a pure coincidence). Bundle adjustment was originally conceived in the field of photogrammetry during the 1950s and has increasingly been used by computer vision researchers during recent years.  General approach  Bundle adjustment boils down to minimizing the reprojection error between the image locations of observed and predicted image points, which is expressed as the sum of squares of a large number of nonlinear, real-valued functions. Thus, the minimization is achieved using nonlinear least-squares algorithms. Of these, Levenberg–Marquardt has proven to be one of the most successful due to its ease of implementation and its use of an effective damping strategy that lends it the ability to converge quickly from a wide range of initial guesses. By iteratively linearizing the function to be minimized in the neighborhood of the current estimate, the Levenberg–Marquardt algorithm involves the solution of linear systems known as the normal equations . When solving the minimization problems arising in the framework of bundle adjustment, the normal equations have a sparse block structure owing to the lack of interaction among parameters for different 3D points and cameras. This can be exploited to gain tremendous computational benefits by employing a sparse variant of the Levenberg–Marquardt algorithm which explicitly takes advantage of the normal equations zeros pattern, avoiding storing and operating on zero-elements.  Mathematical definition  Bundle adjustment amounts to jointly refining a set of initial camera and structure parameter estimates for finding the set of parameters that most accurately predict the locations of the observed points in the set of available images. More formally, assume that   n   n   n   3D points are seen in   m   m   m   views and let    𝐱   i  j      subscript  𝐱    i  j     \mathbf{x}_{ij}   be the projection of the   i   i   i   th point on image   j   j   j   . Let    v   i  j      subscript  v    i  j     \displaystyle v_{ij}   denote the binary variables that equal 1 if point   i   i   i   is visible in image   j   j   j   and 0 otherwise. Assume also that each camera   j   j   j   is parameterized by a vector    𝐚  j     subscript  𝐚  j    \mathbf{a}_{j}   and each 3D point   i   i   i   by a vector    𝐛  i     subscript  𝐛  i    \mathbf{b}_{i}   . Bundle adjustment minimizes the total reprojection error with respect to all 3D point and camera parameters, specifically        min    𝐚  j   ,   𝐛  i        ∑   i  =  1   n       ∑   j  =  1   m       v   i  j     d    (   𝐐   (   𝐚  j   ,   𝐛  i   )    ,   𝐱   i  j    )   2       ,       subscript     subscript  𝐚  j    subscript  𝐛  i       superscript   subscript     i  1    n     superscript   subscript     j  1    m      subscript  v    i  j    d   superscript     𝐐    subscript  𝐚  j    subscript  𝐛  i      subscript  𝐱    i  j     2        \min_{\mathbf{a}_{j},\,\mathbf{b}_{i}}\displaystyle\sum_{i=1}^{n}\;%
 \displaystyle\sum_{j=1}^{m}\;v_{ij}\,d(\mathbf{Q}(\mathbf{a}_{j},\,\mathbf{b}_%
 {i}),\;\mathbf{x}_{ij})^{2},     where    𝐐   (   𝐚  j   ,   𝐛  i   )       𝐐    subscript  𝐚  j    subscript  𝐛  i      \mathbf{Q}(\mathbf{a}_{j},\,\mathbf{b}_{i})   is the predicted projection of point   i   i   i   on image   j   j   j   and    d   (  𝐱  ,  𝐲  )       d   𝐱  𝐲     d(\mathbf{x},\,\mathbf{y})   denotes the Euclidean distance between the image points represented by vectors   𝐱   𝐱   \mathbf{x}   and   𝐲   𝐲   \mathbf{y}   . Clearly, bundle adjustment is by definition tolerant to missing image projections and minimizes a physically meaningful criterion.  Software   1 : Apero/MicMac, a free open source photogrammetric software. Cecill-B licence.  sba : A Generic Sparse Bundle Adjustment C/C++ Package Based on the Levenberg–Marquardt Algorithm ( C , Matlab ). GPL.  cvsba : An OpenCV wrapper for sba library ( C++ ). GPL.  ssba : Simple Sparse Bundle Adjustment package based on the Levenberg–Marquardt Algorithm ( C++ ). LGPL.  OpenCV : Computer Vision library in the contrib module. BSD license.  mcba : Multi-Core Bundle Adjustment (CPU/GPU). GPL3.  libdogleg : General-purpose sparse non-linear least squares solver, based on Powell's dogleg method. LGPL.  ceres-solver : A Nonlinear Least Squares Minimizer. BSD license.  G20 : Generalized Graph Optimizer (C) - sparse solver for graph based non-linear error functions. LGPL.  DGAP : The program DGAP implement the photogrammetric method of bundle adjustment invented by Helmut Schmid and Duane Brown. GPL.   See also   Adjustment of observations  Photogrammetry  Stereoscopy  Levenberg–Marquardt algorithm  Sparse matrix  Collinearity equation   References           External links   B. Triggs, P. McLauchlan, R. Hartley and A. Fitzgibbon, Bundle Adjustment — A Modern Synthesis , Vision Algorithms: Theory and Practice, 1999 .  A. Zisserman. Bundle adjustment . CV Online.   "  Category:Geometry in computer vision  Category:Geodesy  Category:Photogrammetry  Category:Surveying  Category:Cartography   