<html lang="en">
<head>
<meta charset="utf-8"/>
<title offset="626">All-pass filter</title>
<script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_SVG.js" type="text/javascript">
</script>
</head>
<body>
<h1>All-pass filter</h1>
<hr/>

<p>An <strong>all-pass filter</strong> is a <a href="filter_(signal_processing)" title="wikilink">signal processing filter</a> that passes all <a href="Frequency" title="wikilink">frequencies</a> equally in gain, but changes the <a href="Phase_(waves)" title="wikilink">phase</a> relationship between various frequencies. It does this by varying its <a href="phase_(waves)" title="wikilink">phase</a> shift as a function of frequency. Generally, the filter is described by the frequency at which the <a href="Phase_shifting" title="wikilink">phase shift</a> crosses 90° (i.e., when the input and output signals go into <a href="Quadrature_phase" title="wikilink">quadrature</a> – when there is a quarter <a class="uri" href="wavelength" title="wikilink">wavelength</a> of delay between them).</p>

<p>They are generally used to compensate for other undesired phase shifts that arise in the system, or for mixing with an unshifted version of the original to implement a notch <a href="comb_filter" title="wikilink">comb filter</a>.</p>

<p>They may also be used to convert a <a href="Minimum_phase#Mixed_phase" title="wikilink">mixed phase</a> filter into a <a href="minimum_phase" title="wikilink">minimum phase</a> filter with an equivalent magnitude response or an unstable filter into a stable filter with an equivalent magnitude response.</p>
<h2 id="active-analog-implementation">Active analog implementation</h2>
<figure><b>(Figure)</b>
<figcaption>Figure 1: Schematic of an <a href="op_amp" title="wikilink">op amp</a> all-pass filter</figcaption>
</figure>

<p>The <a href="operational_amplifier" title="wikilink">operational amplifier</a> circuit shown in Figure 1 implements an <a href="Passivity_(engineering)" title="wikilink">active</a> all-pass filter with the <a href="transfer_function" title="wikilink">transfer function</a></p>

<p>

<math display="block" id="All-pass_filter:0">
 <semantics>
  <mrow>
   <mrow>
    <mrow>
     <mi>H</mi>
     <mrow>
      <mo stretchy="false">(</mo>
      <mi>s</mi>
      <mo stretchy="false">)</mo>
     </mrow>
    </mrow>
    <mo>=</mo>
    <mfrac>
     <mrow>
      <mrow>
       <mi>s</mi>
       <mi>R</mi>
       <mi>C</mi>
      </mrow>
      <mo>-</mo>
      <mn>1</mn>
     </mrow>
     <mrow>
      <mrow>
       <mi>s</mi>
       <mi>R</mi>
       <mi>C</mi>
      </mrow>
      <mo>+</mo>
      <mn>1</mn>
     </mrow>
    </mfrac>
   </mrow>
   <mo>,</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <times></times>
     <ci>H</ci>
     <ci>s</ci>
    </apply>
    <apply>
     <divide></divide>
     <apply>
      <minus></minus>
      <apply>
       <times></times>
       <ci>s</ci>
       <ci>R</ci>
       <ci>C</ci>
      </apply>
      <cn type="integer">1</cn>
     </apply>
     <apply>
      <plus></plus>
      <apply>
       <times></times>
       <ci>s</ci>
       <ci>R</ci>
       <ci>C</ci>
      </apply>
      <cn type="integer">1</cn>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   H(s)=\frac{sRC-1}{sRC+1},\,
  </annotation>
 </semantics>
</math>

 which has one <a href="pole_(complex_analysis)" title="wikilink">pole</a> at -1/RC and one <a href="zero_(complex_analysis)" title="wikilink">zero</a> at 1/RC (i.e., they are <em>reflections</em> of each other across the <a href="imaginary_number" title="wikilink">imaginary</a> axis of the <a href="complex_plane" title="wikilink">complex plane</a>). The <a href="complex_plane" title="wikilink">magnitude and phase</a> of H(iω) for some <a href="angular_frequency" title="wikilink">angular frequency</a> ω are</p>

<p>

<math display="block" id="All-pass_filter:1">
 <semantics>
  <mrow>
   <mrow>
    <mrow>
     <mrow>
      <mo stretchy="false">|</mo>
      <mrow>
       <mi>H</mi>
       <mrow>
        <mo stretchy="false">(</mo>
        <mrow>
         <mi>i</mi>
         <mi>ω</mi>
        </mrow>
        <mo stretchy="false">)</mo>
       </mrow>
      </mrow>
      <mo stretchy="false">|</mo>
     </mrow>
     <mo>=</mo>
     <mrow>
      <mn>1</mn>
      <mtext>and</mtext>
     </mrow>
    </mrow>
    <mrow>
     <mrow>
      <mi mathvariant="normal">∠</mi>
      <mi>H</mi>
      <mrow>
       <mo stretchy="false">(</mo>
       <mrow>
        <mi>i</mi>
        <mi>ω</mi>
       </mrow>
       <mo stretchy="false">)</mo>
      </mrow>
     </mrow>
     <mo>=</mo>
     <mrow>
      <msup>
       <mn>180</mn>
       <mo>∘</mo>
      </msup>
      <mo>-</mo>
      <mrow>
       <mn>2</mn>
       <mrow>
        <mi>arctan</mi>
        <mrow>
         <mo stretchy="false">(</mo>
         <mrow>
          <mi>ω</mi>
          <mi>R</mi>
          <mi>C</mi>
         </mrow>
         <mo stretchy="false">)</mo>
        </mrow>
       </mrow>
      </mrow>
     </mrow>
    </mrow>
   </mrow>
   <mo>.</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <csymbol cd="ambiguous">formulae-sequence</csymbol>
    <apply>
     <eq></eq>
     <apply>
      <abs></abs>
      <apply>
       <times></times>
       <ci>H</ci>
       <apply>
        <times></times>
        <ci>i</ci>
        <ci>ω</ci>
       </apply>
      </apply>
     </apply>
     <list>
      <cn type="integer">1</cn>
      <mtext>and</mtext>
     </list>
    </apply>
    <apply>
     <eq></eq>
     <apply>
      <times></times>
      <ci>normal-∠</ci>
      <ci>H</ci>
      <apply>
       <times></times>
       <ci>i</ci>
       <ci>ω</ci>
      </apply>
     </apply>
     <apply>
      <minus></minus>
      <apply>
       <csymbol cd="ambiguous">superscript</csymbol>
       <cn type="integer">180</cn>
       <compose></compose>
      </apply>
      <apply>
       <times></times>
       <cn type="integer">2</cn>
       <apply>
        <arctan></arctan>
        <apply>
         <times></times>
         <ci>ω</ci>
         <ci>R</ci>
         <ci>C</ci>
        </apply>
       </apply>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   |H(i\omega)|=1\quad\text{and}\quad\angle H(i\omega)=180^{\circ}-2\arctan(%
\omega RC).\,
  </annotation>
 </semantics>
</math>

 As expected, the filter has <a href="unity_(mathematics)" title="wikilink">unity</a>-<a class="uri" href="gain" title="wikilink">gain</a> magnitude for all ω. The filter introduces a different delay at each frequency and reaches input-to-output <em>quadrature</em> at ω=1/RC (i.e., phase shift is 90 degrees).</p>

<p>This implementation uses a <a href="high-pass_filter" title="wikilink">high-pass filter</a> at the <a href="Operational_amplifier#Circuit_notation" title="wikilink">non-inverting input</a> to generate the phase shift and <a href="negative_feedback" title="wikilink">negative feedback</a> to compensate for the filter's <a class="uri" href="attenuation" title="wikilink">attenuation</a>.</p>
<ul>
<li>At high <a href="frequency" title="wikilink">frequencies</a>, the <a class="uri" href="capacitor" title="wikilink">capacitor</a> is a <a href="short_circuit" title="wikilink">short circuit</a>, thereby creating a <a href="unity_(mathematics)" title="wikilink">unity</a>-<a class="uri" href="gain" title="wikilink">gain</a> <a href="Operational_amplifier_applications#Voltage_follower" title="wikilink">voltage buffer</a> (i.e., no phase shift).</li>
<li>At low frequencies and <a href="DC_offset" title="wikilink">DC</a>, the capacitor is an <a href="wikt:open_circuit" title="wikilink">open circuit</a> and the circuit is an <a href="Operational_amplifier_applications#Inverting_amplifier" title="wikilink">inverting amplifier</a> (i.e., 180 degree phase shift) with unity gain.</li>
<li>At the <a href="corner_frequency" title="wikilink">corner frequency</a> ω=1/RC of the high-pass filter (i.e., when input frequency is 1/(2πRC)), the circuit introduces a 90 degree shift (i.e., output is in quadrature with input; it is delayed by a quarter <a class="uri" href="wavelength" title="wikilink">wavelength</a>).</li>
</ul>

<p>In fact, the phase shift of the all-pass filter is double the phase shift of the high-pass filter at its non-inverting input.</p>
<h3 id="interpretation-as-a-padé-approximation-to-a-pure-delay">Interpretation as a Padé approximation to a pure delay</h3>

<p>The Laplace transform of a pure delay is given by</p>

<p>

<math display="block" id="All-pass_filter:2">
 <semantics>
  <mrow>
   <mrow>
    <mi>exp</mi>
    <mrow>
     <mo stretchy="false">{</mo>
     <mrow>
      <mo>-</mo>
      <mrow>
       <mi>s</mi>
       <mi>T</mi>
      </mrow>
     </mrow>
     <mo stretchy="false">}</mo>
    </mrow>
   </mrow>
   <mo>,</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <exp></exp>
    <apply>
     <minus></minus>
     <apply>
      <times></times>
      <ci>s</ci>
      <ci>T</ci>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \exp\{-sT\},
  </annotation>
 </semantics>
</math>

 where 

<math display="inline" id="All-pass_filter:3">
 <semantics>
  <mi>T</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>T</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   T
  </annotation>
 </semantics>
</math>

 is the delay (in seconds) and 

<math display="inline" id="All-pass_filter:4">
 <semantics>
  <mrow>
   <mi>s</mi>
   <mo>∈</mo>
   <mi>ℂ</mi>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <in></in>
    <ci>s</ci>
    <ci>ℂ</ci>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   s\in\mathbb{C}
  </annotation>
 </semantics>
</math>

 is complex frequency. This can be approximated using a <a href="Padé_approximant" title="wikilink">Padé approximant</a>, as follows:</p>

<p>

<math display="block" id="All-pass_filter:5">
 <semantics>
  <mrow>
   <mrow>
    <mrow>
     <mi>exp</mi>
     <mrow>
      <mo stretchy="false">{</mo>
      <mrow>
       <mo>-</mo>
       <mrow>
        <mi>s</mi>
        <mi>T</mi>
       </mrow>
      </mrow>
      <mo stretchy="false">}</mo>
     </mrow>
    </mrow>
    <mo>=</mo>
    <mfrac>
     <mrow>
      <mi>exp</mi>
      <mrow>
       <mo stretchy="false">{</mo>
       <mrow>
        <mo>-</mo>
        <mrow>
         <mrow>
          <mi>s</mi>
          <mi>T</mi>
         </mrow>
         <mo>/</mo>
         <mn>2</mn>
        </mrow>
       </mrow>
       <mo stretchy="false">}</mo>
      </mrow>
     </mrow>
     <mrow>
      <mi>exp</mi>
      <mrow>
       <mo stretchy="false">{</mo>
       <mrow>
        <mrow>
         <mi>s</mi>
         <mi>T</mi>
        </mrow>
        <mo>/</mo>
        <mn>2</mn>
       </mrow>
       <mo stretchy="false">}</mo>
      </mrow>
     </mrow>
    </mfrac>
    <mo>≈</mo>
    <mfrac>
     <mrow>
      <mn>1</mn>
      <mo>-</mo>
      <mrow>
       <mrow>
        <mi>s</mi>
        <mi>T</mi>
       </mrow>
       <mo>/</mo>
       <mn>2</mn>
      </mrow>
     </mrow>
     <mrow>
      <mn>1</mn>
      <mo>+</mo>
      <mrow>
       <mrow>
        <mi>s</mi>
        <mi>T</mi>
       </mrow>
       <mo>/</mo>
       <mn>2</mn>
      </mrow>
     </mrow>
    </mfrac>
   </mrow>
   <mo>,</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <and></and>
    <apply>
     <eq></eq>
     <apply>
      <exp></exp>
      <apply>
       <minus></minus>
       <apply>
        <times></times>
        <ci>s</ci>
        <ci>T</ci>
       </apply>
      </apply>
     </apply>
     <apply>
      <divide></divide>
      <apply>
       <exp></exp>
       <apply>
        <minus></minus>
        <apply>
         <divide></divide>
         <apply>
          <times></times>
          <ci>s</ci>
          <ci>T</ci>
         </apply>
         <cn type="integer">2</cn>
        </apply>
       </apply>
      </apply>
      <apply>
       <exp></exp>
       <apply>
        <divide></divide>
        <apply>
         <times></times>
         <ci>s</ci>
         <ci>T</ci>
        </apply>
        <cn type="integer">2</cn>
       </apply>
      </apply>
     </apply>
    </apply>
    <apply>
     <approx></approx>
     <share href="#.cmml">
     </share>
     <apply>
      <divide></divide>
      <apply>
       <minus></minus>
       <cn type="integer">1</cn>
       <apply>
        <divide></divide>
        <apply>
         <times></times>
         <ci>s</ci>
         <ci>T</ci>
        </apply>
        <cn type="integer">2</cn>
       </apply>
      </apply>
      <apply>
       <plus></plus>
       <cn type="integer">1</cn>
       <apply>
        <divide></divide>
        <apply>
         <times></times>
         <ci>s</ci>
         <ci>T</ci>
        </apply>
        <cn type="integer">2</cn>
       </apply>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \exp\{-sT\}=\frac{\exp\{-sT/2\}}{\exp\{sT/2\}}\approx\frac{1-sT/2}{1+sT/2},
  </annotation>
 </semantics>
</math>

 where the last step was achieved via a first-order <a href="Taylor_series" title="wikilink">Taylor series</a> expansion of the numerator and denominator. By setting 

<math display="inline" id="All-pass_filter:6">
 <semantics>
  <mrow>
   <mrow>
    <mi>R</mi>
    <mi>C</mi>
   </mrow>
   <mo>=</mo>
   <mrow>
    <mi>T</mi>
    <mo>/</mo>
    <mn>2</mn>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <times></times>
     <ci>R</ci>
     <ci>C</ci>
    </apply>
    <apply>
     <divide></divide>
     <ci>T</ci>
     <cn type="integer">2</cn>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   RC=T/2
  </annotation>
 </semantics>
</math>

 we recover 

<math display="inline" id="All-pass_filter:7">
 <semantics>
  <mrow>
   <mi>H</mi>
   <mrow>
    <mo stretchy="false">(</mo>
    <mi>s</mi>
    <mo stretchy="false">)</mo>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <times></times>
    <ci>H</ci>
    <ci>s</ci>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   H(s)
  </annotation>
 </semantics>
</math>

 from above.</p>
<h3 id="implementation-using-low-pass-filter">Implementation using low-pass filter</h3>

<p>A similar all-pass filter can be implemented by interchanging the position of the resistor and capacitor, which turns the <a href="high-pass_filter" title="wikilink">high-pass filter</a> into a <a href="low-pass_filter" title="wikilink">low-pass filter</a>. The result is a phase shifter with the same quadrature frequency but a 180 degree shift at high frequencies and no shift at low frequencies. In other words, the transfer function is <a href="Negation_(disambiguation)" title="wikilink">negated</a>, and so it has the same pole at -1/RC and reflected zero at 1/RC. Again, the phase shift of the all-pass filter is double the phase shift of the first-order filter at its non-inverting input.</p>
<h3 id="voltage-controlled-implementation">Voltage controlled implementation</h3>

<p>The resistor can be replaced with a <a href="field-effect_transistor" title="wikilink">FET</a> in its <em>ohmic mode</em> to implement a voltage-controlled phase shifter; the voltage on the gate adjusts the phase shift. In electronic music, a <a href="phaser_(effect)" title="wikilink">phaser</a> typically consists of two, four or six of these phase-shifting sections connected in tandem and summed with the original. A low-frequency oscillator (<a href="low-frequency_oscillation" title="wikilink">LFO</a>) ramps the control voltage to produce the characteristic swooshing sound.</p>
<h3 id="general-usage">General usage</h3>

<p>These circuits are used as phase shifters and in systems of phase shaping and time delay. Filters such as the above can be cascaded with <a href="Control_theory#Stability" title="wikilink">unstable</a> or mixed-phase filters to create a stable or minimum-phase filter without changing the magnitude response of the system. For example, by proper choice of pole (and therefore zero), a pole of an unstable system that is in the right-hand <a href="complex_plane" title="wikilink">plane</a> can be canceled and reflected on the left-hand plane.</p>
<h2 id="passive-analog-implementation">Passive analog implementation</h2>

<p>The benefit to implementing all-pass filters with <a href="Passivity_(engineering)" title="wikilink">active components</a> like <a href="operational_amplifiers" title="wikilink">operational amplifiers</a> is that they do not require <a href="inductor" title="wikilink">inductors</a>, which are bulky and costly in <a href="integrated_circuit" title="wikilink">integrated circuit</a> designs. In other applications where inductors are readily available, all-pass filters can be implemented entirely without active components. There are a number of circuit <a href="Topology_(electronics)" title="wikilink">topologies</a> that can be used for this. The following are the most commonly used circuits.</p>
<h3 id="lattice-filter">Lattice filter</h3>

<p>  The <strong>lattice phase equaliser</strong>, or <strong>filter</strong>, is a filter composed of lattice, or X-sections. With single element branches it can produce a phase shift up to 180°, and with resonant branches it can produce phase shifts up to 360°. The filter is an example of a <a href="constant-resistance_network" title="wikilink">constant-resistance network</a> (i.e., its <a href="image_impedance" title="wikilink">image impedance</a> is constant over all frequencies).</p>
<h3 id="t-section-filter">T-section filter</h3>

<p>The phase equaliser based on T topology is the unbalanced equivalent of the lattice filter and has the same phase response. While the circuit diagram may look like a low pass filter it is different in that the two inductor branches are mutually coupled. This results in transformer action between the two inductors and an all-pass response even at high frequency.</p>
<h3 id="bridged-t-section-filter">Bridged T-section filter</h3>

<p>The bridged T topology is used for delay equalisation, particularly the differential delay between two <a href="landline" title="wikilink">landlines</a> being used for <a href="stereophonic_sound" title="wikilink">stereophonic sound</a> broadcasts. This application requires that the filter has a <a href="linear_phase" title="wikilink">linear phase</a> response with frequency (i.e., constant <a href="group_delay" title="wikilink">group delay</a>) over a wide bandwidth and is the reason for choosing this topology.</p>
<h2 id="digital-implementation">Digital Implementation</h2>

<p>A <a class="uri" href="Z-transform" title="wikilink">Z-transform</a> implementation of an all-pass filter with a complex pole at 

<math display="inline" id="All-pass_filter:8">
 <semantics>
  <msub>
   <mi>z</mi>
   <mn>0</mn>
  </msub>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <csymbol cd="ambiguous">subscript</csymbol>
    <ci>z</ci>
    <cn type="integer">0</cn>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   z_{0}
  </annotation>
 </semantics>
</math>

 is</p>

<p>

<math display="block" id="All-pass_filter:9">
 <semantics>
  <mrow>
   <mrow>
    <mi>H</mi>
    <mrow>
     <mo stretchy="false">(</mo>
     <mi>z</mi>
     <mo stretchy="false">)</mo>
    </mrow>
   </mrow>
   <mo>=</mo>
   <mfrac>
    <mrow>
     <msup>
      <mi>z</mi>
      <mrow>
       <mo>-</mo>
       <mn>1</mn>
      </mrow>
     </msup>
     <mo>-</mo>
     <mover accent="true">
      <msub>
       <mi>z</mi>
       <mn>0</mn>
      </msub>
      <mo>¯</mo>
     </mover>
    </mrow>
    <mrow>
     <mn>1</mn>
     <mo>-</mo>
     <mrow>
      <msub>
       <mi>z</mi>
       <mn>0</mn>
      </msub>
      <msup>
       <mi>z</mi>
       <mrow>
        <mo>-</mo>
        <mn>1</mn>
       </mrow>
      </msup>
     </mrow>
    </mrow>
   </mfrac>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <times></times>
     <ci>H</ci>
     <ci>z</ci>
    </apply>
    <apply>
     <divide></divide>
     <apply>
      <minus></minus>
      <apply>
       <csymbol cd="ambiguous">superscript</csymbol>
       <ci>z</ci>
       <apply>
        <minus></minus>
        <cn type="integer">1</cn>
       </apply>
      </apply>
      <apply>
       <ci>normal-¯</ci>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>z</ci>
        <cn type="integer">0</cn>
       </apply>
      </apply>
     </apply>
     <apply>
      <minus></minus>
      <cn type="integer">1</cn>
      <apply>
       <times></times>
       <apply>
        <csymbol cd="ambiguous">subscript</csymbol>
        <ci>z</ci>
        <cn type="integer">0</cn>
       </apply>
       <apply>
        <csymbol cd="ambiguous">superscript</csymbol>
        <ci>z</ci>
        <apply>
         <minus></minus>
         <cn type="integer">1</cn>
        </apply>
       </apply>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   H(z)=\frac{z^{-1}-\overline{z_{0}}}{1-z_{0}z^{-1}}
  </annotation>
 </semantics>
</math>

 which has a zero at 

<math display="inline" id="All-pass_filter:10">
 <semantics>
  <mrow>
   <mn>1</mn>
   <mo>/</mo>
   <mover accent="true">
    <msub>
     <mi>z</mi>
     <mn>0</mn>
    </msub>
    <mo>¯</mo>
   </mover>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <divide></divide>
    <cn type="integer">1</cn>
    <apply>
     <ci>normal-¯</ci>
     <apply>
      <csymbol cd="ambiguous">subscript</csymbol>
      <ci>z</ci>
      <cn type="integer">0</cn>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   1/\overline{z_{0}}
  </annotation>
 </semantics>
</math>

, where 

<math display="inline" id="All-pass_filter:11">
 <semantics>
  <mover accent="true">
   <mi>z</mi>
   <mo>¯</mo>
  </mover>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <ci>normal-¯</ci>
    <ci>z</ci>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \overline{z}
  </annotation>
 </semantics>
</math>

 denotes the <a href="complex_conjugate" title="wikilink">complex conjugate</a>. The pole and zero sit at the same angle but have reciprocal magnitudes (i.e., they are <em>reflections</em> of each other across the boundary of the <a href="complex_plane" title="wikilink">complex</a> <a href="unit_circle" title="wikilink">unit circle</a>). The placement of this pole-zero pair for a given 

<math display="inline" id="All-pass_filter:12">
 <semantics>
  <msub>
   <mi>z</mi>
   <mn>0</mn>
  </msub>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <csymbol cd="ambiguous">subscript</csymbol>
    <ci>z</ci>
    <cn type="integer">0</cn>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   z_{0}
  </annotation>
 </semantics>
</math>

 can be rotated in the complex plane by any angle and retain its all-pass magnitude characteristic. Complex pole-zero pairs in all-pass filters help control the frequency where phase shifts occur.</p>

<p>To create an all-pass implementation with real coefficients, the complex all-pass filter can be cascaded with an all-pass that substitutes 

<math display="inline" id="All-pass_filter:13">
 <semantics>
  <mover accent="true">
   <msub>
    <mi>z</mi>
    <mn>0</mn>
   </msub>
   <mo>¯</mo>
  </mover>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <ci>normal-¯</ci>
    <apply>
     <csymbol cd="ambiguous">subscript</csymbol>
     <ci>z</ci>
     <cn type="integer">0</cn>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \overline{z_{0}}
  </annotation>
 </semantics>
</math>

 for 

<math display="inline" id="All-pass_filter:14">
 <semantics>
  <msub>
   <mi>z</mi>
   <mn>0</mn>
  </msub>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <csymbol cd="ambiguous">subscript</csymbol>
    <ci>z</ci>
    <cn type="integer">0</cn>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   z_{0}
  </annotation>
 </semantics>
</math>

, leading to the <a class="uri" href="Z-transform" title="wikilink">Z-transform</a> implementation</p>

<p>

<math display="block" id="All-pass_filter:15">
 <semantics>
  <mrow>
   <mrow>
    <mrow>
     <mi>H</mi>
     <mrow>
      <mo stretchy="false">(</mo>
      <mi>z</mi>
      <mo stretchy="false">)</mo>
     </mrow>
    </mrow>
    <mo>=</mo>
    <mrow>
     <mfrac>
      <mrow>
       <msup>
        <mi>z</mi>
        <mrow>
         <mo>-</mo>
         <mn>1</mn>
        </mrow>
       </msup>
       <mo>-</mo>
       <mover accent="true">
        <msub>
         <mi>z</mi>
         <mn>0</mn>
        </msub>
        <mo>¯</mo>
       </mover>
      </mrow>
      <mrow>
       <mn>1</mn>
       <mo>-</mo>
       <mrow>
        <msub>
         <mi>z</mi>
         <mn>0</mn>
        </msub>
        <msup>
         <mi>z</mi>
         <mrow>
          <mo>-</mo>
          <mn>1</mn>
         </mrow>
        </msup>
       </mrow>
      </mrow>
     </mfrac>
     <mo>×</mo>
     <mfrac>
      <mrow>
       <msup>
        <mi>z</mi>
        <mrow>
         <mo>-</mo>
         <mn>1</mn>
        </mrow>
       </msup>
       <mo>-</mo>
       <msub>
        <mi>z</mi>
        <mn>0</mn>
       </msub>
      </mrow>
      <mrow>
       <mn>1</mn>
       <mo>-</mo>
       <mrow>
        <mover accent="true">
         <msub>
          <mi>z</mi>
          <mn>0</mn>
         </msub>
         <mo>¯</mo>
        </mover>
        <msup>
         <mi>z</mi>
         <mrow>
          <mo>-</mo>
          <mn>1</mn>
         </mrow>
        </msup>
       </mrow>
      </mrow>
     </mfrac>
    </mrow>
    <mo>=</mo>
    <mfrac>
     <mrow>
      <mrow>
       <msup>
        <mi>z</mi>
        <mrow>
         <mo>-</mo>
         <mn>2</mn>
        </mrow>
       </msup>
       <mo>-</mo>
       <mrow>
        <mn>2</mn>
        <mrow>
         <mi mathvariant="normal">ℜ</mi>
         <mrow>
          <mo stretchy="false">(</mo>
          <msub>
           <mi>z</mi>
           <mn>0</mn>
          </msub>
          <mo stretchy="false">)</mo>
         </mrow>
        </mrow>
        <msup>
         <mi>z</mi>
         <mrow>
          <mo>-</mo>
          <mn>1</mn>
         </mrow>
        </msup>
       </mrow>
      </mrow>
      <mo>+</mo>
      <msup>
       <mrow>
        <mo>|</mo>
        <msub>
         <mi>z</mi>
         <mn>0</mn>
        </msub>
        <mo>|</mo>
       </mrow>
       <mn>2</mn>
      </msup>
     </mrow>
     <mrow>
      <mrow>
       <mn>1</mn>
       <mo>-</mo>
       <mrow>
        <mn>2</mn>
        <mrow>
         <mi mathvariant="normal">ℜ</mi>
         <mrow>
          <mo stretchy="false">(</mo>
          <msub>
           <mi>z</mi>
           <mn>0</mn>
          </msub>
          <mo stretchy="false">)</mo>
         </mrow>
        </mrow>
        <msup>
         <mi>z</mi>
         <mrow>
          <mo>-</mo>
          <mn>1</mn>
         </mrow>
        </msup>
       </mrow>
      </mrow>
      <mo>+</mo>
      <mrow>
       <msup>
        <mrow>
         <mo>|</mo>
         <msub>
          <mi>z</mi>
          <mn>0</mn>
         </msub>
         <mo>|</mo>
        </mrow>
        <mn>2</mn>
       </msup>
       <msup>
        <mi>z</mi>
        <mrow>
         <mo>-</mo>
         <mn>2</mn>
        </mrow>
       </msup>
      </mrow>
     </mrow>
    </mfrac>
   </mrow>
   <mo>,</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <and></and>
    <apply>
     <eq></eq>
     <apply>
      <times></times>
      <ci>H</ci>
      <ci>z</ci>
     </apply>
     <apply>
      <times></times>
      <apply>
       <divide></divide>
       <apply>
        <minus></minus>
        <apply>
         <csymbol cd="ambiguous">superscript</csymbol>
         <ci>z</ci>
         <apply>
          <minus></minus>
          <cn type="integer">1</cn>
         </apply>
        </apply>
        <apply>
         <ci>normal-¯</ci>
         <apply>
          <csymbol cd="ambiguous">subscript</csymbol>
          <ci>z</ci>
          <cn type="integer">0</cn>
         </apply>
        </apply>
       </apply>
       <apply>
        <minus></minus>
        <cn type="integer">1</cn>
        <apply>
         <times></times>
         <apply>
          <csymbol cd="ambiguous">subscript</csymbol>
          <ci>z</ci>
          <cn type="integer">0</cn>
         </apply>
         <apply>
          <csymbol cd="ambiguous">superscript</csymbol>
          <ci>z</ci>
          <apply>
           <minus></minus>
           <cn type="integer">1</cn>
          </apply>
         </apply>
        </apply>
       </apply>
      </apply>
      <apply>
       <divide></divide>
       <apply>
        <minus></minus>
        <apply>
         <csymbol cd="ambiguous">superscript</csymbol>
         <ci>z</ci>
         <apply>
          <minus></minus>
          <cn type="integer">1</cn>
         </apply>
        </apply>
        <apply>
         <csymbol cd="ambiguous">subscript</csymbol>
         <ci>z</ci>
         <cn type="integer">0</cn>
        </apply>
       </apply>
       <apply>
        <minus></minus>
        <cn type="integer">1</cn>
        <apply>
         <times></times>
         <apply>
          <ci>normal-¯</ci>
          <apply>
           <csymbol cd="ambiguous">subscript</csymbol>
           <ci>z</ci>
           <cn type="integer">0</cn>
          </apply>
         </apply>
         <apply>
          <csymbol cd="ambiguous">superscript</csymbol>
          <ci>z</ci>
          <apply>
           <minus></minus>
           <cn type="integer">1</cn>
          </apply>
         </apply>
        </apply>
       </apply>
      </apply>
     </apply>
    </apply>
    <apply>
     <eq></eq>
     <share href="#.cmml">
     </share>
     <apply>
      <divide></divide>
      <apply>
       <plus></plus>
       <apply>
        <minus></minus>
        <apply>
         <csymbol cd="ambiguous">superscript</csymbol>
         <ci>z</ci>
         <apply>
          <minus></minus>
          <cn type="integer">2</cn>
         </apply>
        </apply>
        <apply>
         <times></times>
         <cn type="integer">2</cn>
         <apply>
          <real></real>
          <apply>
           <csymbol cd="ambiguous">subscript</csymbol>
           <ci>z</ci>
           <cn type="integer">0</cn>
          </apply>
         </apply>
         <apply>
          <csymbol cd="ambiguous">superscript</csymbol>
          <ci>z</ci>
          <apply>
           <minus></minus>
           <cn type="integer">1</cn>
          </apply>
         </apply>
        </apply>
       </apply>
       <apply>
        <csymbol cd="ambiguous">superscript</csymbol>
        <apply>
         <abs></abs>
         <apply>
          <csymbol cd="ambiguous">subscript</csymbol>
          <ci>z</ci>
          <cn type="integer">0</cn>
         </apply>
        </apply>
        <cn type="integer">2</cn>
       </apply>
      </apply>
      <apply>
       <plus></plus>
       <apply>
        <minus></minus>
        <cn type="integer">1</cn>
        <apply>
         <times></times>
         <cn type="integer">2</cn>
         <apply>
          <real></real>
          <apply>
           <csymbol cd="ambiguous">subscript</csymbol>
           <ci>z</ci>
           <cn type="integer">0</cn>
          </apply>
         </apply>
         <apply>
          <csymbol cd="ambiguous">superscript</csymbol>
          <ci>z</ci>
          <apply>
           <minus></minus>
           <cn type="integer">1</cn>
          </apply>
         </apply>
        </apply>
       </apply>
       <apply>
        <times></times>
        <apply>
         <csymbol cd="ambiguous">superscript</csymbol>
         <apply>
          <abs></abs>
          <apply>
           <csymbol cd="ambiguous">subscript</csymbol>
           <ci>z</ci>
           <cn type="integer">0</cn>
          </apply>
         </apply>
         <cn type="integer">2</cn>
        </apply>
        <apply>
         <csymbol cd="ambiguous">superscript</csymbol>
         <ci>z</ci>
         <apply>
          <minus></minus>
          <cn type="integer">2</cn>
         </apply>
        </apply>
       </apply>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   H(z)=\frac{z^{-1}-\overline{z_{0}}}{1-z_{0}z^{-1}}\times\frac{z^{-1}-z_{0}}{1-%
\overline{z_{0}}z^{-1}}=\frac{z^{-2}-2\Re(z_{0})z^{-1}+\left|{z_{0}}\right|^{2%
}}{1-2\Re(z_{0})z^{-1}+\left|z_{0}\right|^{2}z^{-2}},
  </annotation>
 </semantics>
</math>

 which is equivalent to the <a href="recurrence_relation" title="wikilink">difference equation</a></p>

<p>

<math display="block" id="All-pass_filter:16">
 <semantics>
  <mrow>
   <mrow>
    <mrow>
     <mrow>
      <mrow>
       <mi>y</mi>
       <mrow>
        <mo stretchy="false">[</mo>
        <mi>k</mi>
        <mo stretchy="false">]</mo>
       </mrow>
      </mrow>
      <mo>-</mo>
      <mrow>
       <mn>2</mn>
       <mrow>
        <mi mathvariant="normal">ℜ</mi>
        <mrow>
         <mo stretchy="false">(</mo>
         <msub>
          <mi>z</mi>
          <mn>0</mn>
         </msub>
         <mo stretchy="false">)</mo>
        </mrow>
       </mrow>
       <mi>y</mi>
       <mrow>
        <mo stretchy="false">[</mo>
        <mrow>
         <mi>k</mi>
         <mo>-</mo>
         <mn>1</mn>
        </mrow>
        <mo stretchy="false">]</mo>
       </mrow>
      </mrow>
     </mrow>
     <mo>+</mo>
     <mrow>
      <msup>
       <mrow>
        <mo>|</mo>
        <msub>
         <mi>z</mi>
         <mn>0</mn>
        </msub>
        <mo>|</mo>
       </mrow>
       <mn>2</mn>
      </msup>
      <mi>y</mi>
      <mrow>
       <mo stretchy="false">[</mo>
       <mrow>
        <mi>k</mi>
        <mo>-</mo>
        <mn>2</mn>
       </mrow>
       <mo stretchy="false">]</mo>
      </mrow>
     </mrow>
    </mrow>
    <mo>=</mo>
    <mrow>
     <mrow>
      <mrow>
       <mi>x</mi>
       <mrow>
        <mo stretchy="false">[</mo>
        <mrow>
         <mi>k</mi>
         <mo>-</mo>
         <mn>2</mn>
        </mrow>
        <mo stretchy="false">]</mo>
       </mrow>
      </mrow>
      <mo>-</mo>
      <mrow>
       <mn>2</mn>
       <mrow>
        <mi mathvariant="normal">ℜ</mi>
        <mrow>
         <mo stretchy="false">(</mo>
         <msub>
          <mi>z</mi>
          <mn>0</mn>
         </msub>
         <mo stretchy="false">)</mo>
        </mrow>
       </mrow>
       <mi>x</mi>
       <mrow>
        <mo stretchy="false">[</mo>
        <mrow>
         <mi>k</mi>
         <mo>-</mo>
         <mn>1</mn>
        </mrow>
        <mo stretchy="false">]</mo>
       </mrow>
      </mrow>
     </mrow>
     <mo>+</mo>
     <mrow>
      <msup>
       <mrow>
        <mo>|</mo>
        <msub>
         <mi>z</mi>
         <mn>0</mn>
        </msub>
        <mo>|</mo>
       </mrow>
       <mn>2</mn>
      </msup>
      <mi>x</mi>
      <mrow>
       <mo stretchy="false">[</mo>
       <mi>k</mi>
       <mo stretchy="false">]</mo>
      </mrow>
     </mrow>
    </mrow>
   </mrow>
   <mo>,</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <plus></plus>
     <apply>
      <minus></minus>
      <apply>
       <times></times>
       <ci>y</ci>
       <apply>
        <csymbol cd="latexml">delimited-[]</csymbol>
        <ci>k</ci>
       </apply>
      </apply>
      <apply>
       <times></times>
       <cn type="integer">2</cn>
       <apply>
        <real></real>
        <apply>
         <csymbol cd="ambiguous">subscript</csymbol>
         <ci>z</ci>
         <cn type="integer">0</cn>
        </apply>
       </apply>
       <ci>y</ci>
       <apply>
        <csymbol cd="latexml">delimited-[]</csymbol>
        <apply>
         <minus></minus>
         <ci>k</ci>
         <cn type="integer">1</cn>
        </apply>
       </apply>
      </apply>
     </apply>
     <apply>
      <times></times>
      <apply>
       <csymbol cd="ambiguous">superscript</csymbol>
       <apply>
        <abs></abs>
        <apply>
         <csymbol cd="ambiguous">subscript</csymbol>
         <ci>z</ci>
         <cn type="integer">0</cn>
        </apply>
       </apply>
       <cn type="integer">2</cn>
      </apply>
      <ci>y</ci>
      <apply>
       <csymbol cd="latexml">delimited-[]</csymbol>
       <apply>
        <minus></minus>
        <ci>k</ci>
        <cn type="integer">2</cn>
       </apply>
      </apply>
     </apply>
    </apply>
    <apply>
     <plus></plus>
     <apply>
      <minus></minus>
      <apply>
       <times></times>
       <ci>x</ci>
       <apply>
        <csymbol cd="latexml">delimited-[]</csymbol>
        <apply>
         <minus></minus>
         <ci>k</ci>
         <cn type="integer">2</cn>
        </apply>
       </apply>
      </apply>
      <apply>
       <times></times>
       <cn type="integer">2</cn>
       <apply>
        <real></real>
        <apply>
         <csymbol cd="ambiguous">subscript</csymbol>
         <ci>z</ci>
         <cn type="integer">0</cn>
        </apply>
       </apply>
       <ci>x</ci>
       <apply>
        <csymbol cd="latexml">delimited-[]</csymbol>
        <apply>
         <minus></minus>
         <ci>k</ci>
         <cn type="integer">1</cn>
        </apply>
       </apply>
      </apply>
     </apply>
     <apply>
      <times></times>
      <apply>
       <csymbol cd="ambiguous">superscript</csymbol>
       <apply>
        <abs></abs>
        <apply>
         <csymbol cd="ambiguous">subscript</csymbol>
         <ci>z</ci>
         <cn type="integer">0</cn>
        </apply>
       </apply>
       <cn type="integer">2</cn>
      </apply>
      <ci>x</ci>
      <apply>
       <csymbol cd="latexml">delimited-[]</csymbol>
       <ci>k</ci>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   y[k]-2\Re(z_{0})y[k-1]+\left|z_{0}\right|^{2}y[k-2]=x[k-2]-2\Re(z_{0})x[k-1]+%
\left|z_{0}\right|^{2}x[k],\,
  </annotation>
 </semantics>
</math>

 where 

<math display="inline" id="All-pass_filter:17">
 <semantics>
  <mrow>
   <mi>y</mi>
   <mrow>
    <mo stretchy="false">[</mo>
    <mi>k</mi>
    <mo stretchy="false">]</mo>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <times></times>
    <ci>y</ci>
    <apply>
     <csymbol cd="latexml">delimited-[]</csymbol>
     <ci>k</ci>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   y[k]
  </annotation>
 </semantics>
</math>

 is the output and 

<math display="inline" id="All-pass_filter:18">
 <semantics>
  <mrow>
   <mi>x</mi>
   <mrow>
    <mo stretchy="false">[</mo>
    <mi>k</mi>
    <mo stretchy="false">]</mo>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <times></times>
    <ci>x</ci>
    <apply>
     <csymbol cd="latexml">delimited-[]</csymbol>
     <ci>k</ci>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   x[k]
  </annotation>
 </semantics>
</math>

 is the input at discrete time step 

<math display="inline" id="All-pass_filter:19">
 <semantics>
  <mi>k</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>k</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   k
  </annotation>
 </semantics>
</math>

.</p>

<p>Filters such as the above can be cascaded with <a href="Control_theory#Stability" title="wikilink">unstable</a> or mixed-phase filters to create a stable or minimum-phase filter without changing the magnitude response of the system. For example, by proper choice of 

<math display="inline" id="All-pass_filter:20">
 <semantics>
  <msub>
   <mi>z</mi>
   <mn>0</mn>
  </msub>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <csymbol cd="ambiguous">subscript</csymbol>
    <ci>z</ci>
    <cn type="integer">0</cn>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   z_{0}
  </annotation>
 </semantics>
</math>

, a pole of an unstable system that is outside of the <a href="unit_circle" title="wikilink">unit circle</a> can be canceled and reflected inside the unit circle.</p>
<h2 id="see-also">See also</h2>
<ul>
<li><a href="Bridged_T_delay_equaliser" title="wikilink">Bridged T delay equaliser</a></li>
<li><a href="Lattice_phase_equaliser" title="wikilink">Lattice phase equaliser</a></li>
<li><a href="Minimum_phase" title="wikilink">Minimum phase</a></li>
<li><a href="Hilbert_transform" title="wikilink">Hilbert transform</a></li>
<li><a href="High-pass_filter" title="wikilink">High-pass filter</a></li>
<li><a href="Low-pass_filter" title="wikilink">Low-pass filter</a></li>
<li><a href="Band-stop_filter" title="wikilink">Band-stop filter</a></li>
<li><a href="Band-pass_filter" title="wikilink">Band-pass filter</a></li>
</ul>
<h2 id="external-links">External links</h2>
<ul>
<li><a href="http://ccrma.stanford.edu/~jos/pasp/Allpass_Filters.html">JOS@Stanford on all-pass filters</a></li>
<li><a href="http://www.tedpavlic.com/teaching/osu/ece209/lab1_intro/lab1_intro_phase_shifter.pdf">ECE 209 Phase-Shifter Circuit</a>, analysis steps for a common analog phase-shifter circuit.</li>
</ul>

<p>"</p>

<p><a href="Category:Linear_filters" title="wikilink">Category:Linear filters</a> <a href="Category:Filter_frequency_response" title="wikilink">Category:Filter frequency response</a> <a href="Category:Digital_signal_processing" title="wikilink">Category:Digital signal processing</a></p>
</body>
</html>
