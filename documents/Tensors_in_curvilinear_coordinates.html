<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title offset="120">Tensors in curvilinear coordinates</title>
   <script type="text/javascript"
      src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_SVG.js">
    </script>
</head>
<body>
<h1>Tensors in curvilinear coordinates</h1>
<hr/>
<p><strong><a href="Curvilinear_coordinates" title="wikilink">Curvilinear coordinates</a></strong> can be formulated in <a href="tensor_calculus" title="wikilink">tensor calculus</a>, with important applications in <a class="uri" href="physics" title="wikilink">physics</a> and <a class="uri" href="engineering" title="wikilink">engineering</a>, particularly for describing transportation of physical quantities and deformation of matter in <a href="fluid_mechanics" title="wikilink">fluid mechanics</a> and <a href="continuum_mechanics" title="wikilink">continuum mechanics</a>.</p>
<h2 id="vector-and-tensor-algebra-in-three-dimensional-curvilinear-coordinates">Vector and tensor algebra in three-dimensional curvilinear coordinates</h2>
<p>Elementary vector and tensor algebra in curvilinear coordinates is used in some of the older scientific literature in <a class="uri" href="mechanics" title="wikilink">mechanics</a> and <a class="uri" href="physics" title="wikilink">physics</a> and can be indispensable to understanding work from the early and mid 1900s, for example the text by Green and Zerna.<a class="footnoteRef" href="#fn1" id="fnref1"><sup>1</sup></a> Some useful relations in the algebra of vectors and second-order tensors in curvilinear coordinates are given in this section. The notation and contents are primarily from Ogden,<a class="footnoteRef" href="#fn2" id="fnref2"><sup>2</sup></a> Naghdi,<a class="footnoteRef" href="#fn3" id="fnref3"><sup>3</sup></a> Simmonds,<a class="footnoteRef" href="#fn4" id="fnref4"><sup>4</sup></a> Green and Zerna,<a class="footnoteRef" href="#fn5" id="fnref5"><sup>5</sup></a> Basar and Weichert,<a class="footnoteRef" href="#fn6" id="fnref6"><sup>6</sup></a> and Ciarlet.<a class="footnoteRef" href="#fn7" id="fnref7"><sup>7</sup></a></p>
<h3 id="vectors-in-curvilinear-coordinates">Vectors in curvilinear coordinates</h3>
<p>Let (<strong>b</strong><sub>1</sub>, <strong>b</strong><sub>2</sub>, <strong>b</strong><sub>3</sub>) be an arbitrary basis for three-dimensional Euclidean space. In general, the basis vectors are <strong>neither unit vectors nor mutually orthogonal</strong>. However, they are required to be linearly independent. Then a vector <strong>v</strong> can be expressed as<a class="footnoteRef" href="#fn8" id="fnref8"><sup>8</sup></a></p>
<p><span class="LaTeX">$$\mathbf{v} = v^k\,\mathbf{b}_k$$</span> The components <em>v<sup>k</sup></em> are the <strong>contravariant</strong> components of the vector <strong>v</strong>.</p>
<p>The <strong>reciprocal basis</strong> (<strong>b</strong><sup>1</sup>, <strong>b</strong><sup>2</sup>, <strong>b</strong><sup>3</sup>) is defined by the relation <a class="footnoteRef" href="#fn9" id="fnref9"><sup>9</sup></a></p>
<p><span class="LaTeX">$$\mathbf{b}^i\cdot\mathbf{b}_j = \delta^i_j$$</span> where <em>δ<sup>i</sup> <sub>j</sub></em> is the <a href="Kronecker_delta" title="wikilink">Kronecker delta</a>.</p>
<p>The vector <strong>v</strong> can also be expressed in terms of the reciprocal basis:</p>
<p><span class="LaTeX">$$\mathbf{v} = v_k~\mathbf{b}^k$$</span> The components <em>v<sub>k</sub></em> are the <strong>covariant</strong> components of the vector <span class="LaTeX">$\mathbf{v}$</span>.</p>
<h3 id="second-order-tensors-in-curvilinear-coordinates">Second-order tensors in curvilinear coordinates</h3>
<p>A second-order tensor can be expressed as</p>
<p><span class="LaTeX">$$\boldsymbol{S} = S^{ij}~\mathbf{b}_i\otimes\mathbf{b}_j = S^{i}_{~j}~\mathbf{b}_i\otimes\mathbf{b}^j = S_{i}^{~j}~\mathbf{b}^i\otimes\mathbf{b}_j = S_{ij}~\mathbf{b}^i\otimes\mathbf{b}^j$$</span> The components <em>S<sup>ij</sup></em> are called the <strong>contravariant</strong> components, <em>S<sup>i</sup> <sub>j</sub></em> the <strong>mixed right-covariant</strong> components, <em>S<sub>i</sub> <sup>j</sup></em> the <strong>mixed left-covariant</strong> components, and <em>S<sub>ij</sub></em> the <strong>covariant</strong> components of the second-order tensor.</p>
<h4 id="metric-tensor-and-relations-between-components">Metric tensor and relations between components</h4>
<p>The quantities <em>g<sub>ij</sub></em>, <em>g<sup>ij</sup></em> are defined as<a class="footnoteRef" href="#fn10" id="fnref10"><sup>10</sup></a></p>
<p><span class="LaTeX">$$g_{ij} = \mathbf{b}_i \cdot \mathbf{b}_j = g_{ji} ~;~~ g^{ij} = \mathbf{b}^i \cdot \mathbf{b}^j = g^{ji}$$</span> From the above equations we have</p>
<p><span class="LaTeX">$$v^i = g^{ik}~v_k ~;~~ v_i = g_{ik}~v^k ~;~~ \mathbf{b}^i = g^{ij}~\mathbf{b}_j ~;~~ \mathbf{b}_i = g_{ij}~\mathbf{b}^j$$</span></p>
<p>The components of a vector are related by<a class="footnoteRef" href="#fn11" id="fnref11"><sup>11</sup></a></p>
<p><span class="LaTeX">$$\mathbf{v}\cdot\mathbf{b}^i = v^k~\mathbf{b}_k\cdot\mathbf{b}^i = v^k~\delta^i_k = v^i$$</span></p>
<p><span class="LaTeX">$$\mathbf{v}\cdot\mathbf{b}_i = v_k~\mathbf{b}^k\cdot\mathbf{b}_i = v_k~\delta_i^k = v_i$$</span> Also,</p>
<p><span class="LaTeX">$$\mathbf{v}\cdot\mathbf{b}_i = v^k~\mathbf{b}_k\cdot\mathbf{b}_i = g_{ki}~v^k$$</span></p>
<p><span class="LaTeX">$$\mathbf{v}\cdot\mathbf{b}^i = v_k~\mathbf{b}^k\cdot\mathbf{b}^i = g^{ki}~v_k$$</span></p>
<p>The components of the second-order tensor are related by</p>
<p><span class="LaTeX">$$S^{ij} = g^{ik}~S_k^{~j} = g^{jk}~S^i_{~k} = g^{ik}~g^{jl}~S_{kl}$$</span></p>
<h3 id="the-alternating-tensor">The alternating tensor</h3>
<p>In an orthonormal right-handed basis, the third-order <a href="Levi-Civita_symbol" title="wikilink">alternating tensor</a> is defined as</p>
<p><span class="LaTeX">$$\boldsymbol{\mathcal{E}} = \varepsilon_{ijk}~\mathbf{e}^i\otimes\mathbf{e}^j\otimes\mathbf{e}^k$$</span> In a general curvilinear basis the same tensor may be expressed as</p>
<p><span class="LaTeX">$$\boldsymbol{\mathcal{E}} = \mathcal{E}_{ijk}~\mathbf{b}^i\otimes\mathbf{b}^j\otimes\mathbf{b}^k
   = \mathcal{E}^{ijk}~\mathbf{b}_i\otimes\mathbf{b}_j\otimes\mathbf{b}_k$$</span> It can be shown that</p>
<p><span class="LaTeX">$$\mathcal{E}_{ijk} = \left[\mathbf{b}_i,\mathbf{b}_j,\mathbf{b}_k\right] =(\mathbf{b}_i\times\mathbf{b}_j)\cdot\mathbf{b}_k ~;~~
  \mathcal{E}^{ijk} = \left[\mathbf{b}^i,\mathbf{b}^j,\mathbf{b}^k\right]$$</span> Now,</p>
<p><span class="LaTeX">$$\mathbf{b}_i\times\mathbf{b}_j = J~\varepsilon_{ijp}~\mathbf{b}^p = \sqrt{g}~\varepsilon_{ijp}~\mathbf{b}^p$$</span> Hence,</p>
<p><span class="LaTeX">$$\mathcal{E}_{ijk} = J~\varepsilon_{ijk} = \sqrt{g}~\varepsilon_{ijk}$$</span> Similarly, we can show that</p>
<p><span class="LaTeX">$$\mathcal{E}^{ijk} = \cfrac{1}{J}~\varepsilon^{ijk} = \cfrac{1}{\sqrt{g}}~\varepsilon^{ijk}$$</span></p>
<h3 id="vector-operations">Vector operations</h3>
<ol>
<li><strong>Identity map</strong>
<dl>
<dd>The identity map <strong>I</strong> defined by <span class="LaTeX">$\mathsf{I}\cdot\mathbf{v} = \mathbf{v}$</span> can be shown to be<a class="footnoteRef" href="#fn12" id="fnref12"><sup>12</sup></a>
<p>:<math></math></p>
</dd>
</dl></li>
</ol>
<p><code>  \mathsf{I} = g^{ij}~\mathbf{b}_i\otimes\mathbf{b}_j = g_{ij}~\mathbf{b}^i\otimes\mathbf{b}^j = \mathbf{b}_i\otimes\mathbf{b}^i = \mathbf{b}^i\otimes\mathbf{b}_i</code><br/>
</p>
<ol>
<li><strong>Scalar (dot) product</strong>
<dl>
<dd>The scalar product of two vectors in curvilinear coordinates is<a class="footnoteRef" href="#fn13" id="fnref13"><sup>13</sup></a>
<p>:<math></math></p>
</dd>
</dl></li>
</ol>
<p><code>  \mathbf{u}\cdot\mathbf{v} = u^i~v_i = u_i~v^i = g_{ij}~u^i~v^j = g^{ij}~u_i~v_j</code><br/>
</p>
<ol>
<li><strong>Vector (cross) product</strong>
<dl>
<dd>The <a href="cross_product" title="wikilink">cross product</a> of two vectors is given by<a class="footnoteRef" href="#fn14" id="fnref14"><sup>14</sup></a>
<p>:<math></math></p>
</dd>
</dl></li>
</ol>
<p><code> \mathbf{u}\times\mathbf{v} = \varepsilon_{ijk}~{u}_j~{v}_k~\mathbf{e}_i</code></p>
<p></p>
<p>#:where ε<sub><em>ijk</em></sub> is the <a href="permutation_symbol" title="wikilink">permutation symbol</a> and <strong>e</strong><sub><em>i</em></sub> is a Cartesian basis vector. In curvilinear coordinates, the equivalent expression is</p>
<p>#:<span class="LaTeX">$$\mathbf{u}\times\mathbf{v} = [(\mathbf{b}_m\times\mathbf{b}_n)\cdot\mathbf{b}_s]~u^m~v^n~\mathbf{b}^s
    = \mathcal{E}_{smn}~u^m~v^n~\mathbf{b}^s$$</span></p>
<p>#:where <span class="LaTeX">$\mathcal{E}_{ijk}$</span> is the <a href="Curvilinear_coordinates#The_alternating_tensor" title="wikilink">third-order alternating tensor</a>.</p>
<p>#:The <a href="cross_product" title="wikilink">cross product</a> of two vectors is given by</p>
<p>#:<span class="LaTeX">$$\mathbf{u}\times\mathbf{v} = \varepsilon_{ijk}~\hat{u}_j~\hat{v}_k~\mathbf{e}_i$$</span></p>
<p>#:where ε<sub><em>ijk</em></sub> is the <a href="permutation_symbol" title="wikilink">permutation symbol</a> and <span class="LaTeX">$\mathbf{e}_i$</span> is a Cartesian basis vector. Therefore,</p>
<p>#:<span class="LaTeX">$$\mathbf{e}_p\times\mathbf{e}_q = \varepsilon_{ipq}~\mathbf{e}_i$$</span></p>
<p>#:and</p>
<p>#:<span class="LaTeX">$$\begin{align}
  \mathbf{b}_m\times\mathbf{b}_n & = \frac{\partial \mathbf{x}}{\partial q^m}\times\frac{\partial \mathbf{x}}{\partial q^n}
    = \frac{\partial (x_p~\mathbf{e}_p)}{\partial q^m}\times\frac{\partial (x_q~\mathbf{e}_q)}{\partial q^n} \\[8pt]
& = \frac{\partial x_p}{\partial q^m}~\frac{\partial x_q}{\partial q^n}~\mathbf{e}_p\times\mathbf{e}_q
    = \varepsilon_{ipq}~\frac{\partial x_p}{\partial q^m}~\frac{\partial x_q}{\partial q^n}~\mathbf{e}_i
\end{align}$$</span></p>
<p>#:Hence,</p>
<p>#:<span class="LaTeX">$$(\mathbf{b}_m\times\mathbf{b}_n)\cdot\mathbf{b}_s =
    \varepsilon_{ipq}~\frac{\partial x_p}{\partial q^m}~\frac{\partial x_q}{\partial q^n}~\frac{\partial x_i}{\partial q^s}$$</span></p>
<p>#:Returning to the vector product and using the relations</p>
<p>#:<span class="LaTeX">$$\hat{u}_j = \frac{\partial x_j}{\partial q^m}~u^m ~;~~
  \hat{v}_k = \frac{\partial x_k}{\partial q^n}~v^n ~;~~
  \mathbf{e}_i = \frac{\partial x_i}{\partial q^s}~\mathbf{b}^s$$</span></p>
<p>#:gives us</p>
<p>#:<span class="LaTeX">$$\begin{align}
  \mathbf{u}\times\mathbf{v} & = \varepsilon_{ijk}~\hat{u}_j~\hat{v}_k~\mathbf{e}_i
    = \varepsilon_{ijk}~\frac{\partial x_j}{\partial q^m}~\frac{\partial x_k}{\partial q^n}~\frac{\partial x_i}{\partial q^s}~ u^m~v^n~\mathbf{b}^s \\[8pt]
  & = [(\mathbf{b}_m\times\mathbf{b}_n)\cdot\mathbf{b}_s]~u^m~v^n~\mathbf{b}^s
    = \mathcal{E}_{smn}~u^m~v^n~\mathbf{b}^s
\end{align}$$</span></p>
<h3 id="tensor-operations">Tensor operations</h3>
<ol>
<li><strong><a href="Identity_function" title="wikilink">Identity map</a>:</strong>
<dl>
<dd>The identity map <span class="LaTeX">$\mathsf{I}$</span> defined by <span class="LaTeX">$\mathsf{I}\cdot\mathbf{v} = \mathbf{v}$</span> can be shown to be<a class="footnoteRef" href="#fn15" id="fnref15"><sup>15</sup></a>
<p>:<math></math></p>
</dd>
</dl></li>
</ol>
<p><code>  \mathsf{I} = g^{ij}\mathbf{b}_i\otimes\mathbf{b}_j = g_{ij}\mathbf{b}^i\otimes\mathbf{b}^j = \mathbf{b}_i\otimes\mathbf{b}^i = \mathbf{b}^i\otimes\mathbf{b}_i</code><br/>
</p>
<ol>
<li><strong>Action of a second-order tensor on a vector:</strong>
<dl>
<dd>The action <span class="LaTeX">$\mathbf{v} = \boldsymbol{S}\cdot\mathbf{u}$</span> can be expressed in curvilinear coordinates as
<p>:<math></math></p>
</dd>
</dl></li>
</ol>
<p><code>  v^i\mathbf{b}_i = S^{ij}u_j\mathbf{b}_i = S^i_{j}u^j\mathbf{b}_i ;\qquad v_i\mathbf{b}^i = S_{ij}u^i\mathbf{b}^i = S_{i}^{j}u_j\mathbf{b}^i</code><br/>
</p>
<ol>
<li><strong><a href="Inner_product" title="wikilink">Inner product</a> of two second-order tensors:</strong>
<dl>
<dd>The inner product of two second-order tensors <span class="LaTeX">$\boldsymbol{U} = \boldsymbol{S}\cdot\boldsymbol{T}$</span> can be expressed in curvilinear coordinates as
<p>:<math></math></p>
</dd>
</dl></li>
</ol>
<p><code>  U_{ij}\mathbf{b}^i\otimes\mathbf{b}^j = S_{ik}T^k_{.j} \mathbf{b}^i\otimes\mathbf{b}^j= S_i^{.k}T_{kj}\mathbf{b}^i\otimes\mathbf{b}^j</code><br/>
</p>
<p>#:Alternatively,</p>
<p>#:<span class="LaTeX">$$\boldsymbol{U} = S^{ij}T^m_{.n}g_{jm}\mathbf{b}_i\otimes\mathbf{b}^n = S^i_{.m}T^m_{.n}\mathbf{b}_i\otimes\mathbf{b}^n
     = S^{ij}T_{jn}\mathbf{b}_i\otimes\mathbf{b}^n$$</span></p>
<ol>
<li><strong><a class="uri" href="Determinant" title="wikilink">Determinant</a> of a second-order tensor:</strong>
<dl>
<dd>If <span class="LaTeX">$\boldsymbol{S}$</span> is a second-order tensor, then the determinant is defined by the relation
<p>:<math></math></p>
</dd>
</dl></li>
</ol>
<p><code>  \left[\boldsymbol{S}\cdot\mathbf{u}, \boldsymbol{S}\cdot\mathbf{v}, \boldsymbol{S}\cdot\mathbf{w}\right] = \det\boldsymbol{S}\left[\mathbf{u}, \mathbf{v}, \mathbf{w}\right]</code></p>
<p>#:where <span class="LaTeX">$\mathbf{u}, \mathbf{v}, \mathbf{w}$</span> are arbitrary vectors and</p>
<p>#:<span class="LaTeX">$$\left[\mathbf{u},\mathbf{v},\mathbf{w}\right] := \mathbf{u}\cdot(\mathbf{v}\times\mathbf{w}).$$</span></p>
<h3 id="relations-between-curvilinear-and-cartesian-basis-vectors">Relations between curvilinear and Cartesian basis vectors</h3>
<p>Let (<strong>e</strong><sub>1</sub>, <strong>e</strong><sub>2</sub>, <strong>e</strong><sub>3</sub>) be the usual Cartesian basis vectors for the Euclidean space of interest and let</p>
<p><span class="LaTeX">$$\mathbf{b}_i = \boldsymbol{F}\cdot\mathbf{e}_i$$</span> where <em><strong>F</strong><sub>i</sub></em> is a second-order transformation tensor that maps <strong>e</strong><sub><em>i</em></sub> to <strong>b</strong><sub><em>i</em></sub>. Then,</p>
<p><span class="LaTeX">$$\mathbf{b}_i\otimes\mathbf{e}_i = (\boldsymbol{F}\cdot\mathbf{e}_i)\otimes\mathbf{e}_i = \boldsymbol{F}\cdot(\mathbf{e}_i\otimes\mathbf{e}_i) = \boldsymbol{F}~.$$</span> From this relation we can show that</p>
<p><span class="LaTeX">$$\mathbf{b}^i = \boldsymbol{F}^{-\rm{T}}\cdot\mathbf{e}^i ~;~~ g^{ij} = [\boldsymbol{F}^{-\rm{1}}\cdot\boldsymbol{F}^{-\rm{T}}]_{ij} ~;~~ g_{ij} = [g^{ij}]^{-1} = [\boldsymbol{F}^{\rm{T}}\cdot\boldsymbol{F}]_{ij}$$</span> Let <span class="LaTeX">$J := \det\boldsymbol{F}$</span> be the Jacobian of the transformation. Then, from the definition of the determinant,</p>
<p><span class="LaTeX">$$\left[\mathbf{b}_1,\mathbf{b}_2,\mathbf{b}_3\right] = \det\boldsymbol{F}\left[\mathbf{e}_1,\mathbf{e}_2,\mathbf{e}_3\right] ~.$$</span> Since</p>
<p><span class="LaTeX">$$\left[\mathbf{e}_1,\mathbf{e}_2,\mathbf{e}_3\right] = 1$$</span> we have</p>
<p><span class="LaTeX">$$J = \det\boldsymbol{F} = \left[\mathbf{b}_1,\mathbf{b}_2,\mathbf{b}_3\right] = \mathbf{b}_1\cdot(\mathbf{b}_2\times\mathbf{b}_3)$$</span> A number of interesting results can be derived using the above relations.</p>
<p>First, consider</p>
<p><span class="LaTeX">$$g := \det[g_{ij}]\,$$</span> Then</p>
<p><span class="LaTeX">$$g = \det[\boldsymbol{F}^{\rm{T}}]\cdot\det[\boldsymbol{F}] = J\cdot J = J^2$$</span> Similarly, we can show that</p>
<p><span class="LaTeX">$$\det[g^{ij}] = \cfrac{1}{J^2}$$</span> Therefore, using the fact that <span class="LaTeX">$[g^{ij}] = [g_{ij}]^{-1}$</span>,</p>
<p><span class="LaTeX">$$\cfrac{\partial g}{\partial g_{ij}} = 2~J~\cfrac{\partial J}{\partial g_{ij}} = g~g^{ij}$$</span></p>
<p>Another interesting relation is derived below. Recall that</p>
<p><span class="LaTeX">$$\mathbf{b}^i\cdot\mathbf{b}_j = \delta^i_j \quad \Rightarrow \quad \mathbf{b}^1\cdot\mathbf{b}_1 = 1,~\mathbf{b}^1\cdot\mathbf{b}_2=\mathbf{b}^1\cdot\mathbf{b}_3=0 \quad \Rightarrow \quad \mathbf{b}^1 = A~(\mathbf{b}_2\times\mathbf{b}_3)$$</span> where <em>A</em> is a, yet undetermined, constant. Then</p>
<p><span class="LaTeX">$$\mathbf{b}^1\cdot\mathbf{b}_1 =  A~\mathbf{b}_1\cdot(\mathbf{b}_2\times\mathbf{b}_3) = AJ = 1 \quad \Rightarrow \quad A = \cfrac{1}{J}$$</span> This observation leads to the relations</p>
<p><span class="LaTeX">$$\mathbf{b}^1 = \cfrac{1}{J}(\mathbf{b}_2\times\mathbf{b}_3) ~;~~
  \mathbf{b}^2 = \cfrac{1}{J}(\mathbf{b}_3\times\mathbf{b}_1) ~;~~
  \mathbf{b}^3 = \cfrac{1}{J}(\mathbf{b}_1\times\mathbf{b}_2)$$</span> In index notation,</p>
<p><span class="LaTeX">$$\varepsilon_{ijk}~\mathbf{b}^k = \cfrac{1}{J}(\mathbf{b}_i\times\mathbf{b}_j) = \cfrac{1}{\sqrt{g}}(\mathbf{b}_i\times\mathbf{b}_j)$$</span> where <span class="LaTeX">$\varepsilon_{ijk}\,$</span> is the usual <a href="permutation_symbol" title="wikilink">permutation symbol</a>.</p>
<p>We have not identified an explicit expression for the transformation tensor <strong><em>F</em></strong> because an alternative form of the mapping between curvilinear and Cartesian bases is more useful. Assuming a sufficient degree of smoothness in the mapping (and a bit of abuse of notation), we have</p>
<p><span class="LaTeX">$$\mathbf{b}_i = \cfrac{\partial\mathbf{x}}{\partial q^i} =  \cfrac{\partial\mathbf{x}}{\partial x_j}~\cfrac{\partial x_j}{\partial q^i} = \mathbf{e}_j~\cfrac{\partial x_j}{\partial q^i}$$</span> Similarly,</p>
<p><span class="LaTeX">$$\mathbf{e}_i = \mathbf{b}_j~\cfrac{\partial q^j}{\partial x_i}$$</span> From these results we have</p>
<p><span class="LaTeX">$$\mathbf{e}^k\cdot\mathbf{b}_i = \frac{\partial x_k}{\partial q^i} \quad \Rightarrow \quad
  \frac{\partial x_k}{\partial q^i}~\mathbf{b}^i = \mathbf{e}^k\cdot(\mathbf{b}_i\otimes\mathbf{b}^i) = \mathbf{e}^k$$</span> and</p>
<p><span class="LaTeX">$$\mathbf{b}^k = \frac{\partial q^k}{\partial x_i}~\mathbf{e}^i$$</span></p>
<h2 id="vector-and-tensor-calculus-in-three-dimensional-curvilinear-coordinates">Vector and tensor calculus in three-dimensional curvilinear coordinates</h2>
<p>Simmonds,<a class="footnoteRef" href="#fn16" id="fnref16"><sup>16</sup></a> in his book on <a href="tensor_analysis" title="wikilink">tensor analysis</a>, quotes <a href="Albert_Einstein" title="wikilink">Albert Einstein</a> saying<a class="footnoteRef" href="#fn17" id="fnref17"><sup>17</sup></a></p>
<blockquote>
<p><code> The magic of this theory will hardly fail to impose itself on anybody who has truly understood it; it represents a genuine triumph of the method of absolute differential calculus, founded by Gauss, Riemann, Ricci, and Levi-Civita.</code></p>
</blockquote>
<p>Vector and tensor calculus in general curvilinear coordinates is used in tensor analysis on four-dimensional curvilinear <a href="manifold" title="wikilink">manifolds</a> in <a href="general_relativity" title="wikilink">general relativity</a>,<a class="footnoteRef" href="#fn18" id="fnref18"><sup>18</sup></a> in the <a href="solid_mechanics" title="wikilink">mechanics</a> of curved <a href="Plate_theory" title="wikilink">shells</a>,<a class="footnoteRef" href="#fn19" id="fnref19"><sup>19</sup></a> in examining the <a href="invariant_(mathematics)" title="wikilink">invariance</a> properties of <a href="Maxwell's_equations" title="wikilink">Maxwell's equations</a> which has been of interest in <a class="uri" href="metamaterials" title="wikilink">metamaterials</a><a class="footnoteRef" href="#fn20" id="fnref20"><sup>20</sup></a><a class="footnoteRef" href="#fn21" id="fnref21"><sup>21</sup></a> and in many other fields.</p>
<p>Some useful relations in the calculus of vectors and second-order tensors in curvilinear coordinates are given in this section. The notation and contents are primarily from Ogden,<a class="footnoteRef" href="#fn22" id="fnref22"><sup>22</sup></a> Simmonds,<a class="footnoteRef" href="#fn23" id="fnref23"><sup>23</sup></a> Green and Zerna,<a class="footnoteRef" href="#fn24" id="fnref24"><sup>24</sup></a> Basar and Weichert,<a class="footnoteRef" href="#fn25" id="fnref25"><sup>25</sup></a> and Ciarlet.<a class="footnoteRef" href="#fn26" id="fnref26"><sup>26</sup></a></p>
<h3 id="basic-definitions">Basic definitions</h3>
<p>Let the position of a point in space be characterized by three coordinate variables <span class="LaTeX">$(q^1, q^2, q^3)$</span>.</p>
<p>The coordinate curve <em>q</em><sup>1</sup> represents a curve on which <em>q</em><sup>2</sup>, <em>q</em><sup>3</sup> are constant. Let <strong>x</strong> be the <a href="position_vector" title="wikilink">position vector</a> of the point relative to some origin. Then, assuming that such a mapping and its inverse exist and are continuous, we can write <a class="footnoteRef" href="#fn27" id="fnref27"><sup>27</sup></a></p>
<p><span class="LaTeX">$$\mathbf{x} = \boldsymbol{\varphi}(q^1, q^2, q^3) ~;~~ q^i = \psi^i(\mathbf{x}) = [\boldsymbol{\varphi}^{-1}(\mathbf{x})]^i$$</span> The fields ψ<sup><em>i</em></sup>(<strong>x</strong>) are called the <strong>curvilinear coordinate functions</strong> of the <strong>curvilinear coordinate system</strong> <strong>ψ</strong>(<strong>x</strong>) = <strong>ψ</strong><sup>−1</sup>(<strong>x</strong>).</p>
<p>The <em>q<sup>i</sup></em> <strong>coordinate curves</strong> are defined by the one-parameter family of functions given by</p>
<p><span class="LaTeX">$$\mathbf{x}_i(\alpha) = \boldsymbol{\varphi}(\alpha, q^j, q^k) ~,~~ i\ne j \ne k$$</span> with <em>q<sup>j</sup>, q<sup>k</sup></em> fixed.</p>
<h3 id="tangent-vector-to-coordinate-curves">Tangent vector to coordinate curves</h3>
<p>The <strong>tangent vector</strong> to the curve <strong>x</strong><sub><em>i</em></sub> at the point <strong>x</strong><sub><em>i</em></sub>(α) (or to the coordinate curve <em>q<sub>i</sub></em> at the point <strong>x</strong>) is</p>
<p><span class="LaTeX">$$\cfrac{\rm{d}\mathbf{x}_i}{\rm{d}\alpha} \equiv \cfrac{\partial\mathbf{x}}{\partial q^i}$$</span></p>
<h3 id="gradient">Gradient</h3>
<h4 id="scalar-field">Scalar field</h4>
<p>Let <em>f</em>(<strong>x</strong>) be a scalar field in space. Then</p>
<p><span class="LaTeX">$$f(\mathbf{x}) = f[\boldsymbol{\varphi}(q^1,q^2,q^3)] = f_\varphi(q^1,q^2,q^3)$$</span> The gradient of the field <em>f</em> is defined by</p>
<p><span class="LaTeX">$$[\boldsymbol{\nabla}f(\mathbf{x})]\cdot\mathbf{c} = \cfrac{\rm{d}}{\rm{d}\alpha} f(\mathbf{x}+\alpha\mathbf{c})\biggr|_{\alpha=0}$$</span> where <strong>c</strong> is an arbitrary constant vector. If we define the components <em>c<sup>i</sup></em> of <strong>c</strong> are such that</p>
<p><span class="LaTeX">$$q^i + \alpha~c^i = \psi^i(\mathbf{x} + \alpha~\mathbf{c})$$</span> then</p>
<p><span class="LaTeX">$$[\boldsymbol{\nabla}f(\mathbf{x})]\cdot\mathbf{c} = \cfrac{\rm{d}}{\rm{d}\alpha} f_\varphi(q^1 + \alpha~c^1, q^2 + \alpha~c^2, q^3 + \alpha~c^3)\biggr|_{\alpha=0} = \cfrac{\partial f_\varphi}{\partial q^i}~c^i = \cfrac{\partial f}{\partial q^i}~c^i$$</span></p>
<p>If we set <span class="LaTeX">$f(\mathbf{x}) = \psi^i(\mathbf{x})$</span>, then since <span class="LaTeX">$q^i = \psi^i(\mathbf{x})$</span>, we have</p>
<p><span class="LaTeX">$$[\boldsymbol{\nabla}\psi^i(\mathbf{x})]\cdot\mathbf{c} = \cfrac{\partial \psi^i}{\partial q^j}~c^j = c^i$$</span> which provides a means of extracting the contravariant component of a vector <strong>c</strong>.</p>
<p>If <strong>b</strong><sub><em>i</em></sub> is the covariant (or natural) basis at a point, and if <strong>b</strong><sup><em>i</em></sup> is the contravariant (or reciprocal) basis at that point, then</p>
<p><span class="LaTeX">$$[\boldsymbol{\nabla}f(\mathbf{x})]\cdot\mathbf{c} = \cfrac{\partial f}{\partial q^i}~c^i = \left(\cfrac{\partial f}{\partial q^i}~\mathbf{b}^i\right)
   \left(c^i~\mathbf{b}_i\right) \quad \Rightarrow \quad \boldsymbol{\nabla}f(\mathbf{x}) = \cfrac{\partial f}{\partial q^i}~\mathbf{b}^i$$</span> A brief rationale for this choice of basis is given in the next section.</p>
<h4 id="vector-field">Vector field</h4>
<p>A similar process can be used to arrive at the gradient of a vector field <strong>f</strong>(<strong>x</strong>). The gradient is given by</p>
<p><span class="LaTeX">$$[\boldsymbol{\nabla}\mathbf{f}(\mathbf{x})]\cdot\mathbf{c} = \cfrac{\partial \mathbf{f}}{\partial q^i}~c^i$$</span> If we consider the gradient of the position vector field <strong>r</strong>(<strong>x</strong>) = <strong>x</strong>, then we can show that</p>
<p><span class="LaTeX">$$\mathbf{c} = \cfrac{\partial\mathbf{x}}{\partial q^i}~c^i = \mathbf{b}_i(\mathbf{x})~c^i ~;~~ \mathbf{b}_i(\mathbf{x}) := \cfrac{\partial\mathbf{x}}{\partial q^i}$$</span> The vector field <strong>b</strong><sub><em>i</em></sub> is tangent to the <em>q<sup>i</sup></em> coordinate curve and forms a <strong>natural basis</strong> at each point on the curve. This basis, as discussed at the beginning of this article, is also called the <strong>covariant</strong> curvilinear basis. We can also define a <strong>reciprocal basis</strong>, or <strong>contravariant</strong> curvilinear basis, <strong>b</strong><sup><em>i</em></sup>. All the algebraic relations between the basis vectors, as discussed in the section on tensor algebra, apply for the natural basis and its reciprocal at each point <strong>x</strong>.</p>
<p>Since <strong>c</strong> is arbitrary, we can write</p>
<p><span class="LaTeX">$$\boldsymbol{\nabla}\mathbf{f}(\mathbf{x}) = \cfrac{\partial \mathbf{f}}{\partial q^i}\otimes\mathbf{b}^i$$</span></p>
<p>Note that the contravariant basis vector <strong>b</strong><sup><em>i</em></sup> is perpendicular to the surface of constant ψ<sup><em>i</em></sup> and is given by</p>
<p><span class="LaTeX">$$\mathbf{b}^i = \boldsymbol{\nabla}\psi^i$$</span></p>
<h4 id="christoffel-symbols-of-the-first-kind">Christoffel symbols of the first kind</h4>
<p>The <a href="Christoffel_symbols" title="wikilink">Christoffel symbols</a> of the first kind are defined as</p>
<p><span class="LaTeX">$$\mathbf{b}_{i,j} = \frac{\partial \mathbf{b}_i}{\partial q^j} := \Gamma_{ijk}~\mathbf{b}^k \quad \Rightarrow \quad
   \mathbf{b}_{i,j} \cdot \mathbf{b}_l = \Gamma_{ijl}$$</span> To express Γ<sub><em>ijk</em></sub> in terms of <em>g<sub>ij</sub></em> we note that</p>
<p><span class="LaTeX">$$\begin{align}
     g_{ij,k} & = (\mathbf{b}_i\cdot\mathbf{b}_j)_{,k} = \mathbf{b}_{i,k}\cdot\mathbf{b}_j + \mathbf{b}_i\cdot\mathbf{b}_{j,k} 
        = \Gamma_{ikj} + \Gamma_{jki}\\
     g_{ik,j} & = (\mathbf{b}_i\cdot\mathbf{b}_k)_{,j} = \mathbf{b}_{i,j}\cdot\mathbf{b}_k + \mathbf{b}_i\cdot\mathbf{b}_{k,j} 
        = \Gamma_{ijk} + \Gamma_{kji}\\
     g_{jk,i} & = (\mathbf{b}_j\cdot\mathbf{b}_k)_{,i} = \mathbf{b}_{j,i}\cdot\mathbf{b}_k + \mathbf{b}_j\cdot\mathbf{b}_{k,i}
        = \Gamma_{jik} + \Gamma_{kij} 
   \end{align}$$</span> Since <strong>b</strong><sub><em>i,j</em></sub> = <strong>b</strong><sub><em>j,i</em></sub> we have Γ<sub><em>ijk</em></sub> = Γ<sub><em>jik</em></sub>. Using these to rearrange the above relations gives</p>
<p><span class="LaTeX">$$\Gamma_{ijk} = \frac{1}{2}(g_{ik,j} + g_{jk,i} - g_{ij,k})
      = \frac{1}{2}[(\mathbf{b}_i\cdot\mathbf{b}_k)_{,j} + (\mathbf{b}_j\cdot\mathbf{b}_k)_{,i} - (\mathbf{b}_i\cdot\mathbf{b}_j)_{,k}]$$</span></p>
<h4 id="christoffel-symbols-of-the-second-kind">Christoffel symbols of the second kind</h4>
<p>The <a href="Christoffel_symbol" title="wikilink">Christoffel symbols</a> of the second kind are defined as</p>
<p><span class="LaTeX">$$\Gamma_{ij}^k = \Gamma_{ji}^k$$</span> in which</p>
<p><span class="LaTeX">$$\cfrac{\partial \mathbf{b}_i}{\partial q^j} = \Gamma_{ij}^k~\mathbf{b}_k$$</span></p>
<p>This implies that</p>
<p><span class="LaTeX">$$\Gamma_{ij}^k = \cfrac{\partial \mathbf{b}_i}{\partial q^j}\cdot\mathbf{b}^k = -\mathbf{b}_i\cdot\cfrac{\partial \mathbf{b}^k}{\partial q^j}$$</span> Other relations that follow are</p>
<p><span class="LaTeX">$$\cfrac{\partial \mathbf{b}^i}{\partial q^j} = -\Gamma^i_{jk}~\mathbf{b}^k ~;~~
     \boldsymbol{\nabla}\mathbf{b}_i = \Gamma_{ij}^k~\mathbf{b}_k\otimes\mathbf{b}^j ~;~~
     \boldsymbol{\nabla}\mathbf{b}^i = -\Gamma_{jk}^i~\mathbf{b}^k\otimes\mathbf{b}^j$$</span></p>
<p>Another particularly useful relation, which shows that the Christoffel symbol depends only on the metric tensor and its derivatives, is</p>
<p><span class="LaTeX">$$\Gamma^k_{ij} = \frac{g^{km}}{2}\left(\frac{\partial g_{mi}}{\partial q^j} + \frac{\partial g_{mj}}{\partial q^i} - \frac{\partial g_{ij}}{\partial q^m} \right)$$</span></p>
<h4 id="explicit-expression-for-the-gradient-of-a-vector-field">Explicit expression for the gradient of a vector field</h4>
<p>The following expressions for the gradient of a vector field in curvilinear coordinates are quite useful.</p>
<p><span class="LaTeX">$$\begin{align}
   \boldsymbol{\nabla}\mathbf{v} & = \left[\cfrac{\partial v^i}{\partial q^k} + \Gamma^i_{lk}~v^l\right]~\mathbf{b}_i\otimes\mathbf{b}^k \\[8pt]
    & = \left[\cfrac{\partial v_i}{\partial q^k} - \Gamma^l_{ki}~v_l\right]~\mathbf{b}^i\otimes\mathbf{b}^k
   \end{align}$$</span></p>
<h4 id="representing-a-physical-vector-field">Representing a physical vector field</h4>
<p>The vector field <strong>v</strong> can be represented as</p>
<p><span class="LaTeX">$$\mathbf{v} = v_i~\mathbf{b}^i = \hat{v}_i~\hat{\mathbf{b}}^i$$</span> where <span class="LaTeX">$v_i\,$</span> are the covariant components of the field, <span class="LaTeX">$\hat{v}_i$</span> are the physical components, and (no <a href="Einstein_notation" title="wikilink">summation</a>)</p>
<p><span class="LaTeX">$$\hat{\mathbf{b}}^i = \cfrac{\mathbf{b}^i}{\sqrt{g^{ii}}}$$</span> is the normalized contravariant basis vector.</p>
<h3 id="second-order-tensor-field">Second-order tensor field</h3>
<p>The gradient of a second order tensor field can similarly be expressed as</p>
<p><span class="LaTeX">$$\boldsymbol{\nabla}\boldsymbol{S} = \cfrac{\partial \boldsymbol{S}}{\partial q^i}\otimes\mathbf{b}^i$$</span></p>
<h4 id="explicit-expressions-for-the-gradient">Explicit expressions for the gradient</h4>
<p>If we consider the expression for the tensor in terms of a contravariant basis, then</p>
<p><span class="LaTeX">$$\boldsymbol{\nabla}\boldsymbol{S} = \cfrac{\partial}{\partial q^k}[S_{ij}~\mathbf{b}^i\otimes\mathbf{b}^j]\otimes\mathbf{b}^k
   = \left[\cfrac{\partial S_{ij}}{\partial q^k} - \Gamma^l_{ki}~S_{lj} - \Gamma^l_{kj}~S_{il}\right]~\mathbf{b}^i\otimes\mathbf{b}^j\otimes\mathbf{b}^k$$</span> We may also write</p>
<p><span class="LaTeX">$$\begin{align}
   \boldsymbol{\nabla}\boldsymbol{S} & = \left[\cfrac{\partial S^{ij}}{\partial q^k} + \Gamma^i_{kl}~S^{lj} + \Gamma^j_{kl}~S^{il}\right]~\mathbf{b}_i\otimes\mathbf{b}_j\otimes\mathbf{b}^k \\[8pt]
   & = \left[\cfrac{\partial S^i_{~j}}{\partial q^k} + \Gamma^i_{kl}~S^l_{~j} - \Gamma^l_{kj}~S^i_{~l}\right]~\mathbf{b}_i\otimes\mathbf{b}^j\otimes\mathbf{b}^k \\[8pt]
   & = \left[\cfrac{\partial S_i^{~j}}{\partial q^k} - \Gamma^l_{ik}~S_l^{~j} + \Gamma^j_{kl}~S_i^{~l}\right]~\mathbf{b}^i\otimes\mathbf{b}_j\otimes\mathbf{b}^k
  \end{align}$$</span></p>
<h4 id="representing-a-physical-second-order-tensor-field">Representing a physical second-order tensor field</h4>
<p>The physical components of a second-order tensor field can be obtained by using a normalized contravariant basis, i.e.,</p>
<p><span class="LaTeX">$$\boldsymbol{S} = S_{ij}~\mathbf{b}^i\otimes\mathbf{b}^j = \hat{S}_{ij}~\hat{\mathbf{b}}^i\otimes\hat{\mathbf{b}}^j$$</span> where the hatted basis vectors have been normalized. This implies that (again no summation)</p>
<p><span class="LaTeX">$$\hat{S}_{ij} = S_{ij}~\sqrt{g^{ii}~g^{jj}}$$</span></p>
<h3 id="divergence">Divergence</h3>
<h4 id="vector-field-1">Vector field</h4>
<p>The <a class="uri" href="divergence" title="wikilink">divergence</a> of a vector field (<span class="LaTeX">$\mathbf{v}$</span>)is defined as</p>
<p><span class="LaTeX">$$\operatorname{div}~\mathbf{v} = \boldsymbol{\nabla}\cdot\mathbf{v} = \text{tr}(\boldsymbol{\nabla}\mathbf{v})$$</span> In terms of components with respect to a curvilinear basis</p>
<p><span class="LaTeX">$$\boldsymbol{\nabla}\cdot\mathbf{v} = \cfrac{\partial v^i}{\partial q^i} + \Gamma^i_{\ell i}~v^\ell
    = \left[\cfrac{\partial v_i}{\partial q^j} - \Gamma^\ell_{ji}~v_\ell\right]~g^{ij}$$</span></p>
<p>An alternative equation for the divergence of a vector field is frequently used. To derive this relation recall that</p>
<p><span class="LaTeX">$$\boldsymbol{\nabla} \cdot \mathbf{v} = \frac{\partial v^i}{\partial q^i} + \Gamma_{\ell i}^i~v^\ell$$</span> Now,</p>
<p><span class="LaTeX">$$\Gamma_{\ell i}^i = \Gamma_{i\ell}^i = \cfrac{g^{mi}}{2}\left[\frac{\partial g_{im}}{\partial q^\ell} + 
    \frac{\partial g_{\ell m}}{\partial q^i} - \frac{\partial g_{il}}{\partial q^m}\right]$$</span> Noting that, due to the symmetry of <span class="LaTeX">$\boldsymbol{g}$</span>,</p>
<p><span class="LaTeX">$$g^{mi}~\frac{\partial g_{\ell m}}{\partial q^i}  = g^{mi}~ \frac{\partial g_{i\ell}}{\partial q^m}$$</span> we have</p>
<p><span class="LaTeX">$$\boldsymbol{\nabla} \cdot \mathbf{v} = \frac{\partial v^i}{\partial q^i} +  \cfrac{g^{mi}}{2}~\frac{\partial g_{im}}{\partial q^\ell}~v^\ell$$</span> Recall that if [<em>g<sub>ij</sub></em>] is the matrix whose components are <em>g<sub>ij</sub></em>, then the inverse of the matrix is <span class="LaTeX">$[g_{ij}]^{-1} = [g^{ij}]$</span>. The inverse of the matrix is given by</p>
<p><span class="LaTeX">$$[g^{ij}] = [g_{ij}]^{-1} = \cfrac{A^{ij}}{g} ~;~~ g := \det([g_{ij}]) = \det\boldsymbol{g}$$</span> where <em>A<sup>ij</sup></em> are the <a href="Cofactor_matrix" title="wikilink">Cofactor matrix</a> of the components <em>g<sub>ij</sub></em>. From matrix algebra we have</p>
<p><span class="LaTeX">$$g = \det([g_{ij}]) = \sum_i g_{ij}~A^{ij} \quad \Rightarrow \quad 
  \frac{\partial g}{\partial g_{ij}} = A^{ij}$$</span> Hence,</p>
<p><span class="LaTeX">$$[g^{ij}] = \cfrac{1}{g}~\frac{\partial g}{\partial g_{ij}}$$</span> Plugging this relation into the expression for the divergence gives</p>
<p><span class="LaTeX">$$\boldsymbol{\nabla} \cdot \mathbf{v} = \frac{\partial v^i}{\partial q^i} +  \cfrac{1}{2g}~\frac{\partial g}{\partial g_{mi}}~\frac{\partial g_{im}}{\partial q^\ell}~v^\ell = \frac{\partial v^i}{\partial q^i} +  \cfrac{1}{2g}~\frac{\partial g}{\partial q^\ell}~v^\ell$$</span> A little manipulation leads to the more compact form</p>
<p><span class="LaTeX">$$\boldsymbol{\nabla} \cdot \mathbf{v} = \cfrac{1}{\sqrt{g}}~\frac{\partial }{\partial q^i}(v^i~\sqrt{g})$$</span></p>
<h4 id="second-order-tensor-field-1">Second-order tensor field</h4>
<p>The <a class="uri" href="divergence" title="wikilink">divergence</a> of a second-order tensor field is defined using</p>
<p><span class="LaTeX">$$(\boldsymbol{\nabla}\cdot\boldsymbol{S})\cdot\mathbf{a} = \boldsymbol{\nabla}\cdot(\boldsymbol{S}\cdot\mathbf{a})$$</span> where <strong>a</strong> is an arbitrary constant vector. <a class="footnoteRef" href="#fn28" id="fnref28"><sup>28</sup></a> In curvilinear coordinates,</p>
<p><span class="LaTeX">$$\begin{align}
   \boldsymbol{\nabla}\cdot\boldsymbol{S} & = \left[\cfrac{\partial S_{ij}}{\partial q^k} - \Gamma^l_{ki}~S_{lj} - \Gamma^l_{kj}~S_{il}\right]~g^{ik}~\mathbf{b}^j \\[8pt]
   & = \left[\cfrac{\partial S^{ij}}{\partial q^i} + \Gamma^i_{il}~S^{lj} + \Gamma^j_{il}~S^{il}\right]~\mathbf{b}_j \\[8pt]
   & = \left[\cfrac{\partial S^i_{~j}}{\partial q^i} + \Gamma^i_{il}~S^l_{~j} - \Gamma^l_{ij}~S^i_{~l}\right]~\mathbf{b}^j \\[8pt]
   & = \left[\cfrac{\partial S_i^{~j}}{\partial q^k} - \Gamma^l_{ik}~S_l^{~j} + \Gamma^j_{kl}~S_i^{~l}\right]~g^{ik}~\mathbf{b}_j
  \end{align}$$</span></p>
<h3 id="laplacian">Laplacian</h3>
<h4 id="scalar-field-1">Scalar field</h4>
<p>The Laplacian of a scalar field φ(<strong>x</strong>) is defined as</p>
<p><span class="LaTeX">$$\nabla^2 \varphi := \boldsymbol{\nabla} \cdot (\boldsymbol{\nabla} \varphi)$$</span> Using the alternative expression for the divergence of a vector field gives us</p>
<p><span class="LaTeX">$$\nabla^2 \varphi =  \cfrac{1}{\sqrt{g}}~\frac{\partial }{\partial q^i}([\boldsymbol{\nabla} \varphi]^i~\sqrt{g})$$</span> Now</p>
<p><span class="LaTeX">$$\boldsymbol{\nabla} \varphi = \frac{\partial \varphi}{\partial q^l}~\mathbf{b}^l = g^{li}~\frac{\partial \varphi}{\partial q^l}~\mathbf{b}_i
  \quad \Rightarrow \quad
  [\boldsymbol{\nabla} \varphi]^i = g^{li}~\frac{\partial \varphi}{\partial q^l}$$</span> Therefore,</p>
<p><span class="LaTeX">$$\nabla^2 \varphi =  \cfrac{1}{\sqrt{g}}~\frac{\partial }{\partial q^i}\left(g^{li}~\frac{\partial \varphi}{\partial q^l}
~\sqrt{g}\right)$$</span></p>
<h3 id="curl-of-a-vector-field">Curl of a vector field</h3>
<p>The curl of a vector field <strong>v</strong> in covariant curvilinear coordinates can be written as</p>
<p><span class="LaTeX">$$\boldsymbol{\nabla}\times\mathbf{v} = \mathcal{E}^{rst} v_{s|r}~ \mathbf{b}_t$$</span> where</p>
<p><span class="LaTeX">$$v_{s|r} = v_{s,r} - \Gamma^i_{sr}~v_i$$</span></p>
<h2 id="orthogonal-curvilinear-coordinates">Orthogonal curvilinear coordinates</h2>
<p>Assume, for the purposes of this section, that the curvilinear coordinate system is <a class="uri" href="orthogonal" title="wikilink">orthogonal</a>, i.e.,</p>
<p><span class="LaTeX">$$\mathbf{b}_i\cdot\mathbf{b}_j = 
   \begin{cases} g_{ii} & \text{if } i = j \\
                0 & \text{if } i \ne j,
   \end{cases}$$</span> or equivalently,</p>
<p><span class="LaTeX">$$\mathbf{b}^i\cdot\mathbf{b}^j = 
   \begin{cases} g^{ii} & \text{if } i = j \\
                0 & \text{if } i \ne j,
   \end{cases}$$</span> where <span class="LaTeX">$g^{ii} = g_{ii}^{-1}$</span>. As before, <span class="LaTeX">$\mathbf{b}_i, \mathbf{b}_j$</span> are covariant basis vectors and <strong>b</strong><sup><em>i</em></sup>, <strong>b</strong><sup><em>j</em></sup> are contravariant basis vectors. Also, let (<strong>e</strong><sup>1</sup>, <strong>e</strong><sup>2</sup>, <strong>e</strong><sup>3</sup>) be a background, fixed, <a href="Cartesian_coordinate_system" title="wikilink">Cartesian</a> basis. A list of orthogonal curvilinear coordinates is given below.</p>
<h3 id="metric-tensor-in-orthogonal-curvilinear-coordinates">Metric tensor in orthogonal curvilinear coordinates</h3>
<p>Let <strong>r</strong>(<strong>x</strong>) be the <a href="position_vector" title="wikilink">position vector</a> of the point <strong>x</strong> with respect to the origin of the coordinate system. The notation can be simplified by noting that <strong>x</strong> = <strong>r</strong>(<strong>x</strong>). At each point we can construct a small line element d<strong>x</strong>. The square of the length of the line element is the scalar product d<strong>x</strong> • d<strong>x</strong> and is called the <a href="Metric_(mathematics)" title="wikilink">metric</a> of the <a class="uri" href="space" title="wikilink">space</a>. Recall that the space of interest is assumed to be <a href="Euclidean_space" title="wikilink">Euclidean</a> when we talk of curvilinear coordinates. Let us express the position vector in terms of the background, fixed, Cartesian basis, i.e.,</p>
<p><span class="LaTeX">$$\mathbf{x} = \sum_{i=1}^3 x_i~\mathbf{e}_i$$</span></p>
<p>Using the <a href="chain_rule" title="wikilink">chain rule</a>, we can then express d<strong>x</strong> in terms of three-dimensional orthogonal curvilinear coordinates (<em>q</em><sup>1</sup>, <em>q</em><sup>2</sup>, <em>q</em><sup>3</sup>) as</p>
<p><span class="LaTeX">$$\mathrm{d}\mathbf{x} = \sum_{i=1}^3 \sum_{j=1}^3 \left(\cfrac{\partial x_i}{\partial q^j}~\mathbf{e}_i\right)\mathrm{d}q^j$$</span> Therefore the metric is given by</p>
<p><span class="LaTeX">$$\mathrm{d}\mathbf{x}\cdot\mathrm{d}\mathbf{x} = \sum_{i=1}^3 \sum_{j=1}^3 \sum_{k=1}^3 \cfrac{\partial x_i}{\partial q^j}~\cfrac{\partial x_i}{\partial q^k}~\mathrm{d}q^j~\mathrm{d}q^k$$</span></p>
<p>The symmetric quantity</p>
<p><span class="LaTeX">$$g_{ij}(q^i,q^j) = \sum_{k=1}^3 \cfrac{\partial x_k}{\partial q^i}~\cfrac{\partial x_k}{\partial q^j} = \mathbf{b}_i\cdot\mathbf{b}_j$$</span> is called the <a href="metric_tensor" title="wikilink">fundamental (or metric) tensor</a> of the <a href="Euclidean_space" title="wikilink">Euclidean space</a> in curvilinear coordinates.</p>
<p>Note also that</p>
<p><span class="LaTeX">$$g_{ij} = \cfrac{\partial\mathbf{x}}{\partial q^i}\cdot\cfrac{\partial\mathbf{x}}{\partial q^j}
          = \left(\sum_{k} h_{ki}~\mathbf{e}_k\right)\cdot\left(\sum_{m} h_{mj}~\mathbf{e}_m\right)
          = \sum_{k} h_{ki}~h_{kj}$$</span> where <em>h<sub>ij</sub></em> are the Lamé coefficients.</p>
<p>If we define the scale factors, <em>h<sub>i</sub></em>, using</p>
<p><span class="LaTeX">$$\mathbf{b}_i\cdot\mathbf{b}_i = g_{ii} = \sum_{k} h_{ki}^2 =: h_i^2
   \quad \Rightarrow \quad \left|\cfrac{\partial\mathbf{x}}{\partial q^i}\right| = \left|\mathbf{b}_i\right| = \sqrt{g_{ii}} = h_i$$</span> we get a relation between the fundamental tensor and the Lamé coefficients.</p>
<h4 id="example-polar-coordinates">Example: Polar coordinates</h4>
<p>If we consider polar coordinates for <strong>R</strong><sup>2</sup>, note that</p>
<p><span class="LaTeX">$$(x, y)=(r \cos \theta, r \sin \theta) \,\!$$</span> (r, θ) are the curvilinear coordinates, and the Jacobian determinant of the transformation (<em>r</em>,θ) → (<em>r</em> cos θ, <em>r</em> sin θ) is <em>r</em>.</p>
<p>The <a class="uri" href="orthogonal" title="wikilink">orthogonal</a> basis vectors are <strong><em>b</em></strong><sub><em>r</em></sub> = (cos θ, sin θ), <strong><em>b</em></strong><sub>θ</sub> = (−<em>r</em> sin θ, <em>r</em> cos θ). The normalized basis vectors are <strong><em>e</em></strong><sub><em>r</em></sub> = (cos θ, sin θ), <strong><em>e</em></strong><sub>θ</sub> = (−sin θ, cos θ) and the scale factors are <em>h</em><sub><em>r</em></sub> = 1 and <em>h</em><sub>θ</sub>= <em>r</em>. The fundamental tensor is <em>g</em><sub>11</sub> =1, <em>g</em><sub>22</sub> =<em>r</em><sup>2</sup>, <em>g</em><sub>12</sub> = <em>g</em><sub>21</sub> =0.</p>
<h3 id="line-and-surface-integrals">Line and surface integrals</h3>
<p>If we wish to use curvilinear coordinates for <a href="vector_calculus" title="wikilink">vector calculus</a> calculations, adjustments need to be made in the calculation of line, surface and volume integrals. For simplicity, we again restrict the discussion to three dimensions and orthogonal curvilinear coordinates. However, the same arguments apply for <span class="LaTeX">$n$</span>-dimensional problems though there are some additional terms in the expressions when the coordinate system is not orthogonal.</p>
<h4 id="line-integrals">Line integrals</h4>
<p>Normally in the calculation of <a href="line_integral" title="wikilink">line integrals</a> we are interested in calculating</p>
<p><span class="LaTeX">$$\int_C f \,ds = \int_a^b f(\mathbf{x}(t))\left|{\partial \mathbf{x} \over \partial t}\right|\; dt$$</span> where <strong><em>x</em></strong>(<em>t</em>) parametrizes C in Cartesian coordinates. In curvilinear coordinates, the term</p>
<p><span class="LaTeX">$$\left|{\partial \mathbf{x} \over \partial t}\right| = \left| \sum_{i=1}^3 {\partial \mathbf{x} \over \partial q^i}{\partial q^i \over \partial t}\right|$$</span> by the <a href="chain_rule" title="wikilink">chain rule</a>. And from the definition of the Lamé coefficients,</p>
<p><span class="LaTeX">$${\partial \mathbf{x} \over \partial q^i} = \sum_{k} h_{ki}~ \mathbf{e}_{k}$$</span> and thus</p>
<p><span class="LaTeX">$$\begin{align}
\left|{\partial \mathbf{x} \over \partial t}\right| & = \left| \sum_k\left(\sum_i h_{ki}~\cfrac{\partial q^i}{\partial t}\right)\mathbf{e}_k\right| \\[8pt]
& = \sqrt{\sum_i\sum_j\sum_k h_{ki}~h_{kj}\cfrac{\partial q^i}{\partial t}\cfrac{\partial q^j}{\partial t}} = \sqrt{\sum_i\sum_j g_{ij}~\cfrac{\partial q^i}{\partial t}\cfrac{\partial q^j}{\partial t}}
\end{align}$$</span> Now, since <span class="LaTeX">$g_{ij} = 0\,$</span> when <span class="LaTeX">$i \ne j$</span>, we have</p>
<p><span class="LaTeX">$$\left|{\partial \mathbf{x} \over \partial t}\right| =  \sqrt{\sum_i g_{ii}~\left(\cfrac{\partial q^i}{\partial t}\right)^2} = \sqrt{\sum_i h_{i}^2~\left(\cfrac{\partial q^i}{\partial t}\right)^2}$$</span> and we can proceed normally.</p>
<h4 id="surface-integrals">Surface integrals</h4>
<p>Likewise, if we are interested in a <a href="surface_integral" title="wikilink">surface integral</a>, the relevant calculation, with the parameterization of the surface in Cartesian coordinates is:</p>
<p><span class="LaTeX">$$\int_S f \,dS = \iint_T f(\mathbf{x}(s, t)) \left|{\partial \mathbf{x} \over \partial s}\times {\partial \mathbf{x} \over \partial t}\right| \, ds \, dt$$</span> Again, in curvilinear coordinates, we have</p>
<p><span class="LaTeX">$$\left|{\partial \mathbf{x} \over \partial s}\times {\partial \mathbf{x} \over \partial t}\right| = \left|\left(\sum_i {\partial \mathbf{x} \over \partial q^i}{\partial q^i \over \partial s}\right) \times \left(\sum_j {\partial \mathbf{x} \over \partial q^j}{\partial q^j \over \partial t}\right)\right|$$</span> and we make use of the definition of curvilinear coordinates again to yield</p>
<p><span class="LaTeX">$${\partial \mathbf{x} \over \partial q^i}{\partial q^i \over \partial s} = \sum_k \left(\sum_{i=1}^3 h_{ki}~{\partial q^i \over \partial s}\right) \mathbf{e}_k ~;~~ 
{\partial \mathbf{x} \over \partial q^j}{\partial q^j \over \partial t} = \sum_m \left(\sum_{j=1}^3 h_{mj}~{\partial q^j \over \partial t}\right) \mathbf{e}_{m}$$</span></p>
<p>Therefore,</p>
<p><span class="LaTeX">$$\begin{align}
\left|{\partial \mathbf{x} \over \partial s}\times {\partial \mathbf{x} \over \partial t}\right|
  & = \left|
     \sum_k \sum_m \left(\sum_{i=1}^3 h_{ki}~{\partial q^i \over \partial s}\right)\left(\sum_{j=1}^3 h_{mj}~{\partial q^j \over \partial t}\right) \mathbf{e}_k\times\mathbf{e}_m
    \right| \\[8pt]
  & = \left|\sum_p \sum_k \sum_m \mathcal{E}_{kmp}\left(\sum_{i=1}^3 h_{ki}~{\partial q^i \over \partial s}\right)\left(\sum_{j=1}^3 h_{mj}~{\partial q^j \over \partial t}\right) \mathbf{e}_p \right|
  \end{align}$$</span> where <span class="LaTeX">$\mathcal{E}$</span> is the <a href="permutation_symbol" title="wikilink">permutation symbol</a>.</p>
<p>In determinant form, the cross product in terms of curvilinear coordinates will be:</p>
<p><span class="LaTeX">$$\begin{vmatrix} 
\mathbf{e}_1                    & \mathbf{e}_2                    & \mathbf{e}_3 \\
 && \\
\sum_i h_{1i} {\partial q^i \over \partial s} & \sum_i h_{2i} {\partial q^i \over \partial s} & \sum_i h_{3i} {\partial q^i \over \partial s} \\
&& \\
\sum_j h_{1j} {\partial q^j \over \partial t} & \sum_j h_{2j} {\partial q^j \over \partial t} & \sum_j h_{3j} {\partial q^j \over \partial t} \end{vmatrix}$$</span></p>
<h3 id="grad-curl-div-laplacian">Grad, curl, div, Laplacian</h3>
<p>In <a href="orthogonality" title="wikilink">orthogonal</a> curvilinear coordinates of 3 dimensions, where</p>
<p><span class="LaTeX">$$\mathbf{b}^i = \sum_k g^{ik}~\mathbf{b}_k ~;~~ g^{ii} = \cfrac{1}{g_{ii}} = \cfrac{1}{h_i^2}$$</span> one can express the <a class="uri" href="gradient" title="wikilink">gradient</a> of a <a href="scalar_(mathematics)" title="wikilink">scalar</a> or <a href="vector_field" title="wikilink">vector field</a> as</p>
<p><span class="LaTeX">$$\nabla\varphi = \sum_{i} {\partial\varphi \over \partial q^i}~ \mathbf{b}^i = \sum_{i} \sum_j {\partial\varphi \over \partial q^i}~ g^{ij}~\mathbf{b}_j = \sum_i \cfrac{1}{h_i^2}~{\partial f \over \partial q^i}~\mathbf{b}_i ~;~~
   \nabla\mathbf{v} = \sum_i \cfrac{1}{h_i^2}~{\partial \mathbf{v} \over \partial q^i}\otimes\mathbf{b}_i$$</span> For an orthogonal basis</p>
<p><span class="LaTeX">$$g = g_{11}~g_{22}~g_{33} = h_1^2~h_2^2~h_3^2 \quad \Rightarrow \quad \sqrt{g} = h_1 h_2 h_3$$</span> The <a class="uri" href="divergence" title="wikilink">divergence</a> of a vector field can then be written as</p>
<p><span class="LaTeX">$$\boldsymbol{\nabla} \cdot \mathbf{v} = \cfrac{1}{h_1 h_2 h_3}~\frac{\partial }{\partial q^i}(h_1 h_2 h_3~v^i)$$</span> Also,</p>
<p><span class="LaTeX">$$v^i = g^{ik}~v_k \quad \Rightarrow v^1 = g^{11}~v_1 = \cfrac{v_1}{h_1^2} ~;~~ v^2 = g^{22}~v_2  = \cfrac{v_2}{h_2^2}~;~~ v^3 = g^{33}~v_3 = \cfrac{v_3}{h_3^2}$$</span> Therefore,</p>
<p><span class="LaTeX">$$\boldsymbol{\nabla} \cdot \mathbf{v} = \cfrac{1}{h_1 h_2 h_3}~\sum_i \frac{\partial }{\partial q^i}\left(\cfrac{h_1 h_2 h_3}{h_i^2}~v_i\right)$$</span> We can get an expression for the <a class="uri" href="Laplacian" title="wikilink">Laplacian</a> in a similar manner by noting that</p>
<p><span class="LaTeX">$$g^{li}~\frac{\partial \varphi}{\partial q^l} = 
   \left\{ g^{11}~\frac{\partial \varphi}{\partial q^1}, g^{22}~\frac{\partial \varphi}{\partial q^2}, 
    g^{33}~\frac{\partial \varphi}{\partial q^3} \right\} = 
   \left\{ \cfrac{1}{h_1^2}~\frac{\partial \varphi}{\partial q^1}, \cfrac{1}{h_2^2}~\frac{\partial \varphi}{\partial q^2}, 
    \cfrac{1}{h_3^2}~\frac{\partial \varphi}{\partial q^3} \right\}$$</span> Then we have</p>
<p><span class="LaTeX">$$\nabla^2 \varphi =  \cfrac{1}{h_1 h_2 h_3}~\sum_i\frac{\partial }{\partial q^i}\left(\cfrac{h_1 h_2 h_3}{h_i^2}~\frac{\partial \varphi}{\partial q^i}\right)$$</span> The expressions for the gradient, divergence, and Laplacian can be directly extended to <em>n</em>-dimensions.</p>
<p>The <a href="Curl_(mathematics)" title="wikilink">curl</a> of a <a href="vector_field" title="wikilink">vector field</a> is given by</p>
<p><span class="LaTeX">$$\nabla\times\mathbf{v} = \frac{1}{h_1h_2h_3} \sum_{i=1}^n  \mathbf{e}_i
\sum_{jk} \varepsilon_{ijk} h_i \frac{\partial (h_k v_k)}{\partial q^j}$$</span> where ε<sub><em>ijk</em></sub> is the <a href="Levi-Civita_symbol" title="wikilink">Levi-Civita symbol</a>.</p>
<h2 id="example-cylindrical-polar-coordinates">Example: Cylindrical polar coordinates</h2>
<p>For <a href="cylindrical_coordinate" title="wikilink">cylindrical coordinates</a> we have</p>
<p><span class="LaTeX">$$(x_1, x_2, x_3) = \mathbf{x} = \boldsymbol{\varphi}(q^1, q^2, q^3) = \boldsymbol{\varphi}(r, \theta, z)
     = \{r\cos\theta, r\sin\theta, z\}$$</span> and</p>
<p><span class="LaTeX">$$\{\psi^1(\mathbf{x}), \psi^2(\mathbf{x}), \psi^3(\mathbf{x})\} = (q^1, q^2, q^3) \equiv (r, \theta, z) 
   = \{ \sqrt{x_1^2+x_2^2}, \tan^{-1}(x_2/x_1), x_3\}$$</span> where</p>
<p><span class="LaTeX">$$0 < r < \infty ~, ~~ 0 < \theta < 2\pi ~,~~ -\infty < z < \infty$$</span></p>
<p>Then the covariant and contravariant basis vectors are</p>
<p><span class="LaTeX">$$\begin{align}
  \mathbf{b}_1 & = \mathbf{e}_r = \mathbf{b}^1 \\
  \mathbf{b}_2 & = r~\mathbf{e}_\theta = r^2~\mathbf{b}^2 \\
  \mathbf{b}_3 & = \mathbf{e}_z = \mathbf{b}^3
  \end{align}$$</span> where <span class="LaTeX">$\mathbf{e}_r, \mathbf{e}_\theta, \mathbf{e}_z$</span> are the unit vectors in the <span class="LaTeX">$r, \theta, z$</span> directions.</p>
<p>Note that the components of the metric tensor are such that</p>
<p><span class="LaTeX">$$g^{ij} = g_{ij} = 0 (i \ne j) ~;~~ \sqrt{g^{11}} = 1,~\sqrt{g^{22}} = \cfrac{1}{r},~\sqrt{g^{33}}=1$$</span> which shows that the basis is orthogonal.</p>
<p>The non-zero components of the Christoffel symbol of the second kind are</p>
<p><span class="LaTeX">$$\Gamma_{12}^2 = \Gamma_{21}^2 = \cfrac{1}{r} ~;~~ \Gamma_{22}^1 = -r$$</span></p>
<h3 id="representing-a-physical-vector-field-1">Representing a physical vector field</h3>
<p>The normalized contravariant basis vectors in cylindrical polar coordinates are</p>
<p><span class="LaTeX">$$\hat{\mathbf{b}}^1 = \mathbf{e}_r ~;~~\hat{\mathbf{b}}^2 = \mathbf{e}_\theta ~;~~\hat{\mathbf{b}}^3 = \mathbf{e}_z$$</span> and the physical components of a vector <strong>v</strong> are</p>
<p><span class="LaTeX">$$(\hat{v}_1, \hat{v}_2, \hat{v}_3) = (v_1, v_2/r, v_3) =: (v_r, v_\theta, v_z)$$</span></p>
<h3 id="gradient-of-a-scalar-field">Gradient of a scalar field</h3>
<p>The gradient of a scalar field, <em>f</em>(<strong>x</strong>), in cylindrical coordinates can now be computed from the general expression in curvilinear coordinates and has the form</p>
<p><span class="LaTeX">$$\boldsymbol{\nabla}f = \cfrac{\partial f}{\partial r}~\mathbf{e}_r + \cfrac{1}{r}~\cfrac{\partial f}{\partial \theta}~\mathbf{e}_\theta +  \cfrac{\partial f}{\partial z}~\mathbf{e}_z$$</span></p>
<h3 id="gradient-of-a-vector-field">Gradient of a vector field</h3>
<p>Similarly, the gradient of a vector field, <strong>v</strong>(<strong>x</strong>), in cylindrical coordinates can be shown to be</p>
<p><span class="LaTeX">$$\begin{align}
   \boldsymbol{\nabla}\mathbf{v} & = \cfrac{\partial v_r}{\partial r}~\mathbf{e}_r\otimes\mathbf{e}_r + 
     \cfrac{1}{r}\left(\cfrac{\partial v_r}{\partial \theta} - v_\theta\right)~\mathbf{e}_r\otimes\mathbf{e}_\theta + \cfrac{\partial v_r}{\partial z}~\mathbf{e}_r\otimes\mathbf{e}_z \\[8pt]
 & + \cfrac{\partial v_\theta}{\partial r}~\mathbf{e}_\theta\otimes\mathbf{e}_r + 
     \cfrac{1}{r}\left(\cfrac{\partial v_\theta}{\partial \theta} + v_r \right)~\mathbf{e}_\theta\otimes\mathbf{e}_\theta + \cfrac{\partial v_\theta}{\partial z}~\mathbf{e}_\theta\otimes\mathbf{e}_z \\[8pt]
 & + \cfrac{\partial v_z}{\partial r}~\mathbf{e}_z\otimes\mathbf{e}_r + 
     \cfrac{1}{r}\cfrac{\partial v_z}{\partial \theta}~\mathbf{e}_z\otimes\mathbf{e}_\theta + \cfrac{\partial v_z}{\partial z}~\mathbf{e}_z\otimes\mathbf{e}_z
   \end{align}$$</span></p>
<h3 id="divergence-of-a-vector-field">Divergence of a vector field</h3>
<p>Using the equation for the divergence of a vector field in curvilinear coordinates, the divergence in cylindrical coordinates can be shown to be</p>
<p><span class="LaTeX">$$\begin{align}
   \boldsymbol{\nabla}\cdot\mathbf{v} & = \cfrac{\partial v_r}{\partial r} + 
     \cfrac{1}{r}\left(\cfrac{\partial v_\theta}{\partial \theta} + v_r \right)
 + \cfrac{\partial v_z}{\partial z}
   \end{align}$$</span></p>
<h3 id="laplacian-of-a-scalar-field">Laplacian of a scalar field</h3>
<p>The Laplacian is more easily computed by noting that <span class="LaTeX">$\boldsymbol{\nabla}^2 f = \boldsymbol{\nabla}\cdot\boldsymbol{\nabla}f$</span>. In cylindrical polar coordinates</p>
<p><span class="LaTeX">$$\mathbf{v} = \boldsymbol{\nabla}f = \left[v_r~~ v_\theta~~ v_z\right] = \left[\cfrac{\partial f}{\partial r}~~  \cfrac{1}{r}\cfrac{\partial f}{\partial \theta}~~ \cfrac{\partial f}{\partial z} \right]$$</span> Hence,</p>
<p><span class="LaTeX">$$\boldsymbol{\nabla}\cdot\mathbf{v} = \boldsymbol{\nabla}^2 f = \cfrac{\partial^2 f}{\partial r^2} + 
     \cfrac{1}{r}\left(\cfrac{1}{r}\cfrac{\partial^2f}{\partial \theta^2} + \cfrac{\partial f}{\partial r} \right)
 + \cfrac{\partial^2 f}{\partial z^2}
   = \cfrac{1}{r}\left[\cfrac{\partial}{\partial r}\left(r\cfrac{\partial f}{\partial r}\right)\right] + \cfrac{1}{r^2}\cfrac{\partial^2f}{\partial \theta^2} + \cfrac{\partial^2 f}{\partial z^2}$$</span></p>
<h3 id="representing-a-physical-second-order-tensor-field-1">Representing a physical second-order tensor field</h3>
<p>The physical components of a second-order tensor field are those obtained when the tensor is expressed in terms of a normalized contravariant basis. In cylindrical polar coordinates these components are</p>
<p><span class="LaTeX">$$\begin{align}
   \hat{S}_{11} & = S_{11} =: S_{rr} ~;~~\hat{S}_{12} = \cfrac{S_{12}}{r} =: S_{r\theta} ~;~~ \hat{S}_{13} & = S_{13} =: S_{rz} \\
    \hat{S}_{21} & = \cfrac{S_{11}}{r} =: S_{\theta r} ~;~~\hat{S}_{22} = \cfrac{S_{22}}{r^2} =: S_{\theta\theta} ~;~~ \hat{S}_{23} & = \cfrac{S_{23}}{r} =: S_{\theta z} \\
    \hat{S}_{31} & = S_{31} =: S_{zr} ~;~~\hat{S}_{32} = \cfrac{S_{32}}{r} =: S_{z\theta} ~;~~ \hat{S}_{33} & = S_{33} =: S_{zz}
   \end{align}$$</span></p>
<h3 id="gradient-of-a-second-order-tensor-field">Gradient of a second-order tensor field</h3>
<p>Using the above definitions we can show that the gradient of a second-order tensor field in cylindrical polar coordinates can be expressed as</p>
<p><span class="LaTeX">$$\begin{align}
\boldsymbol{\nabla} \boldsymbol{S} & = \frac{\partial S_{rr}}{\partial r}~\mathbf{e}_r\otimes\mathbf{e}_r\otimes\mathbf{e}_r +
\cfrac{1}{r}\left[\frac{\partial S_{rr}}{\partial \theta} - (S_{\theta r}+S_{r\theta})\right]~\mathbf{e}_r\otimes\mathbf{e}_r\otimes\mathbf{e}_\theta +
\frac{\partial S_{rr}}{\partial z}~\mathbf{e}_r\otimes\mathbf{e}_r\otimes\mathbf{e}_z \\[8pt]
 & + \frac{\partial S_{r\theta}}{\partial r}~\mathbf{e}_r\otimes\mathbf{e}_\theta\otimes\mathbf{e}_r +
\cfrac{1}{r}\left[\frac{\partial S_{r\theta}}{\partial \theta} + (S_{rr}-S_{\theta\theta})\right]~\mathbf{e}_r\otimes\mathbf{e}_\theta\otimes\mathbf{e}_\theta +
\frac{\partial S_{r\theta}}{\partial z}~\mathbf{e}_r\otimes\mathbf{e}_\theta\otimes\mathbf{e}_z \\[8pt]
 & + \frac{\partial S_{rz}}{\partial r}~\mathbf{e}_r\otimes\mathbf{e}_z\otimes\mathbf{e}_r +
\cfrac{1}{r}\left[\frac{\partial S_{rz}}{\partial \theta} -S_{\theta z}\right]~\mathbf{e}_r\otimes\mathbf{e}_z\otimes\mathbf{e}_\theta +
\frac{\partial S_{rz}}{\partial z}~\mathbf{e}_r\otimes\mathbf{e}_z\otimes\mathbf{e}_z \\[8pt]
 & + \frac{\partial S_{\theta r}}{\partial r}~\mathbf{e}_\theta\otimes\mathbf{e}_r\otimes\mathbf{e}_r +
\cfrac{1}{r}\left[\frac{\partial S_{\theta r}}{\partial \theta} + (S_{rr}-S_{\theta\theta})\right]~\mathbf{e}_\theta\otimes\mathbf{e}_r\otimes\mathbf{e}_\theta +
\frac{\partial S_{\theta r}}{\partial z}~\mathbf{e}_\theta\otimes\mathbf{e}_r\otimes\mathbf{e}_z \\[8pt]
 & + \frac{\partial S_{\theta\theta}}{\partial r}~\mathbf{e}_\theta\otimes\mathbf{e}_\theta\otimes\mathbf{e}_r +
\cfrac{1}{r}\left[\frac{\partial S_{\theta\theta}}{\partial \theta} + (S_{r\theta}+S_{\theta r})\right]~\mathbf{e}_\theta\otimes\mathbf{e}_\theta\otimes\mathbf{e}_\theta +
\frac{\partial S_{\theta\theta}}{\partial z}~\mathbf{e}_\theta\otimes\mathbf{e}_\theta\otimes\mathbf{e}_z \\[8pt]
 & + \frac{\partial S_{\theta z}}{\partial r}~\mathbf{e}_\theta\otimes\mathbf{e}_z\otimes\mathbf{e}_r +
\cfrac{1}{r}\left[\frac{\partial S_{\theta z}}{\partial \theta} + S_{rz}\right]~\mathbf{e}_\theta\otimes\mathbf{e}_z\otimes\mathbf{e}_\theta +
\frac{\partial S_{\theta z}}{\partial z}~\mathbf{e}_\theta\otimes\mathbf{e}_z\otimes\mathbf{e}_z \\[8pt]
 & + \frac{\partial S_{zr}}{\partial r}~\mathbf{e}_z\otimes\mathbf{e}_r\otimes\mathbf{e}_r +
\cfrac{1}{r}\left[\frac{\partial S_{zr}}{\partial \theta} - S_{z\theta}\right]~\mathbf{e}_z\otimes\mathbf{e}_r\otimes\mathbf{e}_\theta +
\frac{\partial S_{zr}}{\partial z}~\mathbf{e}_z\otimes\mathbf{e}_r\otimes\mathbf{e}_z \\[8pt]
 & + \frac{\partial S_{z\theta}}{\partial r}~\mathbf{e}_z\otimes\mathbf{e}_\theta\otimes\mathbf{e}_r +
\cfrac{1}{r}\left[\frac{\partial S_{z\theta}}{\partial \theta} + S_{zr}\right]~\mathbf{e}_z\otimes\mathbf{e}_\theta\otimes\mathbf{e}_\theta +
\frac{\partial S_{z\theta}}{\partial z}~\mathbf{e}_z\otimes\mathbf{e}_\theta\otimes\mathbf{e}_z \\[8pt]
 & + \frac{\partial S_{zz}}{\partial r}~\mathbf{e}_z\otimes\mathbf{e}_z\otimes\mathbf{e}_r +
\cfrac{1}{r}~\frac{\partial S_{zz}}{\partial \theta}~\mathbf{e}_z\otimes\mathbf{e}_z\otimes\mathbf{e}_\theta +
\frac{\partial S_{zz}}{\partial z}~\mathbf{e}_z\otimes\mathbf{e}_z\otimes\mathbf{e}_z
\end{align}$$</span></p>
<h3 id="divergence-of-a-second-order-tensor-field">Divergence of a second-order tensor field</h3>
<p>The divergence of a second-order tensor field in cylindrical polar coordinates can be obtained from the expression for the gradient by collecting terms where the scalar product of the two outer vectors in the dyadic products is nonzero. Therefore,</p>
<p><span class="LaTeX">$$\begin{align}
\boldsymbol{\nabla}\cdot \boldsymbol{S} & = \frac{\partial S_{rr}}{\partial r}~\mathbf{e}_r 
   + \frac{\partial S_{r\theta}}{\partial r}~\mathbf{e}_\theta
   + \frac{\partial S_{rz}}{\partial r}~\mathbf{e}_z  \\[8pt]
 &  + \cfrac{1}{r}\left[\frac{\partial S_{\theta r}}{\partial \theta} + (S_{rr}-S_{\theta\theta})\right]~\mathbf{e}_r  +
\cfrac{1}{r}\left[\frac{\partial S_{\theta\theta}}{\partial \theta} + (S_{r\theta}+S_{\theta r})\right]~\mathbf{e}_\theta   +\cfrac{1}{r}\left[\frac{\partial S_{\theta z}}{\partial \theta} + S_{rz}\right]~\mathbf{e}_z  \\[8pt]
 &  +
\frac{\partial S_{zr}}{\partial z}~\mathbf{e}_r +
\frac{\partial S_{z\theta}}{\partial z}~\mathbf{e}_\theta +
\frac{\partial S_{zz}}{\partial z}~\mathbf{e}_z
\end{align}$$</span></p>
<h2 id="see-also">See also</h2>
<ul>
<li><a href="Covariance_and_contravariance" title="wikilink">Covariance and contravariance</a></li>
<li><a href="Basic_introduction_to_the_mathematics_of_curved_spacetime" title="wikilink">Basic introduction to the mathematics of curved spacetime</a></li>
<li><a href="Orthogonal_coordinates" title="wikilink">Orthogonal coordinates</a></li>
<li><a href="Frenet–Serret_formulas" title="wikilink">Frenet–Serret formulas</a></li>
<li><a href="Covariant_derivative" title="wikilink">Covariant derivative</a></li>
<li><a href="Tensor_derivative_(continuum_mechanics)" title="wikilink">Tensor derivative (continuum mechanics)</a></li>
<li><a href="Curvilinear_perspective" title="wikilink">Curvilinear perspective</a></li>
<li><a href="Del_in_cylindrical_and_spherical_coordinates" title="wikilink">Del in cylindrical and spherical coordinates</a></li>
</ul>
<h2 id="references">References</h2>
<dl>
<dt>Notes</dt>
</dl>
<dl>
<dt>Further reading</dt>
</dl>
<ul>
<li></li>
<li></li>
</ul>
<h2 id="external-links">External links</h2>
<ul>
<li>[<a class="uri" href="http://planetmath.org/?method=l2h&from">http://planetmath.org/?method=l2h&from</a>;=collab&id;=83&op;=getobj Derivation of Unit Vectors in Curvilinear Coordinates]</li>
<li><a href="http://mathworld.wolfram.com/CurvilinearCoordinates.html">MathWorld's page on Curvilinear Coordinates</a></li>
<li><a href="http://www.mech.utah.edu/~brannon/public/curvilinear.pdf">Prof. R. Brannon's E-Book on Curvilinear Coordinates</a></li>
</ul>
<p><a href="de:Krummlinige_Koordinaten" title="wikilink">de:Krummlinige Koordinaten</a> <a href="fr:Système_de_coordonnées_curvilignes" title="wikilink">fr:Système de coordonnées curvilignes</a> <a href="it:Coordinate_curvilinee" title="wikilink">it:Coordinate curvilinee</a> <a href="ru:Криволинейная_система_координат" title="wikilink">ru:Криволинейная система координат</a> <a href="sl:Krivočrtni_koordinatni_sistem" title="wikilink">sl:Krivočrtni koordinatni sistem</a>"</p>
<p><a href="Category:Coordinate_systems" title="wikilink">Category:Coordinate systems</a> <a href="Category:Metric_tensors" title="wikilink">*3</a></p>
<section class="footnotes">
<hr/>
<ol>
<li id="fn1"><a href="#fnref1">↩</a></li>
<li id="fn2"></li>
<li id="fn3"><a href="#fnref3">↩</a></li>
<li id="fn4"><a href="#fnref4">↩</a></li>
<li id="fn5"></li>
<li id="fn6"><a href="#fnref6">↩</a></li>
<li id="fn7"><a href="#fnref7">↩</a></li>
<li id="fn8"></li>
<li id="fn9"></li>
<li id="fn10"></li>
<li id="fn11"></li>
<li id="fn12"></li>
<li id="fn13"></li>
<li id="fn14"></li>
<li id="fn15"></li>
<li id="fn16"></li>
<li id="fn17"><a href="#fnref17">↩</a></li>
<li id="fn18"><a href="#fnref18">↩</a></li>
<li id="fn19"></li>
<li id="fn20"><a href="#fnref20">↩</a></li>
<li id="fn21"><a href="#fnref21">↩</a></li>
<li id="fn22"></li>
<li id="fn23"></li>
<li id="fn24"></li>
<li id="fn25"></li>
<li id="fn26"></li>
<li id="fn27"><a href="#fnref27">↩</a></li>
<li id="fn28"><a href="#fnref28">↩</a></li>
</ol>
</section>
</body>
</html>
