<html lang="en">
<head>
<meta charset="utf-8"/>
<title offset="144">Prettyprint</title>
<script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_SVG.js" type="text/javascript">
</script>
</head>
<body>
<h1>Prettyprint</h1>
<style>
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
  margin: 0; padding: 0; vertical-align: baseline; border: none; }
<style>
table.sourceCode { width: 100%; line-height: 100%; }
td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; color: #aaaaaa; border-right: 1px solid #aaaaaa; }
td.sourceCode { padding-left: 5px; }
code > span.kw { color: #007020; font-weight: bold; } /* Keyword */
code > span.dt { color: #902000; } /* DataType */
code > span.dv { color: #40a070; } /* DecVal */
code > span.bn { color: #40a070; } /* BaseN */
code > span.fl { color: #40a070; } /* Float */
code > span.ch { color: #4070a0; } /* Char */
code > span.st { color: #4070a0; } /* String */
code > span.co { color: #60a0b0; font-style: italic; } /* Comment */
code > span.ot { color: #007020; } /* Other */
code > span.al { color: #ff0000; font-weight: bold; } /* Alert */
code > span.fu { color: #06287e; } /* Function */
code > span.er { color: #ff0000; font-weight: bold; } /* Error */
code > span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
code > span.cn { color: #880000; } /* Constant */
code > span.sc { color: #4070a0; } /* SpecialChar */
code > span.vs { color: #4070a0; } /* VerbatimString */
code > span.ss { color: #bb6688; } /* SpecialString */
code > span.im { } /* Import */
code > span.va { color: #19177c; } /* Variable */
code > span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code > span.op { color: #666666; } /* Operator */
code > span.bu { } /* BuiltIn */
code > span.ex { } /* Extension */
code > span.pp { color: #bc7a00; } /* Preprocessor */
code > span.at { color: #7d9029; } /* Attribute */
code > span.do { color: #ba2121; font-style: italic; } /* Documentation */
code > span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code > span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code > span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
  </style>
</body></html>
<body>
<hr/>

<p><strong>Prettyprint</strong> (or <strong>pretty-print</strong>) is the application of any of various stylistic <a href="text_formatting" title="wikilink">formatting</a> conventions to <a href="text_file" title="wikilink">text files</a>, such as <a href="source_code" title="wikilink">source code</a>, <a href="markup_language" title="wikilink">markup</a>, and similar kinds of content. These formatting conventions can adjust positioning and spacing (<a href="indent_style" title="wikilink">indent style</a>), add color and contrast (<a href="syntax_highlighting" title="wikilink">syntax highlighting</a>), adjust size, and make similar modifications intended to make the content easier for people to view, read, and understand. Prettyprinters for programming language source code are sometimes called code beautifiers or syntax highlighters.</p>
<h2 id="pretty-printing-mathematics">Pretty-printing mathematics</h2>

<p> Pretty-printing usually refers to displaying <a href="mathematical_expression" title="wikilink">mathematical expressions</a> similar to the way they would be <a href="formula_editor" title="wikilink">typeset</a> professionally. For example, in <a href="computer_algebra_system" title="wikilink">computer algebra systems</a> such as <a href="Maxima_(software)" title="wikilink">Maxima</a> or <a class="uri" href="Mathematica" title="wikilink">Mathematica</a> the system may write output like "<code>x ^ 2 + 3 * x</code>" as "

<math display="inline" id="Prettyprint:0">
 <semantics>
  <mrow>
   <msup>
    <mi>x</mi>
    <mn>2</mn>
   </msup>
   <mo>+</mo>
   <mrow>
    <mn>3</mn>
    <mi>x</mi>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <plus></plus>
    <apply>
     <csymbol cd="ambiguous">superscript</csymbol>
     <ci>x</ci>
     <cn type="integer">2</cn>
    </apply>
    <apply>
     <times></times>
     <cn type="integer">3</cn>
     <ci>x</ci>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   x^{2}+3x
  </annotation>
 </semantics>
</math>

". Some <a href="graphing_calculator" title="wikilink">graphing calculators</a>, such as the <a href="Casio_9860_series" title="wikilink">Casio 9860 series</a>, <a href="HP-49_series" title="wikilink">HP-49 series</a>, <a href="TI-84_Plus" title="wikilink">TI-84 Plus</a>, <a class="uri" href="TI-89" title="wikilink">TI-89</a>, and <a class="uri" href="TI-Nspire" title="wikilink">TI-Nspire</a>, the <a href="TI-83_Plus" title="wikilink">TI-83 Plus</a> with the <a href="http://www.ticalc.org/archives/files/fileinfo/208/20807.html">PrettyPt</a> add-on, or the <a href="TI-84_Plus" title="wikilink">TI-84 Plus</a> with the same add-on or the "MathPrint"-enabled OSes, can perform pretty-printing. Additionally, a number of newer scientific calculators are equipped with dot matrix screens capable of pretty-printing such as the Casio FX-ES series (Natural Display), Sharp EL-W series (WriteView), HP SmartCalc 300s, and <a href="TI-30#TI-30_models" title="wikilink">TI-30XB</a>.</p>

<p>Many text formatting programs can also typeset mathematics: <a class="uri" href="TeX" title="wikilink">TeX</a> was developed specifically for high-quality mathematical <a class="uri" href="typesetting" title="wikilink">typesetting</a>.</p>
<h2 id="pretty-printing-markup-and-tag-based-code">Pretty-printing markup and tag-based code</h2>

<p>Pretty-printing in markup language instances is most typically associated with <a href="indentation_(typesetting)" title="wikilink">indentation</a> of tags and string content to visually determine hierarchy and nesting. Although the syntactical structures of tag based languages do not significantly vary, indentation may vary significantly due to how a markup language is interpreted or in reflect to the data they describe.</p>

<p>In <a class="uri" href="MathML" title="wikilink">MathML</a>, <a href="whitespace_character" title="wikilink">whitespace characters</a> do not reflect data, meaning, or syntax above what is required by <a class="uri" href="XML" title="wikilink">XML</a> syntax. In <a class="uri" href="HTML" title="wikilink">HTML</a>, whitespace characters between tags are considered text and are parsed as text nodes into the parsed result.<a class="footnoteRef" href="#fn1" id="fnref1"><sup>1</sup></a> While indentation may be generously applied to a MathML document, sufficient additional care must be taken in prettyprinting an HTML document to ensure additional text nodes are not created or destroyed in general proximity to content or content-reflective tag elements. This difference in complexity is non-trivial from the perspective of an automated pretty-print operation where no special rules or edge cases are necessary, as in the more simple MathML example. The HTML example may require a series of progressive interrelated algorithms to account for various patterns of tag elements and content that conforms to a uniform style and is consistent in application across various instances, as evidenced by the <a href="https://github.com/austincheney/Pretty-Diff/blob/master/lib/markup_beauty.js">markup_beauty.js</a> application component used to beautify HTML, XML, and related technologies for the <a href="Pretty_Diff" title="wikilink">Pretty Diff</a> tool.</p>
<h2 id="programming-code-formatting-and-beautification">Programming code formatting and beautification</h2>

<p>Programmers often use tools to format <a href="programming_language" title="wikilink">programming language</a> <a href="source_code" title="wikilink">source code</a> in a particular manner. Proper code formatting makes it easier to read and understand. Different programmers often prefer different styles of formatting, such as the use of code <a href="indentation_(typesetting)" title="wikilink">indentation</a> and whitespace or positioning of <a href="bracket" title="wikilink">braces</a>. A code formatter converts source code from one format style to another. This is relatively straightforward because of the unambiguous syntax of programming languages. Code beautification involves parsing the source code into component structures, such as assignment statements, <em>if</em> blocks, <a href="program_loop" title="wikilink">loops</a>, etc. (see also <a href="control_flow" title="wikilink">control flow</a>), and formatting them in a manner specified by the user in a configuration file.</p>

<p>Code beautifiers exist as standalone applications and built into <a href="text_editor" title="wikilink">text editors</a> and <a href="integrated_development_environment" title="wikilink">integrated development environments</a>. For example, <a class="uri" href="Emacs" title="wikilink">Emacs</a>' various language modes can correctly <a href="indentation_(typesetting)" title="wikilink">indent</a> blocks of code attractively.<a class="footnoteRef" href="#fn2" id="fnref2"><sup>2</sup></a></p>
<h3 id="lisp-pretty-printer">Lisp pretty-printer</h3>

<p>An early example of pretty-printing was <a href="Bill_Gosper" title="wikilink">Bill Gosper</a>'s "GRINDEF" (<em>i.e.</em> 'grind function') program (<em>c.</em> 1967), which used <a href="combinatorial_optimization" title="wikilink">combinatorial search</a> with pruning to format <a href="Lisp_programming_language" title="wikilink">LISP</a> programs. Early versions operated on the executable (list structure) form of the Lisp program and were oblivious to the special meanings of various functions. Later versions had special read conventions for incorporating non-executable comments and also for preserving <a href="read_macro" title="wikilink">read macros</a> in unexpanded form. They also allowed special indentation conventions for special functions such as <code>if</code>.<a class="footnoteRef" href="#fn3" id="fnref3"><sup>3</sup></a><a class="footnoteRef" href="#fn4" id="fnref4"><sup>4</sup></a> The term "grind" was used in some Lisp circles as a synonym for pretty-printing.<a class="footnoteRef" href="#fn5" id="fnref5"><sup>5</sup></a></p>
<h3 id="project-style-rules">Project style rules</h3>

<p>Many open source projects have established rules for code layout. The most typical are the <a href="http://www.gnu.org/prep/standards/standards.html#Formatting">GNU style</a> and the [<a class="uri" href="http://www.freebsd.org/cgi/man.cgi?query=style&amp;sektion">http://www.freebsd.org/cgi/man.cgi?query=style&amp;sektion;</a>;=9 BSD style]. The biggest difference between the two is the location of the braces: in the GNU style, opening and closing braces are on lines by themselves, with the same indent. BSD style places an opening brace at the end of the preceding line, and the closing braces can be followed by <strong>else</strong>. The size of indent and location of whitespace also differs.</p>
<h3 id="example-of-formatting-and-beautifying-code">Example of formatting and beautifying code</h3>

<p>The following example shows some typical C structures and how various <a href="indent_style" title="wikilink">indentation style</a> rules format them. Without any formatting at all, it looks like this:</p>
<div class="sourceCode"><pre class="sourceCode c"><code class="sourceCode c"><span class="dt">int</span> foo(<span class="dt">int</span> k){<span class="kw">if</span>(k&lt;<span class="dv">1</span>||k&gt;<span class="dv">2</span>){printf(<span class="st">"out of range</span><span class="ch">\n</span><span class="st">"</span>);
printf(<span class="st">"this function requires a value of 1 or 2</span><span class="ch">\n</span><span class="st">"</span>);}<span class="kw">else</span>{
printf(<span class="st">"Switching</span><span class="ch">\n</span><span class="st">"</span>);<span class="kw">switch</span>(k){<span class="kw">case</span> <span class="dv">1</span>:printf(<span class="st">"1</span><span class="ch">\n</span><span class="st">"</span>);<span class="kw">break</span>;<span class="kw">case</span>
<span class="dv">2</span>:printf(<span class="st">"2</span><span class="ch">\n</span><span class="st">"</span>);<span class="kw">break</span>;}}}</code></pre></div>

<p>The <a href="indent_(Unix)" title="wikilink">GNU indent program</a> produces the following output when asked to indent according to the <a href="indent_style#GNU_style" title="wikilink">GNU rules</a>:</p>
<div class="sourceCode"><pre class="sourceCode c"><code class="sourceCode c"><span class="dt">int</span>
foo (<span class="dt">int</span> k)
{
  <span class="kw">if</span> (k &lt; <span class="dv">1</span> || k &gt; <span class="dv">2</span>)
    {
      printf (<span class="st">"out of range</span><span class="ch">\n</span><span class="st">"</span>);
      printf (<span class="st">"this function requires a value of 1 or 2</span><span class="ch">\n</span><span class="st">"</span>);
    }
  <span class="kw">else</span>
    {
      printf (<span class="st">"Switching</span><span class="ch">\n</span><span class="st">"</span>);
      <span class="kw">switch</span> (k)
    {
    <span class="kw">case</span> <span class="dv">1</span>:
      printf (<span class="st">"1</span><span class="ch">\n</span><span class="st">"</span>);
      <span class="kw">break</span>;
    <span class="kw">case</span> <span class="dv">2</span>:
      printf (<span class="st">"2</span><span class="ch">\n</span><span class="st">"</span>);
      <span class="kw">break</span>;
    }
    }
}</code></pre></div>

<p>It produces this output when formatting according to BSD rules:</p>
<div class="sourceCode"><pre class="sourceCode c"><code class="sourceCode c"><span class="dt">int</span>
foo(<span class="dt">int</span> k)
{
    <span class="kw">if</span> (k &lt; <span class="dv">1</span> || k &gt; <span class="dv">2</span>) {
        printf(<span class="st">"out of range</span><span class="ch">\n</span><span class="st">"</span>);
        printf(<span class="st">"this function requires a value of 1 or 2</span><span class="ch">\n</span><span class="st">"</span>);
    } <span class="kw">else</span> {
        printf(<span class="st">"Switching</span><span class="ch">\n</span><span class="st">"</span>);
        <span class="kw">switch</span> (k) {
        <span class="kw">case</span> <span class="dv">1</span>:
            printf(<span class="st">"1</span><span class="ch">\n</span><span class="st">"</span>);
            <span class="kw">break</span>;
        <span class="kw">case</span> <span class="dv">2</span>:
            printf(<span class="st">"2</span><span class="ch">\n</span><span class="st">"</span>);
            <span class="kw">break</span>;
        }
    }
}</code></pre></div>
<h2 id="formatted-text">Formatted text</h2>

<p><a href="Formatted_text" title="wikilink">Formatted text</a> can be considered a generalized form of pretty-printing.</p>
<h2 id="notes">Notes</h2>
<references>
</references>
<h2 id="see-also">See also</h2>
<ul>
<li><a href="Elastic_tabstop" title="wikilink">Elastic tabstop</a>, a feature of some source code editors that detects and maintains aligned indents</li>
<li><a class="uri" href="enscript" title="wikilink">enscript</a>, a general text printing tool with prettyprinting functions</li>
<li><a href="indent_(Unix)" title="wikilink">indent</a></li>
<li><a href="Pretty_Diff" title="wikilink">Pretty Diff</a> a pretty printer attached to a <a href="file_comparison" title="wikilink">file comparison</a> tool, such as a <a href="diff_utility" title="wikilink">diff utility</a></li>
</ul>
<h2 id="external-links">External links</h2>
<ul>
<li>[<a class="uri" href="http://portal.acm.org/citation.cfm?id=365673&amp;dl">http://portal.acm.org/citation.cfm?id=365673&amp;dl;</a>;=ACM&amp;coll;=ACM Algorithm 268: ALGOL 60 reference language editor] <em>W. M. McKeeman</em>: Commun. ACM 8(11): 667-668 (1965)</li>
<li><a href="http://doi.acm.org/10.1145/362790.362796">NEATER2: a PL/I source statement reformatter</a> <em>Kenneth Conrow, Ronald G. Smith</em>: Commun. ACM 13(11): 669-675 (1970)</li>
<li><a href="http://comjnl.oxfordjournals.org/cgi/content/abstract/14/2/133">SOAP - A Program which Documents and Edits ALGOL 60 Programs.</a> <em>R. S. Scowen, D. Allin, A. L. Hillman, M. Shimell</em>: Comput. J. 14(2): 133-135 (1971)</li>
<li><a href="http://www.moorecad.com/standardpascal/prettyp.pas">PRETTYP.PAS</a> Early pascal prettyprinter. <em>Ledgard et al.</em>: <a href="http://www.alibris.com/search/books/qwork/5001951/used/Pascal%20with%20Style:%20Programming%20Proverbs">Pascal With Style</a> (1979)</li>
<li>[<a class="uri" href="http://www.freebsd.org/cgi/man.cgi?query=style&amp;sektion">http://www.freebsd.org/cgi/man.cgi?query=style&amp;sektion;</a>;=9 style(9)] FreeBSD style guidelines</li>
<li><a href="http://www.gnu.org/prep/standards/standards.html#Formatting">Formatting your source code</a> GNU style guidelines</li>
</ul>

<p>"</p>

<p><a href="Category:Articles_with_example_C_code" title="wikilink">Category:Articles with example C code</a> <a href="Category:Source_code" title="wikilink">Category:Source code</a> <a href="Category:Text_editor_features" title="wikilink">Category:Text editor features</a></p>
<section class="footnotes">
<hr/>
<ol>
<li id="fn1"><a href="#fnref1">↩</a></li>
<li id="fn2"><a href="#fnref2">↩</a></li>
<li id="fn3">Ira Goldstein, "Pretty Printing : Converting List to Linear Structure", Artificial Intelligence Memo 279, Massachusetts Institute of Technology, February 1973. <a href="http://www.softwarepreservation.org/projects/LISP/MIT/AIM-279-Goldstein-Pretty_Printing.pdf/view">full text</a><a href="#fnref3">↩</a></li>
<li id="fn4">Richard C. Waters, "Using the new common Lisp pretty printer", <em>ACM SIGPLAN Lisp Pointers</em> <strong>5</strong>:2:27-34, April–June 1992. <a href="ftp://publications.ai.mit.edu/ai-publications/pdf/AIM-1102.pdf">full text</a><a href="#fnref4">↩</a></li>
<li id="fn5"><a href="Jargon_File" title="wikilink">Jargon File</a>, <em>s.v.</em> grind<a href="#fnref5">↩</a></li>
</ol>
</section>
</body>

