   Alternating permutation      Alternating permutation   In combinatorial  mathematics , an alternating permutation of the set {1, 2, 3, ..., n } is an arrangement of those numbers into an order c 1 , ..., c n such that no element c i is between c i − 1 and c i + 1 for any value of i and c 1 2 . In other words, c i  i + 1 if i is odd and c i > c i + 1 if i is even. For example, the five alternating permutations of {1, 2, 3, 4} are:  1, 3, 2, 4       because       1  2 < 4  1, 4, 2, 3       because       1  2 < 3  2, 3, 1, 4       because       2  1 < 4  2, 4, 1, 3       because       2  1 < 3  3, 4, 1, 2       because       3  1 < 2   This type of permutation was first studied by Désiré André in the 19th century. 1  If the condition c 1 2 is dropped, so we only require that no element c i is between c i − 1 and c i + 1 , then the permutation is called a zigzag permutation . By exchanging 1 with n , 2 with n − 1, etc., each zigzag permutation with c 1 > c 2 can be paired uniquely with an alternating permutation.  Related integer sequences  The determination of the number, A n , of alternating permutations of the set {1, ..., n } is called André's problem . If Z n denotes the number of zigzag permutations of {1, ..., n } then it is clear from the pairing given above that Z n = 2 A n for n ≥ 2. The numbers A n are known as Euler zigzag numbers or up/down numbers . The first few values of A n are 1, 1, 1, 2, 5, 16, 61, 272, 1385, 7936, 50521, ... . The first few values of Z n are 1, 1, 2, 4, 10, 32, 122, 544, 2770, 15872, 101042, ... .  The Euler zigzag numbers are related to Entringer numbers, from which the zigzag numbers may be computed. The n th zigzag number is equal to the Entringer number E ( n , n ), and these Entringer numbers can be defined recursively as follows: 2       E   (  0  ,  0  )    =  1        E   0  0    1    E(0,0)=1           E   (  n  ,  0  )    =  0     for  n   >  0      formulae-sequence      E   n  0    0       for  n   0     E(n,0)=0\qquad\mbox{for }n>0          E   (  n  ,  k  )    =    E   (  n  ,   k  -  1   )    +   E   (   n  -  1   ,   n  -  k   )           E   n  k        E   n    k  1       E     n  1     n  k        E(n,k)=E(n,k-1)+E(n-1,n-k)   .  The numbers A 2 n with even indices are called secant numbers or zig numbers . The first few values are 1, 1, 5, 61, 1385, 50521, ... . They appear as numerators in the Maclaurin series of sec x . Specifically,        sec  x   =   1  +    1   2  !     x  2    +    5   4  !     x  4    +  ⋯   =    ∑   n  =  0   ∞     A   2  n      x   2  n      (   2  n   )   !       .          x     1      1    2     superscript  x  2        5    4     superscript  x  4    normal-⋯          superscript   subscript     n  0         subscript  A    2  n       superscript  x    2  n        2  n          \sec x=1+\frac{1}{2!}x^{2}+\frac{5}{4!}x^{4}+\cdots=\sum_{n=0}^{\infty}A_{2n}{%
 x^{2n}\over({2n})!}.     Secant numbers are related to Euler numbers by the formula E 2 n = (−1) n A 2 n . ( E n = 0 when n is odd.)  Correspondingly, the numbers A 2 n +1 with odd indices are called tangent numbers or zag numbers . The first few values are 1, 2, 16, 272, 7936, ... . They appear as numerators in the Maclaurin series of tan x . Specifically,        tan  x   =     1   1  !    x   +    2   3  !     x  3    +    16   5  !     x  5    +  ⋯   =    ∑   n  =  0   ∞     A    2  n   +  1      x    2  n   +  1      (    2  n   +  1   )   !       .          x         1    1    x       2    3     superscript  x  3        16    5     superscript  x  5    normal-⋯          superscript   subscript     n  0         subscript  A      2  n   1       superscript  x      2  n   1          2  n   1          \tan x=\frac{1}{1!}x+\frac{2}{3!}x^{3}+\frac{16}{5!}x^{5}+\cdots=\sum_{n=0}^{%
 \infty}A_{2n+1}{x^{2n+1}\over({2n+1})!}.     Tangent numbers are related to Bernoulli numbers by the formula       B   2  n    =     (   -  1   )    n  -  1      2  n     4   2  n    -   2   2  n       A    2  n   -  1          subscript  B    2  n       superscript    1     n  1        2  n      superscript  4    2  n     superscript  2    2  n       subscript  A      2  n   1       B_{2n}=(-1)^{n-1}\frac{2n}{4^{2n}-2^{2n}}A_{2n-1}     for n > 0.  Adding these series together gives the exponential generating function of the sequence  A n :         ∑   n  =  0   ∞     A  n     x  n    n  !      =    sec  x   +   tan  x    =   tan   (    x  2   +   π  4    )     .          superscript   subscript     n  0         subscript  A  n      superscript  x  n     n          x     x               x  2     π  4        \sum_{n=0}^{\infty}A_{n}{x^{n}\over n!}=\sec x+\tan x=\tan\left({x\over 2}+{%
 \pi\over 4}\right).          A  n   =    i   n  +  1      ∑   k  =  1    n  +  1      ∑   j  =  0   k     (     k      j     )       (   -  1   )   j     (   k  -   2  j    )    n  +  1       2  k    i  k   k             subscript  A  n      superscript  i    n  1      superscript   subscript     k  1      n  1      superscript   subscript     j  0    k      binomial  k  j        superscript    1   j    superscript    k    2  j      n  1        superscript  2  k    superscript  i  k   k          A_{n}=i^{n+1}\sum_{k=1}^{n+1}\sum_{j=0}^{k}{k\choose{j}}\frac{(-1)^{j}(k-2j)^{%
 n+1}}{2^{k}i^{k}k}     André's theorem  In some contexts, one defines the terms alternating permutation and reverse-alternating permutation so that the former are arrangements of the set { 1, 2, 3, ..., n } into a sequence a 1 , ..., a n satisfying       a  1   >    a  2    <   a  3   >    a  4    <   ⋯          subscript  a  1      subscript  a  2    expectation   subscript  a  3     subscript  a  4         normal-⋯     a_{1}>a_{2} a_{4}<\cdots\,     and the latter satisfy        a  1    <   a  2   >    a  3    <   a  4   >   ⋯   .       subscript  a  1    expectation   subscript  a  2     subscript  a  3    expectation   subscript  a  4    normal-⋯    a_{1} a_{3} \cdots.\,     (A bijection between alternating and reverse-alternating permutations is given by       a  i   ↦  n  +  1  -   a  i   .  )     fragments   subscript  a  i   maps-to  n   1    subscript  a  i   normal-.  normal-)    a_{i}\mapsto n+1-a_{i}.)\,     Let E n be the number of alternating permutations of the set { 1, 2, 3, ..., n }. The first several of these numbers are        E  0   =  1   ,     E  1   =  1   ,     E  2   =  1   ,     E  3   =  2   ,     E  4   =  5   ,     E  5   =  16   ,     E  6   =  61   ,    E  7   =   272  ,  …             formulae-sequence     subscript  E  0   1    formulae-sequence     subscript  E  1   1    formulae-sequence     subscript  E  2   1    formulae-sequence     subscript  E  3   2    formulae-sequence     subscript  E  4   5    formulae-sequence     subscript  E  5   16    formulae-sequence     subscript  E  6   61      subscript  E  7    272  normal-…            E_{0}=1,\quad E_{1}=1,\quad E_{2}=1,\quad E_{3}=2,\quad E_{4}=5,\quad E_{5}=16%
 ,\quad E_{6}=61,\quad E_{7}=272,\quad\ldots     André's theorem states:   The exponential generating function of the numbers E n is           f   (  x  )    =    ∑   n  =  0   ∞     E  n     x  n    n  !      =    sec  x   +   tan  x     .          f  x     superscript   subscript     n  0         subscript  E  n      superscript  x  n     n               x     x       f(x)=\sum_{n=0}^{\infty}E_{n}\frac{x^{n}}{n!}=\sec x+\tan x.        The radius of convergence of this series can be seen to be positive by noticing that E n is bounded above by n !. In fact, the radius is   π   π   \pi   /2.  Proof  Here we prove André's theorem by means of a combinatorial argument showing that this generating function satisfies a certain differential equation , and we use the initial condition ƒ (0) = 1. This proof is due to  and also appears in . See also this preprint by Stanley .  The principal combinatorial result that we need is this identity:        2   E   n  +  1     =    ∑   k  =  0   n     (     n      k     )    E  k    E   n  -  k    if  n    ≥  1.    (  1  )      formulae-sequence        2   subscript  E    n  1       superscript   subscript     k  0    n      binomial  n  k    subscript  E  k    subscript  E    n  k    if  n         1.    1    2E_{n+1}=\sum_{k=0}^{n}{\left({{n}\atop{k}}\right)}E_{k}E_{n-k}\text{ if }n%
 \geq 1.\qquad\qquad(1)     The proviso that n ≥ 1 is crucial.  A proof of this combinatorial identity runs as follows. To choose an alternating or reverse-alternating permutation of the set { 1, 2, 3, ..., n , n + 1 }, we   choose a subset of size k of the set { 1, ..., n }, then  choose a reverse-alternating permutation a 1 , ..., a k of the set { 1, ..., k }, then  choose a reverse-alternating permutation b 1 , ..., b n − k of the set { k + 1, ..., n }.   Then the permutation       a  k   ,   a   k  -  1    ,   a   k  -  2    ,  …  ,   a  1   ,   n  +  1   ,   b  1   ,   b  2   ,   b  3   ,   …    b   n  -  k          subscript  a  k    subscript  a    k  1     subscript  a    k  2    normal-…   subscript  a  1     n  1    subscript  b  1    subscript  b  2    subscript  b  3     normal-…   subscript  b    n  k       a_{k},a_{k-1},a_{k-2},\ldots,a_{1},n+1,b_{1},b_{2},b_{3},\ldots b_{n-k}\,     is either alternating or reverse-alternating. The number of ways to choose a permutation of { 1, 2, 3, ..., n , n + 1 } that is either alternating or reverse-alternating is E n +1 , and the number of ways to complete the sequence of steps above is        (     n      k     )    E  k    E   n  -  k     .       binomial  n  k    subscript  E  k    subscript  E    n  k      {\left({{n}\atop{k}}\right)}E_{k}E_{n-k}.\,     This needs to be done for each possible value of k to get a complete list, hence we sum from k = 0 to k = n . This completes the proof of the identity (1).  Multiplication of both sides of (1) by x n +1 /( n +1)! and summing over n ≥ 1, and then prepending the constant and first-degree terms, yields        2  f   (  x  )    =    2   E  0    +   2   E  1   x   +   2    ∑   n  =  1   ∞     E   n  +  1      x   n  +  1      (   n  +  1   )   !        =    2   E  0    +   2   E  1   x   +    ∑   n  =  1   ∞     ∑   k  =  0   n     (     n      k     )    E  k    E   n  -  k      x   n  +  1      (   n  +  1   )   !         .          2  f  x       2   subscript  E  0      2   subscript  E  1   x     2    superscript   subscript     n  1         subscript  E    n  1       superscript  x    n  1        n  1                  2   subscript  E  0      2   subscript  E  1   x     superscript   subscript     n  1        superscript   subscript     k  0    n      binomial  n  k    subscript  E  k    subscript  E    n  k       superscript  x    n  1        n  1            2f(x)=2E_{0}+2E_{1}x+2\sum_{n=1}^{\infty}E_{n+1}\frac{x^{n+1}}{(n+1)!}=2E_{0}+%
 2E_{1}x+\sum_{n=1}^{\infty}\sum_{k=0}^{n}{\left({{n}\atop{k}}\right)}E_{k}E_{n%
 -k}\frac{x^{n+1}}{(n+1)!}.     Differentiating both sides, we get        2   f  ′    (  x  )    =    2   E  1    +   2    ∑   n  =  1   ∞     E   n  +  1      x  n    n  !        =    2   E  1    +    ∑   n  =  1   ∞     ∑   k  =  0   n     (     n      k     )    E  k    E   n  -  k      x  n    n  !         .          2   superscript  f  normal-′   x       2   subscript  E  1      2    superscript   subscript     n  1         subscript  E    n  1       superscript  x  n     n                 2   subscript  E  1      superscript   subscript     n  1        superscript   subscript     k  0    n      binomial  n  k    subscript  E  k    subscript  E    n  k       superscript  x  n     n           2f^{\prime}(x)=2E_{1}+2\sum_{n=1}^{\infty}E_{n+1}\frac{x^{n}}{n!}=2E_{1}+\sum_%
 {n=1}^{\infty}\sum_{k=0}^{n}{\left({{n}\atop{k}}\right)}E_{k}E_{n-k}\frac{x^{n%
 }}{n!}.     In the last sum, the index n goes from 1 to ∞, not from 0 to ∞. If we change the lower bound of summation from 1 to 0, we simply add 1 to the sum, and compensate by changing the initial term, 2 E 1 = 2, to E 1 = 1, getting         E  1   +    ∑   n  =  0   ∞     ∑   k  =  0   n     (     n      k     )    E  k    E   n  -  k      x  n    n  !        =   1  +    ∑   n  =  0   ∞     ∑   k  =  0   n     (    E  k     x  k    k  !     )    (    E   n  -  k      x   n  -  k      (   n  -  k   )   !     )        .         subscript  E  1     superscript   subscript     n  0        superscript   subscript     k  0    n      binomial  n  k    subscript  E  k    subscript  E    n  k       superscript  x  n     n          1    superscript   subscript     n  0        superscript   subscript     k  0    n        subscript  E  k      superscript  x  k     k        subscript  E    n  k       superscript  x    n  k        n  k            E_{1}+\sum_{n=0}^{\infty}\sum_{k=0}^{n}{\left({{n}\atop{k}}\right)}E_{k}E_{n-k%
 }\frac{x^{n}}{n!}=1+\sum_{n=0}^{\infty}\sum_{k=0}^{n}\left(E_{k}\frac{x^{k}}{k%
 !}\right)\left(E_{n-k}\frac{x^{n-k}}{(n-k)!}\right).     The last sum is over all pairs of positive integers, so the expression above can be rearranged as      1  +    ∑   i  =  0   ∞     ∑   j  =  0   ∞       E  i     x  i    i  !     ⋅   E  j      x  j    j  !           1    superscript   subscript     i  0        superscript   subscript     j  0         normal-⋅     subscript  E  i      superscript  x  i     i      subscript  E  j       superscript  x  j     j         1+\sum_{i=0}^{\infty}\sum_{j=0}^{\infty}E_{i}\frac{x^{i}}{i!}\cdot E_{j}\frac{%
 x^{j}}{j!}     (see Cauchy product ).  The expression     E  i     x  i    i  !         subscript  E  i      superscript  x  i     i      E_{i}\frac{x^{i}}{i!}   does not change as j goes from 0 to ∞; hence it can be pulled out of the inside sum, getting       1  +    ∑   i  =  0   ∞    (    E  i     x  i    i  !      ∑   j  =  0   ∞     E  j     x  j    j  !       )     .      1    superscript   subscript     i  0         subscript  E  i      superscript  x  i     i      superscript   subscript     j  0         subscript  E  j      superscript  x  j     j          1+\sum_{i=0}^{\infty}\left(E_{i}\frac{x^{i}}{i!}\sum_{j=0}^{\infty}E_{j}\frac{%
 x^{j}}{j!}\right).     Now the second sum does not change as i goes from 0 to ∞; hence it can be pulled out of the outer sum, getting       1  +    (    ∑   j  =  0   ∞     E  j     x  j    j  !      )    (    ∑   i  =  0   ∞     E  i     x  i    i  !      )     .      1      superscript   subscript     j  0         subscript  E  j      superscript  x  j     j        superscript   subscript     i  0         subscript  E  i      superscript  x  i     i         1+\left(\sum_{j=0}^{\infty}E_{j}\frac{x^{j}}{j!}\right)\left(\sum_{i=0}^{%
 \infty}E_{i}\frac{x^{i}}{i!}\right).     This is       1  +    (   f   (  x  )    )   2    .      1   superscript    f  x   2     1+(f(x))^{2}.\,     Consequently we have a differential equation        2   f  ′    (  x  )    =   1  +    (   f   (  x  )    )   2     .        2   superscript  f  normal-′   x     1   superscript    f  x   2      2f^{\prime}(x)=1+(f(x))^{2}.\,     This can be solved by separation of variables , getting        f   (  x  )    =   tan   (    x  2   +  constant   )     .        f  x         x  2   constant      f(x)=\tan\left(\frac{x}{2}+\text{constant}\right).     We have an initial condition ƒ (0) = 1, so we have        f   (  x  )    =   tan   (    x  2   +   π  4    )     .        f  x         x  2     π  4       f(x)=\tan\left(\frac{x}{2}+\frac{\pi}{4}\right).     Finally, a standard tangent half-angle trigonometric identity gives us        f   (  x  )    =    sec  x   +   tan  x     .        f  x       x     x      f(x)=\sec x+\tan x.\,     This completes the proof of André's theorem.  See also   Longest alternating subsequence  Boustrophedon transform  Fence (mathematics) , partially ordered sets that have alternating permutations as their linear extensions   Citations  References   André, D. "Développements de sec x et tan x ." Comptes Rendus Acad. Sci. , Paris 88, 965–967, 1879.     .   Further reading     External links   Ross Tang, "An Explicit Formula for the Euler zigzag numbers (Up/down numbers) from power series" A simple explicit formula for A n .  "A Survey of Alternating Permutations" , a preprint by Richard P. Stanley   "  Category:Permutations  Category:Enumerative combinatorics     Jessica Millar, N. J. A. Sloane, Neal E. Young, "A New Operation on Sequences: the Boustrouphedon Transform" J. Combinatorial Theory, Series A 76(1):44–54 (1996) ↩  Weisstein, Eric W. "Entringer Number." From MathWorld--A Wolfram Web Resource. http://mathworld.wolfram.com/EntringerNumber.html ↩   