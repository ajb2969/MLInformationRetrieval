<html lang="en">
<head>
<meta charset="utf-8"/>
<title offset="1394">Three Prisoners problem</title>
<script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_SVG.js" type="text/javascript">
</script>
</head>
<body>
<h1>Three Prisoners problem</h1>
<hr/>

<p>The <strong>Three Prisoners problem</strong> appeared in <a href="Martin_Gardner" title="wikilink">Martin Gardner</a>'s "Mathematical Games" column in <a href="Scientific_American" title="wikilink">Scientific American</a> in 1959.<a class="footnoteRef" href="#fn1" id="fnref1"><sup>1</sup></a><a class="footnoteRef" href="#fn2" id="fnref2"><sup>2</sup></a> It is mathematically equivalent to the <a href="Monty_Hall_problem" title="wikilink">Monty Hall problem</a> with car and goat replaced with freedom and execution respectively, and also equivalent to, and presumably based on, <a href="Bertrand's_box_paradox" title="wikilink">Bertrand's box paradox</a>.</p>
<h2 id="problem">Problem</h2>

<p>Three prisoners, A, B and C, are in separate cells and sentenced to death. The governor has selected one of them at random to be pardoned. The warden knows which one is pardoned, but is not allowed to tell. Prisoner A begs the warden to let him know the identity of one of the others who is going to be executed. "If B is to be pardoned, give me C's name. If C is to be pardoned, give me B's name. And if I'm to be pardoned, flip a coin to decide whether to name B or C."</p>

<p>The warden tells A that B is to be executed. Prisoner A is pleased because he believes that his probability of surviving has gone up from 1/3 to 1/2, as it is now between him and C. Prisoner A secretly tells C the news, who is also pleased, because he reasons that A still has a chance of 1/3 to be the pardoned one, but his chance has gone up to 2/3. What is the correct answer?</p>
<h2 id="solution">Solution</h2>

<p>The answer is that prisoner A didn't gain information about his own fate. Prisoner A, prior to hearing from the warden, estimates his chances of being pardoned as 1/3, the same as both B and C. As the warden says B will be executed, it's either because C will be pardoned (1/3 chance), or A will be pardoned (1/3 chance) <em>and</em> the B/C coin the warden flipped came up B (1/2 chance; for a total of a 1/6 chance B was named because A will be pardoned). Hence, after hearing that B will be executed, the estimate of A's chance of being pardoned is half that of C. This means his chances of being pardoned, now knowing B isn't, again are 1/3, but C has a 2/3 chance of being pardoned.</p>
<h3 id="table">Table</h3>

<p>The explanation above may be summarised in the following table. As the warden is asked by A, he can only answer B or C to be executed.</p>
<dl>
<dd>
<table>
<tbody>
<tr class="odd">
<td style="text-align: left;">
<p>being pardoned</p></td>
<td style="text-align: left;">
<p>warden: "not B"</p></td>
<td style="text-align: left;">
<p>warden: "not C"</p></td>
<td style="text-align: left;">
<p>sum</p></td>
</tr>
<tr class="even">
<td style="text-align: left;">
<p>A</p></td>
<td style="text-align: left;">
<p>1/6</p></td>
<td style="text-align: left;">
<p>1/6</p></td>
<td style="text-align: left;">
<p>1/3</p></td>
</tr>
<tr class="odd">
<td style="text-align: left;">
<p>B</p></td>
<td style="text-align: left;">
<p>0</p></td>
<td style="text-align: left;">
<p>1/3</p></td>
<td style="text-align: left;">
<p>1/3</p></td>
</tr>
<tr class="even">
<td style="text-align: left;">
<p>C</p></td>
<td style="text-align: left;">
<p>1/3</p></td>
<td style="text-align: left;">
<p>0</p></td>
<td style="text-align: left;">
<p>1/3</p></td>
</tr>
<tr class="odd">
</tr>
</tbody>
</table>
</dd>
</dl>

<p>As the warden has answered that B will not be pardoned, the solution comes from the second column. It appears that the odds for A to be pardoned are 1:2.</p>
<h3 id="mathematical-formulation">Mathematical formulation</h3>

<p>Call 

<math display="inline" id="Three_Prisoners_problem:0">
 <semantics>
  <mi>A</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>A</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   A
  </annotation>
 </semantics>
</math>

, 

<math display="inline" id="Three_Prisoners_problem:1">
 <semantics>
  <mi>B</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>B</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   B
  </annotation>
 </semantics>
</math>

 and 

<math display="inline" id="Three_Prisoners_problem:2">
 <semantics>
  <mi>C</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>C</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   C
  </annotation>
 </semantics>
</math>

 the events that the corresponding prisoner will be pardoned, and 

<math display="inline" id="Three_Prisoners_problem:3">
 <semantics>
  <mi>b</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>b</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   b
  </annotation>
 </semantics>
</math>

 the event that the warden mentions prisoner B as the one not being pardoned, then, using Bayes' formula, the posterior probability of A being pardoned, is:</p>

<p>

<math display="block" id="Three_Prisoners_problem:4">
 <semantics>
  <mrow>
   <mi>P</mi>
   <mrow>
    <mo stretchy="false">(</mo>
    <mi>A</mi>
    <mo stretchy="false">|</mo>
    <mi>b</mi>
    <mo stretchy="false">)</mo>
   </mrow>
   <mo>=</mo>
   <mfrac>
    <mrow>
     <mi>P</mi>
     <mrow>
      <mo stretchy="false">(</mo>
      <mi>b</mi>
      <mo stretchy="false">|</mo>
      <mi>A</mi>
      <mo stretchy="false">)</mo>
     </mrow>
     <mi>P</mi>
     <mrow>
      <mo stretchy="false">(</mo>
      <mi>A</mi>
      <mo stretchy="false">)</mo>
     </mrow>
    </mrow>
    <mrow>
     <mi>P</mi>
     <mrow>
      <mo stretchy="false">(</mo>
      <mi>b</mi>
      <mo stretchy="false">|</mo>
      <mi>A</mi>
      <mo stretchy="false">)</mo>
     </mrow>
     <mi>P</mi>
     <mrow>
      <mo stretchy="false">(</mo>
      <mi>A</mi>
      <mo stretchy="false">)</mo>
     </mrow>
     <mo>+</mo>
     <mi>P</mi>
     <mrow>
      <mo stretchy="false">(</mo>
      <mi>b</mi>
      <mo stretchy="false">|</mo>
      <mi>B</mi>
      <mo stretchy="false">)</mo>
     </mrow>
     <mi>P</mi>
     <mrow>
      <mo stretchy="false">(</mo>
      <mi>B</mi>
      <mo stretchy="false">)</mo>
     </mrow>
     <mo>+</mo>
     <mi>P</mi>
     <mrow>
      <mo stretchy="false">(</mo>
      <mi>b</mi>
      <mo stretchy="false">|</mo>
      <mi>C</mi>
      <mo stretchy="false">)</mo>
     </mrow>
     <mi>P</mi>
     <mrow>
      <mo stretchy="false">(</mo>
      <mi>C</mi>
      <mo stretchy="false">)</mo>
     </mrow>
    </mrow>
   </mfrac>
   <mo>=</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <cerror>
    <csymbol cd="ambiguous">fragments</csymbol>
    <csymbol cd="unknown">P</csymbol>
    <cerror>
     <csymbol cd="ambiguous">fragments</csymbol>
     <ci>normal-(</ci>
     <csymbol cd="unknown">A</csymbol>
     <ci>normal-|</ci>
     <csymbol cd="unknown">b</csymbol>
     <ci>normal-)</ci>
    </cerror>
    <eq></eq>
    <apply>
     <divide></divide>
     <cerror>
      <csymbol cd="ambiguous">fragments</csymbol>
      <csymbol cd="unknown">P</csymbol>
      <cerror>
       <csymbol cd="ambiguous">fragments</csymbol>
       <ci>normal-(</ci>
       <csymbol cd="unknown">b</csymbol>
       <ci>normal-|</ci>
       <csymbol cd="unknown">A</csymbol>
       <ci>normal-)</ci>
      </cerror>
      <csymbol cd="unknown">P</csymbol>
      <cerror>
       <csymbol cd="ambiguous">fragments</csymbol>
       <ci>normal-(</ci>
       <csymbol cd="unknown">A</csymbol>
       <ci>normal-)</ci>
      </cerror>
     </cerror>
     <cerror>
      <csymbol cd="ambiguous">fragments</csymbol>
      <csymbol cd="unknown">P</csymbol>
      <cerror>
       <csymbol cd="ambiguous">fragments</csymbol>
       <ci>normal-(</ci>
       <csymbol cd="unknown">b</csymbol>
       <ci>normal-|</ci>
       <csymbol cd="unknown">A</csymbol>
       <ci>normal-)</ci>
      </cerror>
      <csymbol cd="unknown">P</csymbol>
      <cerror>
       <csymbol cd="ambiguous">fragments</csymbol>
       <ci>normal-(</ci>
       <csymbol cd="unknown">A</csymbol>
       <ci>normal-)</ci>
      </cerror>
      <plus></plus>
      <csymbol cd="unknown">P</csymbol>
      <cerror>
       <csymbol cd="ambiguous">fragments</csymbol>
       <ci>normal-(</ci>
       <csymbol cd="unknown">b</csymbol>
       <ci>normal-|</ci>
       <csymbol cd="unknown">B</csymbol>
       <ci>normal-)</ci>
      </cerror>
      <csymbol cd="unknown">P</csymbol>
      <cerror>
       <csymbol cd="ambiguous">fragments</csymbol>
       <ci>normal-(</ci>
       <csymbol cd="unknown">B</csymbol>
       <ci>normal-)</ci>
      </cerror>
      <plus></plus>
      <csymbol cd="unknown">P</csymbol>
      <cerror>
       <csymbol cd="ambiguous">fragments</csymbol>
       <ci>normal-(</ci>
       <csymbol cd="unknown">b</csymbol>
       <ci>normal-|</ci>
       <csymbol cd="unknown">C</csymbol>
       <ci>normal-)</ci>
      </cerror>
      <csymbol cd="unknown">P</csymbol>
      <cerror>
       <csymbol cd="ambiguous">fragments</csymbol>
       <ci>normal-(</ci>
       <csymbol cd="unknown">C</csymbol>
       <ci>normal-)</ci>
      </cerror>
     </cerror>
    </apply>
    <eq></eq>
   </cerror>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   P(A|b)=\frac{P(b|A)P(A)}{P(b|A)P(A)+P(b|B)P(B)+P(b|C)P(C)}=
  </annotation>
 </semantics>
</math>

</p>
<dl>
<dd><dl>
<dd>

<math display="inline" id="Three_Prisoners_problem:5">
 <semantics>
  <mrow>
   <mrow>
    <mi></mi>
    <mo>=</mo>
    <mfrac>
     <mrow>
      <mstyle scriptlevel="-1">
       <mfrac>
        <mn>1</mn>
        <mn>2</mn>
       </mfrac>
      </mstyle>
      <mo>×</mo>
      <mstyle scriptlevel="-1">
       <mfrac>
        <mn>1</mn>
        <mn>3</mn>
       </mfrac>
      </mstyle>
     </mrow>
     <mrow>
      <mrow>
       <mstyle scriptlevel="-1">
        <mfrac>
         <mn>1</mn>
         <mn>2</mn>
        </mfrac>
       </mstyle>
       <mo>×</mo>
       <mstyle scriptlevel="-1">
        <mfrac>
         <mn>1</mn>
         <mn>3</mn>
        </mfrac>
       </mstyle>
      </mrow>
      <mo>+</mo>
      <mrow>
       <mn>0</mn>
       <mo>×</mo>
       <mstyle scriptlevel="-1">
        <mfrac>
         <mn>1</mn>
         <mn>3</mn>
        </mfrac>
       </mstyle>
      </mrow>
      <mo>+</mo>
      <mrow>
       <mn>1</mn>
       <mo>×</mo>
       <mstyle scriptlevel="-1">
        <mfrac>
         <mn>1</mn>
         <mn>3</mn>
        </mfrac>
       </mstyle>
      </mrow>
     </mrow>
    </mfrac>
    <mo>=</mo>
    <mfrac>
     <mn>1</mn>
     <mn>3</mn>
    </mfrac>
   </mrow>
   <mo>.</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <and></and>
    <apply>
     <eq></eq>
     <csymbol cd="latexml">absent</csymbol>
     <apply>
      <divide></divide>
      <apply>
       <times></times>
       <apply>
        <divide></divide>
        <cn type="integer">1</cn>
        <cn type="integer">2</cn>
       </apply>
       <apply>
        <divide></divide>
        <cn type="integer">1</cn>
        <cn type="integer">3</cn>
       </apply>
      </apply>
      <apply>
       <plus></plus>
       <apply>
        <times></times>
        <apply>
         <divide></divide>
         <cn type="integer">1</cn>
         <cn type="integer">2</cn>
        </apply>
        <apply>
         <divide></divide>
         <cn type="integer">1</cn>
         <cn type="integer">3</cn>
        </apply>
       </apply>
       <apply>
        <times></times>
        <cn type="integer">0</cn>
        <apply>
         <divide></divide>
         <cn type="integer">1</cn>
         <cn type="integer">3</cn>
        </apply>
       </apply>
       <apply>
        <times></times>
        <cn type="integer">1</cn>
        <apply>
         <divide></divide>
         <cn type="integer">1</cn>
         <cn type="integer">3</cn>
        </apply>
       </apply>
      </apply>
     </apply>
    </apply>
    <apply>
     <eq></eq>
     <share href="#.cmml">
     </share>
     <apply>
      <divide></divide>
      <cn type="integer">1</cn>
      <cn type="integer">3</cn>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   =\frac{\tfrac{1}{2}\times\tfrac{1}{3}}{\tfrac{1}{2}\times\tfrac{1}{3}+0\times%
\tfrac{1}{3}+1\times\tfrac{1}{3}}=\tfrac{1}{3}.
  </annotation>
 </semantics>
</math>


</dd>
</dl>
</dd>
</dl>
<h2 id="an-intuitive-explanation">An intuitive explanation</h2>

<p>Prisoner A only has a 1/3 chance of pardon. Knowing whether "B" or "C" will be executed does not change his chance. After he hears B will be executed, Prisoner A realizes that if he will not get the pardon himself it must only be going to C. That means there is a 2/3 chance for C to get a pardon. This is identical to the <a href="Monty_Hall_problem" title="wikilink">Monty Hall Problem</a>.</p>
<h3 id="enumeration-of-possible-cases">Enumeration of possible cases</h3>

<p>The following scenarios may arise:</p>
<ol>
<li>A is pardoned and the warden mentions B to be executed: 1/3×1/2=1/6 of the cases</li>
<li>A is pardoned and the warden mentions C to be executed: 1/3×1/2=1/6 of the cases</li>
<li>B is pardoned and the warden mentions C to be executed: 1/3 of the cases</li>
<li>C is pardoned and the warden mentions B to be executed: 1/3 of the cases</li>
</ol>

<p>With the stipulation that the warden will choose randomly, in the 1/3 of the time that A is to be pardoned, there is a 1/2 chance he will say B and 1/2 chance he will say C. This means that taken overall, 1/6 of the time (1/3 [that A is pardoned] * 1/2 [that warden says B]), the warden will say B because A will be pardoned, and 1/6 of the time (1/3 [that A is pardoned] * 1/2 [that warden says C]) he will say C because A is being pardoned. This adds up to the total of 1/3 of the time (1/6 + 1/6) A is being pardoned, which is accurate.</p>

<p>It is now clear that if the warden answers B to A, cases 1 and 4, which happens 1/2 of the time, 1/3 of the time C is pardoned and A will still be executed (case 4), and only 1/6 of the time A is pardoned (case 1). Hence C's chances are (1/3)/(1/2)=2/3 and A's are (1/6)/(1/2)=1/3.</p>

<p>The key to this problem is that the warden <em>may not</em> reveal the name of a prisoner who <em>will</em> be pardoned. If we eliminate this requirement, it can demonstrate the original problem in another way. The only change in this example is that prisoner A asks the warden to <em>reveal the fate</em> of one of the other prisoners (not specifying one that will be executed). In this case, the warden flips a coin chooses one of B and C to reveal the fate of. The cases are as follows:</p>
<ol>
<li>A pardoned, warden says: B executed (1/6)</li>
<li>A pardoned, warden says: C executed (1/6)</li>
<li>B pardoned, warden says: B pardoned (1/6)</li>
<li>B pardoned, warden says: C executed (1/6)</li>
<li>C pardoned, warden says: B executed (1/6)</li>
<li>C pardoned, warden says: C pardoned (1/6)</li>
</ol>

<p>Each scenario has a 1/6 probability. The original Three Prisoners problem can be seen in this light: The warden in that problem still has these six cases, each with a 1/6 probability of occurring. However, the warden in that case <em>may not</em> reveal the fate of a pardoned prisoner. Therefore, in the 1/6 of the time that case 3 occurs, since saying B is not an option, the warden says C instead (making it the same as case 4). Similarly, in case 6, the warden must say B instead of C (the same as case 5). That leaves cases 4 and 5 with 1/3 probability of occurring and leaves us with the same probability as above.</p>
<h2 id="why-the-paradox">Why the paradox?</h2>

<p>The tendency of people to provide the answer 1/2 neglects to take into account that the warden may have tossed a coin before he gave his answer. The warden may have answered 

<math display="inline" id="Three_Prisoners_problem:6">
 <semantics>
  <mi>B</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>B</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   B
  </annotation>
 </semantics>
</math>

 because 

<math display="inline" id="Three_Prisoners_problem:7">
 <semantics>
  <mi>A</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>A</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   A
  </annotation>
 </semantics>
</math>

 is to be released and he tossed a coin. Or, 

<math display="inline" id="Three_Prisoners_problem:8">
 <semantics>
  <mi>C</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>C</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   C
  </annotation>
 </semantics>
</math>

 is to be released. The probabilities of the two events are not equal.</p>

<p><a href="Judea_Pearl" title="wikilink">Judea Pearl</a> (1988)<a class="footnoteRef" href="#fn3" id="fnref3"><sup>3</sup></a> used a variant of this example to demonstrate that belief updates must depend not merely on the facts observed but also on the experiment (i.e., query) that led to those facts.</p>
<h2 id="related-problems-and-applications">Related problems and applications</h2>
<ul>
<li><a href="Bertrand's_box_paradox" title="wikilink">Bertrand's box paradox</a> (also known as the three-cards problem)</li>
<li><a href="Boy_or_Girl_paradox" title="wikilink">Boy or Girl paradox</a></li>
<li><a href="Monty_Hall_problem" title="wikilink">Monty Hall problem</a></li>
<li><a href="Principle_of_restricted_choice" title="wikilink">Principle of restricted choice</a>, an application in the card game <a href="contract_bridge" title="wikilink">bridge</a></li>
<li><a href="Prisoner's_dilemma" title="wikilink">Prisoner's dilemma</a>, a <a href="game_theory" title="wikilink">game theory</a> problem</li>
<li><a href="Sleeping_Beauty_problem" title="wikilink">Sleeping Beauty problem</a></li>
<li><a href="Two_envelopes_problem" title="wikilink">Two envelopes problem</a></li>
</ul>
<h2 id="notes">Notes</h2>
<h2 id="references">References</h2>
<ul>
<li><a href="Frederick_Mosteller" title="wikilink">Frederick Mosteller</a>: <em>Fifty Challenging Problems in Probability</em>. Dover 1987 (reprint), ISBN 0-486-65355-2, p. 28-29 ()</li>
<li>Richard Isaac: <em>Pleasures of Probability</em>. Springer 1995, ISBN 978-0-387-94415-9, p. 24-27 ()</li>
</ul>

<p>"</p>

<p><a href="Category:Probability_theory_paradoxes" title="wikilink">Category:Probability theory paradoxes</a> <a href="Category:Decision_theory_paradoxes" title="wikilink">Category:Decision theory paradoxes</a> <a href="Category:Named_probability_problems" title="wikilink">Category:Named probability problems</a></p>
<section class="footnotes">
<hr/>
<ol>
<li id="fn1"><a href="#fnref1">↩</a></li>
<li id="fn2"><a href="#fnref2">↩</a></li>
<li id="fn3">Pearl, J. <em>Probabilistic Reasoning in Intelligent Systems: Networks of Plausible Inference</em>, San Mateo, CA: Morgan Kaufmann Publishers, Inc., First Edition, 1988.<a href="#fnref3">↩</a></li>
</ol>
</section>
</body>
</html>
