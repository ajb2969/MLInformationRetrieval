   Line–plane intersection      Line–plane intersection   In analytic geometry , the intersection of a line and a plane can be the empty set , a point , or a line. Distinguishing these cases, and determining equations for the point and line in the latter cases, have use in computer graphics , motion planning , and collision detection .  Algebraic form  In vector notation , a plane can be expressed as the set of points   𝐩   𝐩   \mathbf{p}   for which        (   𝐩  -   𝐩  𝟎    )   ⋅  𝐧   =  0       normal-⋅    𝐩   subscript  𝐩  0    𝐧   0    (\mathbf{p}-\mathbf{p_{0}})\cdot\mathbf{n}=0   where   𝐧   𝐧   \mathbf{n}   is a normal vector to the plane and    𝐩  𝟎     subscript  𝐩  0    \mathbf{p_{0}}   is a point on the plane. (The notation    𝐚  ⋅  𝐛     normal-⋅  𝐚  𝐛    \mathbf{a}\cdot\mathbf{b}   denotes the dot product of the two vector   𝐚   𝐚   \mathbf{a}   and   𝐛   𝐛   \mathbf{b}   .)  The vector equation for a line is       𝐩  =    d  𝐥   +   𝐥  𝟎      d  ∈  ℝ      formulae-sequence    𝐩      d  𝐥    subscript  𝐥  0       d  ℝ     \mathbf{p}=d\mathbf{l}+\mathbf{l_{0}}\quad d\in\mathbb{R}   where   𝐥   𝐥   \mathbf{l}   is a vector in the direction of the line,    𝐥  𝟎     subscript  𝐥  0    \mathbf{l_{0}}   is a point on the line, and   d   d   d   is a scalar in the real number domain. Substitute the equation for the line into the equation for the plane gives        (     d  𝐥   +   𝐥  𝟎    -   𝐩  𝟎    )   ⋅  𝐧   =  0       normal-⋅        d  𝐥    subscript  𝐥  0     subscript  𝐩  0    𝐧   0    (d\mathbf{l}+\mathbf{l_{0}}-\mathbf{p_{0}})\cdot\mathbf{n}=0   Expanding gives         d  𝐥   ⋅  𝐧   +    (    𝐥  𝟎   -   𝐩  𝟎    )   ⋅  𝐧    =  0         normal-⋅    d  𝐥   𝐧    normal-⋅     subscript  𝐥  0    subscript  𝐩  0    𝐧    0    d\mathbf{l}\cdot\mathbf{n}+(\mathbf{l_{0}}-\mathbf{p_{0}})\cdot\mathbf{n}=0   And solve for   d   d   d          d  =     (    𝐩  𝟎   -   𝐥  𝟎    )   ⋅  𝐧    𝐥  ⋅  𝐧     .      d     normal-⋅     subscript  𝐩  0    subscript  𝐥  0    𝐧    normal-⋅  𝐥  𝐧      d={(\mathbf{p_{0}}-\mathbf{l_{0}})\cdot\mathbf{n}\over\mathbf{l}\cdot\mathbf{n%
 }}.     If     𝐥  ⋅  𝐧   =  0       normal-⋅  𝐥  𝐧   0    \mathbf{l}\cdot\mathbf{n}=0   then the line and plane are parallel. There will be two cases: if      (    𝐩  𝟎   -   𝐥  𝟎    )   ⋅  𝐧   =  0       normal-⋅     subscript  𝐩  0    subscript  𝐥  0    𝐧   0    (\mathbf{p_{0}}-\mathbf{l_{0}})\cdot\mathbf{n}=0   then the line is contained in the plane, that is, the line intersects the plane at each point of the line. Otherwise, the line and plane have no intersection.  If     𝐥  ⋅  𝐧   ≠  0       normal-⋅  𝐥  𝐧   0    \mathbf{l}\cdot\mathbf{n}\neq 0   there is a single point of intersection. The value of   d   d   d   can be calculated and the point of intersection is given by       d  𝐥   +   𝐥  𝟎         d  𝐥    subscript  𝐥  0     d\mathbf{l}+\mathbf{l_{0}}   .  Parametric form  A line is described by all points that are a given direction from a point. Thus a general point on a line can be represented as         𝐥  a   +    (    𝐥  b   -   𝐥  a    )   t    ,  t   ∈  ℝ          subscript  𝐥  a        subscript  𝐥  b    subscript  𝐥  a    t    t   ℝ    \mathbf{l}_{a}+(\mathbf{l}_{b}-\mathbf{l}_{a})t,\quad t\in\mathbb{R}     where     𝐥  a   =   (   x  a   ,   y  a   ,   z  a   )        subscript  𝐥  a     subscript  x  a    subscript  y  a    subscript  z  a      \mathbf{l}_{a}=(x_{a},y_{a},z_{a})   and     𝐥  b   =   (   x  b   ,   y  b   ,   z  b   )        subscript  𝐥  b     subscript  x  b    subscript  y  b    subscript  z  b      \mathbf{l}_{b}=(x_{b},y_{b},z_{b})   are two distinct points along the line.  Similarly a general point on a plane can be represented as         𝐩  0   +    (    𝐩  1   -   𝐩  0    )   u   +    (    𝐩  2   -   𝐩  0    )   v    ,  u  ,  v   ∈  ℝ          subscript  𝐩  0        subscript  𝐩  1    subscript  𝐩  0    u        subscript  𝐩  2    subscript  𝐩  0    v    u  v   ℝ    \mathbf{p}_{0}+(\mathbf{p}_{1}-\mathbf{p}_{0})u+(\mathbf{p}_{2}-\mathbf{p}_{0}%
 )v,\quad u,v\in\mathbb{R}     where     𝐩  k   =   (   x  k   ,   y  k   ,   z  k   )        subscript  𝐩  k     subscript  x  k    subscript  y  k    subscript  z  k      \mathbf{p}_{k}=(x_{k},y_{k},z_{k})   ,    k  =   0  ,  1  ,  2       k   0  1  2     k=0,1,2   are three points in the plane which are not co-linear.  The point at which the line intersects the plane is therefore described by setting the point on the line equal to the point on the plane, giving the parametric equation:        𝐥  a   +    (    𝐥  b   -   𝐥  a    )   t    =    𝐩  0   +    (    𝐩  1   -   𝐩  0    )   u   +    (    𝐩  2   -   𝐩  0    )   v           subscript  𝐥  a        subscript  𝐥  b    subscript  𝐥  a    t       subscript  𝐩  0        subscript  𝐩  1    subscript  𝐩  0    u        subscript  𝐩  2    subscript  𝐩  0    v      \mathbf{l}_{a}+(\mathbf{l}_{b}-\mathbf{l}_{a})t=\mathbf{p}_{0}+(\mathbf{p}_{1}%
 -\mathbf{p}_{0})u+(\mathbf{p}_{2}-\mathbf{p}_{0})v   This can be rewritten as         𝐥  a   -   𝐩  0    =     (    𝐥  a   -   𝐥  b    )   t   +    (    𝐩  1   -   𝐩  0    )   u   +    (    𝐩  2   -   𝐩  0    )   v     ,         subscript  𝐥  a    subscript  𝐩  0           subscript  𝐥  a    subscript  𝐥  b    t        subscript  𝐩  1    subscript  𝐩  0    u        subscript  𝐩  2    subscript  𝐩  0    v      \mathbf{l}_{a}-\mathbf{p}_{0}=(\mathbf{l}_{a}-\mathbf{l}_{b})t+(\mathbf{p}_{1}%
 -\mathbf{p}_{0})u+(\mathbf{p}_{2}-\mathbf{p}_{0})v,   which can be expressed in matrix form as:       [       x  a   -   x  0          y  a   -   y  0          z  a   -   z  0       ]   =    [       x  a   -   x  b        x  1   -   x  0        x  2   -   x  0          y  a   -   y  b        y  1   -   y  0        y  2   -   y  0          z  a   -   z  b        z  1   -   z  0        z  2   -   z  0       ]    [     t      u      v     ]             subscript  x  a    subscript  x  0         subscript  y  a    subscript  y  0         subscript  z  a    subscript  z  0             subscript  x  a    subscript  x  b       subscript  x  1    subscript  x  0       subscript  x  2    subscript  x  0         subscript  y  a    subscript  y  b       subscript  y  1    subscript  y  0       subscript  y  2    subscript  y  0         subscript  z  a    subscript  z  b       subscript  z  1    subscript  z  0       subscript  z  2    subscript  z  0        t    u    v       \begin{bmatrix}x_{a}-x_{0}\\
 y_{a}-y_{0}\\
 z_{a}-z_{0}\end{bmatrix}=\begin{bmatrix}x_{a}-x_{b}&x_{1}-x_{0}&x_{2}-x_{0}\\
 y_{a}-y_{b}&y_{1}-y_{0}&y_{2}-y_{0}\\
 z_{a}-z_{b}&z_{1}-z_{0}&z_{2}-z_{0}\end{bmatrix}\begin{bmatrix}t\\
 u\\
 v\end{bmatrix}     The point of intersection is then equal to       𝐥  a   +    (    𝐥  b   -   𝐥  a    )   t        subscript  𝐥  a        subscript  𝐥  b    subscript  𝐥  a    t     \mathbf{l}_{a}+(\mathbf{l}_{b}-\mathbf{l}_{a})t     If the line is parallel to the plane then the vectors     𝐥  b   -   𝐥  a        subscript  𝐥  b    subscript  𝐥  a     \mathbf{l}_{b}-\mathbf{l}_{a}   ,     𝐩  1   -   𝐩  0        subscript  𝐩  1    subscript  𝐩  0     \mathbf{p}_{1}-\mathbf{p}_{0}   , and     𝐩  2   -   𝐩  0        subscript  𝐩  2    subscript  𝐩  0     \mathbf{p}_{2}-\mathbf{p}_{0}   will be linearly dependent and the matrix will be singular. This situation will also occur when the line lies in the plane.  If the solution satisfies the condition     t  ∈   [  0  ,  1  ]    ,      t   0  1     t\in[0,1],   , then the intersection point is on the line between    𝐥  a     subscript  𝐥  a    \mathbf{l}_{a}   and    𝐥  b     subscript  𝐥  b    \mathbf{l}_{b}   .  If the solution satisfies         u  ,  v   ∈   [  0  ,  1  ]    ,    (   u  +  v   )   ≤  1    ,     formulae-sequence     u  v    0  1        u  v   1     u,v\in[0,1],\;\;\;(u+v)\leq 1,   then the intersection point is in the plane inside the triangle spanned by the three points    𝐩  0     subscript  𝐩  0    \mathbf{p}_{0}   ,    𝐩  1     subscript  𝐩  1    \mathbf{p}_{1}   and    𝐩  2     subscript  𝐩  2    \mathbf{p}_{2}   .  This problem is typically solved by expressing it in matrix form, and inverting it:        [     t      u      v     ]   =     [       x  a   -   x  b        x  1   -   x  0        x  2   -   x  0          y  a   -   y  b        y  1   -   y  0        y  2   -   y  0          z  a   -   z  b        z  1   -   z  0        z  2   -   z  0       ]    -  1     [       x  a   -   x  0          y  a   -   y  0          z  a   -   z  0       ]     .        t    u    v       superscript       subscript  x  a    subscript  x  b       subscript  x  1    subscript  x  0       subscript  x  2    subscript  x  0         subscript  y  a    subscript  y  b       subscript  y  1    subscript  y  0       subscript  y  2    subscript  y  0         subscript  z  a    subscript  z  b       subscript  z  1    subscript  z  0       subscript  z  2    subscript  z  0        1         subscript  x  a    subscript  x  0         subscript  y  a    subscript  y  0         subscript  z  a    subscript  z  0         \begin{bmatrix}t\\
 u\\
 v\end{bmatrix}=\begin{bmatrix}x_{a}-x_{b}&x_{1}-x_{0}&x_{2}-x_{0}\\
 y_{a}-y_{b}&y_{1}-y_{0}&y_{2}-y_{0}\\
 z_{a}-z_{b}&z_{1}-z_{0}&z_{2}-z_{0}\end{bmatrix}^{-1}\begin{bmatrix}x_{a}-x_{0%
 }\\
 y_{a}-y_{0}\\
 z_{a}-z_{0}\end{bmatrix}.     Uses  In the ray tracing method of computer graphics a surface can be represented as a set of pieces of planes. The intersection of a ray of light with each plane is used to produce an image of the surface. In vision-based 3D reconstruction, a subfield of computer vision, depth values are commonly measured by so-called triangulation method, which finds the intersection between light plane and ray reflected toward camera.  The algorithm can be generalised to cover intersection with other planar figures, in particular, the intersection of a polyhedron with a line .  See also   Plücker coordinates#Plane-line meet calculating the intersection when the line is expressed by Plücker coordinates.   cs:Analytická geometrie#Vzájemná poloha dvou rovin v třírozměrném prostoru "  Category:Euclidean geometry  Category:Computational physics  Category:Geometric algorithms   