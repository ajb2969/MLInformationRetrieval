   Factorization lemma      Factorization lemma   In measure theory , the factorization lemma allows us to express a function f with another function T if f is measurable with respect to T . An application of this is regression analysis .  Theorem  Let    T  :   Ω  →   Ω  ′       normal-:  T   normal-→  normal-Ω   superscript  normal-Ω  normal-′      T:\Omega\rightarrow\Omega^{\prime}   be a function of a set   Ω   normal-Ω   \Omega   in a measure space     (   Ω  ′   ,   𝒜  ′   )      superscript  normal-Ω  normal-′    superscript  𝒜  normal-′     (\Omega^{\prime},\mathcal{A}^{\prime})   and let    f  :   Ω  →   ℝ  ¯       normal-:  f   normal-→  normal-Ω   normal-¯  ℝ      f:\Omega\rightarrow\overline{\mathbb{R}}   be a scalar function on   Ω   normal-Ω   \Omega   . Then   f   f   f   is measurable with respect to the σ-algebra      σ   (  T  )    =    T   -  1     (   𝒜  ′   )          σ  T      superscript  T    1     superscript  𝒜  normal-′      \sigma(T)=T^{-1}(\mathcal{A}^{\prime})   generated by   T   T   T   in   Ω   normal-Ω   \Omega   if and only if there exists a measurable function    g  :    (   Ω  ′   ,   𝒜  ′   )   →   (   ℝ  ¯   ,   ℬ   (   ℝ  ¯   )    )       normal-:  g   normal-→    superscript  normal-Ω  normal-′    superscript  𝒜  normal-′      normal-¯  ℝ     ℬ   normal-¯  ℝ        g:(\Omega^{\prime},\mathcal{A}^{\prime})\rightarrow(\overline{\mathbb{R}},%
 \mathcal{B}(\overline{\mathbb{R}}))   such that    f  =   g  ∘  T       f    g  T     f=g\circ T   , where    ℬ   (   ℝ  ¯   )       ℬ   normal-¯  ℝ     \mathcal{B}(\overline{\mathbb{R}})   denotes the Borel set of the real numbers. If   f   f   f   only takes finite values, then   g   g   g   also only takes finite values.  Proof  First, if    f  =   g  ∘  T       f    g  T     f=g\circ T   , then f is     σ   (  T  )    -   ℬ   (   ℝ  ¯   )          σ  T     ℬ   normal-¯  ℝ      \sigma(T)-\mathcal{B}(\overline{\mathbb{R}})   measurable because it is the composition of a     σ   (  T  )    -   𝒜  ′         σ  T    superscript  𝒜  normal-′     \sigma(T)-\mathcal{A}^{\prime}   and of a     𝒜  ′   -   ℬ   (   ℝ  ¯   )         superscript  𝒜  normal-′     ℬ   normal-¯  ℝ      \mathcal{A}^{\prime}-\mathcal{B}(\overline{\mathbb{R}})   measurable function. The proof of the converse falls into four parts: (1) f is a step function , (2) f is a positive function, (3) f is any scalar function, (4) f only takes finite values.  f is a step function  Suppose    f  =    ∑   i  =  1   n     α  i    1   A  i          f    superscript   subscript     i  1    n      subscript  α  i    subscript  1   subscript  A  i        f=\sum_{i=1}^{n}\alpha_{i}1_{A_{i}}   is a step function, i.e.     n  ∈   ℕ  *    ,     ∀  i   ∈   [   [  1  ,  n  ]   ]    ,    A  i   ∈   σ   (  T  )         formulae-sequence    n   superscript  ℕ      formulae-sequence     for-all  i    delimited-[]   1  n        subscript  A  i     σ  T       n\in\mathbb{N}^{*},\forall i\in[\![1,n]\!],A_{i}\in\sigma(T)   and     α  i   ∈   ℝ  +        subscript  α  i    superscript  ℝ      \alpha_{i}\in\mathbb{R}^{+}   . As T is a measurable function, for all i , there exists     A  i  ′   ∈   𝒜  ′        superscript   subscript  A  i   normal-′    superscript  𝒜  normal-′     A_{i}^{\prime}\in\mathcal{A}^{\prime}   such that     A  i   =    T   -  1     (   A  i  ′   )         subscript  A  i      superscript  T    1     superscript   subscript  A  i   normal-′      A_{i}=T^{-1}(A_{i}^{\prime})   .    g  =    ∑   i  =  1   n     α  i    1   A  i  ′          g    superscript   subscript     i  1    n      subscript  α  i    subscript  1   superscript   subscript  A  i   normal-′        g=\sum_{i=1}^{n}\alpha_{i}1_{A_{i}^{\prime}}   fulfils the requirements.  f takes only positive values  If f takes only positive values, it is the limit of a sequence     (   u  n   )    n  ∈  ℕ      subscript   subscript  u  n     n  ℕ     (u_{n})_{n\in\mathbb{N}}   of step functions. For each of these, by (1), there exists    g  n     subscript  g  n    g_{n}   such that     u  n   =    g  n   ∘  T        subscript  u  n      subscript  g  n   T     u_{n}=g_{n}\circ T   . The function     lim   n  →   +  ∞      g  n       subscript    normal-→  n         subscript  g  n     \lim_{n\rightarrow+\infty}g_{n}   fulfils the requirements.  General case  We can decompose f in a positive part    f  +     superscript  f     f^{+}   and a negative part    f  -     superscript  f     f^{-}   . We can then find    g  0  +     superscript   subscript  g  0      g_{0}^{+}   and    g  0  -     superscript   subscript  g  0      g_{0}^{-}   such that     f  +   =    g  0  +   ∘  T        superscript  f       superscript   subscript  g  0     T     f^{+}=g_{0}^{+}\circ T   and     f  -   =    g  0  -   ∘  T        superscript  f       superscript   subscript  g  0     T     f^{-}=g_{0}^{-}\circ T   . The problem is that the difference    g  :=    g  +   -   g  -       assign  g     superscript  g     superscript  g       g:=g^{+}-g^{-}   is not defined on the set    U  =    {  x  :     g  0  +    (  x  )    =   +  ∞    }   ∩   {  x  :     g  0  -    (  x  )    =   +  ∞    }        U     conditional-set  x       superscript   subscript  g  0     x          conditional-set  x       superscript   subscript  g  0     x            U=\{x:g_{0}^{+}(x)=+\infty\}\cap\{x:g_{0}^{-}(x)=+\infty\}   . Fortunately,      T   (  Ω  )    ∩  U   =  ∅          T  normal-Ω   U      T(\Omega)\cap U=\varnothing   because      g  0  +    (   T   (  ω  )    )    =    f  +    (  ω  )    =   +  ∞            superscript   subscript  g  0       T  ω       superscript  f    ω               g_{0}^{+}(T(\omega))=f^{+}(\omega)=+\infty   always implies      g  0  -    (   T   (  ω  )    )    =    f  -    (  ω  )    =  0           superscript   subscript  g  0       T  ω       superscript  f    ω        0     g_{0}^{-}(T(\omega))=f^{-}(\omega)=0   We define     g  +   =    1    Ω  ′   \  U     g  0  +         superscript  g       subscript  1   normal-\   superscript  normal-Ω  normal-′   U     superscript   subscript  g  0        g^{+}=1_{\Omega^{\prime}\backslash U}g_{0}^{+}   and     g  -   =    1    Ω  ′   \  U     g  0  -         superscript  g       subscript  1   normal-\   superscript  normal-Ω  normal-′   U     superscript   subscript  g  0        g^{-}=1_{\Omega^{\prime}\backslash U}g_{0}^{-}   .    g  =    g  +   -   g  -        g     superscript  g     superscript  g       g=g^{+}-g^{-}   fulfils the requirements.  f takes finite values only  If f takes finite values only, we will show that g also only takes finite values. Let     U  ′   =   {  ω  :    |   g   (  ω  )    |   =   +  ∞    }        superscript  U  normal-′    conditional-set  ω        g  ω            U^{\prime}=\{\omega:|g(\omega)|=+\infty\}   . Then     g  0   =    1    Ω  ′   \   U  ′     g        subscript  g  0      subscript  1   normal-\   superscript  normal-Ω  normal-′    superscript  U  normal-′     g     g_{0}=1_{\Omega^{\prime}\backslash U^{\prime}}g   fulfils the requirements because      U  ′   ∩   T   (  Ω  )     =  ∅         superscript  U  normal-′     T  normal-Ω       U^{\prime}\cap T(\Omega)=\varnothing   .  Importance of the measure space  If the function   f   f   f   is not scalar, but takes values in a different measurable space, such as   ℝ   ℝ   \mathbb{R}   with its trivial σ-algebra (the empty set, and the whole real line) instead of    ℬ   (  ℝ  )       ℬ  ℝ    \mathcal{B}(\mathbb{R})   , then the lemma becomes false (as the restrictions on   f   f   f   are much weaker).  References   Heinz Bauer, Ed. (1992) Maß- und Integrationstheorie . Walter de Gruyter edition. 11.7 Faktorisierungslemma p. 71-72.   "  Category:Measure theory  Category:Lemmas   