   Factorization lemma      Factorization lemma   In measure theory , the factorization lemma allows us to express a function f with another function T if f is measurable with respect to T . An application of this is regression analysis .  Theorem  Let    T  :   Î©  â†’   Î©  â€²       normal-:  T   normal-â†’  normal-Î©   superscript  normal-Î©  normal-â€²      T:\Omega\rightarrow\Omega^{\prime}   be a function of a set   Î©   normal-Î©   \Omega   in a measure space     (   Î©  â€²   ,   ğ’œ  â€²   )      superscript  normal-Î©  normal-â€²    superscript  ğ’œ  normal-â€²     (\Omega^{\prime},\mathcal{A}^{\prime})   and let    f  :   Î©  â†’   â„  Â¯       normal-:  f   normal-â†’  normal-Î©   normal-Â¯  â„      f:\Omega\rightarrow\overline{\mathbb{R}}   be a scalar function on   Î©   normal-Î©   \Omega   . Then   f   f   f   is measurable with respect to the Ïƒ-algebra      Ïƒ   (  T  )    =    T   -  1     (   ğ’œ  â€²   )          Ïƒ  T      superscript  T    1     superscript  ğ’œ  normal-â€²      \sigma(T)=T^{-1}(\mathcal{A}^{\prime})   generated by   T   T   T   in   Î©   normal-Î©   \Omega   if and only if there exists a measurable function    g  :    (   Î©  â€²   ,   ğ’œ  â€²   )   â†’   (   â„  Â¯   ,   â„¬   (   â„  Â¯   )    )       normal-:  g   normal-â†’    superscript  normal-Î©  normal-â€²    superscript  ğ’œ  normal-â€²      normal-Â¯  â„     â„¬   normal-Â¯  â„        g:(\Omega^{\prime},\mathcal{A}^{\prime})\rightarrow(\overline{\mathbb{R}},%
 \mathcal{B}(\overline{\mathbb{R}}))   such that    f  =   g  âˆ˜  T       f    g  T     f=g\circ T   , where    â„¬   (   â„  Â¯   )       â„¬   normal-Â¯  â„     \mathcal{B}(\overline{\mathbb{R}})   denotes the Borel set of the real numbers. If   f   f   f   only takes finite values, then   g   g   g   also only takes finite values.  Proof  First, if    f  =   g  âˆ˜  T       f    g  T     f=g\circ T   , then f is     Ïƒ   (  T  )    -   â„¬   (   â„  Â¯   )          Ïƒ  T     â„¬   normal-Â¯  â„      \sigma(T)-\mathcal{B}(\overline{\mathbb{R}})   measurable because it is the composition of a     Ïƒ   (  T  )    -   ğ’œ  â€²         Ïƒ  T    superscript  ğ’œ  normal-â€²     \sigma(T)-\mathcal{A}^{\prime}   and of a     ğ’œ  â€²   -   â„¬   (   â„  Â¯   )         superscript  ğ’œ  normal-â€²     â„¬   normal-Â¯  â„      \mathcal{A}^{\prime}-\mathcal{B}(\overline{\mathbb{R}})   measurable function. The proof of the converse falls into four parts: (1) f is a step function , (2) f is a positive function, (3) f is any scalar function, (4) f only takes finite values.  f is a step function  Suppose    f  =    âˆ‘   i  =  1   n     Î±  i    1   A  i          f    superscript   subscript     i  1    n      subscript  Î±  i    subscript  1   subscript  A  i        f=\sum_{i=1}^{n}\alpha_{i}1_{A_{i}}   is a step function, i.e.     n  âˆˆ   â„•  *    ,     âˆ€  i   âˆˆ   [   [  1  ,  n  ]   ]    ,    A  i   âˆˆ   Ïƒ   (  T  )         formulae-sequence    n   superscript  â„•      formulae-sequence     for-all  i    delimited-[]   1  n        subscript  A  i     Ïƒ  T       n\in\mathbb{N}^{*},\forall i\in[\![1,n]\!],A_{i}\in\sigma(T)   and     Î±  i   âˆˆ   â„  +        subscript  Î±  i    superscript  â„      \alpha_{i}\in\mathbb{R}^{+}   . As T is a measurable function, for all i , there exists     A  i  â€²   âˆˆ   ğ’œ  â€²        superscript   subscript  A  i   normal-â€²    superscript  ğ’œ  normal-â€²     A_{i}^{\prime}\in\mathcal{A}^{\prime}   such that     A  i   =    T   -  1     (   A  i  â€²   )         subscript  A  i      superscript  T    1     superscript   subscript  A  i   normal-â€²      A_{i}=T^{-1}(A_{i}^{\prime})   .    g  =    âˆ‘   i  =  1   n     Î±  i    1   A  i  â€²          g    superscript   subscript     i  1    n      subscript  Î±  i    subscript  1   superscript   subscript  A  i   normal-â€²        g=\sum_{i=1}^{n}\alpha_{i}1_{A_{i}^{\prime}}   fulfils the requirements.  f takes only positive values  If f takes only positive values, it is the limit of a sequence     (   u  n   )    n  âˆˆ  â„•      subscript   subscript  u  n     n  â„•     (u_{n})_{n\in\mathbb{N}}   of step functions. For each of these, by (1), there exists    g  n     subscript  g  n    g_{n}   such that     u  n   =    g  n   âˆ˜  T        subscript  u  n      subscript  g  n   T     u_{n}=g_{n}\circ T   . The function     lim   n  â†’   +  âˆ      g  n       subscript    normal-â†’  n         subscript  g  n     \lim_{n\rightarrow+\infty}g_{n}   fulfils the requirements.  General case  We can decompose f in a positive part    f  +     superscript  f     f^{+}   and a negative part    f  -     superscript  f     f^{-}   . We can then find    g  0  +     superscript   subscript  g  0      g_{0}^{+}   and    g  0  -     superscript   subscript  g  0      g_{0}^{-}   such that     f  +   =    g  0  +   âˆ˜  T        superscript  f       superscript   subscript  g  0     T     f^{+}=g_{0}^{+}\circ T   and     f  -   =    g  0  -   âˆ˜  T        superscript  f       superscript   subscript  g  0     T     f^{-}=g_{0}^{-}\circ T   . The problem is that the difference    g  :=    g  +   -   g  -       assign  g     superscript  g     superscript  g       g:=g^{+}-g^{-}   is not defined on the set    U  =    {  x  :     g  0  +    (  x  )    =   +  âˆ    }   âˆ©   {  x  :     g  0  -    (  x  )    =   +  âˆ    }        U     conditional-set  x       superscript   subscript  g  0     x          conditional-set  x       superscript   subscript  g  0     x            U=\{x:g_{0}^{+}(x)=+\infty\}\cap\{x:g_{0}^{-}(x)=+\infty\}   . Fortunately,      T   (  Î©  )    âˆ©  U   =  âˆ…          T  normal-Î©   U      T(\Omega)\cap U=\varnothing   because      g  0  +    (   T   (  Ï‰  )    )    =    f  +    (  Ï‰  )    =   +  âˆ            superscript   subscript  g  0       T  Ï‰       superscript  f    Ï‰               g_{0}^{+}(T(\omega))=f^{+}(\omega)=+\infty   always implies      g  0  -    (   T   (  Ï‰  )    )    =    f  -    (  Ï‰  )    =  0           superscript   subscript  g  0       T  Ï‰       superscript  f    Ï‰        0     g_{0}^{-}(T(\omega))=f^{-}(\omega)=0   We define     g  +   =    1    Î©  â€²   \  U     g  0  +         superscript  g       subscript  1   normal-\   superscript  normal-Î©  normal-â€²   U     superscript   subscript  g  0        g^{+}=1_{\Omega^{\prime}\backslash U}g_{0}^{+}   and     g  -   =    1    Î©  â€²   \  U     g  0  -         superscript  g       subscript  1   normal-\   superscript  normal-Î©  normal-â€²   U     superscript   subscript  g  0        g^{-}=1_{\Omega^{\prime}\backslash U}g_{0}^{-}   .    g  =    g  +   -   g  -        g     superscript  g     superscript  g       g=g^{+}-g^{-}   fulfils the requirements.  f takes finite values only  If f takes finite values only, we will show that g also only takes finite values. Let     U  â€²   =   {  Ï‰  :    |   g   (  Ï‰  )    |   =   +  âˆ    }        superscript  U  normal-â€²    conditional-set  Ï‰        g  Ï‰            U^{\prime}=\{\omega:|g(\omega)|=+\infty\}   . Then     g  0   =    1    Î©  â€²   \   U  â€²     g        subscript  g  0      subscript  1   normal-\   superscript  normal-Î©  normal-â€²    superscript  U  normal-â€²     g     g_{0}=1_{\Omega^{\prime}\backslash U^{\prime}}g   fulfils the requirements because      U  â€²   âˆ©   T   (  Î©  )     =  âˆ…         superscript  U  normal-â€²     T  normal-Î©       U^{\prime}\cap T(\Omega)=\varnothing   .  Importance of the measure space  If the function   f   f   f   is not scalar, but takes values in a different measurable space, such as   â„   â„   \mathbb{R}   with its trivial Ïƒ-algebra (the empty set, and the whole real line) instead of    â„¬   (  â„  )       â„¬  â„    \mathcal{B}(\mathbb{R})   , then the lemma becomes false (as the restrictions on   f   f   f   are much weaker).  References   Heinz Bauer, Ed. (1992) MaÃŸ- und Integrationstheorie . Walter de Gruyter edition. 11.7 Faktorisierungslemma p.Â 71-72.   "  Category:Measure theory  Category:Lemmas   