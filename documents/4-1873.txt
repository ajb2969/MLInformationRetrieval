   Exponential formula      Exponential formula   In combinatorial  mathematics , the exponential formula (called the polymer expansion in physics ) states that the exponential generating function for structures on finite sets is the exponential of the exponential generating function for connected structures. The exponential formula is a power-series version of a special case of Faà di Bruno's formula .  Statement  For any formal power series of the form       f   (  x  )    =     a  1   x   +     a  2   2    x  2    +     a  3   6    x  3    +  ⋯  +     a  n    n  !     x  n    +   ⋯          f  x        subscript  a  1   x        subscript  a  2   2    superscript  x  2         subscript  a  3   6    superscript  x  3    normal-⋯       subscript  a  n     n     superscript  x  n    normal-⋯     f(x)=a_{1}x+{a_{2}\over 2}x^{2}+{a_{3}\over 6}x^{3}+\cdots+{a_{n}\over n!}x^{n%
 }+\cdots\,     we have         exp  f    (  x  )    =   e   f   (  x  )     =    ∑   n  =  0   ∞      b  n    n  !     x  n      ,            f   x    superscript  e    f  x           superscript   subscript     n  0           subscript  b  n     n     superscript  x  n        \exp f(x)=e^{f(x)}=\sum_{n=0}^{\infty}{b_{n}\over n!}x^{n},\,     where        b  n   =    ∑   π  =   {   S  1   ,  …  ,    S  k    }       a   |   S  1   |    ⋯   a   |   S  k   |       ,       subscript  b  n     subscript     π    subscript  S  1   normal-…   subscript  S  k         subscript  a     subscript  S  1     normal-⋯   subscript  a     subscript  S  k         b_{n}=\sum_{\pi=\left\{\,S_{1},\,\dots,\,S_{k}\,\right\}}a_{\left|S_{1}\right|%
 }\cdots a_{\left|S_{k}\right|},     and the index π runs through the list of all partitions { S 1 , ..., S k } of the set { 1, ..., n }. (When k = 0, the product is empty and by definition equals 1.)  One can write the formula in the following form:        b  n   =    B  n    (   a  1   ,   a  2   ,  …  ,   a  n   )     ,       subscript  b  n      subscript  B  n     subscript  a  1    subscript  a  2   normal-…   subscript  a  n       b_{n}=B_{n}(a_{1},a_{2},\dots,a_{n}),   and thus        exp   (    ∑   n  =  1   ∞      a  n    n  !     x  n     )    =    ∑   n  =  0   ∞       B  n    (   a  1   ,  …  ,   a  n   )     n  !     x  n      ,          superscript   subscript     n  1           subscript  a  n     n     superscript  x  n        superscript   subscript     n  0             subscript  B  n     subscript  a  1   normal-…   subscript  a  n       n     superscript  x  n       \exp\left(\sum_{n=1}^{\infty}{a_{n}\over n!}x^{n}\right)=\sum_{n=0}^{\infty}{B%
 _{n}(a_{1},\dots,a_{n})\over n!}x^{n},   where B n ( a 1 , ..., a n ) is the n th complete Bell polynomial .  Examples         b  3   =    B  3    (   a  1   ,   a  2   ,   a  3   )    =    a  3   +   3   a  2    a  1    +   a  1  3     ,         subscript  b  3      subscript  B  3     subscript  a  1    subscript  a  2    subscript  a  3             subscript  a  3     3   subscript  a  2    subscript  a  1     superscript   subscript  a  1   3       b_{3}=B_{3}(a_{1},a_{2},a_{3})=a_{3}+3a_{2}a_{1}+a_{1}^{3},   because there is one partition of the set { 1, 2, 3 } that has a single block of size 3, there are three partitions of { 1, 2, 3 } that split it into a block of size 2 and a block of size 1, and there is one partition of { 1, 2, 3 } that splits it into three blocks of size 1.  If b n = 2 n ( n −1)/2 is the number of graphs whose vertices are a given n -point set, then a n is the number of connected graphs whose vertices are a given n -point set.  There are numerous variations of the previous example where the graph has certain properties: for example, if b n counts graphs without cycles, then a n counts trees (connected grphs without cycles).  If b n counts directed graphs whose edges (rather than vertices) are a given n point set, then a n counts connected directed graphs with this edge set.   Applications  In applications, the numbers a n often count the number of some sort of "connected" structure on an n -point set, and the numbers b n count the number of (possibly disconnected) structures. The numbers b n / n ! count the number of isomorphism classes of structures on n points, with each structure being weighted by the reciprocal of its automorphism group, and the numbers a n / n ! count isomorphism classes of connected structures in the same way.  In quantum field theory and statistical mechanics, the partition functions  Z , or more generally correlation functions , are given by a formal sum over Feynman diagrams . The exponential formula shows that log( Z ) can be written as a sum over connected Feynman diagrams, in terms of connected correlation functions .  References    Chapter 5   "  Category:Exponentials  Category:Enumerative combinatorics   