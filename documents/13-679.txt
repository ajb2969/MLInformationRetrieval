   Computer stereo vision      Computer stereo vision   Computer stereo vision is the extraction of 3D information from digital images, such as obtained by a CCD camera . By comparing information about a scene from two vantage points, 3D information can be extracted by examination of the relative positions of objects in the two panels. This is similar to the biological process Stereopsis .  Outline  In traditional stereo vision, two cameras, displaced horizontally from one another are used to obtain two differing views on a scene, in a manner similar to human binocular vision . By comparing these two images, the relative depth information can be obtained, in the form of disparities, which are inversely proportional to the differences in distance to the objects.  To compare the images, the two views must be superimposed in a stereoscopic device, the image from the right camera being shown to the observer's right eye and from the left one to the left eye.  In real camera systems however, several pre-processing steps are required. 1   The image must first be removed of distortions, such as barrel distortion to ensure that the observed image is purely projectional.  The image must be projected back to a common plane to allow comparison of the image pairs, known as image rectification .  An information measure which compares the two images is minimized. This gives the best estimate of the position of features in the two images, and creates a disparity map .  Optionally, the disparity as observed by the common projection, is converted back to the height map by inversion. Utilising the correct proportionality constant, the height map can be calibrated to provide exact distances.   Active stereo vision  The active stereo vision is a form of stereo vision which actively employs a light such as a laser or a structured light to simplify the stereo matching problem. The opposed term is passive stereo vision.  Conventional structured-light vision (SLV)  The conventional structured-light vision (SLV) employs a structured light or laser, and finds projector-camera correspondences. 2 3  Conventional active stereo vision (ASV)  The conventional active stereo vision (ASV) employs a structured light or laser, however, the stereo matching is performed only for camera-camera correspondences, in the same way as the passive stereo vision.  Structured-light stereo (SLS) 4  There is a hybrid technique, which utilizes both camera-camera and projector-camera correspondences. 5  Applications  3D stereo displays finds many applications in entertainment, information transfer and automated systems. Stereo vision is highly important in fields such as robotics , to extract information about the relative position of 3D objects in the vicinity of autonomous systems. Other applications for robotics include object recognition, where depth information allows for the system to separate occluding image components, such as one chair in front of another, which the robot may otherwise not be able to distinguish as a separate object by any other criteria.  Scientific applications for digital stereo vision include the extraction of information from aerial surveys , for calculation of contour maps or even geometry extraction for 3D building mapping, or calculation of 3D heliographical information such as obtained by the NASA STEREO project.  Detailed definition  (Figure)  Diagram describing relationship of image displacement to depth with stereoscopic images, assuming flat co-planar images.   A pixel records color at a position. The position is identified by position in the grid of pixels (x, y) and depth to the pixel z.  Stereoscopic vision gives two images of the same scene, from different positions. In the diagram on the right light from the point A is transmitted through the entry points of a pinhole cameras at B and D , onto image screens at E and H .  In the attached diagram the distance between the centers of the two camera lens is BD = BC + CD . The triangles are similar,   ACB and BFE  ACD and DGH          Therefore displacement  d       =    E  F   +   G  H            =   B  F   (      E  F    B  F     +     G  H    B  F      )            =   B  F   (      E  F    B  F     +     G  H    D  G      )            =   B  F   (      B  C   +   C  D     A  C     )            =   B  F     B  D    A  C              =     k  z    , where            Therefore displacement  d     absent      E  F     G  H        missing-subexpression     absent    B  F        E  F     B  F        G  H     B  F          missing-subexpression     absent    B  F        E  F     B  F        G  H     D  G          missing-subexpression     absent    B  F        B  C     C  D      A  C         missing-subexpression     absent    B  F      B  D     A  C         missing-subexpression     absent      k  z   , where       \begin{aligned}\displaystyle\text{Therefore displacement }d&\displaystyle=EF+%
 GH\\
 &\displaystyle=BF(\frac{EF}{BF}+\frac{GH}{BF})\\
 &\displaystyle=BF(\frac{EF}{BF}+\frac{GH}{DG})\\
 &\displaystyle=BF(\frac{BC+CD}{AC})\\
 &\displaystyle=BF\frac{BD}{AC}\\
 &\displaystyle=\frac{k}{z}\text{, where}\\
 \end{aligned}      k = BD BF  z = AC is the distance from the camera plane to the object.   So assuming the cameras are level, and image planes are flat on the same plane, the displacement in the y axis between the same pixel in the two images is,      d  =   k  z       d    k  z     d=\frac{k}{z}     Where k is the distance between the two cameras times the distance from the lens to the image.  The depth component in the two images are    z  1     subscript  z  1    z_{1}   and    z  2     subscript  z  2    z_{2}   , given by,        z  2    (  x  ,  y  )    =   min   {   v  :   v  =    z  1    (  x  ,   y  -   k    z  1    (  x  ,  y  )      )      }           subscript  z  2    x  y       normal-:  v    v     subscript  z  1    x    y    k     subscript  z  1    x  y             z_{2}(x,y)=\min\left\{v:v=z_{1}(x,y-\frac{k}{z_{1}(x,y)})\right\}           z  1    (  x  ,  y  )    =   min   {   v  :   v  =    z  2    (  x  ,   y  +   k    z  2    (  x  ,  y  )      )      }           subscript  z  1    x  y       normal-:  v    v     subscript  z  2    x    y    k     subscript  z  2    x  y             z_{1}(x,y)=\min\left\{v:v=z_{2}(x,y+\frac{k}{z_{2}(x,y)})\right\}     These formulas allow for the occlusion of voxels , seen in one image on the surface of the object, by closer voxels seen in the other image, on the surface of the object.  Image Rectification  Where the image planes are not co-planar image rectification is required to adjust the images as if they were co-planar. This may be achieved by a linear transformation.  The images may also need rectification to make each image equivalent to the image taken from a pinhole camera projecting to a flat plane.  Least squares information measure  The normal distribution is       P   (  x  ,  μ  ,  σ  )    =    1   σ    2  π       e   -     (   x  -  μ   )   2    2   σ  2              P   x  μ  σ        1    σ      2  π       superscript  e       superscript    x  μ   2     2   superscript  σ  2          P(x,\mu,\sigma)=\frac{1}{\sigma\sqrt{2\pi}}e^{-\frac{(x-\mu)^{2}}{2\sigma^{2}}}     Probability is related to information content described by message length  L ,       P   (  x  )    =   2   -   L   (  x  )            P  x    superscript  2      L  x       P(x)=2^{-L(x)}          L   (  x  )    =   -     log  2   P    (  x  )           L  x         subscript   2   P   x      L(x)=-\log_{2}{P(x)}     so,       L   (  x  ,  μ  ,  σ  )    =     log  2    (   σ    2  π     )    +      (   x  -  μ   )   2    2   σ  2       log  2   e           L   x  μ  σ        subscript   2     σ      2  π           superscript    x  μ   2     2   superscript  σ  2       subscript   2   e       L(x,\mu,\sigma)=\log_{2}(\sigma\sqrt{2\pi})+\frac{(x-\mu)^{2}}{2\sigma^{2}}%
 \log_{2}e     For the purposes of comparing stereoscopic images, only the relative message length matters. Based on this, the information measure I , called the Sum of Squares of Differences (SSD) is,       I   (  x  ,  μ  ,  σ  )    =     (   x  -  μ   )   2    σ  2          I   x  μ  σ       superscript    x  μ   2    superscript  σ  2      I(x,\mu,\sigma)=\frac{(x-\mu)^{2}}{\sigma^{2}}     where,       L   (  x  ,  μ  ,  σ  )    =     log  2    (   σ    2  π     )    +   I   (  x  ,  μ  ,  σ  )      log  2   e   2           L   x  μ  σ        subscript   2     σ      2  π        I   x  μ  σ       subscript   2   e   2       L(x,\mu,\sigma)=\log_{2}(\sigma\sqrt{2\pi})+I(x,\mu,\sigma)\frac{\log_{2}e}{2}     Other measures of information content  Because of the cost in processing time of squaring numbers in SSD, many implementations use Sum of Absolute Difference (SAD) as the basis for computing the information measure. Other methods use normalized cross correlation (NCC).  Information measure for stereoscopic images  The least squares measure may be used to measure the information content of the stereoscopic images , 6 given depths at each point    z   (  x  ,  y  )       z   x  y     z(x,y)   . Firstly the information needed to express one image in terms of the other is derived. This is called    I  m     subscript  I  m    I_{m}   .  A color difference function should be used to fairly measure the difference between colors. The color difference function is written cd in the following. The measure of the information needed to record the color matching between the two images is,       I  m    (   z  1   ,   z  2   )   =   1   σ  m  2     ∑   x  ,  y    cd    (   color  1    (  x  ,  y  +   k    z  1    (  x  ,  y  )     )   ,   color  2    (  x  ,  y  )   )   2      fragments   subscript  I  m    fragments  normal-(   subscript  z  1   normal-,   subscript  z  2   normal-)      1   superscript   subscript  σ  m   2     subscript    x  y    cd   superscript   fragments  normal-(   subscript  color  1    fragments  normal-(  x  normal-,  y     k     subscript  z  1    x  y     normal-)   normal-,   subscript  color  2    fragments  normal-(  x  normal-,  y  normal-)   normal-)   2     I_{m}(z_{1},z_{2})=\frac{1}{\sigma_{m}^{2}}\sum_{x,y}\operatorname{cd}(%
 \operatorname{color}_{1}(x,y+\frac{k}{z_{1}(x,y)}),\operatorname{color}_{2}(x,%
 y))^{2}     An assumption is made about the smoothness of the image. Assume that two pixels are more likely to be the same color, the closer the voxels they represent are. This measure is intended to favor colors that are similar being grouped at the same depth. For example if an object in front occludes an area of sky behind, the measure of smoothness favors the blue pixels all being grouped together at the same depth.  The total measure of smoothness uses the distance between voxels as an estimate of the expected standard deviation of the color difference,        I  s    (   z  1   ,   z  2   )    =    1   2   σ  h  2       ∑   i  :   {  1  ,  2  }       ∑    x  1   ,   y  1       ∑    x  2   ,   y  2       cd    (   color  i    (   x  1   ,   y  1   )   ,   color  i    (   x  2   ,   y  2   )   )   2       (    x  1   -   x  2    )   2   +    (    y  1   -   y  2    )   2   +    (     z  i    (   x  1   ,   y  1   )    -    z  i    (   x  2   ,   y  2   )     )   2                subscript  I  s     subscript  z  1    subscript  z  2         1    2   superscript   subscript  σ  h   2       subscript    normal-:  i   1  2       subscript     subscript  x  1    subscript  y  1       subscript     subscript  x  2    subscript  y  2        fragments  cd   superscript   fragments  normal-(   subscript  color  i    fragments  normal-(   subscript  x  1   normal-,   subscript  y  1   normal-)   normal-,   subscript  color  i    fragments  normal-(   subscript  x  2   normal-,   subscript  y  2   normal-)   normal-)   2       superscript     subscript  x  1    subscript  x  2    2    superscript     subscript  y  1    subscript  y  2    2    superscript       subscript  z  i     subscript  x  1    subscript  y  1        subscript  z  i     subscript  x  2    subscript  y  2      2           I_{s}(z_{1},z_{2})=\frac{1}{2\sigma_{h}^{2}}\sum_{i:\{1,2\}}\sum_{x_{1},y_{1}}%
 \sum_{x_{2},y_{2}}\frac{\operatorname{cd}(\operatorname{color}_{i}(x_{1},y_{1}%
 ),\operatorname{color}_{i}(x_{2},y_{2}))^{2}}{(x_{1}-x_{2})^{2}+(y_{1}-y_{2})^%
 {2}+(z_{i}(x_{1},y_{1})-z_{i}(x_{2},y_{2}))^{2}}     The total information content is then the sum,        I  t    (   z  1   ,   z  2   )    =     I  m    (   z  1   ,   z  2   )    +    I  s    (   z  1   ,   z  2   )            subscript  I  t     subscript  z  1    subscript  z  2          subscript  I  m     subscript  z  1    subscript  z  2        subscript  I  s     subscript  z  1    subscript  z  2        I_{t}(z_{1},z_{2})=I_{m}(z_{1},z_{2})+I_{s}(z_{1},z_{2})     The z component of each pixel must be chosen to give the minimum value for the information content. This will give the most likely depths at each pixel. The minimum total information measure is,       I  min   =  min   {  i  :  i  =   I  t    (   z  1   ,   z  2   )   }   }     fragments   subscript  I  min      fragments  normal-{  i  normal-:  i    subscript  I  t    fragments  normal-(   subscript  z  1   normal-,   subscript  z  2   normal-)   normal-}   normal-}    I_{\operatorname{min}}=\min{\{i:i=I_{t}(z_{1},z_{2})\}}\}     The depth functions for the left and right images are the pair,       (   z  1   ,   z  2   )   ∈   {   (   z  1   ,   z  2   )   :     I  t    (   z  1   ,   z  2   )    =   I  min    }         subscript  z  1    subscript  z  2     conditional-set    subscript  z  1    subscript  z  2         subscript  I  t     subscript  z  1    subscript  z  2      subscript  I  min       (z_{1},z_{2})\in\{(z_{1},z_{2}):I_{t}(z_{1},z_{2})=I_{\operatorname{min}}\}     Smoothness  Smoothness is a measure of how similar colors that are close together are. There is an assumption that objects are more likely to be colored with a small number of colors. So if we detect two pixels with the same color they most likely belong to the same object.  The method described above for evaluating smoothness is based on information theory, and an assumption that the influence of the color of a voxel influencing the color of nearby voxels according to the normal distribution on the distance between points. The model is based on approximate assumptions about the world.  Another method based on prior assumptions of smoothness is auto-correlation.  Smoothness is a property of the world. It is not inherently a property of an image. For example an image constructed of random dots would have no smoothness, and inferences about neighboring points would be useless.  Theoretically smoothness, along with other properties of the world should be learnt. This appears to be what the human vision system does.  Methods of implementation  The minimization problem is NP-complete . This means a general solution to this problem will take an unthinkably long time to reach a solution. However methods exist for computers based on heuristics that approximate the result in a reasonable amount of time. Also methods exist based on neural networks . 7 Efficient implementation of stereoscopic vision is an area of active research.  See also   3D scanner  Autostereoscopy  Epipolar geometry  Computer vision  Stereo camera  Stereoscopic Depth Rendition  Stereopsis  Stereophotogrammetry  3D reconstruction from multiple images   References  External links   Tutorial on uncalibrated stereo vision  Learn about stereo vision with MATLAB  Stereo Vision and Rover Navigation Software for Planetary Exploration   "  Category:Applications of computer vision  Category:Vision  Category:Stereoscopy  Category:Stereophotogrammetry     ↩  C. Je, S. W. Lee, and R.-H. Park. High-Contrast Color-Stripe Pattern for Rapid Structured-Light Range Imaging . Computer Vision – ECCV 2004, LNCS 3021, pp. 95–107, Springer-Verlag Berlin Heidelberg, May 10, 2004. ↩  C. Je, S. W. Lee, and R.-H. Park. Colour-Stripe Permutation Pattern for Rapid Structured-Light Range Imaging . Optics Communications, Volume 285, Issue 9, pp. 2320-2331, May 1, 2012. ↩  W. Jang, C. Je, Y. Seo, and S. W. Lee. Structured-Light Stereo: Comparative Analysis and Integration of Structured-Light and Active Stereo for Measuring Dynamic Shape . Optics and Lasers in Engineering, Volume 51, Issue 11, pp. 1255-1264, November, 2013. ↩   ↩  ↩     