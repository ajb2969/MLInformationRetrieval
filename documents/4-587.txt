   Curvilinear coordinates      Curvilinear coordinates   (Figure)  Curvilinear , affine , and Cartesian coordinates in two-dimensional space   In geometry , curvilinear coordinates are a coordinate system for Euclidean space in which the coordinate lines may be curved. These coordinates may be derived from a set of Cartesian coordinates by using a transformation that is locally invertible (a one-to-one map) at each point. This means that one can convert a point given in a Cartesian coordinate system to its curvilinear coordinates and back. The name curvilinear coordinates , coined by the French mathematician LamÃ© , derives from the fact that the coordinate surfaces of the curvilinear systems are curved.  Well-known examples of curvilinear coordinate systems in three-dimensional Euclidean space ( R 3 ) are Cartesian , cylindrical and spherical polar coordinates. A Cartesian coordinate surface in this space is a plane; for example z = 0 defines the x - y plane. In the same space, the coordinate surface r = 1 in spherical polar coordinates is the surface of a unit sphere , which is curved. The formalism of curvilinear coordinates provides a unified and general description of the standard coordinate systems.  Curvilinear coordinates are often used to define the location or distribution of physical quantities which may be, for example, scalars , vectors , or tensors . Mathematical expressions involving these quantities in vector calculus and tensor analysis (such as the gradient , divergence , curl , and Laplacian ) can be transformed from one coordinate system to another, according to transformation rules for scalars, vectors, and tensors. Such expressions then become valid for any curvilinear coordinate system.  Depending on the application, a curvilinear coordinate system may be simpler to use than the Cartesian coordinate system. For instance, a physical problem with spherical symmetry defined in R 3 (for example, motion of particles under the influence of central forces ) is usually easier to solve in spherical polar coordinates than in Cartesian coordinates. Equations with boundary conditions that follow coordinate surfaces for a particular curvilinear coordinate system may be easier to solve in that system. One would for instance describe the motion of a particle in a rectangular box in Cartesian coordinates, whereas one would prefer spherical coordinates for a particle in a sphere. Spherical coordinates are one of the most used curvilinear coordinate systems in such fields as Earth sciences , cartography , and physics (in particular quantum mechanics , relativity ), and engineering .  Orthogonal curvilinear coordinates in 3d  Coordinates, basis, and vectors  [[ File:Spherical coordinate elements.svg|thumb|right|350px|Fig. 2 - Coordinate surfaces, coordinate lines, and coordinate axes of spherical coordinates. Surfaces:  r - spheres, Î¸ - cones, Ï† - half-planes; Lines:  r - straight beams, Î¸ - vertical semicircles, Ï† - horizontal circles;  Axes:  r - straight beams, Î¸ - tangents to vertical semicircles, Ï† - tangents to horizontal circles]]  For now, consider 3d space . A point P in 3d space can be defined using Cartesian coordinates ( x , y , z ) [equivalently written ( x 1 , x 2 , x 3 )], or in another system ( q 1 , q 2 , q 3 ), as shown in Fig. 1. The latter is a curvilinear coordinate system , and ( q 1 , q 2 , q 3 ) are the curvilinear coordinates of the point P .  The surfaces q 1 = constant, q 2 = constant, q 3 = constant are called the coordinate surfaces ; and the space curves formed by their intersection in pairs are called the coordinate curves . The coordinate axes are determined by the tangents to the coordinate curves at the intersection of three surfaces. They are not in general fixed directions in space, which happens to be the case for simple Cartesian coordinates.  A basis whose vectors change their direction and/or magnitude from point to point is called local basis . All bases associated with curvilinear coordinates are necessarily local. Basis vectors that are the same at all points are global bases , and can be associated only with linear or affine coordinate systems .  The relation between the coordinates is given by the invertible transformation functions:       x  =   f   (   q  1   ,   q  2   ,   q  3   )     ,    y  =   f   (   q  1   ,   q  2   ,   q  3   )     ,   z  =   f   (   q  1   ,   q  2   ,   q  3   )         formulae-sequence    x    f    subscript  q  1    subscript  q  2    subscript  q  3       formulae-sequence    y    f    subscript  q  1    subscript  q  2    subscript  q  3        z    f    subscript  q  1    subscript  q  2    subscript  q  3         x=f(q_{1},q_{2},q_{3}),\,y=f(q_{1},q_{2},q_{3}),\,z=f(q_{1},q_{2},q_{3})           q  1   =   f   (  x  ,  y  ,  z  )     ,     q  2   =   f   (  x  ,  y  ,  z  )     ,    q  3   =   f   (  x  ,  y  ,  z  )         formulae-sequence     subscript  q  1     f   x  y  z      formulae-sequence     subscript  q  2     f   x  y  z        subscript  q  3     f   x  y  z        q_{1}=f(x,y,z),\,q_{2}=f(x,y,z),\,q_{3}=f(x,y,z)     The point P can be written as a position vector  r in Cartesian coordinates:      ğ«  =    x   ğ  x    +   y   ğ  y    +   z   ğ  z         ğ«      x   subscript  ğ  x      y   subscript  ğ  y      z   subscript  ğ  z       \mathbf{r}=x\mathbf{e}_{x}+y\mathbf{e}_{y}+z\mathbf{e}_{z}     where x, y, z are the coordinates of the position vector with respect to the standard  basis vectors  e x , e y , e z .  Note: for this article e is reserved for the standard basis (Cartesian) and b is for the curvilinear basis.  However, in a general curvilinear system, there may well not be any natural global basis vectors. Instead, we note that in the Cartesian system, the standard basis vectors can be derived from the derivative of the location of point P with respect to the local coordinate         ğ  x   =    âˆ‚  ğ«    âˆ‚  x     ;     ğ  y   =    âˆ‚  ğ«    âˆ‚  y     ;    ğ  z   =    âˆ‚  ğ«    âˆ‚  z       .     formulae-sequence     subscript  ğ  x       ğ«     x      formulae-sequence     subscript  ğ  y       ğ«     y        subscript  ğ  z       ğ«     z        \mathbf{e}_{x}=\dfrac{\partial\mathbf{r}}{\partial x};\;\mathbf{e}_{y}=\dfrac{%
 \partial\mathbf{r}}{\partial y};\;\mathbf{e}_{z}=\dfrac{\partial\mathbf{r}}{%
 \partial z}.     We can apply the same derivatives to the curvilinear system locally at point P to determine a system of basis vectors specific to location P . We define         ğ¡  1   =    âˆ‚  ğ«    âˆ‚   q  1      ;     ğ¡  2   =    âˆ‚  ğ«    âˆ‚   q  2      ;    ğ¡  3   =    âˆ‚  ğ«    âˆ‚   q  3        .     formulae-sequence     subscript  ğ¡  1       ğ«      subscript  q  1       formulae-sequence     subscript  ğ¡  2       ğ«      subscript  q  2         subscript  ğ¡  3       ğ«      subscript  q  3         \mathbf{h}_{1}=\dfrac{\partial\mathbf{r}}{\partial q_{1}};\;\mathbf{h}_{2}=%
 \dfrac{\partial\mathbf{r}}{\partial q_{2}};\;\mathbf{h}_{3}=\dfrac{\partial%
 \mathbf{r}}{\partial q_{3}}.     These may not have unit length, and may also not be orthogonal. In the case that they are orthogonal at all points where the derivatives are well-defined, we define the LamÃ© coefficients (after Gabriel LamÃ© ) by        h  1   =   |   ğ¡  1   |    ;     h  2   =   |   ğ¡  2   |    ;    h  3   =   |   ğ¡  3   |        formulae-sequence     subscript  h  1      subscript  ğ¡  1      formulae-sequence     subscript  h  2      subscript  ğ¡  2        subscript  h  3      subscript  ğ¡  3        h_{1}=|\mathbf{h}_{1}|;\;h_{2}=|\mathbf{h}_{2}|;\;h_{3}=|\mathbf{h}_{3}|     and the curvilinear orthonormal basis vectors by         ğ›  1   =    ğ¡  1    h  1     ;     ğ›  2   =    ğ¡  2    h  2     ;    ğ›  3   =    ğ¡  3    h  3       .     formulae-sequence     subscript  ğ›  1      subscript  ğ¡  1    subscript  h  1      formulae-sequence     subscript  ğ›  2      subscript  ğ¡  2    subscript  h  2        subscript  ğ›  3      subscript  ğ¡  3    subscript  h  3        \mathbf{b}_{1}=\dfrac{\mathbf{h}_{1}}{h_{1}};\;\mathbf{b}_{2}=\dfrac{\mathbf{h%
 }_{2}}{h_{2}};\;\mathbf{b}_{3}=\dfrac{\mathbf{h}_{3}}{h_{3}}.     It is important to note that these basis vectors may well depend upon the position of P ; it is therefore necessary that they are not assumed to be constant over a region. (They technically form a basis for the tangent bundle of    â„  3     superscript  â„  3    \mathbb{R}^{3}   at P , and so are local to P .)  In general, curvilinear coordinates allow the generality of basis vectors not all mutually perpendicular to each other, and not required to be of unit length: they can be of arbitrary magnitude and direction. The use of an orthogonal basis makes vector manipulations simpler than for non-orthogonal. However, some areas of physics and engineering , particularly fluid mechanics and continuum mechanics , require non-orthogonal bases to describe deformations and fluid transport to account for complicated directional dependences of physical quantities. A discussion of the general case appears later on this page.  Vector calculus  Differential elements  Since the total differential change in r is       d  ğ«   =      âˆ‚  ğ«    âˆ‚   q  1     d   q  1    +     âˆ‚  ğ«    âˆ‚   q  2     d   q  2    +     âˆ‚  ğ«    âˆ‚   q  3     d   q  3     =     h  1   d   q  1    ğ›  1    +    h  2   d   q  2    ğ›  2    +    h  3   d   q  3    ğ›  3             d  ğ«           ğ«      subscript  q  1     d   subscript  q  1          ğ«      subscript  q  2     d   subscript  q  2          ğ«      subscript  q  3     d   subscript  q  3               subscript  h  1   d   subscript  q  1    subscript  ğ›  1       subscript  h  2   d   subscript  q  2    subscript  ğ›  2       subscript  h  3   d   subscript  q  3    subscript  ğ›  3        d\mathbf{r}=\dfrac{\partial\mathbf{r}}{\partial q_{1}}dq_{1}+\dfrac{\partial%
 \mathbf{r}}{\partial q_{2}}dq_{2}+\dfrac{\partial\mathbf{r}}{\partial q_{3}}dq%
 _{3}=h_{1}dq_{1}\mathbf{b}_{1}+h_{2}dq_{2}\mathbf{b}_{2}+h_{3}dq_{3}\mathbf{b}%
 _{3}     so scale factors are       h  i   =   |    âˆ‚  ğ«    âˆ‚   q  i     |        subscript  h  i         ğ«      subscript  q  i        h_{i}=\left|\frac{\partial\mathbf{r}}{\partial q_{i}}\right|     They can also be written for each component of r :       h  i    =   k      âˆ‚   x  i     âˆ‚   q  k        fragments   superscript  h  i    subscript   k    continued-fraction     superscript  x  i       superscript  q  k       h^{i}{}_{k}=\cfrac{\partial x^{i}}{\partial q^{k}}   .  However, this designation is very rarely used, largely replaced with the components of the metric tensor  g ik (see below).  Covariant and contravariant bases  [[ File:Vector 1-form.svg|400px|thumb| A vector v ( red ) represented by  â€¢ a vector basis ( yellow , left:  e 1 , e 2 , e 3 ), tangent vectors to coordinate curves ( black ) and  â€¢ a covector basis or cobasis ( blue , right:  e 1 , e 2 , e 3 ), normal vectors to coordinate surfaces ( grey )  in general (notÂ necessarily orthogonal )Â curvilinearÂ coordinatesÂ ( q 1 , q 2 , q 3 ).Â NoteÂ theÂ basisÂ andÂ cobasisÂ doÂ notÂ coincideÂ unlessÂ theÂ coordinateÂ systemÂ isÂ orthogonal. 1 ]]  Spatial gradients, distances, time derivatives and scale factors are interrelated within a coordinate system by two groups of basis vectors:  {\partial q_i}\right|}\dfrac{\partial\mathbf{r}}{\partial q_i}=\frac{1}{h_i}\dfrac{\partial\mathbf{r}}{\partial q_i}  which transforms like covariant vectors (denoted by lowered indices), or  |2 = unit basis vectors that are locally normal to the isosurface created by the other coordinates:       ğ›  i   =    âˆ‡   q  i     |   âˆ‡   q  i    |    =    h  i    âˆ‡   q  i            superscript  ğ›  i      normal-âˆ‡   subscript  q  i       normal-âˆ‡   subscript  q  i              subscript  h  i    normal-âˆ‡   subscript  q  i        \mathbf{b}^{i}=\dfrac{\nabla q_{i}}{\left|\nabla q_{i}\right|}=h_{i}\nabla q_{i}     which transforms like contravariant vectors (denoted by raised indices), âˆ‡ is the del  operator . }}  Consequently, a general curvilinear coordinate system has two sets of basis vectors for every point: { b 1 , b 2 , b 3 } is the covariant basis, and { b 1 , b 2 , b 3 } is the contravariant (a.k.a reciprocal) basis. Note that , and the same result holds for directions 2 and 3. The covariant and contravariant basis vectors types have identical direction for orthogonal curvilinear coordinate systems, but as usual have inverted units with respect to each other.  A vector v can be specified in terms either basis, i.e.,      ğ¯  =     v  1    ğ›  1    +    v  2    ğ›  2    +    v  3    ğ›  3     =     v  1    ğ›  1    +    v  2    ğ›  2    +    v  3    ğ›  3           ğ¯       superscript  v  1    subscript  ğ›  1       superscript  v  2    subscript  ğ›  2       superscript  v  3    subscript  ğ›  3               subscript  v  1    superscript  ğ›  1       subscript  v  2    superscript  ğ›  2       subscript  v  3    superscript  ğ›  3        \mathbf{v}=v^{1}\mathbf{b}_{1}+v^{2}\mathbf{b}_{2}+v^{3}\mathbf{b}_{3}=v_{1}%
 \mathbf{b}^{1}+v_{2}\mathbf{b}^{2}+v_{3}\mathbf{b}^{3}     Using the Einstein summation convention, the basis vectors relate to the components by 2       ğ¯  â‹…   ğ›  i    =     v  k    ğ›  k    â‹…   ğ›  i    =    v  k    Î´  k  i    =   v  i          normal-â‹…  ğ¯   superscript  ğ›  i     normal-â‹…     superscript  v  k    subscript  ğ›  k     superscript  ğ›  i            superscript  v  k    subscript   superscript  Î´  i   k          superscript  v  i      \mathbf{v}\cdot\mathbf{b}^{i}=v^{k}\mathbf{b}_{k}\cdot\mathbf{b}^{i}=v^{k}%
 \delta^{i}_{k}=v^{i}          ğ¯  â‹…   ğ›  i    =     v  k    ğ›  k    â‹…   ğ›  i    =    v  k    Î´  i  k    =   v  i          normal-â‹…  ğ¯   subscript  ğ›  i     normal-â‹…     subscript  v  k    superscript  ğ›  k     subscript  ğ›  i            subscript  v  k    superscript   subscript  Î´  i   k          subscript  v  i      \mathbf{v}\cdot\mathbf{b}_{i}=v_{k}\mathbf{b}^{k}\cdot\mathbf{b}_{i}=v_{k}%
 \delta_{i}^{k}=v_{i}   and       ğ¯  â‹…   ğ›  i    =     v  k    ğ›  k    â‹…   ğ›  i    =    g   k  i     v  k           normal-â‹…  ğ¯   subscript  ğ›  i     normal-â‹…     superscript  v  k    subscript  ğ›  k     subscript  ğ›  i            subscript  g    k  i     superscript  v  k       \mathbf{v}\cdot\mathbf{b}_{i}=v^{k}\mathbf{b}_{k}\cdot\mathbf{b}_{i}=g_{ki}v^{k}          ğ¯  â‹…   ğ›  i    =     v  k    ğ›  k    â‹…   ğ›  i    =    g   k  i     v  k           normal-â‹…  ğ¯   superscript  ğ›  i     normal-â‹…     subscript  v  k    superscript  ğ›  k     superscript  ğ›  i            superscript  g    k  i     subscript  v  k       \mathbf{v}\cdot\mathbf{b}^{i}=v_{k}\mathbf{b}^{k}\cdot\mathbf{b}^{i}=g^{ki}v_{k}   where g is the metric tensor (see below).  A vector can be specified with covariant coordinates (lowered indices, written v k ) or contravariant coordinates (raised indices, written v k ). From the above vector sums, it can be seen that contravariant coordinates are associated with covariant basis vectors, and covariant coordinates are associated with contravariant basis vectors.  A key feature of the representation of vectors and tensors in terms of indexed components and basis vectors is invariance in the sense that vector components which transform in a covariant manner (or contravariant manner) are paired with basis vectors that transform in a contravariant manner (or covariant manner).  Covariant basis  Constructing a covariant basis in one dimension  (Figure)  Fig. 3 â€“ Transformation of local covariant basis in the case of general curvilinear coordinates   Consider the one-dimensional curve shown in Fig. 3. At point P , taken as an origin , x is one of the Cartesian coordinates, and q 1 is one of the curvilinear coordinates (Fig. 3). The local (non-unit) basis vector is b 1 (notated h 1 above, with b reserved for unit vectors) and it is built on the q 1 axis which is a tangent to that coordinate line at the point P . The axis q 1 and thus the vector b 1 form an angle Î± with the Cartesian x axis and the Cartesian basis vector e 1 .  It can be seen from triangle PAB that        cos  Î±   =     |   ğ  1   |    |   ğ›  1   |    â‡’      |   ğ  1   |   =    |   ğ›  1   |    cos  Î±        formulae-sequence      Î±     continued-fraction     subscript  ğ  1       subscript  ğ›  1     normal-â‡’         subscript  ğ  1         subscript  ğ›  1      Î±       \cos\alpha=\cfrac{|\mathbf{e}_{1}|}{|\mathbf{b}_{1}|}\quad\Rightarrow\quad|%
 \mathbf{e}_{1}|=|\mathbf{b}_{1}|\cos\alpha   where | e 1 |, | b 1 | are the magnitudes of the two basis vectors, i.e., the scalar intercepts PB and PA . Note that PA is also the projection of b 1 on the x axis.  However, this method for basis vector transformations using directional cosines is inapplicable to curvilinear coordinates for the following reasons:   By increasing the distance from P , the angle between the curved line q 1 and Cartesian axis x increasingly deviates from Î± .  At the distance PB the true angle is that which the tangent at point C forms with the x axis and the latter angle is clearly different from Î± .   The angles that the q 1 line and that axis form with the x axis become closer in value the closer one moves towards point P and become exactly equal at P .  Let point E be located very close to P , so close that the distance PE is infinitesimally small. Then PE measured on the q 1 axis almost coincides with PE measured on the q 1 line. At the same time, the ratio PD/PE ( PD being the projection of PE on the x axis) becomes almost exactly equal to cos Î± .  Let the infinitesimally small intercepts PD and PE be labelled, respectively, as dx and d q 1 . Then       cos  Î±   =    d  x    d   q  1     =    |   ğ  1   |    |   ğ›  1   |            Î±    continued-fraction    d  x     d   superscript  q  1               subscript  ğ  1       subscript  ğ›  1        \cos\alpha=\cfrac{dx}{dq^{1}}=\frac{|\mathbf{e}_{1}|}{|\mathbf{b}_{1}|}   .  Thus, the directional cosines can be substituted in transformations with the more exact ratios between infinitesimally small coordinate intercepts. It follows that the component (projection) of b 1 on the x axis is        p  1   =    ğ›  1   â‹…    ğ  1    |   ğ  1   |     =    |   ğ›  1   |     |   ğ  1   |    |   ğ  1   |     cos  Î±    =    |   ğ›  1   |     d  x    d   q  1         â‡’    p  1    |   ğ›  1   |     =    d  x    d   q  1         formulae-sequence       superscript  p  1    normal-â‹…   subscript  ğ›  1    continued-fraction   subscript  ğ  1      subscript  ğ  1                subscript  ğ›  1     continued-fraction     subscript  ğ  1       subscript  ğ  1       Î±              subscript  ğ›  1     continued-fraction    d  x     d   superscript  q  1           normal-â‡’   continued-fraction   superscript  p  1      subscript  ğ›  1       continued-fraction    d  x     d   superscript  q  1        p^{1}=\mathbf{b}_{1}\cdot\cfrac{\mathbf{e}_{1}}{|\mathbf{e}_{1}|}=|\mathbf{b}_%
 {1}|\cfrac{|\mathbf{e}_{1}|}{|\mathbf{e}_{1}|}\cos\alpha=|\mathbf{b}_{1}|%
 \cfrac{dx}{dq^{1}}\quad\Rightarrow\quad\cfrac{p^{1}}{|\mathbf{b}_{1}|}=\cfrac{%
 dx}{dq^{1}}   .  If q i = q i ( x 1 , x 2 , x 3 ) and x i = x i ( q 1 , q 2 , q 3 ) are smooth (continuously differentiable) functions the transformation ratios can be written as      âˆ‚   q  i     âˆ‚   x  j        continued-fraction     superscript  q  i       subscript  x  j      \cfrac{\partial q^{i}}{\partial x_{j}}   and      âˆ‚   x  i     âˆ‚   q  j        continued-fraction     subscript  x  i       superscript  q  j      \cfrac{\partial x_{i}}{\partial q^{j}}   . That is, those ratios are partial derivatives of coordinates belonging to one system with respect to coordinates belonging to the other system.  Constructing a covariant basis in three dimensions  Doing the same for the coordinates in the other 2 dimensions, b 1 can be expressed as:       ğ›  1   =     p  1    ğ  1    +    p  2    ğ  2    +    p  3    ğ  3     =      âˆ‚   x  1     âˆ‚   q  1      ğ  1    +     âˆ‚   x  2     âˆ‚   q  1      ğ  2    +     âˆ‚   x  3     âˆ‚   q  1      ğ  3            subscript  ğ›  1        superscript  p  1    subscript  ğ  1       superscript  p  2    subscript  ğ  2       superscript  p  3    subscript  ğ  3               continued-fraction     subscript  x  1       superscript  q  1      subscript  ğ  1       continued-fraction     subscript  x  2       superscript  q  1      subscript  ğ  2       continued-fraction     subscript  x  3       superscript  q  1      subscript  ğ  3        \mathbf{b}_{1}=p^{1}\mathbf{e}_{1}+p^{2}\mathbf{e}_{2}+p^{3}\mathbf{e}_{3}=%
 \cfrac{\partial x_{1}}{\partial q^{1}}\mathbf{e}_{1}+\cfrac{\partial x_{2}}{%
 \partial q^{1}}\mathbf{e}_{2}+\cfrac{\partial x_{3}}{\partial q^{1}}\mathbf{e}%
 _{3}   Similar equations hold for b 2 and b 3 so that the standard basis { e 1 , e 2 , e 3 } is transformed to a local (ordered and ''normalised '') basis { b 1 , b 2 , b 3 } by the following system of equations:      ğ›  1     subscript  ğ›  1    \displaystyle\mathbf{b}_{1}     By analogous reasoning, one can obtain the inverse transformation from local basis to standard basis:      ğ  1     subscript  ğ  1    \displaystyle\mathbf{e}_{1}     Jacobian of the transformation  The above systems of linear equations can be written in matrix form using the Einstein summation convention as          âˆ‚   x  i     âˆ‚   q  k      ğ  i    =   ğ›  k    ,      âˆ‚   q  i     âˆ‚   x  k      ğ›  i    =   ğ  k       formulae-sequence       continued-fraction     subscript  x  i       superscript  q  k      subscript  ğ  i     subscript  ğ›  k         continued-fraction     superscript  q  i       subscript  x  k      subscript  ğ›  i     subscript  ğ  k      \cfrac{\partial x_{i}}{\partial q^{k}}\mathbf{e}_{i}=\mathbf{b}_{k},\quad%
 \cfrac{\partial q^{i}}{\partial x_{k}}\mathbf{b}_{i}=\mathbf{e}_{k}   .  This coefficient matrix of the linear system is the Jacobian matrix (and its inverse) of the transformation. These are the equations that can be used to transform a Cartesian basis into a curvilinear basis, and vice versa.  In three dimensions, the expanded forms of these matrices are       ğ‰  =   [       âˆ‚   x  1     âˆ‚   q  1         âˆ‚   x  1     âˆ‚   q  2         âˆ‚   x  1     âˆ‚   q  3           âˆ‚   x  2     âˆ‚   q  1         âˆ‚   x  2     âˆ‚   q  2         âˆ‚   x  2     âˆ‚   q  3           âˆ‚   x  3     âˆ‚   q  1         âˆ‚   x  3     âˆ‚   q  2         âˆ‚   x  3     âˆ‚   q  3        ]    ,    ğ‰   -  1    =   [       âˆ‚   q  1     âˆ‚   x  1         âˆ‚   q  1     âˆ‚   x  2         âˆ‚   q  1     âˆ‚   x  3           âˆ‚   q  2     âˆ‚   x  1         âˆ‚   q  2     âˆ‚   x  2         âˆ‚   q  2     âˆ‚   x  3           âˆ‚   q  3     âˆ‚   x  1         âˆ‚   q  3     âˆ‚   x  2         âˆ‚   q  3     âˆ‚   x  3        ]       formulae-sequence    ğ‰     continued-fraction     subscript  x  1       superscript  q  1      continued-fraction     subscript  x  1       superscript  q  2      continued-fraction     subscript  x  1       superscript  q  3        continued-fraction     subscript  x  2       superscript  q  1      continued-fraction     subscript  x  2       superscript  q  2      continued-fraction     subscript  x  2       superscript  q  3        continued-fraction     subscript  x  3       superscript  q  1      continued-fraction     subscript  x  3       superscript  q  2      continued-fraction     subscript  x  3       superscript  q  3           superscript  ğ‰    1       continued-fraction     superscript  q  1       subscript  x  1      continued-fraction     superscript  q  1       subscript  x  2      continued-fraction     superscript  q  1       subscript  x  3        continued-fraction     superscript  q  2       subscript  x  1      continued-fraction     superscript  q  2       subscript  x  2      continued-fraction     superscript  q  2       subscript  x  3        continued-fraction     superscript  q  3       subscript  x  1      continued-fraction     superscript  q  3       subscript  x  2      continued-fraction     superscript  q  3       subscript  x  3          \mathbf{J}=\begin{bmatrix}\cfrac{\partial x_{1}}{\partial q^{1}}&\cfrac{%
 \partial x_{1}}{\partial q^{2}}&\cfrac{\partial x_{1}}{\partial q^{3}}\\
 \cfrac{\partial x_{2}}{\partial q^{1}}&\cfrac{\partial x_{2}}{\partial q^{2}}&%
 \cfrac{\partial x_{2}}{\partial q^{3}}\\
 \cfrac{\partial x_{3}}{\partial q^{1}}&\cfrac{\partial x_{3}}{\partial q^{2}}&%
 \cfrac{\partial x_{3}}{\partial q^{3}}\\
 \end{bmatrix},\quad\mathbf{J}^{-1}=\begin{bmatrix}\cfrac{\partial q^{1}}{%
 \partial x_{1}}&\cfrac{\partial q^{1}}{\partial x_{2}}&\cfrac{\partial q^{1}}{%
 \partial x_{3}}\\
 \cfrac{\partial q^{2}}{\partial x_{1}}&\cfrac{\partial q^{2}}{\partial x_{2}}&%
 \cfrac{\partial q^{2}}{\partial x_{3}}\\
 \cfrac{\partial q^{3}}{\partial x_{1}}&\cfrac{\partial q^{3}}{\partial x_{2}}&%
 \cfrac{\partial q^{3}}{\partial x_{3}}\\
 \end{bmatrix}     In the inverse transformation (second equation system), the unknowns are the curvilinear basis vectors. For any specific location there can only exist one and only one set of basis vectors (else the basis is not well defined at that point). This condition is satisfied if and only if the equation system has a single solution, from linear algebra , a linear equation system has a single solution (non-trivial) only if the determinant of its system matrix is non-zero:       det   (   ğ‰   -  1    )    â‰   0         superscript  ğ‰    1     0    \det(\mathbf{J}^{-1})\neq 0   which shows the rationale behind the above requirement concerning the inverse Jacobian determinant.  Generalization to n dimensions  The formalism extends to any finite dimension as follows.  Consider the real  Euclidean  n -dimensional space, that is R n = R Ã— R Ã— ... Ã— R ( n times) where R is the set of real numbers and Ã— denotes the Cartesian product , which is a vector space .  The coordinates of this space can be denoted by: x = ( x 1 , x 2 ,..., x n ). Since this is a vector (an element of the vector space), it can be written as:      ğ±  =    âˆ‘   i  =  1   n     x  i    ğ  i         ğ±    superscript   subscript     i  1    n      subscript  x  i    superscript  ğ  i       \mathbf{x}=\sum_{i=1}^{n}x_{i}\mathbf{e}^{i}     where e 1 = (1,0,0...,0), e 2 = (0,1,0...,0), e 3 = (0,0,1...,0),..., e n = (0,0,0...,1) is the standard  basis set of vectors for the space R n , and i = 1, 2,... n is an index labelling components. Each vector has exactly one component in each dimension (or "axis") and they are mutually orthogonal ( perpendicular ) and normalized (has unit magnitude ).  More generally, we can define basis vectors b i so that they depend on q = ( q 1 , q 2 ,..., q n ), i.e. they change from point to point: b i = b i ( q ). In which case to define the same point x in terms of this alternative basis: the coordinates with respect to this basis v i also necessarily depend on x also, that is v i = v i ( x ). Then a vector v in this space, with respect to these alternative coordinates and basis vectors, can be expanded as a linear combination in this basis (which simply means to multiply each basis vector  e i by a number v i â€“ scalar multiplication ):      ğ¯  =    âˆ‘   j  =  1   n      v  Â¯   j    ğ›  j     =    âˆ‘   j  =  1   n      v  Â¯   j    (  ğª  )    ğ›  j    (  ğª  )           ğ¯    superscript   subscript     j  1    n      superscript   normal-Â¯  v   j    subscript  ğ›  j            superscript   subscript     j  1    n      superscript   normal-Â¯  v   j   ğª   subscript  ğ›  j   ğª       \mathbf{v}=\sum_{j=1}^{n}\bar{v}^{j}\mathbf{b}_{j}=\sum_{j=1}^{n}\bar{v}^{j}(%
 \mathbf{q})\mathbf{b}_{j}(\mathbf{q})     The vector sum that describes v in the new basis is composed of different vectors, although the sum itself remains the same.  Transformation of coordinates  From a more general and abstract perspective, a curvilinear coordinate system is simply a coordinate patch on the differentiable manifold  E n (n-dimensional Euclidean space ) that is diffeomorphic to the Cartesian coordinate patch on the manifold. 3 Note that two diffeomorphic coordinate patches on a differential manifold need not overlap differentiably. With this simple definition of a curvilinear coordinate system, all the results that follow below are simply applications of standard theorems in differential topology .  The transformation functions are such that there's a one-to-one relationship between points in the "old" and "new" coordinates, that is, those functions are bijections , and fulfil the following requirements within their domains :  Vector and tensor algebra in three-dimensional curvilinear coordinates  Elementary vector and tensor algebra in curvilinear coordinates is used in some of the older scientific literature in mechanics and physics and can be indispensable to understanding work from the early and mid-1900s, for example the text by Green and Zerna. 4 Some useful relations in the algebra of vectors and second-order tensors in curvilinear coordinates are given in this section. The notation and contents are primarily from Ogden, 5 Naghdi, 6 Simmonds, 7 Green and Zerna, 8 Basar and Weichert, 9 and Ciarlet. 10  Tensors in curvilinear coordinates  A second-order tensor can be expressed as      ğ‘º  =     S   i  j     ğ›  i    âŠ—   ğ›  j    =     S  i    ğ›  i    j     âŠ—   ğ›  j    =     S  i    ğ›   i    j    âŠ—   ğ›  j    =     S   i  j     ğ›  i    âŠ—   ğ›  j          ğ‘º   tensor-product     superscript  S    i  j     subscript  ğ›  i     subscript  ğ›  j          tensor-product     superscript  S  i    subscript   subscript  ğ›  i   j     superscript  ğ›  j          tensor-product     subscript  S  i    superscript   superscript  ğ›  i   j     subscript  ğ›  j          tensor-product     subscript  S    i  j     superscript  ğ›  i     superscript  ğ›  j       \boldsymbol{S}=S^{ij}\mathbf{b}_{i}\otimes\mathbf{b}_{j}=S^{i}{}_{j}\mathbf{b}%
 _{i}\otimes\mathbf{b}^{j}=S_{i}{}^{j}\mathbf{b}^{i}\otimes\mathbf{b}_{j}=S_{ij%
 }\mathbf{b}^{i}\otimes\mathbf{b}^{j}   where   âŠ—   tensor-product   \scriptstyle\otimes   denotes the tensor product . The components S ij are called the contravariant components, S i  j the mixed right-covariant components, S i  j the mixed left-covariant components, and S ij the covariant components of the second-order tensor. The components of the second-order tensor are related by       S   i  j    =   g   i  k     S  k    =    j    g   j  k     S  i    =   k     g   i  k     g   j  â„“     S   k  â„“       fragments   superscript  S    i  j      superscript  g    i  k     subscript  S  k    superscript   j    superscript  g    j  k     superscript  S  i    subscript   k    superscript  g    i  k     superscript  g    j  normal-â„“     subscript  S    k  normal-â„“      S^{ij}=g^{ik}S_{k}{}^{j}=g^{jk}S^{i}{}_{k}=g^{ik}g^{j\ell}S_{k\ell}     The metric tensor in orthogonal curvilinear coordinates  At each point, one can construct a small line element    d  ğ±      d  ğ±    d\mathbf{x}   , so the square of the length of the line element is the scalar product d x â€¢ d x and is called the metric of the space , given by:         d  ğ±   â‹…  d   ğ±   =     âˆ‚   x  i     âˆ‚   q  j       âˆ‚   x  i     âˆ‚   q  k     d   q  j   d   q  k           normal-â‹…    d  ğ±   d   ğ±      continued-fraction     subscript  x  i       superscript  q  j      continued-fraction     subscript  x  i       superscript  q  k     d   superscript  q  j   d   superscript  q  k      d\mathbf{x}\cdot d\mathbf{x}=\cfrac{\partial x_{i}}{\partial q^{j}}\cfrac{%
 \partial x_{i}}{\partial q^{k}}dq^{j}dq^{k}   .  The following portion of the above equation         âˆ‚   x  k     âˆ‚   q  i       âˆ‚   x  k     âˆ‚   q  j      =    g   i  j     (   q  i   ,   q  j   )    =    ğ›  i   â‹…   ğ›  j             continued-fraction     subscript  x  k       superscript  q  i      continued-fraction     subscript  x  k       superscript  q  j         subscript  g    i  j      superscript  q  i    superscript  q  j           normal-â‹…   subscript  ğ›  i    subscript  ğ›  j       \cfrac{\partial x_{k}}{\partial q^{i}}\cfrac{\partial x_{k}}{\partial q^{j}}=g%
 _{ij}(q^{i},q^{j})=\mathbf{b}_{i}\cdot\mathbf{b}_{j}   is a symmetric tensor called the fundamental (or metric) tensor of the Euclidean space in curvilinear coordinates.  Indices can be raised and lowered by the metric:       v  i   =    g   i  k     v  k         superscript  v  i      superscript  g    i  k     subscript  v  k      v^{i}=g^{ik}v_{k}     Relation to LamÃ© coefficients  Defining the scale factors h i by         h  i    h  j    =   g   i  j    =    ğ›  i   â‹…   ğ›  j       â‡’   h  i    =    g   i  i     =   |   ğ›  i   |   =   |    âˆ‚  ğ±    âˆ‚   q  i     |       formulae-sequence         subscript  h  i    subscript  h  j     subscript  g    i  j          normal-â‹…   subscript  ğ›  i    subscript  ğ›  j           normal-â‡’   subscript  h  i       subscript  g    i  i             subscript  ğ›  i            continued-fraction    ğ±      superscript  q  i          h_{i}h_{j}=g_{ij}=\mathbf{b}_{i}\cdot\mathbf{b}_{j}\quad\Rightarrow\quad h_{i}%
 =\sqrt{g_{ii}}=\left|\mathbf{b}_{i}\right|=\left|\cfrac{\partial\mathbf{x}}{%
 \partial q^{i}}\right|     gives a relation between the metric tensor and the LamÃ© coefficients. Note also that       g   i  j    =     âˆ‚  ğ±    âˆ‚   q  i     â‹…    âˆ‚  ğ±    âˆ‚   q  j      =    (    h   k  i     ğ  k    )   â‹…   (    h   m  j     ğ  m    )    =    h   k  i     h   k  j            subscript  g    i  j     normal-â‹…   continued-fraction    ğ±      superscript  q  i      continued-fraction    ğ±      superscript  q  j            normal-â‹…     subscript  h    k  i     subscript  ğ  k       subscript  h    m  j     subscript  ğ  m             subscript  h    k  i     subscript  h    k  j        g_{ij}=\cfrac{\partial\mathbf{x}}{\partial q^{i}}\cdot\cfrac{\partial\mathbf{x%
 }}{\partial q^{j}}=\left(h_{ki}\mathbf{e}_{k}\right)\cdot\left(h_{mj}\mathbf{e%
 }_{m}\right)=h_{ki}h_{kj}     where h ij are the LamÃ© coefficients. For an orthogonal basis we also have:       g  =    g  11    g  22    g  33    =    h  1  2    h  2  2    h  3  2       â‡’   g    =    h  1    h  2    h  3    =  J      formulae-sequence      g     subscript  g  11    subscript  g  22    subscript  g  33            superscript   subscript  h  1   2    superscript   subscript  h  2   2    superscript   subscript  h  3   2           normal-â‡’    g       subscript  h  1    subscript  h  2    subscript  h  3         J      g=g_{11}g_{22}g_{33}=h_{1}^{2}h_{2}^{2}h_{3}^{2}\quad\Rightarrow\quad\sqrt{g}=%
 h_{1}h_{2}h_{3}=J     Example: Polar coordinates  If we consider polar coordinates for R 2 , note that       (  x  ,  y  )   =   (   r   cos  Î¸    ,   r   sin  Î¸    )        x  y      r    Î¸      r    Î¸       (x,y)=(r\cos\theta,r\sin\theta)\,\!   (r, Î¸) are the curvilinear coordinates, and the Jacobian determinant of the transformation ( r ,Î¸) â†’ ( r cos Î¸, r sin Î¸) is r .  The orthogonal basis vectors are b r = (cos Î¸, sin Î¸), b Î¸ = (âˆ’sin Î¸, cos Î¸). The scale factors are h r = 1 and h Î¸ = r . The fundamental tensor is g 11 =1, g 22 = r 2 , g 12 = g 21 =0.  The alternating tensor  In an orthonormal right-handed basis, the third-order alternating tensor is defined as      ğ“”  =     Ïµ   i  j  k     ğ  i    âŠ—   ğ  j   âŠ—   ğ  k        ğ“”   tensor-product     subscript  Ïµ    i  j  k     superscript  ğ  i     superscript  ğ  j    superscript  ğ  k      \boldsymbol{\mathcal{E}}=\epsilon_{ijk}\mathbf{e}^{i}\otimes\mathbf{e}^{j}%
 \otimes\mathbf{e}^{k}     In a general curvilinear basis the same tensor may be expressed as      ğ“”  =     â„°   i  j  k     ğ›  i    âŠ—   ğ›  j   âŠ—   ğ›  k    =     â„°   i  j  k     ğ›  i    âŠ—   ğ›  j   âŠ—   ğ›  k          ğ“”   tensor-product     subscript  â„°    i  j  k     superscript  ğ›  i     superscript  ğ›  j    superscript  ğ›  k          tensor-product     superscript  â„°    i  j  k     subscript  ğ›  i     subscript  ğ›  j    subscript  ğ›  k       \boldsymbol{\mathcal{E}}=\mathcal{E}_{ijk}\mathbf{b}^{i}\otimes\mathbf{b}^{j}%
 \otimes\mathbf{b}^{k}=\mathcal{E}^{ijk}\mathbf{b}_{i}\otimes\mathbf{b}_{j}%
 \otimes\mathbf{b}_{k}     It can also be shown that       â„°   i  j  k    =    1  J    Ïµ   i  j  k     =    1   +   g      Ïµ   i  j  k            superscript  â„°    i  j  k       continued-fraction  1  J    subscript  Ïµ    i  j  k             continued-fraction  1      g      subscript  Ïµ    i  j  k        \mathcal{E}^{ijk}=\cfrac{1}{J}\epsilon_{ijk}=\cfrac{1}{+\sqrt{g}}\epsilon_{ijk}     Christoffel symbols   Christoffel symbols of the first kind:         ğ›   i  ,  j    =    âˆ‚   ğ›  i     âˆ‚   q  j     =    Î“   i  j  k     ğ›  k       â‡’    ğ›   i  ,  j    â‹…   ğ›  k     =   Î“   i  j  k        formulae-sequence       subscript  ğ›   i  j         subscript  ğ›  i       superscript  q  j             subscript  normal-Î“    i  j  k     superscript  ğ›  k         normal-â‡’   normal-â‹…   subscript  ğ›   i  j     subscript  ğ›  k      subscript  normal-Î“    i  j  k       \mathbf{b}_{i,j}=\frac{\partial\mathbf{b}_{i}}{\partial q^{j}}=\Gamma_{ijk}%
 \mathbf{b}^{k}\quad\Rightarrow\quad\mathbf{b}_{i,j}\cdot\mathbf{b}_{k}=\Gamma_%
 {ijk}     where the comma denotes a partial derivative (see Ricci calculus ). To express Î“ ijk in terms of g ij we note that      g    i  j   ,  k      subscript  g     i  j   k     \displaystyle g_{ij,k}     Since        ğ›   i  ,  j    =    ğ›   j  ,  i    â‡’      Î“   i  j  k    =   Î“   j  i  k        formulae-sequence     subscript  ğ›   i  j      subscript  ğ›   j  i    normal-â‡’       subscript  normal-Î“    i  j  k     subscript  normal-Î“    j  i  k       \mathbf{b}_{i,j}=\mathbf{b}_{j,i}\quad\Rightarrow\quad\Gamma_{ijk}=\Gamma_{jik}   using these to rearrange the above relations gives       Î“   i  j  k    =    1  2    (     g    i  k   ,  j    +   g    j  k   ,  i     -   g    i  j   ,  k     )    =    1  2    [      (    ğ›  i   â‹…   ğ›  k    )    ,  j    +    (    ğ›  j   â‹…   ğ›  k    )    ,  i     -    (    ğ›  i   â‹…   ğ›  j    )    ,  k     ]           subscript  normal-Î“    i  j  k        1  2        subscript  g     i  k   j     subscript  g     j  k   i      subscript  g     i  j   k               1  2    delimited-[]       subscript   normal-â‹…   subscript  ğ›  i    subscript  ğ›  k     fragments  normal-,  j     subscript   normal-â‹…   subscript  ğ›  j    subscript  ğ›  k     fragments  normal-,  i      subscript   normal-â‹…   subscript  ğ›  i    subscript  ğ›  j     fragments  normal-,  k          \Gamma_{ijk}=\frac{1}{2}(g_{ik,j}+g_{jk,i}-g_{ij,k})=\frac{1}{2}[(\mathbf{b}_{%
 i}\cdot\mathbf{b}_{k})_{,j}+(\mathbf{b}_{j}\cdot\mathbf{b}_{k})_{,i}-(\mathbf{%
 b}_{i}\cdot\mathbf{b}_{j})_{,k}]      Christoffel symbols of the second kind:        Î“   i  j     =    k    Î“   j  i     ,    k     âˆ‚   ğ›  i     âˆ‚   q  j     =   Î“   i  j     ğ›  k     k      fragments   subscript  normal-Î“    i  j     superscript   k    subscript  normal-Î“    j  i     superscript  normal-,  k    continued-fraction     subscript  ğ›  i       superscript  q  j       subscript  normal-Î“    i  j     superscript   subscript  ğ›  k   k     \Gamma_{ij}{}^{k}=\Gamma_{ji}{}^{k},\quad\cfrac{\partial\mathbf{b}_{i}}{%
 \partial q^{j}}=\Gamma_{ij}{}^{k}\mathbf{b}_{k}     This implies that       Î“   i  j     =    k     âˆ‚   ğ›  i     âˆ‚   q  j     â‹…   ğ›  k   =  -   ğ›  i   â‹…    âˆ‚   ğ›  k     âˆ‚   q  j        fragments   subscript  normal-Î“    i  j     superscript   k    continued-fraction     subscript  ğ›  i       superscript  q  j     normal-â‹…   superscript  ğ›  k      subscript  ğ›  i   normal-â‹…   continued-fraction     superscript  ğ›  k       superscript  q  j       \Gamma_{ij}{}^{k}=\cfrac{\partial\mathbf{b}_{i}}{\partial q^{j}}\cdot\mathbf{b%
 }^{k}=-\mathbf{b}_{i}\cdot\cfrac{\partial\mathbf{b}^{k}}{\partial q^{j}}     Other relations that follow are         âˆ‚   ğ›  i     âˆ‚   q  j     =   -    Î“  i    ğ›   k    j  k        ,     âˆ‡   ğ›  i    =     Î“   i  j     ğ›  k     k    âŠ—   ğ›  j     ,    âˆ‡   ğ›  i    =   -     Î“   j  k     ğ›   k    i    âŠ—   ğ›  j          formulae-sequence     continued-fraction     superscript  ğ›  i       superscript  q  j          superscript  normal-Î“  i    subscript   superscript  ğ›  k     j  k        formulae-sequence     bold-âˆ‡   subscript  ğ›  i     tensor-product     subscript  normal-Î“    i  j     superscript   subscript  ğ›  k   k     superscript  ğ›  j        bold-âˆ‡   superscript  ğ›  i       tensor-product     subscript  normal-Î“    j  k     superscript   superscript  ğ›  k   i     superscript  ğ›  j         \cfrac{\partial\mathbf{b}^{i}}{\partial q^{j}}=-\Gamma^{i}{}_{jk}\mathbf{b}^{k%
 },\quad\boldsymbol{\nabla}\mathbf{b}_{i}=\Gamma_{ij}{}^{k}\mathbf{b}_{k}%
 \otimes\mathbf{b}^{j},\quad\boldsymbol{\nabla}\mathbf{b}^{i}=-\Gamma_{jk}{}^{i%
 }\mathbf{b}^{k}\otimes\mathbf{b}^{j}     Vector operations  Vector and tensor calculus in three-dimensional curvilinear coordinates  Adjustments need to be made in the calculation of line , surface and volume  integrals . For simplicity, the following restricts to three dimensions and orthogonal curvilinear coordinates. However, the same arguments apply for n -dimensional spaces. When the coordinate system is not orthogonal, there are some additional terms in the expressions.  Simmonds, 11 in his book on tensor analysis , quotes Albert Einstein saying 12   The magic of this theory will hardly fail to impose itself on anybody who has truly understood it; it represents a genuine triumph of the method of absolute differential calculus, founded by Gauss, Riemann, Ricci, and Levi-Civita.   Vector and tensor calculus in general curvilinear coordinates is used in tensor analysis on four-dimensional curvilinear manifolds in general relativity , 13 in the mechanics of curved shells , 14 in examining the invariance properties of Maxwell's equations which has been of interest in metamaterials 15 16 and in many other fields.  Some useful relations in the calculus of vectors and second-order tensors in curvilinear coordinates are given in this section. The notation and contents are primarily from Ogden, 17 Simmonds, 18 Green and Zerna, 19 Basar and Weichert, 20 and Ciarlet. 21  Let Ï† = Ï†( x ) be a well defined scalar field and v = v ( x ) a well-defined vector field, and Î» 1 , Î» 2 ... be parameters of the coordinates  Geometric elements  = \sqrt{ g_{ij}\cfrac{\partial q^i}{\partial \lambda}\cfrac{\partial q^j}{\partial \lambda}} = \sqrt{h_{i}^2\left(\cfrac{\partial q^i}{\partial \lambda}\right)^2}  |2= Tangent plane element: If x ( Î» 1 , Î» 2 ) parametrizes a surface S in Cartesian coordinates, then the following cross product of tangent vectors is a normal vector to S with the magnitude of infinitesimal plane element, in curvilinear coordinates. Using the above result,         âˆ‚  ğ±    âˆ‚   Î»  1     Ã—    âˆ‚  ğ±    âˆ‚   Î»  2      =    (     âˆ‚  ğ±    âˆ‚   q  i       âˆ‚   q  i     âˆ‚   Î»  1      )   Ã—   (     âˆ‚  ğ±    âˆ‚   q  j       âˆ‚   q  j     âˆ‚   Î»  2      )    =    â„°   k  m  p     (    h   k  i      âˆ‚   q  i     âˆ‚   Î»  1      )    (    h   m  j      âˆ‚   q  j     âˆ‚   Î»  2      )    ğ›  p                ğ±      subscript  Î»  1         ğ±      subscript  Î»  2              ğ±      superscript  q  i          superscript  q  i       subscript  Î»  1            ğ±      superscript  q  j          superscript  q  j       subscript  Î»  2               subscript  â„°    k  m  p       subscript  h    k  i         superscript  q  i       subscript  Î»  1         subscript  h    m  j         superscript  q  j       subscript  Î»  2       subscript  ğ›  p       {\partial\mathbf{x}\over\partial\lambda_{1}}\times{\partial\mathbf{x}\over%
 \partial\lambda_{2}}=\left({\partial\mathbf{x}\over\partial q^{i}}{\partial q^%
 {i}\over\partial\lambda_{1}}\right)\times\left({\partial\mathbf{x}\over%
 \partial q^{j}}{\partial q^{j}\over\partial\lambda_{2}}\right)=\mathcal{E}_{%
 kmp}\left(h_{ki}{\partial q^{i}\over\partial\lambda_{1}}\right)\left(h_{mj}{%
 \partial q^{j}\over\partial\lambda_{2}}\right)\mathbf{b}_{p}     where   â„°   â„°   \mathcal{E}   is the permutation symbol . In determinant form:         âˆ‚  ğ±    âˆ‚   Î»  1     Ã—    âˆ‚  ğ±    âˆ‚   Î»  2      =   |      ğ  1      ğ  2      ğ  3         h   1  i      âˆ‚   q  i     âˆ‚   Î»  1          h   2  i      âˆ‚   q  i     âˆ‚   Î»  1          h   3  i      âˆ‚   q  i     âˆ‚   Î»  1            h   1  j      âˆ‚   q  j     âˆ‚   Î»  2          h   2  j      âˆ‚   q  j     âˆ‚   Î»  2          h   3  j      âˆ‚   q  j     âˆ‚   Î»  2         |             ğ±      subscript  Î»  1         ğ±      subscript  Î»  2           subscript  ğ  1    subscript  ğ  2    subscript  ğ  3        subscript  h    1  i         superscript  q  i       subscript  Î»  1         subscript  h    2  i         superscript  q  i       subscript  Î»  1         subscript  h    3  i         superscript  q  i       subscript  Î»  1           subscript  h    1  j         superscript  q  j       subscript  Î»  2         subscript  h    2  j         superscript  q  j       subscript  Î»  2         subscript  h    3  j         superscript  q  j       subscript  Î»  2           {\partial\mathbf{x}\over\partial\lambda_{1}}\times{\partial\mathbf{x}\over%
 \partial\lambda_{2}}=\begin{vmatrix}\mathbf{e}_{1}&\mathbf{e}_{2}&\mathbf{e}_{%
 3}\\
 h_{1i}\dfrac{\partial q^{i}}{\partial\lambda_{1}}&h_{2i}\dfrac{\partial q^{i}}%
 {\partial\lambda_{1}}&h_{3i}\dfrac{\partial q^{i}}{\partial\lambda_{1}}\\
 h_{1j}\dfrac{\partial q^{j}}{\partial\lambda_{2}}&h_{2j}\dfrac{\partial q^{j}}%
 {\partial\lambda_{2}}&h_{3j}\dfrac{\partial q^{j}}{\partial\lambda_{2}}\end{vmatrix}   }}  Integration        scope=col Operator   scope=col Scalar field   scope=col Vector field       Line integral   |      âˆ«  C    Ï†   (  ğ±  )   d  s    =    âˆ«  a  b    Ï†   (   ğ±   (  Î»  )    )    |    âˆ‚  ğ±    âˆ‚  Î»    |   d  Î»          subscript   C     Ï†  ğ±  d  s      superscript   subscript   a   b     Ï†    ğ±  Î»         ğ±     Î»     d  Î»      \int_{C}\varphi(\mathbf{x})ds=\int_{a}^{b}\varphi(\mathbf{x}(\lambda))\left|{%
 \partial\mathbf{x}\over\partial\lambda}\right|d\lambda      |      âˆ«  C      ğ¯   (  ğ±  )    â‹…  d   ğ¬    =    âˆ«  a  b      ğ¯   (   ğ±   (  Î»  )    )    â‹…   (    âˆ‚  ğ±    âˆ‚  Î»    )    d  Î»          subscript   C      normal-â‹…    ğ¯  ğ±   d   ğ¬      superscript   subscript   a   b      normal-â‹…    ğ¯    ğ±  Î»        ğ±     Î»     d  Î»      \int_{C}\mathbf{v}(\mathbf{x})\cdot d\mathbf{s}=\int_{a}^{b}\mathbf{v}(\mathbf%
 {x}(\lambda))\cdot\left({\partial\mathbf{x}\over\partial\lambda}\right)d\lambda        Surface integral   |      âˆ«  S    Ï†   (  ğ±  )   d  S    =    âˆ¬  T    Ï†   (   ğ±   (   Î»  1   ,   Î»  2   )    )    |     âˆ‚  ğ±    âˆ‚   Î»  1     Ã—    âˆ‚  ğ±    âˆ‚   Î»  2      |   d   Î»  1   d   Î»  2           subscript   S     Ï†  ğ±  d  S      subscript  double-integral  T     Ï†    ğ±    subscript  Î»  1    subscript  Î»  2             ğ±      subscript  Î»  1         ğ±      subscript  Î»  2       d   subscript  Î»  1   d   subscript  Î»  2       \int_{S}\varphi(\mathbf{x})dS=\iint_{T}\varphi(\mathbf{x}(\lambda_{1},\lambda_%
 {2}))\left|{\partial\mathbf{x}\over\partial\lambda_{1}}\times{\partial\mathbf{%
 x}\over\partial\lambda_{2}}\right|d\lambda_{1}d\lambda_{2}      |      âˆ«  S      ğ¯   (  ğ±  )    â‹…  d   S    =    âˆ¬  T      ğ¯   (   ğ±   (   Î»  1   ,   Î»  2   )    )    â‹…   (     âˆ‚  ğ±    âˆ‚   Î»  1     Ã—    âˆ‚  ğ±    âˆ‚   Î»  2      )    d   Î»  1   d   Î»  2           subscript   S      normal-â‹…    ğ¯  ğ±   d   S      subscript  double-integral  T      normal-â‹…    ğ¯    ğ±    subscript  Î»  1    subscript  Î»  2            ğ±      subscript  Î»  1         ğ±      subscript  Î»  2       d   subscript  Î»  1   d   subscript  Î»  2       \int_{S}\mathbf{v}(\mathbf{x})\cdot dS=\iint_{T}\mathbf{v}(\mathbf{x}(\lambda_%
 {1},\lambda_{2}))\cdot\left({\partial\mathbf{x}\over\partial\lambda_{1}}\times%
 {\partial\mathbf{x}\over\partial\lambda_{2}}\right)d\lambda_{1}d\lambda_{2}        Volume integral   |      âˆ­  V    Ï†   (  x  ,  y  ,  z  )   d  V    =    âˆ­  V    Ï‡   (   q  1   ,   q  2   ,   q  3   )   J  d   q  1   d   q  2   d   q  3           subscript  triple-integral  V     Ï†   x  y  z   d  V      subscript  triple-integral  V     Ï‡    subscript  q  1    subscript  q  2    subscript  q  3    J  d   subscript  q  1   d   subscript  q  2   d   subscript  q  3       \iiint_{V}\varphi(x,y,z)dV=\iiint_{V}\chi(q_{1},q_{2},q_{3})Jdq_{1}dq_{2}dq_{3}      |      âˆ­  V    ğ®   (  x  ,  y  ,  z  )   d  V    =    âˆ­  V    ğ¯   (   q  1   ,   q  2   ,   q  3   )   J  d   q  1   d   q  2   d   q  3           subscript  triple-integral  V     ğ®   x  y  z   d  V      subscript  triple-integral  V     ğ¯    subscript  q  1    subscript  q  2    subscript  q  3    J  d   subscript  q  1   d   subscript  q  2   d   subscript  q  3       \iiint_{V}\mathbf{u}(x,y,z)dV=\iiint_{V}\mathbf{v}(q_{1},q_{2},q_{3})Jdq_{1}dq%
 _{2}dq_{3}            Differentiation  The expressions for the gradient, divergence, and Laplacian can be directly extended to n -dimensions, however the curl is only defined in 3d.  The vector field b i is tangent to the q i coordinate curve and forms a natural basis at each point on the curve. This basis, as discussed at the beginning of this article, is also called the covariant curvilinear basis. We can also define a reciprocal basis , or contravariant curvilinear basis, b i . All the algebraic relations between the basis vectors, as discussed in the section on tensor algebra, apply for the natural basis and its reciprocal at each point x .        scope=col Operator   scope=col Scalar field   scope=col Vector field   scope=col 2nd order tensor field       Gradient   |     âˆ‡  Ï†   =     1   h  i       âˆ‚  Ï†    âˆ‚   q  i      ğ›  i         normal-âˆ‡  Ï†      continued-fraction  1   subscript  h  i        Ï†      superscript  q  i      superscript  ğ›  i      \nabla\varphi=\cfrac{1}{h_{i}}{\partial\varphi\over\partial q^{i}}\mathbf{b}^{i}      |     âˆ‡  ğ¯   =      1   h  i  2       âˆ‚  ğ¯    âˆ‚   q  i      âŠ—   ğ›  i         normal-âˆ‡  ğ¯    tensor-product     continued-fraction  1   superscript   subscript  h  i   2        ğ¯      superscript  q  i       subscript  ğ›  i      \nabla\mathbf{v}=\cfrac{1}{h_{i}^{2}}{\partial\mathbf{v}\over\partial q^{i}}%
 \otimes\mathbf{b}_{i}      |     âˆ‡  ğ‘º   =      âˆ‚  ğ‘º    âˆ‚   q  i      âŠ—   ğ›  i         bold-âˆ‡  ğ‘º    tensor-product   continued-fraction    ğ‘º      superscript  q  i      superscript  ğ›  i      \boldsymbol{\nabla}\boldsymbol{S}=\cfrac{\partial\boldsymbol{S}}{\partial q^{i%
 }}\otimes\mathbf{b}^{i}        Divergence   | N/A   |     âˆ‡  â‹…  ğ¯   =     1    âˆ  j    h  j       âˆ‚   âˆ‚   q  i      (    v  i     âˆ   j  â‰   i     h  j     )         normal-â‹…  normal-âˆ‡  ğ¯      continued-fraction  1    subscript  product  j    subscript  h  j           superscript  q  i        superscript  v  i     subscript  product    j  i     subscript  h  j        \nabla\cdot\mathbf{v}=\cfrac{1}{\prod_{j}h_{j}}\frac{\partial}{\partial q^{i}}%
 (v^{i}\prod_{j\neq i}h_{j})      |      (   âˆ‡  â‹…  ğ‘º   )   â‹…  ğš   =   âˆ‡  â‹…   (   ğ‘º  â‹…  ğš   )         normal-â‹…   normal-â‹…  bold-âˆ‡  ğ‘º   ğš    normal-â‹…  bold-âˆ‡   normal-â‹…  ğ‘º  ğš      (\boldsymbol{\nabla}\cdot\boldsymbol{S})\cdot\mathbf{a}=\boldsymbol{\nabla}%
 \cdot(\boldsymbol{S}\cdot\mathbf{a})   where a is an arbitrary constant vector. In curvilinear coordinates,     âˆ‡  â‹…  ğ‘º   =    [      âˆ‚   S   i  j      âˆ‚   q  k      -    Î“   k  i   l    S   l  j     -    Î“   k  j   l    S   i  l      ]    g   i  k     ğ›  j         normal-â‹…  bold-âˆ‡  ğ‘º      delimited-[]     continued-fraction     subscript  S    i  j        superscript  q  k        subscript   superscript  normal-Î“  l     k  i     subscript  S    l  j        subscript   superscript  normal-Î“  l     k  j     subscript  S    i  l        superscript  g    i  k     superscript  ğ›  j      \boldsymbol{\nabla}\cdot\boldsymbol{S}=\left[\cfrac{\partial S_{ij}}{\partial q%
 ^{k}}-\Gamma^{l}_{ki}S_{lj}-\Gamma^{l}_{kj}S_{il}\right]g^{ik}\mathbf{b}^{j}        Laplacian   |      âˆ‡  2   Ï†   =     1    âˆ  j    h  j       âˆ‚   âˆ‚   q  i      (       âˆ  j    h  j     h  i  2       âˆ‚  Ï†    âˆ‚   q  i      )          superscript  normal-âˆ‡  2   Ï†      continued-fraction  1    subscript  product  j    subscript  h  j           superscript  q  i        continued-fraction    subscript  product  j    subscript  h  j     superscript   subscript  h  i   2        Ï†      superscript  q  i         \nabla^{2}\varphi=\cfrac{1}{\prod_{j}h_{j}}\frac{\partial}{\partial q^{i}}%
 \left(\cfrac{\prod_{j}h_{j}}{h_{i}^{2}}\frac{\partial\varphi}{\partial q^{i}}\right)      |   |     Curl   | N/A   | For vector fields in 3d only,     âˆ‡  Ã—  ğ¯   =    1    h  1    h  2    h  3      ğ  i    Ïµ   i  j  k     h  i     âˆ‚   (    h  k    v  k    )     âˆ‚   q  j            normal-âˆ‡  ğ¯       1     subscript  h  1    subscript  h  2    subscript  h  3      subscript  ğ  i    subscript  Ïµ    i  j  k     subscript  h  i          subscript  h  k    subscript  v  k        superscript  q  j        \nabla\times\mathbf{v}=\frac{1}{h_{1}h_{2}h_{3}}\mathbf{e}_{i}\epsilon_{ijk}h_%
 {i}\frac{\partial(h_{k}v_{k})}{\partial q^{j}}   where    Ïµ   i  j  k      subscript  Ïµ    i  j  k     \epsilon_{ijk}   is the Levi-Civita symbol .   | N/A       Fictitious forces in general curvilinear coordinates  An inertial coordinate system is defined as a system of space and time coordinates x 1 , x 2 , x 3 , t in terms of which the equations of motion of a particle free of external forces are simply d 2 x j /d t 2 =Â 0. 22 In this context, a coordinate system can fail to be â€œinertialâ€ either due to non-straight time axis or non-straight space axes (or both). In other words, the basis vectors of the coordinates may vary in time at fixed positions, or they may vary with position at fixed times, or both. When equations of motion are expressed in terms of any non-inertial coordinate system (in this sense), extra terms appear, called Christoffel symbols. Strictly speaking, these terms represent components of the absolute acceleration (in classical mechanics), but we may also choose to continue to regard d 2 x j /d t 2 as the acceleration (as if the coordinates were inertial) and treat the extra terms as if they were forces, in which case they are called fictitious forces. 23 The component of any such fictitious force normal to the path of the particle and in the plane of the pathâ€™s curvature is then called centrifugal force . 24  This more general context makes clear the correspondence between the concepts of centrifugal force in rotating coordinate systems and in stationary curvilinear coordinate systems. (Both of these concepts appear frequently in the literature. 25 26 27 ) For a simple example, consider a particle of mass m moving in a circle of radius r with angular speed w relative to a system of polar coordinates rotating with angular speed W . The radial equation of motion is mr â€Â = F r + mr ( w + W ) 2 . Thus the centrifugal force is mr times the square of the absolute rotational speed A = w + W of the particle. If we choose a coordinate system rotating at the speed of the particle, then W = A and w =Â 0, in which case the centrifugal force is mrA 2 , whereas if we choose a stationary coordinate system we have W =Â 0 and w = A , in which case the centrifugal force is again mrA 2 . The reason for this equality of results is that in both cases the basis vectors at the particleâ€™s location are changing in time in exactly the same way. Hence these are really just two different ways of describing exactly the same thing, one description being in terms of rotating coordinates and the other being in terms of stationary curvilinear coordinates, both of which are non-inertial according to the more abstract meaning of that term.  When describing general motion, the actual forces acting on a particle are often referred to the instantaneous osculating circle tangent to the path of motion, and this circle in the general case is not centered at a fixed location, and so the decomposition into centrifugal and Coriolis components is constantly changing. This is true regardless of whether the motion is described in terms of stationary or rotating coordinates.  See also   Covariance and contravariance  Introduction to the mathematics of general relativity  Orthogonal coordinates  Frenetâ€“Serret formulas  Covariant derivative  Tensor derivative (continuum mechanics)  Curvilinear perspective  Del in cylindrical and spherical coordinates   References  Further reading      External links   Planetmath.org Derivation of Unit vectors in curvilinear coordinates  MathWorld's page on Curvilinear Coordinates  Prof. R. Brannon's E-Book on Curvilinear Coordinates  1 â€“ Wikiversity , Introduction to Elasticity/Tensors.   "  Category:Coordinate systems  *3     â†©   â†©  â†©  â†©  â†©  â†©   â†©  â†©   â†©  â†©   â†©  â†©  Ogden â†©      â†©  â†©  â†©  â†©  â†©  â†©     