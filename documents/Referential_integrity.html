<html lang="en">
<head>
<meta charset="utf-8"/>
<title offset="948">Referential integrity</title>
<script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_SVG.js" type="text/javascript">
</script>
</head>
<body>
<h1>Referential integrity</h1>
<hr/>

<p> <strong>Referential integrity</strong> is a property of data which, when satisfied, requires every value of one attribute (column) of a <a href="relation_(database)" title="wikilink">relation</a> (table) to exist as a value of another attribute in a different (or the same) relation (table).<a class="footnoteRef" href="#fn1" id="fnref1"><sup>1</sup></a></p>

<p>For referential integrity to hold in a <a href="relational_database" title="wikilink">relational database</a>, any field in a <a href="table_(database)" title="wikilink">table</a> that is declared a <a href="foreign_key" title="wikilink">foreign key</a> can contain either a null value, or only values from a parent table's <a href="primary_key" title="wikilink">primary key</a> or a <a href="candidate_key" title="wikilink">candidate key</a>.<a class="footnoteRef" href="#fn2" id="fnref2"><sup>2</sup></a> In other words, when a foreign key value is used it must reference a valid, existing primary key in the parent table. For instance, deleting a record that contains a value referred to by a foreign key in another table would break referential integrity. Some <a href="relational_database_management_system" title="wikilink">relational database management systems</a> (RDBMS) can enforce referential integrity, normally either by deleting the foreign key rows as well to maintain integrity, or by returning an error and not performing the delete. Which method is used may be determined by a referential integrity constraint defined in a <a href="data_dictionary" title="wikilink">data dictionary</a>.</p>

<p>The adjective 'referential' describes the action that a <a href="foreign_key" title="wikilink">foreign key</a> performs, 'referring' to a link field in another table. In simple terms, 'referential integrity' is a guarantee that the target it 'refers' to will be found. A lack of referential integrity in a database can lead relational databases to return incomplete data, usually with no indication of an error.</p>
<h2 id="formalization">Formalization</h2>

<p>An <strong>inclusion dependency</strong> over two (possibly identical) predicates 

<math display="inline" id="Referential_integrity:0">
 <semantics>
  <mi>R</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>R</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   R
  </annotation>
 </semantics>
</math>

 and 

<math display="inline" id="Referential_integrity:1">
 <semantics>
  <mi>S</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>S</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   S
  </annotation>
 </semantics>
</math>

 from a schema is written 

<math display="inline" id="Referential_integrity:2">
 <semantics>
  <mrow>
   <mrow>
    <mi>R</mi>
    <mrow>
     <mo stretchy="false">[</mo>
     <msub>
      <mi>A</mi>
      <mn>1</mn>
     </msub>
     <mo>,</mo>
     <mi mathvariant="normal">…</mi>
     <mo>,</mo>
     <msub>
      <mi>A</mi>
      <mi>n</mi>
     </msub>
     <mo stretchy="false">]</mo>
    </mrow>
   </mrow>
   <mo>⊆</mo>
   <mrow>
    <mi>S</mi>
    <mrow>
     <mo stretchy="false">[</mo>
     <msub>
      <mi>B</mi>
      <mn>1</mn>
     </msub>
     <mo>,</mo>
     <mi mathvariant="normal">…</mi>
     <mo>,</mo>
     <msub>
      <mi>B</mi>
      <mi>n</mi>
     </msub>
     <mo stretchy="false">]</mo>
    </mrow>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <subset></subset>
    <apply>
     <times></times>
     <ci>R</ci>
     <list>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>A</ci>
       <cn type="integer">1</cn>
      </apply>
      <ci>normal-…</ci>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>A</ci>
       <ci>n</ci>
      </apply>
     </list>
    </apply>
    <apply>
     <times></times>
     <ci>S</ci>
     <list>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>B</ci>
       <cn type="integer">1</cn>
      </apply>
      <ci>normal-…</ci>
      <apply>
       <csymbol cd="ambiguous">subscript</csymbol>
       <ci>B</ci>
       <ci>n</ci>
      </apply>
     </list>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   R[A_{1},...,A_{n}]\subseteq S[B_{1},...,B_{n}]
  </annotation>
 </semantics>
</math>

, where the 

<math display="inline" id="Referential_integrity:3">
 <semantics>
  <msub>
   <mi>A</mi>
   <mi>i</mi>
  </msub>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <csymbol cd="ambiguous">subscript</csymbol>
    <ci>A</ci>
    <ci>i</ci>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   A_{i}
  </annotation>
 </semantics>
</math>

, 

<math display="inline" id="Referential_integrity:4">
 <semantics>
  <msub>
   <mi>B</mi>
   <mi>i</mi>
  </msub>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <csymbol cd="ambiguous">subscript</csymbol>
    <ci>B</ci>
    <ci>i</ci>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   B_{i}
  </annotation>
 </semantics>
</math>

 are distinct attributes (column names) of 

<math display="inline" id="Referential_integrity:5">
 <semantics>
  <mi>R</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>R</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   R
  </annotation>
 </semantics>
</math>

 and 

<math display="inline" id="Referential_integrity:6">
 <semantics>
  <mi>S</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>S</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   S
  </annotation>
 </semantics>
</math>

. It implies that the tuples of values appearing in columns 

<math display="inline" id="Referential_integrity:7">
 <semantics>
  <mrow>
   <msub>
    <mi>A</mi>
    <mn>1</mn>
   </msub>
   <mo>,</mo>
   <mi mathvariant="normal">…</mi>
   <mo>,</mo>
   <msub>
    <mi>A</mi>
    <mi>n</mi>
   </msub>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <list>
    <apply>
     <csymbol cd="ambiguous">subscript</csymbol>
     <ci>A</ci>
     <cn type="integer">1</cn>
    </apply>
    <ci>normal-…</ci>
    <apply>
     <csymbol cd="ambiguous">subscript</csymbol>
     <ci>A</ci>
     <ci>n</ci>
    </apply>
   </list>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   A_{1},...,A_{n}
  </annotation>
 </semantics>
</math>

 for facts of 

<math display="inline" id="Referential_integrity:8">
 <semantics>
  <mi>R</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>R</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   R
  </annotation>
 </semantics>
</math>

 must also appear as a tuple of values in columns 

<math display="inline" id="Referential_integrity:9">
 <semantics>
  <mrow>
   <msub>
    <mi>B</mi>
    <mn>1</mn>
   </msub>
   <mo>,</mo>
   <mi mathvariant="normal">…</mi>
   <mo>,</mo>
   <msub>
    <mi>B</mi>
    <mi>n</mi>
   </msub>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <list>
    <apply>
     <csymbol cd="ambiguous">subscript</csymbol>
     <ci>B</ci>
     <cn type="integer">1</cn>
    </apply>
    <ci>normal-…</ci>
    <apply>
     <csymbol cd="ambiguous">subscript</csymbol>
     <ci>B</ci>
     <ci>n</ci>
    </apply>
   </list>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   B_{1},...,B_{n}
  </annotation>
 </semantics>
</math>

 for some fact of 

<math display="inline" id="Referential_integrity:10">
 <semantics>
  <mi>S</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>S</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   S
  </annotation>
 </semantics>
</math>

.</p>

<p>Logical implication between inclusion dependencies can be axiomatized by inference rules <a class="footnoteRef" href="#fn3" id="fnref3"><sup>3</sup></a> and can be <a href="decidable_language" title="wikilink">decided</a> by a <a class="uri" href="PSPACE" title="wikilink">PSPACE</a> algorithm. The problem can be shown to be <a class="uri" href="PSPACE-complete" title="wikilink">PSPACE-complete</a> by reduction from the acceptance problem for a <a href="linear_bounded_automaton" title="wikilink">linear bounded automaton</a>.<a class="footnoteRef" href="#fn4" id="fnref4"><sup>4</sup></a> However, logical implication between dependencies that can be inclusion dependencies or <a href="functional_dependencies" title="wikilink">functional dependencies</a> is undecidable by reduction from the <a href="word_problem_(computability)" title="wikilink">word problem</a> for <a class="uri" href="monoids" title="wikilink">monoids</a>.<a class="footnoteRef" href="#fn5" id="fnref5"><sup>5</sup></a></p>
<h2 id="see-also">See also</h2>
<ul>
<li><a href="Dangling_pointer" title="wikilink">Dangling pointer</a></li>
<li><a href="Declarative_Referential_Integrity" title="wikilink">Declarative Referential Integrity</a></li>
<li><a href="Domain/key_normal_form" title="wikilink">Domain/key normal form</a></li>
<li><a href="Entity_integrity" title="wikilink">Entity integrity</a></li>
<li><a href="Functional_dependency" title="wikilink">Functional dependency</a></li>
<li><a href="Propagation_constraint" title="wikilink">Propagation constraint</a></li>
<li><a href="Surrogate_key" title="wikilink">Surrogate key</a></li>
<li><a href="Slowly_changing_dimension" title="wikilink">Slowly changing dimension</a></li>
</ul>
<h2 id="references">References</h2>

<p>"</p>

<p><a href="Category:Database_management_systems" title="wikilink">Category:Database management systems</a> <a href="Category:Data_quality" title="wikilink">Category:Data quality</a></p>
<section class="footnotes">
<hr/>
<ol>
<li id="fn1"><a href="#fnref1">↩</a></li>
<li id="fn2">Coronel et al. (2013). Database Systems 10th ed. Cengage Learning, ISBN 978-1-111-96960-8<a href="#fnref2">↩</a></li>
<li id="fn3"><a href="Serge_Abiteboul" title="wikilink">Abiteboul</a>, <a href="Richard_B._Hull" title="wikilink">Hull</a>, <a href="Victor_Vianu" title="wikilink">Vianu</a>. <em>Foundations of Databases</em> Addison-Wesley, 1994. Section 9.1, p. 193. Freely available <a href="http://webdam.inria.fr/Alice/">online</a>.<a href="#fnref3">↩</a></li>
<li id="fn4">ibid., p. 196<a href="#fnref4">↩</a></li>
<li id="fn5">ibid., p. 199<a href="#fnref5">↩</a></li>
</ol>
</section>
</body>
</html>
