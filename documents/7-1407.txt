   Profunctor      Profunctor   In category theory , a branch of mathematics , profunctors are a generalization of relations and also of bimodules . They are related to the notion of correspondences .  Definition  A profunctor (also named distributor by the French school and module by the Sydney school)    ϕ    ϕ   \,\phi   from a category    C   C   C   to a category   D   D   D   , written      ϕ  :   C  ↛  D      normal-:  ϕ   normal-↛  C  D     \phi\colon C\nrightarrow D   ,  is defined to be a functor      ϕ  :     D  op   ×  C   →  𝐒𝐞𝐭      normal-:  ϕ   normal-→     superscript  D  op   C   𝐒𝐞𝐭     \phi\colon D^{\mathrm{op}}\times C\to\mathbf{Set}     where    D  op     superscript  D  op    D^{\mathrm{op}}   denotes the opposite category of   D   D   D   and   𝐒𝐞𝐭   𝐒𝐞𝐭   \mathbf{Set}   denotes the category of sets . Given morphisms    f  :   d  →    d  ′   ,  g    :   c  →   c  ′         normal-:  f   normal-→  d    superscript  d  normal-′   g      normal-:     normal-→  c   superscript  c  normal-′       f\colon d\to d^{\prime},g\colon c\to c^{\prime}   respectively in    D  ,  C     D  C    D,C   and an element    x  ∈   ϕ   (   d  ′   ,  c  )        x    ϕ    superscript  d  normal-′   c      x\in\phi(d^{\prime},c)   , we write      x  f   ∈   ϕ   (  d  ,  c  )     ,    g  x   ∈   ϕ   (   d  ′   ,   c  ′   )        formulae-sequence      x  f     ϕ   d  c         g  x     ϕ    superscript  d  normal-′    superscript  c  normal-′        xf\in\phi(d,c),gx\in\phi(d^{\prime},c^{\prime})   to denote the actions.  Using the cartesian closure of   𝐂𝐚𝐭   𝐂𝐚𝐭   \mathbf{Cat}   , the category of small categories , the profunctor   ϕ   ϕ   \phi   can be seen as a functor       ϕ  ^   :   C  →   D  ^       normal-:   normal-^  ϕ    normal-→  C   normal-^  D      \hat{\phi}\colon C\to\hat{D}     where    D  ^     normal-^  D    \hat{D}   denotes the category    Set   D  op      superscript  Set   superscript  D  op     \mathrm{Set}^{D^{\mathrm{op}}}   of presheaves over   D   D   D   .  A correspondence from   C   C   C   to   D   D   D   is a profunctor    D  ↛  C     normal-↛  D  C    D\nrightarrow C   .  Composition of profunctors  The composite    ψ  ϕ      ψ  ϕ    \psi\phi   of two profunctors      ϕ  :   C  ↛  D      normal-:  ϕ   normal-↛  C  D     \phi\colon C\nrightarrow D   and    ψ  :   D  ↛  E      normal-:  ψ   normal-↛  D  E     \psi\colon D\nrightarrow E     is given by       ψ  ϕ   =     Lan   Y  D     (   ψ  ^   )    ∘   ϕ  ^          ψ  ϕ        subscript  Lan   subscript  Y  D     normal-^  ψ     normal-^  ϕ      \psi\phi=\mathrm{Lan}_{Y_{D}}(\hat{\psi})\circ\hat{\phi}     where     Lan   Y  D     (   ψ  ^   )        subscript  Lan   subscript  Y  D     normal-^  ψ     \mathrm{Lan}_{Y_{D}}(\hat{\psi})   is the left Kan extension of the functor    ψ  ^     normal-^  ψ    \hat{\psi}   along the Yoneda functor      Y  D   :   D  →   D  ^       normal-:   subscript  Y  D    normal-→  D   normal-^  D      Y_{D}\colon D\to\hat{D}   of   D   D   D   (which to every object   d   d   d   of   D   D   D   associates the functor     D   (  -  ,  d  )    :    D  op   →  Set      normal-:    D    d     normal-→   superscript  D  op   Set     D(-,d)\colon D^{\mathrm{op}}\to\mathrm{Set}   ).  It can be shown that       (  ψ  ϕ  )    (  e  ,  c  )   =   (   ∐   d  ∈  D    ψ   (  e  ,  d  )   ×  ϕ   (  d  ,  c  )   )   /  ∼     fragments   fragments  normal-(  ψ  ϕ  normal-)    fragments  normal-(  e  normal-,  c  normal-)     fragments  normal-(   subscript  coproduct    d  D    ψ   fragments  normal-(  e  normal-,  d  normal-)    ϕ   fragments  normal-(  d  normal-,  c  normal-)   normal-)    similar-to    (\psi\phi)(e,c)=\left(\coprod_{d\in D}\psi(e,d)\times\phi(d,c)\right)\Bigg/\sim     where   ∼   similar-to   \sim   is the least equivalence relation such that     (   y  ′   ,   x  ′   )   ∼   (  y  ,  x  )      similar-to    superscript  y  normal-′    superscript  x  normal-′     y  x     (y^{\prime},x^{\prime})\sim(y,x)   whenever there exists a morphism   v   v   v   in   D   D   D   such that       y  ′   =   v  y   ∈   ψ   (  e  ,   d  ′   )           superscript  y  normal-′     v  y          ψ   e   superscript  d  normal-′        y^{\prime}=vy\in\psi(e,d^{\prime})   and      x  ′   v   =  x  ∈   ϕ   (  d  ,  c  )             superscript  x  normal-′   v   x         ϕ   d  c       x^{\prime}v=x\in\phi(d,c)   .  The bicategory of profunctors  Composition of profunctors is associative only up to isomorphism (because the product is not strictly associative in Set ). The best one can hope is therefore to build a bicategory  Prof whose   0-cells are small categories ,  1-cells between two small categories are the profunctors between those categories,  2-cells between two profunctors are the natural transformations between those profunctors.   Properties  Lifting functors to profunctors  A functor    F  :   C  →  D      normal-:  F   normal-→  C  D     F\colon C\to D   can be seen as a profunctor     ϕ  F   :   C  ↛  D      normal-:   subscript  ϕ  F    normal-↛  C  D     \phi_{F}\colon C\nrightarrow D   by postcomposing with the Yoneda functor:       ϕ  F   =    Y  D   ∘  F        subscript  ϕ  F      subscript  Y  D   F     \phi_{F}=Y_{D}\circ F   .  It can be shown that such a profunctor    ϕ  F     subscript  ϕ  F    \phi_{F}   has a right adjoint. Moreover, this is a characterization: a profunctor    ϕ  :   C  ↛  D      normal-:  ϕ   normal-↛  C  D     \phi\colon C\nrightarrow D   has a right adjoint if and only if     ϕ  ^   :   C  →   D  ^       normal-:   normal-^  ϕ    normal-→  C   normal-^  D      \hat{\phi}\colon C\to\hat{D}   factors through the Cauchy completion of   D   D   D   , i.e. there exists a functor    F  :   C  →  D      normal-:  F   normal-→  C  D     F\colon C\to D   such that     ϕ  ^   =    Y  D   ∘  F        normal-^  ϕ      subscript  Y  D   F     \hat{\phi}=Y_{D}\circ F   .  References        See also   Categorical bridge  Correspondence_(mathematics)   "  Category:Functors   