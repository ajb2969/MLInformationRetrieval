   Profunctor      Profunctor   In category theory , a branch of mathematics , profunctors are a generalization of relations and also of bimodules . They are related to the notion of correspondences .  Definition  A profunctor (also named distributor by the French school and module by the Sydney school)    Ï•    Ï•   \,\phi   from a category    C   C   C   to a category   D   D   D   , written      Ï•  :   C  â†›  D      normal-:  Ï•   normal-â†›  C  D     \phi\colon C\nrightarrow D   ,  is defined to be a functor      Ï•  :     D  op   Ã—  C   â†’  ğ’ğğ­      normal-:  Ï•   normal-â†’     superscript  D  op   C   ğ’ğğ­     \phi\colon D^{\mathrm{op}}\times C\to\mathbf{Set}     where    D  op     superscript  D  op    D^{\mathrm{op}}   denotes the opposite category of   D   D   D   and   ğ’ğğ­   ğ’ğğ­   \mathbf{Set}   denotes the category of sets . Given morphisms    f  :   d  â†’    d  â€²   ,  g    :   c  â†’   c  â€²         normal-:  f   normal-â†’  d    superscript  d  normal-â€²   g      normal-:     normal-â†’  c   superscript  c  normal-â€²       f\colon d\to d^{\prime},g\colon c\to c^{\prime}   respectively in    D  ,  C     D  C    D,C   and an element    x  âˆˆ   Ï•   (   d  â€²   ,  c  )        x    Ï•    superscript  d  normal-â€²   c      x\in\phi(d^{\prime},c)   , we write      x  f   âˆˆ   Ï•   (  d  ,  c  )     ,    g  x   âˆˆ   Ï•   (   d  â€²   ,   c  â€²   )        formulae-sequence      x  f     Ï•   d  c         g  x     Ï•    superscript  d  normal-â€²    superscript  c  normal-â€²        xf\in\phi(d,c),gx\in\phi(d^{\prime},c^{\prime})   to denote the actions.  Using the cartesian closure of   ğ‚ğšğ­   ğ‚ğšğ­   \mathbf{Cat}   , the category of small categories , the profunctor   Ï•   Ï•   \phi   can be seen as a functor       Ï•  ^   :   C  â†’   D  ^       normal-:   normal-^  Ï•    normal-â†’  C   normal-^  D      \hat{\phi}\colon C\to\hat{D}     where    D  ^     normal-^  D    \hat{D}   denotes the category    Set   D  op      superscript  Set   superscript  D  op     \mathrm{Set}^{D^{\mathrm{op}}}   of presheaves over   D   D   D   .  A correspondence from   C   C   C   to   D   D   D   is a profunctor    D  â†›  C     normal-â†›  D  C    D\nrightarrow C   .  Composition of profunctors  The composite    Ïˆ  Ï•      Ïˆ  Ï•    \psi\phi   of two profunctors      Ï•  :   C  â†›  D      normal-:  Ï•   normal-â†›  C  D     \phi\colon C\nrightarrow D   and    Ïˆ  :   D  â†›  E      normal-:  Ïˆ   normal-â†›  D  E     \psi\colon D\nrightarrow E     is given by       Ïˆ  Ï•   =     Lan   Y  D     (   Ïˆ  ^   )    âˆ˜   Ï•  ^          Ïˆ  Ï•        subscript  Lan   subscript  Y  D     normal-^  Ïˆ     normal-^  Ï•      \psi\phi=\mathrm{Lan}_{Y_{D}}(\hat{\psi})\circ\hat{\phi}     where     Lan   Y  D     (   Ïˆ  ^   )        subscript  Lan   subscript  Y  D     normal-^  Ïˆ     \mathrm{Lan}_{Y_{D}}(\hat{\psi})   is the left Kan extension of the functor    Ïˆ  ^     normal-^  Ïˆ    \hat{\psi}   along the Yoneda functor      Y  D   :   D  â†’   D  ^       normal-:   subscript  Y  D    normal-â†’  D   normal-^  D      Y_{D}\colon D\to\hat{D}   of   D   D   D   (which to every object   d   d   d   of   D   D   D   associates the functor     D   (  -  ,  d  )    :    D  op   â†’  Set      normal-:    D    d     normal-â†’   superscript  D  op   Set     D(-,d)\colon D^{\mathrm{op}}\to\mathrm{Set}   ).  It can be shown that       (  Ïˆ  Ï•  )    (  e  ,  c  )   =   (   âˆ   d  âˆˆ  D    Ïˆ   (  e  ,  d  )   Ã—  Ï•   (  d  ,  c  )   )   /  âˆ¼     fragments   fragments  normal-(  Ïˆ  Ï•  normal-)    fragments  normal-(  e  normal-,  c  normal-)     fragments  normal-(   subscript  coproduct    d  D    Ïˆ   fragments  normal-(  e  normal-,  d  normal-)    Ï•   fragments  normal-(  d  normal-,  c  normal-)   normal-)    similar-to    (\psi\phi)(e,c)=\left(\coprod_{d\in D}\psi(e,d)\times\phi(d,c)\right)\Bigg/\sim     where   âˆ¼   similar-to   \sim   is the least equivalence relation such that     (   y  â€²   ,   x  â€²   )   âˆ¼   (  y  ,  x  )      similar-to    superscript  y  normal-â€²    superscript  x  normal-â€²     y  x     (y^{\prime},x^{\prime})\sim(y,x)   whenever there exists a morphism   v   v   v   in   D   D   D   such that       y  â€²   =   v  y   âˆˆ   Ïˆ   (  e  ,   d  â€²   )           superscript  y  normal-â€²     v  y          Ïˆ   e   superscript  d  normal-â€²        y^{\prime}=vy\in\psi(e,d^{\prime})   and      x  â€²   v   =  x  âˆˆ   Ï•   (  d  ,  c  )             superscript  x  normal-â€²   v   x         Ï•   d  c       x^{\prime}v=x\in\phi(d,c)   .  The bicategory of profunctors  Composition of profunctors is associative only up to isomorphism (because the product is not strictly associative in Set ). The best one can hope is therefore to build a bicategory  Prof whose   0-cells are small categories ,  1-cells between two small categories are the profunctors between those categories,  2-cells between two profunctors are the natural transformations between those profunctors.   Properties  Lifting functors to profunctors  A functor    F  :   C  â†’  D      normal-:  F   normal-â†’  C  D     F\colon C\to D   can be seen as a profunctor     Ï•  F   :   C  â†›  D      normal-:   subscript  Ï•  F    normal-â†›  C  D     \phi_{F}\colon C\nrightarrow D   by postcomposing with the Yoneda functor:       Ï•  F   =    Y  D   âˆ˜  F        subscript  Ï•  F      subscript  Y  D   F     \phi_{F}=Y_{D}\circ F   .  It can be shown that such a profunctor    Ï•  F     subscript  Ï•  F    \phi_{F}   has a right adjoint. Moreover, this is a characterization: a profunctor    Ï•  :   C  â†›  D      normal-:  Ï•   normal-â†›  C  D     \phi\colon C\nrightarrow D   has a right adjoint if and only if     Ï•  ^   :   C  â†’   D  ^       normal-:   normal-^  Ï•    normal-â†’  C   normal-^  D      \hat{\phi}\colon C\to\hat{D}   factors through the Cauchy completion of   D   D   D   , i.e. there exists a functor    F  :   C  â†’  D      normal-:  F   normal-â†’  C  D     F\colon C\to D   such that     Ï•  ^   =    Y  D   âˆ˜  F        normal-^  Ï•      subscript  Y  D   F     \hat{\phi}=Y_{D}\circ F   .  References        See also   Categorical bridge  Correspondence_(mathematics)   "  Category:Functors   