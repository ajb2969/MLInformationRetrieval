<html lang="en">
<head>
<meta charset="utf-8"/>
<title offset="1838">Draft:Hawkes process</title>
<script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_SVG.js" type="text/javascript">
</script>
</head>
<body>
<h1>Draft:Hawkes process</h1>
<hr/>

<p>Hawkes process are used to study social network. The Hawkes model of 

<math display="inline" id="Draft:Hawkes_process:0">
<semantics>
<mi>d</mi>
<annotation-xml encoding="MathML-Content">
<ci>d</ci>
</annotation-xml>
<annotation encoding="application/x-tex">
   d
  </annotation>
</semantics>
</math>

 users is in figure 1:  Hawkes models is to quantify the tendency of any users to make actions in a social network. In order to achieve it, we would like to set up some notations as follows:</p>
<ul>
<li>
<math display="inline" id="Draft:Hawkes_process:1">
<semantics>
<mrow>
<mrow>
<msub>
<mi>N</mi>
<mi>i</mi>
</msub>
<mrow>
<mo>(</mo>
<mi>t</mi>
<mo>)</mo>
</mrow>
</mrow>
<mo>:=</mo>
<mrow>
<msub>
<mo largeop="true" symmetric="true">∑</mo>
<mrow>
<mi>j</mi>
<mo>≥</mo>
<mn>1</mn>
</mrow>
</msub>
<msub>
<mn>1</mn>
<mrow>
<msub>
<mi>t</mi>
<mrow>
<mi>i</mi>
<mo>,</mo>
<mi>j</mi>
</mrow>
</msub>
<mo>≤</mo>
<mi>t</mi>
</mrow>
</msub>
</mrow>
</mrow>
<annotation-xml encoding="MathML-Content">
<apply>
<csymbol cd="latexml">assign</csymbol>
<apply>
<times></times>
<apply>
<csymbol cd="ambiguous">subscript</csymbol>
<ci>N</ci>
<ci>i</ci>
</apply>
<ci>t</ci>
</apply>
<apply>
<apply>
<csymbol cd="ambiguous">subscript</csymbol>
<sum></sum>
<apply>
<geq></geq>
<ci>j</ci>
<cn type="integer">1</cn>
</apply>
</apply>
<apply>
<csymbol cd="ambiguous">subscript</csymbol>
<cn type="integer">1</cn>
<apply>
<leq></leq>
<apply>
<csymbol cd="ambiguous">subscript</csymbol>
<ci>t</ci>
<list>
<ci>i</ci>
<ci>j</ci>
</list>
</apply>
<ci>t</ci>
</apply>
</apply>
</apply>
</apply>
</annotation-xml>
<annotation encoding="application/x-tex">
   N_{i}\left(t\right):=\sum_{j\geq 1}1_{t_{i,j}\leq t}
  </annotation>
</semantics>
</math>

 is a counting process of actions to all users made by a user i up to time t. We define a total count vectors. 

<math display="inline" id="Draft:Hawkes_process:2">
<semantics>
<mrow>
<msub>
<mi>N</mi>
<mi>t</mi>
</msub>
<mo>=</mo>
<msup>
<mrow>
<mo>[</mo>
<mrow>
<msub>
<mi>N</mi>
<mn>1</mn>
</msub>
<mrow>
<mo>(</mo>
<mi>t</mi>
<mo>)</mo>
</mrow>
</mrow>
<mo>,</mo>
<mi mathvariant="normal">…</mi>
<mo>,</mo>
<mrow>
<msub>
<mi>N</mi>
<mi>d</mi>
</msub>
<mrow>
<mo>(</mo>
<mi>t</mi>
<mo>)</mo>
</mrow>
</mrow>
<mo>]</mo>
</mrow>
<mi>T</mi>
</msup>
<mo>∈</mo>
<msup>
<mi>ℕ</mi>
<mi>d</mi>
</msup>
</mrow>
<annotation-xml encoding="MathML-Content">
<apply>
<and></and>
<apply>
<eq></eq>
<apply>
<csymbol cd="ambiguous">subscript</csymbol>
<ci>N</ci>
<ci>t</ci>
</apply>
<apply>
<csymbol cd="ambiguous">superscript</csymbol>
<list>
<apply>
<times></times>
<apply>
<csymbol cd="ambiguous">subscript</csymbol>
<ci>N</ci>
<cn type="integer">1</cn>
</apply>
<ci>t</ci>
</apply>
<ci>normal-…</ci>
<apply>
<times></times>
<apply>
<csymbol cd="ambiguous">subscript</csymbol>
<ci>N</ci>
<ci>d</ci>
</apply>
<ci>t</ci>
</apply>
</list>
<ci>T</ci>
</apply>
</apply>
<apply>
<in></in>
<share href="#.cmml">
</share>
<apply>
<csymbol cd="ambiguous">superscript</csymbol>
<ci>ℕ</ci>
<ci>d</ci>
</apply>
</apply>
</apply>
</annotation-xml>
<annotation encoding="application/x-tex">
   N_{t}=\left[N_{1}\left(t\right),...,N_{d}\left(t\right)\right]^{T}\in\mathbb{N%
}^{d}
  </annotation>
</semantics>
</math>

 for 

<math display="inline" id="Draft:Hawkes_process:3">
<semantics>
<mrow>
<mi>t</mi>
<mo>≥</mo>
<mn>0</mn>
</mrow>
<annotation-xml encoding="MathML-Content">
<apply>
<geq></geq>
<ci>t</ci>
<cn type="integer">0</cn>
</apply>
</annotation-xml>
<annotation encoding="application/x-tex">
   t\geq 0
  </annotation>
</semantics>
</math>
</li>
<li>Let 

<math display="inline" id="Draft:Hawkes_process:4">
<semantics>
<mrow>
<mi>A</mi>
<mo>=</mo>
<mrow>
<mo>(</mo>
<msub>
<mi>a</mi>
<mrow>
<mi>i</mi>
<mi>j</mi>
</mrow>
</msub>
<mo>)</mo>
</mrow>
</mrow>
<annotation-xml encoding="MathML-Content">
<apply>
<eq></eq>
<ci>A</ci>
<apply>
<csymbol cd="ambiguous">subscript</csymbol>
<ci>a</ci>
<apply>
<times></times>
<ci>i</ci>
<ci>j</ci>
</apply>
</apply>
</apply>
</annotation-xml>
<annotation encoding="application/x-tex">
   A=\left(a_{ij}\right)
  </annotation>
</semantics>
</math>

 be a 

<math display="inline" id="Draft:Hawkes_process:5">
<semantics>
<mrow>
<mi>d</mi>
<mo>×</mo>
<mi>d</mi>
</mrow>
<annotation-xml encoding="MathML-Content">
<apply>
<times></times>
<ci>d</ci>
<ci>d</ci>
</apply>
</annotation-xml>
<annotation encoding="application/x-tex">
   d\times d
  </annotation>
</semantics>
</math>

 matrix. Each entry 

<math display="inline" id="Draft:Hawkes_process:6">
<semantics>
<mrow>
<msub>
<mi>a</mi>
<mrow>
<mi>i</mi>
<mi>j</mi>
</mrow>
</msub>
<mo>≥</mo>
<mn>0</mn>
</mrow>
<annotation-xml encoding="MathML-Content">
<apply>
<geq></geq>
<apply>
<csymbol cd="ambiguous">subscript</csymbol>
<ci>a</ci>
<apply>
<times></times>
<ci>i</ci>
<ci>j</ci>
</apply>
</apply>
<cn type="integer">0</cn>
</apply>
</annotation-xml>
<annotation encoding="application/x-tex">
   a_{ij}\geq 0
  </annotation>
</semantics>
</math>

 is a coefficient that quantifies the influence from a user 

<math display="inline" id="Draft:Hawkes_process:7">
<semantics>
<mi>j</mi>
<annotation-xml encoding="MathML-Content">
<ci>j</ci>
</annotation-xml>
<annotation encoding="application/x-tex">
   j
  </annotation>
</semantics>
</math>

 to a user 

<math display="inline" id="Draft:Hawkes_process:8">
<semantics>
<mi>i</mi>
<annotation-xml encoding="MathML-Content">
<ci>i</ci>
</annotation-xml>
<annotation encoding="application/x-tex">
   i
  </annotation>
</semantics>
</math>

. Note 

<math display="inline" id="Draft:Hawkes_process:9">
<semantics>
<mi>A</mi>
<annotation-xml encoding="MathML-Content">
<ci>A</ci>
</annotation-xml>
<annotation encoding="application/x-tex">
   A
  </annotation>
</semantics>
</math>

 is an asymmetric matrix which makes sense in reality because influence from 

<math display="inline" id="Draft:Hawkes_process:10">
<semantics>
<mi>i</mi>
<annotation-xml encoding="MathML-Content">
<ci>i</ci>
</annotation-xml>
<annotation encoding="application/x-tex">
   i
  </annotation>
</semantics>
</math>

 to 

<math display="inline" id="Draft:Hawkes_process:11">
<semantics>
<mi>j</mi>
<annotation-xml encoding="MathML-Content">
<ci>j</ci>
</annotation-xml>
<annotation encoding="application/x-tex">
   j
  </annotation>
</semantics>
</math>

 is not equal to that from 

<math display="inline" id="Draft:Hawkes_process:12">
<semantics>
<mi>j</mi>
<annotation-xml encoding="MathML-Content">
<ci>j</ci>
</annotation-xml>
<annotation encoding="application/x-tex">
   j
  </annotation>
</semantics>
</math>

 to 

<math display="inline" id="Draft:Hawkes_process:13">
<semantics>
<mi>i</mi>
<annotation-xml encoding="MathML-Content">
<ci>i</ci>
</annotation-xml>
<annotation encoding="application/x-tex">
   i
  </annotation>
</semantics>
</math>

 in general.</li>
<li>
<math display="inline" id="Draft:Hawkes_process:14">
<semantics>
<mrow>
<msub>
<mi>μ</mi>
<mi>i</mi>
</msub>
<mo>≥</mo>
<mn>0</mn>
</mrow>
<annotation-xml encoding="MathML-Content">
<apply>
<geq></geq>
<apply>
<csymbol cd="ambiguous">subscript</csymbol>
<ci>μ</ci>
<ci>i</ci>
</apply>
<cn type="integer">0</cn>
</apply>
</annotation-xml>
<annotation encoding="application/x-tex">
   \mu_{i}\geq 0
  </annotation>
</semantics>
</math>

 is a baseline intensity (basic intensity) which mean a user 

<math display="inline" id="Draft:Hawkes_process:15">
<semantics>
<mi>i</mi>
<annotation-xml encoding="MathML-Content">
<ci>i</ci>
</annotation-xml>
<annotation encoding="application/x-tex">
   i
  </annotation>
</semantics>
</math>

's basic tendency to make actions without any effects by other users.</li>
<li>
<math display="inline" id="Draft:Hawkes_process:16">
<semantics>
<mrow>
<msub>
<mi>h</mi>
<mrow>
<mi>i</mi>
<mo>,</mo>
<mi>j</mi>
</mrow>
</msub>
<mo>:</mo>
<mrow>
<msup>
<mi>ℝ</mi>
<mo>+</mo>
</msup>
<mo>→</mo>
<msup>
<mi>ℝ</mi>
<mo>+</mo>
</msup>
</mrow>
</mrow>
<annotation-xml encoding="MathML-Content">
<apply>
<ci>normal-:</ci>
<apply>
<csymbol cd="ambiguous">subscript</csymbol>
<ci>h</ci>
<list>
<ci>i</ci>
<ci>j</ci>
</list>
</apply>
<apply>
<ci>normal-→</ci>
<apply>
<csymbol cd="ambiguous">superscript</csymbol>
<ci>ℝ</ci>
<plus></plus>
</apply>
<apply>
<csymbol cd="ambiguous">superscript</csymbol>
<ci>ℝ</ci>
<plus></plus>
</apply>
</apply>
</apply>
</annotation-xml>
<annotation encoding="application/x-tex">
   h_{i,j}:\mathbb{R}^{+}\rightarrow\mathbb{R}^{+}
  </annotation>
</semantics>
</math>

 is a decay function accounting for an influence diminishing from a user 

<math display="inline" id="Draft:Hawkes_process:17">
<semantics>
<mi>j</mi>
<annotation-xml encoding="MathML-Content">
<ci>j</ci>
</annotation-xml>
<annotation encoding="application/x-tex">
   j
  </annotation>
</semantics>
</math>

 to a user 

<math display="inline" id="Draft:Hawkes_process:18">
<semantics>
<mi>i</mi>
<annotation-xml encoding="MathML-Content">
<ci>i</ci>
</annotation-xml>
<annotation encoding="application/x-tex">
   i
  </annotation>
</semantics>
</math>

 along time 

<math display="inline" id="Draft:Hawkes_process:19">
<semantics>
<mi>t</mi>
<annotation-xml encoding="MathML-Content">
<ci>t</ci>
</annotation-xml>
<annotation encoding="application/x-tex">
   t
  </annotation>
</semantics>
</math>

. A common decay function 

<math display="inline" id="Draft:Hawkes_process:20">
<semantics>
<mrow>
<mrow>
<msub>
<mi>h</mi>
<mrow>
<mi>i</mi>
<mi>j</mi>
</mrow>
</msub>
<mrow>
<mo>(</mo>
<mi>t</mi>
<mo>)</mo>
</mrow>
</mrow>
<mo>=</mo>
<msup>
<mi>e</mi>
<mrow>
<mo>-</mo>
<mrow>
<msub>
<mi>β</mi>
<mrow>
<mi>i</mi>
<mo>,</mo>
<mi>j</mi>
</mrow>
</msub>
<mi>t</mi>
</mrow>
</mrow>
</msup>
</mrow>
<annotation-xml encoding="MathML-Content">
<apply>
<eq></eq>
<apply>
<times></times>
<apply>
<csymbol cd="ambiguous">subscript</csymbol>
<ci>h</ci>
<apply>
<times></times>
<ci>i</ci>
<ci>j</ci>
</apply>
</apply>
<ci>t</ci>
</apply>
<apply>
<csymbol cd="ambiguous">superscript</csymbol>
<ci>e</ci>
<apply>
<minus></minus>
<apply>
<times></times>
<apply>
<csymbol cd="ambiguous">subscript</csymbol>
<ci>β</ci>
<list>
<ci>i</ci>
<ci>j</ci>
</list>
</apply>
<ci>t</ci>
</apply>
</apply>
</apply>
</apply>
</annotation-xml>
<annotation encoding="application/x-tex">
   h_{ij}\left(t\right)=e^{-\beta_{i,j}t}
  </annotation>
</semantics>
</math>

.</li>
<li>If we let a parameter 

<math display="inline" id="Draft:Hawkes_process:21">
<semantics>
<mrow>
<mi>θ</mi>
<mo>:=</mo>
<mrow>
<mo>(</mo>
<mi>μ</mi>
<mo>,</mo>
<mi>A</mi>
<mo>)</mo>
</mrow>
</mrow>
<annotation-xml encoding="MathML-Content">
<apply>
<csymbol cd="latexml">assign</csymbol>
<ci>θ</ci>
<interval closure="open">
<ci>μ</ci>
<ci>A</ci>
</interval>
</apply>
</annotation-xml>
<annotation encoding="application/x-tex">
   \theta:=\left(\mu,A\right)
  </annotation>
</semantics>
</math>

. 

<math display="inline" id="Draft:Hawkes_process:22">
<semantics>
<mrow>
<msub>
<mi>λ</mi>
<mrow>
<mi>i</mi>
<mo>,</mo>
<mi>θ</mi>
</mrow>
</msub>
<mrow>
<mo>(</mo>
<mi>t</mi>
<mo>)</mo>
</mrow>
</mrow>
<annotation-xml encoding="MathML-Content">
<apply>
<times></times>
<apply>
<csymbol cd="ambiguous">subscript</csymbol>
<ci>λ</ci>
<list>
<ci>i</ci>
<ci>θ</ci>
</list>
</apply>
<ci>t</ci>
</apply>
</annotation-xml>
<annotation encoding="application/x-tex">
   \lambda_{i,\theta}\left(t\right)
  </annotation>
</semantics>
</math>

 is an intensity of 

<math display="inline" id="Draft:Hawkes_process:23">
<semantics>
<msub>
<mi>N</mi>
<mi>i</mi>
</msub>
<annotation-xml encoding="MathML-Content">
<apply>
<csymbol cd="ambiguous">subscript</csymbol>
<ci>N</ci>
<ci>i</ci>
</apply>
</annotation-xml>
<annotation encoding="application/x-tex">
   N_{i}
  </annotation>
</semantics>
</math>

 at the time 

<math display="inline" id="Draft:Hawkes_process:24">
<semantics>
<mi>t</mi>
<annotation-xml encoding="MathML-Content">
<ci>t</ci>
</annotation-xml>
<annotation encoding="application/x-tex">
   t
  </annotation>
</semantics>
</math>

 depending on 

<math display="inline" id="Draft:Hawkes_process:25">
<semantics>
<mi>θ</mi>
<annotation-xml encoding="MathML-Content">
<ci>θ</ci>
</annotation-xml>
<annotation encoding="application/x-tex">
   \theta
  </annotation>
</semantics>
</math>

. It can be interpreted as the rate/tendency for a user 

<math display="inline" id="Draft:Hawkes_process:26">
<semantics>
<mi>j</mi>
<annotation-xml encoding="MathML-Content">
<ci>j</ci>
</annotation-xml>
<annotation encoding="application/x-tex">
   j
  </annotation>
</semantics>
</math>

 to make a decision given 

<math display="inline" id="Draft:Hawkes_process:27">
<semantics>
<mi>θ</mi>
<annotation-xml encoding="MathML-Content">
<ci>θ</ci>
</annotation-xml>
<annotation encoding="application/x-tex">
   \theta
  </annotation>
</semantics>
</math>

. The relations are described as follows

<math display="block" id="Draft:Hawkes_process:28">
<semantics>
<mrow>
<mrow>
<msub>
<mi>λ</mi>
<mrow>
<mi>i</mi>
<mo>,</mo>
<mi>θ</mi>
</mrow>
</msub>
<mrow>
<mo>(</mo>
<mi>t</mi>
<mo>)</mo>
</mrow>
</mrow>
<mo>:=</mo>
<mrow>
<msub>
<mi>μ</mi>
<mi>i</mi>
</msub>
<mo>+</mo>
<mrow>
<msubsup>
<mo largeop="true" symmetric="true">∫</mo>
<mn>0</mn>
<mi>t</mi>
</msubsup>
<mrow>
<munderover>
<mo largeop="true" movablelimits="false" symmetric="true">∑</mo>
<mrow>
<mi>j</mi>
<mo>=</mo>
<mn>1</mn>
</mrow>
<mi>d</mi>
</munderover>
<mrow>
<msub>
<mi>a</mi>
<mrow>
<mi>i</mi>
<mo>,</mo>
<mi>j</mi>
</mrow>
</msub>
<msub>
<mi>h</mi>
<mrow>
<mi>i</mi>
<mo>,</mo>
<mi>j</mi>
</mrow>
</msub>
<mrow>
<mo>(</mo>
<mrow>
<mi>t</mi>
<mo>-</mo>
<mi>s</mi>
</mrow>
<mo>)</mo>
</mrow>
<mi>d</mi>
<msub>
<mi>N</mi>
<mi>j</mi>
</msub>
</mrow>
</mrow>
</mrow>
</mrow>
</mrow>
<annotation-xml encoding="MathML-Content">
<apply>
<csymbol cd="latexml">assign</csymbol>
<apply>
<times></times>
<apply>
<csymbol cd="ambiguous">subscript</csymbol>
<ci>λ</ci>
<list>
<ci>i</ci>
<ci>θ</ci>
</list>
</apply>
<ci>t</ci>
</apply>
<apply>
<plus></plus>
<apply>
<csymbol cd="ambiguous">subscript</csymbol>
<ci>μ</ci>
<ci>i</ci>
</apply>
<apply>
<apply>
<csymbol cd="ambiguous">superscript</csymbol>
<apply>
<csymbol cd="ambiguous">subscript</csymbol>
<int></int>
<cn type="integer">0</cn>
</apply>
<ci>t</ci>
</apply>
<apply>
<apply>
<csymbol cd="ambiguous">superscript</csymbol>
<apply>
<csymbol cd="ambiguous">subscript</csymbol>
<sum></sum>
<apply>
<eq></eq>
<ci>j</ci>
<cn type="integer">1</cn>
</apply>
</apply>
<ci>d</ci>
</apply>
<apply>
<times></times>
<apply>
<csymbol cd="ambiguous">subscript</csymbol>
<ci>a</ci>
<list>
<ci>i</ci>
<ci>j</ci>
</list>
</apply>
<apply>
<csymbol cd="ambiguous">subscript</csymbol>
<ci>h</ci>
<list>
<ci>i</ci>
<ci>j</ci>
</list>
</apply>
<apply>
<minus></minus>
<ci>t</ci>
<ci>s</ci>
</apply>
<ci>d</ci>
<apply>
<csymbol cd="ambiguous">subscript</csymbol>
<ci>N</ci>
<ci>j</ci>
</apply>
</apply>
</apply>
</apply>
</apply>
</apply>
</annotation-xml>
<annotation encoding="application/x-tex">
   \lambda_{i,\theta}\left(t\right):=\mu_{i}+\int_{0}^{t}\sum_{j=1}^{d}a_{i,j}h_{%
i,j}\left(t-s\right)dN_{j}
  </annotation>
</semantics>
</math>

 and 

<math display="inline" id="Draft:Hawkes_process:29">
<semantics>
<mrow>
<mrow>
<mrow>
<msub>
<mi>λ</mi>
<mrow>
<mi>i</mi>
<mo>,</mo>
<mi>θ</mi>
</mrow>
</msub>
<mrow>
<mo>(</mo>
<mi>t</mi>
<mo>)</mo>
</mrow>
</mrow>
<mo>:=</mo>
<mrow>
<msub>
<mo>lim</mo>
<mrow>
<mi>s</mi>
<mo>↓</mo>
<mn>0</mn>
</mrow>
</msub>
<mfrac>
<mrow>
<mi>P</mi>
<mrow>
<mo>(</mo>
<msub>
<mi>N</mi>
<mi>j</mi>
</msub>
<mrow>
<mo>(</mo>
<mi>t</mi>
<mo>+</mo>
<mi>s</mi>
<mo>)</mo>
</mrow>
<mo>-</mo>
<mi>N</mi>
<mrow>
<mo>(</mo>
<mi>j</mi>
<mo>)</mo>
</mrow>
<mo>=</mo>
<mn>1</mn>
<mo stretchy="false">|</mo>
<msub>
<mi class="ltx_font_mathcaligraphic">ℱ</mi>
<msup>
<mi>t</mi>
<mo>-</mo>
</msup>
</msub>
<mo>)</mo>
</mrow>
</mrow>
<mi>s</mi>
</mfrac>
</mrow>
</mrow>
<mo>.</mo>
</mrow>
<annotation-xml encoding="MathML-Content">
<apply>
<csymbol cd="latexml">assign</csymbol>
<apply>
<times></times>
<apply>
<csymbol cd="ambiguous">subscript</csymbol>
<ci>λ</ci>
<list>
<ci>i</ci>
<ci>θ</ci>
</list>
</apply>
<ci>t</ci>
</apply>
<apply>
<apply>
<csymbol cd="ambiguous">subscript</csymbol>
<limit></limit>
<apply>
<ci>normal-↓</ci>
<ci>s</ci>
<cn type="integer">0</cn>
</apply>
</apply>
<apply>
<divide></divide>
<cerror>
<csymbol cd="ambiguous">fragments</csymbol>
<csymbol cd="unknown">P</csymbol>
<cerror>
<csymbol cd="ambiguous">fragments</csymbol>
<ci>normal-(</ci>
<apply>
<csymbol cd="ambiguous">subscript</csymbol>
<ci>N</ci>
<ci>j</ci>
</apply>
<cerror>
<csymbol cd="ambiguous">fragments</csymbol>
<ci>normal-(</ci>
<csymbol cd="unknown">t</csymbol>
<plus></plus>
<csymbol cd="unknown">s</csymbol>
<ci>normal-)</ci>
</cerror>
<minus></minus>
<csymbol cd="unknown">N</csymbol>
<cerror>
<csymbol cd="ambiguous">fragments</csymbol>
<ci>normal-(</ci>
<csymbol cd="unknown">j</csymbol>
<ci>normal-)</ci>
</cerror>
<eq></eq>
<cn type="integer">1</cn>
<ci>normal-|</ci>
<apply>
<csymbol cd="ambiguous">subscript</csymbol>
<ci>ℱ</ci>
<apply>
<csymbol cd="ambiguous">superscript</csymbol>
<ci>t</ci>
<minus></minus>
</apply>
</apply>
<ci>normal-)</ci>
</cerror>
</cerror>
<ci>s</ci>
</apply>
</apply>
</apply>
</annotation-xml>
<annotation encoding="application/x-tex">
   \lambda_{i,\theta}\left(t\right):=\lim_{s\downarrow 0}\frac{P\left(N_{j}\left(%
t+s\right)-N\left(j\right)=1|\mathcal{F}_{t^{-}}\right)}{s}.
  </annotation>
</semantics>
</math>
</li>
</ul>
<h2 id="minimization-of-loss-function">Minimization of Loss Function</h2>

<p>Let 

<math display="inline" id="Draft:Hawkes_process:30">
<semantics>
<mrow>
<msup>
<mi>λ</mi>
<mo>*</mo>
</msup>
<mo>=</mo>
<mrow>
<mo>(</mo>
<msubsup>
<mi>λ</mi>
<mn>1</mn>
<mo>*</mo>
</msubsup>
<mo>,</mo>
<mi mathvariant="normal">…</mi>
<mo>,</mo>
<msubsup>
<mi>λ</mi>
<mi>d</mi>
<mo>*</mo>
</msubsup>
<mo>)</mo>
</mrow>
</mrow>
<annotation-xml encoding="MathML-Content">
<apply>
<eq></eq>
<apply>
<csymbol cd="ambiguous">superscript</csymbol>
<ci>λ</ci>
<times></times>
</apply>
<vector>
<apply>
<csymbol cd="ambiguous">superscript</csymbol>
<apply>
<csymbol cd="ambiguous">subscript</csymbol>
<ci>λ</ci>
<cn type="integer">1</cn>
</apply>
<times></times>
</apply>
<ci>normal-…</ci>
<apply>
<csymbol cd="ambiguous">superscript</csymbol>
<apply>
<csymbol cd="ambiguous">subscript</csymbol>
<ci>λ</ci>
<ci>d</ci>
</apply>
<times></times>
</apply>
</vector>
</apply>
</annotation-xml>
<annotation encoding="application/x-tex">
   \lambda^{*}=\left(\lambda_{1}^{*},...,\lambda_{d}^{*}\right)
  </annotation>
</semantics>
</math>

 be a true intensity of the Hawkes model. Note that 

<math display="inline" id="Draft:Hawkes_process:31">
<semantics>
<msup>
<mi>λ</mi>
<mo>*</mo>
</msup>
<annotation-xml encoding="MathML-Content">
<apply>
<csymbol cd="ambiguous">superscript</csymbol>
<ci>λ</ci>
<times></times>
</apply>
</annotation-xml>
<annotation encoding="application/x-tex">
   \lambda^{*}
  </annotation>
</semantics>
</math>

 may not satisfy the intensity formula in the Hawkes model. We define a loss function 

<math display="inline" id="Draft:Hawkes_process:32">
<semantics>
<mrow>
<mrow>
<msub>
<mi>R</mi>
<mi>T</mi>
</msub>
<mrow>
<mo>(</mo>
<mi>θ</mi>
<mo>)</mo>
</mrow>
</mrow>
<mo>:=</mo>
<mrow>
<msubsup>
<mrow>
<mo>∥</mo>
<msub>
<mi>λ</mi>
<mi>θ</mi>
</msub>
<mo>∥</mo>
</mrow>
<mi>T</mi>
<mn>2</mn>
</msubsup>
<mo>-</mo>
<mrow>
<mfrac>
<mn>2</mn>
<mi>T</mi>
</mfrac>
<mrow>
<msubsup>
<mo largeop="true" symmetric="true">∑</mo>
<mrow>
<mi>i</mi>
<mo>=</mo>
<mn>1</mn>
</mrow>
<mi>d</mi>
</msubsup>
<mrow>
<msub>
<mo largeop="true" symmetric="true">∫</mo>
<mrow>
<mo stretchy="false">[</mo>
<mn>0</mn>
<mo>,</mo>
<mi>T</mi>
<mo stretchy="false">]</mo>
</mrow>
</msub>
<mrow>
<msub>
<mi>λ</mi>
<mrow>
<mi>i</mi>
<mo>,</mo>
<mi>θ</mi>
</mrow>
</msub>
<mrow>
<mo>(</mo>
<mi>t</mi>
<mo>)</mo>
</mrow>
<mi>d</mi>
<msub>
<mi>N</mi>
<mi>i</mi>
</msub>
<mrow>
<mo>(</mo>
<mi>t</mi>
<mo>)</mo>
</mrow>
</mrow>
</mrow>
</mrow>
</mrow>
</mrow>
</mrow>
<annotation-xml encoding="MathML-Content">
<apply>
<csymbol cd="latexml">assign</csymbol>
<apply>
<times></times>
<apply>
<csymbol cd="ambiguous">subscript</csymbol>
<ci>R</ci>
<ci>T</ci>
</apply>
<ci>θ</ci>
</apply>
<apply>
<minus></minus>
<apply>
<csymbol cd="ambiguous">superscript</csymbol>
<apply>
<csymbol cd="ambiguous">subscript</csymbol>
<apply>
<csymbol cd="latexml">norm</csymbol>
<apply>
<csymbol cd="ambiguous">subscript</csymbol>
<ci>λ</ci>
<ci>θ</ci>
</apply>
</apply>
<ci>T</ci>
</apply>
<cn type="integer">2</cn>
</apply>
<apply>
<times></times>
<apply>
<divide></divide>
<cn type="integer">2</cn>
<ci>T</ci>
</apply>
<apply>
<apply>
<csymbol cd="ambiguous">superscript</csymbol>
<apply>
<csymbol cd="ambiguous">subscript</csymbol>
<sum></sum>
<apply>
<eq></eq>
<ci>i</ci>
<cn type="integer">1</cn>
</apply>
</apply>
<ci>d</ci>
</apply>
<apply>
<apply>
<csymbol cd="ambiguous">subscript</csymbol>
<int></int>
<interval closure="closed">
<cn type="integer">0</cn>
<ci>T</ci>
</interval>
</apply>
<apply>
<times></times>
<apply>
<csymbol cd="ambiguous">subscript</csymbol>
<ci>λ</ci>
<list>
<ci>i</ci>
<ci>θ</ci>
</list>
</apply>
<ci>t</ci>
<ci>d</ci>
<apply>
<csymbol cd="ambiguous">subscript</csymbol>
<ci>N</ci>
<ci>i</ci>
</apply>
<ci>t</ci>
</apply>
</apply>
</apply>
</apply>
</apply>
</apply>
</annotation-xml>
<annotation encoding="application/x-tex">
   R_{T}\left(\theta\right):=\left\|\lambda_{\theta}\right\|_{T}^{2}-\frac{2}{T}%
\sum_{i=1}^{d}\int_{[0,T]}\lambda_{i,\theta}\left(t\right)dN_{i}\left(t\right)
  </annotation>
</semantics>
</math>

 where 

<math display="inline" id="Draft:Hawkes_process:33">
<semantics>
<mrow>
<msubsup>
<mrow>
<mo>∥</mo>
<msub>
<mi>λ</mi>
<mi>θ</mi>
</msub>
<mo>∥</mo>
</mrow>
<mi>T</mi>
<mn>2</mn>
</msubsup>
<mo>:=</mo>
<mrow>
<mfrac>
<mn>1</mn>
<mi>T</mi>
</mfrac>
<mrow>
<msubsup>
<mo largeop="true" symmetric="true">∑</mo>
<mrow>
<mi>i</mi>
<mo>=</mo>
<mn>1</mn>
</mrow>
<mi>d</mi>
</msubsup>
<mrow>
<msubsup>
<mo largeop="true" symmetric="true">∫</mo>
<mn>0</mn>
<mi>T</mi>
</msubsup>
<mrow>
<msub>
<mi>λ</mi>
<mrow>
<mi>i</mi>
<mo>,</mo>
<mi>θ</mi>
</mrow>
</msub>
<msup>
<mrow>
<mo>(</mo>
<mi>t</mi>
<mo>)</mo>
</mrow>
<mn>2</mn>
</msup>
<mi>d</mi>
<mi>t</mi>
</mrow>
</mrow>
</mrow>
</mrow>
</mrow>
<annotation-xml encoding="MathML-Content">
<apply>
<csymbol cd="latexml">assign</csymbol>
<apply>
<csymbol cd="ambiguous">superscript</csymbol>
<apply>
<csymbol cd="ambiguous">subscript</csymbol>
<apply>
<csymbol cd="latexml">norm</csymbol>
<apply>
<csymbol cd="ambiguous">subscript</csymbol>
<ci>λ</ci>
<ci>θ</ci>
</apply>
</apply>
<ci>T</ci>
</apply>
<cn type="integer">2</cn>
</apply>
<apply>
<times></times>
<apply>
<divide></divide>
<cn type="integer">1</cn>
<ci>T</ci>
</apply>
<apply>
<apply>
<csymbol cd="ambiguous">superscript</csymbol>
<apply>
<csymbol cd="ambiguous">subscript</csymbol>
<sum></sum>
<apply>
<eq></eq>
<ci>i</ci>
<cn type="integer">1</cn>
</apply>
</apply>
<ci>d</ci>
</apply>
<apply>
<apply>
<csymbol cd="ambiguous">superscript</csymbol>
<apply>
<csymbol cd="ambiguous">subscript</csymbol>
<int></int>
<cn type="integer">0</cn>
</apply>
<ci>T</ci>
</apply>
<apply>
<times></times>
<apply>
<csymbol cd="ambiguous">subscript</csymbol>
<ci>λ</ci>
<list>
<ci>i</ci>
<ci>θ</ci>
</list>
</apply>
<apply>
<csymbol cd="ambiguous">superscript</csymbol>
<ci>t</ci>
<cn type="integer">2</cn>
</apply>
<ci>d</ci>
<ci>t</ci>
</apply>
</apply>
</apply>
</apply>
</apply>
</annotation-xml>
<annotation encoding="application/x-tex">
   \left\|\lambda_{\theta}\right\|_{T}^{2}:=\frac{1}{T}\sum_{i=1}^{d}\int_{0}^{T}%
\lambda_{i,\theta}\left(t\right)^{2}dt
  </annotation>
</semantics>
</math>

 and 

<math display="inline" id="Draft:Hawkes_process:34">
<semantics>
<mrow>
<msub>
<mrow>
<mo>⟨</mo>
<mi>λ</mi>
<mo>,</mo>
<msup>
<mi>λ</mi>
<msup>
<mi></mi>
<mo>′</mo>
</msup>
</msup>
<mo>⟩</mo>
</mrow>
<mi>T</mi>
</msub>
<mo>:=</mo>
<mrow>
<mfrac>
<mn>1</mn>
<mi>T</mi>
</mfrac>
<mrow>
<msubsup>
<mo largeop="true" symmetric="true">∑</mo>
<mrow>
<mi>i</mi>
<mo>=</mo>
<mn>1</mn>
</mrow>
<mi>d</mi>
</msubsup>
<mrow>
<msubsup>
<mo largeop="true" symmetric="true">∫</mo>
<mn>0</mn>
<mi>T</mi>
</msubsup>
<mrow>
<msub>
<mi>λ</mi>
<mi>i</mi>
</msub>
<mrow>
<mo>(</mo>
<mi>t</mi>
<mo>)</mo>
</mrow>
<msubsup>
<mi>λ</mi>
<mi>i</mi>
<msup>
<mi></mi>
<mo>′</mo>
</msup>
</msubsup>
<mrow>
<mo>(</mo>
<mi>t</mi>
<mo>)</mo>
</mrow>
<mi>d</mi>
<mi>t</mi>
</mrow>
</mrow>
</mrow>
</mrow>
</mrow>
<annotation-xml encoding="MathML-Content">
<apply>
<csymbol cd="latexml">assign</csymbol>
<apply>
<csymbol cd="ambiguous">subscript</csymbol>
<list>
<ci>λ</ci>
<apply>
<csymbol cd="ambiguous">superscript</csymbol>
<ci>λ</ci>
<apply>
<ci>normal-′</ci>
</apply>
</apply>
</list>
<ci>T</ci>
</apply>
<apply>
<times></times>
<apply>
<divide></divide>
<cn type="integer">1</cn>
<ci>T</ci>
</apply>
<apply>
<apply>
<csymbol cd="ambiguous">superscript</csymbol>
<apply>
<csymbol cd="ambiguous">subscript</csymbol>
<sum></sum>
<apply>
<eq></eq>
<ci>i</ci>
<cn type="integer">1</cn>
</apply>
</apply>
<ci>d</ci>
</apply>
<apply>
<apply>
<csymbol cd="ambiguous">superscript</csymbol>
<apply>
<csymbol cd="ambiguous">subscript</csymbol>
<int></int>
<cn type="integer">0</cn>
</apply>
<ci>T</ci>
</apply>
<apply>
<times></times>
<apply>
<csymbol cd="ambiguous">subscript</csymbol>
<ci>λ</ci>
<ci>i</ci>
</apply>
<ci>t</ci>
<apply>
<csymbol cd="ambiguous">superscript</csymbol>
<apply>
<csymbol cd="ambiguous">subscript</csymbol>
<ci>λ</ci>
<ci>i</ci>
</apply>
<apply>
<ci>normal-′</ci>
</apply>
</apply>
<ci>t</ci>
<ci>d</ci>
<ci>t</ci>
</apply>
</apply>
</apply>
</apply>
</apply>
</annotation-xml>
<annotation encoding="application/x-tex">
   \left\langle\lambda,\lambda^{{}^{\prime}}\right\rangle_{T}:=\frac{1}{T}\sum_{i%
=1}^{d}\int_{0}^{T}\lambda_{i}\left(t\right)\lambda_{i}^{{}^{\prime}}\left(t%
\right)dt
  </annotation>
</semantics>
</math>

. Note that the loss function is random because 

<math display="inline" id="Draft:Hawkes_process:35">
<semantics>
<msub>
<mi>N</mi>
<mi>i</mi>
</msub>
<annotation-xml encoding="MathML-Content">
<apply>
<csymbol cd="ambiguous">subscript</csymbol>
<ci>N</ci>
<ci>i</ci>
</apply>
</annotation-xml>
<annotation encoding="application/x-tex">
   N_{i}
  </annotation>
</semantics>
</math>

, 

<math display="inline" id="Draft:Hawkes_process:36">
<semantics>
<mrow>
<msub>
<mi>λ</mi>
<mrow>
<mi>i</mi>
<mo>,</mo>
<mi>θ</mi>
</mrow>
</msub>
<mrow>
<mo>(</mo>
<mi>t</mi>
<mo>)</mo>
</mrow>
</mrow>
<annotation-xml encoding="MathML-Content">
<apply>
<times></times>
<apply>
<csymbol cd="ambiguous">subscript</csymbol>
<ci>λ</ci>
<list>
<ci>i</ci>
<ci>θ</ci>
</list>
</apply>
<ci>t</ci>
</apply>
</annotation-xml>
<annotation encoding="application/x-tex">
   \lambda_{i,\theta}\left(t\right)
  </annotation>
</semantics>
</math>

 are random variables. Therefore, 

<math display="inline" id="Draft:Hawkes_process:37">
<semantics>
<mrow>
<mrow>
<mi>E</mi>
<mrow>
<mo>[</mo>
<mrow>
<msub>
<mi>R</mi>
<mi>T</mi>
</msub>
<mrow>
<mo>(</mo>
<mi>θ</mi>
<mo>)</mo>
</mrow>
</mrow>
<mo>]</mo>
</mrow>
</mrow>
<mo>=</mo>
<mrow>
<mrow>
<mi>E</mi>
<mrow>
<mo>(</mo>
<msubsup>
<mrow>
<mo>∥</mo>
<msub>
<mi>λ</mi>
<mi>θ</mi>
</msub>
<mo>∥</mo>
</mrow>
<mi>T</mi>
<mn>2</mn>
</msubsup>
<mo>)</mo>
</mrow>
</mrow>
<mo>-</mo>
<mrow>
<mfrac>
<mn>2</mn>
<mi>T</mi>
</mfrac>
<mrow>
<msubsup>
<mo largeop="true" symmetric="true">∑</mo>
<mrow>
<mi>i</mi>
<mo>=</mo>
<mn>1</mn>
</mrow>
<mi>d</mi>
</msubsup>
<mrow>
<mi>E</mi>
<mrow>
<mo>(</mo>
<mrow>
<msub>
<mo largeop="true" symmetric="true">∫</mo>
<mrow>
<mo stretchy="false">[</mo>
<mn>0</mn>
<mo>,</mo>
<mi>T</mi>
<mo stretchy="false">]</mo>
</mrow>
</msub>
<mrow>
<msub>
<mi>λ</mi>
<mrow>
<mi>i</mi>
<mo>,</mo>
<mi>θ</mi>
</mrow>
</msub>
<mrow>
<mo>(</mo>
<mi>t</mi>
<mo>)</mo>
</mrow>
<mi>d</mi>
<msub>
<mi>N</mi>
<mi>i</mi>
</msub>
<mrow>
<mo>(</mo>
<mi>t</mi>
<mo>)</mo>
</mrow>
</mrow>
</mrow>
<mo>)</mo>
</mrow>
</mrow>
</mrow>
</mrow>
</mrow>
</mrow>
<annotation-xml encoding="MathML-Content">
<apply>
<eq></eq>
<apply>
<times></times>
<ci>E</ci>
<apply>
<csymbol cd="latexml">delimited-[]</csymbol>
<apply>
<times></times>
<apply>
<csymbol cd="ambiguous">subscript</csymbol>
<ci>R</ci>
<ci>T</ci>
</apply>
<ci>θ</ci>
</apply>
</apply>
</apply>
<apply>
<minus></minus>
<apply>
<times></times>
<ci>E</ci>
<apply>
<csymbol cd="ambiguous">superscript</csymbol>
<apply>
<csymbol cd="ambiguous">subscript</csymbol>
<apply>
<csymbol cd="latexml">norm</csymbol>
<apply>
<csymbol cd="ambiguous">subscript</csymbol>
<ci>λ</ci>
<ci>θ</ci>
</apply>
</apply>
<ci>T</ci>
</apply>
<cn type="integer">2</cn>
</apply>
</apply>
<apply>
<times></times>
<apply>
<divide></divide>
<cn type="integer">2</cn>
<ci>T</ci>
</apply>
<apply>
<apply>
<csymbol cd="ambiguous">superscript</csymbol>
<apply>
<csymbol cd="ambiguous">subscript</csymbol>
<sum></sum>
<apply>
<eq></eq>
<ci>i</ci>
<cn type="integer">1</cn>
</apply>
</apply>
<ci>d</ci>
</apply>
<apply>
<times></times>
<ci>E</ci>
<apply>
<apply>
<csymbol cd="ambiguous">subscript</csymbol>
<int></int>
<interval closure="closed">
<cn type="integer">0</cn>
<ci>T</ci>
</interval>
</apply>
<apply>
<times></times>
<apply>
<csymbol cd="ambiguous">subscript</csymbol>
<ci>λ</ci>
<list>
<ci>i</ci>
<ci>θ</ci>
</list>
</apply>
<ci>t</ci>
<ci>d</ci>
<apply>
<csymbol cd="ambiguous">subscript</csymbol>
<ci>N</ci>
<ci>i</ci>
</apply>
<ci>t</ci>
</apply>
</apply>
</apply>
</apply>
</apply>
</apply>
</apply>
</annotation-xml>
<annotation encoding="application/x-tex">
   E\left[R_{T}\left(\theta\right)\right]=E\left(\left\|\lambda_{\theta}\right\|_%
{T}^{2}\right)-\frac{2}{T}\sum_{i=1}^{d}E\left(\int_{[0,T]}\lambda_{i,\theta}%
\left(t\right)dN_{i}\left(t\right)\right)
  </annotation>
</semantics>
</math>
<math display="inline" id="Draft:Hawkes_process:38">
<semantics>
<mrow>
<mi></mi>
<mo>=</mo>
<mrow>
<mrow>
<mi>E</mi>
<mrow>
<mo>(</mo>
<msubsup>
<mrow>
<mo>∥</mo>
<msub>
<mi>λ</mi>
<mi>θ</mi>
</msub>
<mo>∥</mo>
</mrow>
<mi>T</mi>
<mn>2</mn>
</msubsup>
<mo>)</mo>
</mrow>
</mrow>
<mo>-</mo>
<mrow>
<mn>2</mn>
<mi>E</mi>
<mrow>
<mo>(</mo>
<mrow>
<mfrac>
<mn>1</mn>
<mi>T</mi>
</mfrac>
<mrow>
<msubsup>
<mo largeop="true" symmetric="true">∑</mo>
<mrow>
<mi>i</mi>
<mo>=</mo>
<mn>1</mn>
</mrow>
<mi>d</mi>
</msubsup>
<mrow>
<msub>
<mo largeop="true" symmetric="true">∫</mo>
<mrow>
<mo stretchy="false">[</mo>
<mn>0</mn>
<mo>,</mo>
<mi>T</mi>
<mo stretchy="false">]</mo>
</mrow>
</msub>
<mrow>
<msub>
<mi>λ</mi>
<mrow>
<mi>i</mi>
<mo>,</mo>
<mi>θ</mi>
</mrow>
</msub>
<mrow>
<mo>(</mo>
<mi>t</mi>
<mo>)</mo>
</mrow>
<msubsup>
<mi>λ</mi>
<mi>i</mi>
<mo>*</mo>
</msubsup>
<mrow>
<mo>(</mo>
<mi>t</mi>
<mo>)</mo>
</mrow>
<mi>d</mi>
<mi>t</mi>
</mrow>
</mrow>
</mrow>
</mrow>
<mo>)</mo>
</mrow>
</mrow>
</mrow>
</mrow>
<annotation-xml encoding="MathML-Content">
<apply>
<eq></eq>
<csymbol cd="latexml">absent</csymbol>
<apply>
<minus></minus>
<apply>
<times></times>
<ci>E</ci>
<apply>
<csymbol cd="ambiguous">superscript</csymbol>
<apply>
<csymbol cd="ambiguous">subscript</csymbol>
<apply>
<csymbol cd="latexml">norm</csymbol>
<apply>
<csymbol cd="ambiguous">subscript</csymbol>
<ci>λ</ci>
<ci>θ</ci>
</apply>
</apply>
<ci>T</ci>
</apply>
<cn type="integer">2</cn>
</apply>
</apply>
<apply>
<times></times>
<cn type="integer">2</cn>
<ci>E</ci>
<apply>
<times></times>
<apply>
<divide></divide>
<cn type="integer">1</cn>
<ci>T</ci>
</apply>
<apply>
<apply>
<csymbol cd="ambiguous">superscript</csymbol>
<apply>
<csymbol cd="ambiguous">subscript</csymbol>
<sum></sum>
<apply>
<eq></eq>
<ci>i</ci>
<cn type="integer">1</cn>
</apply>
</apply>
<ci>d</ci>
</apply>
<apply>
<apply>
<csymbol cd="ambiguous">subscript</csymbol>
<int></int>
<interval closure="closed">
<cn type="integer">0</cn>
<ci>T</ci>
</interval>
</apply>
<apply>
<times></times>
<apply>
<csymbol cd="ambiguous">subscript</csymbol>
<ci>λ</ci>
<list>
<ci>i</ci>
<ci>θ</ci>
</list>
</apply>
<ci>t</ci>
<apply>
<csymbol cd="ambiguous">superscript</csymbol>
<apply>
<csymbol cd="ambiguous">subscript</csymbol>
<ci>λ</ci>
<ci>i</ci>
</apply>
<times></times>
</apply>
<ci>t</ci>
<ci>d</ci>
<ci>t</ci>
</apply>
</apply>
</apply>
</apply>
</apply>
</apply>
</apply>
</annotation-xml>
<annotation encoding="application/x-tex">
   =E\left(\left\|\lambda_{\theta}\right\|_{T}^{2}\right)-2E\left(\frac{1}{T}\sum%
_{i=1}^{d}\int_{[0,T]}\lambda_{i,\theta}\left(t\right)\lambda_{i}^{*}\left(t%
\right)dt\right)
  </annotation>
</semantics>
</math>
<math display="inline" id="Draft:Hawkes_process:39">
<semantics>
<mrow>
<mrow>
<mi></mi>
<mo>=</mo>
<mrow>
<mrow>
<mi>E</mi>
<mrow>
<mo>(</mo>
<msubsup>
<mrow>
<mo>∥</mo>
<mrow>
<msub>
<mi>λ</mi>
<mi>θ</mi>
</msub>
<mo>-</mo>
<msup>
<mi>λ</mi>
<mo>*</mo>
</msup>
</mrow>
<mo>∥</mo>
</mrow>
<mi>T</mi>
<mn>2</mn>
</msubsup>
<mo>)</mo>
</mrow>
</mrow>
<mo>+</mo>
<mrow>
<mi>E</mi>
<mrow>
<mo>(</mo>
<msubsup>
<mrow>
<mo>∥</mo>
<msubsup>
<mi>λ</mi>
<mi>θ</mi>
<mo>*</mo>
</msubsup>
<mo>∥</mo>
</mrow>
<mi>T</mi>
<mn>2</mn>
</msubsup>
<mo>)</mo>
</mrow>
</mrow>
</mrow>
</mrow>
<mo>.</mo>
</mrow>
<annotation-xml encoding="MathML-Content">
<apply>
<eq></eq>
<csymbol cd="latexml">absent</csymbol>
<apply>
<plus></plus>
<apply>
<times></times>
<ci>E</ci>
<apply>
<csymbol cd="ambiguous">superscript</csymbol>
<apply>
<csymbol cd="ambiguous">subscript</csymbol>
<apply>
<csymbol cd="latexml">norm</csymbol>
<apply>
<minus></minus>
<apply>
<csymbol cd="ambiguous">subscript</csymbol>
<ci>λ</ci>
<ci>θ</ci>
</apply>
<apply>
<csymbol cd="ambiguous">superscript</csymbol>
<ci>λ</ci>
<times></times>
</apply>
</apply>
</apply>
<ci>T</ci>
</apply>
<cn type="integer">2</cn>
</apply>
</apply>
<apply>
<times></times>
<ci>E</ci>
<apply>
<csymbol cd="ambiguous">superscript</csymbol>
<apply>
<csymbol cd="ambiguous">subscript</csymbol>
<apply>
<csymbol cd="latexml">norm</csymbol>
<apply>
<csymbol cd="ambiguous">superscript</csymbol>
<apply>
<csymbol cd="ambiguous">subscript</csymbol>
<ci>λ</ci>
<ci>θ</ci>
</apply>
<times></times>
</apply>
</apply>
<ci>T</ci>
</apply>
<cn type="integer">2</cn>
</apply>
</apply>
</apply>
</apply>
</annotation-xml>
<annotation encoding="application/x-tex">
   =E\left(\left\|\lambda_{\theta}-\lambda^{*}\right\|_{T}^{2}\right)+E\left(%
\left\|\lambda_{\theta}^{*}\right\|_{T}^{2}\right).
  </annotation>
</semantics>
</math>

 The second line is because 

<math display="inline" id="Draft:Hawkes_process:40">
<semantics>
<mrow>
<mrow>
<mi>M</mi>
<mrow>
<mo>(</mo>
<mi>t</mi>
<mo>)</mo>
</mrow>
</mrow>
<mo>:=</mo>
<mrow>
<mrow>
<msub>
<mi>N</mi>
<mi>i</mi>
</msub>
<mrow>
<mo>(</mo>
<mi>t</mi>
<mo>)</mo>
</mrow>
</mrow>
<mo>-</mo>
<mrow>
<msup>
<mi>λ</mi>
<mo>*</mo>
</msup>
<mrow>
<mo>(</mo>
<mi>t</mi>
<mo>)</mo>
</mrow>
</mrow>
</mrow>
</mrow>
<annotation-xml encoding="MathML-Content">
<apply>
<csymbol cd="latexml">assign</csymbol>
<apply>
<times></times>
<ci>M</ci>
<ci>t</ci>
</apply>
<apply>
<minus></minus>
<apply>
<times></times>
<apply>
<csymbol cd="ambiguous">subscript</csymbol>
<ci>N</ci>
<ci>i</ci>
</apply>
<ci>t</ci>
</apply>
<apply>
<times></times>
<apply>
<csymbol cd="ambiguous">superscript</csymbol>
<ci>λ</ci>
<times></times>
</apply>
<ci>t</ci>
</apply>
</apply>
</apply>
</annotation-xml>
<annotation encoding="application/x-tex">
   M\left(t\right):=N_{i}\left(t\right)-\lambda^{*}\left(t\right)
  </annotation>
</semantics>
</math>

 is a martingale. Therefore, 

<math display="inline" id="Draft:Hawkes_process:41">
<semantics>
<mrow>
<msub>
<mo largeop="true" symmetric="true">∫</mo>
<mrow>
<mo stretchy="false">[</mo>
<mn>0</mn>
<mo>,</mo>
<mi>T</mi>
<mo stretchy="false">]</mo>
</mrow>
</msub>
<mrow>
<msub>
<mi>λ</mi>
<mrow>
<mi>i</mi>
<mo>,</mo>
<mi>θ</mi>
</mrow>
</msub>
<mrow>
<mo>(</mo>
<mi>t</mi>
<mo>)</mo>
</mrow>
<msubsup>
<mi>λ</mi>
<mi>i</mi>
<mo>*</mo>
</msubsup>
<mrow>
<mo>(</mo>
<mi>t</mi>
<mo>)</mo>
</mrow>
<mi>d</mi>
<mi>M</mi>
<mrow>
<mo>(</mo>
<mi>t</mi>
<mo>)</mo>
</mrow>
</mrow>
</mrow>
<annotation-xml encoding="MathML-Content">
<apply>
<apply>
<csymbol cd="ambiguous">subscript</csymbol>
<int></int>
<interval closure="closed">
<cn type="integer">0</cn>
<ci>T</ci>
</interval>
</apply>
<apply>
<times></times>
<apply>
<csymbol cd="ambiguous">subscript</csymbol>
<ci>λ</ci>
<list>
<ci>i</ci>
<ci>θ</ci>
</list>
</apply>
<ci>t</ci>
<apply>
<csymbol cd="ambiguous">superscript</csymbol>
<apply>
<csymbol cd="ambiguous">subscript</csymbol>
<ci>λ</ci>
<ci>i</ci>
</apply>
<times></times>
</apply>
<ci>t</ci>
<ci>d</ci>
<ci>M</ci>
<ci>t</ci>
</apply>
</apply>
</annotation-xml>
<annotation encoding="application/x-tex">
   \int_{[0,T]}\lambda_{i,\theta}\left(t\right)\lambda_{i}^{*}\left(t\right)dM%
\left(t\right)
  </annotation>
</semantics>
</math>

 is a martingale with expectation 

<math display="inline" id="Draft:Hawkes_process:42">
<semantics>
<mn>0</mn>
<annotation-xml encoding="MathML-Content">
<cn type="integer">0</cn>
</annotation-xml>
</semantics>
</math>

. From the calculation, the expectation of the loss function achieve minimum when 

<math display="inline" id="Draft:Hawkes_process:43">
<semantics>
<mrow>
<msub>
<mi>λ</mi>
<mi>θ</mi>
</msub>
<mo>=</mo>
<msup>
<mi>λ</mi>
<mo>*</mo>
</msup>
</mrow>
<annotation-xml encoding="MathML-Content">
<apply>
<eq></eq>
<apply>
<csymbol cd="ambiguous">subscript</csymbol>
<ci>λ</ci>
<ci>θ</ci>
</apply>
<apply>
<csymbol cd="ambiguous">superscript</csymbol>
<ci>λ</ci>
<times></times>
</apply>
</apply>
</annotation-xml>
<annotation encoding="application/x-tex">
   \lambda_{\theta}=\lambda^{*}
  </annotation>
</semantics>
</math>

. We wold like to minimize 

<math display="inline" id="Draft:Hawkes_process:44">
<semantics>
<mrow>
<msub>
<mi>R</mi>
<mi>T</mi>
</msub>
<mrow>
<mo>(</mo>
<mi>θ</mi>
<mo>)</mo>
</mrow>
</mrow>
<annotation-xml encoding="MathML-Content">
<apply>
<times></times>
<apply>
<csymbol cd="ambiguous">subscript</csymbol>
<ci>R</ci>
<ci>T</ci>
</apply>
<ci>θ</ci>
</apply>
</annotation-xml>
<annotation encoding="application/x-tex">
   R_{T}\left(\theta\right)
  </annotation>
</semantics>
</math>

 to find the best estimator 

<math display="inline" id="Draft:Hawkes_process:45">
<semantics>
<mover accent="true">
<mrow>
<mi>θ</mi>
<mo>,</mo>
</mrow>
<mo stretchy="false">^</mo>
</mover>
<annotation-xml encoding="MathML-Content">
<apply>
<ci>normal-^</ci>
<cerror>
<csymbol cd="ambiguous">fragments</csymbol>
<csymbol cd="unknown">θ</csymbol>
<ci>normal-,</ci>
</cerror>
</apply>
</annotation-xml>
<annotation encoding="application/x-tex">
   \hat{\theta,}
  </annotation>
</semantics>
</math>

 but the matrix 

<math display="inline" id="Draft:Hawkes_process:46">
<semantics>
<mover accent="true">
<mi>A</mi>
<mo stretchy="false">^</mo>
</mover>
<annotation-xml encoding="MathML-Content">
<apply>
<ci>normal-^</ci>
<ci>A</ci>
</apply>
</annotation-xml>
<annotation encoding="application/x-tex">
   \hat{A}
  </annotation>
</semantics>
</math>

 in the estimator 

<math display="inline" id="Draft:Hawkes_process:47">
<semantics>
<mover accent="true">
<mi>θ</mi>
<mo stretchy="false">^</mo>
</mover>
<annotation-xml encoding="MathML-Content">
<apply>
<ci>normal-^</ci>
<ci>θ</ci>
</apply>
</annotation-xml>
<annotation encoding="application/x-tex">
   \hat{\theta}
  </annotation>
</semantics>
</math>

 may not be sparse which does not match the reality which most of a user ' members and the user are not active to each other. In order to get a sparse matrix 

<math display="inline" id="Draft:Hawkes_process:48">
<semantics>
<mover accent="true">
<mi>A</mi>
<mo stretchy="false">^</mo>
</mover>
<annotation-xml encoding="MathML-Content">
<apply>
<ci>normal-^</ci>
<ci>A</ci>
</apply>
</annotation-xml>
<annotation encoding="application/x-tex">
   \hat{A}
  </annotation>
</semantics>
</math>

, a trace norm or nuclear norm penalization is added to the loss function. Let 

<math display="inline" id="Draft:Hawkes_process:49">
<semantics>
<mrow>
<mo>∥</mo>
<mo>.</mo>
<msub>
<mo>∥</mo>
<mo>*</mo>
</msub>
</mrow>
<annotation-xml encoding="MathML-Content">
<cerror>
<csymbol cd="ambiguous">fragments</csymbol>
<ci>normal-∥</ci>
<ci>normal-.</ci>
<apply>
<csymbol cd="ambiguous">subscript</csymbol>
<ci>normal-∥</ci>
<times></times>
</apply>
</cerror>
</annotation-xml>
<annotation encoding="application/x-tex">
   \left\|.\right\|_{*}
  </annotation>
</semantics>
</math>

 be a trace/nuclear norm of a square matrix and 

<math display="inline" id="Draft:Hawkes_process:50">
<semantics>
<mrow>
<msub>
<mrow>
<mo>∥</mo>
<mi>A</mi>
<mo>∥</mo>
</mrow>
<mo>*</mo>
</msub>
<mo>:=</mo>
<mrow>
<mi>t</mi>
<mi>r</mi>
<mrow>
<mo>(</mo>
<msqrt>
<mrow>
<msup>
<mi>A</mi>
<mo>*</mo>
</msup>
<mi>A</mi>
</mrow>
</msqrt>
<mo>)</mo>
</mrow>
</mrow>
</mrow>
<annotation-xml encoding="MathML-Content">
<apply>
<csymbol cd="latexml">assign</csymbol>
<apply>
<csymbol cd="ambiguous">subscript</csymbol>
<apply>
<csymbol cd="latexml">norm</csymbol>
<ci>A</ci>
</apply>
<times></times>
</apply>
<apply>
<times></times>
<ci>t</ci>
<ci>r</ci>
<apply>
<root></root>
<apply>
<times></times>
<apply>
<csymbol cd="ambiguous">superscript</csymbol>
<ci>A</ci>
<times></times>
</apply>
<ci>A</ci>
</apply>
</apply>
</apply>
</apply>
</annotation-xml>
<annotation encoding="application/x-tex">
   \left\|A\right\|_{*}:=tr\left(\sqrt{A^{*}A}\right)
  </annotation>
</semantics>
</math>

 or it can be interpreted as a sum of all singular values of 

<math display="inline" id="Draft:Hawkes_process:51">
<semantics>
<mrow>
<mi>A</mi>
<mo>.</mo>
</mrow>
<annotation-xml encoding="MathML-Content">
<ci>A</ci>
</annotation-xml>
<annotation encoding="application/x-tex">
   A.
  </annotation>
</semantics>
</math>

 Therefore, what we minimize is the following

<math display="block" id="Draft:Hawkes_process:52">
<semantics>
<mrow>
<mover accent="true">
<mi>θ</mi>
<mo stretchy="false">^</mo>
</mover>
<mo>:=</mo>
<mrow>
<msub>
<mtext>argmin</mtext>
<mi>θ</mi>
</msub>
<mrow>
<mo>{</mo>
<mrow>
<mrow>
<msub>
<mi>R</mi>
<mi>T</mi>
</msub>
<mrow>
<mo>(</mo>
<mi>θ</mi>
<mo>)</mo>
</mrow>
</mrow>
<mo>+</mo>
<mrow>
<mi>τ</mi>
<msub>
<mrow>
<mo>∥</mo>
<mi>A</mi>
<mo>∥</mo>
</mrow>
<mo>*</mo>
</msub>
</mrow>
</mrow>
<mo>}</mo>
</mrow>
</mrow>
</mrow>
<annotation-xml encoding="MathML-Content">
<apply>
<csymbol cd="latexml">assign</csymbol>
<apply>
<ci>normal-^</ci>
<ci>θ</ci>
</apply>
<apply>
<times></times>
<apply>
<csymbol cd="ambiguous">subscript</csymbol>
<mtext>argmin</mtext>
<ci>θ</ci>
</apply>
<set>
<apply>
<plus></plus>
<apply>
<times></times>
<apply>
<csymbol cd="ambiguous">subscript</csymbol>
<ci>R</ci>
<ci>T</ci>
</apply>
<ci>θ</ci>
</apply>
<apply>
<times></times>
<ci>τ</ci>
<apply>
<csymbol cd="ambiguous">subscript</csymbol>
<apply>
<csymbol cd="latexml">norm</csymbol>
<ci>A</ci>
</apply>
<times></times>
</apply>
</apply>
</apply>
</set>
</apply>
</apply>
</annotation-xml>
<annotation encoding="application/x-tex">
   \hat{\theta}:=\textrm{argmin}_{\theta}\left\{R_{T}\left(\theta\right)+\tau%
\left\|A\right\|_{*}\right\}
  </annotation>
</semantics>
</math>

 where 

<math display="inline" id="Draft:Hawkes_process:53">
<semantics>
<mrow>
<mi>τ</mi>
<mo>&gt;</mo>
<mn>0</mn>
</mrow>
<annotation-xml encoding="MathML-Content">
<apply>
<gt></gt>
<ci>τ</ci>
<cn type="integer">0</cn>
</apply>
</annotation-xml>
<annotation encoding="application/x-tex">
   \tau&gt;0
  </annotation>
</semantics>
</math>

 is a smooth parameter that balance goodness-of-fit and penalization.</p>

<p>Remark: Any non-differentiable norm is a penalization for sparse solution.</p>
<h2 id="control-of-lambda_hattheta-lambda_theta">Control of 

<math display="inline" id="Draft:Hawkes_process:54">
<semantics>
<mrow>
<msub>
<mi>λ</mi>
<mover accent="true">
<mi>θ</mi>
<mo stretchy="false">^</mo>
</mover>
</msub>
<mo>-</mo>
<msub>
<mi>λ</mi>
<msup>
<mi>θ</mi>
<mo>*</mo>
</msup>
</msub>
</mrow>
<annotation-xml encoding="MathML-Content">
<apply>
<minus></minus>
<apply>
<csymbol cd="ambiguous">subscript</csymbol>
<ci>λ</ci>
<apply>
<ci>normal-^</ci>
<ci>θ</ci>
</apply>
</apply>
<apply>
<csymbol cd="ambiguous">subscript</csymbol>
<ci>λ</ci>
<apply>
<csymbol cd="ambiguous">superscript</csymbol>
<ci>θ</ci>
<times></times>
</apply>
</apply>
</apply>
</annotation-xml>
<annotation encoding="application/x-tex">
   \lambda_{\hat{\theta}}-\lambda_{\theta^{*}}
  </annotation>
</semantics>
</math>
</h2>

<p>The main concern is how close the best estimator 

<math display="inline" id="Draft:Hawkes_process:55">
<semantics>
<msub>
<mi>λ</mi>
<mover accent="true">
<mi>θ</mi>
<mo stretchy="false">^</mo>
</mover>
</msub>
<annotation-xml encoding="MathML-Content">
<apply>
<csymbol cd="ambiguous">subscript</csymbol>
<ci>λ</ci>
<apply>
<ci>normal-^</ci>
<ci>θ</ci>
</apply>
</apply>
</annotation-xml>
<annotation encoding="application/x-tex">
   \lambda_{\hat{\theta}}
  </annotation>
</semantics>
</math>

 is to the true intensity 

<math display="inline" id="Draft:Hawkes_process:56">
<semantics>
<msub>
<mi>λ</mi>
<msup>
<mi>θ</mi>
<mo>*</mo>
</msup>
</msub>
<annotation-xml encoding="MathML-Content">
<apply>
<csymbol cd="ambiguous">subscript</csymbol>
<ci>λ</ci>
<apply>
<csymbol cd="ambiguous">superscript</csymbol>
<ci>θ</ci>
<times></times>
</apply>
</apply>
</annotation-xml>
<annotation encoding="application/x-tex">
   \lambda_{\theta^{*}}
  </annotation>
</semantics>
</math>

 under 

<math display="inline" id="Draft:Hawkes_process:57">
<semantics>
<mrow>
<mo>∥</mo>
<mo>.</mo>
<msub>
<mo>∥</mo>
<mi>T</mi>
</msub>
</mrow>
<annotation-xml encoding="MathML-Content">
<cerror>
<csymbol cd="ambiguous">fragments</csymbol>
<ci>normal-∥</ci>
<ci>normal-.</ci>
<apply>
<csymbol cd="ambiguous">subscript</csymbol>
<ci>normal-∥</ci>
<ci>T</ci>
</apply>
</cerror>
</annotation-xml>
<annotation encoding="application/x-tex">
   \left\|.\right\|_{T}
  </annotation>
</semantics>
</math>

. The ultimate goal is to control 

<math display="inline" id="Draft:Hawkes_process:58">
<semantics>
<msub>
<mrow>
<mo>∥</mo>
<mrow>
<msub>
<mi>λ</mi>
<mover accent="true">
<mi>θ</mi>
<mo stretchy="false">^</mo>
</mover>
</msub>
<mo>-</mo>
<msubsup>
<mi>λ</mi>
<mi>θ</mi>
<mo>*</mo>
</msubsup>
</mrow>
<mo>∥</mo>
</mrow>
<mi>T</mi>
</msub>
<annotation-xml encoding="MathML-Content">
<apply>
<csymbol cd="ambiguous">subscript</csymbol>
<apply>
<csymbol cd="latexml">norm</csymbol>
<apply>
<minus></minus>
<apply>
<csymbol cd="ambiguous">subscript</csymbol>
<ci>λ</ci>
<apply>
<ci>normal-^</ci>
<ci>θ</ci>
</apply>
</apply>
<apply>
<csymbol cd="ambiguous">superscript</csymbol>
<apply>
<csymbol cd="ambiguous">subscript</csymbol>
<ci>λ</ci>
<ci>θ</ci>
</apply>
<times></times>
</apply>
</apply>
</apply>
<ci>T</ci>
</apply>
</annotation-xml>
<annotation encoding="application/x-tex">
   \left\|\lambda_{\hat{\theta}}-\lambda_{\theta}^{*}\right\|_{T}
  </annotation>
</semantics>
</math>

 by 

<math display="inline" id="Draft:Hawkes_process:59">
<semantics>
<mover accent="true">
<mi>θ</mi>
<mo stretchy="false">^</mo>
</mover>
<annotation-xml encoding="MathML-Content">
<apply>
<ci>normal-^</ci>
<ci>θ</ci>
</apply>
</annotation-xml>
<annotation encoding="application/x-tex">
   \hat{\theta}
  </annotation>
</semantics>
</math>

 only which is yet to overcome. The details is in the paper <a class="footnoteRef" href="#fn1" id="fnref1"><sup>1</sup></a>. "</p>
<section class="footnotes">
<hr/>
<ol>
<li id="fn1">Emmanuel Bacry, Stéphane Gaïffas, Jean-François Muzy, "Concentration for matrix martingales in continuous time and microscopic activity of social networks" <a class="uri" href="http://xxx.tau.ac.il/abs/1412.7705">http://xxx.tau.ac.il/abs/1412.7705</a><a href="#fnref1">↩</a></li>
</ol>
</section>
</body>
</html>
