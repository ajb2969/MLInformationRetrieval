<html lang="en">
<head>
<meta charset="utf-8"/>
<title offset="185">Associative array</title>
<script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_SVG.js" type="text/javascript">
</script>
</head>
<body>
<h1>Associative array</h1>
<style>
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
  margin: 0; padding: 0; vertical-align: baseline; border: none; }
<style>
table.sourceCode { width: 100%; line-height: 100%; }
td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; color: #aaaaaa; border-right: 1px solid #aaaaaa; }
td.sourceCode { padding-left: 5px; }
code > span.kw { color: #007020; font-weight: bold; } /* Keyword */
code > span.dt { color: #902000; } /* DataType */
code > span.dv { color: #40a070; } /* DecVal */
code > span.bn { color: #40a070; } /* BaseN */
code > span.fl { color: #40a070; } /* Float */
code > span.ch { color: #4070a0; } /* Char */
code > span.st { color: #4070a0; } /* String */
code > span.co { color: #60a0b0; font-style: italic; } /* Comment */
code > span.ot { color: #007020; } /* Other */
code > span.al { color: #ff0000; font-weight: bold; } /* Alert */
code > span.fu { color: #06287e; } /* Function */
code > span.er { color: #ff0000; font-weight: bold; } /* Error */
code > span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
code > span.cn { color: #880000; } /* Constant */
code > span.sc { color: #4070a0; } /* SpecialChar */
code > span.vs { color: #4070a0; } /* VerbatimString */
code > span.ss { color: #bb6688; } /* SpecialString */
code > span.im { } /* Import */
code > span.va { color: #19177c; } /* Variable */
code > span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code > span.op { color: #666666; } /* Operator */
code > span.bu { } /* BuiltIn */
code > span.ex { } /* Extension */
code > span.pp { color: #bc7a00; } /* Preprocessor */
code > span.at { color: #7d9029; } /* Attribute */
code > span.do { color: #ba2121; font-style: italic; } /* Documentation */
code > span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code > span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code > span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
  </style>
</body></html>
<body>
<hr/>

<p>In <a href="computer_science" title="wikilink">computer science</a>, an <strong>associative array</strong>, <strong>map</strong>, <strong>symbol table</strong>, or <strong>dictionary</strong> is an <a href="abstract_data_type" title="wikilink">abstract data type</a> composed of a <a href="Collection_(computing)" title="wikilink">collection</a> of <a href="Attributeâ€“value_pair" title="wikilink">(key, value)</a> pairs, such that each possible key appears just once in the collection.</p>

<p>Operations associated with this data type allow:<a class="footnoteRef" href="#fn1" id="fnref1"><sup>1</sup></a><a class="footnoteRef" href="#fn2" id="fnref2"><sup>2</sup></a></p>
<ul>
<li>the addition of pairs to the collection</li>
<li>the removal of pairs from the collection</li>
<li>the modification of the values of existing pairs</li>
<li>the lookup of the value associated with a particular key</li>
</ul>

<p>The <strong>dictionary problem</strong> is a classic computer science problem: the task of designing a <a href="data_structure" title="wikilink">data structure</a> that maintains a set of data during 'search' 'delete' and 'insert' operations.<a class="footnoteRef" href="#fn3" id="fnref3"><sup>3</sup></a> A standard solution to the dictionary problem is a <a href="hash_table" title="wikilink">hash table</a>; in some cases it is also possible to solve the problem using directly addressed <a href="Array_data_structure" title="wikilink">arrays</a>, <a href="binary_search_tree" title="wikilink">binary search trees</a>, or other more specialized structures.<a class="footnoteRef" href="#fn4" id="fnref4"><sup>4</sup></a><a class="footnoteRef" href="#fn5" id="fnref5"><sup>5</sup></a><a class="footnoteRef" href="#fn6" id="fnref6"><sup>6</sup></a></p>

<p>Many programming languages include associative arrays as <a href="primitive_data_type" title="wikilink">primitive data types</a>, and they are available in <a href="software_library" title="wikilink">software libraries</a> for many others. <a href="Content-addressable_memory" title="wikilink">Content-addressable memory</a> is a form of direct hardware-level support for associative arrays.</p>

<p>Associative arrays have many applications including such fundamental <a href="programming_pattern" title="wikilink">programming patterns</a> as <a class="uri" href="memoization" title="wikilink">memoization</a> and the <a href="decorator_pattern" title="wikilink">decorator pattern</a>.<a class="footnoteRef" href="#fn7" id="fnref7"><sup>7</sup></a></p>
<h2 id="operations">Operations</h2>

<p>In an associative array, the association between a key and a value is often known as a "binding", and the same word "binding" may also be used to refer to the process of creating a new association.</p>

<p>The operations that are usually defined for an associative array are:<a class="footnoteRef" href="#fn8" id="fnref8"><sup>8</sup></a><a class="footnoteRef" href="#fn9" id="fnref9"><sup>9</sup></a></p>
<ul>
<li><strong>Add</strong> or <strong>insert</strong>: add a new 

<math display="inline" id="Associative_array:0">
 <semantics>
  <mrow>
   <mo stretchy="false">(</mo>
   <mrow>
    <mi>k</mi>
    <mi>e</mi>
    <mi>y</mi>
   </mrow>
   <mo>,</mo>
   <mrow>
    <mi>v</mi>
    <mi>a</mi>
    <mi>l</mi>
    <mi>u</mi>
    <mi>e</mi>
   </mrow>
   <mo stretchy="false">)</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <interval closure="open">
    <apply>
     <times></times>
     <ci>k</ci>
     <ci>e</ci>
     <ci>y</ci>
    </apply>
    <apply>
     <times></times>
     <ci>v</ci>
     <ci>a</ci>
     <ci>l</ci>
     <ci>u</ci>
     <ci>e</ci>
    </apply>
   </interval>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   (key,value)
  </annotation>
 </semantics>
</math>

 pair to the collection, binding the new key to its new value. The arguments to this operation are the key and the value.</li>
<li><strong>Reassign</strong>: replace the value in one of the 

<math display="inline" id="Associative_array:1">
 <semantics>
  <mrow>
   <mo stretchy="false">(</mo>
   <mrow>
    <mi>k</mi>
    <mi>e</mi>
    <mi>y</mi>
   </mrow>
   <mo>,</mo>
   <mrow>
    <mi>v</mi>
    <mi>a</mi>
    <mi>l</mi>
    <mi>u</mi>
    <mi>e</mi>
   </mrow>
   <mo stretchy="false">)</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <interval closure="open">
    <apply>
     <times></times>
     <ci>k</ci>
     <ci>e</ci>
     <ci>y</ci>
    </apply>
    <apply>
     <times></times>
     <ci>v</ci>
     <ci>a</ci>
     <ci>l</ci>
     <ci>u</ci>
     <ci>e</ci>
    </apply>
   </interval>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   (key,value)
  </annotation>
 </semantics>
</math>

 pairs that are already in the collection, binding an old key to a new value. As with an insertion, the arguments to this operation are the key and the value.</li>
<li><strong>Remove</strong> or <strong>delete</strong>: remove a 

<math display="inline" id="Associative_array:2">
 <semantics>
  <mrow>
   <mo stretchy="false">(</mo>
   <mrow>
    <mi>k</mi>
    <mi>e</mi>
    <mi>y</mi>
   </mrow>
   <mo>,</mo>
   <mrow>
    <mi>v</mi>
    <mi>a</mi>
    <mi>l</mi>
    <mi>u</mi>
    <mi>e</mi>
   </mrow>
   <mo stretchy="false">)</mo>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <interval closure="open">
    <apply>
     <times></times>
     <ci>k</ci>
     <ci>e</ci>
     <ci>y</ci>
    </apply>
    <apply>
     <times></times>
     <ci>v</ci>
     <ci>a</ci>
     <ci>l</ci>
     <ci>u</ci>
     <ci>e</ci>
    </apply>
   </interval>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   (key,value)
  </annotation>
 </semantics>
</math>

 pair from the collection, unbinding a given key from its value. The argument to this operation is the key.</li>
<li><strong>Lookup</strong>: find the value (if any) that is bound to a given key. The argument to this operation is the key, and the value is returned from the operation. If no value is found, some associative array implementations raise an <a href="Exception_handling" title="wikilink">exception</a>.</li>
</ul>

<p>In addition, associative arrays may also include other operations such as determining the number of bindings or constructing an <a class="uri" href="iterator" title="wikilink">iterator</a> to loop over all the bindings. Usually, for such an operation, the order in which the bindings are returned may be arbitrary.</p>

<p>A <a class="uri" href="multimap" title="wikilink">multimap</a> generalizes an associative array by allowing multiple values to be associated with a single key.<a class="footnoteRef" href="#fn10" id="fnref10"><sup>10</sup></a> A <a href="bidirectional_map" title="wikilink">bidirectional map</a> is a related abstract data type in which the bindings operate in both directions: each value must be associated with a unique key, and a second lookup operation takes a value as argument and looks up the key associated with that value.</p>
<h2 id="example">Example</h2>

<p>Suppose that the set of loans made by a library is to be represented in a data structure. Each book in a library may be checked out only by a single library patron at a time. However, a single patron may be able to check out multiple books. Therefore, the information about which books are checked out to which patrons may be represented by an associative array, in which the books are the keys and the patrons are the values. For instance (using notation from <a href="Python_(programming_language)" title="wikilink">Python</a>, or <a class="uri" href="JSON" title="wikilink">JSON</a> (JavaScript Object Notation), in which a binding is represented by placing a colon between the key and the value), the current checkouts may be represented by an associative array</p>
<div class="sourceCode"><pre class="sourceCode javascript"><code class="sourceCode javascript"><span class="op">{</span>
    <span class="st">"Great Expectations"</span><span class="op">:</span> <span class="st">"John"</span><span class="op">,</span>
    <span class="st">"Pride and Prejudice"</span><span class="op">:</span> <span class="st">"Alice"</span><span class="op">,</span>
    <span class="st">"Wuthering Heights"</span><span class="op">:</span> <span class="st">"Alice"</span>
<span class="op">}</span></code></pre></div>

<p>A lookup operation with the key "Great Expectations" in this array would return the name of the person who checked out that book, John. If John returns his book, that would cause a deletion operation in the associative array, and if Pat checks out another book, that would cause an insertion operation, leading to a different state:</p>
<div class="sourceCode"><pre class="sourceCode javascript"><code class="sourceCode javascript"><span class="op">{</span>
    <span class="st">"Pride and Prejudice"</span><span class="op">:</span> <span class="st">"Alice"</span><span class="op">,</span>
    <span class="st">"The Brothers Karamazov"</span><span class="op">:</span> <span class="st">"Pat"</span><span class="op">,</span>
    <span class="st">"Wuthering Heights"</span><span class="op">:</span> <span class="st">"Alice"</span>
<span class="op">}</span></code></pre></div>

<p>In this new state, the same lookup as before, with the key "Great Expectations", would raise an exception, because this key is no longer present in the array.</p>
<h2 id="implementation">Implementation</h2>

<p>For dictionaries with very small numbers of bindings, it may make sense to implement the dictionary using an <a href="association_list" title="wikilink">association list</a>, a <a href="linked_list" title="wikilink">linked list</a> of bindings. With this implementation, the time to perform the basic dictionary operations is linear in the total number of bindings; however, it is easy to implement and the constant factors in its running time are small.<a class="footnoteRef" href="#fn11" id="fnref11"><sup>11</sup></a><a class="footnoteRef" href="#fn12" id="fnref12"><sup>12</sup></a></p>

<p>Another very simple implementation technique, usable when the keys are restricted to a narrow range of integers, is direct addressing into an array: the value for a given key <em>k</em> is stored at the array cell <em>A</em>[<em>k</em>], or if there is no binding for <em>k</em> then the cell stores a special <a href="sentinel_value" title="wikilink">sentinel value</a> that indicates the absence of a binding. As well as being simple, this technique is fast: each dictionary operation takes constant time. However, the space requirement for this structure is the size of the entire keyspace, making it impractical unless the keyspace is small.<a class="footnoteRef" href="#fn13" id="fnref13"><sup>13</sup></a></p>

<p>The most frequently used general purpose implementation of an associative array is with a <a href="hash_table" title="wikilink">hash table</a>: an <a href="Array_data_structure" title="wikilink">array</a> of bindings, together with a <a href="hash_function" title="wikilink">hash function</a> that maps each possible key into an array index. The basic idea of a hash table is that the binding for a given key is stored at the position given by applying the hash function to that key, and that lookup operations are performed by looking at that cell of the array and using the binding found there. However, hash table based dictionaries must be prepared to handle <a href="Collision_(computer_science)" title="wikilink">collisions</a> that occur when two keys are mapped by the hash function to the same index, and many different collision resolution strategies have been developed for dealing with this situation, often based either on <a href="open_addressing" title="wikilink">open addressing</a> (looking at a sequence of hash table indices instead of a single index, until finding either the given key or an empty cell) or on <a href="Hash_table#Separate_chaining" title="wikilink">hash chaining</a> (storing a small association list instead of a single binding in each hash table cell).<a class="footnoteRef" href="#fn14" id="fnref14"><sup>14</sup></a><a class="footnoteRef" href="#fn15" id="fnref15"><sup>15</sup></a><a class="footnoteRef" href="#fn16" id="fnref16"><sup>16</sup></a></p>

<p>Another common approach is to implement an associative array with a (self-balancing) <a href="red-black_tree" title="wikilink">red-black tree</a>.<a class="footnoteRef" href="#fn17" id="fnref17"><sup>17</sup></a></p>

<p>Dictionaries may also be stored in <a href="binary_search_tree" title="wikilink">binary search trees</a> or in data structures specialized to a particular type of keys such as <a href="radix_tree" title="wikilink">radix trees</a>, <a href="trie" title="wikilink">tries</a>, <a href="Judy_array" title="wikilink">Judy arrays</a>, or <a href="van_Emde_Boas_tree" title="wikilink">van Emde Boas trees</a>, but these implementation methods are less efficient than hash tables as well as placing greater restrictions on the types of data that they can handle. The advantages of these alternative structures come from their ability to handle operations beyond the basic ones of an associative array, such as finding the binding whose key is the closest to a queried key, when the query is not itself present in the set of bindings.</p>
<h2 id="language-support">Language support</h2>

<p>Associative arrays can be implemented in any programming language as a package and many language systems provide them as part of their standard library. In some languages, they are not only built into the standard system, but have special syntax, often using array-like subscripting.</p>

<p>Built-in syntactic support for associative arrays was introduced by <a class="uri" href="SNOBOL" title="wikilink">SNOBOL</a>4, under the name "table". <a class="uri" href="MUMPS" title="wikilink">MUMPS</a> made multi-dimensional associative arrays, optionally persistent, its key data structure. <a class="uri" href="SETL" title="wikilink">SETL</a> supported them as one possible implementation of sets and maps. Most modern scripting languages, starting with <a class="uri" href="AWK" title="wikilink">AWK</a> and including <a class="uri" href="Rexx" title="wikilink">Rexx</a>, <a class="uri" href="Perl" title="wikilink">Perl</a>, <a class="uri" href="Tcl" title="wikilink">Tcl</a>, <a class="uri" href="JavaScript" title="wikilink">JavaScript</a>, <a href="Python_(programming_language)" title="wikilink">Python</a>, <a href="Ruby_(programming_language)" title="wikilink">Ruby</a>, and <a href="Lua_(programming_language)" title="wikilink">Lua</a>, support associative arrays as a primary container type. In many more languages, they are available as library functions without special syntax.</p>

<p>In <a class="uri" href="Smalltalk" title="wikilink">Smalltalk</a>, <a class="uri" href="Objective-C" title="wikilink">Objective-C</a>, <a href=".NET_Framework" title="wikilink">.NET</a>,<a class="footnoteRef" href="#fn18" id="fnref18"><sup>18</sup></a> <a href="Python_(programming_language)" title="wikilink">Python</a>, <a class="uri" href="REALbasic" title="wikilink">REALbasic</a>, and <a href="Swift_(programming_language)" title="wikilink">Swift</a> they are called <em>dictionaries</em>; in <a class="uri" href="Perl" title="wikilink">Perl</a>, <a href="Ruby_(programming_language)" title="wikilink">Ruby</a> and <a class="uri" href="Seed7" title="wikilink">Seed7</a> they are called <em>hashes</em>; in <a class="uri" href="C++" title="wikilink">C++</a>, <a href="Java_(programming_language)" title="wikilink">Java</a>, <a href="Go_(programming_language)" title="wikilink">Go</a>, <a class="uri" href="Clojure" title="wikilink">Clojure</a>, <a href="Scala_(programming_language)" title="wikilink">Scala</a>, <a class="uri" href="OCaml" title="wikilink">OCaml</a>, <a href="Haskell_(programming_language)" title="wikilink">Haskell</a> they are called <em>maps</em> (see <a href="map_(C++)" title="wikilink">map (C++)</a>, <a href="unordered_map_(C++)" title="wikilink">unordered_map (C++)</a>, and ); in <a href="Common_Lisp" title="wikilink">Common Lisp</a> and <a href="Windows_PowerShell" title="wikilink">Windows PowerShell</a>, they are called <em>hash tables</em> (since both typically use this implementation). In <a class="uri" href="PHP" title="wikilink">PHP</a>, all arrays can be associative, except that the keys are limited to integers and strings. In JavaScript (see also <a class="uri" href="JSON" title="wikilink">JSON</a>), all objects behave as associative arrays. In Lua, they are called <em>tables</em>, and are used as the primitive building block for all data structures. In <a href="Visual_FoxPro" title="wikilink">Visual FoxPro</a>, they are called <em>Collections</em>. The <a href="D_(programming_language)" title="wikilink">D language</a> also has support for associative arrays <a class="footnoteRef" href="#fn19" id="fnref19"><sup>19</sup></a></p>
<h2 id="permanent-storage">Permanent storage</h2>

<p>Most programs using associative arrays will at some point need to store that data in a more permanent form, like in a <a href="computer_file" title="wikilink">computer file</a>. A common solution to this problem is a generalized concept known as <em>archiving</em> or <em><a class="uri" href="serialization" title="wikilink">serialization</a></em>, which produces a text or binary representation of the original objects that can be written directly to a file. This is most commonly implemented in the underlying object model, like .Net or Cocoa, which include standard functions that convert the internal data into text form. The program can create a complete text representation of any group of objects by calling these methods, which are almost always already implemented in the base associative array class.<a class="footnoteRef" href="#fn20" id="fnref20"><sup>20</sup></a></p>

<p>For programs that use very large data sets, this sort of individual file storage is not appropriate, and a <a href="database_management_system" title="wikilink">database management system</a> (DB) is required. Some DB systems natively store associative arrays by serializing the data and then storing that serialized data and the key. Individual arrays can then be loaded or saved from the database using the key to refer to them. These <a href="key-value_store" title="wikilink">key-value stores</a> have been used for many years and have a history as long as that as the more common <a href="relational_database" title="wikilink">relational database</a> (RDBs), but a lack of standardization, among other reasons, limited their use to certain niche roles. RDBs were used for these roles in most cases, although saving objects to a RDB can be complicated, a problem known as <a href="object-relational_impedance_mismatch" title="wikilink">object-relational impedance mismatch</a>.</p>

<p>After about 2010, the need for high performance databases suitable for <a href="cloud_computing" title="wikilink">cloud computing</a> and more closely matching the internal structure of the programs using them led to a renaissance in the key-value store market. These systems can store and retrieve associative arrays in a native fashion, which can greatly improve performance in common web-related workflows.</p>
<h2 id="see-also">See also</h2>
<ul>
<li><a href="Key-value_database" title="wikilink">Key-value database</a></li>
<li><a class="uri" href="Tuple" title="wikilink">Tuple</a></li>
<li><a href="Function_(mathematics)" title="wikilink">Function (mathematics)</a></li>
<li><a href="Key-value_data_store" title="wikilink">Key-value data store</a></li>
<li><a class="uri" href="JSON" title="wikilink">JSON</a></li>
</ul>
<h2 id="references">References</h2>
<h2 id="external-links">External links</h2>
<ul>
<li><a href="http://www.nist.gov/dads/HTML/assocarray.html">NIST's Dictionary of Algorithms and Data Structures: Associative Array</a></li>
</ul>

<p>"</p>

<p><a href="Category:Associative_arrays" title="wikilink">*</a> <a href="Category:Abstract_data_types" title="wikilink">Category:Abstract data types</a> <a href="Category:Composite_data_types" title="wikilink">Category:Composite data types</a> <a href="Category:Data_types" title="wikilink">Category:Data types</a></p>
<section class="footnotes">
<hr/>
<ol>
<li id="fn1">.<a href="#fnref1">â†©</a></li>
<li id="fn2">.<a href="#fnref2">â†©</a></li>
<li id="fn3"><a href="#fnref3">â†©</a></li>
<li id="fn4"></li>
<li id="fn5"></li>
<li id="fn6">.<a href="#fnref6">â†©</a></li>
<li id="fn7">, pp. 597â€“599.<a href="#fnref7">â†©</a></li>
<li id="fn8"></li>
<li id="fn9"></li>
<li id="fn10">, pp. 389â€“397.<a href="#fnref10">â†©</a></li>
<li id="fn11"></li>
<li id="fn12"><a href="#fnref12">â†©</a></li>
<li id="fn13"></li>
<li id="fn14"></li>
<li id="fn15"></li>
<li id="fn16"></li>
<li id="fn17">Joel Adams and Larry Nyhoff. <a href="http://cs.calvin.edu/books/c++/intro/3e/WebItems/Ch15-Web/STL-Trees.pdf">"Trees in STL"</a>. quote: "The Standard Template library ... some of its containers -- the set<t>, map<t1 t2="">, multiset<t>, and multimap<t1 t2=""> templates -- are generally built using a special kind of <em>self-balancing binary search tree</em> called a <em>red-black tree</em>." </t1></t></t1></t><a href="#fnref17">â†©</a></li>
<li id="fn18"><a href="#fnref18">â†©</a></li>
<li id="fn19"><a href="#fnref19">â†©</a></li>
<li id="fn20"><a href="https://developer.apple.com/library/prerelease/ios/documentation/Cocoa/Conceptual/Archiving/Archiving.html#//apple_ref/doc/uid/10000047i">"Archives and Serializations Programming Guide"</a>, Apple Inc., 2012<a href="#fnref20">â†©</a></li>
</ol>
</section>
</body>

