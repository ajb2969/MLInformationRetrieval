   Tensor contraction      Tensor contraction   In multilinear algebra , a tensor contraction is an operation on one or more tensors that arises from the natural pairing of a finite- dimensional  vector space and its dual . In components, it is expressed as a sum of products of scalar components of the tensor(s) caused by applying the summation convention to a pair of dummy indices which are bound to each other in an expression. The contraction of a single mixed tensor occurs when a pair of literal indices (one a subscript, the other a superscript) of the tensor are set equal to each other and summed over. In the Einstein notation this summation is built into the notation. The result is another tensor with order reduced by 2.  Tensor contraction can be seen as a generalization of the trace .  Abstract formulation  Let V be a vector space over a field  k . The core of the contraction operation, and the simplest case, is the natural pairing of V with its dual vector space V *. The pairing is the linear transformation from the tensor product of these two spaces to the field k :      C  :     V  *   ⊗  V   →  k      normal-:  C   normal-→   tensor-product   superscript  V    V   k     C:V^{*}\otimes V\rightarrow k     corresponding to the bilinear form       ⟨  f  ,  v  ⟩   =   f   (  v  )         f  v     f  v     \langle f,v\rangle=f(v)     where f is in V * and v is in V . The map C defines the contraction operation on a tensor of type (1,1), which is an element of     V  *   ⊗  V     tensor-product   superscript  V    V    V^{*}\otimes V   . Note that the result is a scalar (an element of k ). Using the natural isomorphism between     V  *   ⊗  V     tensor-product   superscript  V    V    V^{*}\otimes V   and the space of linear transformations from V to V , Let L( V , V ) be the space of linear transformations from V to V . Then the natural map        V  *   ⊗  V   →   L   (  V  ,  V  )       normal-→   tensor-product   superscript  V    V     L   V  V      V^{*}\otimes V\rightarrow L(V,V)     is defined by       f  ⊗  v   ↦  g     maps-to   tensor-product  f  v   g    f\otimes v\mapsto g     where g ( w ) = f ( w ) v . Suppose that V is finite-dimensional. If { v i } is a basis of V and { f i } is the corresponding dual basis, then     f  i   ⊗   v  j      tensor-product   superscript  f  i    subscript  v  j     f^{i}\otimes v_{j}   maps to the transformation whose matrix in this basis has only one nonzero entry, a 1 in the i , j position. This shows that the map is an isomorphism. one obtains a basis-free definition of the trace .  In general, a tensor of type ( m , n ) (with m ≥ 1 and n ≥ 1) is an element of the vector space      V  ⊗  ⋯  ⊗  V  ⊗   V  *   ⊗  ⋯  ⊗   V  *      tensor-product  V  normal-⋯  V   superscript  V    normal-⋯   superscript  V      V\otimes\cdots\otimes V\otimes V^{*}\otimes\cdots\otimes V^{*}     (where there are m  V factors and n  V * factors). 1 2 Applying the natural pairing to the k th V factor and the l th V * factor, and using the identity on all other factors, defines the ( k , l ) contraction operation, which is a linear map which yields a tensor of type ( m − 1, n − 1). 3 By analogy with the (1,1) case, the general contraction operation is sometimes called the trace.  Contraction in index notation  In abstract index notation , the basic contraction of a vector and a dual vector is denoted by        f  ~    (   v  →   )    =    f  γ    v  γ           normal-~  f    normal-→  v       subscript  f  γ    superscript  v  γ      \tilde{f}(\vec{v})=f_{\gamma}v^{\gamma}     which is shorthand for the explicit coordinate summation 4        f  γ    v  γ    =     f  1    v  1    +    f  2    v  2    +  ⋯  +    f  n    v  n            subscript  f  γ    superscript  v  γ         subscript  f  1    superscript  v  1       subscript  f  2    superscript  v  2    normal-⋯     subscript  f  n    superscript  v  n       f_{\gamma}v^{\gamma}=f_{1}v^{1}+f_{2}v^{2}+\cdots+f_{n}v^{n}     (where v i are the components of v in a particular basis and f i are the components of f in the corresponding dual basis).  Since a general mixed dyadic tensor is a linear combination of decomposable tensors of the form    f  ⊗  v     tensor-product  f  v    f\otimes v   , the explicit formula for the dyadic case follows: let      𝐓  =    T  i    𝐞  i    j     𝐞  j        𝐓     superscript  T  i    subscript   subscript  𝐞  i   j    superscript  𝐞  j      \mathbf{T}=T^{i}{}_{j}\mathbf{e}_{i}\mathbf{e}^{j}     be a mixed dyadic tensor. Then its contraction is       T  i    𝐞  i    j    ⋅   𝐞  j   =   T  i    δ  i    j     =    j    T  j    =   j     T  1    +   1    ⋯  +   T  n     n      fragments   superscript  T  i    subscript   subscript  𝐞  i   j   normal-⋅   superscript  𝐞  j     superscript  T  i    subscript   subscript  δ  i   j    superscript   j    superscript  T  j    subscript   j    superscript  T  1    subscript   1   normal-⋯    superscript  T  n    n     T^{i}{}_{j}\mathbf{e}_{i}\cdot\mathbf{e}^{j}=T^{i}{}_{j}\delta_{i}{}^{j}=T^{j}%
 {}_{j}=T^{1}{}_{1}+\cdots+T^{n}{}_{n}   .  A general contraction is denoted by labeling one covariant index and one contravariant index with the same letter, summation over that index being implied by the summation convention . The resulting contracted tensor inherits the remaining indices of the original tensor. For example, contracting a tensor T of type (2,2) on the second and third indices to create a new tensor U of type (1,1) is written as       T   a  b     =    b  c      ∑  b    T   a  b     =    b  c      T   a  1     +    1  c      T   a  2     +    2  c     ⋯  +   T   a  n     =    n  c      U  a    .   c       fragments   superscript  T    a  b     subscript     b  c     subscript   b    superscript  T    a  b     subscript     b  c     superscript  T    a  1     subscript     1  c     superscript  T    a  2     subscript     2  c    normal-⋯    superscript  T    a  n     subscript     n  c     superscript  U  a    subscript  normal-.  c     T^{ab}{}_{bc}=\sum_{b}{T^{ab}{}_{bc}}=T^{a1}{}_{1c}+T^{a2}{}_{2c}+\cdots+T^{an%
 }{}_{nc}=U^{a}{}_{c}.     By contrast, let      𝐓  =    𝐞  i    𝐞  j        𝐓     superscript  𝐞  i    superscript  𝐞  j      \mathbf{T}=\mathbf{e}^{i}\mathbf{e}^{j}     be an unmixed dyadic tensor. This tensor does not contract; if its base vectors are dotted the result is the contravariant metric tensor ,       g   i  j    =    𝐞  i   ⋅   𝐞  j         superscript  g    i  j     normal-⋅   superscript  𝐞  i    superscript  𝐞  j      g^{ij}=\mathbf{e}^{i}\cdot\mathbf{e}^{j}   ,  whose rank is 2.  Metric contraction  As in the previous example, contraction on a pair of indices that are either both contravariant or both covariant is not possible in general. However, in the presence of an inner product (also known as a metric ) g , such contractions are possible. One uses the metric to raise or lower one of the indices, as needed, and then one uses the usual operation of contraction. The combined operation is known as metric contraction . 5  Application to tensor fields  Contraction is often applied to tensor fields over spaces (e.g. Euclidean space , manifolds , or schemes ). Since contraction is a purely algebraic operation, it can be applied pointwise to a tensor field, e.g. if T is a (1,1) tensor field on Euclidean space, then in any coordinates, its contraction (a scalar field) U at a point x is given by       U   (  x  )    =    ∑  i     T  i  i    (  x  )           U  x     subscript   i      subscript   superscript  T  i   i   x      U(x)=\sum_{i}T^{i}_{i}(x)     Since the role of x is not complicated here, it is often suppressed, and the notation for tensor fields becomes identical to that for purely algebraic tensors.  Over a Riemannian manifold , a metric (field of inner products) is available, and both metric and non-metric contractions are crucial to the theory. For example, the Ricci tensor is a non-metric contraction of the Riemann curvature tensor , and the scalar curvature is the unique metric contraction of the Ricci tensor.  One can also view contraction of a tensor field in the context of modules over an appropriate ring of functions on the manifold 6 or the context of sheaves of modules over the structure sheaf; 7 see the discussion at the end of this article.  Tensor divergence  As an application of the contraction of a tensor field, let V be a vector field on a Riemannian manifold (for example, Euclidean space ). Let     V  α      ;  β       fragments   superscript  V  α     fragments  normal-;  β      V^{\alpha}{}_{;\beta}   be the covariant derivative of V (in some choice of coordinates). In the case of Cartesian coordinates in Euclidean space, one can write       V  α    =    ;  β       ∂   V  α     ∂   x  β     .     fragments   superscript  V  α    subscript    fragments  normal-;  β         superscript  V  α       superscript  x  β     normal-.    V^{\alpha}{}_{;\beta}={\partial V^{\alpha}\over\partial x^{\beta}}.     Then changing index β to α causes the pair of indices to become bound to each other, so that the derivative contracts with itself to obtain the following sum:       V  α    =    ;  α      V  0    +    ;  0     ⋯  +   V  n      ;  n       fragments   superscript  V  α    subscript    fragments  normal-;  α     superscript  V  0    subscript    fragments  normal-;  0    normal-⋯    superscript  V  n     fragments  normal-;  n      V^{\alpha}{}_{;\alpha}=V^{0}{}_{;0}+\cdots+V^{n}{}_{;n}     which is the divergence div V . Then      div  V  =   V  α    =    ;  α     0     fragments  div  V    superscript  V  α    subscript    fragments  normal-;  α    0    \mathrm{div}V=V^{\alpha}{}_{;\alpha}=0     is a continuity equation for V .  In general, one can define various divergence operations on higher-rank tensor fields , as follows. If T is a tensor field with at least one contravariant index, taking the covariant differential and contracting the chosen contravariant index with the new covariant index corresponding to the differential results in a new tensor of rank one lower than that of T . 8  Contraction of a pair of tensors  One can generalize the core contraction operation (vector with dual vector) in a slightly different way, by considering a pair of tensors T and U . The tensor product     T  ⊗  U     tensor-product  T  U    T\otimes U   is a new tensor, which, if it has at least one covariant and one contravariant index, can be contracted. The case where T is a vector and U is a dual vector is exactly the core operation introduced first in this article.  In abstract index notation, to contract two tensors with each other, one places them side by side (juxtaposed) as factors of the same term. This implements the tensor product, yielding a composite tensor. Contracting two indices in this composite tensor implements the desired contraction of the two tensors.  For example, matrices can be represented as tensors of type (1,1) with the first index being contravariant and the second index being covariant. Let     Λ  α     β      fragments   superscript  normal-Λ  α    β     \Lambda^{\alpha}{}_{\beta}   be the components of one matrix and let      \Mu   β     γ      fragments   superscript  \Mu  β    γ     \Mu^{\beta}{}_{\gamma}   be the components of a second matrix. Then their multiplication is given by the following contraction, an example of the contraction of a pair of tensors:       Λ  α     \Mu    β   β     =   γ      \Nu   α     γ      fragments   superscript  normal-Λ  α    subscript   superscript  \Mu  β   β    subscript   γ    superscript  \Nu  α    γ     \Lambda^{\alpha}{}_{\beta}\Mu^{\beta}{}_{\gamma}=\Nu^{\alpha}{}_{\gamma}   .  Also, the interior product of a vector with a differential form is a special case of the contraction of two tensors with each other.  More general algebraic contexts  Let R be a commutative ring and let M be a finite free module over R . Then contraction operates on the full (mixed) tensor algebra of M in exactly the same way as it does in the case of vector spaces over a field. (The key fact is that the natural pairing is still perfect in this case.)  More generally, let O X be a sheaf of commutative rings over a topological space  X , e.g. O X could be the structure sheaf of a complex manifold , analytic space , or scheme . Let M be a locally free sheaf of modules over O X of finite rank. Then the dual of M is still well-behaved 9 and contraction operations make sense in this context.  See also   Tensor product  Partial trace  Interior product  Raising and lowering indices  Musical isomorphism  Ricci calculus   Notes  References      "  Category:Tensors     ↩  ↩   In physics (and sometimes in mathematics), indices often start with zero instead of one. In four-dimensional spacetime, indices run from 0 to 3. ↩  ↩   ↩       