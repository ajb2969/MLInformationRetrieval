   Differential coding      Differential coding   In digital communications , differential coding is a technique used to provide unambiguous signal reception when using some types of modulation . It makes data to be transmitted to depend not only on the current bit (or symbol), but also on the previous one.  The common types of modulation that require differential coding include phase shift keying and quadrature amplitude modulation .  Purposes of differential coding  To demodulate BPSK one needs to make a local oscillator synchronous with the remote one. This is accomplished by a carrier recovery circuit. However, a carrier can be recovered in different ways, depending upon a valid phases count (2 for BPSK).  For this coding, if a carrier is recovered incorrectly, the received data is inverted.  Assuming that    x  i     subscript  x  i    x_{i}   is a bit intended for transmission, and    y  i     subscript  y  i    y_{i}   is a bit actually transmitted (differentially encoded), if       y  i   =     y   i  -  1    ⊕   x  i    ,   (  1  )         subscript  y  i     direct-sum   subscript  y    i  1     subscript  x  i    1     y_{i}=y_{i-1}\oplus x_{i},\qquad(1)   is transmitted, then on the decoding side       x  i   =   y  i   ⊕   y   i  -  1    .   (  2  )      fragments   subscript  x  i     subscript  y  i   direct-sum   subscript  y    i  1    normal-.  italic-   fragments  normal-(  2  normal-)     x_{i}=y_{i}\oplus y_{i-1}.\qquad(2)   can be reconstructed, where   ⊕   direct-sum   \oplus{}   indicates binary or modulo-2 addition.  Now    x  i     subscript  x  i    x_{i}   depends only on a difference between    y  i     subscript  y  i    y_{i}   and    y   i  -  1      subscript  y    i  1     y_{i-1}   and not on their values. So, whether the data stream is inverted or not, the decoded data will always be correct.  When data is transmitted over twisted-pair wires, it is easy to accidentally insert an extra half-twist in the cable between the transmitter and the receiver. When this happens, the received data is inverted. There are several different line codes designed to be polarity insensitive 1 -- whether the data stream is inverted or not, the decoded data will always be correct. The line codes with this property include differential Manchester encoding , bipolar encoding , NRZI , biphase mark code , coded mark inversion , and MLT-3 encoding .  Conventional differential coding  A method illustrated above can deal with a data stream inversion (it is called 180° ambiguity ). Sometimes it is enough (e.g. if BPSK is used or if other ambiguities are detected by other circuits, such as a Viterbi decoder or a frame synchronizer ) and sometimes it isn't.  Generally speaking, a differential coding applies to symbols (these are not necessary the same symbols as used in the modulator). To resolve 180° ambiguity only, bits are used as these symbols. When dealing with 90° ambiguity , pairs of bits are used, and triplets of bits are used to resolve 45° ambiguity (e.g. in 8PSK ).  A differential encoder provides the    (  1  )    1   (1)   operation, a differential decoder - the    (  2  )    2   (2)   operation.  Both differential encoder and differential decoder are discrete linear time-invariant systems . The former is recursive and IIR , the latter is non-recursive and thus FIR . They can be analyzed as digital filters .  A differential encoder is similar to an analog integrator . It has an impulse response       h   (  k  )    =   {      1  ,       if  k   ≥  0        0  ,       if  k   <  0             h  k    cases  1      if  k   0   0      if  k   0      h(k)=\begin{cases}1,&\mbox{if }k\geq 0\\
 0,&\mbox{if }k<0\end{cases}   and a transfer function         H    (  z  )    =   1   1  -   z   -  1       .        H  z     1    1   superscript  z    1        \ H(z)=\frac{1}{1-z^{-1}}.     A differential decoder is thus similar to an analog differentiator , its impulse response being       h   (  k  )    =   {      1  ,       if  k   =  0         -  1   ,       if  k   =  1        0  ,     otherwise            h  k    cases  1      if  k   0     1       if  k   1   0  otherwise     h(k)=\begin{cases}1,&\mbox{if }k=0\\
 -1,&\mbox{if }k=1\\
 0,&\mbox{otherwise}\end{cases}   and its transfer function         H    (  z  )    =   1  -   z   -  1      .        H  z     1   superscript  z    1       \ H(z)=1-z^{-1}.     Note that in binary (modulo-2) arithmetic, addition and subtraction (and positive and negative numbers) are equivalent.  Generalized differential coding  Using the relation      y   i  -  1    ⊕   x  i    =   y  i        direct-sum   subscript  y    i  1     subscript  x  i     subscript  y  i     y_{i-1}\oplus x_{i}=y_{i}   is not the only way of carrying out differential encoding. More generally, it can be any function    u  =   F   (  y  ,  x  )        u    F   y  x      u=F(y,x)   provided that an equation     u  0   =   F   (   y  0   ,  x  )         subscript  u  0     F    subscript  y  0   x      u_{0}=F(y_{0},x)   has one and only one solution for any    y  0     subscript  y  0    y_{0}   and    u  0     subscript  u  0    u_{0}   .  Applications  Differential coding is widely used in satellite and radio relay communications together with PSK and QAM modulations.  Drawbacks  Differential coding has one significant drawback: it leads to error multiplication. That is, if one symbol such as    y  i     subscript  y  i    y_{i}   was received incorrectly, two incorrect symbols    x  i     subscript  x  i    x_{i}   and    x   i  +  1      subscript  x    i  1     x_{i+1}   would be at the differential decoder's output, see:     x  i   =    y  i   ⊕   y   i  -  1          subscript  x  i    direct-sum   subscript  y  i    subscript  y    i  1       x_{i}=y_{i}\oplus y_{i-1}   and     x   i  +  1    =    y   i  +  1    ⊕   y  i         subscript  x    i  1     direct-sum   subscript  y    i  1     subscript  y  i      x_{i+1}=y_{i+1}\oplus y_{i}   . This approximately doubles the BER at signal-to-noise ratios for which errors rarely occur in consecutive symbols.  Other techniques to resolve a phase ambiguity  Differential coding is not the only way to deal with a phase ambiguity. The other popular technique is to use syncwords for this purpose. That is, if a frame synchronizer detects repeated inverted sync-words, it inverts the whole stream. This method is used in DVB-S .  See also   Phase shift keying  Satellite modem   External links and references   INTELSAT Earth Station Standard IESS-308  DVB framing structure, channel coding and modulation for 11/12 GHz satellite services (EN 300 421)   "  Category:Data transmission     "Spread spectrum direct sequence" by Daniel Kraus ↩     