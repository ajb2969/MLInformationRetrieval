<html lang="en">
<head>
<meta charset="utf-8"/>
<title offset="1884">Spectral flatness</title>
<script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_SVG.js" type="text/javascript">
</script>
</head>
<body>
<h1>Spectral flatness</h1>
<hr/>

<p> <strong>Spectral flatness</strong> or <strong>tonality coefficient</strong>,<a class="footnoteRef" href="#fn1" id="fnref1"><sup>1</sup></a><a class="footnoteRef" href="#fn2" id="fnref2"><sup>2</sup></a> also known as <strong>Wiener entropy</strong>,<a class="footnoteRef" href="#fn3" id="fnref3"><sup>3</sup></a><a class="footnoteRef" href="#fn4" id="fnref4"><sup>4</sup></a> is a measure used in <a href="digital_signal_processing" title="wikilink">digital signal processing</a> to characterize an audio <a class="uri" href="spectrum" title="wikilink">spectrum</a>. Spectral flatness is typically measured in <a class="uri" href="decibels" title="wikilink">decibels</a>, and provides a way to quantify how <a class="uri" href="noise" title="wikilink">noise</a>-like a sound is, as opposed to being <a href="Pitch_(music)" title="wikilink">tone</a>-like.<a class="footnoteRef" href="#fn5" id="fnref5"><sup>5</sup></a></p>

<p>The meaning of <em>tonal</em> in this context is in the sense of the amount of peaks or resonant structure in a <a href="power_spectrum" title="wikilink">power spectrum</a>, as opposed to flat spectrum of a <a href="white_noise" title="wikilink">white noise</a>. A high spectral flatness (approaching 1.0 for white noise) indicates that the spectrum has a similar amount of power in all spectral bands — this would sound similar to white noise, and the graph of the spectrum would appear relatively flat and smooth. A low spectral flatness (approaching 0.0 for a pure tone) indicates that the spectral power is concentrated in a relatively small number of bands — this would typically sound like a mixture of <a href="sine_wave" title="wikilink">sine waves</a>, and the spectrum would appear "spiky".<a class="footnoteRef" href="#fn6" id="fnref6"><sup>6</sup></a></p>

<p>The spectral flatness is calculated by dividing the <a href="geometric_mean" title="wikilink">geometric mean</a> of the power spectrum by the <a href="arithmetic_mean" title="wikilink">arithmetic mean</a> of the power spectrum, i.e.:</p>

<p>

<math display="block" id="Spectral_flatness:0">
 <semantics>
  <mrow>
   <mi>Flatness</mi>
   <mo>=</mo>
   <mfrac>
    <mroot>
     <mrow>
      <msubsup>
       <mo largeop="true" symmetric="true">∏</mo>
       <mrow>
        <mi>n</mi>
        <mo>=</mo>
        <mn>0</mn>
       </mrow>
       <mrow>
        <mi>N</mi>
        <mo>-</mo>
        <mn>1</mn>
       </mrow>
      </msubsup>
      <mrow>
       <mi>x</mi>
       <mrow>
        <mo stretchy="false">(</mo>
        <mi>n</mi>
        <mo stretchy="false">)</mo>
       </mrow>
      </mrow>
     </mrow>
     <mi>N</mi>
    </mroot>
    <mfrac>
     <mrow>
      <mstyle displaystyle="false">
       <msubsup>
        <mo largeop="true" symmetric="true">∑</mo>
        <mrow>
         <mi>n</mi>
         <mo>=</mo>
         <mn>0</mn>
        </mrow>
        <mrow>
         <mi>N</mi>
         <mo>-</mo>
         <mn>1</mn>
        </mrow>
       </msubsup>
      </mstyle>
      <mrow>
       <mi>x</mi>
       <mrow>
        <mo stretchy="false">(</mo>
        <mi>n</mi>
        <mo stretchy="false">)</mo>
       </mrow>
      </mrow>
     </mrow>
     <mi>N</mi>
    </mfrac>
   </mfrac>
   <mo>=</mo>
   <mfrac>
    <mrow>
     <mi>exp</mi>
     <mrow>
      <mo>(</mo>
      <mrow>
       <mfrac>
        <mn>1</mn>
        <mi>N</mi>
       </mfrac>
       <mrow>
        <msubsup>
         <mo largeop="true" symmetric="true">∑</mo>
         <mrow>
          <mi>n</mi>
          <mo>=</mo>
          <mn>0</mn>
         </mrow>
         <mrow>
          <mi>N</mi>
          <mo>-</mo>
          <mn>1</mn>
         </mrow>
        </msubsup>
        <mrow>
         <mrow>
          <mi>ln</mi>
          <mi>x</mi>
         </mrow>
         <mrow>
          <mo stretchy="false">(</mo>
          <mi>n</mi>
          <mo stretchy="false">)</mo>
         </mrow>
        </mrow>
       </mrow>
      </mrow>
      <mo>)</mo>
     </mrow>
    </mrow>
    <mrow>
     <mfrac>
      <mn>1</mn>
      <mi>N</mi>
     </mfrac>
     <mrow>
      <msubsup>
       <mo largeop="true" symmetric="true">∑</mo>
       <mrow>
        <mi>n</mi>
        <mo>=</mo>
        <mn>0</mn>
       </mrow>
       <mrow>
        <mi>N</mi>
        <mo>-</mo>
        <mn>1</mn>
       </mrow>
      </msubsup>
      <mrow>
       <mi>x</mi>
       <mrow>
        <mo stretchy="false">(</mo>
        <mi>n</mi>
        <mo stretchy="false">)</mo>
       </mrow>
      </mrow>
     </mrow>
    </mrow>
   </mfrac>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <and></and>
    <apply>
     <eq></eq>
     <ci>Flatness</ci>
     <apply>
      <divide></divide>
      <apply>
       <root></root>
       <degree>
        <ci>N</ci>
       </degree>
       <apply>
        <apply>
         <csymbol cd="ambiguous">superscript</csymbol>
         <apply>
          <csymbol cd="ambiguous">subscript</csymbol>
          <csymbol cd="latexml">product</csymbol>
          <apply>
           <eq></eq>
           <ci>n</ci>
           <cn type="integer">0</cn>
          </apply>
         </apply>
         <apply>
          <minus></minus>
          <ci>N</ci>
          <cn type="integer">1</cn>
         </apply>
        </apply>
        <apply>
         <times></times>
         <ci>x</ci>
         <ci>n</ci>
        </apply>
       </apply>
      </apply>
      <apply>
       <divide></divide>
       <apply>
        <apply>
         <csymbol cd="ambiguous">superscript</csymbol>
         <apply>
          <csymbol cd="ambiguous">subscript</csymbol>
          <sum></sum>
          <apply>
           <eq></eq>
           <ci>n</ci>
           <cn type="integer">0</cn>
          </apply>
         </apply>
         <apply>
          <minus></minus>
          <ci>N</ci>
          <cn type="integer">1</cn>
         </apply>
        </apply>
        <apply>
         <times></times>
         <ci>x</ci>
         <ci>n</ci>
        </apply>
       </apply>
       <ci>N</ci>
      </apply>
     </apply>
    </apply>
    <apply>
     <eq></eq>
     <share href="#.cmml">
     </share>
     <apply>
      <divide></divide>
      <apply>
       <exp></exp>
       <apply>
        <times></times>
        <apply>
         <divide></divide>
         <cn type="integer">1</cn>
         <ci>N</ci>
        </apply>
        <apply>
         <apply>
          <csymbol cd="ambiguous">superscript</csymbol>
          <apply>
           <csymbol cd="ambiguous">subscript</csymbol>
           <sum></sum>
           <apply>
            <eq></eq>
            <ci>n</ci>
            <cn type="integer">0</cn>
           </apply>
          </apply>
          <apply>
           <minus></minus>
           <ci>N</ci>
           <cn type="integer">1</cn>
          </apply>
         </apply>
         <apply>
          <times></times>
          <apply>
           <ln></ln>
           <ci>x</ci>
          </apply>
          <ci>n</ci>
         </apply>
        </apply>
       </apply>
      </apply>
      <apply>
       <times></times>
       <apply>
        <divide></divide>
        <cn type="integer">1</cn>
        <ci>N</ci>
       </apply>
       <apply>
        <apply>
         <csymbol cd="ambiguous">superscript</csymbol>
         <apply>
          <csymbol cd="ambiguous">subscript</csymbol>
          <sum></sum>
          <apply>
           <eq></eq>
           <ci>n</ci>
           <cn type="integer">0</cn>
          </apply>
         </apply>
         <apply>
          <minus></minus>
          <ci>N</ci>
          <cn type="integer">1</cn>
         </apply>
        </apply>
        <apply>
         <times></times>
         <ci>x</ci>
         <ci>n</ci>
        </apply>
       </apply>
      </apply>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \mathrm{Flatness}=\frac{\sqrt[N]{\prod_{n=0}^{N-1}x(n)}}{\frac{\sum_{n=0}^{N-1%
}x(n)}{N}}=\frac{\exp\left(\frac{1}{N}\sum_{n=0}^{N-1}\ln x(n)\right)}{\frac{1%
}{N}\sum_{n=0}^{N-1}x(n)}
  </annotation>
 </semantics>
</math>

</p>

<p>where <em>x(n)</em> represents the magnitude of <a href="histogram" title="wikilink">bin number <em>n</em></a>. Note that a single (or more) empty bin yields a flatness of 0, so this measure is most useful when bins are generally not empty.</p>

<p>The ratio produced by this calculation is often converted to a <a class="uri" href="decibel" title="wikilink">decibel</a> scale for reporting, with a maximum of 0 dB and a minimum of −∞ dB.</p>

<p>The spectral flatness can also be measured within a specified subband, rather than across the whole band.</p>
<h2 id="applications">Applications</h2>

<p>This measurement is one of the many audio descriptors used in the <a class="uri" href="MPEG-7" title="wikilink">MPEG-7</a> standard, in which it is labelled "AudioSpectralFlatness".</p>

<p>In <a href="bird_vocalization" title="wikilink">birdsong</a> research, it has been used as one of the features measured on birdsong audio, when testing similarity between two excerpts.<a class="footnoteRef" href="#fn7" id="fnref7"><sup>7</sup></a></p>
<h2 id="references">References</h2>

<p>"</p>

<p><a href="Category:Digital_signal_processing" title="wikilink">Category:Digital signal processing</a></p>
<section class="footnotes">
<hr/>
<ol>
<li id="fn1"><a href="#fnref1">↩</a></li>
<li id="fn2"><a href="#fnref2">↩</a></li>
<li id="fn3"><a href="http://soundanalysispro.com/manual-1/chapter-4-the-song-features-of-sap2/wiener-entropy">The Song Features › Wiener entropy</a> "defined as the ratio of geometric mean to arithmetic mean of the spectrum"<a href="#fnref3">↩</a></li>
<li id="fn4"><a href="http://luscinia.sourceforge.net/page19/page8/page33/page33.html">Luscinia parameters</a> "Wiener entropy is an alternative measure of the noisiness of a signal. It is defined as the ratio of the geometric mean to the arithmetic mean of the power spectrum."<a href="#fnref4">↩</a></li>
<li id="fn5"></li>
<li id="fn6"><a href="http://recherche.ircam.fr/equipes/analyse-synthese/peeters/ARTICLES/Peeters_2003_cuidadoaudiofeatures.pdf">A Large Set of Audio Features for Sound Description</a> - technical report published by <a class="uri" href="IRCAM" title="wikilink">IRCAM</a> in 2003. Section 9.1<a href="#fnref6">↩</a></li>
<li id="fn7">Tchernichovski, O., Nottebohm, F., Ho, C. E., Pesaran, B., Mitra, P. P., 2000. A procedure for an automated measurement of song similarity. Animal Behaviour 59 (6), 1167–1176, .<a href="#fnref7">↩</a></li>
</ol>
</section>
</body>
</html>
