<html lang="en">
<head>
<meta charset="utf-8"/>
<title offset="1157">McCarthy 91 function</title>
<script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_SVG.js" type="text/javascript">
</script>
</head>
<body>
<h1>McCarthy 91 function</h1>
<style>
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
  margin: 0; padding: 0; vertical-align: baseline; border: none; }
<style>
table.sourceCode { width: 100%; line-height: 100%; }
td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; color: #aaaaaa; border-right: 1px solid #aaaaaa; }
td.sourceCode { padding-left: 5px; }
code > span.kw { color: #007020; font-weight: bold; } /* Keyword */
code > span.dt { color: #902000; } /* DataType */
code > span.dv { color: #40a070; } /* DecVal */
code > span.bn { color: #40a070; } /* BaseN */
code > span.fl { color: #40a070; } /* Float */
code > span.ch { color: #4070a0; } /* Char */
code > span.st { color: #4070a0; } /* String */
code > span.co { color: #60a0b0; font-style: italic; } /* Comment */
code > span.ot { color: #007020; } /* Other */
code > span.al { color: #ff0000; font-weight: bold; } /* Alert */
code > span.fu { color: #06287e; } /* Function */
code > span.er { color: #ff0000; font-weight: bold; } /* Error */
code > span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
code > span.cn { color: #880000; } /* Constant */
code > span.sc { color: #4070a0; } /* SpecialChar */
code > span.vs { color: #4070a0; } /* VerbatimString */
code > span.ss { color: #bb6688; } /* SpecialString */
code > span.im { } /* Import */
code > span.va { color: #19177c; } /* Variable */
code > span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code > span.op { color: #666666; } /* Operator */
code > span.bu { } /* BuiltIn */
code > span.ex { } /* Extension */
code > span.pp { color: #bc7a00; } /* Preprocessor */
code > span.at { color: #7d9029; } /* Attribute */
code > span.do { color: #ba2121; font-style: italic; } /* Documentation */
code > span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code > span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code > span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
  </style>
</body></html>
<body>
<hr/>

<p>The <strong>McCarthy 91 function</strong> is a <a href="Recursion_(computer_science)" title="wikilink">recursive function</a>, defined by the <a href="computer_scientist" title="wikilink">computer scientist</a> <a href="John_McCarthy_(computer_scientist)" title="wikilink">John McCarthy</a> as a test case for <a href="formal_verification" title="wikilink">formal verification</a> within <a href="computer_science" title="wikilink">computer science</a>.</p>

<p>The McCarthy 91 function is defined as</p>

<p>

<math display="block" id="McCarthy_91_function:0">
 <semantics>
  <mrow>
   <mi>M</mi>
   <mrow>
    <mo stretchy="false">(</mo>
    <mi>n</mi>
    <mo stretchy="false">)</mo>
   </mrow>
   <mo>=</mo>
   <mrow>
    <mo>{</mo>
    <mtable displaystyle="true">
     <mtr>
      <mtd columnalign="center">
       <mrow>
        <mrow>
         <mi>n</mi>
         <mo>-</mo>
         <mn>10</mn>
        </mrow>
        <mo>,</mo>
       </mrow>
      </mtd>
      <mtd columnalign="center">
       <mrow>
        <mrow>
         <mtext>if</mtext>
         <mi>n</mi>
        </mrow>
        <mo>></mo>
        <mrow>
         <mn>100</mn>
         <mrow></mrow>
        </mrow>
       </mrow>
      </mtd>
     </mtr>
     <mtr>
      <mtd columnalign="center">
       <mrow>
        <mrow>
         <mi>M</mi>
         <mrow>
          <mo stretchy="false">(</mo>
          <mrow>
           <mi>M</mi>
           <mrow>
            <mo stretchy="false">(</mo>
            <mrow>
             <mi>n</mi>
             <mo>+</mo>
             <mn>11</mn>
            </mrow>
            <mo stretchy="false">)</mo>
           </mrow>
          </mrow>
          <mo stretchy="false">)</mo>
         </mrow>
        </mrow>
        <mo>,</mo>
       </mrow>
      </mtd>
      <mtd columnalign="center">
       <mrow>
        <mrow>
         <mtext>if</mtext>
         <mi>n</mi>
        </mrow>
        <mo>≤</mo>
        <mrow>
         <mn>100</mn>
         <mrow></mrow>
        </mrow>
       </mrow>
      </mtd>
     </mtr>
    </mtable>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <cerror>
    <csymbol cd="ambiguous">fragments</csymbol>
    <csymbol cd="unknown">M</csymbol>
    <cerror>
     <csymbol cd="ambiguous">fragments</csymbol>
     <ci>normal-(</ci>
     <csymbol cd="unknown">n</csymbol>
     <ci>normal-)</ci>
    </cerror>
    <eq></eq>
    <cerror>
     <csymbol cd="ambiguous">fragments</csymbol>
     <ci>normal-{</ci>
     <matrix>
      <matrixrow>
       <apply>
        <minus></minus>
        <ci>n</ci>
        <cn type="integer">10</cn>
       </apply>
       <apply>
        <gt></gt>
        <apply>
         <times></times>
         <mtext>if</mtext>
         <ci>n</ci>
        </apply>
        <apply>
         <times></times>
         <cn type="integer">100</cn>
         <mtext></mtext>
        </apply>
       </apply>
      </matrixrow>
      <matrixrow>
       <apply>
        <times></times>
        <ci>M</ci>
        <apply>
         <times></times>
         <ci>M</ci>
         <apply>
          <plus></plus>
          <ci>n</ci>
          <cn type="integer">11</cn>
         </apply>
        </apply>
       </apply>
       <apply>
        <leq></leq>
        <apply>
         <times></times>
         <mtext>if</mtext>
         <ci>n</ci>
        </apply>
        <apply>
         <times></times>
         <cn type="integer">100</cn>
         <mtext></mtext>
        </apply>
       </apply>
      </matrixrow>
     </matrix>
    </cerror>
   </cerror>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   M(n)=\left\{\begin{matrix}n-10,&\mbox{if }n>100\mbox{ }\\
M(M(n+11)),&\mbox{if }n\leq 100\mbox{ }\end{matrix}\right.
  </annotation>
 </semantics>
</math>

</p>

<p>The results of evaluating the function are given by <em>M</em>(<em>n</em>) = 91 for all integer arguments <em>n</em> ≤ 100, and <em>M</em>(<em>n</em>) = <em>n</em> − 10 for <em>n</em> &gt; 100. Indeed, the result of M(101) is also 91 (101 - 10 = 91). All results of M(n) after n = 101 are continually increasing by 1, e.g. M(102) = 92, M(103) = 93.</p>
<h2 id="history">History</h2>

<p>The 91 function was introduced in papers published by <a href="Zohar_Manna" title="wikilink">Zohar Manna</a>, <a href="Amir_Pnueli" title="wikilink">Amir Pnueli</a> and <a href="John_McCarthy_(computer_scientist)" title="wikilink">John McCarthy</a> in 1970. These papers represented early developments towards the application of <a href="formal_methods" title="wikilink">formal methods</a> to <a href="formal_verification" title="wikilink">program verification</a>. The 91 function was chosen for having a complex recursion pattern (contrasted with simple patterns, such as defining 

<math display="inline" id="McCarthy_91_function:1">
 <semantics>
  <mrow>
   <mi>f</mi>
   <mrow>
    <mo stretchy="false">(</mo>
    <mi>n</mi>
    <mo stretchy="false">)</mo>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <times></times>
    <ci>f</ci>
    <ci>n</ci>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   f(n)
  </annotation>
 </semantics>
</math>

 by means of 

<math display="inline" id="McCarthy_91_function:2">
 <semantics>
  <mrow>
   <mi>f</mi>
   <mrow>
    <mo stretchy="false">(</mo>
    <mrow>
     <mi>n</mi>
     <mo>-</mo>
     <mn>1</mn>
    </mrow>
    <mo stretchy="false">)</mo>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <times></times>
    <ci>f</ci>
    <apply>
     <minus></minus>
     <ci>n</ci>
     <cn type="integer">1</cn>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   f(n-1)
  </annotation>
 </semantics>
</math>

). The example was popularized by Manna's book, <em>Mathematical Theory of Computation</em> (1974). As the field of Formal Methods advanced, this example appeared repeatedly in the research literature. In particular, it is viewed as a "challenge problem" for automated program verification.</p>

<p>Often, it is easier to reason about non-recursive computation. As one of the examples used to demonstrate such reasoning, Manna's book includes a non-recursive algorithm that simulates the original (recursive) 91 function. Many of the papers that report an "automated verification" (or <a href="termination_proof" title="wikilink">termination proof</a>) of the 91 function only handle the non-recursive version.</p>

<p>A formal derivation of the non-recursive version from the recursive one was given in a 1980 article by <a href="Mitchell_Wand" title="wikilink">Mitchell Wand</a>, based on the use of <a href="continuation" title="wikilink">continuations</a>.</p>
<h2 id="examples">Examples</h2>

<p>Example A:</p>

<p><code>M(99) = M(M(110)) since 99 ≤ 100</code><br/>
<code>      = M(100)    since 110 &gt; 100</code><br/>
<code>      = M(M(111)) since 100 ≤ 100</code><br/>
<code>      = M(101)    since 111 &gt; 100</code><br/>
<code>      = 91        since 101 &gt; 100</code></p>

<p>Example B:</p>

<p><code>M(87) = M(M(98))</code><br/>
<code>      = M(M(M(109)))</code><br/>
<code>      = M(M(99))</code><br/>
<code>      = M(M(M(110)))</code><br/>
<code>      = M(M(100))</code><br/>
<code>      = M(M(M(111)))</code><br/>
<code>      = M(M(101))</code><br/>
<code>      = M(91)</code><br/>
<code>      = M(M(102))</code><br/>
<code>      = M(92)</code><br/>
<code>      = M(M(103))</code><br/>
<code>      = M(93)</code><br/>
<code>   .... Pattern continues</code><br/>
<code>      = M(99)</code><br/>
<code>     (same as example A)</code><br/>
<code>      = 91</code></p>
<h2 id="code">Code</h2>

<p>Here is an implementation of the recursive algorithm in <a href="Lisp_programming_language" title="wikilink">Lisp</a>:</p>
<pre class="lisp"><code> (defun mc91 (n)
   (cond ((&lt;= n 100) (mc91 (mc91 (+ n 11))))
         (t (- n 10))))</code></pre>

<p>Here is an implementation of the recursive algorithm in <a href="Haskell_(programming_language)" title="wikilink">Haskell</a>:</p>
<div class="sourceCode"><pre class="sourceCode haskell"><code class="sourceCode haskell">  mc91 n <span class="fu">|</span> n <span class="fu">&gt;</span> <span class="dv">100</span>   <span class="fu">=</span> n <span class="fu">-</span> <span class="dv">10</span>
         <span class="fu">|</span> otherwise <span class="fu">=</span> mc91 <span class="fu">$</span> mc91 <span class="fu">$</span> n <span class="fu">+</span> <span class="dv">11</span></code></pre></div>

<p>Here is an implementation of the recursive algorithm in <a href="Python_(programming_language)" title="wikilink">Python</a>:</p>
<div class="sourceCode"><pre class="sourceCode python"><code class="sourceCode python"> <span class="kw">def</span> m91(n):
    <span class="cf">if</span> n <span class="op">&gt;</span> <span class="dv">100</span>:
        <span class="cf">return</span> n <span class="op">-</span> <span class="dv">10</span>
    <span class="cf">else</span>:
        <span class="cf">return</span> m91(m91(n <span class="op">+</span> <span class="dv">11</span>))</code></pre></div>

<p>Here is an implementation of the recursive algorithm in <a href="C_(programming_language)" title="wikilink">C</a>:</p>
<div class="sourceCode"><pre class="sourceCode c"><code class="sourceCode c"> <span class="dt">int</span> mc91(<span class="dt">int</span> n)
 {
     <span class="kw">if</span> (n &gt; <span class="dv">100</span>) {
         <span class="kw">return</span> n - <span class="dv">10</span>;
     } <span class="kw">else</span> {
         <span class="kw">return</span> mc91(mc91(n<span class="dv">+11</span>));
     }
 }</code></pre></div>

<p>Here is an implementation of the non-recursive algorithm in <a href="C_(programming_language)" title="wikilink">C</a>:</p>
<div class="sourceCode"><pre class="sourceCode c"><code class="sourceCode c"> <span class="dt">int</span> mccarthy(<span class="dt">int</span> n)
 {
     <span class="dt">int</span> c;
     <span class="kw">for</span> (c = <span class="dv">1</span>; c != <span class="dv">0</span>; ) {
         <span class="kw">if</span> (n &gt; <span class="dv">100</span>) {
             n = n - <span class="dv">10</span>;
             c--;
         } <span class="kw">else</span> {
             n = n + <span class="dv">11</span>;
             c++;
         }
     }
     <span class="kw">return</span> n;
 }</code></pre></div>
<h2 id="proof">Proof</h2>

<p>Here is a proof that the function behaves as expected.</p>

<p>For 90 ≤ <em>n</em> = 101 since n &gt;= 90</p>

<p><code>     = M(n + 1)</code></p>

<p>So <em>M</em>(<em>n</em>) = 91 for 90 ≤ <em>n</em> </p>
</body>

