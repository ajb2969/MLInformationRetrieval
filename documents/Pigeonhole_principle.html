<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title offset="1736">Pigeonhole principle</title>
   <script type="text/javascript"
      src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_SVG.js">
    </script>
</head>
<body>
<h1>Pigeonhole principle</h1>
<hr/>
<figure><b>(Figure)</b>
<figcaption>An image of pigeons in holes. Here there are  pigeons in  holes. Since 10 is greater than 9, the pigeonhole principle says that at least one hole has more than one pigeon.</figcaption>
</figure>
<p>In mathematics, the <strong>pigeonhole principle</strong> states that if <span class="LaTeX">$n$</span> items are put into <span class="LaTeX">$m$</span> containers, with <span class="LaTeX">$n > m$</span>, then at least one container must contain more than one item.<a class="footnoteRef" href="#fn1" id="fnref1"><sup>1</sup></a> This theorem is exemplified in real-life by truisms like "there must be at least two left gloves or two right gloves in a group of three gloves". It is an example of a <a href="combinatorics" title="wikilink">counting argument</a>, and despite seeming intuitive it can be used to demonstrate possibly unexpected results; for example, that two people in London have the same number of hairs on their heads (see <a href="Pigeonhole_principle#Hair-counting" title="wikilink">below</a>).</p>
<p>The first formalization of the idea is believed to have been made by <a href="Peter_Gustav_Lejeune_Dirichlet" title="wikilink">Peter Gustav Lejeune Dirichlet</a> in 1834 under the name <em>Schubfachprinzip</em> ("drawer principle" or "shelf principle"). For this reason it is also commonly called <strong>Dirichlet's box principle</strong>, <strong>Dirichlet's drawer principle</strong> or simply "Dirichlet's principle"<a class="footnoteRef" href="#fn2" id="fnref2"><sup>2</sup></a> — a name that could also refer to the minimum principle for <a href="harmonic_function" title="wikilink">harmonic functions</a>. The original "drawer" name is still in use in <a href="French_language" title="wikilink">French</a> ("principe des tiroirs"), <a href="Polish_language" title="wikilink">Polish</a> ("zasada szufladkowa"), <a href="Hungarian_language" title="wikilink">Hungarian</a> ("skatulyaelv"), <a href="Italian_language" title="wikilink">Italian</a> ("principio dei cassetti"), <a href="German_language" title="wikilink">German</a> ("Schubfachprinzip"), <a href="Danish_language" title="wikilink">Danish</a> ("Skuffeprincippet"), and <a href="Chinese_language" title="wikilink">Chinese</a> ("抽屉原理").</p>
<p>The principle has several generalizations and can be stated in various ways. In a more quantified version: for <a href="natural_number" title="wikilink">natural numbers</a> <span class="LaTeX">$k$</span> and <span class="LaTeX">$m$</span>, if <span class="LaTeX">$ n = km + 1$</span> objects are distributed among <span class="LaTeX">$m$</span> sets, then the pigeonhole principle asserts that at least one of the sets will contain at least <span class="LaTeX">$k + 1$</span> objects.<a class="footnoteRef" href="#fn3" id="fnref3"><sup>3</sup></a> For arbitrary <span class="LaTeX">$n$</span> and <span class="LaTeX">$m$</span> this generalizes to <span class="LaTeX">$ k + 1 = ⌊( n - 1)/ m ⌋ + 1$</span>, where <span class="LaTeX">$⌊...⌋$</span> is the <a href="floor_function" title="wikilink">floor function</a>.</p>
<p>Though the most straightforward application is to <a href="finite_set" title="wikilink">finite sets</a> (such as pigeons and boxes), it is also used with <a href="infinite_set" title="wikilink">infinite sets</a> that cannot be put into <a href="one-to-one_correspondence" title="wikilink">one-to-one correspondence</a>. To do so requires the formal statement of the pigeonhole principle, which is <em>"there does not exist an <a href="injective_function" title="wikilink">injective function</a> whose <a class="uri" href="codomain" title="wikilink">codomain</a> is smaller than its <a href="domain_(mathematics)" title="wikilink">domain</a>"</em>. Advanced mathematical proofs like <a href="Siegel's_lemma" title="wikilink">Siegel's lemma</a> build upon this more general concept.</p>
<h2 id="examples">Examples</h2>
<h3 id="sock-picking">Sock-picking</h3>
<p>Assume you have a mixture of black socks and blue socks, what is the minimum number of socks needed before a pair of the same color can be guaranteed? Using the pigeonhole principle, to have at least one pair of the same color  holes, one per color) using one pigeonhole per color, you need only three socks  items).</p>
<h3 id="hand-shaking">Hand-shaking</h3>
<p>If there are <em>n</em> people who can shake hands with one another (where ), the pigeonhole principle shows that there is always a pair of people who will shake hands with the same number of people. As the 'holes', or <em>m</em>, correspond to number of hands shaken, and each person can shake hands with anybody from 0 to  other people, this creates  possible holes. This is because either the '0' or the  hole must be empty (if one person shakes hands with everybody, it's not possible to have another person who shakes hands with nobody; likewise, if one person shakes hands with no one there cannot be a person who shakes hands with everybody). This leaves <em>n</em> people to be placed in at most  non-empty holes, guaranteeing duplication.</p>
<h3 id="hair-counting">Hair-counting</h3>
<p>We can demonstrate there must be at least two people in <a class="uri" href="London" title="wikilink">London</a> with the same number of hairs on their heads as follows.<a class="footnoteRef" href="#fn4" id="fnref4"><sup>4</sup></a> Since a typical human head has an <a class="uri" href="average" title="wikilink">average</a> of around 150,000 hairs; it is reasonable to assume (as an upper bound) that no one has more than 1,000,000 hairs on their head  holes). There are more than 1,000,000 people in London (<em>n</em> is bigger than 1 million items). Assigning a pigeonhole to each number of hairs on a person's head, and assign people to pigeonholes according to the number of hairs on their head, there must be at least two people assigned to the same pigeonhole by the 1,000,001st assignment (because they have the same number of hairs on their heads) (or, ). For the average case (m = 150,000) with the constraint: fewest overlaps, there will be at most one person assigned to every pigeonhole and the 150,001st person assigned to the same pigeonhole as someone else. In the absence of this constraint, there may be empty pigeonholes because the "collision" happens before we get to the 150,001st person. The principle just proves the existence of an overlap; it says nothing of the number of overlaps (which falls under the subject of <a href="Probability_Distribution" title="wikilink">Probability Distribution</a>).</p>
<h3 id="the-birthday-problem">The birthday problem</h3>
<p>The <a href="birthday_problem" title="wikilink">birthday problem</a> asks, for a set of <em>n</em> randomly chosen people, what is the probability that some pair of them will have the same birthday. By the pigeonhole principle, if there are 367 people in the room, we know that there is at least one pair who share the same birthday, as there are only 366 possible birthdays to choose from (including February 29, if present). The birthday "paradox" refers to the result that even if the group is as small as consisting of only 23 individuals, there will still be a pair of people with the same birthday with a 50% probability. While at first glance this may seem surprising, it intuitively makes sense when considering that a comparison will actually be made between every possible pair of people rather than fixing one individual and comparing them solely to the rest of the group.</p>
<h3 id="softball-team">Softball team</h3>
<p>Imagine seven people who want to play <a class="uri" href="softball" title="wikilink">softball</a>  items), with a limitation of only four softball teams  holes) to choose from. The pigeonhole principle tells us that they cannot all play for different teams. At least 2 must play on the same team:</p>
<p><span class="LaTeX">$$\left\lfloor \frac{(n-1)}{m} \right\rfloor + 1 = \left\lfloor \frac{(7-1)}{4} \right\rfloor + 1 = \left\lfloor \frac64 \right\rfloor + 1 = 1 + 1 = 2$$</span></p>
<h3 id="subset-sum">Subset sum</h3>
<p>Any subset of size six from the set <em>S</em> = {1,2,3,...,9} must contain two elements whose sum is 10. The pigeonholes will be labelled by the two element subsets {1,9}, {2,8}, {3,7}, {4,6} and the singleton {5}, five pigeonholes in all. When the six "pigeons" (elements of the size six subset) are placed into these pigeonholes, each pigeon going into the pigeonhole that has it contained in its label, at least one of pigeonholes labelled with a two element subset will have two pigeons in it.<a class="footnoteRef" href="#fn5" id="fnref5"><sup>5</sup></a></p>
<h2 id="uses-and-applications">Uses and applications</h2>
<p>The pigeonhole principle arises in <a href="computer_science" title="wikilink">computer science</a>. For example, <a href="collision_(computer_science)" title="wikilink">collisions</a> are inevitable in a <a href="hash_table" title="wikilink">hash table</a> because the number of possible keys exceeds the number of indices in the array. A <a href="hashing_algorithm" title="wikilink">hashing algorithm</a>, no matter how clever, cannot avoid these collisions.</p>
<p>The principle can be used to prove that any <a href="lossless_data_compression" title="wikilink">lossless compression algorithm</a>, provided it makes some inputs smaller (as the name compression suggests), will also make some other inputs larger. Otherwise, the set of all input sequences up to a given length <em>L</em> could be mapped to the (much) smaller set of all sequences of length less than <em>L</em>, and do so without collisions (because the compression is lossless), which possibility the pigeonhole principle excludes.</p>
<p>A notable problem in <a href="mathematical_analysis" title="wikilink">mathematical analysis</a> is, for a fixed <a href="irrational_number" title="wikilink">irrational number</a> <em>a</em>, to show that the set {[<em>na</em>]: <em>n</em> is an integer} of <a href="fractional_part" title="wikilink">fractional parts</a> is <a href="Dense-in-itself" title="wikilink">dense</a> in [0, 1]. One finds that it is not easy to explicitly find integers <em>n</em>, <em>m</em> such that , where  is a small positive number and <em>a</em> is some arbitrary irrational number. But if one takes <em>M</em> such that , by the pigeonhole principle there must be } such that <em>n</em><sub>1</sub><em>a</em> and <em>n</em><sub>2</sub><em>a</em> are in the same integer subdivision of size 1/<em>M</em> (there are only <em>M</em> such subdivisions between consecutive integers). In particular, we can find <em>n</em><sub>1</sub>, <em>n</em><sub>2</sub> such that <em>n</em><sub>1</sub><em>a</em> is in , and <em>n</em><sub>2</sub><em>a</em> is in , for some <em>p</em>, <em>q</em> integers and <em>k</em> in }. We can then easily verify that <mtpl></mtpl> is in . This implies that , where <em>n</em> = <mtpl></mtpl> or <em>n</em> = <mtpl></mtpl>. This shows that 0 is a limit point of {[<em>na</em>]}. We can then use this fact to prove the case for <em>p</em> in (0, 1]: find <em>n</em> such that ; then if ], we are done. Otherwise <em>p</em> in ], and by setting <em>k</em> = sup}, one obtains .</p>
<h2 id="alternate-formulations">Alternate formulations</h2>
<p>The following are alternate formulations of the pigeonhole principle.</p>
<ol>
<li>If <em>n</em> objects are distributed over <em>m</em> places, and if <em>n</em> > <em>m</em>, then some place receives at least two objects.<a class="footnoteRef" href="#fn6" id="fnref6"><sup>6</sup></a></li>
<li>(equivalent formulation of 1) If <em>n</em> objects are distributed over <em>n</em> places in such a way that no place receives more than one object, then each place receives exactly one object.<a class="footnoteRef" href="#fn7" id="fnref7"><sup>7</sup></a></li>
<li>If <em>n</em> objects are distributed over <em>m</em> places, and if <em>n</em> < <em>m</em>, then some place receives no object.</li>
<li>(equivalent formulation of 3) If <em>n</em> objects are distributed over <em>n</em> places in such a way that no place receives no object, then each place receives exactly one object.<a class="footnoteRef" href="#fn8" id="fnref8"><sup>8</sup></a></li>
</ol>
<h2 id="strong-form">Strong form</h2>
<p>Let <mtpl></mtpl> be positive integers. If</p>
<p><span class="LaTeX">$$q_1 + q_2 + \cdots + q_n - n + 1$$</span> objects are distributed into <em>n</em> boxes, then either the first box contains at least <mtpl></mtpl> objects, or the second box contains at least <mtpl></mtpl> objects, ..., or the <em>n</em>th box contains at least <mtpl></mtpl> objects.<a class="footnoteRef" href="#fn9" id="fnref9"><sup>9</sup></a></p>
<p>The simple form is obtained from this by taking <mtpl></mtpl>, which gives <em>n</em> + 1 objects. Taking <mtpl></mtpl> gives the more quantified version of the principle, namely:</p>
<p>Let <em>n</em> and <em>r</em> be positive integers. If <span class="LaTeX">$n ( r - 1) + 1$</span> objects are distributed into <em>n</em> boxes, then at least one of the boxes contains <em>r</em> or more of the objects.<a class="footnoteRef" href="#fn10" id="fnref10"><sup>10</sup></a></p>
<p>This can also be stated as, if <em>k</em> discrete objects are to be allocated to <em>n</em> containers, then at least one container must hold at least <span class="LaTeX">$\lceil k/n \rceil$</span> objects, where <span class="LaTeX">$\lceil x\rceil$</span> is the <a href="ceiling_function" title="wikilink">ceiling function</a>, denoting the smallest integer larger than or equal to <em>x</em>. Similarly, at least one container must hold no more than <span class="LaTeX">$\lfloor k/n \rfloor$</span> objects, where <span class="LaTeX">$\lfloor x \rfloor$</span> is the <a href="floor_function" title="wikilink">floor function</a>, denoting the largest integer smaller than or equal to <em>x</em>.</p>
<h2 id="generalizations-of-the-pigeonhole-principle">Generalizations of the pigeonhole principle</h2>
<p>A probabilistic generalization of the pigeonhole principle states that if <em>n</em> pigeons are randomly put into <em>m</em> pigeonholes with uniform probability 1/<em>m</em>, then at least one pigeonhole will hold more than one pigeon with probability</p>
<p><span class="LaTeX">$$1 - \frac{(m)_n}{m^n}, \!$$</span></p>
<p>where (<em>m</em>)<sub><em>n</em></sub> is the <a href="falling_factorial" title="wikilink">falling factorial</a> . For <em>n</em> = 0 and for <em>n</em> = 1 (and <em>m</em> > 0), that probability is zero; in other words, if there is just one pigeon, there cannot be a conflict. For <em>n</em> > <em>m</em> (more pigeons than pigeonholes) it is one, in which case it coincides with the ordinary pigeonhole principle. But even if the number of pigeons does not exceed the number of pigeonholes (<em>n</em> ≤ <em>m</em>), due to the random nature of the assignment of pigeons to pigeonholes there is often a substantial chance that clashes will occur. For example, if 2 pigeons are randomly assigned to 4 pigeonholes, there is a 25% chance that at least one pigeonhole will hold more than one pigeon; for 5 pigeons and 10 holes, that probability is 69.76%; and for 10 pigeons and 20 holes it is about 93.45%. If the number of holes stays fixed, there is always a greater probability of a pair when you add more pigeons. This problem is treated at much greater length in the <a href="birthday_paradox" title="wikilink">birthday paradox</a>.</p>
<p>A further probabilistic generalisation is that when a real-valued <a href="random_variable" title="wikilink">random variable</a> <em>X</em> has a finite <a class="uri" href="mean" title="wikilink">mean</a> <em>E</em>(<em>X</em>), then the probability is nonzero that <em>X</em> is greater than or equal to <em>E</em>(<em>X</em>), and similarly the probability is nonzero that <em>X</em> is less than or equal to <em>E</em>(<em>X</em>). To see that this implies the standard pigeonhole principle, take any fixed arrangement of <em>n</em> pigeons into <em>m</em> holes and let <em>X</em> be the number of pigeons in a hole chosen uniformly at random. The mean of <em>X</em> is <em>n</em>/<em>m</em>, so if there are more pigeons than holes the mean is greater than one. Therefore, <em>X</em> is sometimes at least 2.</p>
<h2 id="infinite-sets">Infinite sets</h2>
<p>The pigeonhole principle can be extended to <a href="infinite_set" title="wikilink">infinite sets</a> by phrasing it in terms of <a href="cardinal_number" title="wikilink">cardinal numbers</a>: if the cardinality of set A is greater than the cardinality of set B, then there is no injection from A to B. However in this form the principle is <a href="tautology_(logic)" title="wikilink">tautological</a>, since the meaning of the statement that the cardinality of set A is greater than the cardinality of set B is exactly that there is no injective map from A to B. What makes the situation of finite sets interesting  is that adding at least one element to a set is sufficient to ensure that the cardinality increases.</p>
<p>Another way to phrase the pigeonhole principle is similar to the principle that finite sets are <a href="Dedekind_finite" title="wikilink">Dedekind finite</a>: Let A and B be finite sets. If there is a surjection from A to B that is not injective, then no surjection from A to B is injective. In fact no function of any kind from A to B is injective.</p>
<p>The above principle is not true for infinite sets: Consider the function on the natural numbers that sends 1 and 2 to 1, 3 and 4 to 2, 5 and 6 to 3... and so on.</p>
<p>There is a similar principle for infinite sets: If uncountably many pigeons are stuffed into countably many pigeonholes, there will exist at least one pigeonhole having uncountably many pigeons stuffed into it.</p>
<p>This principle is not a generalisation of the pigeonhole principle for finite sets however: It is in general false for finite sets. In technical terms it says that if A and B are finite sets such that any surjective function from A to B is not injective, then there exists an element of b of B such that there exists a bijection between the preimage of b and A. This is a quite different statement, and is absurd for large finite cardinalities.</p>
<h2 id="see-also">See also</h2>
<ul>
<li><a href="Combinatorial_principles" title="wikilink">Combinatorial principles</a></li>
<li><a href="Combinatorial_proof" title="wikilink">Combinatorial proof</a></li>
<li><a href="Dedekind-infinite_set" title="wikilink">Dedekind-infinite set</a></li>
<li><a href="Hilbert's_paradox_of_the_Grand_Hotel" title="wikilink">Hilbert's paradox of the Grand Hotel</a></li>
<li><a href="Multinomial_theorem" title="wikilink">Multinomial theorem</a></li>
<li><a href="Pumping_lemma_for_regular_languages" title="wikilink">Pumping lemma for regular languages</a></li>
<li><a href="Ramsey's_theorem" title="wikilink">Ramsey's theorem</a></li>
<li><a href="Pochhammer_symbol" title="wikilink">Pochhammer symbol</a></li>
</ul>
<h2 id="notes">Notes</h2>
<h2 id="references">References</h2>
<ul>
<li></li>
<li></li>
<li></li>
<li></li>
</ul>
<h2 id="external-links">External links</h2>
<ul>
<li></li>
<li>"<a href="http://www.cs.utexas.edu/users/EWD/transcriptions/EWD09xx/EWD980.html">The strange case of The Pigeon-hole Principle</a>"; <a href="Edsger_Dijkstra" title="wikilink">Edsger Dijkstra</a> investigates interpretations and reformulations of the principle.</li>
<li>"<a href="http://zimmer.csufresno.edu/~larryc/proofs/proofs.pigeonhole.html">The Pigeon Hole Principle</a>"; Elementary examples of the principle in use by Larry Cusick.</li>
<li>"<a href="http://www.cut-the-knot.org/do_you_know/pigeon.shtml">Pigeonhole Principle from Interactive Mathematics Miscellany and Puzzles</a>"; basic Pigeonhole Principle analysis and examples by <a href="Alexander_Bogomolny" title="wikilink">Alexander Bogomolny</a>.</li>
<li>"<a href="http://mindyourdecisions.com/blog/2008/11/25/16-fun-applications-of-the-pigeonhole-principle">16 fun applications of the pigeonhole principle</a>"; Interesting facts derived by the principle.</li>
</ul>
<p>"</p>
<p><a class="uri" href="Category:Combinatorics" title="wikilink">Category:Combinatorics</a> <a href="Category:Theorems_in_discrete_mathematics" title="wikilink">Category:Theorems in discrete mathematics</a> <a href="Category:Mathematical_principles" title="wikilink">Category:Mathematical principles</a> <a href="Category:Ramsey_theory" title="wikilink">Category:Ramsey theory</a></p>
<section class="footnotes">
<hr/>
<ol>
<li id="fn1"><a href="#fnref1">↩</a></li>
<li id="fn2">Jeff Miller, Peter Flor, Gunnar Berg, and Julio González Cabillón. "<a href="http://jeff560.tripod.com/p.html">Pigeonhole principle</a>". In Jeff Miller (ed.) <em><a href="http://jeff560.tripod.com/mathword.html">Earliest Known Uses of Some of the Words of Mathematics</a></em>. Electronic document, retrieved November 11, 2006<a href="#fnref2">↩</a></li>
<li id="fn3"><a href="#fnref3">↩</a></li>
<li id="fn4">To avoid a slightly messier presentation we assume that "people" in this example only refers to people who are not bald.<a href="#fnref4">↩</a></li>
<li id="fn5"><a href="#fnref5">↩</a></li>
<li id="fn6"></li>
<li id="fn7"></li>
<li id="fn8"><a href="#fnref8">↩</a></li>
<li id="fn9"><a href="#fnref9">↩</a></li>
<li id="fn10">In the lead section this was presented with the substitutions <em>m</em> = <em>n</em> and <em>k</em> = <em>r</em> - 1.<a href="#fnref10">↩</a></li>
</ol>
</section>
</body>
</html>
