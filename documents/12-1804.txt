   Continuous mapping theorem      Continuous mapping theorem   In probability theory , the continuous mapping theorem states that continuous functions are limit-preserving even if their arguments are sequences of random variables. A continuous function, in Heineâ€™s definition , is such a function that maps convergent sequences into convergent sequences: if x n â†’ x then g ( x n ) â†’ g ( x ). The continuous mapping theorem states that this will also be true if we replace the deterministic sequence { x n } with a sequence of random variables { X n }, and replace the standard notion of convergence of real numbers â€œâ†’â€ with one of the types of convergence of random variables .  This theorem was first proved by , and it is therefore sometimes called the Mannâ€“Wald theorem . 1  Statement  Let { X n }, X be random elements defined on a metric space  S . Suppose a function  (where Sâ€² is another metric space) has the set of discontinuity points  D g such that . Then 2 3 4           X  n      â†’  ð‘‘     X  â‡’      g   (   X  n   )      â†’  ð‘‘     g   (  X  )      ;     formulae-sequence    d  normal-â†’    subscript  X  n    X  normal-â‡’      d  normal-â†’     g   subscript  X  n      g  X      X_{n}\ \xrightarrow{d}\ X\quad\Rightarrow\quad g(X_{n})\ \xrightarrow{d}\ g(X);             X  n      â†’  ð‘     X  â‡’      g   (   X  n   )      â†’  ð‘     g   (  X  )      ;     formulae-sequence    p  normal-â†’    subscript  X  n    X  normal-â‡’      p  normal-â†’     g   subscript  X  n      g  X      X_{n}\ \xrightarrow{p}\ X\quad\Rightarrow\quad g(X_{n})\ \xrightarrow{p}\ g(X);             X  n      â†’    a    s       X  â‡’      g   (   X  n   )      â†’    a    s       g   (  X  )      .     formulae-sequence      a  s   normal-â†’    subscript  X  n    X  normal-â‡’        a  s   normal-â†’     g   subscript  X  n      g  X      X_{n}\ \xrightarrow{\!\!as\!\!}\ X\quad\Rightarrow\quad g(X_{n})\ \xrightarrow%
 {\!\!as\!\!}\ g(X).      Proof   This proof has been adopted from   Spaces S and Sâ€² are equipped with certain metrics. For simplicity we will denote both of these metrics using the |xâˆ’y| notation, even though the metrics may be arbitrary and not necessarily Euclidean.  Convergence in distribution  We will need a particular statement from the portmanteau theorem : that convergence in distribution     X  n    â†’  ð‘‘   X      d  normal-â†’    subscript  X  n   X    X_{n}\xrightarrow{d}X   is equivalent to         lim sup   n  â†’  âˆž     Pr   (    X  n   âˆˆ  F   )     â‰¤    Pr   (   X  âˆˆ  F   )    for every closed set  F    .        subscript  limit-supremum   normal-â†’  n      Pr     subscript  X  n   F        Pr    X  F    for every closed set  F     \limsup_{n\to\infty}\operatorname{Pr}(X_{n}\in F)\leq\operatorname{Pr}(X\in F)%
 \text{ for every closed set }F.     Fix an arbitrary closed set F âŠ‚ Sâ€² . Denote by g âˆ’1 ( F ) the pre-image of F under the mapping g : the set of all points x âˆˆ S such that g ( x )âˆˆ F . Consider a sequence { x k } such that g ( x k )âˆˆ F and x k â†’ x . Then this sequence lies in g âˆ’1 ( F ), and its limit point x belongs to the closure of this set, g âˆ’1 ( F ) (by definition of the closure). The point x may be either:   a continuity point of g , in which case g ( x k )â†’ g ( x ), and hence g ( x )âˆˆ F because F is a closed set, and therefore in this case x belongs to the pre-image of F , or  a discontinuity point of g , so that x âˆˆ D g .   Thus the following relationship holds:           g   -  1     (  F  )    Â¯    âŠ‚     g   -  1     (  F  )    âˆª    D  g      .       normal-Â¯     superscript  g    1    F         superscript  g    1    F    subscript  D  g      \overline{g^{-1}(F)}\ \subset\ g^{-1}(F)\cup D_{g}\ .     Consider the event { g ( X n )âˆˆ F }. The probability of this event can be estimated as        Pr   (    g   (   X  n   )    âˆˆ  F   )    =   Pr   (    X  n   âˆˆ    g   -  1     (  F  )     )    â‰¤   Pr   (    X  n   âˆˆ     g   -  1     (  F  )    Â¯    )     ,         Pr      g   subscript  X  n    F     Pr     subscript  X  n      superscript  g    1    F           Pr     subscript  X  n    normal-Â¯     superscript  g    1    F         \operatorname{Pr}\big(g(X_{n})\in F\big)=\operatorname{Pr}\big(X_{n}\in g^{-1}%
 (F)\big)\leq\operatorname{Pr}\big(X_{n}\in\overline{g^{-1}(F)}\big),   and by the portmanteau theorem the limsup of the last expression is less than or equal to Pr( X âˆˆ g âˆ’1 ( F ) ). Using the formula we derived in the previous paragraph, this can be written as       Pr   (   X  âˆˆ     g   -  1     (  F  )    Â¯    )    â‰¤   Pr   (   X  âˆˆ     g   -  1     (  F  )    âˆª   D  g     )    â‰¤          Pr    X   normal-Â¯     superscript  g    1    F       Pr    X       superscript  g    1    F    subscript  D  g           absent     \displaystyle\operatorname{Pr}\big(X\in\overline{g^{-1}(F)}\big)\leq%
 \operatorname{Pr}\big(X\in g^{-1}(F)\cup D_{g}\big)\leq     On plugging this back into the original expression, it can be seen that         lim sup   n  â†’  âˆž     Pr   (    g   (   X  n   )    âˆˆ  F   )     â‰¤   Pr   (    g   (  X  )    âˆˆ  F   )     ,        subscript  limit-supremum   normal-â†’  n      Pr      g   subscript  X  n    F      Pr      g  X   F      \limsup_{n\to\infty}\operatorname{Pr}\big(g(X_{n})\in F\big)\leq\operatorname{%
 Pr}\big(g(X)\in F\big),   which, by the portmanteau theorem, implies that g ( X n ) converges to g ( X ) in distribution.  Convergence in probability  Fix an arbitrary Îµ >0. Then for any Î´ >0 consider the set B Î´ defined as        B  Î´   =   {   x  âˆˆ   S    |    x  âˆ‰   D  g    :    âˆƒ  y   âˆˆ  S   :     |   x  -  y   |   <  Î´   ,    |    g   (  x  )    -   g   (  y  )     |   >  Îµ     }    .       subscript  B  Î´    conditional-set    x  S      normal-:    x   subscript  D  g        y   S     normal-:     formulae-sequence        x  y    Î´           g  x     g  y     Îµ         B_{\delta}=\big\{x\in S\ \big|\ x\notin D_{g}:\ \exists y\in S:\ |x-y|<\delta,%
 \,|g(x)-g(y)|>\varepsilon\big\}.   This is the set of continuity points x of the function g (Â·) for which it is possible to find, within the Î´ -neighborhood of x , a point which maps outside the Îµ -neighborhood of g ( x ). By definition of continuity, this set shrinks as Î´ goes to zero, so that lim Î´ â†’0 B Î´ = âˆ….  Now suppose that | g ( X ) âˆ’ g ( X n )| > Îµ . This implies that at least one of the following is true: either | X âˆ’ X n |â‰¥ Î´ , or X âˆˆ D g , or X âˆˆ B Î´ . In terms of probabilities this can be written as        Pr   (    |    g   (   X  n   )    -   g   (  X  )     |   >  Îµ   )    â‰¤    Pr   (    |    X  n   -  X   |   â‰¥  Î´   )    +   Pr   (   X  âˆˆ   B  Î´    )    +   Pr   (   X  âˆˆ   D  g    )      .       Pr          g   subscript  X  n      g  X     Îµ       Pr         subscript  X  n   X    Î´     Pr    X   subscript  B  Î´      Pr    X   subscript  D  g        \operatorname{Pr}\big(\big|g(X_{n})-g(X)\big|>\varepsilon\big)\leq%
 \operatorname{Pr}\big(|X_{n}-X|\geq\delta\big)+\operatorname{Pr}(X\in B_{%
 \delta})+\operatorname{Pr}(X\in D_{g}).     On the right-hand side, the first term converges to zero as n â†’ âˆž for any fixed Î´ , by the definition of convergence in probability of the sequence { X n }. The second term converges to zero as Î´ â†’ 0, since the set B Î´ shrinks to an empty set. And the last term is identically equal to zero by assumption of the theorem. Therefore the conclusion is that         lim   n  â†’  âˆž     Pr   (    |    g   (   X  n   )    -   g   (  X  )     |   >  Îµ   )     =  0   ,        subscript    normal-â†’  n      Pr          g   subscript  X  n      g  X     Îµ     0    \lim_{n\to\infty}\operatorname{Pr}\big(\big|g(X_{n})-g(X)\big|>\varepsilon\big%
 )=0,   which means that g ( X n ) converges to g ( X ) in probability.  Convergence almost surely  By definition of the continuity of the function g (Â·),         lim   n  â†’  âˆž      X  n    (  Ï‰  )     =    X   (  Ï‰  )    â‡’       lim   n  â†’  âˆž     g   (    X  n    (  Ï‰  )    )     =   g   (   X   (  Ï‰  )    )        formulae-sequence      subscript    normal-â†’  n        subscript  X  n   Ï‰       X  Ï‰   normal-â‡’        subscript    normal-â†’  n       g     subscript  X  n   Ï‰       g    X  Ï‰       \lim_{n\to\infty}X_{n}(\omega)=X(\omega)\quad\Rightarrow\quad\lim_{n\to\infty}%
 g(X_{n}(\omega))=g(X(\omega))   at each point X ( Ï‰ ) where g (Â·) is continuous. Therefore      Pr   (     lim   n  â†’  âˆž     g   (   X  n   )     =   g   (  X  )     )      Pr      subscript    normal-â†’  n       g   subscript  X  n       g  X      \displaystyle\operatorname{Pr}\Big(\lim_{n\to\infty}g(X_{n})=g(X)\Big)     By definition, we conclude that g ( X n ) converges to g ( X ) almost surely.  See also   Slutskyâ€™s theorem  Portmanteau theorem   References  Literature         Notes  "  Category:Probability theorems  Category:Statistical theorems  Category:Articles containing proofs     â†©  â†©  â†©  â†©     