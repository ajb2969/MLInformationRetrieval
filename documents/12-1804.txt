   Continuous mapping theorem      Continuous mapping theorem   In probability theory , the continuous mapping theorem states that continuous functions are limit-preserving even if their arguments are sequences of random variables. A continuous function, in Heine’s definition , is such a function that maps convergent sequences into convergent sequences: if x n → x then g ( x n ) → g ( x ). The continuous mapping theorem states that this will also be true if we replace the deterministic sequence { x n } with a sequence of random variables { X n }, and replace the standard notion of convergence of real numbers “→” with one of the types of convergence of random variables .  This theorem was first proved by , and it is therefore sometimes called the Mann–Wald theorem . 1  Statement  Let { X n }, X be random elements defined on a metric space  S . Suppose a function  (where S′ is another metric space) has the set of discontinuity points  D g such that . Then 2 3 4           X  n      →  𝑑     X  ⇒      g   (   X  n   )      →  𝑑     g   (  X  )      ;     formulae-sequence    d  normal-→    subscript  X  n    X  normal-⇒      d  normal-→     g   subscript  X  n      g  X      X_{n}\ \xrightarrow{d}\ X\quad\Rightarrow\quad g(X_{n})\ \xrightarrow{d}\ g(X);             X  n      →  𝑝     X  ⇒      g   (   X  n   )      →  𝑝     g   (  X  )      ;     formulae-sequence    p  normal-→    subscript  X  n    X  normal-⇒      p  normal-→     g   subscript  X  n      g  X      X_{n}\ \xrightarrow{p}\ X\quad\Rightarrow\quad g(X_{n})\ \xrightarrow{p}\ g(X);             X  n      →    a    s       X  ⇒      g   (   X  n   )      →    a    s       g   (  X  )      .     formulae-sequence      a  s   normal-→    subscript  X  n    X  normal-⇒        a  s   normal-→     g   subscript  X  n      g  X      X_{n}\ \xrightarrow{\!\!as\!\!}\ X\quad\Rightarrow\quad g(X_{n})\ \xrightarrow%
 {\!\!as\!\!}\ g(X).      Proof   This proof has been adopted from   Spaces S and S′ are equipped with certain metrics. For simplicity we will denote both of these metrics using the |x−y| notation, even though the metrics may be arbitrary and not necessarily Euclidean.  Convergence in distribution  We will need a particular statement from the portmanteau theorem : that convergence in distribution     X  n    →  𝑑   X      d  normal-→    subscript  X  n   X    X_{n}\xrightarrow{d}X   is equivalent to         lim sup   n  →  ∞     Pr   (    X  n   ∈  F   )     ≤    Pr   (   X  ∈  F   )    for every closed set  F    .        subscript  limit-supremum   normal-→  n      Pr     subscript  X  n   F        Pr    X  F    for every closed set  F     \limsup_{n\to\infty}\operatorname{Pr}(X_{n}\in F)\leq\operatorname{Pr}(X\in F)%
 \text{ for every closed set }F.     Fix an arbitrary closed set F ⊂ S′ . Denote by g −1 ( F ) the pre-image of F under the mapping g : the set of all points x ∈ S such that g ( x )∈ F . Consider a sequence { x k } such that g ( x k )∈ F and x k → x . Then this sequence lies in g −1 ( F ), and its limit point x belongs to the closure of this set, g −1 ( F ) (by definition of the closure). The point x may be either:   a continuity point of g , in which case g ( x k )→ g ( x ), and hence g ( x )∈ F because F is a closed set, and therefore in this case x belongs to the pre-image of F , or  a discontinuity point of g , so that x ∈ D g .   Thus the following relationship holds:           g   -  1     (  F  )    ¯    ⊂     g   -  1     (  F  )    ∪    D  g      .       normal-¯     superscript  g    1    F         superscript  g    1    F    subscript  D  g      \overline{g^{-1}(F)}\ \subset\ g^{-1}(F)\cup D_{g}\ .     Consider the event { g ( X n )∈ F }. The probability of this event can be estimated as        Pr   (    g   (   X  n   )    ∈  F   )    =   Pr   (    X  n   ∈    g   -  1     (  F  )     )    ≤   Pr   (    X  n   ∈     g   -  1     (  F  )    ¯    )     ,         Pr      g   subscript  X  n    F     Pr     subscript  X  n      superscript  g    1    F           Pr     subscript  X  n    normal-¯     superscript  g    1    F         \operatorname{Pr}\big(g(X_{n})\in F\big)=\operatorname{Pr}\big(X_{n}\in g^{-1}%
 (F)\big)\leq\operatorname{Pr}\big(X_{n}\in\overline{g^{-1}(F)}\big),   and by the portmanteau theorem the limsup of the last expression is less than or equal to Pr( X ∈ g −1 ( F ) ). Using the formula we derived in the previous paragraph, this can be written as       Pr   (   X  ∈     g   -  1     (  F  )    ¯    )    ≤   Pr   (   X  ∈     g   -  1     (  F  )    ∪   D  g     )    ≤          Pr    X   normal-¯     superscript  g    1    F       Pr    X       superscript  g    1    F    subscript  D  g           absent     \displaystyle\operatorname{Pr}\big(X\in\overline{g^{-1}(F)}\big)\leq%
 \operatorname{Pr}\big(X\in g^{-1}(F)\cup D_{g}\big)\leq     On plugging this back into the original expression, it can be seen that         lim sup   n  →  ∞     Pr   (    g   (   X  n   )    ∈  F   )     ≤   Pr   (    g   (  X  )    ∈  F   )     ,        subscript  limit-supremum   normal-→  n      Pr      g   subscript  X  n    F      Pr      g  X   F      \limsup_{n\to\infty}\operatorname{Pr}\big(g(X_{n})\in F\big)\leq\operatorname{%
 Pr}\big(g(X)\in F\big),   which, by the portmanteau theorem, implies that g ( X n ) converges to g ( X ) in distribution.  Convergence in probability  Fix an arbitrary ε >0. Then for any δ >0 consider the set B δ defined as        B  δ   =   {   x  ∈   S    |    x  ∉   D  g    :    ∃  y   ∈  S   :     |   x  -  y   |   <  δ   ,    |    g   (  x  )    -   g   (  y  )     |   >  ε     }    .       subscript  B  δ    conditional-set    x  S      normal-:    x   subscript  D  g        y   S     normal-:     formulae-sequence        x  y    δ           g  x     g  y     ε         B_{\delta}=\big\{x\in S\ \big|\ x\notin D_{g}:\ \exists y\in S:\ |x-y|<\delta,%
 \,|g(x)-g(y)|>\varepsilon\big\}.   This is the set of continuity points x of the function g (·) for which it is possible to find, within the δ -neighborhood of x , a point which maps outside the ε -neighborhood of g ( x ). By definition of continuity, this set shrinks as δ goes to zero, so that lim δ →0 B δ = ∅.  Now suppose that | g ( X ) − g ( X n )| > ε . This implies that at least one of the following is true: either | X − X n |≥ δ , or X ∈ D g , or X ∈ B δ . In terms of probabilities this can be written as        Pr   (    |    g   (   X  n   )    -   g   (  X  )     |   >  ε   )    ≤    Pr   (    |    X  n   -  X   |   ≥  δ   )    +   Pr   (   X  ∈   B  δ    )    +   Pr   (   X  ∈   D  g    )      .       Pr          g   subscript  X  n      g  X     ε       Pr         subscript  X  n   X    δ     Pr    X   subscript  B  δ      Pr    X   subscript  D  g        \operatorname{Pr}\big(\big|g(X_{n})-g(X)\big|>\varepsilon\big)\leq%
 \operatorname{Pr}\big(|X_{n}-X|\geq\delta\big)+\operatorname{Pr}(X\in B_{%
 \delta})+\operatorname{Pr}(X\in D_{g}).     On the right-hand side, the first term converges to zero as n → ∞ for any fixed δ , by the definition of convergence in probability of the sequence { X n }. The second term converges to zero as δ → 0, since the set B δ shrinks to an empty set. And the last term is identically equal to zero by assumption of the theorem. Therefore the conclusion is that         lim   n  →  ∞     Pr   (    |    g   (   X  n   )    -   g   (  X  )     |   >  ε   )     =  0   ,        subscript    normal-→  n      Pr          g   subscript  X  n      g  X     ε     0    \lim_{n\to\infty}\operatorname{Pr}\big(\big|g(X_{n})-g(X)\big|>\varepsilon\big%
 )=0,   which means that g ( X n ) converges to g ( X ) in probability.  Convergence almost surely  By definition of the continuity of the function g (·),         lim   n  →  ∞      X  n    (  ω  )     =    X   (  ω  )    ⇒       lim   n  →  ∞     g   (    X  n    (  ω  )    )     =   g   (   X   (  ω  )    )        formulae-sequence      subscript    normal-→  n        subscript  X  n   ω       X  ω   normal-⇒        subscript    normal-→  n       g     subscript  X  n   ω       g    X  ω       \lim_{n\to\infty}X_{n}(\omega)=X(\omega)\quad\Rightarrow\quad\lim_{n\to\infty}%
 g(X_{n}(\omega))=g(X(\omega))   at each point X ( ω ) where g (·) is continuous. Therefore      Pr   (     lim   n  →  ∞     g   (   X  n   )     =   g   (  X  )     )      Pr      subscript    normal-→  n       g   subscript  X  n       g  X      \displaystyle\operatorname{Pr}\Big(\lim_{n\to\infty}g(X_{n})=g(X)\Big)     By definition, we conclude that g ( X n ) converges to g ( X ) almost surely.  See also   Slutsky’s theorem  Portmanteau theorem   References  Literature         Notes  "  Category:Probability theorems  Category:Statistical theorems  Category:Articles containing proofs     ↩  ↩  ↩  ↩     