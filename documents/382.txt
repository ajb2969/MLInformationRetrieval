   Panjer recursion      Panjer recursion   The Panjer recursion is an algorithm to compute the probability distribution approximation of a compound random variable     S  =    ∑   i  =  1   N     X  i         S    superscript   subscript     i  1    N    subscript  X  i      S=\sum_{i=1}^{N}X_{i}\,   . where both    N    N   N\,   and     X  i      subscript  X  i    X_{i}\,   are random variables and of special types. In more general cases the distribution of S is a compound distribution . The recursion for the special cases considered was introduced in a paper 1 by Harry Panjer ( Emeritus professor , University of Waterloo 2 ). It is heavily used in actuarial science (see also systemic risk ).  Preliminaries  We are interested in the compound random variable    S  =    ∑   i  =  1   N     X  i         S    superscript   subscript     i  1    N    subscript  X  i      S=\sum_{i=1}^{N}X_{i}\,   where    N    N   N\,   and     X  i      subscript  X  i    X_{i}\,   fulfill the following preconditions.  Claim size distribution  We assume the     X  i      subscript  X  i    X_{i}\,   to be i.i.d. and independent of    N    N   N\,   . Furthermore the     X  i      subscript  X  i    X_{i}\,   have to be distributed on a lattice    h    ℕ  0        h   subscript  ℕ  0     h\mathbb{N}_{0}\,   with latticewidth    h  >   0       h  0    h>0\,   .       f  k   =  P   [   X  i   =  h  k  ]   .     fragments   subscript  f  k    P   fragments  normal-[   subscript  X  i    h  k  normal-]   normal-.    f_{k}=P[X_{i}=hk].\,     In actuarial practice,     X  i      subscript  X  i    X_{i}\,   is obtain by discretisation of the claim density function (upper, lower...).  Claim number distribution  The number of claims N is a random variable , which is said to have a "claim number distribution", and which can take values 0, 1, 2, .... etc.. For the "Panjer recursion", the probability distribution of N has to be a member of the Panjer class , otherwise known as the (a,b,0) class of distributions . This class consists of all counting random variables which fulfill the following relation:      P   [  N  =  k  ]   =   p  k   =   (  a  +   b  k   )   ⋅   p   k  -  1    ,  k  ≥   1.      fragments  P   fragments  normal-[  N   k  normal-]     subscript  p  k     fragments  normal-(  a     b  k   normal-)   normal-⋅   subscript  p    k  1    normal-,  k   1.    P[N=k]=p_{k}=(a+\frac{b}{k})\cdot p_{k-1},~{}~{}k\geq 1.\,   for some a and b which fulfill     a  +  b   ≥   0         a  b   0    a+b\geq 0\,   . The initial value     p  0      subscript  p  0    p_{0}\,   is determined such that      ∑   k  =  0   ∞    p  k    =   1.         superscript   subscript     k  0       subscript  p  k    1.    \sum_{k=0}^{\infty}p_{k}=1.\,     The Panjer recursion makes use of this iterative relationship to specify a recursive way of constructing the probability distribution of S . In the following     W  N    (  x  )        subscript  W  N   x    W_{N}(x)\,   denotes the probability generating function of N : for this see the table in (a,b,0) class of distributions .  In the case of claim number is known, please note the De Pril algorithm. This algorithm is suitable to compute the sum distribution of   n   n   n   discrete random variables . 3  Recursion  The algorithm now gives a recursion to compute the     g  k   =  P   [  S  =  h  k  ]      fragments   subscript  g  k    P   fragments  normal-[  S   h  k  normal-]     g_{k}=P[S=hk]\,   .  The starting value is     g  0   =    W  N    (   f  0   )         subscript  g  0      subscript  W  N    subscript  f  0      g_{0}=W_{N}(f_{0})\,   with the special cases        g  0   =     p  0   ⋅   exp   (    f  0   b   )     if  a   =  0   ,         subscript  g  0      normal-⋅   subscript  p  0        subscript  f  0   b     if  a        0     g_{0}=p_{0}\cdot\exp(f_{0}b)\text{ if }a=0,\,     and        g  0   =     p  0     (   1  -    f  0   a    )    1  +   b  /  a      for  a   ≠  0   ,         subscript  g  0        subscript  p  0    superscript    1     subscript  f  0   a      1    b  a      for  a        0     g_{0}=\frac{p_{0}}{(1-f_{0}a)^{1+b/a}}\text{ for }a\neq 0,\,     and proceed with        g  k   =    1   1  -    f  0   a       ∑   j  =  1   k     (   a  +    b  ⋅  j   k    )   ⋅   f  j   ⋅   g   k  -  j        .       subscript  g  k       1    1     subscript  f  0   a       superscript   subscript     j  1    k    normal-⋅    a     normal-⋅  b  j   k     subscript  f  j    subscript  g    k  j         g_{k}=\frac{1}{1-f_{0}a}\sum_{j=1}^{k}\left(a+\frac{b\cdot j}{k}\right)\cdot f%
 _{j}\cdot g_{k-j}.\,     Example  The following example shows the approximated density of     S   =    ∑   i  =  1   N    X  i        S    superscript   subscript     i  1    N    subscript  X  i      \scriptstyle S\,=\,\sum_{i=1}^{N}X_{i}   where     N   ∼   NegBin   (  3.5  ,  0.3  )       similar-to  N    NegBin   3.5  0.3      \scriptstyle N\,\sim\,\text{NegBin}(3.5,0.3)\,   and     X   ∼   Frechet   (  1.7  ,  1  )       similar-to  X    Frechet   1.7  1      \scriptstyle X\,\sim\,\text{Frechet}(1.7,1)   with lattice width h = 0.04. (See Fréchet distribution .)  (Figure)  Expba07.jpg   References    External links   Panjer recursion and the distributions it can be used with   "  Category:Actuarial science  Category:Compound distributions  Category:Theory of probability distributions     ↩  CV , actuaries.org; Staff page , math.uwaterloo.ca ↩  ↩     