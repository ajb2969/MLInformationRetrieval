<html lang="en">
<head>
<meta charset="utf-8"/>
<title offset="534">Pipeline (software)</title></head>
<body>
<h1>Pipeline (software)</h1>
<hr/>

<p>In <a href="software_engineering" title="wikilink">software engineering</a>, a <strong>pipeline</strong> consists of a chain of processing elements (<a href="Process_(computing)" title="wikilink">processes</a>, <a href="Thread_(computer_science)" title="wikilink">threads</a>, <a href="coroutine" title="wikilink">coroutines</a>, <a href="Subroutine" title="wikilink">functions</a>, <em>etc.</em>), arranged so that the output of each element is the input of the next; the name is by analogy to a physical <a href="Pipeline_transport" title="wikilink">pipeline</a>. Usually some amount of <a href="Buffer_(computer_science)" title="wikilink">buffering</a> is provided between consecutive elements. The information that flows in these pipelines is often a <a href="Stream_(computing)" title="wikilink">stream</a> of <a href="Record_(computer_science)" title="wikilink">records</a>, <a href="Byte_stream" title="wikilink">bytes</a> or <a href="Bitstream" title="wikilink">bits</a>, and the elements of a pipeline may be called <a href="Filter_(software)" title="wikilink">filters</a>; this is also called the <strong>pipes and filters <a href="software_design_pattern" title="wikilink">design pattern</a></strong>. Connecting elements into a pipeline is analogous to <a href="function_composition_(computer_science)" title="wikilink">function composition</a>.</p>

<p>Narrowly speaking, a pipeline is linear and one-directional, though sometimes the term is applied to more general flows. For example, a primarily one-directional pipeline may have some communication in the other direction, known as a <em><a href="return_channel" title="wikilink">return channel</a></em> or <em>backchannel,</em> as in <a href="the_lexer_hack" title="wikilink">the lexer hack</a>, or a pipeline may be fully bi-directional. Flows with one-directional tree and <a href="directed_acyclic_graph" title="wikilink">directed acyclic graph</a> topologies behave similarly to (linear) pipelines – the lack of cycles makes them simple – and thus may be loosely referred to as "pipelines".</p>
<h2 id="implementation">Implementation</h2>

<p>Pipelines are often implemented in a <a href="computer_multitasking" title="wikilink">multitasking</a> <a href="operating_system" title="wikilink">OS</a>, by launching all elements at the same time as processes, and automatically servicing the data read requests by each process with the data written by the upstream process – this can be called a <em>multiprocessed pipeline.</em> In this way, the <a href="Central_processing_unit" title="wikilink">CPU</a> will be naturally switched among the processes by the <a href="Scheduling_(computing)" title="wikilink">scheduler</a> so as to minimize its idle time. In other common models, elements are implemented as lightweight threads or as coroutines to reduce the OS overhead often involved with processes. Depending upon the OS, threads may be scheduled directly by the OS or by a thread manager. Coroutines are always scheduled by a coroutine manager of some form.</p>

<p>Usually, read and write requests are blocking operations, which means that the execution of the source process, upon writing, is suspended until all data could be written to the destination process, and, likewise, the execution of the destination process, upon reading, is suspended until at least some of the requested data could be obtained from the source process. This cannot lead to a <a class="uri" href="deadlock" title="wikilink">deadlock</a>, where both processes would wait indefinitely for each other to respond, since at least one of the two processes will soon thereafter have its request serviced by the operating system, and continue to run.</p>

<p>For performance, most operating systems implementing pipes use pipe <a href="Buffer_(computer_science)" title="wikilink">buffers</a>, which allow the source process to provide more data than the destination process is currently able or willing to receive. Under most Unices and Unix-like operating systems, a special command is also available which implements a pipe buffer of potentially much larger and configurable size, typically called "buffer". This command can be useful if the destination process is significantly slower than the source process, but it is anyway desired that the source process can complete its task as soon as possible. E.g., if the source process consists of a command which reads an audio track from a <a class="uri" href="CD" title="wikilink">CD</a> and the destination process consists of a command which compresses the <a class="uri" href="waveform" title="wikilink">waveform</a> audio data to a format like <a class="uri" href="MP3" title="wikilink">MP3</a>. In this case, buffering the entire track in a pipe buffer would allow the CD drive to spin down more quickly, and enable the user to remove the CD from the drive before the encoding process has finished.</p>

<p>Such a buffer command can be implemented using <a href="system_call" title="wikilink">system calls</a> for reading and writing data. Wasteful <a href="busy_waiting" title="wikilink">busy waiting</a> can be avoided by using facilities such as <a href="poll_(Unix)" title="wikilink">poll</a> or <a href="select_(Unix)" title="wikilink">select</a> or <a href="Thread_(computer_science)" title="wikilink">multithreading</a>.</p>
<h2 id="vmcms-and-mvs">VM/CMS and MVS</h2>

<p><a href="Hartmann_pipeline" title="wikilink">CMS Pipelines</a> is a port of the pipeline idea to <a class="uri" href="VM/CMS" title="wikilink">VM/CMS</a> and <a class="uri" href="MVS" title="wikilink">MVS</a> systems. It supports much more complex pipeline structures than Unix shells, with steps taking multiple input streams and producing multiple output streams. (Such functionality is supported by the Unix kernel, but few programs use it as it makes for complicated syntax and blocking modes, although some shells do support it via arbitrary <a href="file_descriptor" title="wikilink">file descriptor</a> assignment). Due to the different nature of IBM mainframe operating systems, it implements many steps inside CMS Pipelines which in Unix are separate external programs, but can also call separate external programs for their functionality. Also, due to the record-oriented nature of files on IBM mainframes, pipelines operate in a record-oriented, rather than stream-oriented manner.</p>
<h2 id="object-pipelines">Object pipelines</h2>

<p>Beside byte stream-based pipelines, there are also object pipelines. In an object pipeline, processing elements output objects instead of text. <a href="Windows_PowerShell" title="wikilink">Windows PowerShell</a> includes an internal object pipeline that transfers <a href="Microsoft_.NET" title="wikilink">.NET</a> objects between functions within the PowerShell runtime. <a href="Channel_(programming)" title="wikilink">Channels</a>, found in the <a href="Limbo_programming_language" title="wikilink">Limbo programming language</a>, and the <a class="uri" href="IPython" title="wikilink">IPython</a> ipipe extension are other examples of this metaphor.</p>
<h2 id="pipelines-in-guis">Pipelines in GUIs</h2>

<p>Graphical environments such as <a href="RISC_OS" title="wikilink">RISC OS</a> and <a href="ROX_Desktop" title="wikilink">ROX Desktop</a> also make use of pipelines. Rather than providing a save <a href="dialog_box" title="wikilink">dialog box</a> containing a <a href="file_manager" title="wikilink">file manager</a> to let the user specify where a <a href="program_(computing)" title="wikilink">program</a> should write data, RISC OS and ROX provide a save dialog box containing an <a href="icon_(computing)" title="wikilink">icon</a> (and a field to specify the name). The destination is specified by <a href="drag-and-drop" title="wikilink">dragging and dropping</a> the icon. The user can drop the icon anywhere an already-saved file could be dropped, including onto icons of other programs. If the icon is dropped onto a program's icon, it's loaded and the contents that would otherwise have been saved are passed in on the new program's standard input stream.</p>

<p>For instance, a user browsing the <a href="world-wide_web" title="wikilink">world-wide web</a> might come across a .gz compressed image which they want to edit and re-upload. Using GUI pipelines, they could drag the link to their de-archiving program, drag the icon representing the extracted contents to their <a href="image_editor" title="wikilink">image editor</a>, edit it, open the save as dialog, and drag its icon to their uploading software.</p>

<p>Conceptually, this method could be used with a conventional save dialog box, but this would require the user's programs to have an obvious and easily accessible location in the filesystem that can be navigated to. In practice, this is often not the case, so GUI pipelines are rare.</p>
<h2 id="other-considerations">Other considerations</h2>

<p>The name 'pipeline' comes from a rough analogy with physical plumbing in that a pipeline usually<a class="footnoteRef" href="#fn1" id="fnref1"><sup>1</sup></a> allows information to flow in only one direction, like water often flows in a pipe.</p>

<p>Pipes and <a href="Filter_(software)" title="wikilink">filters</a> can be viewed as a form of <a href="functional_programming" title="wikilink">functional programming</a>, using byte streams as data objects; more specifically, they can be seen as a particular form of <a href="Monads_in_functional_programming" title="wikilink">monad</a> for <a class="uri" href="I/O" title="wikilink">I/O</a>.<a class="footnoteRef" href="#fn2" id="fnref2"><sup>2</sup></a></p>

<p>The concept of pipeline is also central to the <a href="Apache_Cocoon" title="wikilink">Cocoon</a> web development <a href="Software_framework" title="wikilink">framework</a> or to any <a class="uri" href="XProc" title="wikilink">XProc</a> (the W3C Standards) implementations, where it allows a source stream to be modified before eventual display.</p>

<p>This pattern encourages the use of text streams as the input and output of programs. This reliance on text has to be accounted when creating <a href="GUI" title="wikilink">graphic</a> shells to text programs.</p>
<h2 id="see-also">See also</h2>
<ul>
<li><a href="Anonymous_pipe" title="wikilink">Anonymous pipe</a></li>
<li><a href="Component-based_software_engineering" title="wikilink">Component-based software engineering</a></li>
<li><a href="Flow-based_programming" title="wikilink">Flow-based programming</a></li>
<li><a class="uri" href="GStreamer" title="wikilink">GStreamer</a> for a multimedia framework built on plugin pipelines</li>
<li><a class="uri" href="Iteratees" title="wikilink">Iteratees</a></li>
<li><a href="Named_pipe" title="wikilink">Named pipe</a>, an operating system construct intermediate to anonymous pipe and file.</li>
<li><a href="Pipeline_(computing)" title="wikilink">Pipeline (computing)</a> for other computer-related versions of the concept.</li>
<li><a href="Kahn_process_networks" title="wikilink">Kahn process networks</a> to extend the pipeline concept to a more generic directed graph structure</li>
<li><a href="Pipeline_(Unix)" title="wikilink">Pipeline (Unix)</a> for details specific to <a class="uri" href="Unix" title="wikilink">Unix</a></li>
<li><a href="Plumber_(program)" title="wikilink">Plumber</a> - "intelligent pipes" developed as part of <a href="Plan_9_from_Bell_Labs" title="wikilink">Plan 9</a></li>
<li><a href="Producer-consumer_problem" title="wikilink">Producer-consumer problem</a> for implementation aspects of software pipelines</li>
<li><a href="Programming_in_the_large" title="wikilink">Programming in the large</a></li>
<li><a href="Software_design_pattern" title="wikilink">Software design pattern</a></li>
<li><a href="Stream_processing" title="wikilink">Stream processing</a></li>
<li><a href="XML_pipeline" title="wikilink">XML pipeline</a> for processing of <a class="uri" href="XML" title="wikilink">XML</a> files</li>
</ul>
<h2 id="notes">Notes</h2>
<references>
</references>
<h2 id="external-links">External links</h2>
<ul>
<li><a href="http://www.fullchipdesign.com/pipeline_space_time_architecture.htm">Pipeline Processing.</a></li>
<li><a href="http://www.futurechips.org/parallel-programming-2/parallel-programming-clarifying-pipeline-parallelism.html">Parallel Programming: Do you know Pipeline Parallelism?</a></li>
</ul>

<p><a class="uri" href="sv:Vertikalstreck#Datavetenskap" title="wikilink">sv:Vertikalstreck#Datavetenskap</a>"</p>

<p><a href="Category:Software_design_patterns" title="wikilink">Category:Software design patterns</a> <a href="Category:Programming_paradigms" title="wikilink">Category:Programming paradigms</a> <a href="Category:Inter-process_communication" title="wikilink">Category:Inter-process communication</a></p>
<section class="footnotes">
<hr/>
<ol>
<li id="fn1">There are exceptions, such as "broken pipe" signals.<a href="#fnref1">↩</a></li>
<li id="fn2"><a href="http://okmij.org/ftp/Computation/monadic-shell.html">"Monadic I/O and UNIX shell programming"</a><a href="#fnref2">↩</a></li>
</ol>
</section>
</body>
</html>
