<html lang="en">
<head>
<meta charset="utf-8"/>
<title offset="1303">Handshaking</title>
<script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_SVG.js" type="text/javascript">
</script>
</head>
<body>
<h1>Handshaking</h1>
<hr/>

<p>In <a href="information_technology" title="wikilink">information technology</a>, <a class="uri" href="telecommunications" title="wikilink">telecommunications</a>, and related fields, <strong>handshaking</strong> is an automated process of negotiation that dynamically sets parameters of a communications channel established between two entities before normal communication over the channel begins. It follows the physical establishment of the channel and precedes normal information transfer.</p>

<p>It is usually a process that takes place when a <a class="uri" href="computer" title="wikilink">computer</a> is about to communicate with a foreign device to establish rules for communication. When a computer communicates with another device like a modem, printer, or network server, it needs to handshake with it to establish a connection.</p>

<p>Handshaking can be used to negotiate parameters that are acceptable to equipment and systems at both ends of the communication channel, including, but not limited to, <a href="bit_rate" title="wikilink">information transfer rate</a>, coding <a class="uri" href="alphabet" title="wikilink">alphabet</a>, <a href="parity_bit" title="wikilink">parity</a>, <a class="uri" href="interrupt" title="wikilink">interrupt</a> procedure, and other <a href="protocol_(computing)" title="wikilink">protocol</a> or hardware features. Handshaking is a technique of communication between two entities. However, within TCP/IP RFCs, the term "handshake" is most commonly used to reference the TCP three-way handshake. For example, the term "handshake" is not present in RFCs covering FTP or SMTP. One exception is Transport Layer Security, TLS, setup, FTP RFC 4217. In place of the term "handshake," FTP RFC 3659 substitutes the term "conversation" for the passing of commands. <a class="footnoteRef" href="#fn1" id="fnref1"><sup>1</sup></a> <a class="footnoteRef" href="#fn2" id="fnref2"><sup>2</sup></a> <a class="footnoteRef" href="#fn3" id="fnref3"><sup>3</sup></a></p>

<p>A simple handshaking protocol might only involve the receiver sending a message meaning "I received your last message and I am ready for you to send me another one." A more complex handshaking protocol might allow the sender to ask the receiver if he is ready to receive or for the receiver to reply with a negative acknowledgement meaning "I did not receive your last message correctly, please resend it" (e.g. if the data was corrupted en route). <a class="footnoteRef" href="#fn4" id="fnref4"><sup>4</sup></a></p>

<p>Handshaking makes it possible to connect relatively heterogeneous systems or equipment over a communication channel without the need for human intervention to set parameters. One classic example of handshaking is that of <a href="modem" title="wikilink">modems</a>, which typically negotiate communication parameters for a brief period when a connection is first established, and thereafter use those parameters to provide optimal information transfer over the channel as a function of its quality and capacity. The "squealing" (which is actually a sound that changes in pitch 100 times every second) noises made by some modems with speaker output immediately after a connection is established are in fact the sounds of modems at both ends engaging in a handshaking procedure; once the procedure is completed, the speaker might be silenced, depending on the settings of operating system or the application controlling the modem.</p>
<h2 id="examples">Examples</h2>

<p>The <a href="Transport_Layer_Security" title="wikilink">TLS</a> Handshake Protocol is used to negotiate the secure attributes of a session. (RFC 5246, p.37)<a class="footnoteRef" href="#fn5" id="fnref5"><sup>5</sup></a></p>
<h3 id="common-types-of-handshake">Common types of handshake</h3>
<figure><b>(Figure)</b>
<figcaption>Example of three way handshaking</figcaption>
</figure>
<dl>
<dt>Three way handshake</dt>
</dl>

<p>Establishing a normal <a href="Transmission_Control_Protocol#Connection_establishment" title="wikilink">TCP</a> connection requires three separate steps:</p>

<p>:# The first host (Alice) sends the second host (Bob) a "synchronize" (SYN) message with its own sequence number 

<math display="inline" id="Handshaking:0">
 <semantics>
  <mi>x</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>x</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   x
  </annotation>
 </semantics>
</math>

, which Bob receives.</p>

<p>:# Bob replies with a synchronize-acknowledgment (<a class="uri" href="SYN-ACK" title="wikilink">SYN-ACK</a>) message with its own sequence number 

<math display="inline" id="Handshaking:1">
 <semantics>
  <mi>y</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>y</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   y
  </annotation>
 </semantics>
</math>

 and acknowledgement number 

<math display="inline" id="Handshaking:2">
 <semantics>
  <mrow>
   <mi>x</mi>
   <mo>+</mo>
   <mn>1</mn>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <plus></plus>
    <ci>x</ci>
    <cn type="integer">1</cn>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   x+1
  </annotation>
 </semantics>
</math>

, which Alice receives.</p>

<p>:# Alice replies with an acknowledgment message with acknowledgement number 

<math display="inline" id="Handshaking:3">
 <semantics>
  <mrow>
   <mi>y</mi>
   <mo>+</mo>
   <mn>1</mn>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <plus></plus>
    <ci>y</ci>
    <cn type="integer">1</cn>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   y+1
  </annotation>
 </semantics>
</math>

, which Bob receives and to which he doesn't need to reply.</p>
<dl>
<dd>In this setup, the synchronize messages act as service requests from one server to the other, while the acknowledgement messages return to the requesting server to let it know the message was received.
</dd>
</dl>

<p>One of the most important factors of three-way handshake is that, in order to exchange the starting sequence number the two sides plan to use, the client first sends a segment with its own initial sequence number 

<math display="inline" id="Handshaking:4">
 <semantics>
  <mi>x</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>x</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   x
  </annotation>
 </semantics>
</math>

, then the server responds by sending a segment with its own sequence number 

<math display="inline" id="Handshaking:5">
 <semantics>
  <mi>y</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>y</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   y
  </annotation>
 </semantics>
</math>

 and the acknowledgement number 

<math display="inline" id="Handshaking:6">
 <semantics>
  <mrow>
   <mi>x</mi>
   <mo>+</mo>
   <mn>1</mn>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <plus></plus>
    <ci>x</ci>
    <cn type="integer">1</cn>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   x+1
  </annotation>
 </semantics>
</math>

, and finally the client responds by sending a segment with acknowledgement number 

<math display="inline" id="Handshaking:7">
 <semantics>
  <mrow>
   <mi>y</mi>
   <mo>+</mo>
   <mn>1</mn>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <plus></plus>
    <ci>y</ci>
    <cn type="integer">1</cn>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   y+1
  </annotation>
 </semantics>
</math>

.</p>

<p>The reason for the client and server not using the default sequence number such as 0 for establishing connection is to protect against two incarnations of the same connection reusing the same sequence number too soon, which means a segment from an earlier incarnation of a connection might interfere with a later incarnation of the connection.</p>
<h2 id="see-also">See Also</h2>
<ul>
<li><a href="Network_allocation_vector" title="wikilink">Network allocation vector</a></li>
</ul>
<h2 id="references">References</h2>

<p><a class="uri" href="de:Datenflusssteuerung" title="wikilink">de:Datenflusssteuerung</a>"</p>

<p><a href="Category:Data_transmission" title="wikilink">Category:Data transmission</a> <a href="Category:Network_architecture" title="wikilink">Category:Network architecture</a> <a href="Category:Network_protocols" title="wikilink">Category:Network protocols</a></p>
<section class="footnotes">
<hr/>
<ol>
<li id="fn1">TCP RFC 793, 2581<a href="#fnref1">↩</a></li>
<li id="fn2">SMTP RFC 821,5321, 2821, 1869,6531, 2822<a href="#fnref2">↩</a></li>
<li id="fn3">FTP 959, 3659 (conversation), 2228,4217 (TLS handshake),5797<a href="#fnref3">↩</a></li>
<li id="fn4"><a href="#fnref4">↩</a></li>
<li id="fn5"><a href="#fnref5">↩</a></li>
</ol>
</section>
</body>
</html>
