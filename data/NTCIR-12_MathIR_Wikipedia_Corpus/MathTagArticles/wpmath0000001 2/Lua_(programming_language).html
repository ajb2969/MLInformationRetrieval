<html lang="en">
<head>
<meta charset="utf-8"/>
<title offset="1499">Lua (programming language)</title>
<script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_SVG.js" type="text/javascript">
</script>
</head>
<body>
<h1>Lua (programming language)</h1>
<style>
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
  margin: 0; padding: 0; vertical-align: baseline; border: none; }
<style>
table.sourceCode { width: 100%; line-height: 100%; }
td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; color: #aaaaaa; border-right: 1px solid #aaaaaa; }
td.sourceCode { padding-left: 5px; }
code > span.kw { color: #007020; font-weight: bold; } /* Keyword */
code > span.dt { color: #902000; } /* DataType */
code > span.dv { color: #40a070; } /* DecVal */
code > span.bn { color: #40a070; } /* BaseN */
code > span.fl { color: #40a070; } /* Float */
code > span.ch { color: #4070a0; } /* Char */
code > span.st { color: #4070a0; } /* String */
code > span.co { color: #60a0b0; font-style: italic; } /* Comment */
code > span.ot { color: #007020; } /* Other */
code > span.al { color: #ff0000; font-weight: bold; } /* Alert */
code > span.fu { color: #06287e; } /* Function */
code > span.er { color: #ff0000; font-weight: bold; } /* Error */
code > span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
code > span.cn { color: #880000; } /* Constant */
code > span.sc { color: #4070a0; } /* SpecialChar */
code > span.vs { color: #4070a0; } /* VerbatimString */
code > span.ss { color: #bb6688; } /* SpecialString */
code > span.im { } /* Import */
code > span.va { color: #19177c; } /* Variable */
code > span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code > span.op { color: #666666; } /* Operator */
code > span.bu { } /* BuiltIn */
code > span.ex { } /* Extension */
code > span.pp { color: #bc7a00; } /* Preprocessor */
code > span.at { color: #7d9029; } /* Attribute */
code > span.do { color: #ba2121; font-style: italic; } /* Documentation */
code > span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code > span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code > span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
  </style>
</body></html>
<body>
<hr/>

<p><strong>Lua</strong> ( , from   meaning <em><a class="uri" href="moon" title="wikilink">moon</a></em>; explicitly not "LUA"<a class="footnoteRef" href="#fn1" id="fnref1"><sup>1</sup></a> for it is not an acronym) is a lightweight <a href="Multi-paradigm_programming_language" title="wikilink">multi-paradigm</a> <a href="programming_language" title="wikilink">programming language</a> designed as a <a href="scripting_language" title="wikilink">scripting language</a> with extensible semantics as a primary goal. Lua is <a class="uri" href="cross-platform" title="wikilink">cross-platform</a> since it is written in <a href="ANSI_C" title="wikilink">ANSI C</a>,<a class="footnoteRef" href="#fn2" id="fnref2"><sup>2</sup></a> and has a relatively simple <a href="C_(programming_language)" title="wikilink">C</a> <a href="Application_programming_interface" title="wikilink">API</a>.<a class="footnoteRef" href="#fn3" id="fnref3"><sup>3</sup></a></p>
<h2 id="history">History</h2>

<p>Lua was created in 1993 by <a href="Roberto_Ierusalimschy" title="wikilink">Roberto Ierusalimschy</a>, Luiz Henrique de Figueiredo, and Waldemar Celes, members of the Computer Graphics Technology Group (Tecgraf) at the <a href="Pontifical_Catholic_University_of_Rio_de_Janeiro" title="wikilink">Pontifical Catholic University of Rio de Janeiro</a>, in <a class="uri" href="Brazil" title="wikilink">Brazil</a>.</p>

<p>From 1977 until 1992, Brazil had a policy of strong <a href="trade_barrier" title="wikilink">trade barriers</a> (called a market reserve) for computer hardware and software. In that atmosphere, Tecgraf's clients could not afford, either politically or financially, to buy customized software from abroad. Those reasons led Tecgraf to implement the basic tools it needed from scratch.<a class="footnoteRef" href="#fn4" id="fnref4"><sup>4</sup></a></p>

<p>Lua's historical "father and mother" were the data-description/configuration languages <em>SOL</em> (Simple Object Language) and <em>DEL</em> (data-entry language).<a class="footnoteRef" href="#fn5" id="fnref5"><sup>5</sup></a> They had been independently developed at Tecgraf in 1992–1993 to add some flexibility into two different projects (both were interactive graphical programs for engineering applications at <a class="uri" href="Petrobras" title="wikilink">Petrobras</a> company). There was a lack of any flow-control structures in SOL and DEL, and Petrobras felt a growing need to add full programming power to them.</p>

<p>As the language's authors wrote, in <em>The Evolution of Lua</em>:</p>

<p><mtpl></mtpl></p>

<p>Lua 1.0 was designed in such a way that its object constructors, being then slightly different from the current light and flexible style, incorporated the data-description syntax of SOL (hence the name Lua – <em>sol</em> is Portuguese for sun; <em>lua</em> is moon). Lua <a href="Syntax_(programming_languages)" title="wikilink">syntax</a> for control structures was mostly borrowed from <a class="uri" href="Modula" title="wikilink">Modula</a> (if, while, repeat/until), but also had taken influence from <a href="CLU_(programming_language)" title="wikilink">CLU</a> (multiple assignments and multiple returns from function calls, as a simpler alternative to <a href="Call_by_reference" title="wikilink">reference parameters</a> or explicit <a href="pointer_(computer_programming)" title="wikilink">pointers</a>), <a class="uri" href="C++" title="wikilink">C++</a> ("neat idea of allowing a <a href="local_variable" title="wikilink">local variable</a> to be declared only where we need it"<a class="footnoteRef" href="#fn6" id="fnref6"><sup>6</sup></a>), <a class="uri" href="SNOBOL" title="wikilink">SNOBOL</a> and <a class="uri" href="AWK" title="wikilink">AWK</a> (<a href="associative_array" title="wikilink">associative arrays</a>). In an article published in <em><a href="Dr._Dobb's_Journal" title="wikilink">Dr. Dobb's Journal</a></em>, Lua's creators also state that LISP and Scheme with their single, ubiquitous data structure mechanism (the <a href="List_(computing)" title="wikilink">list</a>) were a major influence on their decision to develop the table as the primary data structure of Lua.<a class="footnoteRef" href="#fn7" id="fnref7"><sup>7</sup></a></p>

<p>Lua <a class="uri" href="semantics" title="wikilink">semantics</a> have been increasingly influenced by Scheme over time,<a class="footnoteRef" href="#fn8" id="fnref8"><sup>8</sup></a> especially with the introduction of <a href="anonymous_function" title="wikilink">anonymous functions</a> and full <a href="Scope_(computer_science)#Lexical_scope_vs._dynamic_scope" title="wikilink">lexical scoping</a>.</p>

<p>Versions of Lua prior to version 5.0 were released under a license similar to the <a href="BSD_licenses" title="wikilink">BSD license</a>. From version 5.0 onwards, Lua has been licensed under the <a href="MIT_License" title="wikilink">MIT License</a>. Both are <a href="permissive_free_software_licences" title="wikilink">permissive free software licences</a> and are almost identical.</p>
<h2 id="features">Features</h2>

<p>Lua is commonly described as a "<a href="Multi-paradigm_programming_language" title="wikilink">multi-paradigm</a>" language, providing a small set of general features that can be extended to fit different problem types, rather than providing a more complex and rigid specification to match a single paradigm. Lua, for instance, does not contain explicit support for <a href="Inheritance_(object-oriented_programming)" title="wikilink">inheritance</a>, but allows it to be implemented with <a href="metatable" title="wikilink">metatables</a>. Similarly, Lua allows programmers to implement <a class="uri" href="namespaces" title="wikilink">namespaces</a>, <a href="Class_(computer_science)" title="wikilink">classes</a>, and other related features using its single table implementation; <a href="first-class_function" title="wikilink">first-class functions</a> allow the employment of many techniques from <a href="functional_programming" title="wikilink">functional programming</a>; and full lexical <a href="Scope_(programming)" title="wikilink">scoping</a> allows fine-grained <a href="information_hiding" title="wikilink">information hiding</a> to enforce the <a href="principle_of_least_privilege" title="wikilink">principle of least privilege</a>.</p>

<p>In general, Lua strives to provide flexible <a href="Metaprogramming" title="wikilink">meta-features</a> that can be extended as needed, rather than supply a feature-set specific to one programming paradigm. As a result, the base language is <a href="Lightweight_programming_language" title="wikilink">light</a> — the full reference <a href="interpreter_(computing)" title="wikilink">interpreter</a> is only about 180 <a href="Kilobyte" title="wikilink">kB</a> compiled<a class="footnoteRef" href="#fn9" id="fnref9"><sup>9</sup></a> — and easily adaptable to a broad range of applications.</p>

<p>Lua is a <a href="dynamically_typed" title="wikilink">dynamically typed</a> language intended for use as an <a href="Scripting_language" title="wikilink">extension</a> or <a href="scripting_language" title="wikilink">scripting language</a>, and is compact enough to fit on a variety of host platforms. It supports only a small number of atomic data structures such as <a href="Boolean_data_type" title="wikilink">boolean</a> values, <a href="number" title="wikilink">numbers</a> (double-precision <a href="floating_point" title="wikilink">floating point</a> by default), and <a href="string_(computer_science)" title="wikilink">strings</a>. Typical data structures such as <a href="Array_data_structure" title="wikilink">arrays</a>, <a href="set_(computer_science)" title="wikilink">sets</a>, <a href="List_(computing)" title="wikilink">lists</a>, and <a href="record_(computer_science)" title="wikilink">records</a> can be represented using Lua's single native data structure, the table, which is essentially a heterogeneous <a href="associative_array" title="wikilink">associative array</a>.</p>

<p>Lua implements a small set of advanced features such as <a href="first-class_function" title="wikilink">first-class functions</a>, <a href="garbage_collection_(computer_science)" title="wikilink">garbage collection</a>, <a href="Closure_(computer_science)" title="wikilink">closures</a>, proper <a href="Tail_recursion" title="wikilink">tail calls</a>, <a href="Type_conversion" title="wikilink">coercion</a> (automatic conversion between string and number values at run time), <a href="coroutine" title="wikilink">coroutines</a> (cooperative multitasking) and <a href="Dynamic_loading" title="wikilink">dynamic module loading</a>.</p>

<p>By including only a minimum set of data types, Lua attempts to strike a balance between power and size.</p>
<h3 id="example-code">Example code</h3>

<p>The classic <a href="hello_world_program" title="wikilink">hello world program</a> can be written as follows:</p>
<div class="sourceCode"><pre class="sourceCode lua"><code class="sourceCode lua"><span class="fu">print</span><span class="ot">(</span><span class="st">"Hello World!"</span><span class="ot">)</span></code></pre></div>

<p>It can also be written as</p>
<div class="sourceCode"><pre class="sourceCode lua"><code class="sourceCode lua"><span class="fu">io.write</span><span class="ot">(</span><span class="st">'Hello World!</span><span class="ot">\n</span><span class="st">'</span><span class="ot">)</span></code></pre></div>

<p>or, the example given on <a href="http://www.lua.org/cgi-bin/demo?hello">the Lua website</a></p>
<div class="sourceCode"><pre class="sourceCode lua"><code class="sourceCode lua"><span class="fu">io.write</span><span class="ot">(</span><span class="st">"Hello world, from "</span><span class="ot">,</span> <span class="fu">_VERSION</span><span class="ot">,</span> <span class="st">"!</span><span class="ot">\n</span><span class="st">"</span><span class="ot">)</span></code></pre></div>

<p><a href="Comment_(computer_programming)" title="wikilink">Comments</a> use the following syntax, similar to that of <a href="Ada_(programming_language)" title="wikilink">Ada</a>, <a href="Eiffel_(programming_language)" title="wikilink">Eiffel</a>, <a href="Haskell_(programming_language)" title="wikilink">Haskell</a>, <a class="uri" href="SQL" title="wikilink">SQL</a> and <a class="uri" href="VHDL" title="wikilink">VHDL</a>:</p>
<div class="sourceCode"><pre class="sourceCode lua"><code class="sourceCode lua"><span class="co">-- A comment in Lua starts with a double-hyphen and runs to the end of the line.</span>

<span class="co">--[[ Multi-line strings &amp; comments</span>
<span class="co">     are adorned with double square brackets. ]]</span>

<span class="co">--[=[ Comments like this can have other --[[comments]] nested. ]=]</span></code></pre></div>

<p>The <a class="uri" href="factorial" title="wikilink">factorial</a> function is implemented as a function in this example:</p>
<div class="sourceCode"><pre class="sourceCode lua"><code class="sourceCode lua"><span class="kw">function</span> factorial<span class="ot">(</span>n<span class="ot">)</span>
  <span class="kw">local</span> x <span class="ot">=</span> <span class="dv">1</span>
  <span class="kw">for</span> i <span class="ot">=</span> <span class="dv">2</span><span class="ot">,</span> n <span class="kw">do</span>
    x <span class="ot">=</span> x <span class="ot">*</span> i
  <span class="kw">end</span>
  <span class="kw">return</span> x
<span class="kw">end</span></code></pre></div>
<h3 id="loops">Loops</h3>

<p>Lua has four types of <a href="loop_(computing)" title="wikilink">loops</a>: the <a href="while_loop" title="wikilink"><code>while</code> loop</a>, the <code>repeat</code> loop (similar to a <a href="do_while_loop" title="wikilink"><code> do while</code> loop</a>), the numeric <a href="for_loop" title="wikilink"><code>for</code> loop</a>, and the generic <code>for</code> loop.</p>
<div class="sourceCode"><pre class="sourceCode lua"><code class="sourceCode lua"><span class="co">--condition = true</span>

<span class="kw">while</span> condition <span class="kw">do</span>
  <span class="co">--statements</span>
<span class="kw">end</span>

<span class="kw">repeat</span>
  <span class="co">--statements</span>
<span class="kw">until</span> condition

<span class="kw">for</span> i <span class="ot">=</span> first<span class="ot">,</span>last<span class="ot">,</span>delta <span class="kw">do</span>     <span class="co">--delta may be negative, allowing the for loop to count down or up</span>
  <span class="co">--statements</span>
  <span class="co">--example: print(i)</span>
<span class="kw">end</span></code></pre></div>

<p>The generic <code>for</code> loop:</p>
<div class="sourceCode"><pre class="sourceCode lua"><code class="sourceCode lua"><span class="kw">for</span> key<span class="ot">,</span> value <span class="kw">in</span> <span class="fu">pairs</span><span class="ot">(</span>_G<span class="ot">)</span> <span class="kw">do</span>
  <span class="fu">print</span><span class="ot">(</span>key<span class="ot">,</span> value<span class="ot">)</span>
<span class="kw">end</span></code></pre></div>

<p>would iterate over the table <code>_G</code> using the standard iterator function <code>pairs</code>, until it returns <code>nil</code>.</p>
<h3 id="functions">Functions</h3>

<p>Lua's treatment of functions as <a href="first-class_function" title="wikilink">first-class</a> values is shown in the following example, where the print function's behavior is modified:</p>
<div class="sourceCode"><pre class="sourceCode lua"><code class="sourceCode lua"><span class="kw">do</span>
  <span class="kw">local</span> oldprint <span class="ot">=</span> <span class="fu">print</span>
  <span class="co">-- Store current print function as oldprint</span>
  <span class="kw">function</span> <span class="fu">print</span><span class="ot">(</span>s<span class="ot">)</span>
    <span class="co">--[[ Redefine print function, the usual print function can still be used </span>
<span class="co">         through oldprint. The new one has only one argument.]]</span>
    oldprint<span class="ot">(</span>s <span class="ot">==</span> <span class="st">"foo"</span> <span class="kw">and</span> <span class="st">"bar"</span> <span class="kw">or</span> s<span class="ot">)</span>
  <span class="kw">end</span>
<span class="kw">end</span></code></pre></div>

<p>Any future calls to <code>print</code> will now be routed through the new function, and because of Lua's <a href="Scope_(programming)#Lexical_scoping" title="wikilink">lexical scoping</a>, the old print function will only be accessible by the new, modified print.</p>

<p>Lua also supports <a href="Closure_(computer_science)" title="wikilink">closures</a>, as demonstrated below:</p>
<div class="sourceCode"><pre class="sourceCode lua"><code class="sourceCode lua"><span class="kw">function</span> addto<span class="ot">(</span>x<span class="ot">)</span>
  <span class="co">-- Return a new function that adds x to the argument</span>
  <span class="kw">return</span> <span class="kw">function</span><span class="ot">(</span>y<span class="ot">)</span>
    <span class="co">--[=[ When we refer to the variable x, which is outside of the current</span>
<span class="co">         scope and whose lifetime would be shorter than that of this anonymous</span>
<span class="co">         function, Lua creates a closure.]=]</span>
    <span class="kw">return</span> x <span class="ot">+</span> y
  <span class="kw">end</span>
<span class="kw">end</span>
fourplus <span class="ot">=</span> addto<span class="ot">(</span><span class="dv">4</span><span class="ot">)</span>
<span class="fu">print</span><span class="ot">(</span>fourplus<span class="ot">(</span><span class="dv">3</span><span class="ot">))</span>  <span class="co">-- Prints 7</span>

<span class="co">--This can also be achieved by calling the function in the following way:</span>
<span class="fu">print</span><span class="ot">(</span>addto<span class="ot">(</span><span class="dv">4</span><span class="ot">)(</span><span class="dv">3</span><span class="ot">))</span>
<span class="co">--[[ This is because we are calling the returned function from `addto(4)' with the argument `3' directly.</span>
<span class="co">     This also helps to reduce data cost and up performance if being called iteratively.</span>
<span class="co">]]</span></code></pre></div>

<p>A new closure for the variable <code>x</code> is created every time <code>addto</code> is called, so that each new anonymous function returned will always access its own <code>x</code> parameter. The closure is managed by Lua's garbage collector, just like any other object.</p>
<h3 id="tables">Tables</h3>

<p>Tables are the most important data structures (and, by design, the only built-in <a href="composite_data_type" title="wikilink">composite data type</a>) in Lua, and are the foundation of all user-created types. They are conceptually similar to <a href="associative_array" title="wikilink">associative arrays in PHP, dictionaries in Python and Hashes in Ruby or Perl</a>.</p>

<p>A table is a collection of key and data pairs, where the data is referenced by key; in other words, it's a <a href="hash_table" title="wikilink">hashed</a> <a href="Heterogeneity" title="wikilink">heterogeneous</a> <a href="associative_array" title="wikilink">associative array</a>. A key (index) can be any value but nil and <a class="uri" href="NaN" title="wikilink">NaN</a>. A numeric key of <code>1</code> is considered distinct from a string key of <code>"1"</code>.</p>

<p>Tables are created using the <code>{}</code> constructor syntax:</p>
<div class="sourceCode"><pre class="sourceCode lua"><code class="sourceCode lua">a_table <span class="ot">=</span> <span class="ot">{}</span> <span class="co">-- Creates a new, empty table</span></code></pre></div>

<p>Tables are always passed by reference (See <a href="Call_by_sharing" title="wikilink">Call by sharing</a>):</p>
<div class="sourceCode"><pre class="sourceCode lua"><code class="sourceCode lua">a_table <span class="ot">=</span> <span class="ot">{</span>x <span class="ot">=</span> <span class="dv">10</span><span class="ot">}</span>  <span class="co">-- Creates a new table, with one entry mapping "x" to the number 10.</span>
<span class="fu">print</span><span class="ot">(</span>a_table<span class="ot">[</span><span class="st">"x"</span><span class="ot">])</span> <span class="co">-- Prints the value associated with the string key, in this case 10.</span>
b_table <span class="ot">=</span> a_table
b_table<span class="ot">[</span><span class="st">"x"</span><span class="ot">]</span> <span class="ot">=</span> <span class="dv">20</span>   <span class="co">-- The value in the table has been changed to 20.</span>
<span class="fu">print</span><span class="ot">(</span>b_table<span class="ot">[</span><span class="st">"x"</span><span class="ot">])</span> <span class="co">-- Prints 20.</span>
<span class="fu">print</span><span class="ot">(</span>a_table<span class="ot">[</span><span class="st">"x"</span><span class="ot">])</span> <span class="co">-- Also prints 20, because a_table and b_table both refer to the same table.</span></code></pre></div>
<h4 id="as-record">As record</h4>

<p>A table is often used as <a href="object_composition" title="wikilink">structure</a> (or <a href="Record_(computer_science)" title="wikilink">record</a>) by using <a href="string_(computer_science)" title="wikilink">strings</a> as keys. Because such use is very common, Lua features a special syntax for accessing such fields. Example:</p>
<div class="sourceCode"><pre class="sourceCode lua"><code class="sourceCode lua">point <span class="ot">=</span> <span class="ot">{</span> x <span class="ot">=</span> <span class="dv">10</span><span class="ot">,</span> y <span class="ot">=</span> <span class="dv">20</span> <span class="ot">}</span>   <span class="co">-- Create new table</span>
<span class="fu">print</span><span class="ot">(</span>point<span class="ot">[</span><span class="st">"x"</span><span class="ot">])</span>            <span class="co">-- Prints 10</span>
<span class="fu">print</span><span class="ot">(</span>point<span class="ot">.</span>x<span class="ot">)</span>               <span class="co">-- Has exactly the same meaning as line above. The easier-to-read</span>
                             <span class="co">--     dot notation is just syntactic sugar.</span></code></pre></div>

<p>Quoting the Lua 5.1 Reference Manual:<a class="footnoteRef" href="#fn10" id="fnref10"><sup>10</sup></a></p>

<p>"The syntax var.Name is just <a href="syntactic_sugar" title="wikilink">syntactic sugar</a> for var['Name'];"</p>
<h4 id="as-namespace">As namespace</h4>

<p>By using a table to store related functions, it can act as a namespace.</p>
<div class="sourceCode"><pre class="sourceCode lua"><code class="sourceCode lua">Point <span class="ot">=</span> <span class="ot">{}</span>

Point<span class="ot">.</span>new <span class="ot">=</span> <span class="kw">function</span><span class="ot">(</span>x<span class="ot">,</span> y<span class="ot">)</span>
  <span class="kw">return</span> <span class="ot">{</span>x <span class="ot">=</span> x<span class="ot">,</span> y <span class="ot">=</span> y<span class="ot">}</span>  <span class="co">--  return {["x"] = x, ["y"] = y}</span>
<span class="kw">end</span>

Point<span class="ot">.</span>set_x <span class="ot">=</span> <span class="kw">function</span><span class="ot">(</span>point<span class="ot">,</span> x<span class="ot">)</span>
  point<span class="ot">.</span>x <span class="ot">=</span> x  <span class="co">--  point["x"] = x;</span>
<span class="kw">end</span></code></pre></div>
<h4 id="as-array">As array</h4>

<p>By using a numerical key, the table resembles an <a href="array_data_type" title="wikilink">array data type</a>. Lua arrays are 1-based: the first index is 1 rather than 0 as it is for many other programming languages (though an explicit index of 0 is allowed).</p>

<p>A simple array of strings:</p>
<div class="sourceCode"><pre class="sourceCode lua"><code class="sourceCode lua">array <span class="ot">=</span> <span class="ot">{</span> <span class="st">"a"</span><span class="ot">,</span> <span class="st">"b"</span><span class="ot">,</span> <span class="st">"c"</span><span class="ot">,</span> <span class="st">"d"</span> <span class="ot">}</span>   <span class="co">-- Indices are assigned automatically.</span>
<span class="fu">print</span><span class="ot">(</span>array<span class="ot">[</span><span class="dv">2</span><span class="ot">])</span>                  <span class="co">-- Prints "b". Automatic indexing in Lua starts at 1.</span>
<span class="fu">print</span><span class="ot">(#</span>array<span class="ot">)</span>                    <span class="co">-- Prints 4.  # is the length operator for tables and strings.</span>
array<span class="ot">[</span><span class="dv">0</span><span class="ot">]</span> <span class="ot">=</span> <span class="st">"z"</span>                   <span class="co">-- Zero is a legal index.</span>
<span class="fu">print</span><span class="ot">(#</span>array<span class="ot">)</span>                    <span class="co">-- Still prints 4, as Lua arrays are 1-based.</span></code></pre></div>

<p>The length of a table <code>t</code> is defined to be any integer index <code>n</code> such that <code>t[n]</code> is not <code>nil</code> and <code>t[n+1]</code> is <code>nil</code>; moreover, if <code>t[1]</code> is <code>nil</code>, <code>n</code> can be zero. For a regular array, with non-nil values from 1 to a given <code>n</code>, its length is exactly that <code>n</code>, the index of its last value. If the array has "holes" (that is, nil values between other non-nil values), then <code>#t</code> can be any of the indices that directly precedes a <code>nil</code> value (that is, it may consider any such nil value as the end of the array).<a class="footnoteRef" href="#fn11" id="fnref11"><sup>11</sup></a></p>

<p>A two dimensional table:</p>
<div class="sourceCode"><pre class="sourceCode lua"><code class="sourceCode lua">ExampleTable <span class="ot">=</span> 
<span class="ot">{</span>
     <span class="ot">{</span><span class="dv">1</span><span class="ot">,</span><span class="dv">2</span><span class="ot">,</span><span class="dv">3</span><span class="ot">,</span><span class="dv">4</span><span class="ot">},</span>
     <span class="ot">{</span><span class="dv">5</span><span class="ot">,</span><span class="dv">6</span><span class="ot">,</span><span class="dv">7</span><span class="ot">,</span><span class="dv">8</span><span class="ot">}</span>
<span class="ot">}</span> 
<span class="fu">print</span><span class="ot">(</span>ExampleTable<span class="ot">[</span><span class="dv">1</span><span class="ot">][</span><span class="dv">3</span><span class="ot">])</span> <span class="co">-- Prints "3"</span>
<span class="fu">print</span><span class="ot">(</span>ExampleTable<span class="ot">[</span><span class="dv">2</span><span class="ot">][</span><span class="dv">4</span><span class="ot">])</span> <span class="co">-- Prints "8"</span></code></pre></div>

<p>An array of objects:</p>
<div class="sourceCode"><pre class="sourceCode lua"><code class="sourceCode lua"><span class="kw">function</span> Point<span class="ot">(</span>x<span class="ot">,</span> y<span class="ot">)</span>        <span class="co">-- "Point" object constructor</span>
  <span class="kw">return</span> <span class="ot">{</span> x <span class="ot">=</span> x<span class="ot">,</span> y <span class="ot">=</span> y <span class="ot">}</span>   <span class="co">-- Creates and returns a new object (table)</span>
<span class="kw">end</span>
array <span class="ot">=</span> <span class="ot">{</span> Point<span class="ot">(</span><span class="dv">10</span><span class="ot">,</span> <span class="dv">20</span><span class="ot">),</span> Point<span class="ot">(</span><span class="dv">30</span><span class="ot">,</span> <span class="dv">40</span><span class="ot">),</span> Point<span class="ot">(</span><span class="dv">50</span><span class="ot">,</span> <span class="dv">60</span><span class="ot">)</span> <span class="ot">}</span>   <span class="co">-- Creates array of points</span>
                        <span class="co">-- array = { { x = 10, y = 20 }, { x = 30, y = 40 }, { x = 50, y = 60 } };</span>
<span class="fu">print</span><span class="ot">(</span>array<span class="ot">[</span><span class="dv">2</span><span class="ot">].</span>y<span class="ot">)</span>                                         <span class="co">-- Prints 40</span></code></pre></div>

<p>Using a hash map to emulate an array normally is slower than using an actual array; however, Lua tables are optimized for use as arrays<a class="footnoteRef" href="#fn12" id="fnref12"><sup>12</sup></a> to help avoid this issue.</p>
<h3 id="metatables">Metatables</h3>

<p>Extensible semantics is a key feature of Lua, and the <a class="uri" href="metatable" title="wikilink">metatable</a> concept allows Lua's tables to be customized in powerful ways. The following example demonstrates an "infinite" table. For any 

<math display="inline" id="Lua_(programming_language):0">
 <semantics>
  <mi>n</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>n</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   n
  </annotation>
 </semantics>
</math>

, <code>fibs[n]</code> will give the 

<math display="inline" id="Lua_(programming_language):1">
 <semantics>
  <mi>n</mi>
  <annotation-xml encoding="MathML-Content">
   <ci>n</ci>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   n
  </annotation>
 </semantics>
</math>

<sup>th</sup> <a href="Fibonacci_number" title="wikilink">Fibonacci number</a> using <a href="dynamic_programming" title="wikilink">dynamic programming</a> and <a class="uri" href="memoization" title="wikilink">memoization</a>.</p>
<div class="sourceCode"><pre class="sourceCode lua"><code class="sourceCode lua">fibs <span class="ot">=</span> <span class="ot">{</span> <span class="dv">1</span><span class="ot">,</span> <span class="dv">1</span> <span class="ot">}</span>                                <span class="co">-- Initial values for fibs[1] and fibs[2].</span>
<span class="fu">setmetatable</span><span class="ot">(</span>fibs<span class="ot">,</span> <span class="ot">{</span>
  __index <span class="ot">=</span> <span class="kw">function</span><span class="ot">(</span>values<span class="ot">,</span> n<span class="ot">)</span>                <span class="co">--[[ __index is a function predefined by Lua, </span>
<span class="co">                                                    it is called if key "n" does not exist. ]]</span>
    values<span class="ot">[</span>n<span class="ot">]</span> <span class="ot">=</span> values<span class="ot">[</span>n <span class="ot">-</span> <span class="dv">1</span><span class="ot">]</span> <span class="ot">+</span> values<span class="ot">[</span>n <span class="ot">-</span> <span class="dv">2</span><span class="ot">]</span>  <span class="co">-- Calculate and memoize fibs[n].</span>
    <span class="kw">return</span> values<span class="ot">[</span>n<span class="ot">]</span>
  <span class="kw">end</span>
<span class="ot">})</span></code></pre></div>
<h3 id="object-oriented-programming">Object-oriented programming</h3>

<p>Although Lua does not have a built-in concept of <a href="class_(computer_science)" title="wikilink">classes</a>, they can be implemented using two language features: <a href="first-class_function" title="wikilink">first-class functions</a> and tables. By placing functions and related data into a table, an object is formed. <a href="Inheritance_(object-oriented_programming)" title="wikilink">Inheritance</a> (both single and multiple) can be implemented via the <a class="uri" href="metatable" title="wikilink">metatable</a> mechanism, telling the object to look up nonexistent methods and fields in parent object(s).</p>

<p>There is no such concept as "class" with these techniques; rather, <a href="prototype-based_programming" title="wikilink">prototypes</a> are used, as in the programming languages <a href="Self_(programming_language)" title="wikilink">Self</a> or <a class="uri" href="JavaScript" title="wikilink">JavaScript</a>. New objects are created either with a <a href="factory_method_pattern" title="wikilink">factory method</a> (that constructs new objects from scratch), or by cloning an existing object.</p>

<p>Lua provides some <a href="syntactic_sugar" title="wikilink">syntactic sugar</a> to facilitate object orientation. To declare <a href="Method_(computer_science)" title="wikilink">member functions</a> inside a prototype table, one can use <code>function table:func(args)</code>, which is equivalent to <code>function table.func(self, args)</code>. Calling class methods also makes use of the colon: <code>object:func(args)</code> is equivalent to <code>object.func(object, args)</code>.</p>

<p>Creating a basic <a href="Vector_(geometry)" title="wikilink">vector</a> object:</p>
<div class="sourceCode"><pre class="sourceCode lua"><code class="sourceCode lua"><span class="kw">local</span> Vector <span class="ot">=</span> <span class="ot">{}</span>
Vector<span class="ot">.</span>__index <span class="ot">=</span> Vector

<span class="kw">function</span> Vector:new<span class="ot">(</span>x<span class="ot">,</span> y<span class="ot">,</span> z<span class="ot">)</span>    <span class="co">-- The constructor</span>
  <span class="kw">return</span> <span class="fu">setmetatable</span><span class="ot">({</span>x <span class="ot">=</span> x<span class="ot">,</span> y <span class="ot">=</span> y<span class="ot">,</span> z <span class="ot">=</span> z<span class="ot">},</span> Vector<span class="ot">)</span>
<span class="kw">end</span>

<span class="kw">function</span> Vector:magnitude<span class="ot">()</span>     <span class="co">-- Another method</span>
  <span class="co">-- Reference the implicit object using self</span>
  <span class="kw">return</span> math<span class="ot">.</span>sqrt<span class="ot">(</span>self<span class="ot">.</span>x<span class="ot">^</span><span class="dv">2</span> <span class="ot">+</span> self<span class="ot">.</span>y<span class="ot">^</span><span class="dv">2</span> <span class="ot">+</span> self<span class="ot">.</span>z<span class="ot">^</span><span class="dv">2</span><span class="ot">)</span>
<span class="kw">end</span>

<span class="kw">local</span> vec <span class="ot">=</span> Vector:new<span class="ot">(</span><span class="dv">0</span><span class="ot">,</span> <span class="dv">1</span><span class="ot">,</span> <span class="dv">0</span><span class="ot">)</span> <span class="co">-- Create a vector</span>
<span class="fu">print</span><span class="ot">(</span>vec:magnitude<span class="ot">())</span>          <span class="co">-- Call a method (output: 1)</span>
<span class="fu">print</span><span class="ot">(</span>vec<span class="ot">.</span>x<span class="ot">)</span>                    <span class="co">-- Access a member variable (output: 0)</span></code></pre></div>
<h2 id="internals">Internals</h2>

<p>Lua programs are not <a href="interpreted_language" title="wikilink">interpreted</a> directly from the textual Lua file, but are <a href="compiler" title="wikilink">compiled</a> into <a class="uri" href="bytecode" title="wikilink">bytecode</a> which is then run on the Lua <a href="virtual_machine" title="wikilink">virtual machine</a>. The compilation process is typically invisible to the user and is performed during <a href="Run_time_(program_lifecycle_phase)" title="wikilink">run-time</a>, but it can be done offline in order to increase loading performance or reduce the memory footprint of the host environment by leaving out the compiler. Lua bytecode can also be produced and executed from within Lua, using the <code>dump</code> function from the string library and the <code>load/loadstring/loadfile</code> functions, respectively.</p>

<p>Like most CPUs, and unlike most virtual machines (which are <a href="stack_machine" title="wikilink">stack-based</a>), the Lua VM is <a href="register_machine" title="wikilink">register-based</a>, and therefore more closely resembles an actual hardware design. The register architecture both avoids excessive copying of values and reduces the total number of instructions per function. The virtual machine of Lua 5 is one of the first register-based pure VMs to have a wide use.<a class="footnoteRef" href="#fn13" id="fnref13"><sup>13</sup></a> <a href="Perl_6" title="wikilink">Perl</a>'s <a href="Parrot_virtual_machine" title="wikilink">Parrot</a> and <a href="Android_(operating_system)" title="wikilink">Android</a>'s <a href="Dalvik_(software)" title="wikilink">Dalvik</a> are two other well-known register-based VMs.</p>

<p>This example is the bytecode listing of the factorial function defined above (as shown by the <code>luac</code> 5.1 compiler):<a class="footnoteRef" href="#fn14" id="fnref14"><sup>14</sup></a></p>

<p><code>function </code><factorial.lua:1><code> (9 instructions, 36 bytes at 0x8063c60)</code><br/>
<code>1 param, 6 slots, 0 upvalues, 6 locals, 2 constants, 0 functions</code><br/>
<code>   1   [2] LOADK       1 -1    ; 1</code><br/>
<code>   2   [3] LOADK       2 -2    ; 2</code><br/>
<code>   3   [3] MOVE        3 0</code><br/>
<code>   4   [3] LOADK       4 -1    ; 1</code><br/>
<code>   5   [3] FORPREP     2 1 ; to 7</code><br/>
<code>   6   [4] MUL         1 1 5</code><br/>
<code>   7   [3] FORLOOP     2 -2    ; to 6</code><br/>
<code>   8   [6] RETURN      1 2</code><br/>
<code>   9   [7] RETURN      0 1</code></factorial.lua:1></p>
<h2 id="c-api">C API</h2>

<p>Lua is intended to be embedded into other applications, and provides a <a href="C_(programming_language)" title="wikilink">C</a> <a href="Application_Programming_Interface" title="wikilink">API</a> for this purpose. The API is divided into two parts: the Lua core and the Lua auxiliary library.<a class="footnoteRef" href="#fn15" id="fnref15"><sup>15</sup></a></p>

<p>The Lua API's design eliminates the need for manual <a href="Reference_counting" title="wikilink">reference management</a> in C code, unlike <a href="Python_(programming_language)" title="wikilink">Python</a>'s API. The API, like the language, is minimalistic. Advanced functionality is provided by the auxiliary library, which consists largely of <a class="uri" href="preprocessor" title="wikilink">preprocessor</a> <a href="Macro_(computer_science)" title="wikilink">macros</a> which assist with complex table operations.</p>
<h3 id="stack">Stack</h3>

<p>The Lua C API is <a href="Stack_(data_structure)" title="wikilink">stack</a> based. Lua provides functions to push and pop most simple C data types (integers, floats, etc.) to and from the stack, as well as functions for manipulating tables through the stack. The Lua stack is somewhat different from a traditional stack; the stack can be indexed directly, for example. Negative indices indicate offsets from the top of the stack. For example, −1 is the top (most recently pushed value), while positive indices indicate offsets from the bottom (oldest value).</p>

<p><a href="Marshalling_(computer_science)" title="wikilink">Marshalling</a> data between C and Lua functions is also done using the stack. To call a Lua function, arguments are pushed onto the stack, and then the <code>lua_call</code> is used to call the actual function. When writing a C function to be directly called from Lua, the arguments are popped from the stack.</p>
<h3 id="example">Example</h3>

<p>Here is an example of calling a Lua function from C:</p>
<div class="sourceCode"><pre class="sourceCode c"><code class="sourceCode c"><span class="ot">#include <stdio.h></stdio.h></span>
<span class="ot">#include <lua.h> </lua.h></span><span class="co">//Lua main library (lua_*)</span>
<span class="ot">#include <lauxlib.h> </lauxlib.h></span><span class="co">//Lua auxiliary library (luaL_*)</span>

<span class="dt">int</span> main(<span class="dt">void</span>)
{
    <span class="co">//create a Lua state</span>
    lua_State *L = luaL_newstate();

    <span class="co">//load and execute a string</span>
    <span class="kw">if</span> (luaL_dostring(L, <span class="st">"function foo (x,y) return x+y end"</span>)) {
        lua_close(L);
        <span class="kw">return</span> -<span class="dv">1</span>;
    }

    <span class="co">//push value of global "foo" (the function defined above)</span>
    <span class="co">//to the stack, followed by integers 5 and 3</span>
    lua_getglobal(L, <span class="st">"foo"</span>);
    lua_pushinteger(L, <span class="dv">5</span>);
    lua_pushinteger(L, <span class="dv">3</span>);
    lua_call(L, <span class="dv">2</span>, <span class="dv">1</span>); <span class="co">//call a function with two arguments and one return value</span>
    printf(<span class="st">"Result: %d</span><span class="ch">\n</span><span class="st">"</span>, lua_tointeger(L, -<span class="dv">1</span>)); <span class="co">//print integer value of item at stack top</span>
    lua_close(L); <span class="co">//close Lua state</span>
    <span class="kw">return</span> <span class="dv">0</span>;
}
</code></pre></div></body>

<p>Running this example gives:</p>
<pre><code>$ cc -o example example.c -llua
$ ./example
Result: 8</code></pre>
<h3 id="special-tables">Special tables</h3>

<p>The C API also provides some special tables, located at various "pseudo-indices" in the Lua stack. At <code>LUA_GLOBALSINDEX</code> prior to Lua 5.2<a class="footnoteRef" href="#fn16" id="fnref16"><sup>16</sup></a> is the globals table, <code>_G</code> from within Lua, which is the main <a class="uri" href="namespace" title="wikilink">namespace</a>. There is also a registry located at <code>LUA_REGISTRYINDEX</code> where C programs can store Lua values for later retrieval.</p>
<h3 id="extension-and-binding">Extension and binding</h3>

<p>It is possible to write extension modules using the Lua API. Extension modules are <a href="Library_(computing)#Dynamic_linking" title="wikilink">shared objects</a> which can be used to extend the functionality of the interpreter by providing native facilities to Lua scripts. From the Lua side, such a module appears as a namespace table holding its functions and variables. Lua scripts may load extension modules using <code>require</code>,<a class="footnoteRef" href="#fn17" id="fnref17"><sup>17</sup></a> just like modules written in Lua itself.</p>

<p>A growing collection of modules known as <em>rocks</em> are available through a <a href="package_management_system" title="wikilink">package management system</a> called <em>LuaRocks</em>,<a class="footnoteRef" href="#fn18" id="fnref18"><sup>18</sup></a> in the spirit of <a class="uri" href="CPAN" title="wikilink">CPAN</a>, <a class="uri" href="RubyGems" title="wikilink">RubyGems</a> and <a href="Python_eggs" title="wikilink">Python Eggs</a>. Other modules can be found through the <em>Lua Addons</em> directory of the <a href="http://lua-users.org">lua-users.org</a> wiki.<a class="footnoteRef" href="#fn19" id="fnref19"><sup>19</sup></a></p>

<p>Prewritten Lua <a href="Language_binding" title="wikilink">bindings</a> exist for most popular programming languages, including other scripting languages.<a class="footnoteRef" href="#fn20" id="fnref20"><sup>20</sup></a> For C++, there are a number of template-based approaches and some automatic binding generators.</p>
<h2 id="applications">Applications</h2>
<h3 id="video-games">Video games</h3>

<p>In <a href="game_development" title="wikilink">video game development</a>, Lua is widely used as a <a href="scripting_language" title="wikilink">scripting language</a> by <a href="Game_programmer#Scripter" title="wikilink">game programmers</a>, perhaps due to its perceived easiness to embed, fast execution, and short <a href="learning_curve" title="wikilink">learning curve</a>.<a class="footnoteRef" href="#fn21" id="fnref21"><sup>21</sup></a></p>

<p>In 2003, a poll conducted by <a class="uri" href="GameDev.net" title="wikilink">GameDev.net</a> showed Lua as a most popular scripting language for game programming.<a class="footnoteRef" href="#fn22" id="fnref22"><sup>22</sup></a> On 12 January 2012, Lua was announced as a winner of the Front Line Award 2011 from the magazine <em><a href="Game_Developer_(magazine)" title="wikilink">Game Developer</a></em> in the category Programming Tools.<a class="footnoteRef" href="#fn23" id="fnref23"><sup>23</sup></a></p>
<h3 id="other">Other</h3>

<p>Other applications using Lua include:</p>
<ul>
<li><a href="3DMLW" title="wikilink">3DMLW plugin</a> uses Lua scripting for animating <a href="3D_computer_graphics" title="wikilink">3D</a> and handling different events.</li>
<li><a href="Adobe_Photoshop_Lightroom" title="wikilink">Adobe Photoshop Lightroom</a> uses Lua for its user interface.</li>
<li><a href="Aerospike_database" title="wikilink">Aerospike Database</a> uses Lua as its internal scripting language for its 'UDF' (User Defined Function) capabilities - similar to procedures</li>
<li><a href="Apache_HTTP_Server" title="wikilink">Apache HTTP Server</a> can use Lua anywhere in the request process (since version 2.3, via the core mod_lua module).</li>
<li><a class="uri" href="Artweaver" title="wikilink">Artweaver</a> graphics editor uses Lua for scripting filters.</li>
<li><a href="Awesome_(window_manager)" title="wikilink">Awesome</a>, a <a href="window_manager" title="wikilink">window manager</a>, is written partly in Lua, also using it as its configuration file format</li>
<li><a href="CHDK" title="wikilink">The Canon Hack Development Kit</a> (CHDK), an open source firmware for Canon cameras, uses Lua as one of two scripting languages.</li>
<li><a class="uri" href="Celestia" title="wikilink">Celestia</a>, the astronomy educational program, uses Lua as its scripting language.</li>
<li><a href="Cheat_Engine" title="wikilink">Cheat Engine</a>, a memory editor/debugger, enables Lua scripts to be embedded in its "cheat table" files, and even includes a GUI designer.</li>
<li><a href="Cisco_Systems" title="wikilink">Cisco</a> uses Lua to implement Dynamic Access Policies within the Adaptive Security Appliance.</li>
<li><a href="Conky_(software)" title="wikilink">Conky</a> the Linux system monitoring app uses Lua for advanced graphics.</li>
<li><a class="uri" href="Cocos2d" title="wikilink">Cocos2d</a> uses Lua to build games with their Cocos Code IDE.</li>
<li><a class="uri" href="Codea" title="wikilink">Codea</a> is a Lua editor native to the <a class="uri" href="iOS" title="wikilink">iOS</a> operating-system.</li>
<li><a href="http://www.codebymath.com">Codebymath</a> uses the Lua language to teach programming using concepts from basic mathematics.</li>
<li><a href="http://www.computercraft.info">Computercraft</a> Is a Minecraft mod that uses a slightly edited version of Lua. It uses LuaJ to interact with Minecraft itself.</li>
<li>Custom applications for the <a href="Creative_Technology" title="wikilink">Creative Technology</a> <a href="Creative_ZEN#ZEN_X-Fi2" title="wikilink">Zen X-Fi2</a> portable media player can be created in Lua.</li>
<li><a href="Damn_Small_Linux" title="wikilink">Damn Small Linux</a> uses Lua to provide desktop-friendly interfaces for command-line utilities without sacrificing lots of disk space.</li>
<li>The <a class="uri" href="darktable" title="wikilink">darktable</a> open-source photography workflow application is scriptable with Lua.<a class="footnoteRef" href="#fn24" id="fnref24"><sup>24</sup></a></li>
<li><a href="Dolphin_Computer_Access" title="wikilink">Dolphin Computer Access</a> uses Lua scripting to make inaccessible applications <a href="Accessibility" title="wikilink">accessible</a> for <a href="Visual_impairment" title="wikilink">visually impaired</a> computer users with their <a href="screen_reader" title="wikilink">screen reader</a> – SuperNova.</li>
<li>Eyeon's <a href="Eyeon_Fusion" title="wikilink">Fusion</a> compositor uses embedded Lua and LuaJIT for internal and external scripts and also plugin prototyping.</li>
<li>A fork of the <a href="Nintendo_Entertainment_System" title="wikilink">NES</a> <a class="uri" href="emulator" title="wikilink">emulator</a> <a href="FCE_Ultra" title="wikilink">FCE Ultra</a> called FCEUX allows for extensions or modifications to games via Lua scripts.</li>
<li><a href="Flame_(malware)" title="wikilink">Flame</a>, a large and highly sophisticated piece of <a class="uri" href="malware" title="wikilink">malware</a> being used for cyber <a class="uri" href="espionage" title="wikilink">espionage</a>.<a class="footnoteRef" href="#fn25" id="fnref25"><sup>25</sup></a></li>
<li><a class="uri" href="Foldit" title="wikilink">Foldit</a>, a science-oriented game in <a href="protein_folding" title="wikilink">protein folding</a>, uses Lua for user scripts. Some of those scripts have been the aim of an article in <a href="Proceedings_of_the_National_Academy_of_Sciences_of_the_United_States_of_America" title="wikilink">PNAS</a>.<a class="footnoteRef" href="#fn26" id="fnref26"><sup>26</sup></a></li>
<li><a class="uri" href="FreePOPs" title="wikilink">FreePOPs</a>, an extensible mail proxy, uses Lua to power its web front-end.</li>
<li><a class="uri" href="Freeswitch" title="wikilink">Freeswitch</a>, an open-source telephony platform designed to facilitate the creation of voice and chat driven products in which Lua can be used as a scripting language for call control and call flow among other things.</li>
<li><a href="Ginga_(SBTVD_Middleware)" title="wikilink">Ginga</a>, the middleware for Brazilian Digital Television System (<a href="ISDB-T_International" title="wikilink">SBTVD or ISDB-T</a>), uses Lua as a script language to its declarative environment, Ginga-NCL. In Ginga-NCL, Lua is integrated as media objects (called NCLua) inside NCL (<a href="Nested_Context_Language" title="wikilink">Nested Context Language</a>) documents.</li>
<li><a class="uri" href="GrafX2" title="wikilink">GrafX2</a>, a pixel-art editor, can run Lua scripts for simple picture processing or generative illustration.</li>
<li><a class="uri" href="iClone" title="wikilink">iClone</a>, a 3D real-time animation studio to create animation movies uses Lua in the controls of its new physics simulation.</li>
<li>The drawing editor <a href="Ipe_(program)" title="wikilink">Ipe</a> (mainly used for producing figures with <a class="uri" href="LaTeX" title="wikilink">LaTeX</a> labeling) uses Lua for its functionality and script extensions.</li>
<li><a href="Lego_Mindstorms_NXT" title="wikilink">Lego Mindstorms NXT</a> and <a href="Lego_Mindstorms_NXT_2.0" title="wikilink">NXT 2.0</a> can be scripted with Lua using third-party software.<a class="footnoteRef" href="#fn27" id="fnref27"><sup>27</sup></a></li>
<li><a class="uri" href="lighttpd" title="wikilink">lighttpd</a> web server uses Lua for hook scripts as well as a modern replacement for the <a href="Cache_Meta_Language" title="wikilink">Cache Meta Language</a>.</li>
<li>Version 2.01 of the profile management software for <a class="uri" href="Logitech" title="wikilink">Logitech</a>'s <a href="Logitech_G15" title="wikilink">G15</a> gaming keyboard uses Lua as its scripting language.</li>
<li><a class="uri" href="LuaTeX" title="wikilink">LuaTeX</a>, the designated successor of <a class="uri" href="pdfTeX" title="wikilink">pdfTeX</a>, allows extensions to be written in Lua.<a class="footnoteRef" href="#fn28" id="fnref28"><sup>28</sup></a></li>
<li>LuCI, the default web interface for <a class="uri" href="OpenWrt" title="wikilink">OpenWrt</a>, is written primarily in Lua.<a class="footnoteRef" href="#fn29" id="fnref29"><sup>29</sup></a></li>
<li><a class="uri" href="MediaWiki" title="wikilink">MediaWiki</a><a class="footnoteRef" href="#fn30" id="fnref30"><sup>30</sup></a> uses Lua as a new <a href="templating_language" title="wikilink">templating language</a>, which is used on <a class="uri" href="Wikipedia" title="wikilink">Wikipedia</a> and other wikis.</li>
<li>The <a href="http://www.public-software-group.org/moonbridge">Moonbridge Network Server for Lua Applications</a> in combination with <a href="http://www.public-software-group.org/webmcp">WebMCP</a>, a web development framework, allows complex web applications to be written in Lua (used by <a class="uri" href="LiquidFeedback" title="wikilink">LiquidFeedback</a><a class="footnoteRef" href="#fn31" id="fnref31"><sup>31</sup></a>).</li>
<li><a href="MySQL_Workbench" title="wikilink">MySQL Workbench</a> uses Lua for its extensions and add-ons.</li>
<li><a class="uri" href="NetBSD" title="wikilink">NetBSD</a> has a Lua driver that can create and control Lua states inside the kernel. This allows Lua to be used for packet filtering and creating device drivers.<a class="footnoteRef" href="#fn32" id="fnref32"><sup>32</sup></a><a class="footnoteRef" href="#fn33" id="fnref33"><sup>33</sup></a><a class="footnoteRef" href="#fn34" id="fnref34"><sup>34</sup></a></li>
<li><a class="uri" href="Nginx" title="wikilink">Nginx</a> has a powerful embedded Lua module that provides an API for accessing Nginx facilities like socket handling, for example.<a class="footnoteRef" href="#fn35" id="fnref35"><sup>35</sup></a></li>
<li><a class="uri" href="nmap" title="wikilink">nmap</a> network security scanner uses Lua as the basis for its scripting language, called <em>nse</em>.<a class="footnoteRef" href="#fn36" id="fnref36"><sup>36</sup></a></li>
<li><a class="uri" href="NodeMCU" title="wikilink">NodeMCU</a> uses Lua in hardware. NodeMCU is an <a href="open_source" title="wikilink">open source</a> hardware platform, which can run Lua directly on ESP8266 <a class="uri" href="Wi-Fi" title="wikilink">Wi-Fi</a> <a href="System_on_a_chip" title="wikilink">SoC</a>.<a class="footnoteRef" href="#fn37" id="fnref37"><sup>37</sup></a></li>
<li><a href="Sierra_Wireless" title="wikilink">Sierra Wireless</a> AirLink ALEOS GSM / CDMA / LTE gateways allow user applications to be written in Lua.</li>
<li>The Perimeta session border controller from <a href="Metaswitch_Networks" title="wikilink">Metaswitch Networks</a> uses Lua as a scripting language to manipulate SDP data on the fly.<a class="footnoteRef" href="#fn38" id="fnref38"><sup>38</sup></a></li>
<li><a class="uri" href="Ophal" title="wikilink">Ophal</a> is an extensible web development framework mostly written in Lua and Javascript.</li>
<li><a class="uri" href="PowerDNS" title="wikilink">PowerDNS</a> offers extensive Lua scripting for serving and changing DNS answers, fixing up broken servers, and DoS protection.</li>
<li><a href="Project_Dogwaffle" title="wikilink">Project Dogwaffle Professional</a> offers Lua scripting to make filters through the DogLua filter. Lua filters can be shared between Project Dogwaffle, <a class="uri" href="GIMP" title="wikilink">GIMP</a>, Pixarra Twistedbrush and ArtWeaver.</li>
<li><a href="Prosody_(software)" title="wikilink">Prosody</a> is a <a class="uri" href="cross-platform" title="wikilink">cross-platform</a> <a href="Extensible_Messaging_and_Presence_Protocol" title="wikilink">Jabber/XMPP</a> <a href="Server_(computing)" title="wikilink">server</a> written in Lua.</li>
<li><a href="Quartz_Composer" title="wikilink">Quartz Composer</a>, a visual programming tool by <a href="Apple_Inc." title="wikilink">Apple</a>, can be scripted in Lua via a free plugin produced by <a href="Boinx_Software" title="wikilink">Boinx Software</a>.</li>
<li><a href="Reason_(software)" title="wikilink">Reason</a> digital audio workstation, Lua is used to describe Remote codecs.</li>
<li><a class="uri" href="Redis" title="wikilink">Redis</a> is an open source key-value database, in which Lua can be used (starting with version 2.6) to write complex functions that run in the server itself, thus extending its functionality.<a class="footnoteRef" href="#fn39" id="fnref39"><sup>39</sup></a></li>
<li><a class="uri" href="Renoise" title="wikilink">Renoise</a> audio tracker, in which Lua scripting is used to extend functionality.</li>
</ul>
<ul>
<li><a class="uri" href="ROBLOX" title="wikilink">ROBLOX</a>, a popular MMORPG that uses a derivation of Lua to code games.</li>
<li><a class="uri" href="Rockbox" title="wikilink">Rockbox</a>, the open-source digital audio player firmware, supports plugins written in Lua.</li>
</ul>
<ul>
<li>New versions of <a class="uri" href="SciTE" title="wikilink">SciTE</a> editor can be extended using Lua.</li>
<li>Screvle, embedded development system with Lua Runtime and on board, web-based Lua Development Environment.</li>
<li><a href="Snort_(software)" title="wikilink">Snort</a> intrusion detection system includes a Lua interpreter since 3.0 beta release.<a class="footnoteRef" href="#fn40" id="fnref40"><sup>40</sup></a></li>
<li>The <a href="Squeezebox_(network_music_player)" title="wikilink">Squeezebox</a> music players from Logitech support plugins written in Lua on recent models (Controller, Radio and Touch).</li>
<li><a href="Synalyze_It!_Pro" title="wikilink">Synalyze It! Pro</a> uses Lua for implementation of custom data types, extended parsing logic and other tasks.</li>
<li><a href="Torch_(machine_learning)" title="wikilink">Torch</a> is an open source deep learning library for Lua.</li>
<li><a class="uri" href="Teamspeak" title="wikilink">Teamspeak</a> has a Lua scripting plugin for modifications.</li>
<li><a href="Tarantool" title="wikilink">Tarantool NoSQL database</a> uses Lua as its stored procedures language.</li>
<li><a class="uri" href="TI-Nspire" title="wikilink">TI-Nspire</a> calculators contain applications written in Lua, since TI added Lua scripting support with a calculator-specific API in OS 3+.</li>
<li><a href="Vim_(text_editor)" title="wikilink">Vim</a> has Lua scripting support starting with version 7.3.<a class="footnoteRef" href="#fn41" id="fnref41"><sup>41</sup></a></li>
</ul>
<ul>
<li><a href="VLC_media_player" title="wikilink">VLC media player</a> uses Lua to provide scripting support.</li>
</ul>
<ul>
<li><a class="uri" href="WeeChat" title="wikilink">WeeChat</a> IRC client allows scripts to be written in Lua.</li>
</ul>
<ul>
<li><a class="uri" href="WinGate" title="wikilink">WinGate</a> proxy server allows event processing and policy to execute Lua scripts with access to internal WinGate objects.</li>
</ul>
<ul>
<li><a class="uri" href="Wireshark" title="wikilink">Wireshark</a> network packet analyzer allows protocol dissectors and post-dissector taps to be written in Lua.<a class="footnoteRef" href="#fn42" id="fnref42"><sup>42</sup></a></li>
</ul>
<ul>
<li><a href="ZeroBrane_Studio" title="wikilink">ZeroBrane Studio</a> Lua <a href="Integrated_Development_Environment" title="wikilink">IDE</a> is written in Lua and uses Lua for its plugins.</li>
</ul>
<h2 id="references">References</h2>
<h2 id="further-reading">Further reading</h2>
<h3 id="books">Books</h3>
<ul>
<li></li>
<li></li>
<li></li>
<li></li>
<li>

<p>Chapters 6 and 7 are dedicated to Lua, while others look at software in Brazil more broadly.</p></li>
<li></li>
<li>

<p>(The 1st ed. is available <a href="http://www.lua.org/pil/contents.html">online</a>.)</p></li>
</ul>
<h3 id="articles">Articles</h3>
<ul>
<li></li>
<li></li>
<li></li>
<li></li>
<li>

<p>Interview with Roberto Ierusalimschy.</p></li>
<li>

<p>How the embeddability of Lua impacted its design.</p></li>
<li><a href="http://www.lua.org/papers.html">Lua papers and theses</a></li>
</ul>
<h2 id="external-links">External links</h2>
<ul>
<li></li>
<li><a href="http://lua-users.org">lua-users.org</a> – Community website for and by users (and authors) of Lua</li>
<li><a href="http://www.eluaproject.net/en_overview.html">eLua – Embedded Lua</a></li>
<li><a href="http://luaforge.net">Projects in Lua</a></li>
<li><a href="https://code.google.com/p/squilu/">SquiLu Squirrel modified with Lua libraries</a></li>
</ul>

<p>"</p>

<p><a href="Category:Brazilian_inventions" title="wikilink">Category:Brazilian inventions</a> <a href="Category:Cross-platform_free_software" title="wikilink">Category:Cross-platform free software</a> <a href="Category:Cross-platform_software" title="wikilink">Category:Cross-platform software</a> <a href="Category:Dynamically_typed_programming_languages" title="wikilink">Category:Dynamically typed programming languages</a> <a href="Category:Embedded_systems" title="wikilink">Category:Embedded systems</a> <a href="Category:Free_compilers_and_interpreters" title="wikilink">Category:Free compilers and interpreters</a> <a href="Category:Free_computer_libraries" title="wikilink">Category:Free computer libraries</a> <a href="Category:Free_software_programmed_in_C" title="wikilink">Category:Free software programmed in C</a> <a href="Category:Lua_(programming_language)" title="wikilink"> </a> <a href="Category:Object-oriented_programming_languages" title="wikilink">Category:Object-oriented programming languages</a> <a href="Category:Pontifical_Catholic_University_of_Rio_de_Janeiro" title="wikilink">Category:Pontifical Catholic University of Rio de Janeiro</a> <a href="Category:Programming_languages_created_in_1993" title="wikilink">Category:Programming languages created in 1993</a> <a href="Category:Prototype-based_programming_languages" title="wikilink">Category:Prototype-based programming languages</a> <a href="Category:Register-based_virtual_machines" title="wikilink">Category:Register-based virtual machines</a> <a href="Category:Scripting_languages" title="wikilink">Category:Scripting languages</a> <a href="Category:Software_using_the_MIT_license" title="wikilink">Category:Software using the MIT license</a></p>
<section class="footnotes">
<hr/>
<ol>
<li id="fn1"><a href="#fnref1">↩</a></li>
<li id="fn2"><a href="#fnref2">↩</a></li>
<li id="fn3"><a href="#fnref3">↩</a></li>
<li id="fn4"><a href="#fnref4">↩</a></li>
<li id="fn5"><a href="#fnref5">↩</a></li>
<li id="fn6"></li>
<li id="fn7"><a href="#fnref7">↩</a></li>
<li id="fn8"></li>
<li id="fn9"></li>
<li id="fn10"><a href="#fnref10">↩</a></li>
<li id="fn11"><a href="#fnref11">↩</a></li>
<li id="fn12"><a href="#fnref12">↩</a></li>
<li id="fn13"><a href="#fnref13">↩</a></li>
<li id="fn14"><a href="#fnref14">↩</a></li>
<li id="fn15"><a href="#fnref15">↩</a></li>
<li id="fn16"><a href="#fnref16">↩</a></li>
<li id="fn17"></li>
<li id="fn18"><a href="#fnref18">↩</a></li>
<li id="fn19"><a href="#fnref19">↩</a></li>
<li id="fn20"><a href="#fnref20">↩</a></li>
<li id="fn21"><a href="#fnref21">↩</a></li>
<li id="fn22"><a href="#fnref22">↩</a></li>
<li id="fn23"><a href="#fnref23">↩</a></li>
<li id="fn24"><a href="#fnref24">↩</a></li>
<li id="fn25"><a href="#fnref25">↩</a></li>
<li id="fn26"><a href="#fnref26">↩</a></li>
<li id="fn27"><a href="#fnref27">↩</a></li>
<li id="fn28"><a href="#fnref28">↩</a></li>
<li id="fn29"><a href="#fnref29">↩</a></li>
<li id="fn30"><a href="Wikipedia:Wikipedia_Signpost/2012-01-30/Technology_report" title="wikilink">Technology report</a>, <em><a href="Wikipedia:Wikipedia_Signpost" title="wikilink">Wikipedia Signpost</a></em> (30 January 2012)<a href="#fnref30">↩</a></li>
<li id="fn31"><a href="#fnref31">↩</a></li>
<li id="fn32"><a href="#fnref32">↩</a></li>
<li id="fn33"><a href="#fnref33">↩</a></li>
<li id="fn34"><a href="#fnref34">↩</a></li>
<li id="fn35"><a href="#fnref35">↩</a></li>
<li id="fn36"><a href="#fnref36">↩</a></li>
<li id="fn37"><a href="#fnref37">↩</a></li>
<li id="fn38"><a href="#fnref38">↩</a></li>
<li id="fn39"><a href="#fnref39">↩</a></li>
<li id="fn40"><a href="#fnref40">↩</a></li>
<li id="fn41"><a href="#fnref41">↩</a></li>
<li id="fn42"><a href="#fnref42">↩</a></li>
</ol>
</section>


