<html lang="en">
<head>
<meta charset="utf-8"/>
<title offset="764">Shuffling</title>
<script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_SVG.js" type="text/javascript">
</script>
</head>
<body>
<h1>Shuffling</h1>
<hr/>

<p><strong>Shuffling</strong> is a procedure used to <a href="randomization" title="wikilink">randomize</a> a deck of <a href="playing_card" title="wikilink">playing cards</a> to provide an element of chance in <a href="card_game" title="wikilink">card games</a>. Shuffling is often followed by a <a href="cut_(cards)" title="wikilink">cut</a>, to help ensure that the shuffler has not manipulated the outcome.</p>

<p>__TOC__</p>
<h2 id="shuffling-techniques">Shuffling techniques</h2>
<h3 id="overhand-shuffle">Overhand shuffle</h3>

<p>One of the easiest shuffles to accomplish, the <strong>overhand</strong> or <strong>stripping shuffle</strong> is essentially a series of <a href="cut_(cards)" title="wikilink">cuts</a>. A group of cards on the bottom (or top) of the deck grasped between the thumb on one side and fingers on the other, lifted sideways out of the deck, and then placed on the top (or bottom). This process is repeated multiple times with random selections of cards in order to randomize them.<a class="footnoteRef" href="#fn1" id="fnref1"><sup>1</sup></a></p>

<p>The overhand shuffle offers sufficient opportunity for <a href="sleight_of_hand" title="wikilink">sleight of hand</a> techniques to be used to affect the ordering of cards, creating a stacked deck. The most common way that players cheat with the overhand shuffle is by having a card at the top or bottom of the pack that they require, and then slipping it to the bottom at the start of a shuffle (if it was on top to start), or leaving it as the last card in a shuffle and just dropping it on top (if it was originally on the bottom of the deck).</p>
<h3 id="riffle">Riffle</h3>

<p>  A common shuffling technique is called the <em>riffle</em> or <em>dovetail</em> shuffle, in which half of the deck is held in each hand with the thumbs inward, then cards are released by the thumbs so that they fall to the table interleaved. Many also lift the cards up after a riffle, forming what is called a bridge which puts the cards back into place. This can also be done by placing the halves flat on the table with their rear corners touching, then lifting the back edges with the thumbs while pushing the halves together. While this method is more difficult, it is often used in <a href="casino" title="wikilink">casinos</a> because it minimizes the risk of exposing cards during the shuffle. There are two types of perfect riffle shuffles: if the top card moves to be second from the top then it is an <a href="in_shuffle" title="wikilink">in shuffle</a>, otherwise it is known as an <a href="out_shuffle" title="wikilink">out shuffle</a> (which preserves both the top and bottom cards).</p>

<p>Riffle shuffling does, however, carry a risk of damaging cards from excessive bending. Casinos replace their <a href="playing_cards" title="wikilink">playing cards</a> often to prevent players from gaining an advantage by detecting deformations in the cards. However, <a href="collectible_card_game" title="wikilink">collectible card game</a> cards are considerably less replaceable than playing cards, and CCG cards can be damaged from riffle shuffling, even when protected with <a href="card_sleeves" title="wikilink">card sleeves</a>.</p>

<p>The <a href="Gilbert–Shannon–Reeds_model" title="wikilink">Gilbert–Shannon–Reeds model</a> provides a mathematical model of the random outcomes of riffling, that has been shown experimentally to be a good fit to human shuffling<a class="footnoteRef" href="#fn2" id="fnref2"><sup>2</sup></a> and that forms the basis for a recommendation that card decks be riffled seven times in order to thoroughly randomize them.<a class="footnoteRef" href="#fn3" id="fnref3"><sup>3</sup></a></p>
<h3 id="hindu-shuffle">Hindu shuffle</h3>

<p>Also known as the "Indian", "Kattar", "Kenchi" or "Kutti Shuffle" (<a class="uri" href="Hindi" title="wikilink">Hindi</a> for scissor). The deck is held face down, with the middle finger on one long edge and the thumb on the other on the bottom half of the deck. The other hand draws off a packet from the top of the deck. This packet is allowed to drop into the palm. The maneuver is repeated over and over, with newly drawn packets dropping onto previous ones, until the deck is all in the second hand. Indian shuffle differs from stripping in that all the action is in the hand <em>taking</em> the cards, whereas in stripping, the action is performed by the hand with the original deck, <em>giving</em> the cards to the resulting pile. This is the most common shuffling technique in Asia and other parts of the world, while the overhand shuffle is primarily used in Western countries.</p>
<h3 id="pile-shuffle">Pile shuffle</h3>

<p>Cards are simply dealt out into a number of piles, then the piles are stacked on top of each other. Though this is deterministic and does not randomize the cards at all, this ensures that cards that were next to each other are now separated. For any number of piles, the right number of repetitions will bring the deck back to its original state. Some variations on the pile shuffle attempt to make it slightly random by dealing to the piles in a random order each circuit.</p>
<h3 id="corgi-shuffle">Corgi shuffle</h3>

<p>Also known as the Chemmy, Irish, scramble, beginner shuffle, or washing the cards, this involves simply spreading the cards out face down, and sliding them around and over each other with one's hands. Then the cards are moved into one pile so that they begin to intertwine and are then arranged back into a stack. This method is useful for beginners and small children or if one is inept at shuffling cards. However, the beginner shuffle requires a large surface for spreading out the cards and takes longer than the other methods.</p>
<h3 id="mongean-shuffle">Mongean shuffle</h3>

<p>The Mongean shuffle, or Monge's shuffle, is performed as follows (by a right-handed person): Start with the unshuffled deck in the left hand and transfer the top card to the right. Then repeatedly take the top card from the left hand and transfer it to the right, putting the second card at the top of the new deck, the third at the bottom, the fourth at the top, the fifth at the bottom, etc. The result, if one started with cards numbered consecutively 

<math display="inline" id="Shuffling:0">
 <semantics>
  <mrow>
   <mn>1</mn>
   <mo>,</mo>
   <mn>2</mn>
   <mo>,</mo>
   <mn>3</mn>
   <mo>,</mo>
   <mn>4</mn>
   <mo>,</mo>
   <mn>5</mn>
   <mo>,</mo>
   <mn>6</mn>
   <mo>,</mo>
   <mi mathvariant="normal">…</mi>
   <mo>,</mo>
   <mrow>
    <mn>2</mn>
    <mi>n</mi>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <list>
    <cn type="integer">1</cn>
    <cn type="integer">2</cn>
    <cn type="integer">3</cn>
    <cn type="integer">4</cn>
    <cn type="integer">5</cn>
    <cn type="integer">6</cn>
    <ci>normal-…</ci>
    <apply>
     <times></times>
     <cn type="integer">2</cn>
     <ci>n</ci>
    </apply>
   </list>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \scriptstyle 1,2,3,4,5,6,\dots,2n
  </annotation>
 </semantics>
</math>

, would be a deck with the cards in the following order

<math display="block" id="Shuffling:1">
 <semantics>
  <mrow>
   <mrow>
    <mn>2</mn>
    <mi>n</mi>
   </mrow>
   <mo>,</mo>
   <mrow>
    <mrow>
     <mn>2</mn>
     <mi>n</mi>
    </mrow>
    <mo>-</mo>
    <mn>2</mn>
   </mrow>
   <mo>,</mo>
   <mrow>
    <mrow>
     <mn>2</mn>
     <mi>n</mi>
    </mrow>
    <mo>-</mo>
    <mn>4</mn>
   </mrow>
   <mo>,</mo>
   <mi mathvariant="normal">…</mi>
   <mo>,</mo>
   <mn>4</mn>
   <mo>,</mo>
   <mn>2</mn>
   <mo>,</mo>
   <mn>1</mn>
   <mo>,</mo>
   <mn>3</mn>
   <mo>,</mo>
   <mi mathvariant="normal">…</mi>
   <mo>,</mo>
   <mrow>
    <mrow>
     <mn>2</mn>
     <mi>n</mi>
    </mrow>
    <mo>-</mo>
    <mn>3</mn>
   </mrow>
   <mo>,</mo>
   <mrow>
    <mrow>
     <mn>2</mn>
     <mi>n</mi>
    </mrow>
    <mo>-</mo>
    <mn>1</mn>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <list>
    <apply>
     <times></times>
     <cn type="integer">2</cn>
     <ci>n</ci>
    </apply>
    <apply>
     <minus></minus>
     <apply>
      <times></times>
      <cn type="integer">2</cn>
      <ci>n</ci>
     </apply>
     <cn type="integer">2</cn>
    </apply>
    <apply>
     <minus></minus>
     <apply>
      <times></times>
      <cn type="integer">2</cn>
      <ci>n</ci>
     </apply>
     <cn type="integer">4</cn>
    </apply>
    <ci>normal-…</ci>
    <cn type="integer">4</cn>
    <cn type="integer">2</cn>
    <cn type="integer">1</cn>
    <cn type="integer">3</cn>
    <ci>normal-…</ci>
    <apply>
     <minus></minus>
     <apply>
      <times></times>
      <cn type="integer">2</cn>
      <ci>n</ci>
     </apply>
     <cn type="integer">3</cn>
    </apply>
    <apply>
     <minus></minus>
     <apply>
      <times></times>
      <cn type="integer">2</cn>
      <ci>n</ci>
     </apply>
     <cn type="integer">1</cn>
    </apply>
   </list>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \scriptstyle 2n,2n-2,2n-4,\dots,4,2,1,3,\dots,2n-3,2n-1
  </annotation>
 </semantics>
</math>

.</p>

<p>For a deck of given size, the number of Mongean shuffles that it takes to return a deck to starting position, is known . Twelve perfect Mongean shuffles restore a 52-card deck.</p>
<h3 id="weave-and-faro-shuffles">Weave and Faro shuffles</h3>

<p><em>Weaving</em> is the procedure of pushing the ends of two halves of a deck against each other in such a way that they naturally intertwine. Sometimes the deck is split into equal halves of 26 cards which are then pushed together in a certain way so as to make them perfectly interweave. This is known as a <em>Faro Shuffle</em>.</p>

<p>The <a href="faro_shuffle" title="wikilink">faro shuffle</a> is performed by cutting the deck into two, preferably equal, packs in both hands as follows (right-handed): The cards are held from above in the right and from below in the left hand. Separation of the deck is done simply lifting up half the cards with the right hand thumb slightly and pushing the left hand's packet forward away from the right hand. The two packets are often crossed and slammed into each other as to align them. They are then pushed together by the short sides and bent (either up or down). The cards then alternately fall into each other, much like a <a class="uri" href="zipper" title="wikilink">zipper</a>. A flourish can be added by springing the packets together by applying pressure and bending them from above. The faro is a controlled shuffle which does not randomize a deck when performed properly.</p>

<p>A perfect faro shuffle, where the cards are perfectly alternated, is considered one of the most difficult sleights by card magicians, simply because it requires the shuffler to be able to cut the deck into two equal packets and apply just the right amount of pressure when pushing the cards into each other. Performing eight perfect faro shuffles in a row restores the order of the deck to the original order only if there are 52 cards in the deck and if the original top and bottom cards remain in their positions (1st and 52nd) during the eight shuffles. If the top and bottom cards are weaved in during each shuffle, it takes 52 shuffles to return the deck back into original order (or 26 shuffles to reverse the order).</p>
<h3 id="mexican-spiral-shuffle">Mexican spiral shuffle</h3>

<p>The Mexican spiral shuffle is performed by cyclic actions of moving the top card onto the table, then the new top card under the deck, the next onto the table, next under the deck, and so on until the last card is dealt onto the table. It takes quite a long time, compared with riffle or overhand shuffles, but allows other players to fully control cards which are on the table. The Mexican spiral shuffle was popular at the end of the 19th century in some areas of <a class="uri" href="Mexico" title="wikilink">Mexico</a> as a protection from gamblers and con men arriving from the United States.</p>
<h2 id="false-shuffles">False shuffles</h2>

<p><a href="Magician_(illusion)" title="wikilink">Magicians</a>, <a href="sleight-of-hand" title="wikilink">sleight-of-hand artists</a>, and <a href="Card_sharp" title="wikilink">card cheats</a> employ various methods of shuffling whereby the deck appears to have been shuffled fairly, when in reality one or more cards (up to and including the entire deck) stays in the same position. It is also possible, though generally considered very difficult, to "stack the deck" (place cards into a desirable order) by means of one or more riffle shuffles; this is called "riffle stacking".</p>

<p>Both performance magicians and card sharps regard the <a href="Zarrow_shuffle" title="wikilink">Zarrow shuffle</a> as a particularly effective example of the false shuffle. In this shuffle, the entire deck remains in its original order, although spectators think they see an honest riffle shuffle.<a class="footnoteRef" href="#fn4" id="fnref4"><sup>4</sup></a></p>
<h2 id="shuffling-machines">Shuffling machines</h2>

<p><a href="Casino" title="wikilink">Casinos</a> often equip their tables with <a href="shuffling_machine" title="wikilink">shuffling machines</a> instead of having <a href="croupier" title="wikilink">croupiers</a> shuffle the cards, as it gives the casino a few advantages, including an increased complexity to the shuffle and therefore an increased difficulty for players to make predictions, even if they're collaborating with croupiers. The shuffling machines are carefully designed to avoid biasing the shuffle and are typically computer-controlled. Shuffling machines also save time that would otherwise be wasted on manual shuffling, thereby increasing the profitability of the table. These machines are also used to lessen repetitive-motion-stress injuries to a dealer.</p>

<p>Players with superstitions often regard with suspicion any electronic equipment, so casinos sometimes still have the croupiers perform the shuffling at tables that typically attract those crowds (<a href="Baccarat_(card_game)" title="wikilink">Baccarat</a> tables).</p>
<h2 id="randomization">Randomization</h2>

<p>There are exactly 52 <a class="uri" href="factorial" title="wikilink">factorial</a> (expressed in shorthand as 52<a href="factorial" title="wikilink">!</a>) possible orderings of the cards in a <a href="52-card_deck" title="wikilink">52-card deck</a>. In other words, there are 52 × 51 × 50 × 49 × ··· × 4 × 3 × 2 × 1 possible combinations of card sequence. This is approximately 8

<math display="inline" id="Shuffling:2">
 <semantics>
  <mrow>
   <mi></mi>
   <mo>×</mo>
   <mrow>
    <msup>
     <mn>10</mn>
     <mn>6</mn>
    </msup>
    <mn>7</mn>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <times></times>
    <csymbol cd="latexml">absent</csymbol>
    <apply>
     <times></times>
     <apply>
      <csymbol cd="ambiguous">superscript</csymbol>
      <cn type="integer">10</cn>
      <cn type="integer">6</cn>
     </apply>
     <cn type="integer">7</cn>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   \times 10^{6}7
  </annotation>
 </semantics>
</math>

 possible orderings or specifically 80,658,175,170,943,878,571,660,636,856,403,766,975,289,505,440,883,277,824,000,000,000,000. The <a href="Orders_of_magnitude_(numbers)#1042_to_10100" title="wikilink">magnitude of this number</a> means that it is exceedingly improbable that two randomly selected, truly randomized decks will be the same. However, while the exact sequence of all cards in a randomized deck is unpredictable, it may be possible to make some probabilistic predictions about a deck that is not sufficiently randomized.</p>
<h3 id="sufficient-number-of-shuffles">Sufficient number of shuffles</h3>

<p>The number of shuffles which are sufficient for a "good" level of randomness is a fundamental question, and the answer depends on the type of shuffle and the measure of "good enough randomness", which in turn depends on the game in question. Broadly, for most games, four to seven good riffle shuffles (GRS) are both necessary and sufficient: for <a href="suit_(cards)" title="wikilink">unsuited</a> games such as <a class="uri" href="blackjack" title="wikilink">blackjack</a>, four GRSs are sufficient, while for suited games with strict conditions on randomness, seven GRSs are necessary. There are some games, however, for which even seven GRSs are insufficient.<a class="footnoteRef" href="#fn5" id="fnref5"><sup>5</sup></a></p>

<p>In practice the number of shuffles required depends both on the quality of the shuffle and how significant non-randomness is, particularly how good the people playing are at noticing and using non-randomness. Two to four shuffles is good enough for casual play. But in club play, good <a href="contract_bridge" title="wikilink">bridge</a> players take advantage of non-randomness after four shuffles,<a class="footnoteRef" href="#fn6" id="fnref6"><sup>6</sup></a> and top blackjack players supposedly track aces through the deck; this is known as "ace tracking", or more generally, as "<a href="shuffle_track" title="wikilink">shuffle tracking</a>".</p>
<h3 id="research">Research</h3>

<p>Following early research at <a href="Bell_Labs" title="wikilink">Bell Labs</a>, which was abandoned in 1955, the question of how many shuffles was required remained open until 1990, when it was convincingly solved as <em>seven shuffles,</em> as elaborated below.<a class="footnoteRef" href="#fn7" id="fnref7"><sup>7</sup></a> Some results preceded this, and refinements have continued since.</p>

<p>A leading figure in the mathematics of shuffling is <a class="uri" href="mathematician" title="wikilink">mathematician</a> and <a href="stage_magic" title="wikilink">magician</a> <a href="Persi_Diaconis" title="wikilink">Persi Diaconis</a>, who began studying the question around 1970,<a class="footnoteRef" href="#fn8" id="fnref8"><sup>8</sup></a> and has authored many papers in the 1980s, 1990s, and 2000s on the subject with numerous co-authors. Most famous is , co-authored with mathematician <a href="Dave_Bayer" title="wikilink">Dave Bayer</a>, which analyzed the <a href="Gilbert–Shannon–Reeds_model" title="wikilink">Gilbert–Shannon–Reeds model</a> of random riffle shuffling and concluded that the deck did not start to become random until five good riffle shuffles, and was truly random after seven, in the precise sense of variation distance described in <a href="Markov_chain_mixing_time" title="wikilink">Markov chain mixing time</a>; of course, you would need more shuffles if your shuffling technique is poor.<a class="footnoteRef" href="#fn9" id="fnref9"><sup>9</sup></a> Recently, the work of Trefethen et al. has questioned some of Diaconis' results, concluding that six shuffles are enough.<a class="footnoteRef" href="#fn10" id="fnref10"><sup>10</sup></a> The difference hinges on how each measured the randomness of the deck. Diaconis used a very sensitive test of randomness, and therefore needed to shuffle more. Even more sensitive measures exist, and the question of what measure is best for specific card games is still open. Diaconis released a response indicating that you only need four shuffles for un-suited games such as <a class="uri" href="blackjack" title="wikilink">blackjack</a>.<a class="footnoteRef" href="#fn11" id="fnref11"><sup>11</sup></a><a class="footnoteRef" href="#fn12" id="fnref12"><sup>12</sup></a></p>

<p>On the other hand, variation distance may be too forgiving a measure and seven riffle shuffles may be many too few. For example, seven shuffles of a new deck leaves an 81% probability of winning New Age Solitaire where the probability is 50% with a uniform random deck.<a class="footnoteRef" href="#fn13" id="fnref13"><sup>13</sup></a><a class="footnoteRef" href="#fn14" id="fnref14"><sup>14</sup></a> One sensitive test for randomness uses a standard deck without the <a href="joker_(playing_card)" title="wikilink">jokers</a> divided into suits with two suits in ascending order from ace to king, and the other two suits in reverse. (Many decks already come ordered this way when new.) After shuffling, the measure of randomness is the number of rising sequences that are left in each suit.<a class="footnoteRef" href="#fn15" id="fnref15"><sup>15</sup></a></p>
<h2 id="shuffling-algorithms">Shuffling algorithms</h2>

<p>If a computer has access to purely random numbers, it is capable of generating a "perfect shuffle", a <a href="random_permutation" title="wikilink">random permutation</a> of the cards; beware that this terminology (an algorithm that perfectly randomizes the deck) differs from "a perfectly executed single shuffle", notably a perfectly interleaving <a href="faro_shuffle" title="wikilink">faro shuffle</a>. The <a href="Fisher–Yates_shuffle" title="wikilink">Fisher–Yates shuffle</a>, popularized by <a href="Donald_Knuth" title="wikilink">Donald Knuth</a>, is simple (a few lines of code) and efficient (<a href="big_O_notation" title="wikilink">O</a>(<em>n</em>) on an <em>n</em>-card deck, assuming constant time for fundamental steps) algorithm for doing this. Shuffling can be seen as the opposite of <a href="sorting_algorithm" title="wikilink">sorting</a>.</p>

<p>There are other, less-desirable algorithms in common use. For example, one can assign a random number to each card, and then sort the cards in order of their random numbers. This will generate a random permutation, unless any of the random numbers generated are the same as any others (i.e. pairs, triplets etc.). This can be eliminated either by adjusting one of the pair's values randomly up or down by a small amount, or reduced to an arbitrarily low probability by choosing a sufficiently wide range of random number choices. If using efficient sorting such as <a class="uri" href="mergesort" title="wikilink">mergesort</a> or <a class="uri" href="heapsort" title="wikilink">heapsort</a> this is an <a href="big_O_notation" title="wikilink">O</a>(<em>n</em> log <em>n</em>) average and worst-case algorithm.</p>
<h3 id="in-online-gambling">In online gambling</h3>

<p>These issues are of considerable commercial importance in <a href="online_gambling" title="wikilink">online gambling</a>, where the randomness of the shuffling of packs of simulated cards for online card games is crucial. For this reason, many online gambling sites provide descriptions of their shuffling algorithms and the sources of randomness used to drive these algorithms, with some gambling sites also providing auditors' reports of the performance of their systems.</p>
<h2 id="see-also">See also</h2>
<ul>
<li><a href="Card_manipulation" title="wikilink">Card manipulation</a></li>
<li><a href="Mental_poker" title="wikilink">Mental poker</a></li>
<li><a href="Solitaire_(cipher)" title="wikilink">Solitaire (cipher)</a></li>
</ul>
<h2 id="references">References</h2>
<ul>
<li></li>
<li></li>
<li></li>
<li></li>
<li></li>
<li></li>
<li></li>
<li></li>
</ul>
<h3 id="footnotes">Footnotes</h3>
<h2 id="external-links">External links</h2>

<p>Physical card shuffling:</p>
<ul>
<li><a href="http://www.pokerology.com/articles/howtoshuffle.htm">Illustrated guide to several shuffling methods</a></li>
<li><a href="http://www.stackview.com">Magicians tool with lots of shuffling simulation</a></li>
</ul>

<p>Mathematics of shuffling:</p>
<ul>
<li><a href="http://crystalpoker.net/securityreview.php">Real World Shuffling In Practice</a></li>
<li><a href="http://mathworld.wolfram.com/Shuffle.html">Shuffle - MathWorld - Wolfram Research</a></li>
<li>Ivars Peterson's MathTrek: <a href="http://www.maa.org/mathland/mathtrek_11_18_02.html">Card Shuffling Shenanigans</a></li>
</ul>

<p>Real world (historical) application:</p>
<ul>
<li><a href="http://www.cigital.com/papers/download/developer_gambling.php">How We Learned to Cheat at Online Poker: A Study in Software Security</a></li>
</ul>

<p>"</p>

<p><a href="Category:Card_game_terminology" title="wikilink">Category:Card game terminology</a> <a href="Category:Card_shuffling" title="wikilink">Category:Card shuffling</a></p>
<section class="footnotes">
<hr/>
<ol>
<li id="fn1"><a href="http://arxiv.org/pdf/math/0501401.pdf">The Overhand Shuffle Mixes in Θ(N2 logN) Steps</a><a href="#fnref1">↩</a></li>
<li id="fn2">.<a href="#fnref2">↩</a></li>
<li id="fn3">.<a href="#fnref3">↩</a></li>
<li id="fn4"><a href="#fnref4">↩</a></li>
<li id="fn5"><a href="#fnref5">↩</a></li>
<li id="fn6"></li>
<li id="fn7"></li>
<li id="fn8"></li>
<li id="fn9"><a href="#fnref9">↩</a></li>
<li id="fn10"><a href="#fnref10">↩</a></li>
<li id="fn11"><a href="#fnref11">↩</a></li>
<li id="fn12"><a href="#fnref12">↩</a></li>
<li id="fn13"></li>
<li id="fn14"><a href="#fnref14">↩</a></li>
<li id="fn15"></li>
</ol>
</section>
</body>
</html>
