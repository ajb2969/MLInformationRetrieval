<html lang="en">
<head>
<meta charset="utf-8"/>
<title offset="934">Sprouts (game)</title>
<script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_SVG.js" type="text/javascript">
</script>
</head>
<body>
<h1>Sprouts (game)</h1>
<hr/>

<p> <strong>Sprouts</strong> is a <a href="pencil-and-paper_game" title="wikilink">pencil-and-paper game</a> with significant <a href="mathematics" title="wikilink">mathematical</a> properties. It was invented by <a href="mathematician" title="wikilink">mathematicians</a> <a href="John_Horton_Conway" title="wikilink">John Horton Conway</a> and <a href="Michael_S._Paterson" title="wikilink">Michael S. Paterson</a> at <a href="University_of_Cambridge" title="wikilink">Cambridge University</a> in the early 1960s.</p>
<h2 id="rules">Rules</h2>

<p>The game is played by two players, starting with a few spots drawn on a sheet of paper. Players take turns, where each turn consists of drawing a line between two spots (or from a spot to itself) and adding a new spot somewhere along the line. The players are constrained by the following rules.</p>
<ul>
<li>The line may be straight or curved, but must not touch or cross itself or any other line.</li>
<li>The new spot cannot be placed on top of one of the endpoints of the new line. Thus the new spot splits the line into two shorter lines.</li>
<li>No spot may have more than three lines attached to it. For the purposes of this rule, a line from the spot to itself counts as two attached lines and new spots are counted as having two lines already attached to them.</li>
</ul>

<p>In so-called <em><a href="misère" title="wikilink">normal</a> play</em>, the player who makes the last move wins. In <em><a class="uri" href="misère" title="wikilink">misère</a> play</em>, the player who makes the last move <strong>loses</strong>. (Misère Sprouts is perhaps the only misère combinatorial game that is played competitively in an organized forum.<a class="footnoteRef" href="#fn1" id="fnref1"><sup>1</sup></a>) The diagram on the right shows a 2-spot game of normal-play Sprouts. After the fourth move, most of the spots are <em>dead</em>–they have three lines attached to them, so they cannot be used as endpoints for a new line. There are two spots (shown in green) that are still <em>alive</em>, having fewer than three lines attached. However, it is impossible to make another move, because a line from a live spot to itself would make four attachments, and a line from one live spot to the other would cross lines. Therefore, no fifth move is possible, and the first player loses. Live spots at the end of the game are called <em>survivors</em> and play a key role in the analysis of Sprouts.</p>
<h2 id="number-of-moves">Number of moves</h2>

<p>It is not evident from the rules of Sprouts that the game always terminates, since the number of spots increase at each move. The correct approach is to consider the number of <em>lives</em> (opportunities to connect a line) instead of the number of spots. Then, we can show that if the game starts with <em>n</em> spots, it will end in no more than 3<em>n</em>−1 moves and no fewer than 2<em>n</em> moves.</p>

<p>In the following proofs, we suppose that a game starts with <em>n</em> spots and lasts for exactly <em>m</em> moves.</p>
<h3 id="maximum-number-of-moves">Maximum number of moves</h3>
<figure><b>(Figure)</b>
<figcaption>A game of sprouts with <em>n</em> initial spots (in blue) that ends in 3<em>n</em>−1 moves</figcaption>
</figure>

<p>Each spot starts with three <em>lives</em> and each move reduces the total number of lives in the game by one (two lives are lost at the ends of the line, but the new spot has one life). So at the end of the game there are 3<em>n</em>−<em>m</em> remaining lives. Each surviving spot has only one life (otherwise there would be another move joining that spot to itself), so there are exactly 3<em>n</em>−<em>m</em> survivors. There must be at least one survivor, namely the spot added in the final move. So 3<em>n</em>−<em>m</em> ≥ 1; hence a game can last no more than 3<em>n</em>−1 moves.</p>

<p>This upper bound is actually the maximum, and it can be attained in many ways by ensuring that there is only one survivor at the end of the game. For instance, the game on the right has one survivor and 3<em>n</em>−1 moves.</p>

<p><a href="Image:Sprouts-analysis.png" title="wikilink">right|framed|Live spots (green) and their dead neighbors (black).</a></p>
<h3 id="minimum-number-of-moves">Minimum number of moves</h3>

<p>At the end of the game each survivor has exactly two dead <em>neighbors</em>, in a technical sense of "neighbor", <em>different from the ordinary graph notion of adjacency</em>; see the diagram on the right. No dead spot can be the neighbor of two different survivors, for otherwise there would be a move joining the survivors. All other dead spots (not neighbors of a survivor) are called <em>pharisees</em> (from the <a href="Hebrew_language" title="wikilink">Hebrew</a> for "<a href="Pharisees" title="wikilink">separated ones</a>"). Suppose there are <em>p</em> pharisees. Then</p>

<p>

<math display="block" id="Sprouts_(game):0">
 <semantics>
  <mrow>
   <mrow>
    <mi>n</mi>
    <mo>+</mo>
    <mi>m</mi>
   </mrow>
   <mo>=</mo>
   <mrow>
    <mrow>
     <mrow>
      <mn>3</mn>
      <mi>n</mi>
     </mrow>
     <mo>-</mo>
     <mi>m</mi>
    </mrow>
    <mo>+</mo>
    <mrow>
     <mn>2</mn>
     <mrow>
      <mo stretchy="false">(</mo>
      <mrow>
       <mrow>
        <mn>3</mn>
        <mi>n</mi>
       </mrow>
       <mo>-</mo>
       <mi>m</mi>
      </mrow>
      <mo stretchy="false">)</mo>
     </mrow>
    </mrow>
    <mo>+</mo>
    <mi>p</mi>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <apply>
     <plus></plus>
     <ci>n</ci>
     <ci>m</ci>
    </apply>
    <apply>
     <plus></plus>
     <apply>
      <minus></minus>
      <apply>
       <times></times>
       <cn type="integer">3</cn>
       <ci>n</ci>
      </apply>
      <ci>m</ci>
     </apply>
     <apply>
      <times></times>
      <cn type="integer">2</cn>
      <apply>
       <minus></minus>
       <apply>
        <times></times>
        <cn type="integer">3</cn>
        <ci>n</ci>
       </apply>
       <ci>m</ci>
      </apply>
     </apply>
     <ci>p</ci>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   n+m=3n-m+2(3n-m)+p
  </annotation>
 </semantics>
</math>

</p>

<p>since initial spots + moves = total spots at end of game = survivors + neighbors + pharisees. Rearranging gives:</p>

<p>

<math display="block" id="Sprouts_(game):1">
 <semantics>
  <mrow>
   <mi>m</mi>
   <mo>=</mo>
   <mrow>
    <mrow>
     <mn>2</mn>
     <mi>n</mi>
    </mrow>
    <mo>+</mo>
    <mrow>
     <mi>p</mi>
     <mo>/</mo>
     <mn>4</mn>
    </mrow>
   </mrow>
  </mrow>
  <annotation-xml encoding="MathML-Content">
   <apply>
    <eq></eq>
    <ci>m</ci>
    <apply>
     <plus></plus>
     <apply>
      <times></times>
      <cn type="integer">2</cn>
      <ci>n</ci>
     </apply>
     <apply>
      <divide></divide>
      <ci>p</ci>
      <cn type="integer">4</cn>
     </apply>
    </apply>
   </apply>
  </annotation-xml>
  <annotation encoding="application/x-tex">
   m=2n+p/4
  </annotation>
 </semantics>
</math>

</p>

<p>So a game lasts for at least 2<em>n</em> moves, and the number of pharisees is divisible by 4.</p>

<p> This lower bound on the length of a game is actually the minimum. The diagram on the right shows a completed game of 2<em>n</em> moves. It has <em>n</em> survivors, 2<em>n</em> neighbors and 0 pharisees.</p>
<h3 id="importance-in-real-games">Importance in real games</h3>

<p>Real games seem to turn into a battle over whether the number of moves will be <em>k</em> or <em>k</em>+1 (for some <em>k</em>, depending on the early moves in the game) with other possibilities being quite unlikely. <a class="footnoteRef" href="#fn2" id="fnref2"><sup>2</sup></a> One player tries to create enclosed regions containing survivors (thus reducing the total number of moves that will be played) and the other tries to create pharisees (thus increasing the number of moves that will be played).</p>
<h2 id="who-has-the-win">Who has the win?</h2>

<p>Since Sprouts is a finite game where no draw is possible, a perfect strategy exists either for the first or the second player, depending on the number of initial spots. The main question about a given starting position is then to determine which player can force a win if he plays perfectly.</p>

<p>When the winning strategy is for the first player, it is said that the <em>outcome</em> of the position is a "win", and when the winning strategy is for the second player, it is said that the outcome of the position is a "loss" (because it is a loss from the point of view of the first player).</p>

<p>The outcome is determined by developing the <a href="game_tree" title="wikilink">game tree</a> of the starting position. This can be done by hand only for a small number of spots, and all the new results since 1990 have been obtained by extensive search with computers.</p>
<h3 id="normal-version">Normal version</h3>

<p><a href="Winning_Ways_for_your_Mathematical_Plays" title="wikilink">Winning Ways for your Mathematical Plays</a> reports that the 6-spot normal game was proved to be a win for the second player by Denis Mollison, with a hand-made analysis of 47 pages. It stood as the record for a long time, until the first computer analysis, which was done at <a href="Carnegie_Mellon_University" title="wikilink">Carnegie Mellon University</a>, in 1990, by <a href="David_Applegate" title="wikilink">David Applegate</a>, <a href="Guy_Jacobson" title="wikilink">Guy Jacobson</a>, and <a href="Daniel_Sleator" title="wikilink">Daniel Sleator</a>.<a class="footnoteRef" href="#fn3" id="fnref3"><sup>3</sup></a> They reached up to 11 spots with some of the best hardware available at the time.</p>

<p>Applegate, Jacobson and Sleator observed a pattern in their results, and conjectured that the first player has a winning strategy when the number of spots divided by six leaves a remainder of three, four, or five. This is a mathematical way of saying that the pattern displayed by the outcome in the table below repeats itself indefinitely, with a period of six spots.</p>
<table>
<tbody>
<tr class="odd">
<td style="text-align: left;">
<p><strong>Spots</strong></p></td>
<td style="text-align: left;">
<p>1</p></td>
<td style="text-align: left;">
<p>2</p></td>
<td style="text-align: left;">
<p>3</p></td>
<td style="text-align: left;">
<p>4</p></td>
<td style="text-align: left;">
<p>5</p></td>
<td style="text-align: left;">
<p>6</p></td>
<td style="text-align: left;">
<p>7</p></td>
<td style="text-align: left;">
<p>8</p></td>
<td style="text-align: left;">
<p>9</p></td>
<td style="text-align: left;">
<p>10</p></td>
<td style="text-align: left;">
<p>11</p></td>
<td style="text-align: left;">
<p>...</p></td>
</tr>
<tr class="even">
<td style="text-align: left;">
<p><strong>Normal Outcome</strong></p></td>
<td style="text-align: left;">
<p>Loss</p></td>
<td style="text-align: left;">
<p>Loss</p></td>
<td style="text-align: left;">
<p>Win</p></td>
<td style="text-align: left;">
<p>Win</p></td>
<td style="text-align: left;">
<p>Win</p></td>
<td style="text-align: left;">
<p>Loss</p></td>
<td style="text-align: left;">
<p>Loss</p></td>
<td style="text-align: left;">
<p>Loss</p></td>
<td style="text-align: left;">
<p>Win</p></td>
<td style="text-align: left;">
<p>Win</p></td>
<td style="text-align: left;">
<p>Win</p></td>
<td style="text-align: left;">
<p>...</p></td>
</tr>
</tbody>
</table>

<p>In 2001, Riccardo Focardi and Flamina Luccio described a method to prove by hand that the normal 7-spot game is a Loss.<a class="footnoteRef" href="#fn4" id="fnref4"><sup>4</sup></a></p>

<p>Then, the computation results were extended in 2006 by Josh Jordan up to 14 spots. In 2007, Julien Lemoine and Simon Viennot introduced an algorithm based on the concept of <a href="nimber" title="wikilink">nimbers</a> to accelerate the computation, reaching up to 32 spots.<a class="footnoteRef" href="#fn5" id="fnref5"><sup>5</sup></a> They have extended the computation up to 44 spots in 2011, and three isolated starting positions, with 46, 47 and 53 spots.<a class="footnoteRef" href="#fn6" id="fnref6"><sup>6</sup></a></p>

<p>The normal-play results so far are all consistent with the conjecture of Applegate, Jacobson and Sleator.</p>
<h3 id="misère-version">Misère version</h3>

<p>The computation history of the misère version of Sprouts is very similar to that of the normal version, with the same people involved. However, the misère version is more difficult to compute, and progress has been significantly slower.</p>

<p>In 1990, Applegate, Jacobson and Sleator reached up to nine spots. Based on their results, they conjectured that the outcome follows a regular pattern of period five. However, this conjecture was invalidated in 2007 when Josh Jordan and Roman Khorkov extended the misère analysis up to 12 spots : the 12-spot misère game is a win, and not the conjectured loss. The same team reached up to 16 spots in 2009.<a class="footnoteRef" href="#fn7" id="fnref7"><sup>7</sup></a> The same year, Julien Lemoine and Simon Viennot reached 17 spots with complicated algorithms.<a class="footnoteRef" href="#fn8" id="fnref8"><sup>8</sup></a> They were able to extend their analysis up to 20 points in 2011.<a class="footnoteRef" href="#fn9" id="fnref9"><sup>9</sup></a></p>

<p>The results for misère play are now conjectured to follow a pattern of length six (with some exceptional values): the first player wins in misère Sprouts when the remainder (<a href="Modulo_operation" title="wikilink">mod</a> 6) is zero, four, or five, except that the first player wins the one-spot game and loses the four-spot game. The table below shows the pattern, with the two irregular values in bold.</p>
<table>
<tbody>
<tr class="odd">
<td style="text-align: left;">
<p><strong>Spots</strong></p></td>
<td style="text-align: left;">
<p>1</p></td>
<td style="text-align: left;">
<p>2</p></td>
<td style="text-align: left;">
<p>3</p></td>
<td style="text-align: left;">
<p>4</p></td>
<td style="text-align: left;">
<p>5</p></td>
<td style="text-align: left;">
<p>6</p></td>
<td style="text-align: left;">
<p>7</p></td>
<td style="text-align: left;">
<p>8</p></td>
<td style="text-align: left;">
<p>9</p></td>
<td style="text-align: left;">
<p>10</p></td>
<td style="text-align: left;">
<p>11</p></td>
<td style="text-align: left;">
<p>12</p></td>
<td style="text-align: left;">
<p>13</p></td>
<td style="text-align: left;">
<p>14</p></td>
<td style="text-align: left;">
<p>15</p></td>
<td style="text-align: left;">
<p>...</p></td>
</tr>
<tr class="even">
<td style="text-align: left;">
<p><strong>Misère Outcome</strong></p></td>
<td style="text-align: left;">
<p><strong>Win</strong></p></td>
<td style="text-align: left;">
<p>Loss</p></td>
<td style="text-align: left;">
<p>Loss</p></td>
<td style="text-align: left;">
<p><strong>Loss</strong></p></td>
<td style="text-align: left;">
<p>Win</p></td>
<td style="text-align: left;">
<p>Win</p></td>
<td style="text-align: left;">
<p>Loss</p></td>
<td style="text-align: left;">
<p>Loss</p></td>
<td style="text-align: left;">
<p>Loss</p></td>
<td style="text-align: left;">
<p>Win</p></td>
<td style="text-align: left;">
<p>Win</p></td>
<td style="text-align: left;">
<p>Win</p></td>
<td style="text-align: left;">
<p>Loss</p></td>
<td style="text-align: left;">
<p>Loss</p></td>
<td style="text-align: left;">
<p>Loss</p></td>
<td style="text-align: left;">
<p>...</p></td>
</tr>
</tbody>
</table>
<figure><b>(Figure)</b>
<figcaption>A 2-cross game of Brussels Sprouts lasting eight moves</figcaption>
</figure>
<h2 id="brussels-sprouts">Brussels Sprouts</h2>

<p>A variant of the game, called <strong>Brussels Sprouts</strong>, starts with a number of crosses, i.e. spots with four free ends. Each move involves joining two free ends with a curve (again not crossing any existing line) and then putting a short stroke across the line to create two new free ends.</p>

<p>So each move removes two free ends and introduces two more. Despite this, the game is finite, and indeed the total number of moves is predetermined by the initial number of crosses: the players cannot affect the result by their play. With <em>n</em> initial crosses, the number of moves will be 5<em>n</em>−2, so a game starting with an odd number of crosses will be a first player win, while a game starting with an even number will be a second player win regardless of the moves.</p>

<p>To prove this (assuming that the game ends), let m denote the number of moves and v,e,f denote the number of vertices, edges, and faces of the planar graph obtained at the end of the game, respectively. We have:</p>
<ul>
<li>e = 2m since at each move, the player adds 2 edges.</li>
<li>v = n + m since at each move, the player adds one vertex and the game starts with n vertices.</li>
<li>f = 4n since there is exactly one free end in each face at the end of the game, and the number of free ends does not change during the game.</li>
</ul>

<p>The <a href="Euler_characteristic#Planar_graphs" title="wikilink">Euler characteristic for planar graphs</a> is 2, so 2 = f-e+v = 4n-2m+n+m = 5n-m, hence m = 5n-2.</p>
<h2 id="references">References</h2>

<p><strong>Bibliography</strong> </p>
<ul>
<li><a href="Elwyn_R._Berlekamp" title="wikilink">Elwyn R. Berlekamp</a>, <a href="John_Horton_Conway" title="wikilink">John Conway</a> and <a href="Richard_K._Guy" title="wikilink">Richard K. Guy</a>, <em><a href="Winning_Ways_for_your_Mathematical_Plays" title="wikilink">Winning Ways for your Mathematical Plays</a></em>, 1992.</li>
<li><a href="http://www.sciencenews.org/sn_arc97/4_5_97/mathland.htm">Ivars Peterson, "Sprouts for Spring," <em>Science News Online.</em></a></li>
<li></li>
</ul>
<h2 id="external-links">External links</h2>
<ul>
<li><a href="http://gameofsprouts.com/refs.html">The Complete (?) List of References for the Game of Sprouts</a></li>
<li><a href="http://www.wgosa.org/"><em>World Game of Sprouts Association.</em></a>, Danny Purvis, association of Sprouts players</li>
<li><a href="http://www.math.utah.edu/~alfeld/Sprouts/">The Game of Sprouts</a> at <a href="University_of_Utah" title="wikilink">University of Utah</a>, with an interactive applet for human-vs-human play.</li>
<li><a href="http://sprouts.tuxfamily.org">SproutsWiki</a>, web site of Julien Lemoine and Simon Viennot, with the source code and binaries of their program</li>
<li><a href="http://www.reisz.de/3graph_en.htm">3graph</a>, a freeware Sprouts program (Windows)</li>
</ul>

<p>"</p>

<p><a href="Category:Mathematical_games" title="wikilink">Category:Mathematical games</a> <a href="Category:Paper-and-pencil_games" title="wikilink">Category:Paper-and-pencil games</a></p>
<section class="footnotes">
<hr/>
<ol>
<li id="fn1"><a href="http://www.arxiv.org/abs/math.CO/0603027">1</a>, p. 21<a href="#fnref1">↩</a></li>
<li id="fn2"><a href="#fnref2">↩</a></li>
<li id="fn3"><a href="#fnref3">↩</a></li>
<li id="fn4"><a href="http://citeseer.csail.mit.edu/453452.html">Riccardo Focardi and Flamina Luccio, <em>A new analysis technique for the Sprouts Game</em>, 2001</a><a href="#fnref4">↩</a></li>
<li id="fn5"><a href="#fnref5">↩</a></li>
<li id="fn6"><a href="http://sprouts.tuxfamily.org/wiki/doku.php?id=records">Computation records of normal and misère Sprouts</a>, Julien Lemoine and Simon Viennot web site<a href="#fnref6">↩</a></li>
<li id="fn7"><a href="http://www.wgosa.org/article2009001.htm">A New Verified Misere Outcome</a>, Announcement of misère 16-spot outcome, WGOSA site<a href="#fnref7">↩</a></li>
<li id="fn8"><a href="#fnref8">↩</a></li>
<li id="fn9"></li>
</ol>
</section>
</body>
</html>
