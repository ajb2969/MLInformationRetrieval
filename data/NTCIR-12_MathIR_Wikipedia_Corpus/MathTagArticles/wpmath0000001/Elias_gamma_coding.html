<html lang="en">
<head>
<meta charset="utf-8"/>
<title offset="1664">Elias gamma coding</title>
<script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_SVG.js" type="text/javascript">
</script>
</head>
<body>
<h1>Elias gamma coding</h1>
<hr/>

<p><strong>Elias gamma code</strong> is a <a href="universal_code_(data_compression)" title="wikilink">universal code</a> encoding positive integers developed by <a href="Peter_Elias" title="wikilink">Peter Elias</a>.<a class="footnoteRef" href="#fn1" id="fnref1"><sup>1</sup></a> It is used most commonly when coding integers whose upper-bound cannot be determined beforehand.</p>
<h2 id="encoding">Encoding</h2>

<p>To code a <a class="uri" href="number" title="wikilink">number</a> <em>x</em>≥1:</p>
<ol>
<li>Let <em>N</em>=⌊log<sub>2</sub> <em>x</em>⌋ be the highest power of 2 it contains, so 2<sup><em>N</em></sup> ≤ <em>x</em> <em>N</em>+1.</li>
<li>Write out <em>N</em> zero bits, then</li>
<li>Append the <a href="binary_numeral_system" title="wikilink">binary</a> form of <em>x</em>, an <em>N</em>+1-bit binary number.</li>
</ol>

<p>An equivalent way to express the same process:</p>
<ol>
<li>Encode <em>N</em> in <a href="Unary_numeral_system" title="wikilink">unary</a>; that is, as <em>N</em> zeroes followed by a one.</li>
<li>Append the remaining <em>N</em> binary digits of <em>x</em> to this representation of <em>N</em>.</li>
</ol>

<p>To represent a number 

<math display="inline" id="Elias_gamma_coding:0">
<semantics>
<mi>x</mi>
<annotation-xml encoding="MathML-Content">
<ci>x</ci>
</annotation-xml>
<annotation encoding="application/x-tex">
   x
  </annotation>
</semantics>
</math>

, Elias gamma uses 

<math display="inline" id="Elias_gamma_coding:1">
<semantics>
<mrow>
<mrow>
<mn>2</mn>
<mrow>
<mo stretchy="false">⌊</mo>
<mrow>
<msub>
<mi>log</mi>
<mn>2</mn>
</msub>
<mrow>
<mo stretchy="false">(</mo>
<mi>x</mi>
<mo stretchy="false">)</mo>
</mrow>
</mrow>
<mo stretchy="false">⌋</mo>
</mrow>
</mrow>
<mo>+</mo>
<mn>1</mn>
</mrow>
<annotation-xml encoding="MathML-Content">
<apply>
<plus></plus>
<apply>
<times></times>
<cn type="integer">2</cn>
<apply>
<floor></floor>
<apply>
<apply>
<csymbol cd="ambiguous">subscript</csymbol>
<log></log>
<cn type="integer">2</cn>
</apply>
<ci>x</ci>
</apply>
</apply>
</apply>
<cn type="integer">1</cn>
</apply>
</annotation-xml>
<annotation encoding="application/x-tex">
   2\lfloor\log_{2}(x)\rfloor+1
  </annotation>
</semantics>
</math>

 bits.<a class="footnoteRef" href="#fn2" id="fnref2"><sup>2</sup></a></p>

<p>The code begins (the <a href="implied_probability" title="wikilink">implied probability</a> distribution for the code is added for clarity):</p>
<table>
<thead>
<tr class="header">
<th style="text-align: left;">

<p>Number</p></th>
<th style="text-align: left;">

<p>Binary</p></th>
<th style="text-align: left;">

<p>γ Encoding</p></th>
<th style="text-align: left;">

<p>Implied probability</p></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">

<p>1 = 2<sup>0</sup> + 0</p></td>
<td style="text-align: left;">

<p><code>1</code></p></td>
<td style="text-align: left;">

<p><code>1</code></p></td>
<td style="text-align: left;">

<p>1/2</p></td>
</tr>
<tr class="even">
<td style="text-align: left;"></td>
</tr>
<tr class="odd">
<td style="text-align: left;">

<p>2 = 2<sup>1</sup> + <em>0</em></p></td>
<td style="text-align: left;">

<p><code>1 0</code></p></td>
<td style="text-align: left;">

<p><code>0 1 0</code></p></td>
<td style="text-align: left;">

<p>1/8</p></td>
</tr>
<tr class="even">
<td style="text-align: left;">

<p>3 = 2<sup>1</sup> + <em>1</em></p></td>
<td style="text-align: left;">

<p><code>1 1</code></p></td>
<td style="text-align: left;">

<p><code>0 1 1</code></p></td>
<td style="text-align: left;">

<p>1/8</p></td>
</tr>
<tr class="odd">
<td style="text-align: left;"></td>
</tr>
<tr class="even">
<td style="text-align: left;">

<p>4 = 2<sup>2</sup> + <em>0</em></p></td>
<td style="text-align: left;">

<p><code>1 00</code></p></td>
<td style="text-align: left;">

<p><code>00 1 00</code></p></td>
<td style="text-align: left;">

<p>1/32</p></td>
</tr>
<tr class="odd">
<td style="text-align: left;">

<p>5 = 2<sup>2</sup> + <em>1</em></p></td>
<td style="text-align: left;">

<p><code>1 01</code></p></td>
<td style="text-align: left;">

<p><code>00 1 01</code></p></td>
<td style="text-align: left;">

<p>1/32</p></td>
</tr>
<tr class="even">
<td style="text-align: left;">

<p>6 = 2<sup>2</sup> + <em>2</em></p></td>
<td style="text-align: left;">

<p><code>1 10</code></p></td>
<td style="text-align: left;">

<p><code>00 1 10</code></p></td>
<td style="text-align: left;">

<p>1/32</p></td>
</tr>
<tr class="odd">
<td style="text-align: left;">

<p>7 = 2<sup>2</sup> + <em>3</em></p></td>
<td style="text-align: left;">

<p><code>1 11</code></p></td>
<td style="text-align: left;">

<p><code>00 1 11</code></p></td>
<td style="text-align: left;">

<p>1/32</p></td>
</tr>
<tr class="even">
<td style="text-align: left;"></td>
</tr>
<tr class="odd">
<td style="text-align: left;">

<p>8 = 2<sup>3</sup> + <em>0</em></p></td>
<td style="text-align: left;">

<p><code>1 000</code></p></td>
<td style="text-align: left;">

<p><code>000 1 000</code></p></td>
<td style="text-align: left;">

<p>1/128</p></td>
</tr>
<tr class="even">
<td style="text-align: left;">

<p>9 = 2<sup>3</sup> + <em>1</em></p></td>
<td style="text-align: left;">

<p><code>1 001</code></p></td>
<td style="text-align: left;">

<p><code>000 1 001</code></p></td>
<td style="text-align: left;">

<p>1/128</p></td>
</tr>
<tr class="odd">
<td style="text-align: left;">

<p>10 = 2<sup>3</sup> + <em>2</em></p></td>
<td style="text-align: left;">

<p><code>1 010</code></p></td>
<td style="text-align: left;">

<p><code>000 1 010</code></p></td>
<td style="text-align: left;">

<p>1/128</p></td>
</tr>
<tr class="even">
<td style="text-align: left;">

<p>11 = 2<sup>3</sup> + <em>3</em></p></td>
<td style="text-align: left;">

<p><code>1 011</code></p></td>
<td style="text-align: left;">

<p><code>000 1 011</code></p></td>
<td style="text-align: left;">

<p>1/128</p></td>
</tr>
<tr class="odd">
<td style="text-align: left;">

<p>12 = 2<sup>3</sup> + <em>4</em></p></td>
<td style="text-align: left;">

<p><code>1 100</code></p></td>
<td style="text-align: left;">

<p><code>000 1 100</code></p></td>
<td style="text-align: left;">

<p>1/128</p></td>
</tr>
<tr class="even">
<td style="text-align: left;">

<p>13 = 2<sup>3</sup> + <em>5</em></p></td>
<td style="text-align: left;">

<p><code>1 101</code></p></td>
<td style="text-align: left;">

<p><code>000 1 101</code></p></td>
<td style="text-align: left;">

<p>1/128</p></td>
</tr>
<tr class="odd">
<td style="text-align: left;">

<p>14 = 2<sup>3</sup> + <em>6</em></p></td>
<td style="text-align: left;">

<p><code>1 110</code></p></td>
<td style="text-align: left;">

<p><code>000 1 110</code></p></td>
<td style="text-align: left;">

<p>1/128</p></td>
</tr>
<tr class="even">
<td style="text-align: left;">

<p>15 = 2<sup>3</sup> + <em>7</em></p></td>
<td style="text-align: left;">

<p><code>1 111</code></p></td>
<td style="text-align: left;">

<p><code>000 1 111</code></p></td>
<td style="text-align: left;">

<p>1/128</p></td>
</tr>
<tr class="odd">
<td style="text-align: left;"></td>
</tr>
<tr class="even">
<td style="text-align: left;">

<p>16 = 2<sup>4</sup> + <em>0</em></p></td>
<td style="text-align: left;">

<p><code>1 0000</code></p></td>
<td style="text-align: left;">

<p><code>0000 1 0000</code></p></td>
<td style="text-align: left;">

<p>1/512</p></td>
</tr>
<tr class="odd">
<td style="text-align: left;">

<p>17 = 2<sup>4</sup> + <em>1</em></p></td>
<td style="text-align: left;">

<p><code>1 0001</code></p></td>
<td style="text-align: left;">

<p><code>0000 1 0001</code></p></td>
<td style="text-align: left;">

<p>1/512</p></td>
</tr>
</tbody>
</table>
<h2 id="decoding">Decoding</h2>

<p>To decode an Elias gamma-coded integer:</p>
<ol>
<li>Read and count 0s from the stream until you reach the first 1. Call this count of zeroes <em>N</em>.</li>
<li>Considering the one that was reached to be the first digit of the integer, with a value of 2<sup><em>N</em></sup>, read the remaining <em>N</em> digits of the integer.</li>
</ol>
<h2 id="uses">Uses</h2>

<p>Gamma coding is used in applications where the largest encoded value is not known ahead of time, or to <a href="Data_compression" title="wikilink">compress</a> data in which small values are much more frequent than large values.</p>

<p>Gamma coding is a building block in the <a href="Elias_delta_code" title="wikilink">Elias delta code</a>.</p>
<h2 id="generalizations">Generalizations</h2>

<p>Gamma coding does not code zero or negative integers. One way of handling zero is to add 1 before coding and then subtract 1 after decoding. Another way is to prefix each nonzero code with a 1 and then code zero as a single 0.</p>

<p>One way to code all integers is to set up a <a class="uri" href="bijection" title="wikilink">bijection</a>, mapping integers (0, −1, 1, −2, 2, −3, 3, ...) to (1, 2, 3, 4, 5, 6, 7, ...) before coding. In software, this is most easily done by mapping non-negative inputs to odd outputs, and negative inputs to even outputs, so the least-significant bit becomes an inverted <a href="sign_bit" title="wikilink">sign bit</a>:<br/>
<math display="inline" id="Elias_gamma_coding:2">
<semantics>
<mrow>
<mo>{</mo>
<mtable>
<mtr>
<mtd columnalign="left">
<mrow>
<mi>x</mi>
<mo>↦</mo>
<mrow>
<mrow>
<mn>2</mn>
<mi>x</mi>
</mrow>
<mo>+</mo>
<mn>1</mn>
</mrow>
</mrow>
</mtd>
<mtd columnalign="left">
<mrow>
<mrow>
<mpadded width="+3.3pt">
<mi>when</mi>
</mpadded>
<mi>x</mi>
</mrow>
<mo>≥</mo>
<mn>0</mn>
</mrow>
</mtd>
</mtr>
<mtr>
<mtd columnalign="left">
<mrow>
<mi>x</mi>
<mo>↦</mo>
<mrow>
<mo>-</mo>
<mrow>
<mn>2</mn>
<mi>x</mi>
</mrow>
</mrow>
</mrow>
</mtd>
<mtd columnalign="left">
<mrow>
<mrow>
<mpadded width="+3.3pt">
<mi>when</mi>
</mpadded>
<mi>x</mi>
</mrow>
<mo>&lt;</mo>
<mn>0</mn>
</mrow>
</mtd>
</mtr>
</mtable>
</mrow>
<annotation-xml encoding="MathML-Content">
<apply>
<csymbol cd="latexml">cases</csymbol>
<apply>
<csymbol cd="latexml">maps-to</csymbol>
<ci>x</ci>
<apply>
<plus></plus>
<apply>
<times></times>
<cn type="integer">2</cn>
<ci>x</ci>
</apply>
<cn type="integer">1</cn>
</apply>
</apply>
<apply>
<geq></geq>
<apply>
<times></times>
<ci>when</ci>
<ci>x</ci>
</apply>
<cn type="integer">0</cn>
</apply>
<apply>
<csymbol cd="latexml">maps-to</csymbol>
<ci>x</ci>
<apply>
<minus></minus>
<apply>
<times></times>
<cn type="integer">2</cn>
<ci>x</ci>
</apply>
</apply>
</apply>
<apply>
<lt></lt>
<apply>
<times></times>
<ci>when</ci>
<ci>x</ci>
</apply>
<cn type="integer">0</cn>
</apply>
</apply>
</annotation-xml>
<annotation encoding="application/x-tex">
   \begin{cases}x\mapsto 2x+1&amp;\mathrm{when~{}}x\geq 0\\
x\mapsto-2x&amp;\mathrm{when~{}}x&lt;0\\
\end{cases}
  </annotation>
</semantics>
</math>
</p>

<p><a href="Exponential-Golomb_coding" title="wikilink">Exponential-Golomb coding</a> generalizes the gamma code to integers with a "flatter" power-law distribution, just as <a href="Golomb_coding" title="wikilink">Golomb coding</a> generalizes the unary code. It involves dividing the number by a positive divisor, commonly a power of 2, writing the gamma code for one more than the quotient, and writing out the remainder in an ordinary binary code.</p>
<h2 id="references">References</h2>
<ul>
<li></li>
</ul>
<h2 id="see-also">See also</h2>
<ul>
<li><a href="Elias_delta_coding" title="wikilink">Elias delta coding</a></li>
<li><a href="Elias_omega_coding" title="wikilink">Elias omega coding</a></li>
</ul>

<p>"</p>

<p><a href="Category:Numeral_systems" title="wikilink">Category:Numeral systems</a> <a href="Category:Lossless_compression_algorithms" title="wikilink">Category:Lossless compression algorithms</a> <a href="Category:Articles_with_example_C_code" title="wikilink">Category:Articles with example C code</a></p>
<section class="footnotes">
<hr/>
<ol>
<li id="fn1"><a href="#fnref1">↩</a></li>
<li id="fn2"></li>
</ol>
</section>
</body>
</html>
